(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"1ahc":function(e,t,n){"use strict";n.d(t,"a",function(){return l});var i=n("tk/3"),a=n("JIr8"),r=n("fXoL"),o=n("9vc0");let l=(()=>{class e{constructor(e,t){this.http=e,this.errorSvc=t,this.endpoint="/scheduler",this.version="/api/v2",this.urlPrefix=`${this.endpoint}${this.version}`,this.configUrl="/config",this.intervalListUrl=this.urlPrefix+"/interval/all",this.addOneIntervalUrl=this.urlPrefix+"/interval",this.updateOneIntervalUrl=this.urlPrefix+"/interval",this.findOneIntervalByNameUrl=this.urlPrefix+"/interval/name/",this.deleteOneIntervalByNameUrl=this.urlPrefix+"/interval/name/",this.intervalActionListUrl=this.urlPrefix+"/intervalaction/all",this.addOneIntervalActionUrl=this.urlPrefix+"/intervalaction",this.updateOneIntervaActionlUrl=this.urlPrefix+"/intervalaction",this.findOneIntervalActionByNameUrl=this.urlPrefix+"/intervalaction/name/",this.deleteOneIntervalActionByNameUrl=this.urlPrefix+"/intervalaction/name/",this.httpPostOrPutJSONOptions={headers:new i.c({"Content-type":"application/json",Authorization:""})}}getConfig(){return this.http.get(`${this.urlPrefix}${this.configUrl}`).pipe(Object(a.a)(e=>this.errorSvc.handleError(e)))}findAllIntervalsPagination(e,t){return this.http.get(`${this.intervalListUrl}?offset=${e}&limit=${t}`).pipe(Object(a.a)(e=>this.errorSvc.handleError(e)))}addInterval(e){return this.http.post(""+this.addOneIntervalUrl,JSON.stringify([{apiVersion:"v2",interval:e}]),this.httpPostOrPutJSONOptions).pipe(Object(a.a)(e=>this.errorSvc.handleError(e)))}updateInterval(e){return this.http.patch(""+this.updateOneIntervalUrl,JSON.stringify([{apiVersion:"v2",interval:e}]),this.httpPostOrPutJSONOptions).pipe(Object(a.a)(e=>this.errorSvc.handleError(e)))}findIntervalByName(e){return this.http.get(`${this.findOneIntervalByNameUrl}${e}`).pipe(Object(a.a)(e=>this.errorSvc.handleError(e)))}deleteIntervalByName(e){return this.http.delete(`${this.deleteOneIntervalByNameUrl}${e}`).pipe(Object(a.a)(e=>this.errorSvc.handleError(e)))}findAllIntervalActionsPagination(e,t){return this.http.get(`${this.intervalActionListUrl}?offset=${e}&limit=${t}`).pipe(Object(a.a)(e=>this.errorSvc.handleError(e)))}addIntervalAction(e){return this.http.post(""+this.addOneIntervalActionUrl,JSON.stringify([{apiVersion:"v2",action:e}]),this.httpPostOrPutJSONOptions).pipe(Object(a.a)(e=>this.errorSvc.handleError(e)))}updateIntervalAction(e){return this.http.patch(""+this.updateOneIntervaActionlUrl,JSON.stringify([{apiVersion:"v2",action:e}]),this.httpPostOrPutJSONOptions).pipe(Object(a.a)(e=>this.errorSvc.handleError(e)))}findIntervalActionByName(e){return this.http.get(`${this.findOneIntervalActionByNameUrl}${e}`).pipe(Object(a.a)(e=>this.errorSvc.handleError(e)))}deleteIntervalActionByName(e){return this.http.delete(`${this.deleteOneIntervalActionByNameUrl}${e}`).pipe(Object(a.a)(e=>this.errorSvc.handleError(e)))}}return e.\u0275fac=function(t){return new(t||e)(r.Qb(i.a),r.Qb(o.a))},e.\u0275prov=r.Eb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},lzfX:function(e,t,n){"use strict";n.r(t),n.d(t,"SchedulerModule",function(){return Q});var i=n("ofXK"),a=n("3Pt+"),r=n("tyNb"),o=n("fXoL");let l=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Cb({type:e,selectors:[["app-scheduler"]],decls:11,vars:0,consts:[[1,"card"],[1,"card-header"],[1,"nav","nav-tabs","card-header-tabs","font-weight-bold"],[1,"nav-item"],["routerLink","./interval-center","routerLinkActive","active",1,"nav-link"],["routerLink","./interval-action-center","routerLinkActive","active",1,"nav-link"],[1,"card-body"]],template:function(e,t){1&e&&(o.Lb(0,"div",0),o.Lb(1,"div",1),o.Lb(2,"ul",2),o.Lb(3,"li",3),o.Lb(4,"a",4),o.mc(5,"Interval"),o.Kb(),o.Kb(),o.Lb(6,"li",3),o.Lb(7,"a",5),o.mc(8,"IntervalAction"),o.Kb(),o.Kb(),o.Kb(),o.Kb(),o.Lb(9,"div",6),o.Jb(10,"router-outlet"),o.Kb(),o.Kb())},directives:[r.h,r.g,r.j],styles:[""]}),e})(),d=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Cb({type:e,selectors:[["app-interval-center"]],decls:1,vars:0,template:function(e,t){1&e&&o.Jb(0,"router-outlet")},directives:[r.j],styles:[""]}),e})();var s=n("1ahc"),b=n("hsl2"),c=n("9vc0");function v(e,t){if(1&e){const e=o.Mb();o.Lb(0,"div",36),o.Lb(1,"div",37),o.Lb(2,"button",38),o.Tb("click",function(){return o.gc(e),o.Vb().refresh()}),o.Lb(3,"span"),o.Jb(4,"i",39),o.mc(5,"Refresh"),o.Kb(),o.Kb(),o.Lb(6,"button",40),o.Lb(7,"span"),o.Jb(8,"i",41),o.mc(9,"Add"),o.Kb(),o.Kb(),o.Lb(10,"button",42),o.Tb("click",function(){return o.gc(e),o.Vb().edit()}),o.Lb(11,"span"),o.Jb(12,"i",43),o.mc(13,"Edit"),o.Kb(),o.Kb(),o.Lb(14,"button",44),o.Tb("click",function(){return o.gc(e),o.Vb().deleteConfirm()}),o.Lb(15,"span"),o.Jb(16,"i",45),o.mc(17,"Delete"),o.Kb(),o.Kb(),o.Kb(),o.Kb()}if(2&e){const e=o.Vb();o.xb(10),o.Yb("disabled",1!==e.intervalSelected.length),o.xb(4),o.Yb("disabled",0===e.intervalSelected.length)}}function m(e,t){if(1&e){const e=o.Mb();o.Lb(0,"input",46),o.Tb("click",function(t){return o.gc(e),o.Vb().selectAll(t)}),o.Kb()}if(2&e){const e=o.Vb();o.Yb("checked",e.isCheckedAll)}}function p(e,t){if(1&e){const e=o.Mb();o.Lb(0,"tr"),o.Lb(1,"td"),o.Lb(2,"input",46),o.Tb("click",function(n){o.gc(e);const i=t.$implicit;return o.Vb().selectOne(n,i)}),o.Kb(),o.Kb(),o.Lb(3,"td",47),o.mc(4),o.Kb(),o.Lb(5,"td",47),o.mc(6),o.Kb(),o.Lb(7,"td"),o.mc(8),o.Kb(),o.Lb(9,"td"),o.mc(10),o.Kb(),o.Lb(11,"td"),o.mc(12),o.Kb(),o.Lb(13,"td"),o.mc(14),o.Kb(),o.Kb()}if(2&e){const e=t.$implicit,n=o.Vb();o.Ab("table-active",n.isChecked(e.name)),o.xb(2),o.Yb("checked",n.isChecked(e.name)),o.xb(2),o.nc(e.id),o.xb(2),o.nc(e.name),o.xb(2),o.nc(e.start),o.xb(2),o.nc(e.end),o.xb(2),o.nc(e.interval),o.xb(2),o.nc(!!e.runOnce)}}let h=(()=>{class e{constructor(e,t,n,i,a){this.schedulerSvc=e,this.msgSvc=t,this.route=n,this.router=i,this.errSvc=a,this.enableSelectAll=!0,this.singleIntervalSelectedEvent=new o.n,this.toolbars=!0,this.intervalList=[],this.intervalSelected=[],this.isCheckedAll=!1,this.pagination=1,this.pageLimit=5,this.pageOffset=(this.pagination-1)*this.pageLimit}ngOnInit(){this.route.queryParams.subscribe(e=>{e.intervalName?this.schedulerSvc.findIntervalByName(e.intervalName).subscribe(e=>{this.intervalList=[],this.intervalList.push(e.interval)}):this.findIntervalsPagination()})}refresh(){this.schedulerSvc.findAllIntervalsPagination(0,this.pageLimit).subscribe(e=>{this.errSvc.handleErrorForV2API(e)||(this.intervalList=e.intervals,this.msgSvc.success("refresh"),this.resetPagination())})}findIntervalsPagination(){this.schedulerSvc.findAllIntervalsPagination(this.pageOffset,this.pageLimit).subscribe(e=>{this.errSvc.handleErrorForV2API(e)||(this.intervalList=e.intervals)})}onSingleIntervalSelectedEmitter(){this.singleIntervalSelectedEvent.emit(this.singleIntervalSelected)}isSingleChecked(e){var t;return(null===(t=this.singleIntervalSelected)||void 0===t?void 0:t.name)===e}selectSingleInterval(e,t){e.target.checked?this.intervalList.forEach(e=>{e.name===t&&(this.singleIntervalSelected=e)}):this.singleIntervalSelected={},this.onSingleIntervalSelectedEmitter()}selectAll(e){if(e.target.checked)return this.intervalSelected=[],this.intervalList.forEach(e=>{this.intervalSelected.push(e),this.isChecked(e.name)}),void(this.isCheckedAll=!0);this.isCheckedAll=!1,this.intervalSelected=[],this.intervalList.forEach(e=>{this.isChecked(e.name)})}isChecked(e){return this.enableSelectAll?this.intervalSelected.findIndex(t=>t.name===e)>=0:this.isSingleChecked(e)}selectOne(e,t){if(this.enableSelectAll)return e.target.checked?(this.intervalSelected.push(t),void(this.intervalSelected.length===this.intervalList.length&&(this.isCheckedAll=!0))):(this.isCheckedAll=!1,this.isChecked(t.name),void this.intervalSelected.splice(this.intervalSelected.indexOf(t),1));this.selectSingleInterval(e,t.name)}edit(){this.router.navigate(["../edit-interval"],{relativeTo:this.route,queryParams:{intervalName:this.intervalSelected[0].name}})}deleteConfirm(){$("#deleteConfirmDialog").modal("show")}deleteIntervals(){this.intervalSelected.forEach((e,t)=>{this.schedulerSvc.deleteIntervalByName(e.name).subscribe(n=>{this.errSvc.handleErrorForV2API(n)||(this.intervalSelected.splice(t,1),this.intervalList.forEach((t,n)=>{t.name!==e.name||this.intervalList.splice(n,1)}),this.msgSvc.success("delete","name: "+e.name),this.resetPagination(),this.findIntervalsPagination())})}),$("#deleteConfirmDialog").modal("hide")}onPageSelected(){this.resetPagination(),this.setPagination(),this.findIntervalsPagination()}prePage(){this.setPagination(-1),this.findIntervalsPagination()}nextPage(){this.setPagination(1),this.findIntervalsPagination()}setPagination(e){1===e?this.pagination+=1:-1===e&&(this.pagination-=1),this.pageOffset=(this.pagination-1)*this.pageLimit}resetPagination(){this.pagination=1}}return e.\u0275fac=function(t){return new(t||e)(o.Ib(s.a),o.Ib(b.a),o.Ib(r.a),o.Ib(r.e),o.Ib(c.a))},e.\u0275cmp=o.Cb({type:e,selectors:[["app-interval-list"]],inputs:{enableSelectAll:"enableSelectAll",toolbars:"toolbars",singleIntervalSelected:"singleIntervalSelected"},outputs:{singleIntervalSelectedEvent:"singleIntervalSelectedEvent"},decls:62,vars:6,consts:[[1,"card"],[1,"card-header"],[1,"fa","fa-list","text-danger"],[1,"card-body","p-0","position-relative"],["class","bg-light px-2 py-2",4,"ngIf"],[1,"table-responsive"],[1,"table","table-hover","text-truncate"],[1,"thead-light"],["scope","col"],["type","checkbox","role","button",3,"checked","click",4,"ngIf"],[3,"table-active",4,"ngFor","ngForOf"],[1,"card-footer","text-muted","p-1"],["aria-label","navigation"],[1,"pagination","justify-content-end","m-0"],[1,"page-item","mr-2","mt-1"],[1,"align-middle"],[1,"page-item","mr-2"],["name","pageLimit","id","pageLimit",1,"form-control",3,"ngModel","ngModelChange"],["value","5"],["value","10"],["value","20"],[1,"page-item","mr-1"],[1,"page-link","btn",3,"disabled","click"],[1,"fa","fa-angle-double-left"],[1,"page-item"],[1,"fa","fa-angle-double-right"],["id","deleteConfirmDialog","data-backdrop","static","data-keyboard","false","tabindex","-1","aria-labelledby","deleteConfirmDialogLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","deleteConfirmDialogLabel",1,"modal-title","text-danger"],[1,"fa","fa-warning"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],["type","button",1,"btn","btn-danger",3,"click"],[1,"bg-light","px-2","py-2"],["role","group",1,"btn-group","btn-group-sm"],[1,"btn","btn-primary",3,"click"],[1,"fa","fa-refresh","mr-1"],["type","button","routerLink","../add-interval",1,"btn","btn-info"],[1,"fa","fa-plus","mr-1"],["type","button",1,"btn","btn-success",3,"disabled","click"],[1,"fa","fa-edit","mr-1"],["type","button",1,"btn","btn-danger",3,"disabled","click"],[1,"fa","fa-trash","mr-1"],["type","checkbox","role","button",3,"checked","click"],[1,"user-select-all"]],template:function(e,t){1&e&&(o.Lb(0,"div",0),o.Lb(1,"div",1),o.Jb(2,"i",2),o.mc(3," Interval List "),o.Kb(),o.Lb(4,"div",3),o.kc(5,v,18,2,"div",4),o.Lb(6,"div",5),o.Lb(7,"table",6),o.Lb(8,"thead",7),o.Lb(9,"tr"),o.Lb(10,"th",8),o.kc(11,m,1,1,"input",9),o.Kb(),o.Lb(12,"th",8),o.mc(13,"ID"),o.Kb(),o.Lb(14,"th",8),o.mc(15,"Name"),o.Kb(),o.Lb(16,"th",8),o.mc(17,"Start"),o.Kb(),o.Lb(18,"th",8),o.mc(19,"End"),o.Kb(),o.Lb(20,"th",8),o.mc(21,"Interval"),o.Kb(),o.Lb(22,"th",8),o.mc(23,"RunOnce"),o.Kb(),o.Kb(),o.Kb(),o.Lb(24,"tbody"),o.kc(25,p,15,9,"tr",10),o.Kb(),o.Kb(),o.Kb(),o.Kb(),o.Lb(26,"div",11),o.Lb(27,"nav",12),o.Lb(28,"ul",13),o.Lb(29,"li",14),o.Lb(30,"span",15),o.mc(31,"items per page"),o.Kb(),o.Kb(),o.Lb(32,"li",16),o.Lb(33,"select",17),o.Tb("ngModelChange",function(e){return t.pageLimit=e})("ngModelChange",function(){return t.onPageSelected()}),o.Lb(34,"option",18),o.mc(35,"5"),o.Kb(),o.Lb(36,"option",19),o.mc(37,"10"),o.Kb(),o.Lb(38,"option",20),o.mc(39,"20"),o.Kb(),o.Kb(),o.Kb(),o.Lb(40,"li",21),o.Lb(41,"button",22),o.Tb("click",function(){return t.prePage()}),o.Jb(42,"i",23),o.mc(43," Previous"),o.Kb(),o.Kb(),o.Lb(44,"li",24),o.Lb(45,"button",22),o.Tb("click",function(){return t.nextPage()}),o.mc(46,"Next "),o.Jb(47,"i",25),o.Kb(),o.Kb(),o.Kb(),o.Kb(),o.Kb(),o.Kb(),o.Lb(48,"div",26),o.Lb(49,"div",27),o.Lb(50,"div",28),o.Lb(51,"div",29),o.Lb(52,"h5",30),o.Jb(53,"i",31),o.mc(54," Warning "),o.Kb(),o.Kb(),o.Lb(55,"div",32),o.mc(56," Associated actions will also be deleted and the data will be permanently erased!!! Are you sure to execute delete operation\uff1f "),o.Kb(),o.Lb(57,"div",33),o.Lb(58,"button",34),o.mc(59,"Cancel"),o.Kb(),o.Lb(60,"button",35),o.Tb("click",function(){return t.deleteIntervals()}),o.mc(61,"Confirm"),o.Kb(),o.Kb(),o.Kb(),o.Kb(),o.Kb()),2&e&&(o.xb(5),o.Yb("ngIf",t.toolbars),o.xb(6),o.Yb("ngIf",t.enableSelectAll),o.xb(14),o.Yb("ngForOf",t.intervalList),o.xb(8),o.Yb("ngModel",t.pageLimit),o.xb(8),o.Yb("disabled",1===t.pagination),o.xb(4),o.Yb("disabled",t.pageLimit>t.intervalList.length))},directives:[i.k,i.j,a.l,a.d,a.g,a.h,a.m,r.f],styles:[".btn[disabled][_ngcontent-%COMP%]:hover{cursor:not-allowed}"]}),e})();var u=n("X2Dv");let g=(()=>{class e{constructor(e,t,n,i,a){this.schedulerSvc=e,this.msgSvc=t,this.route=n,this.router=i,this.errSvc=a,this.interval={}}ngOnInit(){$('[data-toggle="popover"]').popover({trigger:"hover"}),this.initDatePickr()}initDatePickr(){this.calendarStart=Object(u.a)("input[name='intervalStart']",{dateFormat:"YmdTHiS",enableTime:!0,enableSeconds:!0,time_24hr:!0,allowInput:!1}),this.calendarEnd=Object(u.a)("input[name='intervalEnd']",{dateFormat:"YmdTHiS",enableTime:!0,enableSeconds:!0,time_24hr:!0,allowInput:!1})}submit(){this.schedulerSvc.addInterval(this.interval).subscribe(e=>{this.errSvc.handleErrorForV2API(e)||(this.msgSvc.success("create new interval","name: "+this.interval.name),this.router.navigate(["../interval-list"],{relativeTo:this.route}))})}ngOnDestroy(){$('[data-toggle="popover"]').popover("dispose")}}return e.\u0275fac=function(t){return new(t||e)(o.Ib(s.a),o.Ib(b.a),o.Ib(r.a),o.Ib(r.e),o.Ib(c.a))},e.\u0275cmp=o.Cb({type:e,selectors:[["app-add-interval"]],decls:53,vars:16,consts:[[1,"card"],[1,"card-header"],[1,"fa","fa-plus","text-danger"],[1,"btn","btn-sm","btn-success","float-right",3,"disabled","click"],[1,"card-body"],[1,"form-group","row","has-validation"],["for","intervalName","required","",1,"col-md-2","col-form-label"],[1,"col-md-10"],["type","text","id","validationIntervalName","name","intervalName","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","validationIntervalNameFeedback",1,"invalid-feedback"],[1,"form-group","row"],["for","intervalStart",1,"col-md-2","col-form-label"],[1,"input-group","mb-3"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"fa","fa-calendar"],["type","text","name","intervalStart",1,"form-control",3,"ngModel","ngModelChange"],["for","intervalEnd",1,"col-md-2","col-form-label"],["type","text","name","intervalEnd",1,"form-control",3,"ngModel","ngModelChange"],["for","intervalInterval",1,"col-md-2","col-form-label"],[1,"mr-2"],["role","button","data-html","true","data-animation","true","data-trigger","focus","data-toggle","popover","title","format tips","data-content",'Interval indicates how often the specific resource needs to be polled. It represents as a duration string. The format of this field is to be an unsigned integer followed by a unit which may be "ns", "us" (or "\xb5s"), "ms", "s", "m", "h" representing nanoseconds, microseconds, milliseconds, seconds, minutes or hours. Eg, "100ms", "24h"',1,"fa","fa-question-circle-o","fa-lg"],["type","text","name","intervalInterval","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","validationIntervalIntervalFeedback",1,"invalid-feedback"],["for","intervalRunOnce",1,"col-md-2","col-form-label"],["name","intervalRunOnce",1,"custom-select",3,"ngModel","ngModelChange"],[3,"ngValue"]],template:function(e,t){1&e&&(o.Lb(0,"div",0),o.Lb(1,"div",1),o.Jb(2,"i",2),o.mc(3," Add Interval "),o.Lb(4,"button",3),o.Tb("click",function(){return t.submit()}),o.mc(5,"Submit"),o.Kb(),o.Kb(),o.Lb(6,"div",4),o.Lb(7,"form"),o.Lb(8,"div",5),o.Lb(9,"label",6),o.mc(10,"Name"),o.Kb(),o.Lb(11,"div",7),o.Lb(12,"input",8),o.Tb("ngModelChange",function(e){return t.interval.name=e}),o.Kb(),o.Lb(13,"div",9),o.Lb(14,"small"),o.mc(15,"the interval name can't be empty!"),o.Kb(),o.Kb(),o.Kb(),o.Kb(),o.Lb(16,"div",10),o.Lb(17,"label",11),o.mc(18,"Start"),o.Kb(),o.Lb(19,"div",7),o.Lb(20,"div",12),o.Lb(21,"div",13),o.Lb(22,"span",14),o.Jb(23,"i",15),o.Kb(),o.Kb(),o.Lb(24,"input",16),o.Tb("ngModelChange",function(e){return t.interval.start=e}),o.Kb(),o.Kb(),o.Kb(),o.Kb(),o.Lb(25,"div",10),o.Lb(26,"label",17),o.mc(27,"End"),o.Kb(),o.Lb(28,"div",7),o.Lb(29,"div",12),o.Lb(30,"div",13),o.Lb(31,"span",14),o.Jb(32,"i",15),o.Kb(),o.Kb(),o.Lb(33,"input",18),o.Tb("ngModelChange",function(e){return t.interval.end=e}),o.Kb(),o.Kb(),o.Kb(),o.Kb(),o.Lb(34,"div",10),o.Lb(35,"label",19),o.Lb(36,"span",20),o.mc(37,"Interval"),o.Kb(),o.Jb(38,"span",21),o.Kb(),o.Lb(39,"div",7),o.Lb(40,"input",22),o.Tb("ngModelChange",function(e){return t.interval.interval=e}),o.Kb(),o.Lb(41,"div",23),o.Lb(42,"small"),o.mc(43,"the interval interval can't be empty!"),o.Kb(),o.Kb(),o.Kb(),o.Kb(),o.Lb(44,"div",10),o.Lb(45,"label",24),o.mc(46,"RunOnce"),o.Kb(),o.Lb(47,"div",7),o.Lb(48,"select",25),o.Tb("ngModelChange",function(e){return t.interval.runOnce=e}),o.Lb(49,"option",26),o.mc(50,"false"),o.Kb(),o.Lb(51,"option",26),o.mc(52,"true"),o.Kb(),o.Kb(),o.Kb(),o.Kb(),o.Kb(),o.Kb(),o.Kb()),2&e&&(o.xb(4),o.Yb("disabled",!t.interval.name||!t.interval.interval),o.xb(8),o.Ab("is-invalid",!t.interval.name)("is-valid",t.interval.name),o.Yb("ngModel",t.interval.name),o.xb(12),o.Yb("ngModel",t.interval.start),o.xb(9),o.Yb("ngModel",t.interval.end),o.xb(7),o.Ab("is-invalid",!t.interval.interval)("is-valid",t.interval.interval),o.Yb("ngModel",t.interval.interval),o.xb(8),o.Yb("ngModel",t.interval.runOnce),o.xb(1),o.Yb("ngValue",!1),o.xb(2),o.Yb("ngValue",!0))},directives:[a.n,a.e,a.f,a.a,a.k,a.d,a.g,a.l,a.h,a.m],styles:[".btn[disabled][_ngcontent-%COMP%]:hover{cursor:not-allowed}"]}),e})();function f(e,t){if(1&e){const e=o.Mb();o.Lb(0,"form"),o.Lb(1,"div",6),o.Lb(2,"label",7),o.mc(3,"Name"),o.Kb(),o.Lb(4,"div",8),o.Lb(5,"input",9),o.Tb("ngModelChange",function(t){return o.gc(e),o.Vb().interval.name=t}),o.Kb(),o.Lb(6,"div",10),o.Lb(7,"small"),o.mc(8,"the interval name can't be empty!"),o.Kb(),o.Kb(),o.Kb(),o.Kb(),o.Lb(9,"div",11),o.Lb(10,"label",12),o.mc(11,"Start"),o.Kb(),o.Lb(12,"div",8),o.Lb(13,"div",13),o.Lb(14,"div",14),o.Lb(15,"span",15),o.Jb(16,"i",16),o.Kb(),o.Kb(),o.Lb(17,"input",17),o.Tb("ngModelChange",function(t){return o.gc(e),o.Vb().interval.start=t}),o.Kb(),o.Kb(),o.Kb(),o.Kb(),o.Lb(18,"div",11),o.Lb(19,"label",18),o.mc(20,"End"),o.Kb(),o.Lb(21,"div",8),o.Lb(22,"div",13),o.Lb(23,"div",14),o.Lb(24,"span",15),o.Jb(25,"i",16),o.Kb(),o.Kb(),o.Lb(26,"input",19),o.Tb("ngModelChange",function(t){return o.gc(e),o.Vb().interval.end=t}),o.Kb(),o.Kb(),o.Kb(),o.Kb(),o.Lb(27,"div",11),o.Lb(28,"label",20),o.Lb(29,"span",21),o.mc(30,"Interval"),o.Kb(),o.Jb(31,"span",22),o.Kb(),o.Lb(32,"div",8),o.Lb(33,"input",23),o.Tb("ngModelChange",function(t){return o.gc(e),o.Vb().interval.interval=t}),o.Kb(),o.Lb(34,"div",24),o.Lb(35,"small"),o.mc(36,"the interval interval can't be empty!"),o.Kb(),o.Kb(),o.Kb(),o.Kb(),o.Lb(37,"div",11),o.Lb(38,"label",25),o.mc(39,"RunOnce"),o.Kb(),o.Lb(40,"div",8),o.Lb(41,"select",26),o.Tb("ngModelChange",function(t){return o.gc(e),o.Vb().interval.runOnce=t}),o.Lb(42,"option",27),o.mc(43,"false"),o.Kb(),o.Lb(44,"option",27),o.mc(45,"true"),o.Kb(),o.Kb(),o.Kb(),o.Kb(),o.Kb()}if(2&e){const e=o.Vb();o.xb(5),o.Ab("is-invalid",!e.interval.name)("is-valid",e.interval.name),o.Yb("ngModel",e.interval.name),o.xb(12),o.Yb("ngModel",e.interval.start),o.xb(9),o.Yb("ngModel",e.interval.end),o.xb(7),o.Ab("is-invalid",!e.interval.interval)("is-valid",e.interval.interval),o.Yb("ngModel",e.interval.interval),o.xb(8),o.Yb("ngModel",e.interval.runOnce),o.xb(1),o.Yb("ngValue",!1),o.xb(2),o.Yb("ngValue",!0)}}let L=(()=>{class e{constructor(e,t,n,i,a){this.schedulerSvc=e,this.msgSvc=t,this.route=n,this.router=i,this.errSvc=a}ngOnInit(){this.route.queryParams.subscribe(e=>{e.intervalName&&this.schedulerSvc.findIntervalByName(e.intervalName).subscribe(e=>{this.errSvc.handleErrorForV2API(e)||(this.interval=e.interval,this.interval.runOnce=!!this.interval.runOnce,setTimeout(()=>{this.initDatePickr()},300))})})}initDatePickr(){$('[data-toggle="popover"]').popover({trigger:"hover"}),this.calendarStart=Object(u.a)("input[name='intervalStart']",{dateFormat:"YmdTHiS",enableTime:!0,enableSeconds:!0,time_24hr:!0,allowInput:!1}),this.calendarEnd=Object(u.a)("input[name='intervalEnd']",{dateFormat:"YmdTHiS",enableTime:!0,enableSeconds:!0,time_24hr:!0,allowInput:!1})}update(){this.schedulerSvc.updateInterval(this.interval).subscribe(e=>{var t;this.errSvc.handleErrorForV2API(e)||(this.msgSvc.success("update interval","name: "+(null===(t=this.interval)||void 0===t?void 0:t.name)),this.router.navigate(["../interval-list"],{relativeTo:this.route}))})}ngOnDestroy(){$('[data-toggle="popover"]').popover("dispose")}}return e.\u0275fac=function(t){return new(t||e)(o.Ib(s.a),o.Ib(b.a),o.Ib(r.a),o.Ib(r.e),o.Ib(c.a))},e.\u0275cmp=o.Cb({type:e,selectors:[["app-edit-interval"]],decls:8,vars:3,consts:[[1,"card"],[1,"card-header"],[1,"fa","fa-edit","text-danger"],[1,"btn","btn-sm","btn-success","float-right",3,"disabled","click"],[1,"card-body"],[4,"ngIf"],[1,"form-group","row","has-validation"],["for","intervalName","required","",1,"col-md-2","col-form-label"],[1,"col-md-10"],["type","text","name","intervalName",1,"form-control",3,"ngModel","ngModelChange"],["id","validationIntervalNameFeedback",1,"invalid-feedback"],[1,"form-group","row"],["for","intervalStart",1,"col-md-2","col-form-label"],[1,"input-group","mb-3"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"fa","fa-calendar"],["type","text","name","intervalStart",1,"form-control",3,"ngModel","ngModelChange"],["for","intervalEnd2",1,"col-md-2","col-form-label"],["type","text","name","intervalEnd",1,"form-control",3,"ngModel","ngModelChange"],["for","intervalInterval",1,"col-md-2","col-form-label"],[1,"mr-2"],["role","button","data-html","true","data-animation","true","data-trigger","focus","data-toggle","popover","title","ISO8601 duration format","data-content",'Interval indicates how often the specific resource needs to be polled. It represents as a duration string. The format of this field is to be an unsigned integer followed by a unit which may be "ns", "us" (or "\xb5s"), "ms", "s", "m", "h" representing nanoseconds, microseconds, milliseconds, seconds, minutes or hours. Eg, "100ms", "24h"',1,"fa","fa-question-circle-o","fa-lg"],["type","text","name","intervalInterval","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","validationIntervalIntervalFeedback",1,"invalid-feedback"],["for","intervalRunOnce",1,"col-md-2","col-form-label"],["name","intervalRunOnce",1,"custom-select",3,"ngModel","ngModelChange"],[3,"ngValue"]],template:function(e,t){1&e&&(o.Lb(0,"div",0),o.Lb(1,"div",1),o.Jb(2,"i",2),o.mc(3),o.Lb(4,"button",3),o.Tb("click",function(){return t.update()}),o.mc(5,"Submit"),o.Kb(),o.Kb(),o.Lb(6,"div",4),o.kc(7,f,46,15,"form",5),o.Kb(),o.Kb()),2&e&&(o.xb(3),o.oc(" Edit Interval ",null==t.interval?null:t.interval.name," "),o.xb(1),o.Yb("disabled",!(null!=t.interval&&t.interval.name)),o.xb(3),o.Yb("ngIf",t.interval))},directives:[i.k,a.n,a.e,a.f,a.a,a.d,a.g,a.k,a.l,a.h,a.m],styles:[".btn[disabled][_ngcontent-%COMP%]:hover{cursor:not-allowed}"]}),e})(),K=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Cb({type:e,selectors:[["app-interval-action-center"]],decls:1,vars:0,template:function(e,t){1&e&&o.Jb(0,"router-outlet")},directives:[r.j],styles:[""]}),e})();const A=function(e){return{intervalName:e}};function M(e,t){if(1&e){const e=o.Mb();o.Lb(0,"tr"),o.Lb(1,"td"),o.Lb(2,"input",18),o.Tb("click",function(n){o.gc(e);const i=t.$implicit;return o.Vb().selectOne(n,i)}),o.Kb(),o.Kb(),o.Lb(3,"td",45),o.mc(4),o.Kb(),o.Lb(5,"td",45),o.mc(6),o.Kb(),o.Lb(7,"td"),o.Lb(8,"a",46),o.mc(9),o.Kb(),o.Kb(),o.Lb(10,"td"),o.mc(11),o.Kb(),o.Kb()}if(2&e){const e=t.$implicit,n=o.Vb();o.Ab("table-active",n.isChecked(e.name)),o.xb(2),o.Yb("checked",n.isChecked(e.name)),o.xb(2),o.nc(e.id),o.xb(2),o.nc(e.name),o.xb(2),o.Yb("queryParams",o.dc(8,A,e.intervalName)),o.xb(1),o.nc(e.intervalName),o.xb(2),o.nc(e.address.type)}}let T=(()=>{class e{constructor(e,t,n,i){this.schedulerSvc=e,this.msgSvc=t,this.route=n,this.router=i,this.intervalActionList=[],this.intervalActionSelected=[],this.isCheckedAll=!1,this.pagination=1,this.pageLimit=5,this.pageOffset=(this.pagination-1)*this.pageLimit}ngOnInit(){this.route.queryParams.subscribe(e=>{e.intervalName||this.findIntervalActionsPagination()})}refresh(){this.schedulerSvc.findAllIntervalActionsPagination(0,this.pageLimit).subscribe(e=>{this.intervalActionList=e.actions,this.msgSvc.success("refresh"),this.resetPagination()})}findIntervalActionsPagination(){this.schedulerSvc.findAllIntervalActionsPagination(this.pageOffset,this.pageLimit).subscribe(e=>{this.intervalActionList=e.actions})}selectAll(e){if(e.target.checked)return this.intervalActionSelected=[],this.intervalActionList.forEach(e=>{this.intervalActionSelected.push(e),this.isChecked(e.name)}),void(this.isCheckedAll=!0);this.isCheckedAll=!1,this.intervalActionSelected=[],this.intervalActionList.forEach(e=>{this.isChecked(e.name)})}isChecked(e){return this.intervalActionSelected.findIndex(t=>t.name===e)>=0}selectOne(e,t){if(e.target.checked)return this.intervalActionSelected.push(t),void(this.intervalActionSelected.length===this.intervalActionList.length&&(this.isCheckedAll=!0));this.isCheckedAll=!1,this.isChecked(t.name),this.intervalActionSelected.splice(this.intervalActionSelected.indexOf(t),1)}edit(){this.router.navigate(["../edit-interval-action"],{relativeTo:this.route,queryParams:{intervalActionName:this.intervalActionSelected[0].name}})}deleteConfirm(){$("#deleteConfirmDialog").modal("show")}deleteIntervalActions(){this.intervalActionSelected.forEach((e,t)=>{this.schedulerSvc.deleteIntervalActionByName(e.name).subscribe(()=>{this.intervalActionList.forEach((t,n)=>{t.name!==e.name||this.intervalActionList.splice(n,1)}),this.intervalActionSelected.splice(t,1),this.msgSvc.success("delete","name: "+e.name),this.resetPagination(),this.findIntervalActionsPagination()})}),$("#deleteConfirmDialog").modal("hide")}onPageSelected(){this.resetPagination(),this.setPagination(),this.findIntervalActionsPagination()}prePage(){this.setPagination(-1),this.findIntervalActionsPagination()}nextPage(){this.setPagination(1),this.findIntervalActionsPagination()}setPagination(e){1===e?this.pagination+=1:-1===e&&(this.pagination-=1),this.pageOffset=(this.pagination-1)*this.pageLimit}resetPagination(){this.pagination=1}}return e.\u0275fac=function(t){return new(t||e)(o.Ib(s.a),o.Ib(b.a),o.Ib(r.a),o.Ib(r.e))},e.\u0275cmp=o.Cb({type:e,selectors:[["app-interval-action-list"]],decls:75,vars:7,consts:[[1,"card"],[1,"card-header"],[1,"fa","fa-list","text-danger"],[1,"card-body","p-0","position-relative"],[1,"bg-light","px-2","py-2"],["role","group",1,"btn-group","btn-group-sm"],[1,"btn","btn-primary",3,"click"],[1,"fa","fa-refresh","mr-1"],["type","button","routerLink","../add-interval-action",1,"btn","btn-info"],[1,"fa","fa-plus","mr-1"],["type","button",1,"btn","btn-success",3,"disabled","click"],[1,"fa","fa-edit","mr-1"],["type","button",1,"btn","btn-danger",3,"disabled","click"],[1,"fa","fa-trash","mr-1"],[1,"table-responsive"],[1,"table","table-hover","text-truncate"],[1,"thead-light"],["scope","col"],["type","checkbox","role","button",3,"checked","click"],[3,"table-active",4,"ngFor","ngForOf"],[1,"card-footer","text-muted","p-1"],["aria-label","navigation"],[1,"pagination","justify-content-end","m-0"],[1,"page-item","mr-2","mt-1"],[1,"align-middle"],[1,"page-item","mr-2"],["name","pageLimit","id","pageLimit",1,"form-control",3,"ngModel","ngModelChange"],["value","5"],["value","10"],["value","20"],[1,"page-item","mr-1"],[1,"page-link","btn",3,"disabled","click"],[1,"fa","fa-angle-double-left"],[1,"page-item"],[1,"fa","fa-angle-double-right"],["id","deleteConfirmDialog","data-backdrop","static","data-keyboard","false","tabindex","-1","aria-labelledby","deleteConfirmDialogLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","deleteConfirmDialogLabel",1,"modal-title","text-danger"],[1,"fa","fa-warning"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],["type","button",1,"btn","btn-danger",3,"click"],[1,"user-select-all"],["routerLink","../../interval-center",3,"queryParams"]],template:function(e,t){1&e&&(o.Lb(0,"div",0),o.Lb(1,"div",1),o.Jb(2,"i",2),o.mc(3," Interval Action List "),o.Kb(),o.Lb(4,"div",3),o.Lb(5,"div",4),o.Lb(6,"div",5),o.Lb(7,"button",6),o.Tb("click",function(){return t.refresh()}),o.Lb(8,"span"),o.Jb(9,"i",7),o.mc(10,"Refresh"),o.Kb(),o.Kb(),o.Lb(11,"button",8),o.Lb(12,"span"),o.Jb(13,"i",9),o.mc(14,"Add"),o.Kb(),o.Kb(),o.Lb(15,"button",10),o.Tb("click",function(){return t.edit()}),o.Lb(16,"span"),o.Jb(17,"i",11),o.mc(18,"Edit"),o.Kb(),o.Kb(),o.Lb(19,"button",12),o.Tb("click",function(){return t.deleteConfirm()}),o.Lb(20,"span"),o.Jb(21,"i",13),o.mc(22,"Delete"),o.Kb(),o.Kb(),o.Kb(),o.Kb(),o.Lb(23,"div",14),o.Lb(24,"table",15),o.Lb(25,"thead",16),o.Lb(26,"tr"),o.Lb(27,"th",17),o.Lb(28,"input",18),o.Tb("click",function(e){return t.selectAll(e)}),o.Kb(),o.Kb(),o.Lb(29,"th",17),o.mc(30,"ID"),o.Kb(),o.Lb(31,"th",17),o.mc(32,"Name"),o.Kb(),o.Lb(33,"th",17),o.mc(34,"AssociatedInterval"),o.Kb(),o.Lb(35,"th",17),o.mc(36,"AddressType"),o.Kb(),o.Kb(),o.Kb(),o.Lb(37,"tbody"),o.kc(38,M,12,10,"tr",19),o.Kb(),o.Kb(),o.Kb(),o.Kb(),o.Lb(39,"div",20),o.Lb(40,"nav",21),o.Lb(41,"ul",22),o.Lb(42,"li",23),o.Lb(43,"span",24),o.mc(44,"items per page"),o.Kb(),o.Kb(),o.Lb(45,"li",25),o.Lb(46,"select",26),o.Tb("ngModelChange",function(e){return t.pageLimit=e})("ngModelChange",function(){return t.onPageSelected()}),o.Lb(47,"option",27),o.mc(48,"5"),o.Kb(),o.Lb(49,"option",28),o.mc(50,"10"),o.Kb(),o.Lb(51,"option",29),o.mc(52,"20"),o.Kb(),o.Kb(),o.Kb(),o.Lb(53,"li",30),o.Lb(54,"button",31),o.Tb("click",function(){return t.prePage()}),o.Jb(55,"i",32),o.mc(56," Previous"),o.Kb(),o.Kb(),o.Lb(57,"li",33),o.Lb(58,"button",31),o.Tb("click",function(){return t.nextPage()}),o.mc(59,"Next "),o.Jb(60,"i",34),o.Kb(),o.Kb(),o.Kb(),o.Kb(),o.Kb(),o.Kb(),o.Lb(61,"div",35),o.Lb(62,"div",36),o.Lb(63,"div",37),o.Lb(64,"div",38),o.Lb(65,"h5",39),o.Jb(66,"i",40),o.mc(67," Warning "),o.Kb(),o.Kb(),o.Lb(68,"div",41),o.mc(69," The data will be permanently erased!!! Are you sure to execute delete operation\uff1f "),o.Kb(),o.Lb(70,"div",42),o.Lb(71,"button",43),o.mc(72,"Cancel"),o.Kb(),o.Lb(73,"button",44),o.Tb("click",function(){return t.deleteIntervalActions()}),o.mc(74,"Confirm"),o.Kb(),o.Kb(),o.Kb(),o.Kb(),o.Kb()),2&e&&(o.xb(15),o.Yb("disabled",1!==t.intervalActionSelected.length),o.xb(4),o.Yb("disabled",0===t.intervalActionSelected.length),o.xb(9),o.Yb("checked",t.isCheckedAll),o.xb(10),o.Yb("ngForOf",t.intervalActionList),o.xb(8),o.Yb("ngModel",t.pageLimit),o.xb(8),o.Yb("disabled",1===t.pagination),o.xb(4),o.Yb("disabled",t.pageLimit>t.intervalActionList.length))},directives:[r.f,i.j,a.l,a.d,a.g,a.h,a.m,r.h],styles:[""]}),e})();function y(e,t){if(1&e){const e=o.Mb();o.Lb(0,"div",10),o.Tb("click",function(t){return o.gc(e),o.Vb().close(t)}),o.Kb()}}let S=(()=>{class e{constructor(){this.visible=!1,this.validate=!1,this.intervalSelectedEvent=new o.n,this.selectedInterval={}}ngOnInit(){}onSingleIntervalSelected(e){this.selectedInterval=e,this.intervalSelectedEvent.emit(e)}close(e){e.stopPropagation(),this.visible=!1}toggle(e){e.stopImmediatePropagation(),this.visible=!this.visible}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Cb({type:e,selectors:[["app-interval-combo-list"]],inputs:{validate:"validate",selectedInterval:"selectedInterval"},outputs:{intervalSelectedEvent:"intervalSelectedEvent"},decls:12,vars:11,consts:[["class","combo-shielder",3,"click",4,"ngIf"],[1,"combo"],[1,"input-group","has-validation",3,"click"],["type","text","name","selectedInterval","readonly","readonly","maxlength","0","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-group-append"],["role","button",1,"input-group-text"],[1,"fa","fa-chevron-down"],["id","validationIntervalNameFeedback",1,"invalid-feedback"],[1,"combo-body","shadow","rounded"],[3,"singleIntervalSelected","enableSelectAll","toolbars","singleIntervalSelectedEvent"],[1,"combo-shielder",3,"click"]],template:function(e,t){1&e&&(o.kc(0,y,1,0,"div",0),o.Lb(1,"div",1),o.Lb(2,"div",2),o.Tb("click",function(e){return t.toggle(e)}),o.Lb(3,"input",3),o.Tb("ngModelChange",function(e){return t.selectedInterval.name=e}),o.Kb(),o.Lb(4,"div",4),o.Lb(5,"span",5),o.Jb(6,"i",6),o.Kb(),o.Kb(),o.Lb(7,"div",7),o.Lb(8,"small"),o.mc(9,"the interval name can't be empty!"),o.Kb(),o.Kb(),o.Kb(),o.Lb(10,"div",8),o.Lb(11,"app-interval-list",9),o.Tb("singleIntervalSelectedEvent",function(e){return t.onSingleIntervalSelected(e)}),o.Kb(),o.Kb(),o.Kb()),2&e&&(o.Yb("ngIf",t.visible),o.xb(3),o.Ab("is-invalid",!t.selectedInterval.name&&t.validate)("is-valid",t.selectedInterval.name&&t.validate),o.Yb("ngModel",t.selectedInterval.name),o.xb(7),o.jc("display",t.visible?"":"none"),o.xb(1),o.Yb("singleIntervalSelected",t.selectedInterval)("enableSelectAll",!1)("toolbars",!1))},directives:[i.k,a.a,a.c,a.k,a.d,a.g,h],styles:[".combo[_ngcontent-%COMP%]{position:relative;right:auto}.combo-shielder[_ngcontent-%COMP%]{position:fixed;top:0;bottom:0;right:0;left:0;z-index:100}.combo-body[_ngcontent-%COMP%]{position:absolute;top:33px;bottom:auto;left:0;right:0;z-index:105;visibility:visible;display:inline-block}"]}),e})();var I=n("HpGU");function C(e,t){if(1&e){const e=o.Mb();o.Lb(0,"div",1),o.Lb(1,"span",57),o.Tb("click",function(){return o.gc(e),o.Vb().templateToggle("coredata")}),o.mc(2,"CoreDataSeviceTemplate"),o.Kb(),o.Lb(3,"span",57),o.Tb("click",function(){return o.gc(e),o.Vb().templateToggle("command")}),o.mc(4,"CommandServiceTemplate"),o.Kb(),o.Lb(5,"span",57),o.Tb("click",function(){return o.gc(e),o.Vb().templateToggle("custom")}),o.mc(6,"CustomTemplate"),o.Kb(),o.Kb()}if(2&e){const e=o.Vb();o.xb(1),o.Ab("badge-secondary","coredata"!==e.templateSelected)("badge-primary","coredata"===e.templateSelected),o.xb(2),o.Ab("badge-secondary","command"!==e.templateSelected)("badge-primary","command"===e.templateSelected),o.xb(2),o.Ab("badge-secondary","custom"!==e.templateSelected)("badge-primary","custom"===e.templateSelected)}}function x(e,t){if(1&e){const e=o.Mb();o.Lb(0,"form"),o.Lb(1,"div",12),o.Lb(2,"label",64),o.mc(3,"HttpMethod"),o.Kb(),o.Lb(4,"div",9),o.Lb(5,"select",65),o.Tb("ngModelChange",function(t){return o.gc(e),o.Vb(2).intervalAction.address.httpMethod=t}),o.Lb(6,"option",66),o.mc(7,"GET"),o.Kb(),o.Lb(8,"option",67),o.mc(9,"POST"),o.Kb(),o.Lb(10,"option",68),o.mc(11,"PUT"),o.Kb(),o.Lb(12,"option",69),o.mc(13,"DELETE"),o.Kb(),o.Lb(14,"option",70),o.mc(15,"PATCH"),o.Kb(),o.Lb(16,"option",71),o.mc(17,"HEAD"),o.Kb(),o.Lb(18,"option",72),o.mc(19,"TRACE"),o.Kb(),o.Lb(20,"option",73),o.mc(21,"CONNECT"),o.Kb(),o.Kb(),o.Kb(),o.Kb(),o.Lb(22,"div",7),o.Lb(23,"label",74),o.mc(24,"Host"),o.Kb(),o.Lb(25,"div",9),o.Lb(26,"input",75),o.Tb("ngModelChange",function(t){return o.gc(e),o.Vb(2).intervalAction.address.host=t}),o.Kb(),o.Lb(27,"div",76),o.Lb(28,"small"),o.mc(29,"the REST address host can't be empty!"),o.Kb(),o.Kb(),o.Kb(),o.Kb(),o.Lb(30,"div",7),o.Lb(31,"label",77),o.mc(32,"Port"),o.Kb(),o.Lb(33,"div",9),o.Lb(34,"input",78),o.Tb("ngModelChange",function(t){return o.gc(e),o.Vb(2).intervalAction.address.port=t}),o.Kb(),o.Lb(35,"div",79),o.Lb(36,"small"),o.mc(37,"the REST address port can't be empty and only pure integer is supported!"),o.Kb(),o.Kb(),o.Kb(),o.Kb(),o.Lb(38,"div",12),o.Lb(39,"label",80),o.mc(40,"Path"),o.Kb(),o.Lb(41,"div",9),o.Lb(42,"input",81),o.Tb("ngModelChange",function(t){return o.gc(e),o.Vb(2).intervalAction.address.path=t}),o.Kb(),o.Kb(),o.Kb(),o.Lb(43,"div",12),o.Lb(44,"label",82),o.mc(45,"RequestBody"),o.Kb(),o.Lb(46,"div",9),o.Lb(47,"input",83),o.Tb("ngModelChange",function(t){return o.gc(e),o.Vb(2).intervalAction.address.requestBody=t}),o.Kb(),o.Kb(),o.Kb(),o.Lb(48,"div",12),o.Lb(49,"label",82),o.Lb(50,"span",41),o.mc(51,"ContentType"),o.Kb(),o.Jb(52,"span",84),o.Kb(),o.Lb(53,"div",9),o.Lb(54,"input",85),o.Tb("ngModelChange",function(t){return o.gc(e),o.Vb(2).intervalAction.address.contentType=t}),o.Kb(),o.Kb(),o.Kb(),o.Kb()}if(2&e){const e=o.Vb(2);o.xb(5),o.Yb("ngModel",e.intervalAction.address.httpMethod),o.xb(21),o.Ab("is-invalid",!e.intervalAction.address.host)("is-valid",e.intervalAction.address.host),o.Yb("ngModel",e.intervalAction.address.host),o.xb(8),o.Ab("is-invalid",!e.isPureIntegerType(e.intervalAction.address.port))("is-valid",e.isPureIntegerType(e.intervalAction.address.port)),o.Yb("ngModel",e.intervalAction.address.port),o.xb(8),o.Yb("ngModel",e.intervalAction.address.path),o.xb(5),o.Yb("ngModel",e.intervalAction.address.requestBody),o.xb(7),o.Yb("ngModel",e.intervalAction.address.contentType)}}function k(e,t){if(1&e){const e=o.Mb();o.Lb(0,"form"),o.Lb(1,"div",12),o.Lb(2,"label",64),o.mc(3,"HttpMethod"),o.Kb(),o.Lb(4,"div",9),o.Lb(5,"select",65),o.Tb("ngModelChange",function(t){return o.gc(e),o.Vb(2).intervalAction.address.httpMethod=t}),o.Lb(6,"option",69),o.mc(7,"DELETE"),o.Kb(),o.Kb(),o.Kb(),o.Kb(),o.Lb(8,"div",7),o.Lb(9,"label",74),o.Lb(10,"span",41),o.mc(11,"Host"),o.Kb(),o.Jb(12,"span",86),o.Kb(),o.Lb(13,"div",9),o.Lb(14,"input",75),o.Tb("ngModelChange",function(t){return o.gc(e),o.Vb(2).intervalAction.address.host=t}),o.Kb(),o.Lb(15,"div",76),o.Lb(16,"small"),o.mc(17,"the REST address host can't be empty!"),o.Kb(),o.Kb(),o.Kb(),o.Kb(),o.Lb(18,"div",7),o.Lb(19,"label",77),o.mc(20,"Port"),o.Kb(),o.Lb(21,"div",9),o.Lb(22,"input",78),o.Tb("ngModelChange",function(t){return o.gc(e),o.Vb(2).intervalAction.address.port=t}),o.Kb(),o.Lb(23,"div",79),o.Lb(24,"small"),o.mc(25,"the REST address port can't be empty and only pure integer is supported!"),o.Kb(),o.Kb(),o.Kb(),o.Kb(),o.Lb(26,"div",12),o.Lb(27,"label",80),o.Lb(28,"span",41),o.mc(29,"Path"),o.Kb(),o.Jb(30,"span",87),o.Kb(),o.Lb(31,"div",9),o.Lb(32,"input",88),o.Tb("ngModelChange",function(t){return o.gc(e),o.Vb(2).intervalAction.address.path=t}),o.Kb(),o.Kb(),o.Kb(),o.Lb(33,"div",12),o.Lb(34,"label",82),o.mc(35,"Parameter"),o.Kb(),o.Lb(36,"div",9),o.Lb(37,"div",89),o.Lb(38,"div",90),o.Lb(39,"span",91),o.Jb(40,"i",92),o.Kb(),o.Kb(),o.Lb(41,"input",93),o.Tb("ngModelChange",function(t){return o.gc(e),o.Vb(2).coredataRequestParameter=t}),o.Kb(),o.Kb(),o.Kb(),o.Kb(),o.Kb()}if(2&e){const e=o.Vb(2);o.xb(5),o.Yb("ngModel",e.intervalAction.address.httpMethod),o.xb(9),o.Ab("is-invalid",!e.intervalAction.address.host)("is-valid",e.intervalAction.address.host),o.Yb("ngModel",e.intervalAction.address.host),o.xb(8),o.Ab("is-invalid",!e.isPureIntegerType(e.intervalAction.address.port))("is-valid",e.isPureIntegerType(e.intervalAction.address.port)),o.Yb("ngModel",e.intervalAction.address.port),o.xb(10),o.Yb("ngModel",e.intervalAction.address.path),o.xb(9),o.Yb("ngModel",e.coredataRequestParameter)}}function P(e,t){if(1&e){const e=o.Mb();o.Lb(0,"form"),o.Lb(1,"div",12),o.Lb(2,"label",64),o.Lb(3,"span",41),o.mc(4,"HttpMethod"),o.Kb(),o.Jb(5,"span",94),o.Kb(),o.Lb(6,"div",9),o.Lb(7,"input",95),o.Tb("ngModelChange",function(t){return o.gc(e),o.Vb(2).intervalAction.address.httpMethod=t}),o.Kb(),o.Kb(),o.Kb(),o.Lb(8,"div",7),o.Lb(9,"label",74),o.Lb(10,"span",41),o.mc(11,"Host"),o.Kb(),o.Jb(12,"span",86),o.Kb(),o.Lb(13,"div",9),o.Lb(14,"input",75),o.Tb("ngModelChange",function(t){return o.gc(e),o.Vb(2).intervalAction.address.host=t}),o.Kb(),o.Lb(15,"div",76),o.Lb(16,"small"),o.mc(17,"the REST address host can't be empty!"),o.Kb(),o.Kb(),o.Kb(),o.Kb(),o.Lb(18,"div",7),o.Lb(19,"label",77),o.mc(20,"Port"),o.Kb(),o.Lb(21,"div",9),o.Lb(22,"input",78),o.Tb("ngModelChange",function(t){return o.gc(e),o.Vb(2).intervalAction.address.port=t}),o.Kb(),o.Lb(23,"div",79),o.Lb(24,"small"),o.mc(25,"the REST address port can't be empty and only pure integer is supported!"),o.Kb(),o.Kb(),o.Kb(),o.Kb(),o.Lb(26,"div",12),o.Lb(27,"label",80),o.mc(28,"Path"),o.Kb(),o.Lb(29,"div",9),o.Lb(30,"app-device-core-command-combo-list",96),o.Tb("cmdMethodEvent",function(t){return o.gc(e),o.Vb(2).onCmdMethodSelected(t)})("commandSelectedEvent",function(t){return o.gc(e),o.Vb(2).onCommandSelected(t)}),o.Kb(),o.Kb(),o.Kb(),o.Lb(31,"div",12),o.Lb(32,"label",82),o.mc(33,"RequestBody"),o.Kb(),o.Lb(34,"div",9),o.Lb(35,"input",83),o.Tb("ngModelChange",function(t){return o.gc(e),o.Vb(2).intervalAction.address.requestBody=t}),o.Kb(),o.Kb(),o.Kb(),o.Kb()}if(2&e){const e=o.Vb(2);o.xb(7),o.Yb("ngModel",e.intervalAction.address.httpMethod),o.xb(7),o.Ab("is-invalid",!e.intervalAction.address.host)("is-valid",e.intervalAction.address.host),o.Yb("ngModel",e.intervalAction.address.host),o.xb(8),o.Ab("is-invalid",!e.isPureIntegerType(e.intervalAction.address.port))("is-valid",e.isPureIntegerType(e.intervalAction.address.port)),o.Yb("ngModel",e.intervalAction.address.port),o.xb(8),o.Yb("validate",!0),o.xb(5),o.Yb("ngModel",e.intervalAction.address.requestBody)}}function E(e,t){if(1&e&&(o.Lb(0,"div",null,58),o.Lb(2,"div",59),o.kc(3,x,55,14,"ng-template",60,61,o.lc),o.kc(5,k,42,13,"ng-template",60,62,o.lc),o.kc(7,P,36,13,"ng-template",60,63,o.lc),o.Kb(),o.Kb()),2&e){const e=o.Vb();o.xb(2),o.Yb("ngSwitch",e.templateSelected),o.xb(1),o.Yb("ngSwitchCase","custom"),o.xb(2),o.Yb("ngSwitchCase","coredata"),o.xb(2),o.Yb("ngSwitchCase","command")}}function Y(e,t){if(1&e){const e=o.Mb();o.Lb(0,"div",31),o.Lb(1,"app-interval-combo-list",32),o.Tb("intervalSelectedEvent",function(t){return o.gc(e),o.Vb(2).onSingleIntervalSelected(t)}),o.Kb(),o.Kb()}if(2&e){const e=o.Vb(2);o.xb(1),o.Yb("validate",!0)("selectedInterval",e.selectedIntervalDefault)}}function R(e,t){if(1&e){const e=o.Mb();o.Lb(0,"div",1),o.Lb(1,"span",33),o.mc(2,"Available and Editable templates >>"),o.Kb(),o.Jb(3,"span",34),o.Lb(4,"span",35),o.Tb("click",function(){o.gc(e);const t=o.Vb(2);return t.templateToggle(t.template_type_coredata)}),o.mc(5,"CoreDataSeviceTemplate"),o.Kb(),o.Lb(6,"span",35),o.Tb("click",function(){o.gc(e);const t=o.Vb(2);return t.templateToggle(t.template_type_command)}),o.mc(7,"CommandServiceTemplate"),o.Kb(),o.Lb(8,"span",35),o.Tb("click",function(){o.gc(e);const t=o.Vb(2);return t.templateToggle(t.template_type_custom)}),o.mc(9,"CustomTemplate"),o.Kb(),o.Kb()}if(2&e){const e=o.Vb(2);o.xb(4),o.Ab("badge-secondary",e.templateSelected!==e.template_type_coredata)("badge-primary",e.templateSelected===e.template_type_coredata),o.xb(2),o.Ab("badge-secondary",e.templateSelected!==e.template_type_command)("badge-primary",e.templateSelected===e.template_type_command),o.xb(2),o.Ab("badge-secondary",e.templateSelected!==e.template_type_custom)("badge-primary",e.templateSelected===e.template_type_custom)}}function O(e,t){if(1&e){const e=o.Mb();o.Lb(0,"form"),o.Lb(1,"div",11),o.Lb(2,"label",42),o.mc(3,"HttpMethod"),o.Kb(),o.Lb(4,"div",8),o.Lb(5,"select",43),o.Tb("ngModelChange",function(t){return o.gc(e),o.Vb(3).intervalAction.address.httpMethod=t}),o.Lb(6,"option",44),o.mc(7,"GET"),o.Kb(),o.Lb(8,"option",45),o.mc(9,"POST"),o.Kb(),o.Lb(10,"option",46),o.mc(11,"PUT"),o.Kb(),o.Lb(12,"option",47),o.mc(13,"DELETE"),o.Kb(),o.Lb(14,"option",48),o.mc(15,"PATCH"),o.Kb(),o.Lb(16,"option",49),o.mc(17,"HEAD"),o.Kb(),o.Lb(18,"option",50),o.mc(19,"TRACE"),o.Kb(),o.Lb(20,"option",51),o.mc(21,"CONNECT"),o.Kb(),o.Kb(),o.Kb(),o.Kb(),o.Lb(22,"div",6),o.Lb(23,"label",52),o.mc(24,"Host"),o.Kb(),o.Lb(25,"div",8),o.Lb(26,"input",53),o.Tb("ngModelChange",function(t){return o.gc(e),o.Vb(3).intervalAction.address.host=t}),o.Kb(),o.Lb(27,"div",54),o.Lb(28,"small"),o.mc(29,"the REST address host can't be empty!"),o.Kb(),o.Kb(),o.Kb(),o.Kb(),o.Lb(30,"div",6),o.Lb(31,"label",55),o.mc(32,"Port"),o.Kb(),o.Lb(33,"div",8),o.Lb(34,"input",56),o.Tb("ngModelChange",function(t){return o.gc(e),o.Vb(3).intervalAction.address.port=t}),o.Kb(),o.Lb(35,"div",57),o.Lb(36,"small"),o.mc(37,"the REST address port can't be empty and only pure integer is supported!"),o.Kb(),o.Kb(),o.Kb(),o.Kb(),o.Lb(38,"div",11),o.Lb(39,"label",58),o.mc(40,"Path"),o.Kb(),o.Lb(41,"div",8),o.Lb(42,"input",59),o.Tb("ngModelChange",function(t){return o.gc(e),o.Vb(3).intervalAction.address.path=t}),o.Kb(),o.Kb(),o.Kb(),o.Lb(43,"div",11),o.Lb(44,"label",60),o.mc(45,"RequestBody"),o.Kb(),o.Lb(46,"div",8),o.Lb(47,"input",61),o.Tb("ngModelChange",function(t){return o.gc(e),o.Vb(3).intervalAction.address.requestBody=t}),o.Kb(),o.Kb(),o.Kb(),o.Lb(48,"div",11),o.Lb(49,"label",60),o.Lb(50,"span",28),o.mc(51,"ContentType"),o.Kb(),o.Jb(52,"span",62),o.Kb(),o.Lb(53,"div",8),o.Lb(54,"input",63),o.Tb("ngModelChange",function(t){return o.gc(e),o.Vb(3).intervalAction.address.contentType=t}),o.Kb(),o.Kb(),o.Kb(),o.Kb()}if(2&e){const e=o.Vb(3);o.xb(5),o.Yb("ngModel",e.intervalAction.address.httpMethod),o.xb(21),o.Ab("is-invalid",!e.intervalAction.address.host)("is-valid",e.intervalAction.address.host),o.Yb("ngModel",e.intervalAction.address.host),o.xb(8),o.Ab("is-invalid",!e.isPureIntegerType(e.intervalAction.address.port))("is-valid",e.isPureIntegerType(e.intervalAction.address.port)),o.Yb("ngModel",e.intervalAction.address.port),o.xb(8),o.Yb("ngModel",e.intervalAction.address.path),o.xb(5),o.Yb("ngModel",e.intervalAction.address.requestBody),o.xb(7),o.Yb("ngModel",e.intervalAction.address.contentType)}}function V(e,t){if(1&e){const e=o.Mb();o.Lb(0,"form"),o.Lb(1,"div",11),o.Lb(2,"label",42),o.mc(3,"HttpMethod"),o.Kb(),o.Lb(4,"div",8),o.Lb(5,"select",43),o.Tb("ngModelChange",function(t){return o.gc(e),o.Vb(3).intervalAction.address.httpMethod=t}),o.Lb(6,"option",47),o.mc(7,"DELETE"),o.Kb(),o.Kb(),o.Kb(),o.Kb(),o.Lb(8,"div",6),o.Lb(9,"label",52),o.Lb(10,"span",28),o.mc(11,"Host"),o.Kb(),o.Jb(12,"span",64),o.Kb(),o.Lb(13,"div",8),o.Lb(14,"input",53),o.Tb("ngModelChange",function(t){return o.gc(e),o.Vb(3).intervalAction.address.host=t}),o.Kb(),o.Lb(15,"div",54),o.Lb(16,"small"),o.mc(17,"the REST address host can't be empty!"),o.Kb(),o.Kb(),o.Kb(),o.Kb(),o.Lb(18,"div",6),o.Lb(19,"label",55),o.mc(20,"Port"),o.Kb(),o.Lb(21,"div",8),o.Lb(22,"input",56),o.Tb("ngModelChange",function(t){return o.gc(e),o.Vb(3).intervalAction.address.port=t}),o.Kb(),o.Lb(23,"div",57),o.Lb(24,"small"),o.mc(25,"the REST address port can't be empty and only pure integer is supported!"),o.Kb(),o.Kb(),o.Kb(),o.Kb(),o.Lb(26,"div",11),o.Lb(27,"label",58),o.Lb(28,"span",28),o.mc(29,"Path"),o.Kb(),o.Jb(30,"span",65),o.Kb(),o.Lb(31,"div",8),o.Lb(32,"input",66),o.Tb("ngModelChange",function(t){return o.gc(e),o.Vb(3).intervalAction.address.path=t}),o.Kb(),o.Kb(),o.Kb(),o.Lb(33,"div",11),o.Lb(34,"label",60),o.mc(35,"Parameter"),o.Kb(),o.Lb(36,"div",8),o.Lb(37,"div",67),o.Lb(38,"div",68),o.Lb(39,"span",69),o.Jb(40,"i",70),o.Kb(),o.Kb(),o.Lb(41,"input",71),o.Tb("ngModelChange",function(t){return o.gc(e),o.Vb(3).coredataRequestParameter=t}),o.Kb(),o.Kb(),o.Kb(),o.Kb(),o.Kb()}if(2&e){const e=o.Vb(3);o.xb(5),o.Yb("ngModel",e.intervalAction.address.httpMethod),o.xb(9),o.Ab("is-invalid",!e.intervalAction.address.host)("is-valid",e.intervalAction.address.host),o.Yb("ngModel",e.intervalAction.address.host),o.xb(8),o.Ab("is-invalid",!e.isPureIntegerType(e.intervalAction.address.port))("is-valid",e.isPureIntegerType(e.intervalAction.address.port)),o.Yb("ngModel",e.intervalAction.address.port),o.xb(10),o.Yb("ngModel",e.intervalAction.address.path),o.xb(9),o.Yb("ngModel",e.coredataRequestParameter)}}function q(e,t){if(1&e){const e=o.Mb();o.Lb(0,"form"),o.Lb(1,"div",11),o.Lb(2,"label",42),o.Lb(3,"span",28),o.mc(4,"HttpMethod"),o.Kb(),o.Jb(5,"span",72),o.Kb(),o.Lb(6,"div",8),o.Lb(7,"input",73),o.Tb("ngModelChange",function(t){return o.gc(e),o.Vb(3).intervalAction.address.httpMethod=t}),o.Kb(),o.Kb(),o.Kb(),o.Lb(8,"div",6),o.Lb(9,"label",52),o.Lb(10,"span",28),o.mc(11,"Host"),o.Kb(),o.Jb(12,"span",64),o.Kb(),o.Lb(13,"div",8),o.Lb(14,"input",53),o.Tb("ngModelChange",function(t){return o.gc(e),o.Vb(3).intervalAction.address.host=t}),o.Kb(),o.Lb(15,"div",54),o.Lb(16,"small"),o.mc(17,"the REST address host can't be empty!"),o.Kb(),o.Kb(),o.Kb(),o.Kb(),o.Lb(18,"div",6),o.Lb(19,"label",55),o.mc(20,"Port"),o.Kb(),o.Lb(21,"div",8),o.Lb(22,"input",56),o.Tb("ngModelChange",function(t){return o.gc(e),o.Vb(3).intervalAction.address.port=t}),o.Kb(),o.Lb(23,"div",57),o.Lb(24,"small"),o.mc(25,"the REST address port can't be empty and only pure integer is supported!"),o.Kb(),o.Kb(),o.Kb(),o.Kb(),o.Lb(26,"div",11),o.Lb(27,"label",58),o.mc(28,"Path"),o.Kb(),o.Lb(29,"div",8),o.Lb(30,"app-device-core-command-combo-list",74),o.Tb("cmdMethodEvent",function(t){return o.gc(e),o.Vb(3).onCmdMethodSelected(t)})("commandSelectedEvent",function(t){return o.gc(e),o.Vb(3).onCommandSelected(t)}),o.Kb(),o.Kb(),o.Kb(),o.Lb(31,"div",11),o.Lb(32,"label",60),o.mc(33,"RequestBody"),o.Kb(),o.Lb(34,"div",8),o.Lb(35,"input",61),o.Tb("ngModelChange",function(t){return o.gc(e),o.Vb(3).intervalAction.address.requestBody=t}),o.Kb(),o.Kb(),o.Kb(),o.Kb()}if(2&e){const e=o.Vb(3);o.xb(7),o.Yb("ngModel",e.intervalAction.address.httpMethod),o.xb(7),o.Ab("is-invalid",!e.intervalAction.address.host)("is-valid",e.intervalAction.address.host),o.Yb("ngModel",e.intervalAction.address.host),o.xb(8),o.Ab("is-invalid",!e.isPureIntegerType(e.intervalAction.address.port))("is-valid",e.isPureIntegerType(e.intervalAction.address.port)),o.Yb("ngModel",e.intervalAction.address.port),o.xb(8),o.Yb("validate",!0),o.xb(5),o.Yb("ngModel",e.intervalAction.address.requestBody)}}function N(e,t){if(1&e&&(o.Lb(0,"div",null,36),o.Lb(2,"div",37),o.kc(3,O,55,14,"ng-template",38,39,o.lc),o.kc(5,V,42,13,"ng-template",38,40,o.lc),o.kc(7,q,36,13,"ng-template",38,41,o.lc),o.Kb(),o.Kb()),2&e){const e=o.Vb(2);o.xb(2),o.Yb("ngSwitch",e.templateSelected),o.xb(1),o.Yb("ngSwitchCase",e.template_type_custom),o.xb(2),o.Yb("ngSwitchCase",e.template_type_coredata),o.xb(2),o.Yb("ngSwitchCase",e.template_type_command)}}function w(e,t){if(1&e){const e=o.Mb();o.Lb(0,"div",null,75),o.Lb(2,"form"),o.Lb(3,"div",6),o.Lb(4,"label",76),o.mc(5,"Host"),o.Kb(),o.Lb(6,"div",8),o.Lb(7,"input",77),o.Tb("ngModelChange",function(t){return o.gc(e),o.Vb(2).intervalAction.address.host=t}),o.Kb(),o.Lb(8,"div",78),o.Lb(9,"small"),o.mc(10,"the MQTT host can't be empty!"),o.Kb(),o.Kb(),o.Kb(),o.Kb(),o.Lb(11,"div",6),o.Lb(12,"label",79),o.mc(13,"Port"),o.Kb(),o.Lb(14,"div",8),o.Lb(15,"input",80),o.Tb("ngModelChange",function(t){return o.gc(e),o.Vb(2).intervalAction.address.port=t}),o.Kb(),o.Lb(16,"div",81),o.Lb(17,"small"),o.mc(18,"the MQTT port can't be empty and only pure integer is supported!!"),o.Kb(),o.Kb(),o.Kb(),o.Kb(),o.Lb(19,"div",6),o.Lb(20,"label",82),o.mc(21,"Publisher"),o.Kb(),o.Lb(22,"div",8),o.Lb(23,"input",83),o.Tb("ngModelChange",function(t){return o.gc(e),o.Vb(2).intervalAction.address.publisher=t}),o.Kb(),o.Lb(24,"div",84),o.Lb(25,"small"),o.mc(26,"the MQTT publisher can't be empty!"),o.Kb(),o.Kb(),o.Kb(),o.Kb(),o.Lb(27,"div",6),o.Lb(28,"label",85),o.mc(29,"Topic"),o.Kb(),o.Lb(30,"div",8),o.Lb(31,"input",86),o.Tb("ngModelChange",function(t){return o.gc(e),o.Vb(2).intervalAction.address.topic=t}),o.Kb(),o.Lb(32,"div",87),o.Lb(33,"small"),o.mc(34,"the MQTT topic can't be empty!"),o.Kb(),o.Kb(),o.Kb(),o.Kb(),o.Lb(35,"div",11),o.Lb(36,"label",88),o.mc(37,"QoS"),o.Kb(),o.Lb(38,"div",8),o.Lb(39,"input",89),o.Tb("ngModelChange",function(t){return o.gc(e),o.Vb(2).intervalAction.address.qos=t}),o.Kb(),o.Kb(),o.Kb(),o.Lb(40,"div",11),o.Lb(41,"label",90),o.mc(42,"KeepAlive"),o.Kb(),o.Lb(43,"div",8),o.Lb(44,"input",91),o.Tb("ngModelChange",function(t){return o.gc(e),o.Vb(2).intervalAction.address.keepAlive=t}),o.Kb(),o.Kb(),o.Kb(),o.Lb(45,"div",11),o.Lb(46,"label",92),o.mc(47,"Retained"),o.Kb(),o.Lb(48,"div",8),o.Lb(49,"select",93),o.Tb("ngModelChange",function(t){return o.gc(e),o.Vb(2).intervalAction.address.retained=t}),o.Lb(50,"option",94),o.mc(51,"false"),o.Kb(),o.Lb(52,"option",95),o.mc(53,"true"),o.Kb(),o.Kb(),o.Kb(),o.Kb(),o.Lb(54,"div",11),o.Lb(55,"label",96),o.mc(56,"AutoReconnect"),o.Kb(),o.Lb(57,"div",8),o.Lb(58,"select",97),o.Tb("ngModelChange",function(t){return o.gc(e),o.Vb(2).intervalAction.address.autoReconnect=t}),o.Lb(59,"option",94),o.mc(60,"true"),o.Kb(),o.Lb(61,"option",95),o.mc(62,"false"),o.Kb(),o.Kb(),o.Kb(),o.Kb(),o.Lb(63,"div",11),o.Lb(64,"label",98),o.mc(65,"ConnectTimeout"),o.Kb(),o.Lb(66,"div",8),o.Lb(67,"input",99),o.Tb("ngModelChange",function(t){return o.gc(e),o.Vb(2).intervalAction.address.connectTimeout=t}),o.Kb(),o.Kb(),o.Kb(),o.Kb(),o.Kb()}if(2&e){const e=o.Vb(2);o.xb(7),o.Ab("is-invalid",!e.intervalAction.address.host)("is-valid",e.intervalAction.address.host),o.Yb("ngModel",e.intervalAction.address.host),o.xb(8),o.Ab("is-invalid",!e.isPureIntegerType(e.intervalAction.address.port))("is-valid",e.isPureIntegerType(e.intervalAction.address.port)),o.Yb("ngModel",e.intervalAction.address.port),o.xb(8),o.Ab("is-invalid",!e.intervalAction.address.publisher)("is-valid",e.intervalAction.address.publisher),o.Yb("ngModel",e.intervalAction.address.publisher),o.xb(8),o.Ab("is-invalid",!e.intervalAction.address.topic)("is-valid",e.intervalAction.address.topic),o.Yb("ngModel",e.intervalAction.address.topic),o.xb(8),o.Yb("ngModel",e.intervalAction.address.qos),o.xb(5),o.Yb("ngModel",e.intervalAction.address.keepAlive),o.xb(5),o.Yb("ngModel",e.intervalAction.address.retained),o.xb(1),o.Yb("ngValue",!1),o.xb(2),o.Yb("ngValue",!0),o.xb(6),o.Yb("ngModel",e.intervalAction.address.autoReconnect),o.xb(1),o.Yb("ngValue",!0),o.xb(2),o.Yb("ngValue",!1),o.xb(6),o.Yb("ngModel",e.intervalAction.address.connectTimeout)}}function _(e,t){if(1&e){const e=o.Mb();o.Lb(0,"div",5),o.Lb(1,"form"),o.Lb(2,"div",6),o.Lb(3,"label",7),o.mc(4,"Name"),o.Kb(),o.Lb(5,"div",8),o.Lb(6,"input",9),o.Tb("ngModelChange",function(t){return o.gc(e),o.Vb().intervalAction.name=t}),o.Kb(),o.Lb(7,"div",10),o.Lb(8,"small"),o.mc(9,"the interval action name can't be empty!"),o.Kb(),o.Kb(),o.Kb(),o.Kb(),o.Lb(10,"div",11),o.Lb(11,"label",12),o.mc(12,"IntervalName"),o.Kb(),o.Lb(13,"div",8),o.kc(14,Y,2,2,"div",13),o.Kb(),o.Kb(),o.Lb(15,"div",11),o.Lb(16,"label",14),o.mc(17,"Address"),o.Kb(),o.Lb(18,"div",8),o.Lb(19,"div",0),o.Lb(20,"div",1),o.Lb(21,"div",15),o.Lb(22,"span",16),o.Lb(23,"input",17),o.Tb("ngModelChange",function(t){return o.gc(e),o.Vb().intervalAction.address.type=t})("change",function(){return o.gc(e),o.Vb().typeToggle("REST")}),o.Kb(),o.Lb(24,"label",18),o.mc(25,"REST"),o.Kb(),o.Kb(),o.Kb(),o.Lb(26,"div",15),o.Lb(27,"span",19),o.Tb("click",function(){return o.gc(e),o.Vb().typeToggle("MQTT")}),o.Lb(28,"input",20),o.Tb("ngModelChange",function(t){return o.gc(e),o.Vb().intervalAction.address.type=t}),o.Kb(),o.Lb(29,"label",21),o.mc(30,"MQTT"),o.Kb(),o.Kb(),o.Kb(),o.Lb(31,"div",15),o.Lb(32,"span",19),o.Tb("click",function(){return o.gc(e),o.Vb().typeToggle("EMAIL")}),o.Lb(33,"input",22),o.Tb("ngModelChange",function(t){return o.gc(e),o.Vb().intervalAction.address.type=t}),o.Kb(),o.Lb(34,"label",23),o.mc(35,"EMAIL"),o.Kb(),o.Kb(),o.Kb(),o.Kb(),o.kc(36,R,10,12,"div",24),o.Lb(37,"div",5),o.kc(38,N,9,4,"div",25),o.kc(39,w,68,29,"div",25),o.Lb(40,"div",null,26),o.Lb(42,"form"),o.Lb(43,"div",11),o.Lb(44,"label",27),o.Lb(45,"span",28),o.mc(46,"EmailRecipients"),o.Kb(),o.Jb(47,"span",29),o.Kb(),o.Lb(48,"div",8),o.Lb(49,"input",30),o.Tb("ngModelChange",function(t){return o.gc(e),o.Vb().addressEmailRecipients=t}),o.Kb(),o.Kb(),o.Kb(),o.Kb(),o.Kb(),o.Kb(),o.Kb(),o.Kb(),o.Kb(),o.Kb(),o.Kb()}if(2&e){const e=o.Vb();o.xb(6),o.Ab("is-invalid",!e.intervalAction.name)("is-valid",e.intervalAction.name),o.Yb("ngModel",e.intervalAction.name),o.xb(8),o.Yb("ngIf",e.selectedIntervalDefault),o.xb(8),o.Ab("badge-secondary",e.intervalAction.address.type!==e.addr_type_REST)("badge-primary",e.intervalAction.address.type===e.addr_type_REST),o.xb(1),o.Yb("ngModel",e.intervalAction.address.type),o.xb(4),o.Ab("badge-secondary",e.intervalAction.address.type!==e.addr_type_MQTT)("badge-primary",e.intervalAction.address.type===e.addr_type_MQTT),o.xb(1),o.Yb("ngModel",e.intervalAction.address.type),o.xb(4),o.Ab("badge-secondary",e.intervalAction.address.type!==e.addr_type_EMAIL)("badge-primary",e.intervalAction.address.type===e.addr_type_EMAIL),o.xb(1),o.Yb("ngModel",e.intervalAction.address.type),o.xb(3),o.Yb("ngIf",e.intervalAction.address.type===e.addr_type_REST),o.xb(2),o.Yb("ngIf","REST"===e.intervalAction.address.type),o.xb(1),o.Yb("ngIf",(null==e.intervalAction.address?null:e.intervalAction.address.type)===e.addr_type_MQTT),o.xb(1),o.jc("display",e.intervalAction.address.type!==e.addr_type_EMAIL?"none":""),o.xb(9),o.Yb("ngModel",e.addressEmailRecipients)}}const J=[{path:"",component:l,children:[{path:"",redirectTo:"interval-center",pathMatch:"full"},{path:"interval-center",component:d,children:[{path:"",redirectTo:"interval-list",pathMatch:"full"},{path:"interval-list",component:h},{path:"add-interval",component:g},{path:"edit-interval",component:L}]},{path:"interval-action-center",component:K,children:[{path:"",redirectTo:"interval-action-list",pathMatch:"full"},{path:"interval-action-list",component:T},{path:"add-interval-action",component:(()=>{class e{constructor(e,t,n,i,a){this.schedulerSvc=e,this.msgSvc=t,this.route=n,this.router=i,this.errSvc=a,this.addressEmailRecipients="",this.templateSelected="coredata",this.coredataRequestParameter="",this.coredataSvcAvailableAPI=["/api/v2/event/age/"],this.intervalAction={},this.intervalAction.address={},this.intervalAction.address.type="REST",this.intervalAction.address.httpMethod="GET",this.intervalAction.address.retained=!1,this.intervalAction.address.autoReconnect=!0}ngOnInit(){this.renderPopoverComponent(),this.renderCoredataDefaultTemplate()}initDatePickr(){let e=this;this.calendarStart=Object(u.a)("input[name='coredataRequestParameter']",{dateFormat:"YmdTHiS",enableTime:!0,enableSeconds:!0,time_24hr:!0,allowInput:!1,onChange:function(t,n,i){e.intervalAction.address.path=e.coredataSvcAvailableAPI[0]+n}})}renderPopoverComponent(){$('[data-toggle="popover"]').popover({trigger:"hover"})}renderCoredataDefaultTemplate(){this.intervalAction.address.httpMethod="DELETE",this.intervalAction.address.host="edgex-core-data",this.intervalAction.address.port=59880,this.intervalAction.address.path=this.coredataSvcAvailableAPI[0],setTimeout(()=>{this.renderPopoverComponent(),this.initDatePickr()},300)}templateToggle(e){switch(this.templateSelected=e,this.templateSelected){case"coredata":this.renderCoredataDefaultTemplate();break;case"command":this.intervalAction.address.httpMethod="",this.intervalAction.address.host="edgex-core-command",this.intervalAction.address.port=59882,this.intervalAction.address.path="",this.intervalAction.address.httpMethod="",setTimeout(()=>{this.renderPopoverComponent()},300);break;case"custom":setTimeout(()=>{this.renderPopoverComponent()},300),this.intervalAction.address={},this.intervalAction.address.type="REST",this.intervalAction.address.httpMethod="GET",this.intervalAction.address.retained=!1,this.intervalAction.address.autoReconnect=!0}}typeToggle(e){this.intervalAction.address.type=e,"REST"===e&&this.templateToggle("coredata")}onCmdMethodSelected(e){this.intervalAction.address.httpMethod=e}onCommandSelected(e){this.intervalAction.address.path=e.path}onSingleIntervalSelected(e){this.intervalAction.intervalName=e.name}isPureIntegerType(e){return!isNaN(e)&&parseFloat(e)===parseInt(e)}validate(){let e=!0,t=this.intervalAction.name&&this.intervalAction.intervalName;switch(this.intervalAction.address.type){case"REST":t&&this.intervalAction.address.host&&this.isPureIntegerType(this.intervalAction.address.port)&&this.intervalAction.address.port&&this.intervalAction.address.path&&this.intervalAction.address.httpMethod&&(e=!1);break;case"MQTT":t&&this.intervalAction.address.host&&this.isPureIntegerType(this.intervalAction.address.port)&&this.intervalAction.address.port&&this.intervalAction.address.publisher&&this.intervalAction.address.topic&&(e=!1);break;case"EMAIL":t&&(e=!1)}return e}submit(){this.intervalAction.address.recipients=this.addressEmailRecipients.split(","),this.intervalAction.address.port=Number(this.intervalAction.address.port),this.schedulerSvc.addIntervalAction(this.intervalAction).subscribe(()=>{this.msgSvc.success("Add interval action","name: "+this.intervalAction.name),this.router.navigate(["../interval-action-list"],{relativeTo:this.route})})}}return e.\u0275fac=function(t){return new(t||e)(o.Ib(s.a),o.Ib(b.a),o.Ib(r.a),o.Ib(r.e),o.Ib(c.a))},e.\u0275cmp=o.Cb({type:e,selectors:[["app-add-interval-action"]],decls:139,vars:58,consts:[[1,"card","mb-3"],[1,"card-header"],[1,"fa","fa-info-circle","mr-2","text-info"],[1,"card-body"],[1,"card"],[1,"fa","fa-plus","text-danger"],[1,"btn","btn-sm","btn-success","float-right",3,"disabled","click"],[1,"form-group","row","has-validation"],["for","intervalActionName","required","",1,"col-md-2","col-form-label"],[1,"col-md-10"],["type","text","id","validationIntervalActionName","name","intervalActionName","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","validationIntervalActionNameFeedback",1,"invalid-feedback"],[1,"form-group","row"],["for","intervalName",1,"col-md-2","col-form-label"],[1,"mb-3"],[3,"validate","intervalSelectedEvent"],["for","Address",1,"col-md-2","col-form-label"],[1,"form-check","form-check-inline"],[1,"badge"],["type","radio","name","inlineRadioOptions","id","REST","value","REST",1,"form-check-input",3,"ngModel","ngModelChange","click"],["for","REST",1,"form-check-label"],["type","radio","name","inlineRadioOptions","id","MQTT","value","MQTT",1,"form-check-input",3,"ngModel","ngModelChange","click"],["for","MQTT",1,"form-check-label"],["type","radio","name","inlineRadioOptions","id","EMAIL","value","EMAIL",1,"form-check-input",3,"ngModel","ngModelChange","click"],["for","EMAIL",1,"form-check-label"],["class","card-header",4,"ngIf"],[4,"ngIf"],["MQTT",""],["for","addressHostMQTT","required","",1,"col-md-2","col-form-label"],["type","text","id","addressHostMQTT","name","addressHost","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","addressHostMQTTFeedback",1,"invalid-feedback"],["for","addressPortMQTT","required","",1,"col-md-2","col-form-label"],["type","text","id","addressPortMQTT","name","addressPort","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","addressPortMQTTFeedback",1,"invalid-feedback"],["for","addressPublisher","required","",1,"col-md-2","col-form-label"],["type","text","id","addressPublisher","name","addressPublisher","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","addressPublisherFeedback",1,"invalid-feedback"],["for","addressTopic","required","",1,"col-md-2","col-form-label"],["type","text","id","addressTopic","name","addressTopic","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","addressTopicFeedback",1,"invalid-feedback"],["for","addressQoS",1,"col-md-2","col-form-label"],[1,"mr-2"],["role","button","data-html","false","data-animation","true","data-trigger","focus","data-toggle","popover","title","format tips","data-content","only pure integer supported!",1,"fa","fa-question-circle-o","fa-lg"],["type","number","id","addressQoS","name","addressQoS",1,"form-control",3,"ngModel","ngModelChange"],["for","addressKeepAlive",1,"col-md-2","col-form-label"],["type","number","id","addressKeepAlive","name","addressKeepAlive",1,"form-control",3,"ngModel","ngModelChange"],["for","addressRetained","required","",1,"col-md-2","col-form-label"],["type","text","id","addressRetained","name","addressRetained",1,"form-control",3,"ngModel","ngModelChange"],[3,"ngValue"],["for","addressAutoReconnect","required","",1,"col-md-2","col-form-label"],["type","text","id","addressAutoReconnect","name","addressAutoReconnect",1,"form-control",3,"ngModel","ngModelChange"],["for","addressConnectTimeout","required","",1,"col-md-2","col-form-label"],["type","number","id","addressConnectTimeout","name","addressConnectTimeout",1,"form-control",3,"ngModel","ngModelChange"],["EMAIL",""],["for","emailRecipients",1,"col-md-2","col-form-label"],["role","button","data-html","false","data-animation","true","data-trigger","focus","data-toggle","popover","title","format tips","data-content","Multiple email addresses are separated by commas",1,"fa","fa-question-circle-o","fa-lg"],["type","text","id","emailRecipients","name","emailRecipients",1,"form-control",3,"ngModel","ngModelChange"],["role","button",1,"badge","mr-2",3,"click"],["REST",""],[3,"ngSwitch"],[3,"ngSwitchCase"],["customTemplate",""],["coredataTemplate",""],["commandTemplate",""],["for","HttpMethod","required","",1,"col-md-2","col-form-label"],["type","text","name","httpMethod",1,"form-control",3,"ngModel","ngModelChange"],["value","GET"],["value","POST"],["value","PUT"],["value","DELETE"],["value","PATCH"],["value","HEAD"],["value","TRACE"],["value","CONNECT"],["for","addressHostREST","required","",1,"col-md-2","col-form-label"],["type","text","id","addressHostREST","name","addressHost","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","addressHostRESTFeedback",1,"invalid-feedback"],["for","addressPortREST","required","",1,"col-md-2","col-form-label"],["type","text","id","addressPortREST","name","addressPort","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","addressPortRESTFeedback",1,"invalid-feedback"],["for","addressPath","required","",1,"col-md-2","col-form-label"],["type","text","id","addressPath","name","addressPath",1,"form-control",3,"ngModel","ngModelChange"],["for","requestBody","required","",1,"col-md-2","col-form-label"],["type","text","id","requestBody","name","requestBody",1,"form-control",3,"ngModel","ngModelChange"],["role","button","data-html","false","data-animation","true","data-trigger","focus","data-toggle","popover","title","tips","data-content","Indicates which request contentType should be used (i.e. text/html, application/json), the default is application/json if not setup",1,"fa","fa-question-circle-o","fa-lg"],["type","text","id","contentType","name","contentType",1,"form-control",3,"ngModel","ngModelChange"],["role","button","data-html","false","data-animation","true","data-trigger","focus","data-toggle","popover","title","tips","data-content","Both Host and Port fields are editable if you have a different host address !",1,"fa","fa-question-circle-o","fa-lg"],["role","button","data-html","false","data-animation","true","data-trigger","focus","data-toggle","popover","title","tips","data-content","Remove all old events (and associated readings) based on delimiting age, the parameters delimiting age will be filled up automatically when parameters field is selected!",1,"fa","fa-question-circle-o","fa-lg"],["type","text","id","addressPath","name","addressPath","disabled","",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-group"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"fa","fa-calendar"],["type","text","name","coredataRequestParameter",1,"form-control",3,"ngModel","ngModelChange"],["role","button","data-html","false","data-animation","true","data-trigger","focus","data-toggle","popover","title","tips","data-content","httpMethod field will be filled up automatically when the path field is selected! ",1,"fa","fa-question-circle-o","fa-lg"],["type","text","name","httpMethod","disabled","","required","",1,"form-control",3,"ngModel","ngModelChange"],[3,"validate","cmdMethodEvent","commandSelectedEvent"]],template:function(e,t){1&e&&(o.Lb(0,"div",0),o.Lb(1,"div",1),o.Jb(2,"i",2),o.Lb(3,"span"),o.mc(4,"Tips"),o.Kb(),o.Kb(),o.Lb(5,"div",3),o.mc(6," The support scheduler micro service provide an internal EdgeX \u201cclock\u201d that can kick off operations in any EdgeX service. At a configuration specified time (called an interval), the service calls on any EdgeX service API URL via REST to trigger an operation (called an interval action). For example, the scheduling service periodically calls on core data APIs to clean up old sensed events that have been successfully exported out of EdgeX. "),o.Jb(7,"br"),o.mc(8," Users also can call the API of command service to collect one device's data automatically. "),o.Kb(),o.Kb(),o.Lb(9,"div",4),o.Lb(10,"div",1),o.Jb(11,"i",5),o.mc(12," Add Interval Action "),o.Lb(13,"button",6),o.Tb("click",function(){return t.submit()}),o.mc(14,"Submit"),o.Kb(),o.Kb(),o.Lb(15,"div",3),o.Lb(16,"form"),o.Lb(17,"div",7),o.Lb(18,"label",8),o.mc(19,"Name"),o.Kb(),o.Lb(20,"div",9),o.Lb(21,"input",10),o.Tb("ngModelChange",function(e){return t.intervalAction.name=e}),o.Kb(),o.Lb(22,"div",11),o.Lb(23,"small"),o.mc(24,"the interval action name can't be empty!"),o.Kb(),o.Kb(),o.Kb(),o.Kb(),o.Lb(25,"div",12),o.Lb(26,"label",13),o.mc(27,"IntervalName"),o.Kb(),o.Lb(28,"div",9),o.Lb(29,"div",14),o.Lb(30,"app-interval-combo-list",15),o.Tb("intervalSelectedEvent",function(e){return t.onSingleIntervalSelected(e)}),o.Kb(),o.Kb(),o.Kb(),o.Kb(),o.Lb(31,"div",12),o.Lb(32,"label",16),o.mc(33,"Address"),o.Kb(),o.Lb(34,"div",9),o.Lb(35,"div",4),o.Lb(36,"div",1),o.Lb(37,"div",17),o.Lb(38,"span",18),o.Lb(39,"input",19),o.Tb("ngModelChange",function(e){return t.intervalAction.address.type=e})("click",function(){return t.typeToggle("REST")}),o.Kb(),o.Lb(40,"label",20),o.mc(41,"REST"),o.Kb(),o.Kb(),o.Kb(),o.Lb(42,"div",17),o.Lb(43,"span",18),o.Lb(44,"input",21),o.Tb("ngModelChange",function(e){return t.intervalAction.address.type=e})("click",function(){return t.typeToggle("MQTT")}),o.Kb(),o.Lb(45,"label",22),o.mc(46,"MQTT"),o.Kb(),o.Kb(),o.Kb(),o.Lb(47,"div",17),o.Lb(48,"span",18),o.Lb(49,"input",23),o.Tb("ngModelChange",function(e){return t.intervalAction.address.type=e})("click",function(){return t.typeToggle("EMAIL")}),o.Kb(),o.Lb(50,"label",24),o.mc(51,"EMAIL"),o.Kb(),o.Kb(),o.Kb(),o.Kb(),o.kc(52,C,7,12,"div",25),o.Lb(53,"div",3),o.kc(54,E,9,4,"div",26),o.Lb(55,"div",null,27),o.Lb(57,"form"),o.Lb(58,"div",7),o.Lb(59,"label",28),o.mc(60,"Host"),o.Kb(),o.Lb(61,"div",9),o.Lb(62,"input",29),o.Tb("ngModelChange",function(e){return t.intervalAction.address.host=e}),o.Kb(),o.Lb(63,"div",30),o.Lb(64,"small"),o.mc(65,"the MQTT host can't be empty!"),o.Kb(),o.Kb(),o.Kb(),o.Kb(),o.Lb(66,"div",7),o.Lb(67,"label",31),o.mc(68,"Port"),o.Kb(),o.Lb(69,"div",9),o.Lb(70,"input",32),o.Tb("ngModelChange",function(e){return t.intervalAction.address.port=e}),o.Kb(),o.Lb(71,"div",33),o.Lb(72,"small"),o.mc(73,"the MQTT port can't be empty and only pure integer is supported!!"),o.Kb(),o.Kb(),o.Kb(),o.Kb(),o.Lb(74,"div",7),o.Lb(75,"label",34),o.mc(76,"Publisher"),o.Kb(),o.Lb(77,"div",9),o.Lb(78,"input",35),o.Tb("ngModelChange",function(e){return t.intervalAction.address.publisher=e}),o.Kb(),o.Lb(79,"div",36),o.Lb(80,"small"),o.mc(81,"the MQTT publisher can't be empty!"),o.Kb(),o.Kb(),o.Kb(),o.Kb(),o.Lb(82,"div",7),o.Lb(83,"label",37),o.mc(84,"Topic"),o.Kb(),o.Lb(85,"div",9),o.Lb(86,"input",38),o.Tb("ngModelChange",function(e){return t.intervalAction.address.topic=e}),o.Kb(),o.Lb(87,"div",39),o.Lb(88,"small"),o.mc(89,"the MQTT topic can't be empty!"),o.Kb(),o.Kb(),o.Kb(),o.Kb(),o.Lb(90,"div",12),o.Lb(91,"label",40),o.Lb(92,"span",41),o.mc(93,"QoS"),o.Kb(),o.Jb(94,"span",42),o.Kb(),o.Lb(95,"div",9),o.Lb(96,"input",43),o.Tb("ngModelChange",function(e){return t.intervalAction.address.qos=e}),o.Kb(),o.Kb(),o.Kb(),o.Lb(97,"div",12),o.Lb(98,"label",44),o.Lb(99,"span",41),o.mc(100,"KeepAlive"),o.Kb(),o.Jb(101,"span",42),o.Kb(),o.Lb(102,"div",9),o.Lb(103,"input",45),o.Tb("ngModelChange",function(e){return t.intervalAction.address.keepAlive=e}),o.Kb(),o.Kb(),o.Kb(),o.Lb(104,"div",12),o.Lb(105,"label",46),o.mc(106,"Retained"),o.Kb(),o.Lb(107,"div",9),o.Lb(108,"select",47),o.Tb("ngModelChange",function(e){return t.intervalAction.address.retained=e}),o.Lb(109,"option",48),o.mc(110,"false"),o.Kb(),o.Lb(111,"option",48),o.mc(112,"true"),o.Kb(),o.Kb(),o.Kb(),o.Kb(),o.Lb(113,"div",12),o.Lb(114,"label",49),o.mc(115,"AutoReconnect"),o.Kb(),o.Lb(116,"div",9),o.Lb(117,"select",50),o.Tb("ngModelChange",function(e){return t.intervalAction.address.autoReconnect=e}),o.Lb(118,"option",48),o.mc(119,"true"),o.Kb(),o.Lb(120,"option",48),o.mc(121,"false"),o.Kb(),o.Kb(),o.Kb(),o.Kb(),o.Lb(122,"div",12),o.Lb(123,"label",51),o.Lb(124,"span",41),o.mc(125,"ConnectTimeout"),o.Kb(),o.Jb(126,"span",42),o.Kb(),o.Lb(127,"div",9),o.Lb(128,"input",52),o.Tb("ngModelChange",function(e){return t.intervalAction.address.connectTimeout=e}),o.Kb(),o.Kb(),o.Kb(),o.Kb(),o.Kb(),o.Lb(129,"div",null,53),o.Lb(131,"form"),o.Lb(132,"div",12),o.Lb(133,"label",54),o.Lb(134,"span",41),o.mc(135,"EmailRecipients"),o.Kb(),o.Jb(136,"span",55),o.Kb(),o.Lb(137,"div",9),o.Lb(138,"input",56),o.Tb("ngModelChange",function(e){return t.addressEmailRecipients=e}),o.Kb(),o.Kb(),o.Kb(),o.Kb(),o.Kb(),o.Kb(),o.Kb(),o.Kb(),o.Kb(),o.Kb(),o.Kb(),o.Kb()),2&e&&(o.xb(13),o.Yb("disabled",t.validate()),o.xb(8),o.Ab("is-invalid",!t.intervalAction.name)("is-valid",t.intervalAction.name),o.Yb("ngModel",t.intervalAction.name),o.xb(9),o.Yb("validate",!0),o.xb(8),o.Ab("badge-secondary","REST"!==t.intervalAction.address.type)("badge-primary","REST"===t.intervalAction.address.type),o.xb(1),o.Yb("ngModel",t.intervalAction.address.type),o.xb(4),o.Ab("badge-secondary","MQTT"!==t.intervalAction.address.type)("badge-primary","MQTT"===t.intervalAction.address.type),o.xb(1),o.Yb("ngModel",t.intervalAction.address.type),o.xb(4),o.Ab("badge-secondary","EMAIL"!==t.intervalAction.address.type)("badge-primary","EMAIL"===t.intervalAction.address.type),o.xb(1),o.Yb("ngModel",t.intervalAction.address.type),o.xb(3),o.Yb("ngIf","REST"===t.intervalAction.address.type),o.xb(2),o.Yb("ngIf","REST"===t.intervalAction.address.type),o.xb(1),o.jc("display","MQTT"!==t.intervalAction.address.type?"none":""),o.xb(7),o.Ab("is-invalid",!t.intervalAction.address.host)("is-valid",t.intervalAction.address.host),o.Yb("ngModel",t.intervalAction.address.host),o.xb(8),o.Ab("is-invalid",!t.isPureIntegerType(t.intervalAction.address.port))("is-valid",t.isPureIntegerType(t.intervalAction.address.port)),o.Yb("ngModel",t.intervalAction.address.port),o.xb(8),o.Ab("is-invalid",!t.intervalAction.address.publisher)("is-valid",t.intervalAction.address.publisher),o.Yb("ngModel",t.intervalAction.address.publisher),o.xb(8),o.Ab("is-invalid",!t.intervalAction.address.topic)("is-valid",t.intervalAction.address.topic),o.Yb("ngModel",t.intervalAction.address.topic),o.xb(10),o.Yb("ngModel",t.intervalAction.address.qos),o.xb(7),o.Yb("ngModel",t.intervalAction.address.keepAlive),o.xb(5),o.Yb("ngModel",t.intervalAction.address.retained),o.xb(1),o.Yb("ngValue",!1),o.xb(2),o.Yb("ngValue",!0),o.xb(6),o.Yb("ngModel",t.intervalAction.address.autoReconnect),o.xb(1),o.Yb("ngValue",!0),o.xb(2),o.Yb("ngValue",!1),o.xb(8),o.Yb("ngModel",t.intervalAction.address.connectTimeout),o.xb(1),o.jc("display","EMAIL"!==(null==t.intervalAction.address?null:t.intervalAction.address.type)?"none":""),o.xb(9),o.Yb("ngModel",t.addressEmailRecipients))},directives:[a.n,a.e,a.f,a.a,a.k,a.d,a.g,S,a.j,i.k,a.i,a.l,a.h,a.m,i.l,i.m,I.a],styles:[""]}),e})()},{path:"edit-interval-action",component:(()=>{class e{constructor(e,t,n,i,a){this.schedulerSvc=e,this.msgSvc=t,this.route=n,this.router=i,this.errSvc=a,this.addr_type_REST="REST",this.addr_type_MQTT="MQTT",this.addr_type_EMAIL="EMAIL",this.template_type_coredata="coredata",this.template_type_command="command",this.template_type_custom="custom",this.addressEmailRecipients="",this.templateSelected="custom",this.coredataRequestParameter="",this.coredataSvcAvailableAPI=["/api/v2/event/age/"],this.intervalAction={},this.intervalActionOrigin={},this.intervalAction.address={}}ngOnInit(){this.renderPopoverComponent(),this.route.queryParams.subscribe(e=>{e.intervalActionName&&this.schedulerSvc.findIntervalActionByName(e.intervalActionName).subscribe(e=>{this.intervalAction=JSON.parse(JSON.stringify(e.action)),this.intervalActionOrigin=JSON.parse(JSON.stringify(e.action)),this.addressEmailRecipients=this.intervalAction.address.recipients?this.intervalAction.address.recipients.toString():"",this.findDefaultSelectedIntervalByName(this.intervalAction.intervalName),setTimeout(()=>{this.renderPopoverComponent(),this.initDatePickr()},300)})})}initDatePickr(){let e=this;this.calendarStart=Object(u.a)("input[name='coredataRequestParameter']",{dateFormat:"YmdTHiS",enableTime:!0,enableSeconds:!0,time_24hr:!0,allowInput:!1,onChange:function(t,n,i){e.intervalAction.address.path=e.coredataSvcAvailableAPI[0]+n}})}setActionDefaultProperties(){switch(this.intervalAction.address.type){case this.addr_type_REST:this.intervalAction.address.httpMethod="GET";break;case this.addr_type_MQTT:this.intervalAction.address.retained=!1,this.intervalAction.address.autoReconnect=!0}}findDefaultSelectedIntervalByName(e){this.schedulerSvc.findIntervalByName(e).subscribe(e=>{this.selectedIntervalDefault=e.interval})}renderPopoverComponent(){$('[data-toggle="popover"]').popover({trigger:"hover"})}renderCoredataDefaultTemplate(){this.intervalAction.address.httpMethod="DELETE",this.intervalAction.address.host="edgex-core-data",this.intervalAction.address.port=59880,this.intervalAction.address.path=this.coredataSvcAvailableAPI[0],setTimeout(()=>{this.renderPopoverComponent(),this.initDatePickr()},300)}templateToggle(e){switch(this.intervalAction=JSON.parse(JSON.stringify(this.intervalActionOrigin)),this.intervalAction.address.type=this.addr_type_REST,this.templateSelected=e,this.templateSelected){case this.template_type_coredata:this.renderCoredataDefaultTemplate();break;case this.template_type_command:this.intervalAction.address.path="",this.intervalAction.address.httpMethod="",setTimeout(()=>{this.renderPopoverComponent()},300);break;case this.template_type_custom:setTimeout(()=>{this.renderPopoverComponent()},300)}}typeToggle(e){this.intervalAction=JSON.parse(JSON.stringify(this.intervalActionOrigin)),this.intervalAction.address.type=e,this.templateSelected="custom",setTimeout(()=>{this.renderPopoverComponent()},300)}onCmdMethodSelected(e){this.intervalAction.address.httpMethod=e}onCommandSelected(e){this.intervalAction.address.path=e.path}onSingleIntervalSelected(e){this.intervalAction.intervalName=e.name}isPureIntegerType(e){return!isNaN(e)&&parseFloat(e)===parseInt(e)}validate(){let e=!0,t=this.intervalAction.name&&this.intervalAction.intervalName;switch(this.intervalAction.address.type){case this.addr_type_REST:t&&this.intervalAction.address.host&&this.isPureIntegerType(this.intervalAction.address.port)&&this.intervalAction.address.path&&this.intervalAction.address.httpMethod&&(e=!1);break;case this.addr_type_MQTT:t&&this.intervalAction.address.host&&this.isPureIntegerType(this.intervalAction.address.port)&&this.intervalAction.address.port&&this.intervalAction.address.publisher&&this.intervalAction.address.topic&&(e=!1);break;case this.addr_type_EMAIL:t&&(e=!1)}return e}save(){this.intervalAction.address.recipients=this.addressEmailRecipients.split(","),this.intervalAction.address.port=Number(this.intervalAction.address.port),this.schedulerSvc.updateIntervalAction(this.intervalAction).subscribe(()=>{this.msgSvc.success("Update interval action","name: "+this.intervalAction.name),this.router.navigate(["../interval-action-list"],{relativeTo:this.route})})}}return e.\u0275fac=function(t){return new(t||e)(o.Ib(s.a),o.Ib(b.a),o.Ib(r.a),o.Ib(r.e),o.Ib(c.a))},e.\u0275cmp=o.Cb({type:e,selectors:[["app-edit-interval-action"]],decls:7,vars:2,consts:[[1,"card"],[1,"card-header"],[1,"fa","fa-edit","text-danger"],[1,"btn","btn-sm","btn-success","float-right",3,"disabled","click"],["class","card-body",4,"ngIf"],[1,"card-body"],[1,"form-group","row","has-validation"],["for","intervalActionName","required","",1,"col-md-2","col-form-label"],[1,"col-md-10"],["type","text","id","validationIntervalActionName","name","intervalActionName","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","validationIntervalActionNameFeedback",1,"invalid-feedback"],[1,"form-group","row"],["for","intervalName",1,"col-md-2","col-form-label"],["class","mb-3",4,"ngIf"],["for","Address",1,"col-md-2","col-form-label"],[1,"form-check","form-check-inline"],[1,"badge"],["type","radio","name","inlineRadioOptions","id","REST","value","REST",1,"form-check-input",3,"ngModel","ngModelChange","change"],["for","REST",1,"form-check-label"],[1,"badge",3,"click"],["type","radio","name","inlineRadioOptions","id","MQTT","value","MQTT",1,"form-check-input",3,"ngModel","ngModelChange"],["for","MQTT",1,"form-check-label"],["type","radio","name","inlineRadioOptions","id","EMAIL","value","EMAIL",1,"form-check-input",3,"ngModel","ngModelChange"],["for","EMAIL",1,"form-check-label"],["class","card-header",4,"ngIf"],[4,"ngIf"],["EMAIL",""],["for","emailRecipients",1,"col-md-2","col-form-label"],[1,"mr-2"],["role","button","data-html","false","data-animation","true","data-trigger","focus","data-toggle","popover","title","format tips","data-content","Multiple email addresses are separated by commas",1,"fa","fa-question-circle-o","fa-lg"],["type","text","id","emailRecipients","name","emailRecipients",1,"form-control",3,"ngModel","ngModelChange"],[1,"mb-3"],[3,"validate","selectedInterval","intervalSelectedEvent"],[1,"mr-2","text-primary"],["role","button","data-html","false","data-animation","true","data-trigger","focus","data-toggle","popover","title","tips","data-content","custom template will be choosed by default",1,"fa","fa-question-circle-o","fa-lg","mr-2"],["role","button",1,"badge","mr-2",3,"click"],["REST",""],[3,"ngSwitch"],[3,"ngSwitchCase"],["customTemplate",""],["coredataTemplate",""],["commandTemplate",""],["for","HttpMethod","required","",1,"col-md-2","col-form-label"],["type","text","name","httpMethod",1,"form-control",3,"ngModel","ngModelChange"],["value","GET"],["value","POST"],["value","PUT"],["value","DELETE"],["value","PATCH"],["value","HEAD"],["value","TRACE"],["value","CONNECT"],["for","addressHostREST","required","",1,"col-md-2","col-form-label"],["type","text","id","addressHostREST","name","addressHost","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","addressHostRESTFeedback",1,"invalid-feedback"],["for","addressPortREST","required","",1,"col-md-2","col-form-label"],["type","text","id","addressPortREST","name","addressPort","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","addressPortRESTFeedback",1,"invalid-feedback"],["for","addressPath","required","",1,"col-md-2","col-form-label"],["type","text","id","addressPath","name","addressPath",1,"form-control",3,"ngModel","ngModelChange"],["for","requestBody","required","",1,"col-md-2","col-form-label"],["type","text","id","requestBody","name","requestBody",1,"form-control",3,"ngModel","ngModelChange"],["role","button","data-html","false","data-animation","true","data-trigger","focus","data-toggle","popover","title","tips","data-content","Indicates which request contentType should be used (i.e. text/html, application/json), the default is application/json if not setup",1,"fa","fa-question-circle-o","fa-lg"],["type","text","id","contentType","name","contentType",1,"form-control",3,"ngModel","ngModelChange"],["role","button","data-html","false","data-animation","true","data-trigger","focus","data-toggle","popover","title","tips","data-content","Both Host and Port fields are editable if you have a different host address !",1,"fa","fa-question-circle-o","fa-lg"],["role","button","data-html","false","data-animation","true","data-trigger","focus","data-toggle","popover","title","tips","data-content","Remove all old events (and associated readings) based on delimiting age, the parameters delimiting age will be filled up automatically when parameters field is selected!",1,"fa","fa-question-circle-o","fa-lg"],["type","text","id","addressPath","name","addressPath","disabled","",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-group"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"fa","fa-calendar"],["type","text","name","coredataRequestParameter",1,"form-control",3,"ngModel","ngModelChange"],["role","button","data-html","false","data-animation","true","data-trigger","focus","data-toggle","popover","title","tips","data-content","httpMethod field will be filled up automatically when the path field is selected! ",1,"fa","fa-question-circle-o","fa-lg"],["type","text","name","httpMethod","disabled","","required","",1,"form-control",3,"ngModel","ngModelChange"],[3,"validate","cmdMethodEvent","commandSelectedEvent"],["MQTT",""],["for","addressHost","required","",1,"col-md-2","col-form-label"],["type","text","id","addressHost","name","addressHost","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","addressHostFeedback",1,"invalid-feedback"],["for","addressPort","required","",1,"col-md-2","col-form-label"],["type","text","id","addressPort","name","addressPort","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","addressPortFeedback",1,"invalid-feedback"],["for","addressPublisher","required","",1,"col-md-2","col-form-label"],["type","text","id","addressPublisher","name","addressPublisher","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","addressPublisherFeedback",1,"invalid-feedback"],["for","addressTopic","required","",1,"col-md-2","col-form-label"],["type","text","id","addressTopic","name","addressTopic","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","addressTopicFeedback",1,"invalid-feedback"],["for","addressQoS","required","",1,"col-md-2","col-form-label"],["type","number","id","addressQoS","name","addressQoS","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","addressKeepAlive","required","",1,"col-md-2","col-form-label"],["type","number","id","addressKeepAlive","name","addressKeepAlive",1,"form-control",3,"ngModel","ngModelChange"],["for","addressRetained","required","",1,"col-md-2","col-form-label"],["type","text","id","addressRetained","name","addressRetained",1,"form-control",3,"ngModel","ngModelChange"],["selected","",3,"ngValue"],[3,"ngValue"],["for","addressAutoReconnect","required","",1,"col-md-2","col-form-label"],["type","text","id","addressAutoReconnect","name","addressAutoReconnect",1,"form-control",3,"ngModel","ngModelChange"],["for","addressConnectTimeout","required","",1,"col-md-2","col-form-label"],["type","number","id","addressConnectTimeout","name","addressConnectTimeout",1,"form-control",3,"ngModel","ngModelChange"]],template:function(e,t){1&e&&(o.Lb(0,"div",0),o.Lb(1,"div",1),o.Jb(2,"i",2),o.mc(3," Edit Interval Action "),o.Lb(4,"button",3),o.Tb("click",function(){return t.save()}),o.mc(5,"Save"),o.Kb(),o.Kb(),o.kc(6,_,50,27,"div",4),o.Kb()),2&e&&(o.xb(4),o.Yb("disabled",t.validate()),o.xb(2),o.Yb("ngIf",t.intervalAction))},directives:[i.k,a.n,a.e,a.f,a.a,a.k,a.d,a.g,a.j,S,i.l,i.m,a.l,a.h,a.m,I.a,a.i],styles:[""]}),e})()}]}]}];let D=(()=>{class e{}return e.\u0275mod=o.Gb({type:e}),e.\u0275inj=o.Fb({factory:function(t){return new(t||e)},imports:[[r.i.forChild(J)],r.i]}),e})();var H=n("ixIh");let Q=(()=>{class e{}return e.\u0275mod=o.Gb({type:e}),e.\u0275inj=o.Fb({factory:function(t){return new(t||e)},imports:[[i.b,a.b,H.a,D]]}),e})()}}]);