(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"1ahc":function(e,t,n){"use strict";n.d(t,"a",function(){return l});var i=n("tk/3"),a=n("JIr8"),r=n("fXoL"),o=n("9vc0");let l=(()=>{class e{constructor(e,t){this.http=e,this.errorSvc=t,this.endpoint="/scheduler",this.version="/api/v2",this.urlPrefix=`${this.endpoint}${this.version}`,this.configUrl="/config",this.intervalListUrl=this.urlPrefix+"/interval/all",this.addOneIntervalUrl=this.urlPrefix+"/interval",this.updateOneIntervalUrl=this.urlPrefix+"/interval",this.findOneIntervalByNameUrl=this.urlPrefix+"/interval/name/",this.deleteOneIntervalByNameUrl=this.urlPrefix+"/interval/name/",this.intervalActionListUrl=this.urlPrefix+"/intervalaction/all",this.addOneIntervalActionUrl=this.urlPrefix+"/intervalaction",this.updateOneIntervaActionlUrl=this.urlPrefix+"/intervalaction",this.findOneIntervalActionByNameUrl=this.urlPrefix+"/intervalaction/name/",this.deleteOneIntervalActionByNameUrl=this.urlPrefix+"/intervalaction/name/",this.httpPostOrPutJSONOptions={headers:new i.c({"Content-type":"application/json",Authorization:""})}}getConfig(){return this.http.get(`${this.urlPrefix}${this.configUrl}`).pipe(Object(a.a)(e=>this.errorSvc.handleError(e)))}findAllIntervalsPagination(e,t){return this.http.get(`${this.intervalListUrl}?offset=${e}&limit=${t}`).pipe(Object(a.a)(e=>this.errorSvc.handleError(e)))}addInterval(e){return this.http.post(""+this.addOneIntervalUrl,JSON.stringify([{apiVersion:"v2",interval:e}]),this.httpPostOrPutJSONOptions).pipe(Object(a.a)(e=>this.errorSvc.handleError(e)))}updateInterval(e){return this.http.patch(""+this.updateOneIntervalUrl,JSON.stringify([{apiVersion:"v2",interval:e}]),this.httpPostOrPutJSONOptions).pipe(Object(a.a)(e=>this.errorSvc.handleError(e)))}findIntervalByName(e){return this.http.get(`${this.findOneIntervalByNameUrl}${e}`).pipe(Object(a.a)(e=>this.errorSvc.handleError(e)))}deleteIntervalByName(e){return this.http.delete(`${this.deleteOneIntervalByNameUrl}${e}`).pipe(Object(a.a)(e=>this.errorSvc.handleError(e)))}findAllIntervalActionsPagination(e,t){return this.http.get(`${this.intervalActionListUrl}?offset=${e}&limit=${t}`).pipe(Object(a.a)(e=>this.errorSvc.handleError(e)))}addIntervalAction(e){return this.http.post(""+this.addOneIntervalActionUrl,JSON.stringify([{apiVersion:"v2",action:e}]),this.httpPostOrPutJSONOptions).pipe(Object(a.a)(e=>this.errorSvc.handleError(e)))}updateIntervalAction(e){return this.http.patch(""+this.updateOneIntervaActionlUrl,JSON.stringify([{apiVersion:"v2",action:e}]),this.httpPostOrPutJSONOptions).pipe(Object(a.a)(e=>this.errorSvc.handleError(e)))}findIntervalActionByName(e){return this.http.get(`${this.findOneIntervalActionByNameUrl}${e}`).pipe(Object(a.a)(e=>this.errorSvc.handleError(e)))}deleteIntervalActionByName(e){return this.http.delete(`${this.deleteOneIntervalActionByNameUrl}${e}`).pipe(Object(a.a)(e=>this.errorSvc.handleError(e)))}}return e.\u0275fac=function(t){return new(t||e)(r.Pb(i.a),r.Pb(o.a))},e.\u0275prov=r.Db({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},lzfX:function(e,t,n){"use strict";n.r(t),n.d(t,"SchedulerModule",function(){return z});var i=n("ofXK"),a=n("3Pt+"),r=n("tyNb"),o=n("fXoL");let l=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Bb({type:e,selectors:[["app-scheduler"]],decls:11,vars:0,consts:[[1,"card"],[1,"card-header"],[1,"nav","nav-tabs","card-header-tabs","font-weight-bold"],[1,"nav-item"],["routerLink","./interval-center","routerLinkActive","active",1,"nav-link"],["routerLink","./interval-action-center","routerLinkActive","active",1,"nav-link"],[1,"card-body"]],template:function(e,t){1&e&&(o.Kb(0,"div",0),o.Kb(1,"div",1),o.Kb(2,"ul",2),o.Kb(3,"li",3),o.Kb(4,"a",4),o.vc(5,"Interval"),o.Jb(),o.Jb(),o.Kb(6,"li",3),o.Kb(7,"a",5),o.vc(8,"IntervalAction"),o.Jb(),o.Jb(),o.Jb(),o.Jb(),o.Kb(9,"div",6),o.Ib(10,"router-outlet"),o.Jb(),o.Jb())},directives:[r.h,r.g,r.j],styles:[""]}),e})(),d=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Bb({type:e,selectors:[["app-interval-center"]],decls:1,vars:0,template:function(e,t){1&e&&o.Ib(0,"router-outlet")},directives:[r.j],styles:[""]}),e})();var s=n("1ahc"),b=n("hsl2"),c=n("9vc0");function v(e,t){if(1&e){const e=o.Lb();o.Kb(0,"div",36),o.Kb(1,"div",37),o.Kb(2,"button",38),o.Sb("click",function(){return o.oc(e),o.Vb().refresh()}),o.Kb(3,"span"),o.Ib(4,"i",39),o.vc(5,"Refresh"),o.Jb(),o.Jb(),o.Kb(6,"button",40),o.Kb(7,"span"),o.Ib(8,"i",41),o.vc(9,"Add"),o.Jb(),o.Jb(),o.Kb(10,"button",42),o.Sb("click",function(){return o.oc(e),o.Vb().edit()}),o.Kb(11,"span"),o.Ib(12,"i",43),o.vc(13,"Edit"),o.Jb(),o.Jb(),o.Kb(14,"button",44),o.Sb("click",function(){return o.oc(e),o.Vb().deleteConfirm()}),o.Kb(15,"span"),o.Ib(16,"i",45),o.vc(17,"Delete"),o.Jb(),o.Jb(),o.Jb(),o.Jb()}if(2&e){const e=o.Vb();o.wb(10),o.bc("disabled",1!==e.intervalSelected.length),o.wb(4),o.bc("disabled",0===e.intervalSelected.length)}}function p(e,t){if(1&e){const e=o.Lb();o.Kb(0,"input",46),o.Sb("click",function(t){return o.oc(e),o.Vb().selectAll(t)}),o.Jb()}if(2&e){const e=o.Vb();o.bc("checked",e.isCheckedAll)}}function h(e,t){if(1&e){const e=o.Lb();o.Kb(0,"tr"),o.Kb(1,"td"),o.Kb(2,"input",46),o.Sb("click",function(n){o.oc(e);const i=t.$implicit;return o.Vb().selectOne(n,i)}),o.Jb(),o.Jb(),o.Kb(3,"td",47),o.vc(4),o.Jb(),o.Kb(5,"td",47),o.vc(6),o.Jb(),o.Kb(7,"td"),o.vc(8),o.Jb(),o.Kb(9,"td"),o.vc(10),o.Jb(),o.Kb(11,"td"),o.vc(12),o.Jb(),o.Kb(13,"td"),o.vc(14),o.Jb(),o.Jb()}if(2&e){const e=t.$implicit,n=o.Vb();o.zb("table-active",n.isChecked(e.name)),o.wb(2),o.bc("checked",n.isChecked(e.name)),o.wb(2),o.wc(e.id),o.wb(2),o.wc(e.name),o.wb(2),o.wc(e.start),o.wb(2),o.wc(e.end),o.wb(2),o.wc(e.interval),o.wb(2),o.wc(!!e.runOnce)}}let u=(()=>{class e{constructor(e,t,n,i,a){this.schedulerSvc=e,this.msgSvc=t,this.route=n,this.router=i,this.errSvc=a,this.enableSelectAll=!0,this.singleIntervalSelectedEvent=new o.n,this.toolbars=!0,this.intervalList=[],this.intervalSelected=[],this.isCheckedAll=!1,this.pagination=1,this.pageLimit=5,this.pageOffset=(this.pagination-1)*this.pageLimit}ngOnInit(){this.route.queryParams.subscribe(e=>{e.intervalName?this.schedulerSvc.findIntervalByName(e.intervalName).subscribe(e=>{this.intervalList=[],this.intervalList.push(e.interval)}):this.findIntervalsPagination()})}refresh(){this.schedulerSvc.findAllIntervalsPagination(0,this.pageLimit).subscribe(e=>{this.errSvc.handleErrorForV2API(e)||(this.intervalList=e.intervals,this.msgSvc.success("refresh"),this.resetPagination())})}findIntervalsPagination(){this.schedulerSvc.findAllIntervalsPagination(this.pageOffset,this.pageLimit).subscribe(e=>{this.errSvc.handleErrorForV2API(e)||(this.intervalList=e.intervals)})}onSingleIntervalSelectedEmitter(){this.singleIntervalSelectedEvent.emit(this.singleIntervalSelected)}isSingleChecked(e){var t;return(null===(t=this.singleIntervalSelected)||void 0===t?void 0:t.name)===e}selectSingleInterval(e,t){e.target.checked?this.intervalList.forEach(e=>{e.name===t&&(this.singleIntervalSelected=e)}):this.singleIntervalSelected={},this.onSingleIntervalSelectedEmitter()}selectAll(e){if(e.target.checked)return this.intervalSelected=[],this.intervalList.forEach(e=>{this.intervalSelected.push(e),this.isChecked(e.name)}),void(this.isCheckedAll=!0);this.isCheckedAll=!1,this.intervalSelected=[],this.intervalList.forEach(e=>{this.isChecked(e.name)})}isChecked(e){return this.enableSelectAll?this.intervalSelected.findIndex(t=>t.name===e)>=0:this.isSingleChecked(e)}selectOne(e,t){if(this.enableSelectAll)return e.target.checked?(this.intervalSelected.push(t),void(this.intervalSelected.length===this.intervalList.length&&(this.isCheckedAll=!0))):(this.isCheckedAll=!1,this.isChecked(t.name),void this.intervalSelected.splice(this.intervalSelected.indexOf(t),1));this.selectSingleInterval(e,t.name)}edit(){this.router.navigate(["../edit-interval"],{relativeTo:this.route,queryParams:{intervalName:this.intervalSelected[0].name}})}deleteConfirm(){$("#deleteConfirmDialog").modal("show")}deleteIntervals(){this.intervalSelected.forEach((e,t)=>{this.schedulerSvc.deleteIntervalByName(e.name).subscribe(n=>{this.errSvc.handleErrorForV2API(n)||(this.intervalSelected.splice(t,1),this.intervalList.forEach((t,n)=>{t.name!==e.name||this.intervalList.splice(n,1)}),this.msgSvc.success("delete","name: "+e.name),this.resetPagination(),this.findIntervalsPagination())})}),$("#deleteConfirmDialog").modal("hide")}onPageSelected(){this.resetPagination(),this.setPagination(),this.findIntervalsPagination()}prePage(){this.setPagination(-1),this.findIntervalsPagination()}nextPage(){this.setPagination(1),this.findIntervalsPagination()}setPagination(e){1===e?this.pagination+=1:-1===e&&(this.pagination-=1),this.pageOffset=(this.pagination-1)*this.pageLimit}resetPagination(){this.pagination=1}}return e.\u0275fac=function(t){return new(t||e)(o.Hb(s.a),o.Hb(b.a),o.Hb(r.a),o.Hb(r.e),o.Hb(c.a))},e.\u0275cmp=o.Bb({type:e,selectors:[["app-interval-list"]],inputs:{enableSelectAll:"enableSelectAll",toolbars:"toolbars",singleIntervalSelected:"singleIntervalSelected"},outputs:{singleIntervalSelectedEvent:"singleIntervalSelectedEvent"},decls:62,vars:6,consts:[[1,"card"],[1,"card-header"],[1,"fa","fa-list","text-danger"],[1,"card-body","p-0","position-relative"],["class","bg-light px-2 py-2",4,"ngIf"],[1,"table-responsive"],[1,"table","table-hover","text-truncate"],[1,"thead-light"],["scope","col"],["type","checkbox","role","button",3,"checked","click",4,"ngIf"],[3,"table-active",4,"ngFor","ngForOf"],[1,"card-footer","text-muted","p-1"],["aria-label","navigation"],[1,"pagination","justify-content-end","m-0"],[1,"page-item","mr-2","mt-1"],[1,"align-middle"],[1,"page-item","mr-2"],["name","pageLimit","id","pageLimit",1,"form-control",3,"ngModel","ngModelChange"],["value","5"],["value","10"],["value","20"],[1,"page-item","mr-1"],[1,"page-link","btn",3,"disabled","click"],[1,"fa","fa-angle-double-left"],[1,"page-item"],[1,"fa","fa-angle-double-right"],["id","deleteConfirmDialog","data-backdrop","static","data-keyboard","false","tabindex","-1","aria-labelledby","deleteConfirmDialogLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","deleteConfirmDialogLabel",1,"modal-title","text-danger"],[1,"fa","fa-warning"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],["type","button",1,"btn","btn-danger",3,"click"],[1,"bg-light","px-2","py-2"],["role","group",1,"btn-group","btn-group-sm"],[1,"btn","btn-primary",3,"click"],[1,"fa","fa-refresh","mr-1"],["type","button","routerLink","../add-interval",1,"btn","btn-info"],[1,"fa","fa-plus","mr-1"],["type","button",1,"btn","btn-success",3,"disabled","click"],[1,"fa","fa-edit","mr-1"],["type","button",1,"btn","btn-danger",3,"disabled","click"],[1,"fa","fa-trash","mr-1"],["type","checkbox","role","button",3,"checked","click"],[1,"user-select-all"]],template:function(e,t){1&e&&(o.Kb(0,"div",0),o.Kb(1,"div",1),o.Ib(2,"i",2),o.vc(3," Interval List "),o.Jb(),o.Kb(4,"div",3),o.tc(5,v,18,2,"div",4),o.Kb(6,"div",5),o.Kb(7,"table",6),o.Kb(8,"thead",7),o.Kb(9,"tr"),o.Kb(10,"th",8),o.tc(11,p,1,1,"input",9),o.Jb(),o.Kb(12,"th",8),o.vc(13,"ID"),o.Jb(),o.Kb(14,"th",8),o.vc(15,"Name"),o.Jb(),o.Kb(16,"th",8),o.vc(17,"Start"),o.Jb(),o.Kb(18,"th",8),o.vc(19,"End"),o.Jb(),o.Kb(20,"th",8),o.vc(21,"Interval"),o.Jb(),o.Kb(22,"th",8),o.vc(23,"RunOnce"),o.Jb(),o.Jb(),o.Jb(),o.Kb(24,"tbody"),o.tc(25,h,15,9,"tr",10),o.Jb(),o.Jb(),o.Jb(),o.Jb(),o.Kb(26,"div",11),o.Kb(27,"nav",12),o.Kb(28,"ul",13),o.Kb(29,"li",14),o.Kb(30,"span",15),o.vc(31,"items per page"),o.Jb(),o.Jb(),o.Kb(32,"li",16),o.Kb(33,"select",17),o.Sb("ngModelChange",function(e){return t.pageLimit=e})("ngModelChange",function(){return t.onPageSelected()}),o.Kb(34,"option",18),o.vc(35,"5"),o.Jb(),o.Kb(36,"option",19),o.vc(37,"10"),o.Jb(),o.Kb(38,"option",20),o.vc(39,"20"),o.Jb(),o.Jb(),o.Jb(),o.Kb(40,"li",21),o.Kb(41,"button",22),o.Sb("click",function(){return t.prePage()}),o.Ib(42,"i",23),o.vc(43," Previous"),o.Jb(),o.Jb(),o.Kb(44,"li",24),o.Kb(45,"button",22),o.Sb("click",function(){return t.nextPage()}),o.vc(46,"Next "),o.Ib(47,"i",25),o.Jb(),o.Jb(),o.Jb(),o.Jb(),o.Jb(),o.Jb(),o.Kb(48,"div",26),o.Kb(49,"div",27),o.Kb(50,"div",28),o.Kb(51,"div",29),o.Kb(52,"h5",30),o.Ib(53,"i",31),o.vc(54," Warning "),o.Jb(),o.Jb(),o.Kb(55,"div",32),o.vc(56," Associated actions will also be deleted and the data will be permanently erased!!! Are you sure to execute delete operation\uff1f "),o.Jb(),o.Kb(57,"div",33),o.Kb(58,"button",34),o.vc(59,"Cancel"),o.Jb(),o.Kb(60,"button",35),o.Sb("click",function(){return t.deleteIntervals()}),o.vc(61,"Confirm"),o.Jb(),o.Jb(),o.Jb(),o.Jb(),o.Jb()),2&e&&(o.wb(5),o.bc("ngIf",t.toolbars),o.wb(6),o.bc("ngIf",t.enableSelectAll),o.wb(14),o.bc("ngForOf",t.intervalList),o.wb(8),o.bc("ngModel",t.pageLimit),o.wb(8),o.bc("disabled",1===t.pagination),o.wb(4),o.bc("disabled",t.pageLimit>t.intervalList.length))},directives:[i.l,i.k,a.n,a.f,a.i,a.j,a.o,r.f],styles:[".btn[disabled][_ngcontent-%COMP%]:hover{cursor:not-allowed}"]}),e})();var m=n("X2Dv");let g=(()=>{class e{constructor(e,t,n,i,a){this.schedulerSvc=e,this.msgSvc=t,this.route=n,this.router=i,this.errSvc=a,this.interval={}}ngOnInit(){$('[data-toggle="popover"]').popover({trigger:"hover"}),this.initDatePickr()}initDatePickr(){this.calendarStart=Object(m.a)("input[name='intervalStart']",{dateFormat:"YmdTHiS",enableTime:!0,enableSeconds:!0,time_24hr:!0,allowInput:!1}),this.calendarEnd=Object(m.a)("input[name='intervalEnd']",{dateFormat:"YmdTHiS",enableTime:!0,enableSeconds:!0,time_24hr:!0,allowInput:!1})}submit(){this.schedulerSvc.addInterval(this.interval).subscribe(e=>{this.errSvc.handleErrorForV2API(e)||(this.msgSvc.success("create new interval","name: "+this.interval.name),this.router.navigate(["../interval-list"],{relativeTo:this.route}))})}ngOnDestroy(){$('[data-toggle="popover"]').popover("dispose")}}return e.\u0275fac=function(t){return new(t||e)(o.Hb(s.a),o.Hb(b.a),o.Hb(r.a),o.Hb(r.e),o.Hb(c.a))},e.\u0275cmp=o.Bb({type:e,selectors:[["app-add-interval"]],decls:53,vars:16,consts:[[1,"card"],[1,"card-header"],[1,"fa","fa-plus","text-danger"],[1,"btn","btn-sm","btn-success","float-right",3,"disabled","click"],[1,"card-body"],[1,"form-group","row","has-validation"],["for","intervalName","required","",1,"col-md-2","col-form-label"],[1,"col-md-10"],["type","text","id","validationIntervalName","name","intervalName","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","validationIntervalNameFeedback",1,"invalid-feedback"],[1,"form-group","row"],["for","intervalStart",1,"col-md-2","col-form-label"],[1,"input-group","mb-3"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"fa","fa-calendar"],["type","text","name","intervalStart",1,"form-control",3,"ngModel","ngModelChange"],["for","intervalEnd",1,"col-md-2","col-form-label"],["type","text","name","intervalEnd",1,"form-control",3,"ngModel","ngModelChange"],["for","intervalInterval",1,"col-md-2","col-form-label"],[1,"mr-2"],["role","button","data-html","true","data-animation","true","data-trigger","focus","data-toggle","popover","title","format tips","data-content",'Interval indicates how often the specific resource needs to be polled. It represents as a duration string. The format of this field is to be an unsigned integer followed by a unit which may be "ns", "us" (or "\xb5s"), "ms", "s", "m", "h" representing nanoseconds, microseconds, milliseconds, seconds, minutes or hours. Eg, "100ms", "24h"',1,"fa","fa-question-circle-o","fa-lg"],["type","text","name","intervalInterval","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","validationIntervalIntervalFeedback",1,"invalid-feedback"],["for","intervalRunOnce",1,"col-md-2","col-form-label"],["name","intervalRunOnce",1,"custom-select",3,"ngModel","ngModelChange"],[3,"ngValue"]],template:function(e,t){1&e&&(o.Kb(0,"div",0),o.Kb(1,"div",1),o.Ib(2,"i",2),o.vc(3," Add Interval "),o.Kb(4,"button",3),o.Sb("click",function(){return t.submit()}),o.vc(5,"Submit"),o.Jb(),o.Jb(),o.Kb(6,"div",4),o.Kb(7,"form"),o.Kb(8,"div",5),o.Kb(9,"label",6),o.vc(10,"Name"),o.Jb(),o.Kb(11,"div",7),o.Kb(12,"input",8),o.Sb("ngModelChange",function(e){return t.interval.name=e}),o.Jb(),o.Kb(13,"div",9),o.Kb(14,"small"),o.vc(15,"the interval name can't be empty!"),o.Jb(),o.Jb(),o.Jb(),o.Jb(),o.Kb(16,"div",10),o.Kb(17,"label",11),o.vc(18,"Start"),o.Jb(),o.Kb(19,"div",7),o.Kb(20,"div",12),o.Kb(21,"div",13),o.Kb(22,"span",14),o.Ib(23,"i",15),o.Jb(),o.Jb(),o.Kb(24,"input",16),o.Sb("ngModelChange",function(e){return t.interval.start=e}),o.Jb(),o.Jb(),o.Jb(),o.Jb(),o.Kb(25,"div",10),o.Kb(26,"label",17),o.vc(27,"End"),o.Jb(),o.Kb(28,"div",7),o.Kb(29,"div",12),o.Kb(30,"div",13),o.Kb(31,"span",14),o.Ib(32,"i",15),o.Jb(),o.Jb(),o.Kb(33,"input",18),o.Sb("ngModelChange",function(e){return t.interval.end=e}),o.Jb(),o.Jb(),o.Jb(),o.Jb(),o.Kb(34,"div",10),o.Kb(35,"label",19),o.Kb(36,"span",20),o.vc(37,"Interval"),o.Jb(),o.Ib(38,"span",21),o.Jb(),o.Kb(39,"div",7),o.Kb(40,"input",22),o.Sb("ngModelChange",function(e){return t.interval.interval=e}),o.Jb(),o.Kb(41,"div",23),o.Kb(42,"small"),o.vc(43,"the interval interval can't be empty!"),o.Jb(),o.Jb(),o.Jb(),o.Jb(),o.Kb(44,"div",10),o.Kb(45,"label",24),o.vc(46,"RunOnce"),o.Jb(),o.Kb(47,"div",7),o.Kb(48,"select",25),o.Sb("ngModelChange",function(e){return t.interval.runOnce=e}),o.Kb(49,"option",26),o.vc(50,"false"),o.Jb(),o.Kb(51,"option",26),o.vc(52,"true"),o.Jb(),o.Jb(),o.Jb(),o.Jb(),o.Jb(),o.Jb(),o.Jb()),2&e&&(o.wb(4),o.bc("disabled",!t.interval.name||!t.interval.interval),o.wb(8),o.zb("is-invalid",!t.interval.name)("is-valid",t.interval.name),o.bc("ngModel",t.interval.name),o.wb(12),o.bc("ngModel",t.interval.start),o.wb(9),o.bc("ngModel",t.interval.end),o.wb(7),o.zb("is-invalid",!t.interval.interval)("is-valid",t.interval.interval),o.bc("ngModel",t.interval.interval),o.wb(8),o.bc("ngModel",t.interval.runOnce),o.wb(1),o.bc("ngValue",!1),o.wb(2),o.bc("ngValue",!0))},directives:[a.p,a.g,a.h,a.a,a.m,a.f,a.i,a.n,a.j,a.o],styles:[".btn[disabled][_ngcontent-%COMP%]:hover{cursor:not-allowed}"]}),e})();function f(e,t){if(1&e){const e=o.Lb();o.Kb(0,"form"),o.Kb(1,"div",6),o.Kb(2,"label",7),o.vc(3,"Name"),o.Jb(),o.Kb(4,"div",8),o.Kb(5,"input",9),o.Sb("ngModelChange",function(t){return o.oc(e),o.Vb().interval.name=t}),o.Jb(),o.Kb(6,"div",10),o.Kb(7,"small"),o.vc(8,"the interval name can't be empty!"),o.Jb(),o.Jb(),o.Jb(),o.Jb(),o.Kb(9,"div",11),o.Kb(10,"label",12),o.vc(11,"Start"),o.Jb(),o.Kb(12,"div",8),o.Kb(13,"div",13),o.Kb(14,"div",14),o.Kb(15,"span",15),o.Ib(16,"i",16),o.Jb(),o.Jb(),o.Kb(17,"input",17),o.Sb("ngModelChange",function(t){return o.oc(e),o.Vb().interval.start=t}),o.Jb(),o.Jb(),o.Jb(),o.Jb(),o.Kb(18,"div",11),o.Kb(19,"label",18),o.vc(20,"End"),o.Jb(),o.Kb(21,"div",8),o.Kb(22,"div",13),o.Kb(23,"div",14),o.Kb(24,"span",15),o.Ib(25,"i",16),o.Jb(),o.Jb(),o.Kb(26,"input",19),o.Sb("ngModelChange",function(t){return o.oc(e),o.Vb().interval.end=t}),o.Jb(),o.Jb(),o.Jb(),o.Jb(),o.Kb(27,"div",11),o.Kb(28,"label",20),o.Kb(29,"span",21),o.vc(30,"Interval"),o.Jb(),o.Ib(31,"span",22),o.Jb(),o.Kb(32,"div",8),o.Kb(33,"input",23),o.Sb("ngModelChange",function(t){return o.oc(e),o.Vb().interval.interval=t}),o.Jb(),o.Kb(34,"div",24),o.Kb(35,"small"),o.vc(36,"the interval interval can't be empty!"),o.Jb(),o.Jb(),o.Jb(),o.Jb(),o.Kb(37,"div",11),o.Kb(38,"label",25),o.vc(39,"RunOnce"),o.Jb(),o.Kb(40,"div",8),o.Kb(41,"select",26),o.Sb("ngModelChange",function(t){return o.oc(e),o.Vb().interval.runOnce=t}),o.Kb(42,"option",27),o.vc(43,"false"),o.Jb(),o.Kb(44,"option",27),o.vc(45,"true"),o.Jb(),o.Jb(),o.Jb(),o.Jb(),o.Jb()}if(2&e){const e=o.Vb();o.wb(5),o.zb("is-invalid",!e.interval.name)("is-valid",e.interval.name),o.bc("ngModel",e.interval.name),o.wb(12),o.bc("ngModel",e.interval.start),o.wb(9),o.bc("ngModel",e.interval.end),o.wb(7),o.zb("is-invalid",!e.interval.interval)("is-valid",e.interval.interval),o.bc("ngModel",e.interval.interval),o.wb(8),o.bc("ngModel",e.interval.runOnce),o.wb(1),o.bc("ngValue",!1),o.wb(2),o.bc("ngValue",!0)}}let J=(()=>{class e{constructor(e,t,n,i,a){this.schedulerSvc=e,this.msgSvc=t,this.route=n,this.router=i,this.errSvc=a}ngOnInit(){this.route.queryParams.subscribe(e=>{e.intervalName&&this.schedulerSvc.findIntervalByName(e.intervalName).subscribe(e=>{this.errSvc.handleErrorForV2API(e)||(this.interval=e.interval,this.interval.runOnce=!!this.interval.runOnce,setTimeout(()=>{this.initDatePickr()},300))})})}initDatePickr(){$('[data-toggle="popover"]').popover({trigger:"hover"}),this.calendarStart=Object(m.a)("input[name='intervalStart']",{dateFormat:"YmdTHiS",enableTime:!0,enableSeconds:!0,time_24hr:!0,allowInput:!1}),this.calendarEnd=Object(m.a)("input[name='intervalEnd']",{dateFormat:"YmdTHiS",enableTime:!0,enableSeconds:!0,time_24hr:!0,allowInput:!1})}update(){this.schedulerSvc.updateInterval(this.interval).subscribe(e=>{var t;this.errSvc.handleErrorForV2API(e)||(this.msgSvc.success("update interval","name: "+(null===(t=this.interval)||void 0===t?void 0:t.name)),this.router.navigate(["../interval-list"],{relativeTo:this.route}))})}ngOnDestroy(){$('[data-toggle="popover"]').popover("dispose")}}return e.\u0275fac=function(t){return new(t||e)(o.Hb(s.a),o.Hb(b.a),o.Hb(r.a),o.Hb(r.e),o.Hb(c.a))},e.\u0275cmp=o.Bb({type:e,selectors:[["app-edit-interval"]],decls:8,vars:3,consts:[[1,"card"],[1,"card-header"],[1,"fa","fa-edit","text-danger"],[1,"btn","btn-sm","btn-success","float-right",3,"disabled","click"],[1,"card-body"],[4,"ngIf"],[1,"form-group","row","has-validation"],["for","intervalName","required","",1,"col-md-2","col-form-label"],[1,"col-md-10"],["type","text","name","intervalName",1,"form-control",3,"ngModel","ngModelChange"],["id","validationIntervalNameFeedback",1,"invalid-feedback"],[1,"form-group","row"],["for","intervalStart",1,"col-md-2","col-form-label"],[1,"input-group","mb-3"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"fa","fa-calendar"],["type","text","name","intervalStart",1,"form-control",3,"ngModel","ngModelChange"],["for","intervalEnd2",1,"col-md-2","col-form-label"],["type","text","name","intervalEnd",1,"form-control",3,"ngModel","ngModelChange"],["for","intervalInterval",1,"col-md-2","col-form-label"],[1,"mr-2"],["role","button","data-html","true","data-animation","true","data-trigger","focus","data-toggle","popover","title","ISO8601 duration format","data-content",'Interval indicates how often the specific resource needs to be polled. It represents as a duration string. The format of this field is to be an unsigned integer followed by a unit which may be "ns", "us" (or "\xb5s"), "ms", "s", "m", "h" representing nanoseconds, microseconds, milliseconds, seconds, minutes or hours. Eg, "100ms", "24h"',1,"fa","fa-question-circle-o","fa-lg"],["type","text","name","intervalInterval","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","validationIntervalIntervalFeedback",1,"invalid-feedback"],["for","intervalRunOnce",1,"col-md-2","col-form-label"],["name","intervalRunOnce",1,"custom-select",3,"ngModel","ngModelChange"],[3,"ngValue"]],template:function(e,t){1&e&&(o.Kb(0,"div",0),o.Kb(1,"div",1),o.Ib(2,"i",2),o.vc(3),o.Kb(4,"button",3),o.Sb("click",function(){return t.update()}),o.vc(5,"Submit"),o.Jb(),o.Jb(),o.Kb(6,"div",4),o.tc(7,f,46,15,"form",5),o.Jb(),o.Jb()),2&e&&(o.wb(3),o.xc(" Edit Interval ",null==t.interval?null:t.interval.name," "),o.wb(1),o.bc("disabled",!(null!=t.interval&&t.interval.name)),o.wb(3),o.bc("ngIf",t.interval))},directives:[i.l,a.p,a.g,a.h,a.a,a.f,a.i,a.m,a.n,a.j,a.o],styles:[".btn[disabled][_ngcontent-%COMP%]:hover{cursor:not-allowed}"]}),e})(),K=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Bb({type:e,selectors:[["app-interval-action-center"]],decls:1,vars:0,template:function(e,t){1&e&&o.Ib(0,"router-outlet")},directives:[r.j],styles:[""]}),e})();const A=function(e){return{intervalName:e}};function S(e,t){if(1&e){const e=o.Lb();o.Kb(0,"tr"),o.Kb(1,"td"),o.Kb(2,"input",18),o.Sb("click",function(n){o.oc(e);const i=t.$implicit;return o.Vb().selectOne(n,i)}),o.Jb(),o.Jb(),o.Kb(3,"td",45),o.vc(4),o.Jb(),o.Kb(5,"td",45),o.vc(6),o.Jb(),o.Kb(7,"td"),o.Kb(8,"a",46),o.vc(9),o.Jb(),o.Jb(),o.Kb(10,"td"),o.vc(11),o.Jb(),o.Jb()}if(2&e){const e=t.$implicit,n=o.Vb();o.zb("table-active",n.isChecked(e.name)),o.wb(2),o.bc("checked",n.isChecked(e.name)),o.wb(2),o.wc(e.id),o.wb(2),o.wc(e.name),o.wb(2),o.bc("queryParams",o.hc(8,A,e.intervalName)),o.wb(1),o.wc(e.intervalName),o.wb(2),o.wc(e.address.type)}}let y=(()=>{class e{constructor(e,t,n,i){this.schedulerSvc=e,this.msgSvc=t,this.route=n,this.router=i,this.intervalActionList=[],this.intervalActionSelected=[],this.isCheckedAll=!1,this.pagination=1,this.pageLimit=5,this.pageOffset=(this.pagination-1)*this.pageLimit}ngOnInit(){this.route.queryParams.subscribe(e=>{e.intervalName||this.findIntervalActionsPagination()})}refresh(){this.schedulerSvc.findAllIntervalActionsPagination(0,this.pageLimit).subscribe(e=>{this.intervalActionList=e.actions,this.msgSvc.success("refresh"),this.resetPagination()})}findIntervalActionsPagination(){this.schedulerSvc.findAllIntervalActionsPagination(this.pageOffset,this.pageLimit).subscribe(e=>{this.intervalActionList=e.actions})}selectAll(e){if(e.target.checked)return this.intervalActionSelected=[],this.intervalActionList.forEach(e=>{this.intervalActionSelected.push(e),this.isChecked(e.name)}),void(this.isCheckedAll=!0);this.isCheckedAll=!1,this.intervalActionSelected=[],this.intervalActionList.forEach(e=>{this.isChecked(e.name)})}isChecked(e){return this.intervalActionSelected.findIndex(t=>t.name===e)>=0}selectOne(e,t){if(e.target.checked)return this.intervalActionSelected.push(t),void(this.intervalActionSelected.length===this.intervalActionList.length&&(this.isCheckedAll=!0));this.isCheckedAll=!1,this.isChecked(t.name),this.intervalActionSelected.splice(this.intervalActionSelected.indexOf(t),1)}edit(){this.router.navigate(["../edit-interval-action"],{relativeTo:this.route,queryParams:{intervalActionName:this.intervalActionSelected[0].name}})}deleteConfirm(){$("#deleteConfirmDialog").modal("show")}deleteIntervalActions(){this.intervalActionSelected.forEach((e,t)=>{this.schedulerSvc.deleteIntervalActionByName(e.name).subscribe(()=>{this.intervalActionList.forEach((t,n)=>{t.name!==e.name||this.intervalActionList.splice(n,1)}),this.intervalActionSelected.splice(t,1),this.msgSvc.success("delete","name: "+e.name),this.resetPagination(),this.findIntervalActionsPagination()})}),$("#deleteConfirmDialog").modal("hide")}onPageSelected(){this.resetPagination(),this.setPagination(),this.findIntervalActionsPagination()}prePage(){this.setPagination(-1),this.findIntervalActionsPagination()}nextPage(){this.setPagination(1),this.findIntervalActionsPagination()}setPagination(e){1===e?this.pagination+=1:-1===e&&(this.pagination-=1),this.pageOffset=(this.pagination-1)*this.pageLimit}resetPagination(){this.pagination=1}}return e.\u0275fac=function(t){return new(t||e)(o.Hb(s.a),o.Hb(b.a),o.Hb(r.a),o.Hb(r.e))},e.\u0275cmp=o.Bb({type:e,selectors:[["app-interval-action-list"]],decls:75,vars:7,consts:[[1,"card"],[1,"card-header"],[1,"fa","fa-list","text-danger"],[1,"card-body","p-0","position-relative"],[1,"bg-light","px-2","py-2"],["role","group",1,"btn-group","btn-group-sm"],[1,"btn","btn-primary",3,"click"],[1,"fa","fa-refresh","mr-1"],["type","button","routerLink","../add-interval-action",1,"btn","btn-info"],[1,"fa","fa-plus","mr-1"],["type","button",1,"btn","btn-success",3,"disabled","click"],[1,"fa","fa-edit","mr-1"],["type","button",1,"btn","btn-danger",3,"disabled","click"],[1,"fa","fa-trash","mr-1"],[1,"table-responsive"],[1,"table","table-hover","text-truncate"],[1,"thead-light"],["scope","col"],["type","checkbox","role","button",3,"checked","click"],[3,"table-active",4,"ngFor","ngForOf"],[1,"card-footer","text-muted","p-1"],["aria-label","navigation"],[1,"pagination","justify-content-end","m-0"],[1,"page-item","mr-2","mt-1"],[1,"align-middle"],[1,"page-item","mr-2"],["name","pageLimit","id","pageLimit",1,"form-control",3,"ngModel","ngModelChange"],["value","5"],["value","10"],["value","20"],[1,"page-item","mr-1"],[1,"page-link","btn",3,"disabled","click"],[1,"fa","fa-angle-double-left"],[1,"page-item"],[1,"fa","fa-angle-double-right"],["id","deleteConfirmDialog","data-backdrop","static","data-keyboard","false","tabindex","-1","aria-labelledby","deleteConfirmDialogLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","deleteConfirmDialogLabel",1,"modal-title","text-danger"],[1,"fa","fa-warning"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],["type","button",1,"btn","btn-danger",3,"click"],[1,"user-select-all"],["routerLink","../../interval-center",3,"queryParams"]],template:function(e,t){1&e&&(o.Kb(0,"div",0),o.Kb(1,"div",1),o.Ib(2,"i",2),o.vc(3," Interval Action List "),o.Jb(),o.Kb(4,"div",3),o.Kb(5,"div",4),o.Kb(6,"div",5),o.Kb(7,"button",6),o.Sb("click",function(){return t.refresh()}),o.Kb(8,"span"),o.Ib(9,"i",7),o.vc(10,"Refresh"),o.Jb(),o.Jb(),o.Kb(11,"button",8),o.Kb(12,"span"),o.Ib(13,"i",9),o.vc(14,"Add"),o.Jb(),o.Jb(),o.Kb(15,"button",10),o.Sb("click",function(){return t.edit()}),o.Kb(16,"span"),o.Ib(17,"i",11),o.vc(18,"Edit"),o.Jb(),o.Jb(),o.Kb(19,"button",12),o.Sb("click",function(){return t.deleteConfirm()}),o.Kb(20,"span"),o.Ib(21,"i",13),o.vc(22,"Delete"),o.Jb(),o.Jb(),o.Jb(),o.Jb(),o.Kb(23,"div",14),o.Kb(24,"table",15),o.Kb(25,"thead",16),o.Kb(26,"tr"),o.Kb(27,"th",17),o.Kb(28,"input",18),o.Sb("click",function(e){return t.selectAll(e)}),o.Jb(),o.Jb(),o.Kb(29,"th",17),o.vc(30,"ID"),o.Jb(),o.Kb(31,"th",17),o.vc(32,"Name"),o.Jb(),o.Kb(33,"th",17),o.vc(34,"AssociatedInterval"),o.Jb(),o.Kb(35,"th",17),o.vc(36,"AddressType"),o.Jb(),o.Jb(),o.Jb(),o.Kb(37,"tbody"),o.tc(38,S,12,10,"tr",19),o.Jb(),o.Jb(),o.Jb(),o.Jb(),o.Kb(39,"div",20),o.Kb(40,"nav",21),o.Kb(41,"ul",22),o.Kb(42,"li",23),o.Kb(43,"span",24),o.vc(44,"items per page"),o.Jb(),o.Jb(),o.Kb(45,"li",25),o.Kb(46,"select",26),o.Sb("ngModelChange",function(e){return t.pageLimit=e})("ngModelChange",function(){return t.onPageSelected()}),o.Kb(47,"option",27),o.vc(48,"5"),o.Jb(),o.Kb(49,"option",28),o.vc(50,"10"),o.Jb(),o.Kb(51,"option",29),o.vc(52,"20"),o.Jb(),o.Jb(),o.Jb(),o.Kb(53,"li",30),o.Kb(54,"button",31),o.Sb("click",function(){return t.prePage()}),o.Ib(55,"i",32),o.vc(56," Previous"),o.Jb(),o.Jb(),o.Kb(57,"li",33),o.Kb(58,"button",31),o.Sb("click",function(){return t.nextPage()}),o.vc(59,"Next "),o.Ib(60,"i",34),o.Jb(),o.Jb(),o.Jb(),o.Jb(),o.Jb(),o.Jb(),o.Kb(61,"div",35),o.Kb(62,"div",36),o.Kb(63,"div",37),o.Kb(64,"div",38),o.Kb(65,"h5",39),o.Ib(66,"i",40),o.vc(67," Warning "),o.Jb(),o.Jb(),o.Kb(68,"div",41),o.vc(69," The data will be permanently erased!!! Are you sure to execute delete operation\uff1f "),o.Jb(),o.Kb(70,"div",42),o.Kb(71,"button",43),o.vc(72,"Cancel"),o.Jb(),o.Kb(73,"button",44),o.Sb("click",function(){return t.deleteIntervalActions()}),o.vc(74,"Confirm"),o.Jb(),o.Jb(),o.Jb(),o.Jb(),o.Jb()),2&e&&(o.wb(15),o.bc("disabled",1!==t.intervalActionSelected.length),o.wb(4),o.bc("disabled",0===t.intervalActionSelected.length),o.wb(9),o.bc("checked",t.isCheckedAll),o.wb(10),o.bc("ngForOf",t.intervalActionList),o.wb(8),o.bc("ngModel",t.pageLimit),o.wb(8),o.bc("disabled",1===t.pagination),o.wb(4),o.bc("disabled",t.pageLimit>t.intervalActionList.length))},directives:[r.f,i.k,a.n,a.f,a.i,a.j,a.o,r.h],styles:[""]}),e})();function M(e,t){if(1&e){const e=o.Lb();o.Kb(0,"div",10),o.Sb("click",function(t){return o.oc(e),o.Vb().close(t)}),o.Jb()}}let I=(()=>{class e{constructor(){this.visible=!1,this.validate=!1,this.intervalSelectedEvent=new o.n,this.selectedInterval={}}ngOnInit(){}onSingleIntervalSelected(e){this.selectedInterval=e,this.intervalSelectedEvent.emit(e)}close(e){e.stopPropagation(),this.visible=!1}toggle(e){e.stopImmediatePropagation(),this.visible=!this.visible}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Bb({type:e,selectors:[["app-interval-combo-list"]],inputs:{validate:"validate",selectedInterval:"selectedInterval"},outputs:{intervalSelectedEvent:"intervalSelectedEvent"},decls:12,vars:11,consts:[["class","combo-shielder",3,"click",4,"ngIf"],[1,"combo"],[1,"input-group","has-validation",3,"click"],["type","text","name","selectedInterval","readonly","readonly","maxlength","0","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-group-append"],["role","button",1,"input-group-text"],[1,"fa","fa-chevron-down"],["id","validationIntervalNameFeedback",1,"invalid-feedback"],[1,"combo-body","shadow","rounded"],[3,"singleIntervalSelected","enableSelectAll","toolbars","singleIntervalSelectedEvent"],[1,"combo-shielder",3,"click"]],template:function(e,t){1&e&&(o.tc(0,M,1,0,"div",0),o.Kb(1,"div",1),o.Kb(2,"div",2),o.Sb("click",function(e){return t.toggle(e)}),o.Kb(3,"input",3),o.Sb("ngModelChange",function(e){return t.selectedInterval.name=e}),o.Jb(),o.Kb(4,"div",4),o.Kb(5,"span",5),o.Ib(6,"i",6),o.Jb(),o.Jb(),o.Kb(7,"div",7),o.Kb(8,"small"),o.vc(9,"the interval name can't be empty!"),o.Jb(),o.Jb(),o.Jb(),o.Kb(10,"div",8),o.Kb(11,"app-interval-list",9),o.Sb("singleIntervalSelectedEvent",function(e){return t.onSingleIntervalSelected(e)}),o.Jb(),o.Jb(),o.Jb()),2&e&&(o.bc("ngIf",t.visible),o.wb(3),o.zb("is-invalid",!t.selectedInterval.name&&t.validate)("is-valid",t.selectedInterval.name&&t.validate),o.bc("ngModel",t.selectedInterval.name),o.wb(7),o.sc("display",t.visible?"":"none"),o.wb(1),o.bc("singleIntervalSelected",t.selectedInterval)("enableSelectAll",!1)("toolbars",!1))},directives:[i.l,a.a,a.c,a.m,a.f,a.i,u],styles:[".combo[_ngcontent-%COMP%]{position:relative;right:auto}.combo-shielder[_ngcontent-%COMP%]{position:fixed;top:0;bottom:0;right:0;left:0;z-index:100}.combo-body[_ngcontent-%COMP%]{position:absolute;top:33px;bottom:auto;left:0;right:0;z-index:105;visibility:visible;display:inline-block}"]}),e})();var T=n("HpGU");function C(e,t){if(1&e){const e=o.Lb();o.Kb(0,"div",1),o.Kb(1,"span",57),o.Sb("click",function(){return o.oc(e),o.Vb().templateToggle("coredata")}),o.vc(2,"CoreDataSeviceTemplate"),o.Jb(),o.Kb(3,"span",57),o.Sb("click",function(){return o.oc(e),o.Vb().templateToggle("command")}),o.vc(4,"CommandServiceTemplate"),o.Jb(),o.Kb(5,"span",57),o.Sb("click",function(){return o.oc(e),o.Vb().templateToggle("custom")}),o.vc(6,"CustomTemplate"),o.Jb(),o.Jb()}if(2&e){const e=o.Vb();o.wb(1),o.zb("badge-secondary","coredata"!==e.templateSelected)("badge-primary","coredata"===e.templateSelected),o.wb(2),o.zb("badge-secondary","command"!==e.templateSelected)("badge-primary","command"===e.templateSelected),o.wb(2),o.zb("badge-secondary","custom"!==e.templateSelected)("badge-primary","custom"===e.templateSelected)}}function w(e,t){if(1&e){const e=o.Lb();o.Kb(0,"form"),o.Kb(1,"div",12),o.Kb(2,"label",64),o.vc(3,"HttpMethod"),o.Jb(),o.Kb(4,"div",9),o.Kb(5,"select",65),o.Sb("ngModelChange",function(t){return o.oc(e),o.Vb(2).intervalAction.address.httpMethod=t}),o.Kb(6,"option",66),o.vc(7,"GET"),o.Jb(),o.Kb(8,"option",67),o.vc(9,"POST"),o.Jb(),o.Kb(10,"option",68),o.vc(11,"PUT"),o.Jb(),o.Kb(12,"option",69),o.vc(13,"DELETE"),o.Jb(),o.Kb(14,"option",70),o.vc(15,"PATCH"),o.Jb(),o.Kb(16,"option",71),o.vc(17,"HEAD"),o.Jb(),o.Kb(18,"option",72),o.vc(19,"TRACE"),o.Jb(),o.Kb(20,"option",73),o.vc(21,"CONNECT"),o.Jb(),o.Jb(),o.Jb(),o.Jb(),o.Kb(22,"div",7),o.Kb(23,"label",74),o.vc(24,"Host"),o.Jb(),o.Kb(25,"div",9),o.Kb(26,"input",75),o.Sb("ngModelChange",function(t){return o.oc(e),o.Vb(2).intervalAction.address.host=t}),o.Jb(),o.Kb(27,"div",76),o.Kb(28,"small"),o.vc(29,"the REST address host can't be empty!"),o.Jb(),o.Jb(),o.Jb(),o.Jb(),o.Kb(30,"div",7),o.Kb(31,"label",77),o.vc(32,"Port"),o.Jb(),o.Kb(33,"div",9),o.Kb(34,"input",78),o.Sb("ngModelChange",function(t){return o.oc(e),o.Vb(2).intervalAction.address.port=t}),o.Jb(),o.Kb(35,"div",79),o.Kb(36,"small"),o.vc(37,"the REST address port can't be empty and only pure integer is supported!"),o.Jb(),o.Jb(),o.Jb(),o.Jb(),o.Kb(38,"div",12),o.Kb(39,"label",80),o.vc(40,"Path"),o.Jb(),o.Kb(41,"div",9),o.Kb(42,"input",81),o.Sb("ngModelChange",function(t){return o.oc(e),o.Vb(2).intervalAction.address.path=t}),o.Jb(),o.Jb(),o.Jb(),o.Kb(43,"div",12),o.Kb(44,"label",82),o.vc(45,"RequestBody"),o.Jb(),o.Kb(46,"div",9),o.Kb(47,"input",83),o.Sb("ngModelChange",function(t){return o.oc(e),o.Vb(2).intervalAction.address.requestBody=t}),o.Jb(),o.Jb(),o.Jb(),o.Kb(48,"div",12),o.Kb(49,"label",82),o.Kb(50,"span",41),o.vc(51,"ContentType"),o.Jb(),o.Ib(52,"span",84),o.Jb(),o.Kb(53,"div",9),o.Kb(54,"input",85),o.Sb("ngModelChange",function(t){return o.oc(e),o.Vb(2).intervalAction.address.contentType=t}),o.Jb(),o.Jb(),o.Jb(),o.Jb()}if(2&e){const e=o.Vb(2);o.wb(5),o.bc("ngModel",e.intervalAction.address.httpMethod),o.wb(21),o.zb("is-invalid",!e.intervalAction.address.host)("is-valid",e.intervalAction.address.host),o.bc("ngModel",e.intervalAction.address.host),o.wb(8),o.zb("is-invalid",!e.isPureIntegerType(e.intervalAction.address.port))("is-valid",e.isPureIntegerType(e.intervalAction.address.port)),o.bc("ngModel",e.intervalAction.address.port),o.wb(8),o.bc("ngModel",e.intervalAction.address.path),o.wb(5),o.bc("ngModel",e.intervalAction.address.requestBody),o.wb(7),o.bc("ngModel",e.intervalAction.address.contentType)}}function P(e,t){if(1&e){const e=o.Lb();o.Kb(0,"form"),o.Kb(1,"div",12),o.Kb(2,"label",64),o.vc(3,"HttpMethod"),o.Jb(),o.Kb(4,"div",9),o.Kb(5,"select",65),o.Sb("ngModelChange",function(t){return o.oc(e),o.Vb(2).intervalAction.address.httpMethod=t}),o.Kb(6,"option",69),o.vc(7,"DELETE"),o.Jb(),o.Jb(),o.Jb(),o.Jb(),o.Kb(8,"div",7),o.Kb(9,"label",74),o.Kb(10,"span",41),o.vc(11,"Host"),o.Jb(),o.Ib(12,"span",86),o.Jb(),o.Kb(13,"div",9),o.Kb(14,"input",75),o.Sb("ngModelChange",function(t){return o.oc(e),o.Vb(2).intervalAction.address.host=t}),o.Jb(),o.Kb(15,"div",76),o.Kb(16,"small"),o.vc(17,"the REST address host can't be empty!"),o.Jb(),o.Jb(),o.Jb(),o.Jb(),o.Kb(18,"div",7),o.Kb(19,"label",77),o.vc(20,"Port"),o.Jb(),o.Kb(21,"div",9),o.Kb(22,"input",78),o.Sb("ngModelChange",function(t){return o.oc(e),o.Vb(2).intervalAction.address.port=t}),o.Jb(),o.Kb(23,"div",79),o.Kb(24,"small"),o.vc(25,"the REST address port can't be empty and only pure integer is supported!"),o.Jb(),o.Jb(),o.Jb(),o.Jb(),o.Kb(26,"div",12),o.Kb(27,"label",80),o.Kb(28,"span",41),o.vc(29,"Path"),o.Jb(),o.Ib(30,"span",87),o.Jb(),o.Kb(31,"div",9),o.Kb(32,"input",88),o.Sb("ngModelChange",function(t){return o.oc(e),o.Vb(2).intervalAction.address.path=t}),o.Jb(),o.Jb(),o.Jb(),o.Kb(33,"div",12),o.Kb(34,"label",82),o.vc(35,"Parameter"),o.Jb(),o.Kb(36,"div",9),o.Kb(37,"div",89),o.Kb(38,"div",90),o.Kb(39,"span",91),o.Ib(40,"i",92),o.Jb(),o.Jb(),o.Kb(41,"input",93),o.Sb("ngModelChange",function(t){return o.oc(e),o.Vb(2).coredataRequestParameter=t}),o.Jb(),o.Jb(),o.Jb(),o.Jb(),o.Jb()}if(2&e){const e=o.Vb(2);o.wb(5),o.bc("ngModel",e.intervalAction.address.httpMethod),o.wb(9),o.zb("is-invalid",!e.intervalAction.address.host)("is-valid",e.intervalAction.address.host),o.bc("ngModel",e.intervalAction.address.host),o.wb(8),o.zb("is-invalid",!e.isPureIntegerType(e.intervalAction.address.port))("is-valid",e.isPureIntegerType(e.intervalAction.address.port)),o.bc("ngModel",e.intervalAction.address.port),o.wb(10),o.bc("ngModel",e.intervalAction.address.path),o.wb(9),o.bc("ngModel",e.coredataRequestParameter)}}function E(e,t){if(1&e){const e=o.Lb();o.Kb(0,"form"),o.Kb(1,"div",12),o.Kb(2,"label",64),o.Kb(3,"span",41),o.vc(4,"HttpMethod"),o.Jb(),o.Ib(5,"span",94),o.Jb(),o.Kb(6,"div",9),o.Kb(7,"input",95),o.Sb("ngModelChange",function(t){return o.oc(e),o.Vb(2).intervalAction.address.httpMethod=t}),o.Jb(),o.Jb(),o.Jb(),o.Kb(8,"div",7),o.Kb(9,"label",74),o.Kb(10,"span",41),o.vc(11,"Host"),o.Jb(),o.Ib(12,"span",86),o.Jb(),o.Kb(13,"div",9),o.Kb(14,"input",75),o.Sb("ngModelChange",function(t){return o.oc(e),o.Vb(2).intervalAction.address.host=t}),o.Jb(),o.Kb(15,"div",76),o.Kb(16,"small"),o.vc(17,"the REST address host can't be empty!"),o.Jb(),o.Jb(),o.Jb(),o.Jb(),o.Kb(18,"div",7),o.Kb(19,"label",77),o.vc(20,"Port"),o.Jb(),o.Kb(21,"div",9),o.Kb(22,"input",78),o.Sb("ngModelChange",function(t){return o.oc(e),o.Vb(2).intervalAction.address.port=t}),o.Jb(),o.Kb(23,"div",79),o.Kb(24,"small"),o.vc(25,"the REST address port can't be empty and only pure integer is supported!"),o.Jb(),o.Jb(),o.Jb(),o.Jb(),o.Kb(26,"div",12),o.Kb(27,"label",80),o.vc(28,"Path"),o.Jb(),o.Kb(29,"div",9),o.Kb(30,"app-device-core-command-combo-list",96),o.Sb("cmdMethodEvent",function(t){return o.oc(e),o.Vb(2).onCmdMethodSelected(t)})("commandSelectedEvent",function(t){return o.oc(e),o.Vb(2).onCommandSelected(t)}),o.Jb(),o.Jb(),o.Jb(),o.Kb(31,"div",12),o.Kb(32,"label",82),o.vc(33,"RequestBody"),o.Jb(),o.Kb(34,"div",9),o.Kb(35,"input",83),o.Sb("ngModelChange",function(t){return o.oc(e),o.Vb(2).intervalAction.address.requestBody=t}),o.Jb(),o.Jb(),o.Jb(),o.Jb()}if(2&e){const e=o.Vb(2);o.wb(7),o.bc("ngModel",e.intervalAction.address.httpMethod),o.wb(7),o.zb("is-invalid",!e.intervalAction.address.host)("is-valid",e.intervalAction.address.host),o.bc("ngModel",e.intervalAction.address.host),o.wb(8),o.zb("is-invalid",!e.isPureIntegerType(e.intervalAction.address.port))("is-valid",e.isPureIntegerType(e.intervalAction.address.port)),o.bc("ngModel",e.intervalAction.address.port),o.wb(8),o.bc("validate",!0),o.wb(5),o.bc("ngModel",e.intervalAction.address.requestBody)}}function k(e,t){if(1&e&&(o.Kb(0,"div",null,58),o.Kb(2,"div",59),o.tc(3,w,55,14,"ng-template",60,61,o.uc),o.tc(5,P,42,13,"ng-template",60,62,o.uc),o.tc(7,E,36,13,"ng-template",60,63,o.uc),o.Jb(),o.Jb()),2&e){const e=o.Vb();o.wb(2),o.bc("ngSwitch",e.templateSelected),o.wb(1),o.bc("ngSwitchCase","custom"),o.wb(2),o.bc("ngSwitchCase","coredata"),o.wb(2),o.bc("ngSwitchCase","command")}}function R(e,t){if(1&e){const e=o.Lb();o.Kb(0,"div",31),o.Kb(1,"app-interval-combo-list",32),o.Sb("intervalSelectedEvent",function(t){return o.oc(e),o.Vb(2).onSingleIntervalSelected(t)}),o.Jb(),o.Jb()}if(2&e){const e=o.Vb(2);o.wb(1),o.bc("validate",!0)("selectedInterval",e.selectedIntervalDefault)}}function O(e,t){if(1&e){const e=o.Lb();o.Kb(0,"div",1),o.Kb(1,"span",33),o.vc(2,"Available and Editable templates >>"),o.Jb(),o.Ib(3,"span",34),o.Kb(4,"span",35),o.Sb("click",function(){o.oc(e);const t=o.Vb(2);return t.templateToggle(t.template_type_coredata)}),o.vc(5,"CoreDataSeviceTemplate"),o.Jb(),o.Kb(6,"span",35),o.Sb("click",function(){o.oc(e);const t=o.Vb(2);return t.templateToggle(t.template_type_command)}),o.vc(7,"CommandServiceTemplate"),o.Jb(),o.Kb(8,"span",35),o.Sb("click",function(){o.oc(e);const t=o.Vb(2);return t.templateToggle(t.template_type_custom)}),o.vc(9,"CustomTemplate"),o.Jb(),o.Jb()}if(2&e){const e=o.Vb(2);o.wb(4),o.zb("badge-secondary",e.templateSelected!==e.template_type_coredata)("badge-primary",e.templateSelected===e.template_type_coredata),o.wb(2),o.zb("badge-secondary",e.templateSelected!==e.template_type_command)("badge-primary",e.templateSelected===e.template_type_command),o.wb(2),o.zb("badge-secondary",e.templateSelected!==e.template_type_custom)("badge-primary",e.templateSelected===e.template_type_custom)}}function V(e,t){if(1&e){const e=o.Lb();o.Kb(0,"form"),o.Kb(1,"div",11),o.Kb(2,"label",42),o.vc(3,"HttpMethod"),o.Jb(),o.Kb(4,"div",8),o.Kb(5,"select",43),o.Sb("ngModelChange",function(t){return o.oc(e),o.Vb(3).intervalAction.address.httpMethod=t}),o.Kb(6,"option",44),o.vc(7,"GET"),o.Jb(),o.Kb(8,"option",45),o.vc(9,"POST"),o.Jb(),o.Kb(10,"option",46),o.vc(11,"PUT"),o.Jb(),o.Kb(12,"option",47),o.vc(13,"DELETE"),o.Jb(),o.Kb(14,"option",48),o.vc(15,"PATCH"),o.Jb(),o.Kb(16,"option",49),o.vc(17,"HEAD"),o.Jb(),o.Kb(18,"option",50),o.vc(19,"TRACE"),o.Jb(),o.Kb(20,"option",51),o.vc(21,"CONNECT"),o.Jb(),o.Jb(),o.Jb(),o.Jb(),o.Kb(22,"div",6),o.Kb(23,"label",52),o.vc(24,"Host"),o.Jb(),o.Kb(25,"div",8),o.Kb(26,"input",53),o.Sb("ngModelChange",function(t){return o.oc(e),o.Vb(3).intervalAction.address.host=t}),o.Jb(),o.Kb(27,"div",54),o.Kb(28,"small"),o.vc(29,"the REST address host can't be empty!"),o.Jb(),o.Jb(),o.Jb(),o.Jb(),o.Kb(30,"div",6),o.Kb(31,"label",55),o.vc(32,"Port"),o.Jb(),o.Kb(33,"div",8),o.Kb(34,"input",56),o.Sb("ngModelChange",function(t){return o.oc(e),o.Vb(3).intervalAction.address.port=t}),o.Jb(),o.Kb(35,"div",57),o.Kb(36,"small"),o.vc(37,"the REST address port can't be empty and only pure integer is supported!"),o.Jb(),o.Jb(),o.Jb(),o.Jb(),o.Kb(38,"div",11),o.Kb(39,"label",58),o.vc(40,"Path"),o.Jb(),o.Kb(41,"div",8),o.Kb(42,"input",59),o.Sb("ngModelChange",function(t){return o.oc(e),o.Vb(3).intervalAction.address.path=t}),o.Jb(),o.Jb(),o.Jb(),o.Kb(43,"div",11),o.Kb(44,"label",60),o.vc(45,"RequestBody"),o.Jb(),o.Kb(46,"div",8),o.Kb(47,"input",61),o.Sb("ngModelChange",function(t){return o.oc(e),o.Vb(3).intervalAction.address.requestBody=t}),o.Jb(),o.Jb(),o.Jb(),o.Kb(48,"div",11),o.Kb(49,"label",60),o.Kb(50,"span",28),o.vc(51,"ContentType"),o.Jb(),o.Ib(52,"span",62),o.Jb(),o.Kb(53,"div",8),o.Kb(54,"input",63),o.Sb("ngModelChange",function(t){return o.oc(e),o.Vb(3).intervalAction.address.contentType=t}),o.Jb(),o.Jb(),o.Jb(),o.Jb()}if(2&e){const e=o.Vb(3);o.wb(5),o.bc("ngModel",e.intervalAction.address.httpMethod),o.wb(21),o.zb("is-invalid",!e.intervalAction.address.host)("is-valid",e.intervalAction.address.host),o.bc("ngModel",e.intervalAction.address.host),o.wb(8),o.zb("is-invalid",!e.isPureIntegerType(e.intervalAction.address.port))("is-valid",e.isPureIntegerType(e.intervalAction.address.port)),o.bc("ngModel",e.intervalAction.address.port),o.wb(8),o.bc("ngModel",e.intervalAction.address.path),o.wb(5),o.bc("ngModel",e.intervalAction.address.requestBody),o.wb(7),o.bc("ngModel",e.intervalAction.address.contentType)}}function L(e,t){if(1&e){const e=o.Lb();o.Kb(0,"form"),o.Kb(1,"div",11),o.Kb(2,"label",42),o.vc(3,"HttpMethod"),o.Jb(),o.Kb(4,"div",8),o.Kb(5,"select",43),o.Sb("ngModelChange",function(t){return o.oc(e),o.Vb(3).intervalAction.address.httpMethod=t}),o.Kb(6,"option",47),o.vc(7,"DELETE"),o.Jb(),o.Jb(),o.Jb(),o.Jb(),o.Kb(8,"div",6),o.Kb(9,"label",52),o.Kb(10,"span",28),o.vc(11,"Host"),o.Jb(),o.Ib(12,"span",64),o.Jb(),o.Kb(13,"div",8),o.Kb(14,"input",53),o.Sb("ngModelChange",function(t){return o.oc(e),o.Vb(3).intervalAction.address.host=t}),o.Jb(),o.Kb(15,"div",54),o.Kb(16,"small"),o.vc(17,"the REST address host can't be empty!"),o.Jb(),o.Jb(),o.Jb(),o.Jb(),o.Kb(18,"div",6),o.Kb(19,"label",55),o.vc(20,"Port"),o.Jb(),o.Kb(21,"div",8),o.Kb(22,"input",56),o.Sb("ngModelChange",function(t){return o.oc(e),o.Vb(3).intervalAction.address.port=t}),o.Jb(),o.Kb(23,"div",57),o.Kb(24,"small"),o.vc(25,"the REST address port can't be empty and only pure integer is supported!"),o.Jb(),o.Jb(),o.Jb(),o.Jb(),o.Kb(26,"div",11),o.Kb(27,"label",58),o.Kb(28,"span",28),o.vc(29,"Path"),o.Jb(),o.Ib(30,"span",65),o.Jb(),o.Kb(31,"div",8),o.Kb(32,"input",66),o.Sb("ngModelChange",function(t){return o.oc(e),o.Vb(3).intervalAction.address.path=t}),o.Jb(),o.Jb(),o.Jb(),o.Kb(33,"div",11),o.Kb(34,"label",60),o.vc(35,"Parameter"),o.Jb(),o.Kb(36,"div",8),o.Kb(37,"div",67),o.Kb(38,"div",68),o.Kb(39,"span",69),o.Ib(40,"i",70),o.Jb(),o.Jb(),o.Kb(41,"input",71),o.Sb("ngModelChange",function(t){return o.oc(e),o.Vb(3).coredataRequestParameter=t}),o.Jb(),o.Jb(),o.Jb(),o.Jb(),o.Jb()}if(2&e){const e=o.Vb(3);o.wb(5),o.bc("ngModel",e.intervalAction.address.httpMethod),o.wb(9),o.zb("is-invalid",!e.intervalAction.address.host)("is-valid",e.intervalAction.address.host),o.bc("ngModel",e.intervalAction.address.host),o.wb(8),o.zb("is-invalid",!e.isPureIntegerType(e.intervalAction.address.port))("is-valid",e.isPureIntegerType(e.intervalAction.address.port)),o.bc("ngModel",e.intervalAction.address.port),o.wb(10),o.bc("ngModel",e.intervalAction.address.path),o.wb(9),o.bc("ngModel",e.coredataRequestParameter)}}function x(e,t){if(1&e){const e=o.Lb();o.Kb(0,"form"),o.Kb(1,"div",11),o.Kb(2,"label",42),o.Kb(3,"span",28),o.vc(4,"HttpMethod"),o.Jb(),o.Ib(5,"span",72),o.Jb(),o.Kb(6,"div",8),o.Kb(7,"input",73),o.Sb("ngModelChange",function(t){return o.oc(e),o.Vb(3).intervalAction.address.httpMethod=t}),o.Jb(),o.Jb(),o.Jb(),o.Kb(8,"div",6),o.Kb(9,"label",52),o.Kb(10,"span",28),o.vc(11,"Host"),o.Jb(),o.Ib(12,"span",64),o.Jb(),o.Kb(13,"div",8),o.Kb(14,"input",53),o.Sb("ngModelChange",function(t){return o.oc(e),o.Vb(3).intervalAction.address.host=t}),o.Jb(),o.Kb(15,"div",54),o.Kb(16,"small"),o.vc(17,"the REST address host can't be empty!"),o.Jb(),o.Jb(),o.Jb(),o.Jb(),o.Kb(18,"div",6),o.Kb(19,"label",55),o.vc(20,"Port"),o.Jb(),o.Kb(21,"div",8),o.Kb(22,"input",56),o.Sb("ngModelChange",function(t){return o.oc(e),o.Vb(3).intervalAction.address.port=t}),o.Jb(),o.Kb(23,"div",57),o.Kb(24,"small"),o.vc(25,"the REST address port can't be empty and only pure integer is supported!"),o.Jb(),o.Jb(),o.Jb(),o.Jb(),o.Kb(26,"div",11),o.Kb(27,"label",58),o.vc(28,"Path"),o.Jb(),o.Kb(29,"div",8),o.Kb(30,"app-device-core-command-combo-list",74),o.Sb("cmdMethodEvent",function(t){return o.oc(e),o.Vb(3).onCmdMethodSelected(t)})("commandSelectedEvent",function(t){return o.oc(e),o.Vb(3).onCommandSelected(t)}),o.Jb(),o.Jb(),o.Jb(),o.Kb(31,"div",11),o.Kb(32,"label",60),o.vc(33,"RequestBody"),o.Jb(),o.Kb(34,"div",8),o.Kb(35,"input",61),o.Sb("ngModelChange",function(t){return o.oc(e),o.Vb(3).intervalAction.address.requestBody=t}),o.Jb(),o.Jb(),o.Jb(),o.Jb()}if(2&e){const e=o.Vb(3);o.wb(7),o.bc("ngModel",e.intervalAction.address.httpMethod),o.wb(7),o.zb("is-invalid",!e.intervalAction.address.host)("is-valid",e.intervalAction.address.host),o.bc("ngModel",e.intervalAction.address.host),o.wb(8),o.zb("is-invalid",!e.isPureIntegerType(e.intervalAction.address.port))("is-valid",e.isPureIntegerType(e.intervalAction.address.port)),o.bc("ngModel",e.intervalAction.address.port),o.wb(8),o.bc("validate",!0),o.wb(5),o.bc("ngModel",e.intervalAction.address.requestBody)}}function q(e,t){if(1&e&&(o.Kb(0,"div",null,36),o.Kb(2,"div",37),o.tc(3,V,55,14,"ng-template",38,39,o.uc),o.tc(5,L,42,13,"ng-template",38,40,o.uc),o.tc(7,x,36,13,"ng-template",38,41,o.uc),o.Jb(),o.Jb()),2&e){const e=o.Vb(2);o.wb(2),o.bc("ngSwitch",e.templateSelected),o.wb(1),o.bc("ngSwitchCase",e.template_type_custom),o.wb(2),o.bc("ngSwitchCase",e.template_type_coredata),o.wb(2),o.bc("ngSwitchCase",e.template_type_command)}}function N(e,t){if(1&e){const e=o.Lb();o.Kb(0,"div",null,75),o.Kb(2,"form"),o.Kb(3,"div",6),o.Kb(4,"label",76),o.vc(5,"Host"),o.Jb(),o.Kb(6,"div",8),o.Kb(7,"input",77),o.Sb("ngModelChange",function(t){return o.oc(e),o.Vb(2).intervalAction.address.host=t}),o.Jb(),o.Kb(8,"div",78),o.Kb(9,"small"),o.vc(10,"the MQTT host can't be empty!"),o.Jb(),o.Jb(),o.Jb(),o.Jb(),o.Kb(11,"div",6),o.Kb(12,"label",79),o.vc(13,"Port"),o.Jb(),o.Kb(14,"div",8),o.Kb(15,"input",80),o.Sb("ngModelChange",function(t){return o.oc(e),o.Vb(2).intervalAction.address.port=t}),o.Jb(),o.Kb(16,"div",81),o.Kb(17,"small"),o.vc(18,"the MQTT port can't be empty and only pure integer is supported!!"),o.Jb(),o.Jb(),o.Jb(),o.Jb(),o.Kb(19,"div",6),o.Kb(20,"label",82),o.vc(21,"Publisher"),o.Jb(),o.Kb(22,"div",8),o.Kb(23,"input",83),o.Sb("ngModelChange",function(t){return o.oc(e),o.Vb(2).intervalAction.address.publisher=t}),o.Jb(),o.Kb(24,"div",84),o.Kb(25,"small"),o.vc(26,"the MQTT publisher can't be empty!"),o.Jb(),o.Jb(),o.Jb(),o.Jb(),o.Kb(27,"div",6),o.Kb(28,"label",85),o.vc(29,"Topic"),o.Jb(),o.Kb(30,"div",8),o.Kb(31,"input",86),o.Sb("ngModelChange",function(t){return o.oc(e),o.Vb(2).intervalAction.address.topic=t}),o.Jb(),o.Kb(32,"div",87),o.Kb(33,"small"),o.vc(34,"the MQTT topic can't be empty!"),o.Jb(),o.Jb(),o.Jb(),o.Jb(),o.Kb(35,"div",11),o.Kb(36,"label",88),o.vc(37,"QoS"),o.Jb(),o.Kb(38,"div",8),o.Kb(39,"input",89),o.Sb("ngModelChange",function(t){return o.oc(e),o.Vb(2).intervalAction.address.qos=t}),o.Jb(),o.Jb(),o.Jb(),o.Kb(40,"div",11),o.Kb(41,"label",90),o.vc(42,"KeepAlive"),o.Jb(),o.Kb(43,"div",8),o.Kb(44,"input",91),o.Sb("ngModelChange",function(t){return o.oc(e),o.Vb(2).intervalAction.address.keepAlive=t}),o.Jb(),o.Jb(),o.Jb(),o.Kb(45,"div",11),o.Kb(46,"label",92),o.vc(47,"Retained"),o.Jb(),o.Kb(48,"div",8),o.Kb(49,"select",93),o.Sb("ngModelChange",function(t){return o.oc(e),o.Vb(2).intervalAction.address.retained=t}),o.Kb(50,"option",94),o.vc(51,"false"),o.Jb(),o.Kb(52,"option",95),o.vc(53,"true"),o.Jb(),o.Jb(),o.Jb(),o.Jb(),o.Kb(54,"div",11),o.Kb(55,"label",96),o.vc(56,"AutoReconnect"),o.Jb(),o.Kb(57,"div",8),o.Kb(58,"select",97),o.Sb("ngModelChange",function(t){return o.oc(e),o.Vb(2).intervalAction.address.autoReconnect=t}),o.Kb(59,"option",94),o.vc(60,"true"),o.Jb(),o.Kb(61,"option",95),o.vc(62,"false"),o.Jb(),o.Jb(),o.Jb(),o.Jb(),o.Kb(63,"div",11),o.Kb(64,"label",98),o.vc(65,"ConnectTimeout"),o.Jb(),o.Kb(66,"div",8),o.Kb(67,"input",99),o.Sb("ngModelChange",function(t){return o.oc(e),o.Vb(2).intervalAction.address.connectTimeout=t}),o.Jb(),o.Jb(),o.Jb(),o.Jb(),o.Jb()}if(2&e){const e=o.Vb(2);o.wb(7),o.zb("is-invalid",!e.intervalAction.address.host)("is-valid",e.intervalAction.address.host),o.bc("ngModel",e.intervalAction.address.host),o.wb(8),o.zb("is-invalid",!e.isPureIntegerType(e.intervalAction.address.port))("is-valid",e.isPureIntegerType(e.intervalAction.address.port)),o.bc("ngModel",e.intervalAction.address.port),o.wb(8),o.zb("is-invalid",!e.intervalAction.address.publisher)("is-valid",e.intervalAction.address.publisher),o.bc("ngModel",e.intervalAction.address.publisher),o.wb(8),o.zb("is-invalid",!e.intervalAction.address.topic)("is-valid",e.intervalAction.address.topic),o.bc("ngModel",e.intervalAction.address.topic),o.wb(8),o.bc("ngModel",e.intervalAction.address.qos),o.wb(5),o.bc("ngModel",e.intervalAction.address.keepAlive),o.wb(5),o.bc("ngModel",e.intervalAction.address.retained),o.wb(1),o.bc("ngValue",!1),o.wb(2),o.bc("ngValue",!0),o.wb(6),o.bc("ngModel",e.intervalAction.address.autoReconnect),o.wb(1),o.bc("ngValue",!0),o.wb(2),o.bc("ngValue",!1),o.wb(6),o.bc("ngModel",e.intervalAction.address.connectTimeout)}}function _(e,t){if(1&e){const e=o.Lb();o.Kb(0,"div",5),o.Kb(1,"form"),o.Kb(2,"div",6),o.Kb(3,"label",7),o.vc(4,"Name"),o.Jb(),o.Kb(5,"div",8),o.Kb(6,"input",9),o.Sb("ngModelChange",function(t){return o.oc(e),o.Vb().intervalAction.name=t}),o.Jb(),o.Kb(7,"div",10),o.Kb(8,"small"),o.vc(9,"the interval action name can't be empty!"),o.Jb(),o.Jb(),o.Jb(),o.Jb(),o.Kb(10,"div",11),o.Kb(11,"label",12),o.vc(12,"IntervalName"),o.Jb(),o.Kb(13,"div",8),o.tc(14,R,2,2,"div",13),o.Jb(),o.Jb(),o.Kb(15,"div",11),o.Kb(16,"label",14),o.vc(17,"Address"),o.Jb(),o.Kb(18,"div",8),o.Kb(19,"div",0),o.Kb(20,"div",1),o.Kb(21,"div",15),o.Kb(22,"span",16),o.Kb(23,"input",17),o.Sb("ngModelChange",function(t){return o.oc(e),o.Vb().intervalAction.address.type=t})("change",function(){return o.oc(e),o.Vb().typeToggle("REST")}),o.Jb(),o.Kb(24,"label",18),o.vc(25,"REST"),o.Jb(),o.Jb(),o.Jb(),o.Kb(26,"div",15),o.Kb(27,"span",19),o.Sb("click",function(){return o.oc(e),o.Vb().typeToggle("MQTT")}),o.Kb(28,"input",20),o.Sb("ngModelChange",function(t){return o.oc(e),o.Vb().intervalAction.address.type=t}),o.Jb(),o.Kb(29,"label",21),o.vc(30,"MQTT"),o.Jb(),o.Jb(),o.Jb(),o.Kb(31,"div",15),o.Kb(32,"span",19),o.Sb("click",function(){return o.oc(e),o.Vb().typeToggle("EMAIL")}),o.Kb(33,"input",22),o.Sb("ngModelChange",function(t){return o.oc(e),o.Vb().intervalAction.address.type=t}),o.Jb(),o.Kb(34,"label",23),o.vc(35,"EMAIL"),o.Jb(),o.Jb(),o.Jb(),o.Jb(),o.tc(36,O,10,12,"div",24),o.Kb(37,"div",5),o.tc(38,q,9,4,"div",25),o.tc(39,N,68,29,"div",25),o.Kb(40,"div",null,26),o.Kb(42,"form"),o.Kb(43,"div",11),o.Kb(44,"label",27),o.Kb(45,"span",28),o.vc(46,"EmailRecipients"),o.Jb(),o.Ib(47,"span",29),o.Jb(),o.Kb(48,"div",8),o.Kb(49,"input",30),o.Sb("ngModelChange",function(t){return o.oc(e),o.Vb().addressEmailRecipients=t}),o.Jb(),o.Jb(),o.Jb(),o.Jb(),o.Jb(),o.Jb(),o.Jb(),o.Jb(),o.Jb(),o.Jb(),o.Jb()}if(2&e){const e=o.Vb();o.wb(6),o.zb("is-invalid",!e.intervalAction.name)("is-valid",e.intervalAction.name),o.bc("ngModel",e.intervalAction.name),o.wb(8),o.bc("ngIf",e.selectedIntervalDefault),o.wb(8),o.zb("badge-secondary",e.intervalAction.address.type!==e.addr_type_REST)("badge-primary",e.intervalAction.address.type===e.addr_type_REST),o.wb(1),o.bc("ngModel",e.intervalAction.address.type),o.wb(4),o.zb("badge-secondary",e.intervalAction.address.type!==e.addr_type_MQTT)("badge-primary",e.intervalAction.address.type===e.addr_type_MQTT),o.wb(1),o.bc("ngModel",e.intervalAction.address.type),o.wb(4),o.zb("badge-secondary",e.intervalAction.address.type!==e.addr_type_EMAIL)("badge-primary",e.intervalAction.address.type===e.addr_type_EMAIL),o.wb(1),o.bc("ngModel",e.intervalAction.address.type),o.wb(3),o.bc("ngIf",e.intervalAction.address.type===e.addr_type_REST),o.wb(2),o.bc("ngIf","REST"===e.intervalAction.address.type),o.wb(1),o.bc("ngIf",(null==e.intervalAction.address?null:e.intervalAction.address.type)===e.addr_type_MQTT),o.wb(1),o.sc("display",e.intervalAction.address.type!==e.addr_type_EMAIL?"none":""),o.wb(9),o.bc("ngModel",e.addressEmailRecipients)}}const H=[{path:"",component:l,children:[{path:"",redirectTo:"interval-center",pathMatch:"full"},{path:"interval-center",component:d,children:[{path:"",redirectTo:"interval-list",pathMatch:"full"},{path:"interval-list",component:u},{path:"add-interval",component:g},{path:"edit-interval",component:J}]},{path:"interval-action-center",component:K,children:[{path:"",redirectTo:"interval-action-list",pathMatch:"full"},{path:"interval-action-list",component:y},{path:"add-interval-action",component:(()=>{class e{constructor(e,t,n,i,a){this.schedulerSvc=e,this.msgSvc=t,this.route=n,this.router=i,this.errSvc=a,this.addressEmailRecipients="",this.templateSelected="coredata",this.coredataRequestParameter="",this.coredataSvcAvailableAPI=["/api/v2/event/age/"],this.intervalAction={},this.intervalAction.address={},this.intervalAction.address.type="REST",this.intervalAction.address.httpMethod="GET",this.intervalAction.address.retained=!1,this.intervalAction.address.autoReconnect=!0}ngOnInit(){this.renderPopoverComponent(),this.renderCoredataDefaultTemplate()}initDatePickr(){let e=this;this.calendarStart=Object(m.a)("input[name='coredataRequestParameter']",{dateFormat:"YmdTHiS",enableTime:!0,enableSeconds:!0,time_24hr:!0,allowInput:!1,onChange:function(t,n,i){e.intervalAction.address.path=e.coredataSvcAvailableAPI[0]+n}})}renderPopoverComponent(){$('[data-toggle="popover"]').popover({trigger:"hover"})}renderCoredataDefaultTemplate(){this.intervalAction.address.httpMethod="DELETE",this.intervalAction.address.host="edgex-core-data",this.intervalAction.address.port=59880,this.intervalAction.address.path=this.coredataSvcAvailableAPI[0],setTimeout(()=>{this.renderPopoverComponent(),this.initDatePickr()},300)}templateToggle(e){switch(this.templateSelected=e,this.templateSelected){case"coredata":this.renderCoredataDefaultTemplate();break;case"command":this.intervalAction.address.httpMethod="",this.intervalAction.address.host="edgex-core-command",this.intervalAction.address.port=59882,this.intervalAction.address.path="",this.intervalAction.address.httpMethod="",setTimeout(()=>{this.renderPopoverComponent()},300);break;case"custom":setTimeout(()=>{this.renderPopoverComponent()},300),this.intervalAction.address={},this.intervalAction.address.type="REST",this.intervalAction.address.httpMethod="GET",this.intervalAction.address.retained=!1,this.intervalAction.address.autoReconnect=!0}}typeToggle(e){this.intervalAction.address.type=e,"REST"===e&&this.templateToggle("coredata")}onCmdMethodSelected(e){this.intervalAction.address.httpMethod=e}onCommandSelected(e){this.intervalAction.address.path=e.path}onSingleIntervalSelected(e){this.intervalAction.intervalName=e.name}isPureIntegerType(e){return!isNaN(e)&&parseFloat(e)===parseInt(e)}validate(){let e=!0,t=this.intervalAction.name&&this.intervalAction.intervalName;switch(this.intervalAction.address.type){case"REST":t&&this.intervalAction.address.host&&this.isPureIntegerType(this.intervalAction.address.port)&&this.intervalAction.address.port&&this.intervalAction.address.path&&this.intervalAction.address.httpMethod&&(e=!1);break;case"MQTT":t&&this.intervalAction.address.host&&this.isPureIntegerType(this.intervalAction.address.port)&&this.intervalAction.address.port&&this.intervalAction.address.publisher&&this.intervalAction.address.topic&&(e=!1);break;case"EMAIL":t&&(e=!1)}return e}submit(){this.intervalAction.address.recipients=this.addressEmailRecipients.split(","),this.intervalAction.address.port=Number(this.intervalAction.address.port),this.schedulerSvc.addIntervalAction(this.intervalAction).subscribe(()=>{this.msgSvc.success("Add interval action","name: "+this.intervalAction.name),this.router.navigate(["../interval-action-list"],{relativeTo:this.route})})}}return e.\u0275fac=function(t){return new(t||e)(o.Hb(s.a),o.Hb(b.a),o.Hb(r.a),o.Hb(r.e),o.Hb(c.a))},e.\u0275cmp=o.Bb({type:e,selectors:[["app-add-interval-action"]],decls:139,vars:58,consts:[[1,"card","mb-3"],[1,"card-header"],[1,"fa","fa-info-circle","mr-2","text-info"],[1,"card-body"],[1,"card"],[1,"fa","fa-plus","text-danger"],[1,"btn","btn-sm","btn-success","float-right",3,"disabled","click"],[1,"form-group","row","has-validation"],["for","intervalActionName","required","",1,"col-md-2","col-form-label"],[1,"col-md-10"],["type","text","id","validationIntervalActionName","name","intervalActionName","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","validationIntervalActionNameFeedback",1,"invalid-feedback"],[1,"form-group","row"],["for","intervalName",1,"col-md-2","col-form-label"],[1,"mb-3"],[3,"validate","intervalSelectedEvent"],["for","Address",1,"col-md-2","col-form-label"],[1,"form-check","form-check-inline"],[1,"badge"],["type","radio","name","inlineRadioOptions","id","REST","value","REST",1,"form-check-input",3,"ngModel","ngModelChange","click"],["for","REST",1,"form-check-label"],["type","radio","name","inlineRadioOptions","id","MQTT","value","MQTT",1,"form-check-input",3,"ngModel","ngModelChange","click"],["for","MQTT",1,"form-check-label"],["type","radio","name","inlineRadioOptions","id","EMAIL","value","EMAIL",1,"form-check-input",3,"ngModel","ngModelChange","click"],["for","EMAIL",1,"form-check-label"],["class","card-header",4,"ngIf"],[4,"ngIf"],["MQTT",""],["for","addressHostMQTT","required","",1,"col-md-2","col-form-label"],["type","text","id","addressHostMQTT","name","addressHost","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","addressHostMQTTFeedback",1,"invalid-feedback"],["for","addressPortMQTT","required","",1,"col-md-2","col-form-label"],["type","text","id","addressPortMQTT","name","addressPort","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","addressPortMQTTFeedback",1,"invalid-feedback"],["for","addressPublisher","required","",1,"col-md-2","col-form-label"],["type","text","id","addressPublisher","name","addressPublisher","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","addressPublisherFeedback",1,"invalid-feedback"],["for","addressTopic","required","",1,"col-md-2","col-form-label"],["type","text","id","addressTopic","name","addressTopic","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","addressTopicFeedback",1,"invalid-feedback"],["for","addressQoS",1,"col-md-2","col-form-label"],[1,"mr-2"],["role","button","data-html","false","data-animation","true","data-trigger","focus","data-toggle","popover","title","format tips","data-content","only pure integer supported!",1,"fa","fa-question-circle-o","fa-lg"],["type","number","id","addressQoS","name","addressQoS",1,"form-control",3,"ngModel","ngModelChange"],["for","addressKeepAlive",1,"col-md-2","col-form-label"],["type","number","id","addressKeepAlive","name","addressKeepAlive",1,"form-control",3,"ngModel","ngModelChange"],["for","addressRetained","required","",1,"col-md-2","col-form-label"],["type","text","id","addressRetained","name","addressRetained",1,"form-control",3,"ngModel","ngModelChange"],[3,"ngValue"],["for","addressAutoReconnect","required","",1,"col-md-2","col-form-label"],["type","text","id","addressAutoReconnect","name","addressAutoReconnect",1,"form-control",3,"ngModel","ngModelChange"],["for","addressConnectTimeout","required","",1,"col-md-2","col-form-label"],["type","number","id","addressConnectTimeout","name","addressConnectTimeout",1,"form-control",3,"ngModel","ngModelChange"],["EMAIL",""],["for","emailRecipients",1,"col-md-2","col-form-label"],["role","button","data-html","false","data-animation","true","data-trigger","focus","data-toggle","popover","title","format tips","data-content","Multiple email addresses are separated by commas",1,"fa","fa-question-circle-o","fa-lg"],["type","text","id","emailRecipients","name","emailRecipients",1,"form-control",3,"ngModel","ngModelChange"],["role","button",1,"badge","mr-2",3,"click"],["REST",""],[3,"ngSwitch"],[3,"ngSwitchCase"],["customTemplate",""],["coredataTemplate",""],["commandTemplate",""],["for","HttpMethod","required","",1,"col-md-2","col-form-label"],["type","text","name","httpMethod",1,"form-control",3,"ngModel","ngModelChange"],["value","GET"],["value","POST"],["value","PUT"],["value","DELETE"],["value","PATCH"],["value","HEAD"],["value","TRACE"],["value","CONNECT"],["for","addressHostREST","required","",1,"col-md-2","col-form-label"],["type","text","id","addressHostREST","name","addressHost","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","addressHostRESTFeedback",1,"invalid-feedback"],["for","addressPortREST","required","",1,"col-md-2","col-form-label"],["type","text","id","addressPortREST","name","addressPort","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","addressPortRESTFeedback",1,"invalid-feedback"],["for","addressPath","required","",1,"col-md-2","col-form-label"],["type","text","id","addressPath","name","addressPath",1,"form-control",3,"ngModel","ngModelChange"],["for","requestBody","required","",1,"col-md-2","col-form-label"],["type","text","id","requestBody","name","requestBody",1,"form-control",3,"ngModel","ngModelChange"],["role","button","data-html","false","data-animation","true","data-trigger","focus","data-toggle","popover","title","tips","data-content","Indicates which request contentType should be used (i.e. text/html, application/json), the default is application/json if not setup",1,"fa","fa-question-circle-o","fa-lg"],["type","text","id","contentType","name","contentType",1,"form-control",3,"ngModel","ngModelChange"],["role","button","data-html","false","data-animation","true","data-trigger","focus","data-toggle","popover","title","tips","data-content","Both Host and Port fields are editable if you have a different host address !",1,"fa","fa-question-circle-o","fa-lg"],["role","button","data-html","false","data-animation","true","data-trigger","focus","data-toggle","popover","title","tips","data-content","Remove all old events (and associated readings) based on delimiting age, the parameters delimiting age will be filled up automatically when parameters field is selected!",1,"fa","fa-question-circle-o","fa-lg"],["type","text","id","addressPath","name","addressPath","disabled","",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-group"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"fa","fa-calendar"],["type","text","name","coredataRequestParameter",1,"form-control",3,"ngModel","ngModelChange"],["role","button","data-html","false","data-animation","true","data-trigger","focus","data-toggle","popover","title","tips","data-content","httpMethod field will be filled up automatically when the path field is selected! ",1,"fa","fa-question-circle-o","fa-lg"],["type","text","name","httpMethod","disabled","","required","",1,"form-control",3,"ngModel","ngModelChange"],[3,"validate","cmdMethodEvent","commandSelectedEvent"]],template:function(e,t){1&e&&(o.Kb(0,"div",0),o.Kb(1,"div",1),o.Ib(2,"i",2),o.Kb(3,"span"),o.vc(4,"Tips"),o.Jb(),o.Jb(),o.Kb(5,"div",3),o.vc(6," The support scheduler micro service provide an internal EdgeX \u201cclock\u201d that can kick off operations in any EdgeX service. At a configuration specified time (called an interval), the service calls on any EdgeX service API URL via REST to trigger an operation (called an interval action). For example, the scheduling service periodically calls on core data APIs to clean up old sensed events that have been successfully exported out of EdgeX. "),o.Ib(7,"br"),o.vc(8," Users also can call the API of command service to collect one device's data automatically. "),o.Jb(),o.Jb(),o.Kb(9,"div",4),o.Kb(10,"div",1),o.Ib(11,"i",5),o.vc(12," Add Interval Action "),o.Kb(13,"button",6),o.Sb("click",function(){return t.submit()}),o.vc(14,"Submit"),o.Jb(),o.Jb(),o.Kb(15,"div",3),o.Kb(16,"form"),o.Kb(17,"div",7),o.Kb(18,"label",8),o.vc(19,"Name"),o.Jb(),o.Kb(20,"div",9),o.Kb(21,"input",10),o.Sb("ngModelChange",function(e){return t.intervalAction.name=e}),o.Jb(),o.Kb(22,"div",11),o.Kb(23,"small"),o.vc(24,"the interval action name can't be empty!"),o.Jb(),o.Jb(),o.Jb(),o.Jb(),o.Kb(25,"div",12),o.Kb(26,"label",13),o.vc(27,"IntervalName"),o.Jb(),o.Kb(28,"div",9),o.Kb(29,"div",14),o.Kb(30,"app-interval-combo-list",15),o.Sb("intervalSelectedEvent",function(e){return t.onSingleIntervalSelected(e)}),o.Jb(),o.Jb(),o.Jb(),o.Jb(),o.Kb(31,"div",12),o.Kb(32,"label",16),o.vc(33,"Address"),o.Jb(),o.Kb(34,"div",9),o.Kb(35,"div",4),o.Kb(36,"div",1),o.Kb(37,"div",17),o.Kb(38,"span",18),o.Kb(39,"input",19),o.Sb("ngModelChange",function(e){return t.intervalAction.address.type=e})("click",function(){return t.typeToggle("REST")}),o.Jb(),o.Kb(40,"label",20),o.vc(41,"REST"),o.Jb(),o.Jb(),o.Jb(),o.Kb(42,"div",17),o.Kb(43,"span",18),o.Kb(44,"input",21),o.Sb("ngModelChange",function(e){return t.intervalAction.address.type=e})("click",function(){return t.typeToggle("MQTT")}),o.Jb(),o.Kb(45,"label",22),o.vc(46,"MQTT"),o.Jb(),o.Jb(),o.Jb(),o.Kb(47,"div",17),o.Kb(48,"span",18),o.Kb(49,"input",23),o.Sb("ngModelChange",function(e){return t.intervalAction.address.type=e})("click",function(){return t.typeToggle("EMAIL")}),o.Jb(),o.Kb(50,"label",24),o.vc(51,"EMAIL"),o.Jb(),o.Jb(),o.Jb(),o.Jb(),o.tc(52,C,7,12,"div",25),o.Kb(53,"div",3),o.tc(54,k,9,4,"div",26),o.Kb(55,"div",null,27),o.Kb(57,"form"),o.Kb(58,"div",7),o.Kb(59,"label",28),o.vc(60,"Host"),o.Jb(),o.Kb(61,"div",9),o.Kb(62,"input",29),o.Sb("ngModelChange",function(e){return t.intervalAction.address.host=e}),o.Jb(),o.Kb(63,"div",30),o.Kb(64,"small"),o.vc(65,"the MQTT host can't be empty!"),o.Jb(),o.Jb(),o.Jb(),o.Jb(),o.Kb(66,"div",7),o.Kb(67,"label",31),o.vc(68,"Port"),o.Jb(),o.Kb(69,"div",9),o.Kb(70,"input",32),o.Sb("ngModelChange",function(e){return t.intervalAction.address.port=e}),o.Jb(),o.Kb(71,"div",33),o.Kb(72,"small"),o.vc(73,"the MQTT port can't be empty and only pure integer is supported!!"),o.Jb(),o.Jb(),o.Jb(),o.Jb(),o.Kb(74,"div",7),o.Kb(75,"label",34),o.vc(76,"Publisher"),o.Jb(),o.Kb(77,"div",9),o.Kb(78,"input",35),o.Sb("ngModelChange",function(e){return t.intervalAction.address.publisher=e}),o.Jb(),o.Kb(79,"div",36),o.Kb(80,"small"),o.vc(81,"the MQTT publisher can't be empty!"),o.Jb(),o.Jb(),o.Jb(),o.Jb(),o.Kb(82,"div",7),o.Kb(83,"label",37),o.vc(84,"Topic"),o.Jb(),o.Kb(85,"div",9),o.Kb(86,"input",38),o.Sb("ngModelChange",function(e){return t.intervalAction.address.topic=e}),o.Jb(),o.Kb(87,"div",39),o.Kb(88,"small"),o.vc(89,"the MQTT topic can't be empty!"),o.Jb(),o.Jb(),o.Jb(),o.Jb(),o.Kb(90,"div",12),o.Kb(91,"label",40),o.Kb(92,"span",41),o.vc(93,"QoS"),o.Jb(),o.Ib(94,"span",42),o.Jb(),o.Kb(95,"div",9),o.Kb(96,"input",43),o.Sb("ngModelChange",function(e){return t.intervalAction.address.qos=e}),o.Jb(),o.Jb(),o.Jb(),o.Kb(97,"div",12),o.Kb(98,"label",44),o.Kb(99,"span",41),o.vc(100,"KeepAlive"),o.Jb(),o.Ib(101,"span",42),o.Jb(),o.Kb(102,"div",9),o.Kb(103,"input",45),o.Sb("ngModelChange",function(e){return t.intervalAction.address.keepAlive=e}),o.Jb(),o.Jb(),o.Jb(),o.Kb(104,"div",12),o.Kb(105,"label",46),o.vc(106,"Retained"),o.Jb(),o.Kb(107,"div",9),o.Kb(108,"select",47),o.Sb("ngModelChange",function(e){return t.intervalAction.address.retained=e}),o.Kb(109,"option",48),o.vc(110,"false"),o.Jb(),o.Kb(111,"option",48),o.vc(112,"true"),o.Jb(),o.Jb(),o.Jb(),o.Jb(),o.Kb(113,"div",12),o.Kb(114,"label",49),o.vc(115,"AutoReconnect"),o.Jb(),o.Kb(116,"div",9),o.Kb(117,"select",50),o.Sb("ngModelChange",function(e){return t.intervalAction.address.autoReconnect=e}),o.Kb(118,"option",48),o.vc(119,"true"),o.Jb(),o.Kb(120,"option",48),o.vc(121,"false"),o.Jb(),o.Jb(),o.Jb(),o.Jb(),o.Kb(122,"div",12),o.Kb(123,"label",51),o.Kb(124,"span",41),o.vc(125,"ConnectTimeout"),o.Jb(),o.Ib(126,"span",42),o.Jb(),o.Kb(127,"div",9),o.Kb(128,"input",52),o.Sb("ngModelChange",function(e){return t.intervalAction.address.connectTimeout=e}),o.Jb(),o.Jb(),o.Jb(),o.Jb(),o.Jb(),o.Kb(129,"div",null,53),o.Kb(131,"form"),o.Kb(132,"div",12),o.Kb(133,"label",54),o.Kb(134,"span",41),o.vc(135,"EmailRecipients"),o.Jb(),o.Ib(136,"span",55),o.Jb(),o.Kb(137,"div",9),o.Kb(138,"input",56),o.Sb("ngModelChange",function(e){return t.addressEmailRecipients=e}),o.Jb(),o.Jb(),o.Jb(),o.Jb(),o.Jb(),o.Jb(),o.Jb(),o.Jb(),o.Jb(),o.Jb(),o.Jb(),o.Jb()),2&e&&(o.wb(13),o.bc("disabled",t.validate()),o.wb(8),o.zb("is-invalid",!t.intervalAction.name)("is-valid",t.intervalAction.name),o.bc("ngModel",t.intervalAction.name),o.wb(9),o.bc("validate",!0),o.wb(8),o.zb("badge-secondary","REST"!==t.intervalAction.address.type)("badge-primary","REST"===t.intervalAction.address.type),o.wb(1),o.bc("ngModel",t.intervalAction.address.type),o.wb(4),o.zb("badge-secondary","MQTT"!==t.intervalAction.address.type)("badge-primary","MQTT"===t.intervalAction.address.type),o.wb(1),o.bc("ngModel",t.intervalAction.address.type),o.wb(4),o.zb("badge-secondary","EMAIL"!==t.intervalAction.address.type)("badge-primary","EMAIL"===t.intervalAction.address.type),o.wb(1),o.bc("ngModel",t.intervalAction.address.type),o.wb(3),o.bc("ngIf","REST"===t.intervalAction.address.type),o.wb(2),o.bc("ngIf","REST"===t.intervalAction.address.type),o.wb(1),o.sc("display","MQTT"!==t.intervalAction.address.type?"none":""),o.wb(7),o.zb("is-invalid",!t.intervalAction.address.host)("is-valid",t.intervalAction.address.host),o.bc("ngModel",t.intervalAction.address.host),o.wb(8),o.zb("is-invalid",!t.isPureIntegerType(t.intervalAction.address.port))("is-valid",t.isPureIntegerType(t.intervalAction.address.port)),o.bc("ngModel",t.intervalAction.address.port),o.wb(8),o.zb("is-invalid",!t.intervalAction.address.publisher)("is-valid",t.intervalAction.address.publisher),o.bc("ngModel",t.intervalAction.address.publisher),o.wb(8),o.zb("is-invalid",!t.intervalAction.address.topic)("is-valid",t.intervalAction.address.topic),o.bc("ngModel",t.intervalAction.address.topic),o.wb(10),o.bc("ngModel",t.intervalAction.address.qos),o.wb(7),o.bc("ngModel",t.intervalAction.address.keepAlive),o.wb(5),o.bc("ngModel",t.intervalAction.address.retained),o.wb(1),o.bc("ngValue",!1),o.wb(2),o.bc("ngValue",!0),o.wb(6),o.bc("ngModel",t.intervalAction.address.autoReconnect),o.wb(1),o.bc("ngValue",!0),o.wb(2),o.bc("ngValue",!1),o.wb(8),o.bc("ngModel",t.intervalAction.address.connectTimeout),o.wb(1),o.sc("display","EMAIL"!==(null==t.intervalAction.address?null:t.intervalAction.address.type)?"none":""),o.wb(9),o.bc("ngModel",t.addressEmailRecipients))},directives:[a.p,a.g,a.h,a.a,a.m,a.f,a.i,I,a.l,i.l,a.k,a.n,a.j,a.o,i.n,i.o,T.a],styles:[""]}),e})()},{path:"edit-interval-action",component:(()=>{class e{constructor(e,t,n,i,a){this.schedulerSvc=e,this.msgSvc=t,this.route=n,this.router=i,this.errSvc=a,this.addr_type_REST="REST",this.addr_type_MQTT="MQTT",this.addr_type_EMAIL="EMAIL",this.template_type_coredata="coredata",this.template_type_command="command",this.template_type_custom="custom",this.addressEmailRecipients="",this.templateSelected="custom",this.coredataRequestParameter="",this.coredataSvcAvailableAPI=["/api/v2/event/age/"],this.intervalAction={},this.intervalActionOrigin={},this.intervalAction.address={}}ngOnInit(){this.renderPopoverComponent(),this.route.queryParams.subscribe(e=>{e.intervalActionName&&this.schedulerSvc.findIntervalActionByName(e.intervalActionName).subscribe(e=>{this.intervalAction=JSON.parse(JSON.stringify(e.action)),this.intervalActionOrigin=JSON.parse(JSON.stringify(e.action)),this.addressEmailRecipients=this.intervalAction.address.recipients?this.intervalAction.address.recipients.toString():"",this.findDefaultSelectedIntervalByName(this.intervalAction.intervalName),setTimeout(()=>{this.renderPopoverComponent(),this.initDatePickr()},300)})})}initDatePickr(){let e=this;this.calendarStart=Object(m.a)("input[name='coredataRequestParameter']",{dateFormat:"YmdTHiS",enableTime:!0,enableSeconds:!0,time_24hr:!0,allowInput:!1,onChange:function(t,n,i){e.intervalAction.address.path=e.coredataSvcAvailableAPI[0]+n}})}setActionDefaultProperties(){switch(this.intervalAction.address.type){case this.addr_type_REST:this.intervalAction.address.httpMethod="GET";break;case this.addr_type_MQTT:this.intervalAction.address.retained=!1,this.intervalAction.address.autoReconnect=!0}}findDefaultSelectedIntervalByName(e){this.schedulerSvc.findIntervalByName(e).subscribe(e=>{this.selectedIntervalDefault=e.interval})}renderPopoverComponent(){$('[data-toggle="popover"]').popover({trigger:"hover"})}renderCoredataDefaultTemplate(){this.intervalAction.address.httpMethod="DELETE",this.intervalAction.address.host="edgex-core-data",this.intervalAction.address.port=59880,this.intervalAction.address.path=this.coredataSvcAvailableAPI[0],setTimeout(()=>{this.renderPopoverComponent(),this.initDatePickr()},300)}templateToggle(e){switch(this.intervalAction=JSON.parse(JSON.stringify(this.intervalActionOrigin)),this.intervalAction.address.type=this.addr_type_REST,this.templateSelected=e,this.templateSelected){case this.template_type_coredata:this.renderCoredataDefaultTemplate();break;case this.template_type_command:this.intervalAction.address.path="",this.intervalAction.address.httpMethod="",setTimeout(()=>{this.renderPopoverComponent()},300);break;case this.template_type_custom:setTimeout(()=>{this.renderPopoverComponent()},300)}}typeToggle(e){this.intervalAction=JSON.parse(JSON.stringify(this.intervalActionOrigin)),this.intervalAction.address.type=e,this.templateSelected="custom",setTimeout(()=>{this.renderPopoverComponent()},300)}onCmdMethodSelected(e){this.intervalAction.address.httpMethod=e}onCommandSelected(e){this.intervalAction.address.path=e.path}onSingleIntervalSelected(e){this.intervalAction.intervalName=e.name}isPureIntegerType(e){return!isNaN(e)&&parseFloat(e)===parseInt(e)}validate(){let e=!0,t=this.intervalAction.name&&this.intervalAction.intervalName;switch(this.intervalAction.address.type){case this.addr_type_REST:t&&this.intervalAction.address.host&&this.isPureIntegerType(this.intervalAction.address.port)&&this.intervalAction.address.path&&this.intervalAction.address.httpMethod&&(e=!1);break;case this.addr_type_MQTT:t&&this.intervalAction.address.host&&this.isPureIntegerType(this.intervalAction.address.port)&&this.intervalAction.address.port&&this.intervalAction.address.publisher&&this.intervalAction.address.topic&&(e=!1);break;case this.addr_type_EMAIL:t&&(e=!1)}return e}save(){this.intervalAction.address.recipients=this.addressEmailRecipients.split(","),this.intervalAction.address.port=Number(this.intervalAction.address.port),this.schedulerSvc.updateIntervalAction(this.intervalAction).subscribe(()=>{this.msgSvc.success("Update interval action","name: "+this.intervalAction.name),this.router.navigate(["../interval-action-list"],{relativeTo:this.route})})}}return e.\u0275fac=function(t){return new(t||e)(o.Hb(s.a),o.Hb(b.a),o.Hb(r.a),o.Hb(r.e),o.Hb(c.a))},e.\u0275cmp=o.Bb({type:e,selectors:[["app-edit-interval-action"]],decls:7,vars:2,consts:[[1,"card"],[1,"card-header"],[1,"fa","fa-edit","text-danger"],[1,"btn","btn-sm","btn-success","float-right",3,"disabled","click"],["class","card-body",4,"ngIf"],[1,"card-body"],[1,"form-group","row","has-validation"],["for","intervalActionName","required","",1,"col-md-2","col-form-label"],[1,"col-md-10"],["type","text","id","validationIntervalActionName","name","intervalActionName","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","validationIntervalActionNameFeedback",1,"invalid-feedback"],[1,"form-group","row"],["for","intervalName",1,"col-md-2","col-form-label"],["class","mb-3",4,"ngIf"],["for","Address",1,"col-md-2","col-form-label"],[1,"form-check","form-check-inline"],[1,"badge"],["type","radio","name","inlineRadioOptions","id","REST","value","REST",1,"form-check-input",3,"ngModel","ngModelChange","change"],["for","REST",1,"form-check-label"],[1,"badge",3,"click"],["type","radio","name","inlineRadioOptions","id","MQTT","value","MQTT",1,"form-check-input",3,"ngModel","ngModelChange"],["for","MQTT",1,"form-check-label"],["type","radio","name","inlineRadioOptions","id","EMAIL","value","EMAIL",1,"form-check-input",3,"ngModel","ngModelChange"],["for","EMAIL",1,"form-check-label"],["class","card-header",4,"ngIf"],[4,"ngIf"],["EMAIL",""],["for","emailRecipients",1,"col-md-2","col-form-label"],[1,"mr-2"],["role","button","data-html","false","data-animation","true","data-trigger","focus","data-toggle","popover","title","format tips","data-content","Multiple email addresses are separated by commas",1,"fa","fa-question-circle-o","fa-lg"],["type","text","id","emailRecipients","name","emailRecipients",1,"form-control",3,"ngModel","ngModelChange"],[1,"mb-3"],[3,"validate","selectedInterval","intervalSelectedEvent"],[1,"mr-2","text-primary"],["role","button","data-html","false","data-animation","true","data-trigger","focus","data-toggle","popover","title","tips","data-content","custom template will be choosed by default",1,"fa","fa-question-circle-o","fa-lg","mr-2"],["role","button",1,"badge","mr-2",3,"click"],["REST",""],[3,"ngSwitch"],[3,"ngSwitchCase"],["customTemplate",""],["coredataTemplate",""],["commandTemplate",""],["for","HttpMethod","required","",1,"col-md-2","col-form-label"],["type","text","name","httpMethod",1,"form-control",3,"ngModel","ngModelChange"],["value","GET"],["value","POST"],["value","PUT"],["value","DELETE"],["value","PATCH"],["value","HEAD"],["value","TRACE"],["value","CONNECT"],["for","addressHostREST","required","",1,"col-md-2","col-form-label"],["type","text","id","addressHostREST","name","addressHost","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","addressHostRESTFeedback",1,"invalid-feedback"],["for","addressPortREST","required","",1,"col-md-2","col-form-label"],["type","text","id","addressPortREST","name","addressPort","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","addressPortRESTFeedback",1,"invalid-feedback"],["for","addressPath","required","",1,"col-md-2","col-form-label"],["type","text","id","addressPath","name","addressPath",1,"form-control",3,"ngModel","ngModelChange"],["for","requestBody","required","",1,"col-md-2","col-form-label"],["type","text","id","requestBody","name","requestBody",1,"form-control",3,"ngModel","ngModelChange"],["role","button","data-html","false","data-animation","true","data-trigger","focus","data-toggle","popover","title","tips","data-content","Indicates which request contentType should be used (i.e. text/html, application/json), the default is application/json if not setup",1,"fa","fa-question-circle-o","fa-lg"],["type","text","id","contentType","name","contentType",1,"form-control",3,"ngModel","ngModelChange"],["role","button","data-html","false","data-animation","true","data-trigger","focus","data-toggle","popover","title","tips","data-content","Both Host and Port fields are editable if you have a different host address !",1,"fa","fa-question-circle-o","fa-lg"],["role","button","data-html","false","data-animation","true","data-trigger","focus","data-toggle","popover","title","tips","data-content","Remove all old events (and associated readings) based on delimiting age, the parameters delimiting age will be filled up automatically when parameters field is selected!",1,"fa","fa-question-circle-o","fa-lg"],["type","text","id","addressPath","name","addressPath","disabled","",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-group"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"fa","fa-calendar"],["type","text","name","coredataRequestParameter",1,"form-control",3,"ngModel","ngModelChange"],["role","button","data-html","false","data-animation","true","data-trigger","focus","data-toggle","popover","title","tips","data-content","httpMethod field will be filled up automatically when the path field is selected! ",1,"fa","fa-question-circle-o","fa-lg"],["type","text","name","httpMethod","disabled","","required","",1,"form-control",3,"ngModel","ngModelChange"],[3,"validate","cmdMethodEvent","commandSelectedEvent"],["MQTT",""],["for","addressHost","required","",1,"col-md-2","col-form-label"],["type","text","id","addressHost","name","addressHost","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","addressHostFeedback",1,"invalid-feedback"],["for","addressPort","required","",1,"col-md-2","col-form-label"],["type","text","id","addressPort","name","addressPort","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","addressPortFeedback",1,"invalid-feedback"],["for","addressPublisher","required","",1,"col-md-2","col-form-label"],["type","text","id","addressPublisher","name","addressPublisher","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","addressPublisherFeedback",1,"invalid-feedback"],["for","addressTopic","required","",1,"col-md-2","col-form-label"],["type","text","id","addressTopic","name","addressTopic","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","addressTopicFeedback",1,"invalid-feedback"],["for","addressQoS","required","",1,"col-md-2","col-form-label"],["type","number","id","addressQoS","name","addressQoS","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","addressKeepAlive","required","",1,"col-md-2","col-form-label"],["type","number","id","addressKeepAlive","name","addressKeepAlive",1,"form-control",3,"ngModel","ngModelChange"],["for","addressRetained","required","",1,"col-md-2","col-form-label"],["type","text","id","addressRetained","name","addressRetained",1,"form-control",3,"ngModel","ngModelChange"],["selected","",3,"ngValue"],[3,"ngValue"],["for","addressAutoReconnect","required","",1,"col-md-2","col-form-label"],["type","text","id","addressAutoReconnect","name","addressAutoReconnect",1,"form-control",3,"ngModel","ngModelChange"],["for","addressConnectTimeout","required","",1,"col-md-2","col-form-label"],["type","number","id","addressConnectTimeout","name","addressConnectTimeout",1,"form-control",3,"ngModel","ngModelChange"]],template:function(e,t){1&e&&(o.Kb(0,"div",0),o.Kb(1,"div",1),o.Ib(2,"i",2),o.vc(3," Edit Interval Action "),o.Kb(4,"button",3),o.Sb("click",function(){return t.save()}),o.vc(5,"Save"),o.Jb(),o.Jb(),o.tc(6,_,50,27,"div",4),o.Jb()),2&e&&(o.wb(4),o.bc("disabled",t.validate()),o.wb(2),o.bc("ngIf",t.intervalAction))},directives:[i.l,a.p,a.g,a.h,a.a,a.m,a.f,a.i,a.l,I,i.n,i.o,a.n,a.j,a.o,T.a,a.k],styles:[""]}),e})()}]}]}];let D=(()=>{class e{}return e.\u0275mod=o.Fb({type:e}),e.\u0275inj=o.Eb({factory:function(t){return new(t||e)},imports:[[r.i.forChild(H)],r.i]}),e})();var B=n("ixIh");let z=(()=>{class e{}return e.\u0275mod=o.Fb({type:e}),e.\u0275inj=o.Eb({factory:function(t){return new(t||e)},imports:[[i.b,a.b,B.a,D]]}),e})()}}]);