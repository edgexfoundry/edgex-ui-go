!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"1ahc":function(t,i,a){"use strict";a.d(i,"a",function(){return c});var r=a("tk/3"),o=a("JIr8"),l=a("fXoL"),d=a("9vc0"),c=function(){var t=function(){function t(n,i){e(this,t),this.http=n,this.errorSvc=i,this.endpoint="/scheduler",this.version="/api/v2",this.urlPrefix="".concat(this.endpoint).concat(this.version),this.configUrl="/config",this.intervalListUrl=this.urlPrefix+"/interval/all",this.addOneIntervalUrl=this.urlPrefix+"/interval",this.updateOneIntervalUrl=this.urlPrefix+"/interval",this.findOneIntervalByNameUrl=this.urlPrefix+"/interval/name/",this.deleteOneIntervalByNameUrl=this.urlPrefix+"/interval/name/",this.intervalActionListUrl=this.urlPrefix+"/intervalaction/all",this.addOneIntervalActionUrl=this.urlPrefix+"/intervalaction",this.updateOneIntervaActionlUrl=this.urlPrefix+"/intervalaction",this.findOneIntervalActionByNameUrl=this.urlPrefix+"/intervalaction/name/",this.deleteOneIntervalActionByNameUrl=this.urlPrefix+"/intervalaction/name/",this.httpPostOrPutJSONOptions={headers:new r.c({"Content-type":"application/json",Authorization:""})}}return n(t,[{key:"getConfig",value:function(){var e=this;return this.http.get("".concat(this.urlPrefix).concat(this.configUrl)).pipe(Object(o.a)(function(t){return e.errorSvc.handleError(t)}))}},{key:"findAllIntervalsPagination",value:function(e,t){var n=this;return this.http.get("".concat(this.intervalListUrl,"?offset=").concat(e,"&limit=").concat(t)).pipe(Object(o.a)(function(e){return n.errorSvc.handleError(e)}))}},{key:"addInterval",value:function(e){var t=this;return this.http.post(""+this.addOneIntervalUrl,JSON.stringify([{apiVersion:"v2",interval:e}]),this.httpPostOrPutJSONOptions).pipe(Object(o.a)(function(e){return t.errorSvc.handleError(e)}))}},{key:"updateInterval",value:function(e){var t=this;return this.http.patch(""+this.updateOneIntervalUrl,JSON.stringify([{apiVersion:"v2",interval:e}]),this.httpPostOrPutJSONOptions).pipe(Object(o.a)(function(e){return t.errorSvc.handleError(e)}))}},{key:"findIntervalByName",value:function(e){var t=this;return this.http.get("".concat(this.findOneIntervalByNameUrl).concat(e)).pipe(Object(o.a)(function(e){return t.errorSvc.handleError(e)}))}},{key:"deleteIntervalByName",value:function(e){var t=this;return this.http.delete("".concat(this.deleteOneIntervalByNameUrl).concat(e)).pipe(Object(o.a)(function(e){return t.errorSvc.handleError(e)}))}},{key:"findAllIntervalActionsPagination",value:function(e,t){var n=this;return this.http.get("".concat(this.intervalActionListUrl,"?offset=").concat(e,"&limit=").concat(t)).pipe(Object(o.a)(function(e){return n.errorSvc.handleError(e)}))}},{key:"addIntervalAction",value:function(e){var t=this;return this.http.post(""+this.addOneIntervalActionUrl,JSON.stringify([{apiVersion:"v2",action:e}]),this.httpPostOrPutJSONOptions).pipe(Object(o.a)(function(e){return t.errorSvc.handleError(e)}))}},{key:"updateIntervalAction",value:function(e){var t=this;return this.http.patch(""+this.updateOneIntervaActionlUrl,JSON.stringify([{apiVersion:"v2",action:e}]),this.httpPostOrPutJSONOptions).pipe(Object(o.a)(function(e){return t.errorSvc.handleError(e)}))}},{key:"findIntervalActionByName",value:function(e){var t=this;return this.http.get("".concat(this.findOneIntervalActionByNameUrl).concat(e)).pipe(Object(o.a)(function(e){return t.errorSvc.handleError(e)}))}},{key:"deleteIntervalActionByName",value:function(e){var t=this;return this.http.delete("".concat(this.deleteOneIntervalActionByNameUrl).concat(e)).pipe(Object(o.a)(function(e){return t.errorSvc.handleError(e)}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(l.Pb(r.a),l.Pb(d.a))},t.\u0275prov=l.Db({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},lzfX:function(t,i,a){"use strict";a.r(i),a.d(i,"SchedulerModule",function(){return ae});var r,o,l=a("ofXK"),d=a("3Pt+"),c=a("tyNb"),b=a("fXoL"),s=((o=function(){function t(){e(this,t)}return n(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(e){return new(e||o)},o.\u0275cmp=b.Bb({type:o,selectors:[["app-scheduler"]],decls:11,vars:0,consts:[[1,"card"],[1,"card-header"],[1,"nav","nav-tabs","card-header-tabs","font-weight-bold"],[1,"nav-item"],["routerLink","./interval-center","routerLinkActive","active",1,"nav-link"],["routerLink","./interval-action-center","routerLinkActive","active",1,"nav-link"],[1,"card-body"]],template:function(e,t){1&e&&(b.Kb(0,"div",0),b.Kb(1,"div",1),b.Kb(2,"ul",2),b.Kb(3,"li",3),b.Kb(4,"a",4),b.vc(5,"Interval"),b.Jb(),b.Jb(),b.Kb(6,"li",3),b.Kb(7,"a",5),b.vc(8,"IntervalAction"),b.Jb(),b.Jb(),b.Jb(),b.Jb(),b.Kb(9,"div",6),b.Ib(10,"router-outlet"),b.Jb(),b.Jb())},directives:[c.h,c.g,c.j],styles:[""]}),o),v=((r=function(){function t(){e(this,t)}return n(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(e){return new(e||r)},r.\u0275cmp=b.Bb({type:r,selectors:[["app-interval-center"]],decls:1,vars:0,template:function(e,t){1&e&&b.Ib(0,"router-outlet")},directives:[c.j],styles:[""]}),r),u=a("1ahc"),p=a("hsl2"),h=a("9vc0");function m(e,t){if(1&e){var n=b.Lb();b.Kb(0,"div",36),b.Kb(1,"div",37),b.Kb(2,"button",38),b.Sb("click",function(){return b.oc(n),b.Vb().refresh()}),b.Kb(3,"span"),b.Ib(4,"i",39),b.vc(5,"Refresh"),b.Jb(),b.Jb(),b.Kb(6,"button",40),b.Kb(7,"span"),b.Ib(8,"i",41),b.vc(9,"Add"),b.Jb(),b.Jb(),b.Kb(10,"button",42),b.Sb("click",function(){return b.oc(n),b.Vb().edit()}),b.Kb(11,"span"),b.Ib(12,"i",43),b.vc(13,"Edit"),b.Jb(),b.Jb(),b.Kb(14,"button",44),b.Sb("click",function(){return b.oc(n),b.Vb().deleteConfirm()}),b.Kb(15,"span"),b.Ib(16,"i",45),b.vc(17,"Delete"),b.Jb(),b.Jb(),b.Jb(),b.Jb()}if(2&e){var i=b.Vb();b.wb(10),b.bc("disabled",1!==i.intervalSelected.length),b.wb(4),b.bc("disabled",0===i.intervalSelected.length)}}function g(e,t){if(1&e){var n=b.Lb();b.Kb(0,"input",46),b.Sb("click",function(e){return b.oc(n),b.Vb().selectAll(e)}),b.Jb()}if(2&e){var i=b.Vb();b.bc("checked",i.isCheckedAll)}}function f(e,t){if(1&e){var n=b.Lb();b.Kb(0,"tr"),b.Kb(1,"td"),b.Kb(2,"input",46),b.Sb("click",function(e){b.oc(n);var i=t.$implicit;return b.Vb().selectOne(e,i)}),b.Jb(),b.Jb(),b.Kb(3,"td",47),b.vc(4),b.Jb(),b.Kb(5,"td",47),b.vc(6),b.Jb(),b.Kb(7,"td"),b.vc(8),b.Jb(),b.Kb(9,"td"),b.vc(10),b.Jb(),b.Kb(11,"td"),b.vc(12),b.Jb(),b.Kb(13,"td"),b.vc(14),b.Jb(),b.Jb()}if(2&e){var i=t.$implicit,a=b.Vb();b.zb("table-active",a.isChecked(i.name)),b.wb(2),b.bc("checked",a.isChecked(i.name)),b.wb(2),b.wc(i.id),b.wb(2),b.wc(i.name),b.wb(2),b.wc(i.start),b.wb(2),b.wc(i.end),b.wb(2),b.wc(i.interval),b.wb(2),b.wc(!!i.runOnce)}}var J,K,y=((J=function(){function t(n,i,a,r,o){e(this,t),this.schedulerSvc=n,this.msgSvc=i,this.route=a,this.router=r,this.errSvc=o,this.enableSelectAll=!0,this.singleIntervalSelectedEvent=new b.n,this.toolbars=!0,this.intervalList=[],this.intervalSelected=[],this.isCheckedAll=!1,this.pagination=1,this.pageLimit=5,this.pageOffset=(this.pagination-1)*this.pageLimit}return n(t,[{key:"ngOnInit",value:function(){var e=this;this.route.queryParams.subscribe(function(t){t.intervalName?e.schedulerSvc.findIntervalByName(t.intervalName).subscribe(function(t){e.intervalList=[],e.intervalList.push(t.interval)}):e.findIntervalsPagination()})}},{key:"refresh",value:function(){var e=this;this.schedulerSvc.findAllIntervalsPagination(0,this.pageLimit).subscribe(function(t){e.errSvc.handleErrorForV2API(t)||(e.intervalList=t.intervals,e.msgSvc.success("refresh"),e.resetPagination())})}},{key:"findIntervalsPagination",value:function(){var e=this;this.schedulerSvc.findAllIntervalsPagination(this.pageOffset,this.pageLimit).subscribe(function(t){e.errSvc.handleErrorForV2API(t)||(e.intervalList=t.intervals)})}},{key:"onSingleIntervalSelectedEmitter",value:function(){this.singleIntervalSelectedEvent.emit(this.singleIntervalSelected)}},{key:"isSingleChecked",value:function(e){var t;return(null===(t=this.singleIntervalSelected)||void 0===t?void 0:t.name)===e}},{key:"selectSingleInterval",value:function(e,t){var n=this;e.target.checked?this.intervalList.forEach(function(e){e.name===t&&(n.singleIntervalSelected=e)}):this.singleIntervalSelected={},this.onSingleIntervalSelectedEmitter()}},{key:"selectAll",value:function(e){var t=this;if(e.target.checked)return this.intervalSelected=[],this.intervalList.forEach(function(e){t.intervalSelected.push(e),t.isChecked(e.name)}),void(this.isCheckedAll=!0);this.isCheckedAll=!1,this.intervalSelected=[],this.intervalList.forEach(function(e){t.isChecked(e.name)})}},{key:"isChecked",value:function(e){return this.enableSelectAll?this.intervalSelected.findIndex(function(t){return t.name===e})>=0:this.isSingleChecked(e)}},{key:"selectOne",value:function(e,t){if(this.enableSelectAll)return e.target.checked?(this.intervalSelected.push(t),void(this.intervalSelected.length===this.intervalList.length&&(this.isCheckedAll=!0))):(this.isCheckedAll=!1,this.isChecked(t.name),void this.intervalSelected.splice(this.intervalSelected.indexOf(t),1));this.selectSingleInterval(e,t.name)}},{key:"edit",value:function(){this.router.navigate(["../edit-interval"],{relativeTo:this.route,queryParams:{intervalName:this.intervalSelected[0].name}})}},{key:"deleteConfirm",value:function(){$("#deleteConfirmDialog").modal("show")}},{key:"deleteIntervals",value:function(){var e=this;this.intervalSelected.forEach(function(t,n){e.schedulerSvc.deleteIntervalByName(t.name).subscribe(function(i){e.errSvc.handleErrorForV2API(i)||(e.intervalSelected.splice(n,1),e.intervalList.forEach(function(n,i){n.name!==t.name||e.intervalList.splice(i,1)}),e.msgSvc.success("delete","name: "+t.name),e.resetPagination(),e.findIntervalsPagination())})}),$("#deleteConfirmDialog").modal("hide")}},{key:"onPageSelected",value:function(){this.resetPagination(),this.setPagination(),this.findIntervalsPagination()}},{key:"prePage",value:function(){this.setPagination(-1),this.findIntervalsPagination()}},{key:"nextPage",value:function(){this.setPagination(1),this.findIntervalsPagination()}},{key:"setPagination",value:function(e){1===e?this.pagination+=1:-1===e&&(this.pagination-=1),this.pageOffset=(this.pagination-1)*this.pageLimit}},{key:"resetPagination",value:function(){this.pagination=1}}]),t}()).\u0275fac=function(e){return new(e||J)(b.Hb(u.a),b.Hb(p.a),b.Hb(c.a),b.Hb(c.e),b.Hb(h.a))},J.\u0275cmp=b.Bb({type:J,selectors:[["app-interval-list"]],inputs:{enableSelectAll:"enableSelectAll",toolbars:"toolbars",singleIntervalSelected:"singleIntervalSelected"},outputs:{singleIntervalSelectedEvent:"singleIntervalSelectedEvent"},decls:62,vars:6,consts:[[1,"card"],[1,"card-header"],[1,"fa","fa-list","text-danger"],[1,"card-body","p-0","position-relative"],["class","bg-light px-2 py-2",4,"ngIf"],[1,"table-responsive"],[1,"table","table-hover","text-truncate"],[1,"thead-light"],["scope","col"],["type","checkbox","role","button",3,"checked","click",4,"ngIf"],[3,"table-active",4,"ngFor","ngForOf"],[1,"card-footer","text-muted","p-1"],["aria-label","navigation"],[1,"pagination","justify-content-end","m-0"],[1,"page-item","mr-2","mt-1"],[1,"align-middle"],[1,"page-item","mr-2"],["name","pageLimit","id","pageLimit",1,"form-control",3,"ngModel","ngModelChange"],["value","5"],["value","10"],["value","20"],[1,"page-item","mr-1"],[1,"page-link","btn",3,"disabled","click"],[1,"fa","fa-angle-double-left"],[1,"page-item"],[1,"fa","fa-angle-double-right"],["id","deleteConfirmDialog","data-backdrop","static","data-keyboard","false","tabindex","-1","aria-labelledby","deleteConfirmDialogLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","deleteConfirmDialogLabel",1,"modal-title","text-danger"],[1,"fa","fa-warning"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],["type","button",1,"btn","btn-danger",3,"click"],[1,"bg-light","px-2","py-2"],["role","group",1,"btn-group","btn-group-sm"],[1,"btn","btn-primary",3,"click"],[1,"fa","fa-refresh","mr-1"],["type","button","routerLink","../add-interval",1,"btn","btn-info"],[1,"fa","fa-plus","mr-1"],["type","button",1,"btn","btn-success",3,"disabled","click"],[1,"fa","fa-edit","mr-1"],["type","button",1,"btn","btn-danger",3,"disabled","click"],[1,"fa","fa-trash","mr-1"],["type","checkbox","role","button",3,"checked","click"],[1,"user-select-all"]],template:function(e,t){1&e&&(b.Kb(0,"div",0),b.Kb(1,"div",1),b.Ib(2,"i",2),b.vc(3," Interval List "),b.Jb(),b.Kb(4,"div",3),b.tc(5,m,18,2,"div",4),b.Kb(6,"div",5),b.Kb(7,"table",6),b.Kb(8,"thead",7),b.Kb(9,"tr"),b.Kb(10,"th",8),b.tc(11,g,1,1,"input",9),b.Jb(),b.Kb(12,"th",8),b.vc(13,"ID"),b.Jb(),b.Kb(14,"th",8),b.vc(15,"Name"),b.Jb(),b.Kb(16,"th",8),b.vc(17,"Start"),b.Jb(),b.Kb(18,"th",8),b.vc(19,"End"),b.Jb(),b.Kb(20,"th",8),b.vc(21,"Interval"),b.Jb(),b.Kb(22,"th",8),b.vc(23,"RunOnce"),b.Jb(),b.Jb(),b.Jb(),b.Kb(24,"tbody"),b.tc(25,f,15,9,"tr",10),b.Jb(),b.Jb(),b.Jb(),b.Jb(),b.Kb(26,"div",11),b.Kb(27,"nav",12),b.Kb(28,"ul",13),b.Kb(29,"li",14),b.Kb(30,"span",15),b.vc(31,"items per page"),b.Jb(),b.Jb(),b.Kb(32,"li",16),b.Kb(33,"select",17),b.Sb("ngModelChange",function(e){return t.pageLimit=e})("ngModelChange",function(){return t.onPageSelected()}),b.Kb(34,"option",18),b.vc(35,"5"),b.Jb(),b.Kb(36,"option",19),b.vc(37,"10"),b.Jb(),b.Kb(38,"option",20),b.vc(39,"20"),b.Jb(),b.Jb(),b.Jb(),b.Kb(40,"li",21),b.Kb(41,"button",22),b.Sb("click",function(){return t.prePage()}),b.Ib(42,"i",23),b.vc(43," Previous"),b.Jb(),b.Jb(),b.Kb(44,"li",24),b.Kb(45,"button",22),b.Sb("click",function(){return t.nextPage()}),b.vc(46,"Next "),b.Ib(47,"i",25),b.Jb(),b.Jb(),b.Jb(),b.Jb(),b.Jb(),b.Jb(),b.Kb(48,"div",26),b.Kb(49,"div",27),b.Kb(50,"div",28),b.Kb(51,"div",29),b.Kb(52,"h5",30),b.Ib(53,"i",31),b.vc(54," Warning "),b.Jb(),b.Jb(),b.Kb(55,"div",32),b.vc(56," Associated actions will also be deleted and the data will be permanently erased!!! Are you sure to execute delete operation\uff1f "),b.Jb(),b.Kb(57,"div",33),b.Kb(58,"button",34),b.vc(59,"Cancel"),b.Jb(),b.Kb(60,"button",35),b.Sb("click",function(){return t.deleteIntervals()}),b.vc(61,"Confirm"),b.Jb(),b.Jb(),b.Jb(),b.Jb(),b.Jb()),2&e&&(b.wb(5),b.bc("ngIf",t.toolbars),b.wb(6),b.bc("ngIf",t.enableSelectAll),b.wb(14),b.bc("ngForOf",t.intervalList),b.wb(8),b.bc("ngModel",t.pageLimit),b.wb(8),b.bc("disabled",1===t.pagination),b.wb(4),b.bc("disabled",t.pageLimit>t.intervalList.length))},directives:[l.l,l.k,d.n,d.f,d.i,d.j,d.o,c.f],styles:[".btn[disabled][_ngcontent-%COMP%]:hover{cursor:not-allowed}"]}),J),A=a("X2Dv"),S=((K=function(){function t(n,i,a,r,o){e(this,t),this.schedulerSvc=n,this.msgSvc=i,this.route=a,this.router=r,this.errSvc=o,this.interval={}}return n(t,[{key:"ngOnInit",value:function(){$('[data-toggle="popover"]').popover({trigger:"hover"}),this.initDatePickr()}},{key:"initDatePickr",value:function(){this.calendarStart=Object(A.a)("input[name='intervalStart']",{dateFormat:"YmdTHiS",enableTime:!0,enableSeconds:!0,time_24hr:!0,allowInput:!1}),this.calendarEnd=Object(A.a)("input[name='intervalEnd']",{dateFormat:"YmdTHiS",enableTime:!0,enableSeconds:!0,time_24hr:!0,allowInput:!1})}},{key:"submit",value:function(){var e=this;this.schedulerSvc.addInterval(this.interval).subscribe(function(t){e.errSvc.handleErrorForV2API(t)||(e.msgSvc.success("create new interval","name: "+e.interval.name),e.router.navigate(["../interval-list"],{relativeTo:e.route}))})}},{key:"ngOnDestroy",value:function(){$('[data-toggle="popover"]').popover("dispose")}}]),t}()).\u0275fac=function(e){return new(e||K)(b.Hb(u.a),b.Hb(p.a),b.Hb(c.a),b.Hb(c.e),b.Hb(h.a))},K.\u0275cmp=b.Bb({type:K,selectors:[["app-add-interval"]],decls:53,vars:16,consts:[[1,"card"],[1,"card-header"],[1,"fa","fa-plus","text-danger"],[1,"btn","btn-sm","btn-success","float-right",3,"disabled","click"],[1,"card-body"],[1,"form-group","row","has-validation"],["for","intervalName","required","",1,"col-md-2","col-form-label"],[1,"col-md-10"],["type","text","id","validationIntervalName","name","intervalName","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","validationIntervalNameFeedback",1,"invalid-feedback"],[1,"form-group","row"],["for","intervalStart",1,"col-md-2","col-form-label"],[1,"input-group","mb-3"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"fa","fa-calendar"],["type","text","name","intervalStart",1,"form-control",3,"ngModel","ngModelChange"],["for","intervalEnd",1,"col-md-2","col-form-label"],["type","text","name","intervalEnd",1,"form-control",3,"ngModel","ngModelChange"],["for","intervalInterval",1,"col-md-2","col-form-label"],[1,"mr-2"],["role","button","data-html","true","data-animation","true","data-trigger","focus","data-toggle","popover","title","format tips","data-content",'Interval indicates how often the specific resource needs to be polled. It represents as a duration string. The format of this field is to be an unsigned integer followed by a unit which may be "ns", "us" (or "\xb5s"), "ms", "s", "m", "h" representing nanoseconds, microseconds, milliseconds, seconds, minutes or hours. Eg, "100ms", "24h"',1,"fa","fa-question-circle-o","fa-lg"],["type","text","name","intervalInterval","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","validationIntervalIntervalFeedback",1,"invalid-feedback"],["for","intervalRunOnce",1,"col-md-2","col-form-label"],["name","intervalRunOnce",1,"custom-select",3,"ngModel","ngModelChange"],[3,"ngValue"]],template:function(e,t){1&e&&(b.Kb(0,"div",0),b.Kb(1,"div",1),b.Ib(2,"i",2),b.vc(3," Add Interval "),b.Kb(4,"button",3),b.Sb("click",function(){return t.submit()}),b.vc(5,"Submit"),b.Jb(),b.Jb(),b.Kb(6,"div",4),b.Kb(7,"form"),b.Kb(8,"div",5),b.Kb(9,"label",6),b.vc(10,"Name"),b.Jb(),b.Kb(11,"div",7),b.Kb(12,"input",8),b.Sb("ngModelChange",function(e){return t.interval.name=e}),b.Jb(),b.Kb(13,"div",9),b.Kb(14,"small"),b.vc(15,"the interval name can't be empty!"),b.Jb(),b.Jb(),b.Jb(),b.Jb(),b.Kb(16,"div",10),b.Kb(17,"label",11),b.vc(18,"Start"),b.Jb(),b.Kb(19,"div",7),b.Kb(20,"div",12),b.Kb(21,"div",13),b.Kb(22,"span",14),b.Ib(23,"i",15),b.Jb(),b.Jb(),b.Kb(24,"input",16),b.Sb("ngModelChange",function(e){return t.interval.start=e}),b.Jb(),b.Jb(),b.Jb(),b.Jb(),b.Kb(25,"div",10),b.Kb(26,"label",17),b.vc(27,"End"),b.Jb(),b.Kb(28,"div",7),b.Kb(29,"div",12),b.Kb(30,"div",13),b.Kb(31,"span",14),b.Ib(32,"i",15),b.Jb(),b.Jb(),b.Kb(33,"input",18),b.Sb("ngModelChange",function(e){return t.interval.end=e}),b.Jb(),b.Jb(),b.Jb(),b.Jb(),b.Kb(34,"div",10),b.Kb(35,"label",19),b.Kb(36,"span",20),b.vc(37,"Interval"),b.Jb(),b.Ib(38,"span",21),b.Jb(),b.Kb(39,"div",7),b.Kb(40,"input",22),b.Sb("ngModelChange",function(e){return t.interval.interval=e}),b.Jb(),b.Kb(41,"div",23),b.Kb(42,"small"),b.vc(43,"the interval interval can't be empty!"),b.Jb(),b.Jb(),b.Jb(),b.Jb(),b.Kb(44,"div",10),b.Kb(45,"label",24),b.vc(46,"RunOnce"),b.Jb(),b.Kb(47,"div",7),b.Kb(48,"select",25),b.Sb("ngModelChange",function(e){return t.interval.runOnce=e}),b.Kb(49,"option",26),b.vc(50,"false"),b.Jb(),b.Kb(51,"option",26),b.vc(52,"true"),b.Jb(),b.Jb(),b.Jb(),b.Jb(),b.Jb(),b.Jb(),b.Jb()),2&e&&(b.wb(4),b.bc("disabled",!t.interval.name||!t.interval.interval),b.wb(8),b.zb("is-invalid",!t.interval.name)("is-valid",t.interval.name),b.bc("ngModel",t.interval.name),b.wb(12),b.bc("ngModel",t.interval.start),b.wb(9),b.bc("ngModel",t.interval.end),b.wb(7),b.zb("is-invalid",!t.interval.interval)("is-valid",t.interval.interval),b.bc("ngModel",t.interval.interval),b.wb(8),b.bc("ngModel",t.interval.runOnce),b.wb(1),b.bc("ngValue",!1),b.wb(2),b.bc("ngValue",!0))},directives:[d.p,d.g,d.h,d.a,d.m,d.f,d.i,d.n,d.j,d.o],styles:[".btn[disabled][_ngcontent-%COMP%]:hover{cursor:not-allowed}"]}),K);function M(e,t){if(1&e){var n=b.Lb();b.Kb(0,"form"),b.Kb(1,"div",6),b.Kb(2,"label",7),b.vc(3,"Name"),b.Jb(),b.Kb(4,"div",8),b.Kb(5,"input",9),b.Sb("ngModelChange",function(e){return b.oc(n),b.Vb().interval.name=e}),b.Jb(),b.Kb(6,"div",10),b.Kb(7,"small"),b.vc(8,"the interval name can't be empty!"),b.Jb(),b.Jb(),b.Jb(),b.Jb(),b.Kb(9,"div",11),b.Kb(10,"label",12),b.vc(11,"Start"),b.Jb(),b.Kb(12,"div",8),b.Kb(13,"div",13),b.Kb(14,"div",14),b.Kb(15,"span",15),b.Ib(16,"i",16),b.Jb(),b.Jb(),b.Kb(17,"input",17),b.Sb("ngModelChange",function(e){return b.oc(n),b.Vb().interval.start=e}),b.Jb(),b.Jb(),b.Jb(),b.Jb(),b.Kb(18,"div",11),b.Kb(19,"label",18),b.vc(20,"End"),b.Jb(),b.Kb(21,"div",8),b.Kb(22,"div",13),b.Kb(23,"div",14),b.Kb(24,"span",15),b.Ib(25,"i",16),b.Jb(),b.Jb(),b.Kb(26,"input",19),b.Sb("ngModelChange",function(e){return b.oc(n),b.Vb().interval.end=e}),b.Jb(),b.Jb(),b.Jb(),b.Jb(),b.Kb(27,"div",11),b.Kb(28,"label",20),b.Kb(29,"span",21),b.vc(30,"Interval"),b.Jb(),b.Ib(31,"span",22),b.Jb(),b.Kb(32,"div",8),b.Kb(33,"input",23),b.Sb("ngModelChange",function(e){return b.oc(n),b.Vb().interval.interval=e}),b.Jb(),b.Kb(34,"div",24),b.Kb(35,"small"),b.vc(36,"the interval interval can't be empty!"),b.Jb(),b.Jb(),b.Jb(),b.Jb(),b.Kb(37,"div",11),b.Kb(38,"label",25),b.vc(39,"RunOnce"),b.Jb(),b.Kb(40,"div",8),b.Kb(41,"select",26),b.Sb("ngModelChange",function(e){return b.oc(n),b.Vb().interval.runOnce=e}),b.Kb(42,"option",27),b.vc(43,"false"),b.Jb(),b.Kb(44,"option",27),b.vc(45,"true"),b.Jb(),b.Jb(),b.Jb(),b.Jb(),b.Jb()}if(2&e){var i=b.Vb();b.wb(5),b.zb("is-invalid",!i.interval.name)("is-valid",i.interval.name),b.bc("ngModel",i.interval.name),b.wb(12),b.bc("ngModel",i.interval.start),b.wb(9),b.bc("ngModel",i.interval.end),b.wb(7),b.zb("is-invalid",!i.interval.interval)("is-valid",i.interval.interval),b.bc("ngModel",i.interval.interval),b.wb(8),b.bc("ngModel",i.interval.runOnce),b.wb(1),b.bc("ngValue",!1),b.wb(2),b.bc("ngValue",!0)}}var I,T,k=((T=function(){function t(n,i,a,r,o){e(this,t),this.schedulerSvc=n,this.msgSvc=i,this.route=a,this.router=r,this.errSvc=o}return n(t,[{key:"ngOnInit",value:function(){var e=this;this.route.queryParams.subscribe(function(t){t.intervalName&&e.schedulerSvc.findIntervalByName(t.intervalName).subscribe(function(t){e.errSvc.handleErrorForV2API(t)||(e.interval=t.interval,e.interval.runOnce=!!e.interval.runOnce,setTimeout(function(){e.initDatePickr()},300))})})}},{key:"initDatePickr",value:function(){$('[data-toggle="popover"]').popover({trigger:"hover"}),this.calendarStart=Object(A.a)("input[name='intervalStart']",{dateFormat:"YmdTHiS",enableTime:!0,enableSeconds:!0,time_24hr:!0,allowInput:!1}),this.calendarEnd=Object(A.a)("input[name='intervalEnd']",{dateFormat:"YmdTHiS",enableTime:!0,enableSeconds:!0,time_24hr:!0,allowInput:!1})}},{key:"update",value:function(){var e=this;this.schedulerSvc.updateInterval(this.interval).subscribe(function(t){var n;e.errSvc.handleErrorForV2API(t)||(e.msgSvc.success("update interval","name: "+(null===(n=e.interval)||void 0===n?void 0:n.name)),e.router.navigate(["../interval-list"],{relativeTo:e.route}))})}},{key:"ngOnDestroy",value:function(){$('[data-toggle="popover"]').popover("dispose")}}]),t}()).\u0275fac=function(e){return new(e||T)(b.Hb(u.a),b.Hb(p.a),b.Hb(c.a),b.Hb(c.e),b.Hb(h.a))},T.\u0275cmp=b.Bb({type:T,selectors:[["app-edit-interval"]],decls:8,vars:3,consts:[[1,"card"],[1,"card-header"],[1,"fa","fa-edit","text-danger"],[1,"btn","btn-sm","btn-success","float-right",3,"disabled","click"],[1,"card-body"],[4,"ngIf"],[1,"form-group","row","has-validation"],["for","intervalName","required","",1,"col-md-2","col-form-label"],[1,"col-md-10"],["type","text","name","intervalName",1,"form-control",3,"ngModel","ngModelChange"],["id","validationIntervalNameFeedback",1,"invalid-feedback"],[1,"form-group","row"],["for","intervalStart",1,"col-md-2","col-form-label"],[1,"input-group","mb-3"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"fa","fa-calendar"],["type","text","name","intervalStart",1,"form-control",3,"ngModel","ngModelChange"],["for","intervalEnd2",1,"col-md-2","col-form-label"],["type","text","name","intervalEnd",1,"form-control",3,"ngModel","ngModelChange"],["for","intervalInterval",1,"col-md-2","col-form-label"],[1,"mr-2"],["role","button","data-html","true","data-animation","true","data-trigger","focus","data-toggle","popover","title","ISO8601 duration format","data-content",'Interval indicates how often the specific resource needs to be polled. It represents as a duration string. The format of this field is to be an unsigned integer followed by a unit which may be "ns", "us" (or "\xb5s"), "ms", "s", "m", "h" representing nanoseconds, microseconds, milliseconds, seconds, minutes or hours. Eg, "100ms", "24h"',1,"fa","fa-question-circle-o","fa-lg"],["type","text","name","intervalInterval","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","validationIntervalIntervalFeedback",1,"invalid-feedback"],["for","intervalRunOnce",1,"col-md-2","col-form-label"],["name","intervalRunOnce",1,"custom-select",3,"ngModel","ngModelChange"],[3,"ngValue"]],template:function(e,t){1&e&&(b.Kb(0,"div",0),b.Kb(1,"div",1),b.Ib(2,"i",2),b.vc(3),b.Kb(4,"button",3),b.Sb("click",function(){return t.update()}),b.vc(5,"Submit"),b.Jb(),b.Jb(),b.Kb(6,"div",4),b.tc(7,M,46,15,"form",5),b.Jb(),b.Jb()),2&e&&(b.wb(3),b.xc(" Edit Interval ",null==t.interval?null:t.interval.name," "),b.wb(1),b.bc("disabled",!(null!=t.interval&&t.interval.name)),b.wb(3),b.bc("ngIf",t.interval))},directives:[l.l,d.p,d.g,d.h,d.a,d.f,d.i,d.m,d.n,d.j,d.o],styles:[".btn[disabled][_ngcontent-%COMP%]:hover{cursor:not-allowed}"]}),T),C=((I=function(){function t(){e(this,t)}return n(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(e){return new(e||I)},I.\u0275cmp=b.Bb({type:I,selectors:[["app-interval-action-center"]],decls:1,vars:0,template:function(e,t){1&e&&b.Ib(0,"router-outlet")},directives:[c.j],styles:[""]}),I),w=function(e){return{intervalName:e}};function P(e,t){if(1&e){var n=b.Lb();b.Kb(0,"tr"),b.Kb(1,"td"),b.Kb(2,"input",18),b.Sb("click",function(e){b.oc(n);var i=t.$implicit;return b.Vb().selectOne(e,i)}),b.Jb(),b.Jb(),b.Kb(3,"td",45),b.vc(4),b.Jb(),b.Kb(5,"td",45),b.vc(6),b.Jb(),b.Kb(7,"td"),b.Kb(8,"a",46),b.vc(9),b.Jb(),b.Jb(),b.Kb(10,"td"),b.vc(11),b.Jb(),b.Jb()}if(2&e){var i=t.$implicit,a=b.Vb();b.zb("table-active",a.isChecked(i.name)),b.wb(2),b.bc("checked",a.isChecked(i.name)),b.wb(2),b.wc(i.id),b.wb(2),b.wc(i.name),b.wb(2),b.bc("queryParams",b.hc(8,w,i.intervalName)),b.wb(1),b.wc(i.intervalName),b.wb(2),b.wc(i.address.type)}}var E,O=((E=function(){function t(n,i,a,r){e(this,t),this.schedulerSvc=n,this.msgSvc=i,this.route=a,this.router=r,this.intervalActionList=[],this.intervalActionSelected=[],this.isCheckedAll=!1,this.pagination=1,this.pageLimit=5,this.pageOffset=(this.pagination-1)*this.pageLimit}return n(t,[{key:"ngOnInit",value:function(){var e=this;this.route.queryParams.subscribe(function(t){t.intervalName||e.findIntervalActionsPagination()})}},{key:"refresh",value:function(){var e=this;this.schedulerSvc.findAllIntervalActionsPagination(0,this.pageLimit).subscribe(function(t){e.intervalActionList=t.actions,e.msgSvc.success("refresh"),e.resetPagination()})}},{key:"findIntervalActionsPagination",value:function(){var e=this;this.schedulerSvc.findAllIntervalActionsPagination(this.pageOffset,this.pageLimit).subscribe(function(t){e.intervalActionList=t.actions})}},{key:"selectAll",value:function(e){var t=this;if(e.target.checked)return this.intervalActionSelected=[],this.intervalActionList.forEach(function(e){t.intervalActionSelected.push(e),t.isChecked(e.name)}),void(this.isCheckedAll=!0);this.isCheckedAll=!1,this.intervalActionSelected=[],this.intervalActionList.forEach(function(e){t.isChecked(e.name)})}},{key:"isChecked",value:function(e){return this.intervalActionSelected.findIndex(function(t){return t.name===e})>=0}},{key:"selectOne",value:function(e,t){if(e.target.checked)return this.intervalActionSelected.push(t),void(this.intervalActionSelected.length===this.intervalActionList.length&&(this.isCheckedAll=!0));this.isCheckedAll=!1,this.isChecked(t.name),this.intervalActionSelected.splice(this.intervalActionSelected.indexOf(t),1)}},{key:"edit",value:function(){this.router.navigate(["../edit-interval-action"],{relativeTo:this.route,queryParams:{intervalActionName:this.intervalActionSelected[0].name}})}},{key:"deleteConfirm",value:function(){$("#deleteConfirmDialog").modal("show")}},{key:"deleteIntervalActions",value:function(){var e=this;this.intervalActionSelected.forEach(function(t,n){e.schedulerSvc.deleteIntervalActionByName(t.name).subscribe(function(){e.intervalActionList.forEach(function(n,i){n.name!==t.name||e.intervalActionList.splice(i,1)}),e.intervalActionSelected.splice(n,1),e.msgSvc.success("delete","name: "+t.name),e.resetPagination(),e.findIntervalActionsPagination()})}),$("#deleteConfirmDialog").modal("hide")}},{key:"onPageSelected",value:function(){this.resetPagination(),this.setPagination(),this.findIntervalActionsPagination()}},{key:"prePage",value:function(){this.setPagination(-1),this.findIntervalActionsPagination()}},{key:"nextPage",value:function(){this.setPagination(1),this.findIntervalActionsPagination()}},{key:"setPagination",value:function(e){1===e?this.pagination+=1:-1===e&&(this.pagination-=1),this.pageOffset=(this.pagination-1)*this.pageLimit}},{key:"resetPagination",value:function(){this.pagination=1}}]),t}()).\u0275fac=function(e){return new(e||E)(b.Hb(u.a),b.Hb(p.a),b.Hb(c.a),b.Hb(c.e))},E.\u0275cmp=b.Bb({type:E,selectors:[["app-interval-action-list"]],decls:75,vars:7,consts:[[1,"card"],[1,"card-header"],[1,"fa","fa-list","text-danger"],[1,"card-body","p-0","position-relative"],[1,"bg-light","px-2","py-2"],["role","group",1,"btn-group","btn-group-sm"],[1,"btn","btn-primary",3,"click"],[1,"fa","fa-refresh","mr-1"],["type","button","routerLink","../add-interval-action",1,"btn","btn-info"],[1,"fa","fa-plus","mr-1"],["type","button",1,"btn","btn-success",3,"disabled","click"],[1,"fa","fa-edit","mr-1"],["type","button",1,"btn","btn-danger",3,"disabled","click"],[1,"fa","fa-trash","mr-1"],[1,"table-responsive"],[1,"table","table-hover","text-truncate"],[1,"thead-light"],["scope","col"],["type","checkbox","role","button",3,"checked","click"],[3,"table-active",4,"ngFor","ngForOf"],[1,"card-footer","text-muted","p-1"],["aria-label","navigation"],[1,"pagination","justify-content-end","m-0"],[1,"page-item","mr-2","mt-1"],[1,"align-middle"],[1,"page-item","mr-2"],["name","pageLimit","id","pageLimit",1,"form-control",3,"ngModel","ngModelChange"],["value","5"],["value","10"],["value","20"],[1,"page-item","mr-1"],[1,"page-link","btn",3,"disabled","click"],[1,"fa","fa-angle-double-left"],[1,"page-item"],[1,"fa","fa-angle-double-right"],["id","deleteConfirmDialog","data-backdrop","static","data-keyboard","false","tabindex","-1","aria-labelledby","deleteConfirmDialogLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","deleteConfirmDialogLabel",1,"modal-title","text-danger"],[1,"fa","fa-warning"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],["type","button",1,"btn","btn-danger",3,"click"],[1,"user-select-all"],["routerLink","../../interval-center",3,"queryParams"]],template:function(e,t){1&e&&(b.Kb(0,"div",0),b.Kb(1,"div",1),b.Ib(2,"i",2),b.vc(3," Interval Action List "),b.Jb(),b.Kb(4,"div",3),b.Kb(5,"div",4),b.Kb(6,"div",5),b.Kb(7,"button",6),b.Sb("click",function(){return t.refresh()}),b.Kb(8,"span"),b.Ib(9,"i",7),b.vc(10,"Refresh"),b.Jb(),b.Jb(),b.Kb(11,"button",8),b.Kb(12,"span"),b.Ib(13,"i",9),b.vc(14,"Add"),b.Jb(),b.Jb(),b.Kb(15,"button",10),b.Sb("click",function(){return t.edit()}),b.Kb(16,"span"),b.Ib(17,"i",11),b.vc(18,"Edit"),b.Jb(),b.Jb(),b.Kb(19,"button",12),b.Sb("click",function(){return t.deleteConfirm()}),b.Kb(20,"span"),b.Ib(21,"i",13),b.vc(22,"Delete"),b.Jb(),b.Jb(),b.Jb(),b.Jb(),b.Kb(23,"div",14),b.Kb(24,"table",15),b.Kb(25,"thead",16),b.Kb(26,"tr"),b.Kb(27,"th",17),b.Kb(28,"input",18),b.Sb("click",function(e){return t.selectAll(e)}),b.Jb(),b.Jb(),b.Kb(29,"th",17),b.vc(30,"ID"),b.Jb(),b.Kb(31,"th",17),b.vc(32,"Name"),b.Jb(),b.Kb(33,"th",17),b.vc(34,"AssociatedInterval"),b.Jb(),b.Kb(35,"th",17),b.vc(36,"AddressType"),b.Jb(),b.Jb(),b.Jb(),b.Kb(37,"tbody"),b.tc(38,P,12,10,"tr",19),b.Jb(),b.Jb(),b.Jb(),b.Jb(),b.Kb(39,"div",20),b.Kb(40,"nav",21),b.Kb(41,"ul",22),b.Kb(42,"li",23),b.Kb(43,"span",24),b.vc(44,"items per page"),b.Jb(),b.Jb(),b.Kb(45,"li",25),b.Kb(46,"select",26),b.Sb("ngModelChange",function(e){return t.pageLimit=e})("ngModelChange",function(){return t.onPageSelected()}),b.Kb(47,"option",27),b.vc(48,"5"),b.Jb(),b.Kb(49,"option",28),b.vc(50,"10"),b.Jb(),b.Kb(51,"option",29),b.vc(52,"20"),b.Jb(),b.Jb(),b.Jb(),b.Kb(53,"li",30),b.Kb(54,"button",31),b.Sb("click",function(){return t.prePage()}),b.Ib(55,"i",32),b.vc(56," Previous"),b.Jb(),b.Jb(),b.Kb(57,"li",33),b.Kb(58,"button",31),b.Sb("click",function(){return t.nextPage()}),b.vc(59,"Next "),b.Ib(60,"i",34),b.Jb(),b.Jb(),b.Jb(),b.Jb(),b.Jb(),b.Jb(),b.Kb(61,"div",35),b.Kb(62,"div",36),b.Kb(63,"div",37),b.Kb(64,"div",38),b.Kb(65,"h5",39),b.Ib(66,"i",40),b.vc(67," Warning "),b.Jb(),b.Jb(),b.Kb(68,"div",41),b.vc(69," The data will be permanently erased!!! Are you sure to execute delete operation\uff1f "),b.Jb(),b.Kb(70,"div",42),b.Kb(71,"button",43),b.vc(72,"Cancel"),b.Jb(),b.Kb(73,"button",44),b.Sb("click",function(){return t.deleteIntervalActions()}),b.vc(74,"Confirm"),b.Jb(),b.Jb(),b.Jb(),b.Jb(),b.Jb()),2&e&&(b.wb(15),b.bc("disabled",1!==t.intervalActionSelected.length),b.wb(4),b.bc("disabled",0===t.intervalActionSelected.length),b.wb(9),b.bc("checked",t.isCheckedAll),b.wb(10),b.bc("ngForOf",t.intervalActionList),b.wb(8),b.bc("ngModel",t.pageLimit),b.wb(8),b.bc("disabled",1===t.pagination),b.wb(4),b.bc("disabled",t.pageLimit>t.intervalActionList.length))},directives:[c.f,l.k,d.n,d.f,d.i,d.j,d.o,c.h],styles:[""]}),E);function R(e,t){if(1&e){var n=b.Lb();b.Kb(0,"div",10),b.Sb("click",function(e){return b.oc(n),b.Vb().close(e)}),b.Jb()}}var L,V=((L=function(){function t(){e(this,t),this.visible=!1,this.validate=!1,this.intervalSelectedEvent=new b.n,this.selectedInterval={}}return n(t,[{key:"ngOnInit",value:function(){}},{key:"onSingleIntervalSelected",value:function(e){this.selectedInterval=e,this.intervalSelectedEvent.emit(e)}},{key:"close",value:function(e){e.stopPropagation(),this.visible=!1}},{key:"toggle",value:function(e){e.stopImmediatePropagation(),this.visible=!this.visible}}]),t}()).\u0275fac=function(e){return new(e||L)},L.\u0275cmp=b.Bb({type:L,selectors:[["app-interval-combo-list"]],inputs:{validate:"validate",selectedInterval:"selectedInterval"},outputs:{intervalSelectedEvent:"intervalSelectedEvent"},decls:12,vars:11,consts:[["class","combo-shielder",3,"click",4,"ngIf"],[1,"combo"],[1,"input-group","has-validation",3,"click"],["type","text","name","selectedInterval","readonly","readonly","maxlength","0","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-group-append"],["role","button",1,"input-group-text"],[1,"fa","fa-chevron-down"],["id","validationIntervalNameFeedback",1,"invalid-feedback"],[1,"combo-body","shadow","rounded"],[3,"singleIntervalSelected","enableSelectAll","toolbars","singleIntervalSelectedEvent"],[1,"combo-shielder",3,"click"]],template:function(e,t){1&e&&(b.tc(0,R,1,0,"div",0),b.Kb(1,"div",1),b.Kb(2,"div",2),b.Sb("click",function(e){return t.toggle(e)}),b.Kb(3,"input",3),b.Sb("ngModelChange",function(e){return t.selectedInterval.name=e}),b.Jb(),b.Kb(4,"div",4),b.Kb(5,"span",5),b.Ib(6,"i",6),b.Jb(),b.Jb(),b.Kb(7,"div",7),b.Kb(8,"small"),b.vc(9,"the interval name can't be empty!"),b.Jb(),b.Jb(),b.Jb(),b.Kb(10,"div",8),b.Kb(11,"app-interval-list",9),b.Sb("singleIntervalSelectedEvent",function(e){return t.onSingleIntervalSelected(e)}),b.Jb(),b.Jb(),b.Jb()),2&e&&(b.bc("ngIf",t.visible),b.wb(3),b.zb("is-invalid",!t.selectedInterval.name&&t.validate)("is-valid",t.selectedInterval.name&&t.validate),b.bc("ngModel",t.selectedInterval.name),b.wb(7),b.sc("display",t.visible?"":"none"),b.wb(1),b.bc("singleIntervalSelected",t.selectedInterval)("enableSelectAll",!1)("toolbars",!1))},directives:[l.l,d.a,d.c,d.m,d.f,d.i,y],styles:[".combo[_ngcontent-%COMP%]{position:relative;right:auto}.combo-shielder[_ngcontent-%COMP%]{position:fixed;top:0;bottom:0;right:0;left:0;z-index:100}.combo-body[_ngcontent-%COMP%]{position:absolute;top:33px;bottom:auto;left:0;right:0;z-index:105;visibility:visible;display:inline-block}"]}),L),x=a("HpGU");function q(e,t){if(1&e){var n=b.Lb();b.Kb(0,"div",1),b.Kb(1,"span",61),b.Sb("click",function(){return b.oc(n),b.Vb().templateToggle("coredata")}),b.vc(2,"CoreDataSeviceTemplate"),b.Jb(),b.Kb(3,"span",61),b.Sb("click",function(){return b.oc(n),b.Vb().templateToggle("command")}),b.vc(4,"CommandServiceTemplate"),b.Jb(),b.Kb(5,"span",61),b.Sb("click",function(){return b.oc(n),b.Vb().templateToggle("custom")}),b.vc(6,"CustomTemplate"),b.Jb(),b.Jb()}if(2&e){var i=b.Vb();b.wb(1),b.zb("badge-secondary","coredata"!==i.templateSelected)("badge-primary","coredata"===i.templateSelected),b.wb(2),b.zb("badge-secondary","command"!==i.templateSelected)("badge-primary","command"===i.templateSelected),b.wb(2),b.zb("badge-secondary","custom"!==i.templateSelected)("badge-primary","custom"===i.templateSelected)}}function N(e,t){if(1&e){var n=b.Lb();b.Kb(0,"form"),b.Kb(1,"div",12),b.Kb(2,"label",68),b.vc(3,"HttpMethod"),b.Jb(),b.Kb(4,"div",9),b.Kb(5,"select",69),b.Sb("ngModelChange",function(e){return b.oc(n),b.Vb(2).intervalAction.address.httpMethod=e}),b.Kb(6,"option",70),b.vc(7,"GET"),b.Jb(),b.Kb(8,"option",71),b.vc(9,"POST"),b.Jb(),b.Kb(10,"option",72),b.vc(11,"PUT"),b.Jb(),b.Kb(12,"option",73),b.vc(13,"DELETE"),b.Jb(),b.Kb(14,"option",74),b.vc(15,"PATCH"),b.Jb(),b.Kb(16,"option",75),b.vc(17,"HEAD"),b.Jb(),b.Kb(18,"option",76),b.vc(19,"TRACE"),b.Jb(),b.Kb(20,"option",77),b.vc(21,"CONNECT"),b.Jb(),b.Jb(),b.Jb(),b.Jb(),b.Kb(22,"div",7),b.Kb(23,"label",78),b.vc(24,"Host"),b.Jb(),b.Kb(25,"div",9),b.Kb(26,"input",79),b.Sb("ngModelChange",function(e){return b.oc(n),b.Vb(2).intervalAction.address.host=e}),b.Jb(),b.Kb(27,"div",80),b.Kb(28,"small"),b.vc(29,"the REST address host can't be empty!"),b.Jb(),b.Jb(),b.Jb(),b.Jb(),b.Kb(30,"div",7),b.Kb(31,"label",81),b.vc(32,"Port"),b.Jb(),b.Kb(33,"div",9),b.Kb(34,"input",82),b.Sb("ngModelChange",function(e){return b.oc(n),b.Vb(2).intervalAction.address.port=e}),b.Jb(),b.Kb(35,"div",83),b.Kb(36,"small"),b.vc(37,"the REST address port can't be empty and only pure integer is supported!"),b.Jb(),b.Jb(),b.Jb(),b.Jb(),b.Kb(38,"div",12),b.Kb(39,"label",84),b.vc(40,"Path"),b.Jb(),b.Kb(41,"div",9),b.Kb(42,"input",85),b.Sb("ngModelChange",function(e){return b.oc(n),b.Vb(2).intervalAction.address.path=e}),b.Jb(),b.Jb(),b.Jb(),b.Kb(43,"div",12),b.Kb(44,"label",86),b.vc(45,"RequestBody"),b.Jb(),b.Kb(46,"div",9),b.Kb(47,"input",87),b.Sb("ngModelChange",function(e){return b.oc(n),b.Vb(2).intervalAction.address.requestBody=e}),b.Jb(),b.Jb(),b.Jb(),b.Kb(48,"div",12),b.Kb(49,"label",86),b.Kb(50,"span",45),b.vc(51,"ContentType"),b.Jb(),b.Ib(52,"span",88),b.Jb(),b.Kb(53,"div",9),b.Kb(54,"input",89),b.Sb("ngModelChange",function(e){return b.oc(n),b.Vb(2).intervalAction.address.contentType=e}),b.Jb(),b.Jb(),b.Jb(),b.Jb()}if(2&e){var i=b.Vb(2);b.wb(5),b.bc("ngModel",i.intervalAction.address.httpMethod),b.wb(21),b.zb("is-invalid",!i.intervalAction.address.host)("is-valid",i.intervalAction.address.host),b.bc("ngModel",i.intervalAction.address.host),b.wb(8),b.zb("is-invalid",!i.isPureIntegerType(i.intervalAction.address.port))("is-valid",i.isPureIntegerType(i.intervalAction.address.port)),b.bc("ngModel",i.intervalAction.address.port),b.wb(8),b.bc("ngModel",i.intervalAction.address.path),b.wb(5),b.bc("ngModel",i.intervalAction.address.requestBody),b.wb(7),b.bc("ngModel",i.intervalAction.address.contentType)}}function _(e,t){if(1&e){var n=b.Lb();b.Kb(0,"form"),b.Kb(1,"div",12),b.Kb(2,"label",68),b.vc(3,"HttpMethod"),b.Jb(),b.Kb(4,"div",9),b.Kb(5,"select",69),b.Sb("ngModelChange",function(e){return b.oc(n),b.Vb(2).intervalAction.address.httpMethod=e}),b.Kb(6,"option",73),b.vc(7,"DELETE"),b.Jb(),b.Jb(),b.Jb(),b.Jb(),b.Kb(8,"div",7),b.Kb(9,"label",78),b.Kb(10,"span",45),b.vc(11,"Host"),b.Jb(),b.Ib(12,"span",90),b.Jb(),b.Kb(13,"div",9),b.Kb(14,"input",79),b.Sb("ngModelChange",function(e){return b.oc(n),b.Vb(2).intervalAction.address.host=e}),b.Jb(),b.Kb(15,"div",80),b.Kb(16,"small"),b.vc(17,"the REST address host can't be empty!"),b.Jb(),b.Jb(),b.Jb(),b.Jb(),b.Kb(18,"div",7),b.Kb(19,"label",81),b.vc(20,"Port"),b.Jb(),b.Kb(21,"div",9),b.Kb(22,"input",82),b.Sb("ngModelChange",function(e){return b.oc(n),b.Vb(2).intervalAction.address.port=e}),b.Jb(),b.Kb(23,"div",83),b.Kb(24,"small"),b.vc(25,"the REST address port can't be empty and only pure integer is supported!"),b.Jb(),b.Jb(),b.Jb(),b.Jb(),b.Kb(26,"div",12),b.Kb(27,"label",84),b.Kb(28,"span",45),b.vc(29,"Path"),b.Jb(),b.Ib(30,"span",91),b.Jb(),b.Kb(31,"div",9),b.Kb(32,"input",92),b.Sb("ngModelChange",function(e){return b.oc(n),b.Vb(2).intervalAction.address.path=e}),b.Jb(),b.Jb(),b.Jb(),b.Kb(33,"div",12),b.Kb(34,"label",86),b.vc(35,"Parameter"),b.Jb(),b.Kb(36,"div",9),b.Kb(37,"div",93),b.Kb(38,"div",94),b.Kb(39,"span",95),b.Ib(40,"i",96),b.Jb(),b.Jb(),b.Kb(41,"input",97),b.Sb("ngModelChange",function(e){return b.oc(n),b.Vb(2).coredataRequestParameter=e}),b.Jb(),b.Jb(),b.Jb(),b.Jb(),b.Jb()}if(2&e){var i=b.Vb(2);b.wb(5),b.bc("ngModel",i.intervalAction.address.httpMethod),b.wb(9),b.zb("is-invalid",!i.intervalAction.address.host)("is-valid",i.intervalAction.address.host),b.bc("ngModel",i.intervalAction.address.host),b.wb(8),b.zb("is-invalid",!i.isPureIntegerType(i.intervalAction.address.port))("is-valid",i.isPureIntegerType(i.intervalAction.address.port)),b.bc("ngModel",i.intervalAction.address.port),b.wb(10),b.bc("ngModel",i.intervalAction.address.path),b.wb(9),b.bc("ngModel",i.coredataRequestParameter)}}function H(e,t){if(1&e){var n=b.Lb();b.Kb(0,"form"),b.Kb(1,"div",12),b.Kb(2,"label",68),b.Kb(3,"span",45),b.vc(4,"HttpMethod"),b.Jb(),b.Ib(5,"span",98),b.Jb(),b.Kb(6,"div",9),b.Kb(7,"input",99),b.Sb("ngModelChange",function(e){return b.oc(n),b.Vb(2).intervalAction.address.httpMethod=e}),b.Jb(),b.Jb(),b.Jb(),b.Kb(8,"div",7),b.Kb(9,"label",78),b.Kb(10,"span",45),b.vc(11,"Host"),b.Jb(),b.Ib(12,"span",90),b.Jb(),b.Kb(13,"div",9),b.Kb(14,"input",79),b.Sb("ngModelChange",function(e){return b.oc(n),b.Vb(2).intervalAction.address.host=e}),b.Jb(),b.Kb(15,"div",80),b.Kb(16,"small"),b.vc(17,"the REST address host can't be empty!"),b.Jb(),b.Jb(),b.Jb(),b.Jb(),b.Kb(18,"div",7),b.Kb(19,"label",81),b.vc(20,"Port"),b.Jb(),b.Kb(21,"div",9),b.Kb(22,"input",82),b.Sb("ngModelChange",function(e){return b.oc(n),b.Vb(2).intervalAction.address.port=e}),b.Jb(),b.Kb(23,"div",83),b.Kb(24,"small"),b.vc(25,"the REST address port can't be empty and only pure integer is supported!"),b.Jb(),b.Jb(),b.Jb(),b.Jb(),b.Kb(26,"div",12),b.Kb(27,"label",84),b.vc(28,"Path"),b.Jb(),b.Kb(29,"div",9),b.Kb(30,"app-device-core-command-combo-list",100),b.Sb("cmdMethodEvent",function(e){return b.oc(n),b.Vb(2).onCmdMethodSelected(e)})("commandSelectedEvent",function(e){return b.oc(n),b.Vb(2).onCommandSelected(e)}),b.Jb(),b.Jb(),b.Jb(),b.Kb(31,"div",12),b.Kb(32,"label",86),b.vc(33,"RequestBody"),b.Jb(),b.Kb(34,"div",9),b.Kb(35,"input",87),b.Sb("ngModelChange",function(e){return b.oc(n),b.Vb(2).intervalAction.address.requestBody=e}),b.Jb(),b.Jb(),b.Jb(),b.Jb()}if(2&e){var i=b.Vb(2);b.wb(7),b.bc("ngModel",i.intervalAction.address.httpMethod),b.wb(7),b.zb("is-invalid",!i.intervalAction.address.host)("is-valid",i.intervalAction.address.host),b.bc("ngModel",i.intervalAction.address.host),b.wb(8),b.zb("is-invalid",!i.isPureIntegerType(i.intervalAction.address.port))("is-valid",i.isPureIntegerType(i.intervalAction.address.port)),b.bc("ngModel",i.intervalAction.address.port),b.wb(8),b.bc("validate",!0),b.wb(5),b.bc("ngModel",i.intervalAction.address.requestBody)}}function D(e,t){if(1&e&&(b.Kb(0,"div",null,62),b.Kb(2,"div",63),b.tc(3,N,55,14,"ng-template",64,65,b.uc),b.tc(5,_,42,13,"ng-template",64,66,b.uc),b.tc(7,H,36,13,"ng-template",64,67,b.uc),b.Jb(),b.Jb()),2&e){var n=b.Vb();b.wb(2),b.bc("ngSwitch",n.templateSelected),b.wb(1),b.bc("ngSwitchCase","custom"),b.wb(2),b.bc("ngSwitchCase","coredata"),b.wb(2),b.bc("ngSwitchCase","command")}}function B(e,t){if(1&e){var n=b.Lb();b.Kb(0,"div",35),b.Kb(1,"app-interval-combo-list",36),b.Sb("intervalSelectedEvent",function(e){return b.oc(n),b.Vb(2).onSingleIntervalSelected(e)}),b.Jb(),b.Jb()}if(2&e){var i=b.Vb(2);b.wb(1),b.bc("validate",!0)("selectedInterval",i.selectedIntervalDefault)}}function z(e,t){if(1&e){var n=b.Lb();b.Kb(0,"div",1),b.Kb(1,"span",37),b.vc(2,"Available and Editable templates >>"),b.Jb(),b.Ib(3,"span",38),b.Kb(4,"span",39),b.Sb("click",function(){b.oc(n);var e=b.Vb(2);return e.templateToggle(e.template_type_coredata)}),b.vc(5,"CoreDataSeviceTemplate"),b.Jb(),b.Kb(6,"span",39),b.Sb("click",function(){b.oc(n);var e=b.Vb(2);return e.templateToggle(e.template_type_command)}),b.vc(7,"CommandServiceTemplate"),b.Jb(),b.Kb(8,"span",39),b.Sb("click",function(){b.oc(n);var e=b.Vb(2);return e.templateToggle(e.template_type_custom)}),b.vc(9,"CustomTemplate"),b.Jb(),b.Jb()}if(2&e){var i=b.Vb(2);b.wb(4),b.zb("badge-secondary",i.templateSelected!==i.template_type_coredata)("badge-primary",i.templateSelected===i.template_type_coredata),b.wb(2),b.zb("badge-secondary",i.templateSelected!==i.template_type_command)("badge-primary",i.templateSelected===i.template_type_command),b.wb(2),b.zb("badge-secondary",i.templateSelected!==i.template_type_custom)("badge-primary",i.templateSelected===i.template_type_custom)}}function Q(e,t){if(1&e){var n=b.Lb();b.Kb(0,"form"),b.Kb(1,"div",11),b.Kb(2,"label",46),b.vc(3,"HttpMethod"),b.Jb(),b.Kb(4,"div",8),b.Kb(5,"select",47),b.Sb("ngModelChange",function(e){return b.oc(n),b.Vb(3).intervalAction.address.httpMethod=e}),b.Kb(6,"option",48),b.vc(7,"GET"),b.Jb(),b.Kb(8,"option",49),b.vc(9,"POST"),b.Jb(),b.Kb(10,"option",50),b.vc(11,"PUT"),b.Jb(),b.Kb(12,"option",51),b.vc(13,"DELETE"),b.Jb(),b.Kb(14,"option",52),b.vc(15,"PATCH"),b.Jb(),b.Kb(16,"option",53),b.vc(17,"HEAD"),b.Jb(),b.Kb(18,"option",54),b.vc(19,"TRACE"),b.Jb(),b.Kb(20,"option",55),b.vc(21,"CONNECT"),b.Jb(),b.Jb(),b.Jb(),b.Jb(),b.Kb(22,"div",6),b.Kb(23,"label",56),b.vc(24,"Host"),b.Jb(),b.Kb(25,"div",8),b.Kb(26,"input",57),b.Sb("ngModelChange",function(e){return b.oc(n),b.Vb(3).intervalAction.address.host=e}),b.Jb(),b.Kb(27,"div",58),b.Kb(28,"small"),b.vc(29,"the REST address host can't be empty!"),b.Jb(),b.Jb(),b.Jb(),b.Jb(),b.Kb(30,"div",6),b.Kb(31,"label",59),b.vc(32,"Port"),b.Jb(),b.Kb(33,"div",8),b.Kb(34,"input",60),b.Sb("ngModelChange",function(e){return b.oc(n),b.Vb(3).intervalAction.address.port=e}),b.Jb(),b.Kb(35,"div",61),b.Kb(36,"small"),b.vc(37,"the REST address port can't be empty and only pure integer is supported!"),b.Jb(),b.Jb(),b.Jb(),b.Jb(),b.Kb(38,"div",11),b.Kb(39,"label",62),b.vc(40,"Path"),b.Jb(),b.Kb(41,"div",8),b.Kb(42,"input",63),b.Sb("ngModelChange",function(e){return b.oc(n),b.Vb(3).intervalAction.address.path=e}),b.Jb(),b.Jb(),b.Jb(),b.Kb(43,"div",11),b.Kb(44,"label",64),b.vc(45,"RequestBody"),b.Jb(),b.Kb(46,"div",8),b.Kb(47,"input",65),b.Sb("ngModelChange",function(e){return b.oc(n),b.Vb(3).intervalAction.address.requestBody=e}),b.Jb(),b.Jb(),b.Jb(),b.Kb(48,"div",11),b.Kb(49,"label",64),b.Kb(50,"span",32),b.vc(51,"ContentType"),b.Jb(),b.Ib(52,"span",66),b.Jb(),b.Kb(53,"div",8),b.Kb(54,"input",67),b.Sb("ngModelChange",function(e){return b.oc(n),b.Vb(3).intervalAction.address.contentType=e}),b.Jb(),b.Jb(),b.Jb(),b.Jb()}if(2&e){var i=b.Vb(3);b.wb(5),b.bc("ngModel",i.intervalAction.address.httpMethod),b.wb(21),b.zb("is-invalid",!i.intervalAction.address.host)("is-valid",i.intervalAction.address.host),b.bc("ngModel",i.intervalAction.address.host),b.wb(8),b.zb("is-invalid",!i.isPureIntegerType(i.intervalAction.address.port))("is-valid",i.isPureIntegerType(i.intervalAction.address.port)),b.bc("ngModel",i.intervalAction.address.port),b.wb(8),b.bc("ngModel",i.intervalAction.address.path),b.wb(5),b.bc("ngModel",i.intervalAction.address.requestBody),b.wb(7),b.bc("ngModel",i.intervalAction.address.contentType)}}function F(e,t){if(1&e){var n=b.Lb();b.Kb(0,"form"),b.Kb(1,"div",11),b.Kb(2,"label",46),b.vc(3,"HttpMethod"),b.Jb(),b.Kb(4,"div",8),b.Kb(5,"select",47),b.Sb("ngModelChange",function(e){return b.oc(n),b.Vb(3).intervalAction.address.httpMethod=e}),b.Kb(6,"option",51),b.vc(7,"DELETE"),b.Jb(),b.Jb(),b.Jb(),b.Jb(),b.Kb(8,"div",6),b.Kb(9,"label",56),b.Kb(10,"span",32),b.vc(11,"Host"),b.Jb(),b.Ib(12,"span",68),b.Jb(),b.Kb(13,"div",8),b.Kb(14,"input",57),b.Sb("ngModelChange",function(e){return b.oc(n),b.Vb(3).intervalAction.address.host=e}),b.Jb(),b.Kb(15,"div",58),b.Kb(16,"small"),b.vc(17,"the REST address host can't be empty!"),b.Jb(),b.Jb(),b.Jb(),b.Jb(),b.Kb(18,"div",6),b.Kb(19,"label",59),b.vc(20,"Port"),b.Jb(),b.Kb(21,"div",8),b.Kb(22,"input",60),b.Sb("ngModelChange",function(e){return b.oc(n),b.Vb(3).intervalAction.address.port=e}),b.Jb(),b.Kb(23,"div",61),b.Kb(24,"small"),b.vc(25,"the REST address port can't be empty and only pure integer is supported!"),b.Jb(),b.Jb(),b.Jb(),b.Jb(),b.Kb(26,"div",11),b.Kb(27,"label",62),b.Kb(28,"span",32),b.vc(29,"Path"),b.Jb(),b.Ib(30,"span",69),b.Jb(),b.Kb(31,"div",8),b.Kb(32,"input",70),b.Sb("ngModelChange",function(e){return b.oc(n),b.Vb(3).intervalAction.address.path=e}),b.Jb(),b.Jb(),b.Jb(),b.Kb(33,"div",11),b.Kb(34,"label",64),b.vc(35,"Parameter"),b.Jb(),b.Kb(36,"div",8),b.Kb(37,"div",71),b.Kb(38,"div",72),b.Kb(39,"span",73),b.Ib(40,"i",74),b.Jb(),b.Jb(),b.Kb(41,"input",75),b.Sb("ngModelChange",function(e){return b.oc(n),b.Vb(3).coredataRequestParameter=e}),b.Jb(),b.Jb(),b.Jb(),b.Jb(),b.Jb()}if(2&e){var i=b.Vb(3);b.wb(5),b.bc("ngModel",i.intervalAction.address.httpMethod),b.wb(9),b.zb("is-invalid",!i.intervalAction.address.host)("is-valid",i.intervalAction.address.host),b.bc("ngModel",i.intervalAction.address.host),b.wb(8),b.zb("is-invalid",!i.isPureIntegerType(i.intervalAction.address.port))("is-valid",i.isPureIntegerType(i.intervalAction.address.port)),b.bc("ngModel",i.intervalAction.address.port),b.wb(10),b.bc("ngModel",i.intervalAction.address.path),b.wb(9),b.bc("ngModel",i.coredataRequestParameter)}}function U(e,t){if(1&e){var n=b.Lb();b.Kb(0,"form"),b.Kb(1,"div",11),b.Kb(2,"label",46),b.Kb(3,"span",32),b.vc(4,"HttpMethod"),b.Jb(),b.Ib(5,"span",76),b.Jb(),b.Kb(6,"div",8),b.Kb(7,"input",77),b.Sb("ngModelChange",function(e){return b.oc(n),b.Vb(3).intervalAction.address.httpMethod=e}),b.Jb(),b.Jb(),b.Jb(),b.Kb(8,"div",6),b.Kb(9,"label",56),b.Kb(10,"span",32),b.vc(11,"Host"),b.Jb(),b.Ib(12,"span",68),b.Jb(),b.Kb(13,"div",8),b.Kb(14,"input",57),b.Sb("ngModelChange",function(e){return b.oc(n),b.Vb(3).intervalAction.address.host=e}),b.Jb(),b.Kb(15,"div",58),b.Kb(16,"small"),b.vc(17,"the REST address host can't be empty!"),b.Jb(),b.Jb(),b.Jb(),b.Jb(),b.Kb(18,"div",6),b.Kb(19,"label",59),b.vc(20,"Port"),b.Jb(),b.Kb(21,"div",8),b.Kb(22,"input",60),b.Sb("ngModelChange",function(e){return b.oc(n),b.Vb(3).intervalAction.address.port=e}),b.Jb(),b.Kb(23,"div",61),b.Kb(24,"small"),b.vc(25,"the REST address port can't be empty and only pure integer is supported!"),b.Jb(),b.Jb(),b.Jb(),b.Jb(),b.Kb(26,"div",11),b.Kb(27,"label",62),b.vc(28,"Path"),b.Jb(),b.Kb(29,"div",8),b.Kb(30,"app-device-core-command-combo-list",78),b.Sb("cmdMethodEvent",function(e){return b.oc(n),b.Vb(3).onCmdMethodSelected(e)})("commandSelectedEvent",function(e){return b.oc(n),b.Vb(3).onCommandSelected(e)}),b.Jb(),b.Jb(),b.Jb(),b.Kb(31,"div",11),b.Kb(32,"label",64),b.vc(33,"RequestBody"),b.Jb(),b.Kb(34,"div",8),b.Kb(35,"input",65),b.Sb("ngModelChange",function(e){return b.oc(n),b.Vb(3).intervalAction.address.requestBody=e}),b.Jb(),b.Jb(),b.Jb(),b.Jb()}if(2&e){var i=b.Vb(3);b.wb(7),b.bc("ngModel",i.intervalAction.address.httpMethod),b.wb(7),b.zb("is-invalid",!i.intervalAction.address.host)("is-valid",i.intervalAction.address.host),b.bc("ngModel",i.intervalAction.address.host),b.wb(8),b.zb("is-invalid",!i.isPureIntegerType(i.intervalAction.address.port))("is-valid",i.isPureIntegerType(i.intervalAction.address.port)),b.bc("ngModel",i.intervalAction.address.port),b.wb(8),b.bc("validate",!0),b.wb(5),b.bc("ngModel",i.intervalAction.address.requestBody)}}function j(e,t){if(1&e&&(b.Kb(0,"div",null,40),b.Kb(2,"div",41),b.tc(3,Q,55,14,"ng-template",42,43,b.uc),b.tc(5,F,42,13,"ng-template",42,44,b.uc),b.tc(7,U,36,13,"ng-template",42,45,b.uc),b.Jb(),b.Jb()),2&e){var n=b.Vb(2);b.wb(2),b.bc("ngSwitch",n.templateSelected),b.wb(1),b.bc("ngSwitchCase",n.template_type_custom),b.wb(2),b.bc("ngSwitchCase",n.template_type_coredata),b.wb(2),b.bc("ngSwitchCase",n.template_type_command)}}function X(e,t){if(1&e){var n=b.Lb();b.Kb(0,"div",null,79),b.Kb(2,"form"),b.Kb(3,"div",6),b.Kb(4,"label",80),b.vc(5,"Host"),b.Jb(),b.Kb(6,"div",8),b.Kb(7,"input",81),b.Sb("ngModelChange",function(e){return b.oc(n),b.Vb(2).intervalAction.address.host=e}),b.Jb(),b.Kb(8,"div",82),b.Kb(9,"small"),b.vc(10,"the MQTT host can't be empty!"),b.Jb(),b.Jb(),b.Jb(),b.Jb(),b.Kb(11,"div",6),b.Kb(12,"label",83),b.vc(13,"Port"),b.Jb(),b.Kb(14,"div",8),b.Kb(15,"input",84),b.Sb("ngModelChange",function(e){return b.oc(n),b.Vb(2).intervalAction.address.port=e}),b.Jb(),b.Kb(16,"div",85),b.Kb(17,"small"),b.vc(18,"the MQTT port can't be empty and only pure integer is supported!!"),b.Jb(),b.Jb(),b.Jb(),b.Jb(),b.Kb(19,"div",6),b.Kb(20,"label",86),b.vc(21,"Publisher"),b.Jb(),b.Kb(22,"div",8),b.Kb(23,"input",87),b.Sb("ngModelChange",function(e){return b.oc(n),b.Vb(2).intervalAction.address.publisher=e}),b.Jb(),b.Kb(24,"div",88),b.Kb(25,"small"),b.vc(26,"the MQTT publisher can't be empty!"),b.Jb(),b.Jb(),b.Jb(),b.Jb(),b.Kb(27,"div",6),b.Kb(28,"label",89),b.vc(29,"Topic"),b.Jb(),b.Kb(30,"div",8),b.Kb(31,"input",90),b.Sb("ngModelChange",function(e){return b.oc(n),b.Vb(2).intervalAction.address.topic=e}),b.Jb(),b.Kb(32,"div",91),b.Kb(33,"small"),b.vc(34,"the MQTT topic can't be empty!"),b.Jb(),b.Jb(),b.Jb(),b.Jb(),b.Kb(35,"div",11),b.Kb(36,"label",92),b.vc(37,"QoS"),b.Jb(),b.Kb(38,"div",8),b.Kb(39,"input",93),b.Sb("ngModelChange",function(e){return b.oc(n),b.Vb(2).intervalAction.address.qos=e}),b.Jb(),b.Jb(),b.Jb(),b.Kb(40,"div",11),b.Kb(41,"label",94),b.vc(42,"KeepAlive"),b.Jb(),b.Kb(43,"div",8),b.Kb(44,"input",95),b.Sb("ngModelChange",function(e){return b.oc(n),b.Vb(2).intervalAction.address.keepAlive=e}),b.Jb(),b.Jb(),b.Jb(),b.Kb(45,"div",11),b.Kb(46,"label",96),b.vc(47,"Retained"),b.Jb(),b.Kb(48,"div",8),b.Kb(49,"select",97),b.Sb("ngModelChange",function(e){return b.oc(n),b.Vb(2).intervalAction.address.retained=e}),b.Kb(50,"option",98),b.vc(51,"false"),b.Jb(),b.Kb(52,"option",99),b.vc(53,"true"),b.Jb(),b.Jb(),b.Jb(),b.Jb(),b.Kb(54,"div",11),b.Kb(55,"label",100),b.vc(56,"AutoReconnect"),b.Jb(),b.Kb(57,"div",8),b.Kb(58,"select",101),b.Sb("ngModelChange",function(e){return b.oc(n),b.Vb(2).intervalAction.address.autoReconnect=e}),b.Kb(59,"option",98),b.vc(60,"true"),b.Jb(),b.Kb(61,"option",99),b.vc(62,"false"),b.Jb(),b.Jb(),b.Jb(),b.Jb(),b.Kb(63,"div",11),b.Kb(64,"label",102),b.vc(65,"ConnectTimeout"),b.Jb(),b.Kb(66,"div",8),b.Kb(67,"input",103),b.Sb("ngModelChange",function(e){return b.oc(n),b.Vb(2).intervalAction.address.connectTimeout=e}),b.Jb(),b.Jb(),b.Jb(),b.Jb(),b.Jb()}if(2&e){var i=b.Vb(2);b.wb(7),b.zb("is-invalid",!i.intervalAction.address.host)("is-valid",i.intervalAction.address.host),b.bc("ngModel",i.intervalAction.address.host),b.wb(8),b.zb("is-invalid",!i.isPureIntegerType(i.intervalAction.address.port))("is-valid",i.isPureIntegerType(i.intervalAction.address.port)),b.bc("ngModel",i.intervalAction.address.port),b.wb(8),b.zb("is-invalid",!i.intervalAction.address.publisher)("is-valid",i.intervalAction.address.publisher),b.bc("ngModel",i.intervalAction.address.publisher),b.wb(8),b.zb("is-invalid",!i.intervalAction.address.topic)("is-valid",i.intervalAction.address.topic),b.bc("ngModel",i.intervalAction.address.topic),b.wb(8),b.bc("ngModel",i.intervalAction.address.qos),b.wb(5),b.bc("ngModel",i.intervalAction.address.keepAlive),b.wb(5),b.bc("ngModel",i.intervalAction.address.retained),b.wb(1),b.bc("ngValue",!1),b.wb(2),b.bc("ngValue",!0),b.wb(6),b.bc("ngModel",i.intervalAction.address.autoReconnect),b.wb(1),b.bc("ngValue",!0),b.wb(2),b.bc("ngValue",!1),b.wb(6),b.bc("ngModel",i.intervalAction.address.connectTimeout)}}function G(e,t){if(1&e){var n=b.Lb();b.Kb(0,"div",5),b.Kb(1,"form"),b.Kb(2,"div",6),b.Kb(3,"label",7),b.vc(4,"Name"),b.Jb(),b.Kb(5,"div",8),b.Kb(6,"input",9),b.Sb("ngModelChange",function(e){return b.oc(n),b.Vb().intervalAction.name=e}),b.Jb(),b.Kb(7,"div",10),b.Kb(8,"small"),b.vc(9,"the interval action name can't be empty!"),b.Jb(),b.Jb(),b.Jb(),b.Jb(),b.Kb(10,"div",11),b.Kb(11,"label",12),b.vc(12,"IntervalName"),b.Jb(),b.Kb(13,"div",8),b.tc(14,B,2,2,"div",13),b.Jb(),b.Jb(),b.Kb(15,"div",11),b.Kb(16,"label",14),b.vc(17,"AdminState"),b.Jb(),b.Kb(18,"div",8),b.Kb(19,"select",15),b.Sb("ngModelChange",function(e){return b.oc(n),b.Vb().intervalAction.adminState=e}),b.Kb(20,"option",16),b.vc(21,"UNLOCKED"),b.Jb(),b.Kb(22,"option",17),b.vc(23,"LOCKED"),b.Jb(),b.Jb(),b.Jb(),b.Jb(),b.Kb(24,"div",11),b.Kb(25,"label",18),b.vc(26,"Address"),b.Jb(),b.Kb(27,"div",8),b.Kb(28,"div",0),b.Kb(29,"div",1),b.Kb(30,"div",19),b.Kb(31,"span",20),b.Kb(32,"input",21),b.Sb("ngModelChange",function(e){return b.oc(n),b.Vb().intervalAction.address.type=e})("change",function(){return b.oc(n),b.Vb().typeToggle("REST")}),b.Jb(),b.Kb(33,"label",22),b.vc(34,"REST"),b.Jb(),b.Jb(),b.Jb(),b.Kb(35,"div",19),b.Kb(36,"span",23),b.Sb("click",function(){return b.oc(n),b.Vb().typeToggle("MQTT")}),b.Kb(37,"input",24),b.Sb("ngModelChange",function(e){return b.oc(n),b.Vb().intervalAction.address.type=e}),b.Jb(),b.Kb(38,"label",25),b.vc(39,"MQTT"),b.Jb(),b.Jb(),b.Jb(),b.Kb(40,"div",19),b.Kb(41,"span",23),b.Sb("click",function(){return b.oc(n),b.Vb().typeToggle("EMAIL")}),b.Kb(42,"input",26),b.Sb("ngModelChange",function(e){return b.oc(n),b.Vb().intervalAction.address.type=e}),b.Jb(),b.Kb(43,"label",27),b.vc(44,"EMAIL"),b.Jb(),b.Jb(),b.Jb(),b.Jb(),b.tc(45,z,10,12,"div",28),b.Kb(46,"div",5),b.tc(47,j,9,4,"div",29),b.tc(48,X,68,29,"div",29),b.Kb(49,"div",null,30),b.Kb(51,"form"),b.Kb(52,"div",11),b.Kb(53,"label",31),b.Kb(54,"span",32),b.vc(55,"EmailRecipients"),b.Jb(),b.Ib(56,"span",33),b.Jb(),b.Kb(57,"div",8),b.Kb(58,"input",34),b.Sb("ngModelChange",function(e){return b.oc(n),b.Vb().addressEmailRecipients=e}),b.Jb(),b.Jb(),b.Jb(),b.Jb(),b.Jb(),b.Jb(),b.Jb(),b.Jb(),b.Jb(),b.Jb(),b.Jb()}if(2&e){var i=b.Vb();b.wb(6),b.zb("is-invalid",!i.intervalAction.name)("is-valid",i.intervalAction.name),b.bc("ngModel",i.intervalAction.name),b.wb(8),b.bc("ngIf",i.selectedIntervalDefault),b.wb(5),b.bc("ngModel",i.intervalAction.adminState),b.wb(12),b.zb("badge-secondary",i.intervalAction.address.type!==i.addr_type_REST)("badge-primary",i.intervalAction.address.type===i.addr_type_REST),b.wb(1),b.bc("ngModel",i.intervalAction.address.type),b.wb(4),b.zb("badge-secondary",i.intervalAction.address.type!==i.addr_type_MQTT)("badge-primary",i.intervalAction.address.type===i.addr_type_MQTT),b.wb(1),b.bc("ngModel",i.intervalAction.address.type),b.wb(4),b.zb("badge-secondary",i.intervalAction.address.type!==i.addr_type_EMAIL)("badge-primary",i.intervalAction.address.type===i.addr_type_EMAIL),b.wb(1),b.bc("ngModel",i.intervalAction.address.type),b.wb(3),b.bc("ngIf",i.intervalAction.address.type===i.addr_type_REST),b.wb(2),b.bc("ngIf","REST"===i.intervalAction.address.type),b.wb(1),b.bc("ngIf",(null==i.intervalAction.address?null:i.intervalAction.address.type)===i.addr_type_MQTT),b.wb(1),b.sc("display",i.intervalAction.address.type!==i.addr_type_EMAIL?"none":""),b.wb(9),b.bc("ngModel",i.addressEmailRecipients)}}var Y,W,Z,ee,te=[{path:"",component:s,children:[{path:"",redirectTo:"interval-center",pathMatch:"full"},{path:"interval-center",component:v,children:[{path:"",redirectTo:"interval-list",pathMatch:"full"},{path:"interval-list",component:y},{path:"add-interval",component:S},{path:"edit-interval",component:k}]},{path:"interval-action-center",component:C,children:[{path:"",redirectTo:"interval-action-list",pathMatch:"full"},{path:"interval-action-list",component:O},{path:"add-interval-action",component:(W=function(){function t(n,i,a,r,o){e(this,t),this.schedulerSvc=n,this.msgSvc=i,this.route=a,this.router=r,this.errSvc=o,this.addressEmailRecipients="",this.templateSelected="coredata",this.coredataRequestParameter="",this.coredataSvcAvailableAPI=["/api/v2/event/age/"],this.intervalAction={adminState:"UNLOCKED"},this.intervalAction.address={},this.intervalAction.address.type="REST",this.intervalAction.address.httpMethod="GET",this.intervalAction.address.retained=!1,this.intervalAction.address.autoReconnect=!0}return n(t,[{key:"ngOnInit",value:function(){this.renderPopoverComponent(),this.renderCoredataDefaultTemplate()}},{key:"initDatePickr",value:function(){var e=this;this.calendarStart=Object(A.a)("input[name='coredataRequestParameter']",{dateFormat:"YmdTHiS",enableTime:!0,enableSeconds:!0,time_24hr:!0,allowInput:!1,onChange:function(t,n,i){e.intervalAction.address.path=e.coredataSvcAvailableAPI[0]+n}})}},{key:"renderPopoverComponent",value:function(){$('[data-toggle="popover"]').popover({trigger:"hover"})}},{key:"renderCoredataDefaultTemplate",value:function(){var e=this;this.intervalAction.address.httpMethod="DELETE",this.intervalAction.address.host="edgex-core-data",this.intervalAction.address.port=59880,this.intervalAction.address.path=this.coredataSvcAvailableAPI[0],setTimeout(function(){e.renderPopoverComponent(),e.initDatePickr()},300)}},{key:"templateToggle",value:function(e){var t=this;switch(this.templateSelected=e,this.templateSelected){case"coredata":this.renderCoredataDefaultTemplate();break;case"command":this.intervalAction.address.httpMethod="",this.intervalAction.address.host="edgex-core-command",this.intervalAction.address.port=59882,this.intervalAction.address.path="",this.intervalAction.address.httpMethod="",setTimeout(function(){t.renderPopoverComponent()},300);break;case"custom":setTimeout(function(){t.renderPopoverComponent()},300),this.intervalAction.address={},this.intervalAction.address.type="REST",this.intervalAction.address.httpMethod="GET",this.intervalAction.address.retained=!1,this.intervalAction.address.autoReconnect=!0}}},{key:"typeToggle",value:function(e){this.intervalAction.address.type=e,"REST"===e&&this.templateToggle("coredata")}},{key:"onCmdMethodSelected",value:function(e){this.intervalAction.address.httpMethod=e}},{key:"onCommandSelected",value:function(e){this.intervalAction.address.path=e.path}},{key:"onSingleIntervalSelected",value:function(e){this.intervalAction.intervalName=e.name}},{key:"isPureIntegerType",value:function(e){return!isNaN(e)&&parseFloat(e)===parseInt(e)}},{key:"validate",value:function(){var e=!0,t=this.intervalAction.name&&this.intervalAction.intervalName;switch(this.intervalAction.address.type){case"REST":t&&this.intervalAction.address.host&&this.isPureIntegerType(this.intervalAction.address.port)&&this.intervalAction.address.port&&this.intervalAction.address.path&&this.intervalAction.address.httpMethod&&(e=!1);break;case"MQTT":t&&this.intervalAction.address.host&&this.isPureIntegerType(this.intervalAction.address.port)&&this.intervalAction.address.port&&this.intervalAction.address.publisher&&this.intervalAction.address.topic&&(e=!1);break;case"EMAIL":t&&(e=!1)}return e}},{key:"submit",value:function(){var e=this;this.intervalAction.address.recipients=this.addressEmailRecipients.split(","),this.intervalAction.address.port=Number(this.intervalAction.address.port),this.schedulerSvc.addIntervalAction(this.intervalAction).subscribe(function(){e.msgSvc.success("Add interval action","name: "+e.intervalAction.name),e.router.navigate(["../interval-action-list"],{relativeTo:e.route})})}}]),t}(),W.\u0275fac=function(e){return new(e||W)(b.Hb(u.a),b.Hb(p.a),b.Hb(c.a),b.Hb(c.e),b.Hb(h.a))},W.\u0275cmp=b.Bb({type:W,selectors:[["app-add-interval-action"]],decls:148,vars:59,consts:[[1,"card","mb-3"],[1,"card-header"],[1,"fa","fa-info-circle","mr-2","text-info"],[1,"card-body"],[1,"card"],[1,"fa","fa-plus","text-danger"],[1,"btn","btn-sm","btn-success","float-right",3,"disabled","click"],[1,"form-group","row","has-validation"],["for","intervalActionName","required","",1,"col-md-2","col-form-label"],[1,"col-md-10"],["type","text","id","validationIntervalActionName","name","intervalActionName","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","validationIntervalActionNameFeedback",1,"invalid-feedback"],[1,"form-group","row"],["for","intervalName",1,"col-md-2","col-form-label"],[1,"mb-3"],[3,"validate","intervalSelectedEvent"],["for","adminState",1,"col-md-2","col-form-label"],["name","adminState",1,"custom-select",3,"ngModel","ngModelChange"],["value","UNLOCKED"],["value","LOCKED"],["for","Address",1,"col-md-2","col-form-label"],[1,"form-check","form-check-inline"],[1,"badge"],["type","radio","name","inlineRadioOptions","id","REST","value","REST",1,"form-check-input",3,"ngModel","ngModelChange","click"],["for","REST",1,"form-check-label"],["type","radio","name","inlineRadioOptions","id","MQTT","value","MQTT",1,"form-check-input",3,"ngModel","ngModelChange","click"],["for","MQTT",1,"form-check-label"],["type","radio","name","inlineRadioOptions","id","EMAIL","value","EMAIL",1,"form-check-input",3,"ngModel","ngModelChange","click"],["for","EMAIL",1,"form-check-label"],["class","card-header",4,"ngIf"],[4,"ngIf"],["MQTT",""],["for","addressHostMQTT","required","",1,"col-md-2","col-form-label"],["type","text","id","addressHostMQTT","name","addressHost","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","addressHostMQTTFeedback",1,"invalid-feedback"],["for","addressPortMQTT","required","",1,"col-md-2","col-form-label"],["type","text","id","addressPortMQTT","name","addressPort","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","addressPortMQTTFeedback",1,"invalid-feedback"],["for","addressPublisher","required","",1,"col-md-2","col-form-label"],["type","text","id","addressPublisher","name","addressPublisher","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","addressPublisherFeedback",1,"invalid-feedback"],["for","addressTopic","required","",1,"col-md-2","col-form-label"],["type","text","id","addressTopic","name","addressTopic","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","addressTopicFeedback",1,"invalid-feedback"],["for","addressQoS",1,"col-md-2","col-form-label"],[1,"mr-2"],["role","button","data-html","false","data-animation","true","data-trigger","focus","data-toggle","popover","title","format tips","data-content","only pure integer supported!",1,"fa","fa-question-circle-o","fa-lg"],["type","number","id","addressQoS","name","addressQoS",1,"form-control",3,"ngModel","ngModelChange"],["for","addressKeepAlive",1,"col-md-2","col-form-label"],["type","number","id","addressKeepAlive","name","addressKeepAlive",1,"form-control",3,"ngModel","ngModelChange"],["for","addressRetained","required","",1,"col-md-2","col-form-label"],["type","text","id","addressRetained","name","addressRetained",1,"form-control",3,"ngModel","ngModelChange"],[3,"ngValue"],["for","addressAutoReconnect","required","",1,"col-md-2","col-form-label"],["type","text","id","addressAutoReconnect","name","addressAutoReconnect",1,"form-control",3,"ngModel","ngModelChange"],["for","addressConnectTimeout","required","",1,"col-md-2","col-form-label"],["type","number","id","addressConnectTimeout","name","addressConnectTimeout",1,"form-control",3,"ngModel","ngModelChange"],["EMAIL",""],["for","emailRecipients",1,"col-md-2","col-form-label"],["role","button","data-html","false","data-animation","true","data-trigger","focus","data-toggle","popover","title","format tips","data-content","Multiple email addresses are separated by commas",1,"fa","fa-question-circle-o","fa-lg"],["type","text","id","emailRecipients","name","emailRecipients",1,"form-control",3,"ngModel","ngModelChange"],["role","button",1,"badge","mr-2",3,"click"],["REST",""],[3,"ngSwitch"],[3,"ngSwitchCase"],["customTemplate",""],["coredataTemplate",""],["commandTemplate",""],["for","HttpMethod","required","",1,"col-md-2","col-form-label"],["type","text","name","httpMethod",1,"form-control",3,"ngModel","ngModelChange"],["value","GET"],["value","POST"],["value","PUT"],["value","DELETE"],["value","PATCH"],["value","HEAD"],["value","TRACE"],["value","CONNECT"],["for","addressHostREST","required","",1,"col-md-2","col-form-label"],["type","text","id","addressHostREST","name","addressHost","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","addressHostRESTFeedback",1,"invalid-feedback"],["for","addressPortREST","required","",1,"col-md-2","col-form-label"],["type","text","id","addressPortREST","name","addressPort","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","addressPortRESTFeedback",1,"invalid-feedback"],["for","addressPath","required","",1,"col-md-2","col-form-label"],["type","text","id","addressPath","name","addressPath",1,"form-control",3,"ngModel","ngModelChange"],["for","requestBody","required","",1,"col-md-2","col-form-label"],["type","text","id","requestBody","name","requestBody",1,"form-control",3,"ngModel","ngModelChange"],["role","button","data-html","false","data-animation","true","data-trigger","focus","data-toggle","popover","title","tips","data-content","Indicates which request contentType should be used (i.e. text/html, application/json), the default is application/json if not setup",1,"fa","fa-question-circle-o","fa-lg"],["type","text","id","contentType","name","contentType",1,"form-control",3,"ngModel","ngModelChange"],["role","button","data-html","false","data-animation","true","data-trigger","focus","data-toggle","popover","title","tips","data-content","Both Host and Port fields are editable if you have a different host address !",1,"fa","fa-question-circle-o","fa-lg"],["role","button","data-html","false","data-animation","true","data-trigger","focus","data-toggle","popover","title","tips","data-content","Remove all old events (and associated readings) based on delimiting age, the parameters delimiting age will be filled up automatically when parameters field is selected!",1,"fa","fa-question-circle-o","fa-lg"],["type","text","id","addressPath","name","addressPath","disabled","",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-group"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"fa","fa-calendar"],["type","text","name","coredataRequestParameter",1,"form-control",3,"ngModel","ngModelChange"],["role","button","data-html","false","data-animation","true","data-trigger","focus","data-toggle","popover","title","tips","data-content","httpMethod field will be filled up automatically when the path field is selected! ",1,"fa","fa-question-circle-o","fa-lg"],["type","text","name","httpMethod","disabled","","required","",1,"form-control",3,"ngModel","ngModelChange"],[3,"validate","cmdMethodEvent","commandSelectedEvent"]],template:function(e,t){1&e&&(b.Kb(0,"div",0),b.Kb(1,"div",1),b.Ib(2,"i",2),b.Kb(3,"span"),b.vc(4,"Tips"),b.Jb(),b.Jb(),b.Kb(5,"div",3),b.vc(6," The support scheduler micro service provide an internal EdgeX \u201cclock\u201d that can kick off operations in any EdgeX service. At a configuration specified time (called an interval), the service calls on any EdgeX service API URL via REST to trigger an operation (called an interval action). For example, the scheduling service periodically calls on core data APIs to clean up old sensed events that have been successfully exported out of EdgeX. "),b.Ib(7,"br"),b.vc(8," Users also can call the API of command service to collect one device's data automatically. "),b.Jb(),b.Jb(),b.Kb(9,"div",4),b.Kb(10,"div",1),b.Ib(11,"i",5),b.vc(12," Add Interval Action "),b.Kb(13,"button",6),b.Sb("click",function(){return t.submit()}),b.vc(14,"Submit"),b.Jb(),b.Jb(),b.Kb(15,"div",3),b.Kb(16,"form"),b.Kb(17,"div",7),b.Kb(18,"label",8),b.vc(19,"Name"),b.Jb(),b.Kb(20,"div",9),b.Kb(21,"input",10),b.Sb("ngModelChange",function(e){return t.intervalAction.name=e}),b.Jb(),b.Kb(22,"div",11),b.Kb(23,"small"),b.vc(24,"the interval action name can't be empty!"),b.Jb(),b.Jb(),b.Jb(),b.Jb(),b.Kb(25,"div",12),b.Kb(26,"label",13),b.vc(27,"IntervalName"),b.Jb(),b.Kb(28,"div",9),b.Kb(29,"div",14),b.Kb(30,"app-interval-combo-list",15),b.Sb("intervalSelectedEvent",function(e){return t.onSingleIntervalSelected(e)}),b.Jb(),b.Jb(),b.Jb(),b.Jb(),b.Kb(31,"div",12),b.Kb(32,"label",16),b.vc(33,"AdminState"),b.Jb(),b.Kb(34,"div",9),b.Kb(35,"select",17),b.Sb("ngModelChange",function(e){return t.intervalAction.adminState=e}),b.Kb(36,"option",18),b.vc(37,"UNLOCKED"),b.Jb(),b.Kb(38,"option",19),b.vc(39,"LOCKED"),b.Jb(),b.Jb(),b.Jb(),b.Jb(),b.Kb(40,"div",12),b.Kb(41,"label",20),b.vc(42,"Address"),b.Jb(),b.Kb(43,"div",9),b.Kb(44,"div",4),b.Kb(45,"div",1),b.Kb(46,"div",21),b.Kb(47,"span",22),b.Kb(48,"input",23),b.Sb("ngModelChange",function(e){return t.intervalAction.address.type=e})("click",function(){return t.typeToggle("REST")}),b.Jb(),b.Kb(49,"label",24),b.vc(50,"REST"),b.Jb(),b.Jb(),b.Jb(),b.Kb(51,"div",21),b.Kb(52,"span",22),b.Kb(53,"input",25),b.Sb("ngModelChange",function(e){return t.intervalAction.address.type=e})("click",function(){return t.typeToggle("MQTT")}),b.Jb(),b.Kb(54,"label",26),b.vc(55,"MQTT"),b.Jb(),b.Jb(),b.Jb(),b.Kb(56,"div",21),b.Kb(57,"span",22),b.Kb(58,"input",27),b.Sb("ngModelChange",function(e){return t.intervalAction.address.type=e})("click",function(){return t.typeToggle("EMAIL")}),b.Jb(),b.Kb(59,"label",28),b.vc(60,"EMAIL"),b.Jb(),b.Jb(),b.Jb(),b.Jb(),b.tc(61,q,7,12,"div",29),b.Kb(62,"div",3),b.tc(63,D,9,4,"div",30),b.Kb(64,"div",null,31),b.Kb(66,"form"),b.Kb(67,"div",7),b.Kb(68,"label",32),b.vc(69,"Host"),b.Jb(),b.Kb(70,"div",9),b.Kb(71,"input",33),b.Sb("ngModelChange",function(e){return t.intervalAction.address.host=e}),b.Jb(),b.Kb(72,"div",34),b.Kb(73,"small"),b.vc(74,"the MQTT host can't be empty!"),b.Jb(),b.Jb(),b.Jb(),b.Jb(),b.Kb(75,"div",7),b.Kb(76,"label",35),b.vc(77,"Port"),b.Jb(),b.Kb(78,"div",9),b.Kb(79,"input",36),b.Sb("ngModelChange",function(e){return t.intervalAction.address.port=e}),b.Jb(),b.Kb(80,"div",37),b.Kb(81,"small"),b.vc(82,"the MQTT port can't be empty and only pure integer is supported!!"),b.Jb(),b.Jb(),b.Jb(),b.Jb(),b.Kb(83,"div",7),b.Kb(84,"label",38),b.vc(85,"Publisher"),b.Jb(),b.Kb(86,"div",9),b.Kb(87,"input",39),b.Sb("ngModelChange",function(e){return t.intervalAction.address.publisher=e}),b.Jb(),b.Kb(88,"div",40),b.Kb(89,"small"),b.vc(90,"the MQTT publisher can't be empty!"),b.Jb(),b.Jb(),b.Jb(),b.Jb(),b.Kb(91,"div",7),b.Kb(92,"label",41),b.vc(93,"Topic"),b.Jb(),b.Kb(94,"div",9),b.Kb(95,"input",42),b.Sb("ngModelChange",function(e){return t.intervalAction.address.topic=e}),b.Jb(),b.Kb(96,"div",43),b.Kb(97,"small"),b.vc(98,"the MQTT topic can't be empty!"),b.Jb(),b.Jb(),b.Jb(),b.Jb(),b.Kb(99,"div",12),b.Kb(100,"label",44),b.Kb(101,"span",45),b.vc(102,"QoS"),b.Jb(),b.Ib(103,"span",46),b.Jb(),b.Kb(104,"div",9),b.Kb(105,"input",47),b.Sb("ngModelChange",function(e){return t.intervalAction.address.qos=e}),b.Jb(),b.Jb(),b.Jb(),b.Kb(106,"div",12),b.Kb(107,"label",48),b.Kb(108,"span",45),b.vc(109,"KeepAlive"),b.Jb(),b.Ib(110,"span",46),b.Jb(),b.Kb(111,"div",9),b.Kb(112,"input",49),b.Sb("ngModelChange",function(e){return t.intervalAction.address.keepAlive=e}),b.Jb(),b.Jb(),b.Jb(),b.Kb(113,"div",12),b.Kb(114,"label",50),b.vc(115,"Retained"),b.Jb(),b.Kb(116,"div",9),b.Kb(117,"select",51),b.Sb("ngModelChange",function(e){return t.intervalAction.address.retained=e}),b.Kb(118,"option",52),b.vc(119,"false"),b.Jb(),b.Kb(120,"option",52),b.vc(121,"true"),b.Jb(),b.Jb(),b.Jb(),b.Jb(),b.Kb(122,"div",12),b.Kb(123,"label",53),b.vc(124,"AutoReconnect"),b.Jb(),b.Kb(125,"div",9),b.Kb(126,"select",54),b.Sb("ngModelChange",function(e){return t.intervalAction.address.autoReconnect=e}),b.Kb(127,"option",52),b.vc(128,"true"),b.Jb(),b.Kb(129,"option",52),b.vc(130,"false"),b.Jb(),b.Jb(),b.Jb(),b.Jb(),b.Kb(131,"div",12),b.Kb(132,"label",55),b.Kb(133,"span",45),b.vc(134,"ConnectTimeout"),b.Jb(),b.Ib(135,"span",46),b.Jb(),b.Kb(136,"div",9),b.Kb(137,"input",56),b.Sb("ngModelChange",function(e){return t.intervalAction.address.connectTimeout=e}),b.Jb(),b.Jb(),b.Jb(),b.Jb(),b.Jb(),b.Kb(138,"div",null,57),b.Kb(140,"form"),b.Kb(141,"div",12),b.Kb(142,"label",58),b.Kb(143,"span",45),b.vc(144,"EmailRecipients"),b.Jb(),b.Ib(145,"span",59),b.Jb(),b.Kb(146,"div",9),b.Kb(147,"input",60),b.Sb("ngModelChange",function(e){return t.addressEmailRecipients=e}),b.Jb(),b.Jb(),b.Jb(),b.Jb(),b.Jb(),b.Jb(),b.Jb(),b.Jb(),b.Jb(),b.Jb(),b.Jb(),b.Jb()),2&e&&(b.wb(13),b.bc("disabled",t.validate()),b.wb(8),b.zb("is-invalid",!t.intervalAction.name)("is-valid",t.intervalAction.name),b.bc("ngModel",t.intervalAction.name),b.wb(9),b.bc("validate",!0),b.wb(5),b.bc("ngModel",t.intervalAction.adminState),b.wb(12),b.zb("badge-secondary","REST"!==t.intervalAction.address.type)("badge-primary","REST"===t.intervalAction.address.type),b.wb(1),b.bc("ngModel",t.intervalAction.address.type),b.wb(4),b.zb("badge-secondary","MQTT"!==t.intervalAction.address.type)("badge-primary","MQTT"===t.intervalAction.address.type),b.wb(1),b.bc("ngModel",t.intervalAction.address.type),b.wb(4),b.zb("badge-secondary","EMAIL"!==t.intervalAction.address.type)("badge-primary","EMAIL"===t.intervalAction.address.type),b.wb(1),b.bc("ngModel",t.intervalAction.address.type),b.wb(3),b.bc("ngIf","REST"===t.intervalAction.address.type),b.wb(2),b.bc("ngIf","REST"===t.intervalAction.address.type),b.wb(1),b.sc("display","MQTT"!==t.intervalAction.address.type?"none":""),b.wb(7),b.zb("is-invalid",!t.intervalAction.address.host)("is-valid",t.intervalAction.address.host),b.bc("ngModel",t.intervalAction.address.host),b.wb(8),b.zb("is-invalid",!t.isPureIntegerType(t.intervalAction.address.port))("is-valid",t.isPureIntegerType(t.intervalAction.address.port)),b.bc("ngModel",t.intervalAction.address.port),b.wb(8),b.zb("is-invalid",!t.intervalAction.address.publisher)("is-valid",t.intervalAction.address.publisher),b.bc("ngModel",t.intervalAction.address.publisher),b.wb(8),b.zb("is-invalid",!t.intervalAction.address.topic)("is-valid",t.intervalAction.address.topic),b.bc("ngModel",t.intervalAction.address.topic),b.wb(10),b.bc("ngModel",t.intervalAction.address.qos),b.wb(7),b.bc("ngModel",t.intervalAction.address.keepAlive),b.wb(5),b.bc("ngModel",t.intervalAction.address.retained),b.wb(1),b.bc("ngValue",!1),b.wb(2),b.bc("ngValue",!0),b.wb(6),b.bc("ngModel",t.intervalAction.address.autoReconnect),b.wb(1),b.bc("ngValue",!0),b.wb(2),b.bc("ngValue",!1),b.wb(8),b.bc("ngModel",t.intervalAction.address.connectTimeout),b.wb(1),b.sc("display","EMAIL"!==(null==t.intervalAction.address?null:t.intervalAction.address.type)?"none":""),b.wb(9),b.bc("ngModel",t.addressEmailRecipients))},directives:[d.p,d.g,d.h,d.a,d.m,d.f,d.i,V,d.n,d.j,d.o,d.l,l.l,d.k,l.n,l.o,x.a],styles:[""]}),W)},{path:"edit-interval-action",component:(Y=function(){function t(n,i,a,r,o){e(this,t),this.schedulerSvc=n,this.msgSvc=i,this.route=a,this.router=r,this.errSvc=o,this.addr_type_REST="REST",this.addr_type_MQTT="MQTT",this.addr_type_EMAIL="EMAIL",this.template_type_coredata="coredata",this.template_type_command="command",this.template_type_custom="custom",this.addressEmailRecipients="",this.templateSelected="custom",this.coredataRequestParameter="",this.coredataSvcAvailableAPI=["/api/v2/event/age/"],this.intervalAction={},this.intervalActionOrigin={},this.intervalAction.address={}}return n(t,[{key:"ngOnInit",value:function(){var e=this;this.renderPopoverComponent(),this.route.queryParams.subscribe(function(t){t.intervalActionName&&e.schedulerSvc.findIntervalActionByName(t.intervalActionName).subscribe(function(t){e.intervalAction=JSON.parse(JSON.stringify(t.action)),e.intervalActionOrigin=JSON.parse(JSON.stringify(t.action)),e.intervalActionOrigin.adminState=""===e.intervalActionOrigin.adminState?"UNLOCKED":e.intervalActionOrigin.adminState,e.intervalAction.adminState=""===e.intervalAction.adminState?"UNLOCKED":e.intervalAction.adminState,e.addressEmailRecipients=e.intervalAction.address.recipients?e.intervalAction.address.recipients.toString():"",e.findDefaultSelectedIntervalByName(e.intervalAction.intervalName),setTimeout(function(){e.renderPopoverComponent(),e.initDatePickr()},300)})})}},{key:"initDatePickr",value:function(){var e=this;this.calendarStart=Object(A.a)("input[name='coredataRequestParameter']",{dateFormat:"YmdTHiS",enableTime:!0,enableSeconds:!0,time_24hr:!0,allowInput:!1,onChange:function(t,n,i){e.intervalAction.address.path=e.coredataSvcAvailableAPI[0]+n}})}},{key:"setActionDefaultProperties",value:function(){switch(this.intervalAction.address.type){case this.addr_type_REST:this.intervalAction.address.httpMethod="GET";break;case this.addr_type_MQTT:this.intervalAction.address.retained=!1,this.intervalAction.address.autoReconnect=!0}}},{key:"findDefaultSelectedIntervalByName",value:function(e){var t=this;this.schedulerSvc.findIntervalByName(e).subscribe(function(e){t.selectedIntervalDefault=e.interval})}},{key:"renderPopoverComponent",value:function(){$('[data-toggle="popover"]').popover({trigger:"hover"})}},{key:"renderCoredataDefaultTemplate",value:function(){var e=this;this.intervalAction.address.httpMethod="DELETE",this.intervalAction.address.host="edgex-core-data",this.intervalAction.address.port=59880,this.intervalAction.address.path=this.coredataSvcAvailableAPI[0],setTimeout(function(){e.renderPopoverComponent(),e.initDatePickr()},300)}},{key:"templateToggle",value:function(e){var t=this;switch(this.intervalAction=JSON.parse(JSON.stringify(this.intervalActionOrigin)),this.intervalAction.address.type=this.addr_type_REST,this.templateSelected=e,this.templateSelected){case this.template_type_coredata:this.renderCoredataDefaultTemplate();break;case this.template_type_command:this.intervalAction.address.path="",this.intervalAction.address.httpMethod="",setTimeout(function(){t.renderPopoverComponent()},300);break;case this.template_type_custom:setTimeout(function(){t.renderPopoverComponent()},300)}}},{key:"typeToggle",value:function(e){var t=this;this.intervalAction=JSON.parse(JSON.stringify(this.intervalActionOrigin)),this.intervalAction.address.type=e,this.templateSelected="custom",setTimeout(function(){t.renderPopoverComponent()},300)}},{key:"onCmdMethodSelected",value:function(e){this.intervalAction.address.httpMethod=e}},{key:"onCommandSelected",value:function(e){this.intervalAction.address.path=e.path}},{key:"onSingleIntervalSelected",value:function(e){this.intervalAction.intervalName=e.name}},{key:"isPureIntegerType",value:function(e){return!isNaN(e)&&parseFloat(e)===parseInt(e)}},{key:"validate",value:function(){var e=!0,t=this.intervalAction.name&&this.intervalAction.intervalName;switch(this.intervalAction.address.type){case this.addr_type_REST:t&&this.intervalAction.address.host&&this.isPureIntegerType(this.intervalAction.address.port)&&this.intervalAction.address.path&&this.intervalAction.address.httpMethod&&(e=!1);break;case this.addr_type_MQTT:t&&this.intervalAction.address.host&&this.isPureIntegerType(this.intervalAction.address.port)&&this.intervalAction.address.port&&this.intervalAction.address.publisher&&this.intervalAction.address.topic&&(e=!1);break;case this.addr_type_EMAIL:t&&(e=!1)}return e}},{key:"save",value:function(){var e=this;this.intervalAction.address.recipients=this.addressEmailRecipients.split(","),this.intervalAction.address.port=Number(this.intervalAction.address.port),this.schedulerSvc.updateIntervalAction(this.intervalAction).subscribe(function(){e.msgSvc.success("Update interval action","name: "+e.intervalAction.name),e.router.navigate(["../interval-action-list"],{relativeTo:e.route})})}}]),t}(),Y.\u0275fac=function(e){return new(e||Y)(b.Hb(u.a),b.Hb(p.a),b.Hb(c.a),b.Hb(c.e),b.Hb(h.a))},Y.\u0275cmp=b.Bb({type:Y,selectors:[["app-edit-interval-action"]],decls:7,vars:2,consts:[[1,"card"],[1,"card-header"],[1,"fa","fa-edit","text-danger"],[1,"btn","btn-sm","btn-success","float-right",3,"disabled","click"],["class","card-body",4,"ngIf"],[1,"card-body"],[1,"form-group","row","has-validation"],["for","intervalActionName","required","",1,"col-md-2","col-form-label"],[1,"col-md-10"],["type","text","id","validationIntervalActionName","name","intervalActionName","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","validationIntervalActionNameFeedback",1,"invalid-feedback"],[1,"form-group","row"],["for","intervalName",1,"col-md-2","col-form-label"],["class","mb-3",4,"ngIf"],["for","adminState",1,"col-md-2","col-form-label"],["name","adminState",1,"custom-select",3,"ngModel","ngModelChange"],["value","UNLOCKED"],["value","LOCKED"],["for","Address",1,"col-md-2","col-form-label"],[1,"form-check","form-check-inline"],[1,"badge"],["type","radio","name","inlineRadioOptions","id","REST","value","REST",1,"form-check-input",3,"ngModel","ngModelChange","change"],["for","REST",1,"form-check-label"],[1,"badge",3,"click"],["type","radio","name","inlineRadioOptions","id","MQTT","value","MQTT",1,"form-check-input",3,"ngModel","ngModelChange"],["for","MQTT",1,"form-check-label"],["type","radio","name","inlineRadioOptions","id","EMAIL","value","EMAIL",1,"form-check-input",3,"ngModel","ngModelChange"],["for","EMAIL",1,"form-check-label"],["class","card-header",4,"ngIf"],[4,"ngIf"],["EMAIL",""],["for","emailRecipients",1,"col-md-2","col-form-label"],[1,"mr-2"],["role","button","data-html","false","data-animation","true","data-trigger","focus","data-toggle","popover","title","format tips","data-content","Multiple email addresses are separated by commas",1,"fa","fa-question-circle-o","fa-lg"],["type","text","id","emailRecipients","name","emailRecipients",1,"form-control",3,"ngModel","ngModelChange"],[1,"mb-3"],[3,"validate","selectedInterval","intervalSelectedEvent"],[1,"mr-2","text-primary"],["role","button","data-html","false","data-animation","true","data-trigger","focus","data-toggle","popover","title","tips","data-content","custom template will be choosed by default",1,"fa","fa-question-circle-o","fa-lg","mr-2"],["role","button",1,"badge","mr-2",3,"click"],["REST",""],[3,"ngSwitch"],[3,"ngSwitchCase"],["customTemplate",""],["coredataTemplate",""],["commandTemplate",""],["for","HttpMethod","required","",1,"col-md-2","col-form-label"],["type","text","name","httpMethod",1,"form-control",3,"ngModel","ngModelChange"],["value","GET"],["value","POST"],["value","PUT"],["value","DELETE"],["value","PATCH"],["value","HEAD"],["value","TRACE"],["value","CONNECT"],["for","addressHostREST","required","",1,"col-md-2","col-form-label"],["type","text","id","addressHostREST","name","addressHost","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","addressHostRESTFeedback",1,"invalid-feedback"],["for","addressPortREST","required","",1,"col-md-2","col-form-label"],["type","text","id","addressPortREST","name","addressPort","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","addressPortRESTFeedback",1,"invalid-feedback"],["for","addressPath","required","",1,"col-md-2","col-form-label"],["type","text","id","addressPath","name","addressPath",1,"form-control",3,"ngModel","ngModelChange"],["for","requestBody","required","",1,"col-md-2","col-form-label"],["type","text","id","requestBody","name","requestBody",1,"form-control",3,"ngModel","ngModelChange"],["role","button","data-html","false","data-animation","true","data-trigger","focus","data-toggle","popover","title","tips","data-content","Indicates which request contentType should be used (i.e. text/html, application/json), the default is application/json if not setup",1,"fa","fa-question-circle-o","fa-lg"],["type","text","id","contentType","name","contentType",1,"form-control",3,"ngModel","ngModelChange"],["role","button","data-html","false","data-animation","true","data-trigger","focus","data-toggle","popover","title","tips","data-content","Both Host and Port fields are editable if you have a different host address !",1,"fa","fa-question-circle-o","fa-lg"],["role","button","data-html","false","data-animation","true","data-trigger","focus","data-toggle","popover","title","tips","data-content","Remove all old events (and associated readings) based on delimiting age, the parameters delimiting age will be filled up automatically when parameters field is selected!",1,"fa","fa-question-circle-o","fa-lg"],["type","text","id","addressPath","name","addressPath","disabled","",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-group"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"fa","fa-calendar"],["type","text","name","coredataRequestParameter",1,"form-control",3,"ngModel","ngModelChange"],["role","button","data-html","false","data-animation","true","data-trigger","focus","data-toggle","popover","title","tips","data-content","httpMethod field will be filled up automatically when the path field is selected! ",1,"fa","fa-question-circle-o","fa-lg"],["type","text","name","httpMethod","disabled","","required","",1,"form-control",3,"ngModel","ngModelChange"],[3,"validate","cmdMethodEvent","commandSelectedEvent"],["MQTT",""],["for","addressHost","required","",1,"col-md-2","col-form-label"],["type","text","id","addressHost","name","addressHost","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","addressHostFeedback",1,"invalid-feedback"],["for","addressPort","required","",1,"col-md-2","col-form-label"],["type","text","id","addressPort","name","addressPort","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","addressPortFeedback",1,"invalid-feedback"],["for","addressPublisher","required","",1,"col-md-2","col-form-label"],["type","text","id","addressPublisher","name","addressPublisher","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","addressPublisherFeedback",1,"invalid-feedback"],["for","addressTopic","required","",1,"col-md-2","col-form-label"],["type","text","id","addressTopic","name","addressTopic","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","addressTopicFeedback",1,"invalid-feedback"],["for","addressQoS","required","",1,"col-md-2","col-form-label"],["type","number","id","addressQoS","name","addressQoS","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","addressKeepAlive","required","",1,"col-md-2","col-form-label"],["type","number","id","addressKeepAlive","name","addressKeepAlive",1,"form-control",3,"ngModel","ngModelChange"],["for","addressRetained","required","",1,"col-md-2","col-form-label"],["type","text","id","addressRetained","name","addressRetained",1,"form-control",3,"ngModel","ngModelChange"],["selected","",3,"ngValue"],[3,"ngValue"],["for","addressAutoReconnect","required","",1,"col-md-2","col-form-label"],["type","text","id","addressAutoReconnect","name","addressAutoReconnect",1,"form-control",3,"ngModel","ngModelChange"],["for","addressConnectTimeout","required","",1,"col-md-2","col-form-label"],["type","number","id","addressConnectTimeout","name","addressConnectTimeout",1,"form-control",3,"ngModel","ngModelChange"]],template:function(e,t){1&e&&(b.Kb(0,"div",0),b.Kb(1,"div",1),b.Ib(2,"i",2),b.vc(3," Edit Interval Action "),b.Kb(4,"button",3),b.Sb("click",function(){return t.save()}),b.vc(5,"Save"),b.Jb(),b.Jb(),b.tc(6,G,59,28,"div",4),b.Jb()),2&e&&(b.wb(4),b.bc("disabled",t.validate()),b.wb(2),b.bc("ngIf",t.intervalAction))},directives:[l.l,d.p,d.g,d.h,d.a,d.m,d.f,d.i,d.n,d.j,d.o,d.l,V,l.n,l.o,x.a,d.k],styles:[""]}),Y)}]}]}],ne=((Z=function t(){e(this,t)}).\u0275mod=b.Fb({type:Z}),Z.\u0275inj=b.Eb({factory:function(e){return new(e||Z)},imports:[[c.i.forChild(te)],c.i]}),Z),ie=a("ixIh"),ae=((ee=function t(){e(this,t)}).\u0275mod=b.Fb({type:ee}),ee.\u0275inj=b.Eb({factory:function(e){return new(e||ee)},imports:[[l.b,d.b,ie.a,ne]]}),ee)}}])}();