"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[641],{7641:(W,Q,N)=>{N.r(Q),N.d(Q,{NotificationsModule:()=>S_});var A=N(8583),T=N(3092),C=N(9502),_=N(476);let Y=(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=_.Xpm({type:o,selectors:[["app-notifications"]],decls:11,vars:0,consts:function(){let S,e;return S="Notification",e="Subscription",[[1,"card"],[1,"card-header"],[1,"nav","nav-tabs","card-header-tabs","font-weight-bold"],[1,"nav-item"],["routerLink","./notification-center","routerLinkActive","active",1,"nav-link"],S,["routerLink","./subscription-center","routerLinkActive","active",1,"nav-link"],e,[1,"card-body"]]},template:function(e,t){1&e&&(_.TgZ(0,"div",0),_.TgZ(1,"div",1),_.TgZ(2,"ul",2),_.TgZ(3,"li",3),_.TgZ(4,"a",4),_.SDv(5,5),_.qZA(),_.qZA(),_.TgZ(6,"li",3),_.TgZ(7,"a",6),_.SDv(8,7),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.TgZ(9,"div",8),_._UZ(10,"router-outlet"),_.qZA(),_.qZA())},directives:[C.yS,C.Od,C.lC],styles:[""]}),o})(),F=(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=_.Xpm({type:o,selectors:[["app-notification-center"]],decls:1,vars:0,template:function(e,t){1&e&&_._UZ(0,"router-outlet")},directives:[C.lC],styles:[""]}),o})();var H=N(9827),s=N(9744),a=N(7822);function r(o,S){if(1&o){const e=_.EpF();_.TgZ(0,"tr"),_.TgZ(1,"td"),_.TgZ(2,"input",48),_.NdJ("click",function(i){const O=_.CHM(e).$implicit;return _.oxw().selectOne(i,O)}),_.qZA(),_.qZA(),_.TgZ(3,"td",91),_._uU(4),_.qZA(),_.TgZ(5,"td",91),_._uU(6),_.qZA(),_.TgZ(7,"td"),_._uU(8),_.qZA(),_.TgZ(9,"td"),_._uU(10),_.qZA(),_.TgZ(11,"td"),_._uU(12),_.qZA(),_.TgZ(13,"td"),_._uU(14),_.qZA(),_.TgZ(15,"td"),_._uU(16),_.qZA(),_.TgZ(17,"td"),_._uU(18),_.qZA(),_.TgZ(19,"td"),_._uU(20),_.qZA(),_.TgZ(21,"td"),_._uU(22),_.ALo(23,"date"),_.qZA(),_.TgZ(24,"td"),_._uU(25),_.ALo(26,"date"),_.qZA(),_.qZA()}if(2&o){const e=S.$implicit,t=_.oxw();_.ekj("table-active",t.isChecked(e.id)),_.xp6(2),_.Q6J("checked",t.isChecked(e.id)),_.xp6(2),_.Oqu(e.id),_.xp6(2),_.Oqu(e.category),_.xp6(2),_.Oqu(e.labels),_.xp6(2),_.Oqu(e.content),_.xp6(2),_.Oqu(e.contentType),_.xp6(2),_.Oqu(e.description),_.xp6(2),_.Oqu(e.sender),_.xp6(2),_.Oqu(e.severity),_.xp6(2),_.Oqu(e.status),_.xp6(2),_.Oqu(_.xi3(23,14,e.created,"yyyy-MM-dd hh:mm:ss")),_.xp6(3),_.Oqu(_.xi3(26,17,e.modified,"yyyy-MM-dd hh:mm:ss"))}}let E=(()=>{class o{constructor(e,t){this.notiSvc=e,this.msgSvc=t,this.notificationList=[],this.notificationSelected=[],this.pagination=1,this.pageLimit=5,this.pageOffset=(this.pagination-1)*this.pageLimit,this.categorySelected="SECURITY",this.statusSelected="NEW",this.advancedOperation=!1}ngOnInit(){$('[data-toggle="popover"]').popover({trigger:"hover"}),this.setSearchMode("status"),this.findNotificationsByStatusPagination(!0),this.initDatePickr()}initDatePickr(){this.calendarStart=(0,H.Z)("input[name='startSelected']",{dateFormat:"U",altFormat:"Y-m-d H:i:S",altInput:!0,enableTime:!0,enableSeconds:!0,time_24hr:!0,allowInput:!1,onChange:(e,t,i)=>{this.startSelected=1e3*Number(t)}}),this.calendarEnd=(0,H.Z)("input[name='endSelected']",{dateFormat:"U",altFormat:"Y-m-d H:i:S",altInput:!0,enableTime:!0,enableSeconds:!0,time_24hr:!0,allowInput:!1,onChange:(e,t,i)=>{this.endSelected=1e3*Number(t)}}),this.calendarStart=(0,H.Z)("input[name='ageCleanupAll']",{dateFormat:"U",altFormat:"Y-m-d H:i:S",altInput:!0,enableTime:!0,enableSeconds:!0,time_24hr:!0,allowInput:!1,onChange:(e,t,i)=>{this.ageCleanupAll=1e3*Number(t)}}),this.calendarEnd=(0,H.Z)("input[name='ageCleanupByStatusIsProcessed']",{dateFormat:"U",altFormat:"Y-m-d H:i:S",altInput:!0,enableTime:!0,enableSeconds:!0,time_24hr:!0,allowInput:!1,onChange:(e,t,i)=>{this.ageCleanupByStatusIsProcessed=1e3*Number(t)}})}advancedToggle(){this.advancedOperation=!this.advancedOperation}findNotificationsByCategoryPagination(e){this.notiSvc.findNotificationsByCategoryPagination(this.pageOffset,this.pageLimit,this.categorySelected).subscribe(t=>{this.notificationList=t.notifications,!e&&this.msgSvc.success("search by category")})}findNotificationsByStatusPagination(e){this.notiSvc.findNotificationsByStatusPagination(this.pageOffset,this.pageLimit,this.statusSelected).subscribe(t=>{this.notificationList=t.notifications,!e&&this.msgSvc.success("search by status")})}findNotificationsByLabelPagination(e){this.notiSvc.findNotificationsByLabelPagination(this.pageOffset,this.pageLimit,this.labelSelected).subscribe(t=>{this.notificationList=t.notifications,!e&&this.msgSvc.success("search by label")})}findNotificationsByStartEndPagination(e){console.log(this.startSelected,this.endSelected),this.notiSvc.findNotificationsByStartEndPagination(this.pageOffset,this.pageLimit,this.startSelected,this.endSelected).subscribe(t=>{this.notificationList=t.notifications,!e&&this.msgSvc.success("search by start and end")})}setSearchMode(e){this.searchMode=e}searchByStatus(){this.resetPagination(),this.setSearchMode("status"),this.findNotificationsByStatusPagination()}searchByCategory(){this.resetPagination(),this.setSearchMode("category"),this.findNotificationsByCategoryPagination()}searchByStartEnd(){this.resetPagination(),this.setSearchMode("duration"),this.findNotificationsByStartEndPagination()}deleteConfirm(e){this.cleanMode=e,$("#deleteConfirmDialog").modal("show")}cleanup(){switch(this.cleanMode){case"age":this.cleanupByAge();break;case"status":this.cleanupByAgeAndStatusIsProcessed();break;default:this.deleteSelected()}}cleanupByAge(){this.notiSvc.deleteNotificationByAgeAndStatus(this.ageCleanupAll).subscribe(()=>{this.msgSvc.success("cleanup by age")}),$("#deleteConfirmDialog").modal("hide")}cleanupByAgeAndStatusIsProcessed(){this.notiSvc.deleteNotificationByAgeAndStatus(this.ageCleanupByStatusIsProcessed).subscribe(()=>{this.msgSvc.success("cleanup by age when status is processed")}),$("#deleteConfirmDialog").modal("hide")}deleteSelected(){this.notificationSelected.forEach(e=>{this.notiSvc.deleteNotificationById(e.id).subscribe(()=>{this.msgSvc.success("delete",`ID: ${e.id}`)})}),$("#deleteConfirmDialog").modal("hide")}isCheckedAll(){let e=!0;return this.notificationList&&0===this.notificationList.length&&(e=!1),this.notificationList.forEach(t=>{-1===this.notificationSelected.findIndex(i=>i.id===t.id)&&(e=!1)}),e}selectAll(e){this.notificationList.forEach(e.target.checked?i=>{-1===this.notificationSelected.findIndex(n=>n.id===i.id)&&this.notificationSelected.push(i)}:i=>{let n=this.notificationSelected.findIndex(O=>O.id===i.id);-1!==n&&this.notificationSelected.splice(n,1)})}isChecked(e){return this.notificationSelected.findIndex(t=>t.id===e)>=0}selectOne(e,t){if(e.target.checked)return void this.notificationSelected.push(t);let n=this.notificationSelected.findIndex(O=>O.id===t.id);-1!==n&&this.notificationSelected.splice(n,1)}paginationBySearchMode(){switch(this.searchMode){case"status":this.findNotificationsByStatusPagination(!0);break;case"category":this.findNotificationsByCategoryPagination(!0);break;case"duration":this.findNotificationsByStartEndPagination(!0)}}onPageSelected(){this.resetPagination(),this.paginationBySearchMode()}prePage(){this.setPagination(-1),this.paginationBySearchMode()}nextPage(){this.setPagination(1),this.paginationBySearchMode()}setPagination(e){1===e?this.pagination+=1:-1===e&&(this.pagination-=1),this.pageOffset=(this.pagination-1)*this.pageLimit}resetPagination(){this.pagination=1,this.setPagination()}}return o.\u0275fac=function(e){return new(e||o)(_.Y36(s.T),_.Y36(a.e))},o.\u0275cmp=_.Xpm({type:o,selectors:[["app-notification-list"]],decls:161,vars:11,consts:function(){let S,e,t,i,n,O,c,g,U,R,u,p,f,G,P,M,D,b,m,B,h,l,v,X,L,q;return S="Notification List",e="\xA0The data loaded by default takes the value of status as NEW",t="Delete",i="Advanced",n="Status",O="Start",c="End",g="CleanupByAge",U="Cleanup",R="Category",u="Labels",p="Content",f="ContentType",G="Description",P="Sender",M="Severity",D="Status",b="Created",m="Modified",B="items per page",h="Previous",l="Next",v="Warning",X=" The data will be permanently erased!!! Are you sure to execute delete operation\uFF1F ",L="Cancel",q="Confirm",[[1,"card"],[1,"card-header"],[1,"fa","fa-list","text-danger","mr-1"],S,[1,"fa","fa-info-circle","text-success","font-weight-bold","ml-1"],e,[1,"bg-light","card-header","p-0"],[1,"px-2","py-2"],["role","group",1,"btn-group","btn-group-sm"],["type","button",1,"btn","btn-danger",3,"disabled","click"],[1,"fa","fa-trash","mr-1"],t,["role","button",1,"text-primary","ml-3","text-decoration-none",3,"click"],i,[1,"fa","fa-angle-double-right","ml-1"],[1,"bg-light","card-header","p-0",3,"hidden"],[1,"form-group","row"],[1,"col-md-10"],[1,"input-group",2,"width","600px"],[1,"input-group-prepend"],[1,"input-group-text"],n,["name","statusSelected",1,"custom-select",3,"ngModel","ngModelChange"],["value","NEW"],["value","PROCESSED"],["value","ESCALATED"],["role","button",1,"input-group-append",3,"click"],[1,"fa","fa-search"],O,[1,"fa","fa-calendar"],["type","text","name","startSelected",1,"form-control"],c,["type","text","name","endSelected",1,"form-control"],[1,"input-group-append"],["type","button",1,"btn","btn-secondary",3,"disabled","click"],g,["role","button","data-html","true","data-animation","true","data-trigger","focus","data-toggle","popover","title","tips","data-content","Deletes notifications which have age and is less than the specified one, where the age of Notification is calculated by subtracting its last modification timestamp from the current timestamp. Note that the corresponding transmissions will also be deleted.",1,"fa","fa-question-circle-o","fa-lg"],["type","text","name","ageCleanupAll",1,"form-control"],[1,"fa","fa-trash-o"],U,["role","button","data-html","true","data-animation","true","data-trigger","focus","data-toggle","popover","title","tips","data-content","Deletes the processed notifications if the current timestamp minus their last modification timestamp is less than the age parameter, and the corresponding transmissions will also be deleted. Please notice that this API is only for processed notifications (status = PROCESSED). If the deletion purpose includes each kind of notifications, please refer to cleanupAll.",1,"fa","fa-question-circle-o","fa-lg"],["type","text","name","ageCleanupByStatusIsProcessed",1,"form-control"],["type","button",1,"btn","btn-danger","font-weight-bold",3,"disabled","click"],[1,"card-body","p-0","position-relative"],[1,"table-responsive"],[1,"table","table-hover","text-truncate"],[1,"thead-light"],["scope","col"],["type","checkbox","role","button",3,"checked","click"],R,u,p,f,G,P,M,D,b,m,[3,"table-active",4,"ngFor","ngForOf"],[1,"card-footer","text-muted","p-1"],["aria-label","navigation"],[1,"pagination","justify-content-end","m-0"],[1,"page-item","mr-2","mt-1"],[1,"align-middle"],B,[1,"page-item","mr-2"],["name","pageLimit","id","pageLimit",1,"custom-select",3,"ngModel","ngModelChange"],["value","5"],["value","10"],["value","20"],[1,"page-item","mr-1"],[1,"page-link","btn",3,"disabled","click"],[1,"fa","fa-angle-double-left","mr-1"],h,[1,"page-item"],l,["id","deleteConfirmDialog","data-backdrop","static","data-keyboard","false","tabindex","-1","aria-labelledby","deleteConfirmDialogLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","deleteConfirmDialogLabel",1,"modal-title","text-danger"],[1,"fa","fa-warning","mr-1"],v,[1,"modal-body"],X,[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],L,["type","button",1,"btn","btn-danger",3,"click"],q,[1,"user-select-all"]]},template:function(e,t){1&e&&(_.TgZ(0,"div",0),_.TgZ(1,"div",1),_._UZ(2,"i",2),_.TgZ(3,"span"),_.SDv(4,3),_.qZA(),_.TgZ(5,"span",4),_.SDv(6,5),_.qZA(),_.qZA(),_.TgZ(7,"div",6),_.TgZ(8,"div",7),_.TgZ(9,"div",8),_.TgZ(10,"button",9),_.NdJ("click",function(){return t.deleteConfirm()}),_.TgZ(11,"span"),_._UZ(12,"i",10),_.TgZ(13,"span"),_.SDv(14,11),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.TgZ(15,"a",12),_.NdJ("click",function(){return t.advancedToggle()}),_.TgZ(16,"span"),_.TgZ(17,"span"),_.SDv(18,13),_.qZA(),_._UZ(19,"i",14),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.TgZ(20,"div",15),_.TgZ(21,"div",7),_.TgZ(22,"form"),_.TgZ(23,"div",16),_.TgZ(24,"div",17),_.TgZ(25,"div",18),_.TgZ(26,"div",19),_.TgZ(27,"span",20),_.SDv(28,21),_.qZA(),_.qZA(),_.TgZ(29,"select",22),_.NdJ("ngModelChange",function(n){return t.statusSelected=n}),_.TgZ(30,"option",23),_._uU(31,"NEW"),_.qZA(),_.TgZ(32,"option",24),_._uU(33,"PROCESSED"),_.qZA(),_.TgZ(34,"option",25),_._uU(35,"ESCALATED"),_.qZA(),_.qZA(),_.TgZ(36,"div",26),_.NdJ("click",function(){return t.searchByStatus()}),_.TgZ(37,"span",20),_._UZ(38,"i",27),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.TgZ(39,"div",16),_.TgZ(40,"div",17),_.TgZ(41,"div",18),_.TgZ(42,"div",19),_.TgZ(43,"span",20),_.SDv(44,28),_.qZA(),_.qZA(),_.TgZ(45,"div",19),_.TgZ(46,"span",20),_._UZ(47,"i",29),_.qZA(),_.qZA(),_._UZ(48,"input",30),_.TgZ(49,"div",19),_.TgZ(50,"span",20),_.SDv(51,31),_.qZA(),_.qZA(),_.TgZ(52,"div",19),_.TgZ(53,"span",20),_._UZ(54,"i",29),_.qZA(),_.qZA(),_._UZ(55,"input",32),_.TgZ(56,"div",33),_.TgZ(57,"button",34),_.NdJ("click",function(){return t.searchByStartEnd()}),_._UZ(58,"i",27),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.TgZ(59,"div",16),_.TgZ(60,"div",17),_.TgZ(61,"div",18),_.TgZ(62,"div",19),_.TgZ(63,"span",20),_.TgZ(64,"span"),_.SDv(65,35),_.qZA(),_._uU(66,"\xa0 "),_._UZ(67,"span",36),_.qZA(),_.qZA(),_.TgZ(68,"div",19),_.TgZ(69,"span",20),_._UZ(70,"i",29),_.qZA(),_.qZA(),_._UZ(71,"input",37),_.TgZ(72,"div",33),_.TgZ(73,"button",9),_.NdJ("click",function(){return t.deleteConfirm("age")}),_._UZ(74,"i",38),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.TgZ(75,"div",16),_.TgZ(76,"div",17),_.TgZ(77,"div",18),_.TgZ(78,"div",19),_.TgZ(79,"span",20),_.TgZ(80,"span"),_.SDv(81,39),_.qZA(),_._uU(82,"\xa0 "),_._UZ(83,"span",40),_.qZA(),_.qZA(),_.TgZ(84,"div",19),_.TgZ(85,"span",20),_._UZ(86,"i",29),_.qZA(),_.qZA(),_._UZ(87,"input",41),_.TgZ(88,"div",33),_.TgZ(89,"button",42),_.NdJ("click",function(){return t.deleteConfirm("status")}),_._UZ(90,"i",38),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.TgZ(91,"div",43),_.TgZ(92,"div",44),_.TgZ(93,"table",45),_.TgZ(94,"thead",46),_.TgZ(95,"tr"),_.TgZ(96,"th",47),_.TgZ(97,"input",48),_.NdJ("click",function(n){return t.selectAll(n)}),_.qZA(),_.qZA(),_.TgZ(98,"th",47),_._uU(99,"ID"),_.qZA(),_.TgZ(100,"th",47),_.SDv(101,49),_.qZA(),_.TgZ(102,"th",47),_.SDv(103,50),_.qZA(),_.TgZ(104,"th",47),_.SDv(105,51),_.qZA(),_.TgZ(106,"th",47),_.SDv(107,52),_.qZA(),_.TgZ(108,"th",47),_.SDv(109,53),_.qZA(),_.TgZ(110,"th",47),_.SDv(111,54),_.qZA(),_.TgZ(112,"th",47),_.SDv(113,55),_.qZA(),_.TgZ(114,"th",47),_.SDv(115,56),_.qZA(),_.TgZ(116,"th",47),_.SDv(117,57),_.qZA(),_.TgZ(118,"th",47),_.SDv(119,58),_.qZA(),_.qZA(),_.qZA(),_.TgZ(120,"tbody"),_.YNc(121,r,27,20,"tr",59),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.TgZ(122,"div",60),_.TgZ(123,"nav",61),_.TgZ(124,"ul",62),_.TgZ(125,"li",63),_.TgZ(126,"span",64),_.SDv(127,65),_.qZA(),_.qZA(),_.TgZ(128,"li",66),_.TgZ(129,"select",67),_.NdJ("ngModelChange",function(n){return t.pageLimit=n})("ngModelChange",function(){return t.onPageSelected()}),_.TgZ(130,"option",68),_._uU(131,"5"),_.qZA(),_.TgZ(132,"option",69),_._uU(133,"10"),_.qZA(),_.TgZ(134,"option",70),_._uU(135,"20"),_.qZA(),_.qZA(),_.qZA(),_.TgZ(136,"li",71),_.TgZ(137,"button",72),_.NdJ("click",function(){return t.prePage()}),_._UZ(138,"i",73),_.TgZ(139,"span"),_.SDv(140,74),_.qZA(),_.qZA(),_.qZA(),_.TgZ(141,"li",75),_.TgZ(142,"button",72),_.NdJ("click",function(){return t.nextPage()}),_.TgZ(143,"span"),_.SDv(144,76),_.qZA(),_._UZ(145,"i",14),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.TgZ(146,"div",77),_.TgZ(147,"div",78),_.TgZ(148,"div",79),_.TgZ(149,"div",80),_.TgZ(150,"h5",81),_._UZ(151,"i",82),_.TgZ(152,"span"),_.SDv(153,83),_.qZA(),_.qZA(),_.qZA(),_.TgZ(154,"div",84),_.SDv(155,85),_.qZA(),_.TgZ(156,"div",86),_.TgZ(157,"button",87),_.SDv(158,88),_.qZA(),_.TgZ(159,"button",89),_.NdJ("click",function(){return t.cleanup()}),_.SDv(160,90),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA()),2&e&&(_.xp6(10),_.Q6J("disabled",0===t.notificationSelected.length),_.xp6(10),_.Q6J("hidden",!t.advancedOperation),_.xp6(9),_.Q6J("ngModel",t.statusSelected),_.xp6(28),_.Q6J("disabled",!t.startSelected||!t.endSelected),_.xp6(16),_.Q6J("disabled",!t.ageCleanupAll),_.xp6(16),_.Q6J("disabled",!t.ageCleanupByStatusIsProcessed),_.xp6(8),_.Q6J("checked",t.isCheckedAll()),_.xp6(24),_.Q6J("ngForOf",t.notificationList),_.xp6(8),_.Q6J("ngModel",t.pageLimit),_.xp6(8),_.Q6J("disabled",1===t.pagination),_.xp6(5),_.Q6J("disabled",t.pageLimit>t.notificationList.length))},directives:[T._Y,T.JL,T.F,T.EJ,T.JJ,T.On,T.YN,T.Kr,A.sg],pipes:[A.uU],styles:[".btn[disabled][_ngcontent-%COMP%]:hover{cursor:not-allowed}"]}),o})(),Z=(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=_.Xpm({type:o,selectors:[["app-subscription-center"]],decls:1,vars:0,template:function(e,t){1&e&&_._UZ(0,"router-outlet")},directives:[C.lC],styles:[""]}),o})();var y=N(4889);function k(o,S){if(1&o){const e=_.EpF();_.TgZ(0,"tr"),_.TgZ(1,"td"),_.TgZ(2,"input",23),_.NdJ("click",function(i){const O=_.CHM(e).$implicit;return _.oxw().selectOne(i,O)}),_.qZA(),_.qZA(),_.TgZ(3,"td",66),_._uU(4),_.qZA(),_.TgZ(5,"td",66),_._uU(6),_.qZA(),_.TgZ(7,"td"),_._uU(8),_.qZA(),_.TgZ(9,"td"),_._uU(10),_.qZA(),_.TgZ(11,"td"),_._uU(12),_.qZA(),_.TgZ(13,"td",67),_.TgZ(14,"span",68),_.NdJ("click",function(){const n=_.CHM(e).$implicit;return _.oxw().checkChannels(n)}),_._UZ(15,"i",69),_._uU(16),_.qZA(),_.qZA(),_.TgZ(17,"td"),_._uU(18),_.qZA(),_.TgZ(19,"td"),_._uU(20),_.qZA(),_.TgZ(21,"td"),_._uU(22),_.qZA(),_.qZA()}if(2&o){const e=S.$implicit,t=_.oxw();_.ekj("table-active",t.isChecked(e.name)),_.xp6(2),_.Q6J("checked",t.isChecked(e.name)),_.xp6(2),_.Oqu(e.id),_.xp6(2),_.Oqu(e.name),_.xp6(2),_.Oqu(e.description),_.xp6(2),_.Oqu(e.categories),_.xp6(2),_.Oqu(e.labels),_.xp6(4),_.hij(" ",e.channels.length," "),_.xp6(2),_.Oqu(e.receiver),_.xp6(2),_.Oqu(e.resendLimit),_.xp6(2),_.Oqu(e.resendInterval)}}let x=(()=>{class o{constructor(e,t,i,n,O){this.notiSvc=e,this.msgSvc=t,this.route=i,this.router=n,this.errSvc=O,this.subscriptionList=[],this.subscriptionSelected=[],this.pagination=1,this.pageLimit=5,this.pageOffset=(this.pagination-1)*this.pageLimit}ngOnInit(){this.findAllSubscriptionsPagination()}refresh(){this.notiSvc.findAllSubscriptionPagination(this.pageOffset,this.pageLimit).subscribe(e=>{this.subscriptionList=e.subscriptions,this.msgSvc.success("refresh")})}findAllSubscriptionsPagination(){this.notiSvc.findAllSubscriptionPagination(this.pageOffset,this.pageLimit).subscribe(e=>{this.subscriptionList=e.subscriptions})}checkChannels(e){this.router.navigate(["../edit-subscription"],{relativeTo:this.route,queryParams:{subName:e.name}})}isCheckedAll(){let e=!0;return this.subscriptionList&&0===this.subscriptionList.length&&(e=!1),this.subscriptionList.forEach(t=>{-1===this.subscriptionSelected.findIndex(i=>i.id===t.id)&&(e=!1)}),e}selectAll(e){this.subscriptionList.forEach(e.target.checked?i=>{-1===this.subscriptionSelected.findIndex(n=>n.name===i.name)&&this.subscriptionSelected.push(i)}:i=>{let n=this.subscriptionSelected.findIndex(O=>O.name===i.name);-1!==n&&this.subscriptionSelected.splice(n,1)})}isChecked(e){return this.subscriptionSelected.findIndex(t=>t.name===e)>=0}selectOne(e,t){if(e.target.checked)return void this.subscriptionSelected.push(t);let n=this.subscriptionSelected.findIndex(O=>O.name===t.name);-1!==n&&this.subscriptionSelected.splice(n,1)}edit(){this.router.navigate(["../edit-subscription"],{relativeTo:this.route,queryParams:{subName:this.subscriptionSelected[0].name}})}deleteConfirm(){$("#deleteConfirmDialog").modal("show")}deleteSubs(){this.subscriptionSelected.forEach(e=>{this.notiSvc.deleteOneSubscriptionByName(e.name).subscribe(t=>{this.errSvc.handleErrorForV2API(t)||(this.subscriptionList.forEach((i,n)=>{i.name!==e.name||this.subscriptionList.splice(n,1)}),this.msgSvc.success("delete",`name: ${e.name}`),this.resetPagination(),this.findAllSubscriptionsPagination())})}),$("#deleteConfirmDialog").modal("hide")}onPageSelected(){this.resetPagination(),this.setPagination(),this.findAllSubscriptionsPagination()}prePage(){this.setPagination(-1),this.findAllSubscriptionsPagination()}nextPage(){this.setPagination(1),this.findAllSubscriptionsPagination()}setPagination(e){1===e?this.pagination+=1:-1===e&&(this.pagination-=1),this.pageOffset=(this.pagination-1)*this.pageLimit}resetPagination(){this.pagination=1}}return o.\u0275fac=function(e){return new(e||o)(_.Y36(s.T),_.Y36(a.e),_.Y36(C.gz),_.Y36(C.F0),_.Y36(y.T))},o.\u0275cmp=_.Xpm({type:o,selectors:[["app-subscription-list"]],decls:93,vars:7,consts:function(){let S,e,t,i,n,O,c,g,U,R,u,p,f,G,P,M,D,b,m,B,h;return S="Subscription List",e="Refresh",t="Add",i="Edit",n="Delete",O="ID",c="Name",g="Description",U="Categories",R="Labels",u="Channels",p="Receiver",f="ResendLimit",G="ResendInterval",P="items per page",M="Previous",D="Next",b="Warning",m=" The data will be permanently erased!!! Are you sure to execute delete operation\uFF1F ",B="Cancel",h="Confirm",[[1,"card"],[1,"card-header"],[1,"fa","fa-list","text-danger","mr-1"],S,[1,"card-body","p-0","position-relative"],[1,"bg-light","px-2","py-2"],["role","group",1,"btn-group","btn-group-sm"],[1,"btn","btn-primary",3,"click"],[1,"fa","fa-refresh","mr-1"],e,["type","button","routerLink","../add-subscription",1,"btn","btn-info"],[1,"fa","fa-plus","mr-1"],t,["type","button",1,"btn","btn-success",3,"disabled","click"],[1,"fa","fa-edit","mr-1"],i,["type","button",1,"btn","btn-danger",3,"disabled","click"],[1,"fa","fa-trash","mr-1"],n,[1,"table-responsive"],[1,"table","table-hover","text-truncate"],[1,"thead-light"],["scope","col"],["type","checkbox","role","button",3,"checked","click"],O,c,g,U,R,u,p,f,G,[3,"table-active",4,"ngFor","ngForOf"],[1,"card-footer","text-muted","p-1"],["aria-label","navigation"],[1,"pagination","justify-content-end","m-0"],[1,"page-item","mr-2","mt-1"],[1,"align-middle"],P,[1,"page-item","mr-2"],["name","pageLimit","id","pageLimit",1,"custom-select",3,"ngModel","ngModelChange"],["value","5"],["value","10"],["value","20"],[1,"page-item","mr-1"],[1,"page-link","btn",3,"disabled","click"],[1,"fa","fa-angle-double-left","mr-1"],M,[1,"page-item"],D,[1,"fa","fa-angle-double-right","ml-1"],["id","deleteConfirmDialog","data-backdrop","static","data-keyboard","false","tabindex","-1","aria-labelledby","deleteConfirmDialogLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","deleteConfirmDialogLabel",1,"modal-title","text-danger"],[1,"fa","fa-warning","mr-1"],b,[1,"modal-body"],m,[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],B,["type","button",1,"btn","btn-danger",3,"click"],h,[1,"user-select-all"],[1,"text-center"],["role","button",1,"badge","badge-primary","text-light",3,"click"],[1,"fa","fa-paper-plane-o"]]},template:function(e,t){1&e&&(_.TgZ(0,"div",0),_.TgZ(1,"div",1),_._UZ(2,"i",2),_.TgZ(3,"span"),_.SDv(4,3),_.qZA(),_.qZA(),_.TgZ(5,"div",4),_.TgZ(6,"div",5),_.TgZ(7,"div",6),_.TgZ(8,"button",7),_.NdJ("click",function(){return t.refresh()}),_.TgZ(9,"span"),_._UZ(10,"i",8),_.TgZ(11,"span"),_.SDv(12,9),_.qZA(),_.qZA(),_.qZA(),_.TgZ(13,"button",10),_.TgZ(14,"span"),_._UZ(15,"i",11),_.TgZ(16,"span"),_.SDv(17,12),_.qZA(),_.qZA(),_.qZA(),_.TgZ(18,"button",13),_.NdJ("click",function(){return t.edit()}),_.TgZ(19,"span"),_._UZ(20,"i",14),_.TgZ(21,"span"),_.SDv(22,15),_.qZA(),_.qZA(),_.qZA(),_.TgZ(23,"button",16),_.NdJ("click",function(){return t.deleteConfirm()}),_.TgZ(24,"span"),_._UZ(25,"i",17),_.TgZ(26,"span"),_.SDv(27,18),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.TgZ(28,"div",19),_.TgZ(29,"table",20),_.TgZ(30,"thead",21),_.TgZ(31,"tr"),_.TgZ(32,"th",22),_.TgZ(33,"input",23),_.NdJ("click",function(n){return t.selectAll(n)}),_.qZA(),_.qZA(),_.TgZ(34,"th",22),_.SDv(35,24),_.qZA(),_.TgZ(36,"th",22),_.SDv(37,25),_.qZA(),_.TgZ(38,"th",22),_.SDv(39,26),_.qZA(),_.TgZ(40,"th",22),_.SDv(41,27),_.qZA(),_.TgZ(42,"th",22),_.SDv(43,28),_.qZA(),_.TgZ(44,"th",22),_.SDv(45,29),_.qZA(),_.TgZ(46,"th",22),_.SDv(47,30),_.qZA(),_.TgZ(48,"th",22),_.SDv(49,31),_.qZA(),_.TgZ(50,"th",22),_.SDv(51,32),_.qZA(),_.qZA(),_.qZA(),_.TgZ(52,"tbody"),_.YNc(53,k,23,12,"tr",33),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.TgZ(54,"div",34),_.TgZ(55,"nav",35),_.TgZ(56,"ul",36),_.TgZ(57,"li",37),_.TgZ(58,"span",38),_.SDv(59,39),_.qZA(),_.qZA(),_.TgZ(60,"li",40),_.TgZ(61,"select",41),_.NdJ("ngModelChange",function(n){return t.pageLimit=n})("ngModelChange",function(){return t.onPageSelected()}),_.TgZ(62,"option",42),_._uU(63,"5"),_.qZA(),_.TgZ(64,"option",43),_._uU(65,"10"),_.qZA(),_.TgZ(66,"option",44),_._uU(67,"20"),_.qZA(),_.qZA(),_.qZA(),_.TgZ(68,"li",45),_.TgZ(69,"button",46),_.NdJ("click",function(){return t.prePage()}),_._UZ(70,"i",47),_.TgZ(71,"span"),_.SDv(72,48),_.qZA(),_.qZA(),_.qZA(),_.TgZ(73,"li",49),_.TgZ(74,"button",46),_.NdJ("click",function(){return t.nextPage()}),_.TgZ(75,"span"),_.SDv(76,50),_.qZA(),_._UZ(77,"i",51),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.TgZ(78,"div",52),_.TgZ(79,"div",53),_.TgZ(80,"div",54),_.TgZ(81,"div",55),_.TgZ(82,"h5",56),_._UZ(83,"i",57),_.TgZ(84,"span"),_.SDv(85,58),_.qZA(),_.qZA(),_.qZA(),_.TgZ(86,"div",59),_.SDv(87,60),_.qZA(),_.TgZ(88,"div",61),_.TgZ(89,"button",62),_.SDv(90,63),_.qZA(),_.TgZ(91,"button",64),_.NdJ("click",function(){return t.deleteSubs()}),_.SDv(92,65),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA()),2&e&&(_.xp6(18),_.Q6J("disabled",1!==t.subscriptionSelected.length),_.xp6(5),_.Q6J("disabled",0===t.subscriptionSelected.length),_.xp6(10),_.Q6J("checked",t.isCheckedAll()),_.xp6(20),_.Q6J("ngForOf",t.subscriptionList),_.xp6(8),_.Q6J("ngModel",t.pageLimit),_.xp6(8),_.Q6J("disabled",1===t.pagination),_.xp6(5),_.Q6J("disabled",t.pageLimit>t.subscriptionList.length))},directives:[C.rH,A.sg,T.EJ,T.JJ,T.On,T.YN,T.Kr],styles:[""]}),o})();function J(o,S){if(1&o&&_._UZ(0,"span",57),2&o){const e=_.oxw();_.ekj("text-danger",0===e.channelTemplates.length)}}function z(o,S){if(1&o){const e=_.EpF();_.TgZ(0,"div"),_.TgZ(1,"form"),_.TgZ(2,"div",14),_.TgZ(3,"label",60),_.TgZ(4,"span",16),_.SDv(5,61),_.qZA(),_._UZ(6,"span",62),_.qZA(),_.TgZ(7,"div",10),_.TgZ(8,"input",63),_.NdJ("ngModelChange",function(i){return _.CHM(e),_.oxw().$implicit.recipients=i}),_.qZA(),_.TgZ(9,"div",64),_.TgZ(10,"small"),_.SDv(11,65),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.TgZ(12,"button",66),_.NdJ("click",function(){_.CHM(e);const i=_.oxw().$implicit;return _.oxw().removeChannelTemplate(i)}),_._UZ(13,"i",67),_.TgZ(14,"span"),_.SDv(15,68),_.qZA(),_.qZA(),_.qZA()}if(2&o){const e=_.oxw().$implicit;_.xp6(8),_.ekj("is-invalid",!e.recipients)("is-valid",e.recipients),_.Q6J("ngModel",e.recipients)}}function w(o,S){if(1&o){const e=_.EpF();_.TgZ(0,"div"),_.TgZ(1,"form"),_.TgZ(2,"div",14),_.TgZ(3,"label",69),_.SDv(4,70),_.qZA(),_.TgZ(5,"div",10),_.TgZ(6,"select",71),_.NdJ("ngModelChange",function(i){return _.CHM(e),_.oxw().$implicit.httpMethod=i}),_.TgZ(7,"option",72),_._uU(8,"GET"),_.qZA(),_.TgZ(9,"option",73),_._uU(10,"POST"),_.qZA(),_.TgZ(11,"option",74),_._uU(12,"PUT"),_.qZA(),_.TgZ(13,"option",75),_._uU(14,"DELETE"),_.qZA(),_.TgZ(15,"option",76),_._uU(16,"PATCH"),_.qZA(),_.TgZ(17,"option",77),_._uU(18,"HEAD"),_.qZA(),_.TgZ(19,"option",78),_._uU(20,"TRACE"),_.qZA(),_.TgZ(21,"option",79),_._uU(22,"CONNECT"),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.TgZ(23,"div",7),_.TgZ(24,"label",80),_.SDv(25,81),_.qZA(),_.TgZ(26,"div",10),_.TgZ(27,"input",82),_.NdJ("ngModelChange",function(i){return _.CHM(e),_.oxw().$implicit.host=i}),_.qZA(),_.TgZ(28,"div",83),_.TgZ(29,"small"),_.SDv(30,84),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.TgZ(31,"div",7),_.TgZ(32,"label",85),_.SDv(33,86),_.qZA(),_.TgZ(34,"div",10),_.TgZ(35,"input",87),_.NdJ("ngModelChange",function(i){return _.CHM(e),_.oxw().$implicit.port=i}),_.qZA(),_.TgZ(36,"div",88),_.TgZ(37,"small"),_.SDv(38,89),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.TgZ(39,"div",14),_.TgZ(40,"label",90),_.SDv(41,91),_.qZA(),_.TgZ(42,"div",10),_.TgZ(43,"input",92),_.NdJ("ngModelChange",function(i){return _.CHM(e),_.oxw().$implicit.path=i}),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.TgZ(44,"button",66),_.NdJ("click",function(){_.CHM(e);const i=_.oxw().$implicit;return _.oxw().removeChannelTemplate(i)}),_._UZ(45,"i",67),_.TgZ(46,"span"),_.SDv(47,93),_.qZA(),_.qZA(),_.qZA()}if(2&o){const e=_.oxw().$implicit,t=_.oxw();_.xp6(6),_.Q6J("ngModel",e.httpMethod),_.xp6(21),_.ekj("is-invalid",!e.host)("is-valid",e.host),_.Q6J("ngModel",e.host),_.xp6(8),_.ekj("is-invalid",!t.isPureIntegerType(e.port))("is-valid",t.isPureIntegerType(e.port)),_.Q6J("ngModel",e.port),_.xp6(8),_.Q6J("ngModel",e.path)}}function K(o,S){if(1&o&&(_.TgZ(0,"div",58),_.TgZ(1,"div",6),_.YNc(2,z,16,5,"div",59),_.YNc(3,w,48,12,"div",59),_.qZA(),_.qZA()),2&o){const e=S.$implicit;_.xp6(2),_.Q6J("ngIf","EMAIL"===e.type),_.xp6(1),_.Q6J("ngIf","REST"===e.type)}}let j=(()=>{class o{constructor(e,t,i,n,O){this.notiSvc=e,this.msgSvc=t,this.errSvc=i,this.route=n,this.router=O,this.channelTemplates=[],this.subCategories="",this.subLabels="",this.subscription={adminState:"UNLOCKED"}}ngOnInit(){this.renderPopoverComponent()}renderPopoverComponent(){setTimeout(()=>{$('[data-toggle="popover"]').popover({trigger:"hover"})},150)}submit(){this.subscription.categories=this.subCategories.split(","),this.subscription.labels=this.subLabels.split(","),this.channelTemplates.forEach((e,t)=>{if("EMAIL"===e.type){let i=e.recipients.toString();e.recipients=i.split(",")}}),this.subscription.channels=this.channelTemplates,this.notiSvc.addOneSubscription(this.subscription).subscribe(e=>{this.errSvc.handleErrorForV2API(e)||(this.msgSvc.success("Add new subscription",`Name: ${this.subscription.name}`),this.router.navigate(["../subscription-list"],{relativeTo:this.route}))})}addChannelTemplate(e){switch(e){case"REST":this.addRESTAddr();break;case"EMAIL":this.addEMAILAddr()}}removeChannelTemplate(e){let t=this.channelTemplates.indexOf(e);-1!==t&&(this.channelTemplates.splice(t,1),this.renderPopoverComponent())}addRESTAddr(){this.channelTemplates.push({type:"REST",httpMethod:"GET"}),this.renderPopoverComponent()}addEMAILAddr(){this.channelTemplates.push({type:"EMAIL"}),this.renderPopoverComponent()}isPureIntegerType(e){return!isNaN(e)&&parseFloat(e)===parseInt(e)}validate(){let e=!1;return 0!==this.channelTemplates.length&&this.channelTemplates.forEach((t,i)=>{("REST"!==t.type||""!==t.path&&t.port)&&("EMAIL"!==t.type||t.recipients)||(e=!0)}),!(!e&&this.subscription.name&&this.subCategories&&this.subLabels&&this.subscription.receiver&&0!==this.channelTemplates.length)}}return o.\u0275fac=function(e){return new(e||o)(_.Y36(s.T),_.Y36(a.e),_.Y36(y.T),_.Y36(C.gz),_.Y36(C.F0))},o.\u0275cmp=_.Xpm({type:o,selectors:[["app-add-subscription"]],decls:92,vars:30,consts:function(){let S,e,t,i,n,O,c,g,U,R,u,p,f,G,P,M,D,b,m,B,h,l,v,X,L,q,I;return S="Add Subscription",e="Submit",t="Name",i="the subscription name can't be empty!",n="Categories",O="the subscription categories can't be empty!",c="Labels",g="the subscription labels can't be empty!",U="Receiver",R="the subscription receiver can't be empty!",u="ResendInterval",p="ResendLimit",f="AdminState",G="Channels",P="Add Channel Template",M="EMAIL Channel Template",D="REST Channel Template",b="EmailRecipients",m="the email address port can't be empty",B="Remove",h="HttpMethod",l="Host",v="the REST address host can't be empty!",X="Port",L="the REST address port can't be empty and only pure integer is supported!",q="Path",I="Remove",[[1,"card"],[1,"card-header"],[1,"fa","fa-plus","text-danger","mr-2"],S,[1,"btn","btn-sm","btn-success","float-right",3,"disabled","click"],e,[1,"card-body"],[1,"form-group","row","has-validation"],["for","subscriptionName","required","",1,"col-md-2","col-form-label"],t,[1,"col-md-10"],["type","text","id","validationSubscriptionName","name","subscriptionName","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","validationSubscriptionNameFeedback",1,"invalid-feedback"],i,[1,"form-group","row"],["for","subscriptionStart",1,"col-md-2","col-form-label"],[1,"mr-2"],n,["role","button","data-html","true","data-animation","true","data-trigger","focus","data-toggle","popover","title","format tips","data-content","Links the subscription to one or more categories of notification. Multiple categories are separated by commas, such as: xxx,yyy,zzz",1,"fa","fa-question-circle-o","fa-lg"],[1,"input-group","mb-3"],["type","text","name","subscriptionStart","required","",1,"form-control",3,"ngModel","ngModelChange"],O,["for","subscriptionLabels",1,"col-md-2","col-form-label"],c,["role","button","data-html","true","data-animation","true","data-trigger","focus","data-toggle","popover","title","format tips","data-content","Arbitrary labels that can be applied to the subscription for further categorization or identification. Multiple labels are separated by commas, such as: xxx,yyy,zzz",1,"fa","fa-question-circle-o","fa-lg"],["type","text","name","subscriptionLabels",1,"form-control",3,"ngModel","ngModelChange"],g,["for","subscriptionReceiver",1,"col-md-2","col-form-label"],U,["role","button","data-html","true","data-animation","true","data-trigger","focus","data-toggle","popover","title","format tips","data-content","Receiver indicates the name of the party interested in the notification.",1,"fa","fa-question-circle-o","fa-lg"],["type","text","name","subscriptionReceiver","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","validationSubscriptionReceiverFeedback",1,"invalid-feedback"],R,["for","subscriptionResendInterval",1,"col-md-2","col-form-label"],u,["role","button","data-html","true","data-animation","true","data-trigger","focus","data-toggle","popover","title","format tips","data-content",'Subscription ResendInterval indicates how often the specific resource needs to be polled. It represents as a duration string. The format of this field is to be an unsigned integer followed by a unit which may be "ns", "us" (or "\xb5s"), "ms", "s", "m", "h" representing nanoseconds, microseconds, milliseconds, seconds, minutes or hours. Eg, "100ms", "24h"',1,"fa","fa-question-circle-o","fa-lg"],["type","text","name","subscriptionResendInterval","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","subscriptionResendLimit",1,"col-md-2","col-form-label"],p,["role","button","data-html","true","data-animation","true","data-trigger","focus","data-toggle","popover","title","format tips","data-content","Pure integer! Subscription ResendLimit indicates the retry limit for attempts to send notifications.",1,"fa","fa-question-circle-o","fa-lg"],["type","number","name","subscriptionResendLimit","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","subscriptionAdminState",1,"col-md-2","col-form-label"],f,["name","subscriptionAdminState",1,"custom-select",3,"ngModel","ngModelChange"],["value","UNLOCKED"],["value","LOCKED"],["for","subscriptionChannels",1,"col-md-2","col-form-label"],G,P,["class","fa fa-question-circle-o fa-lg","role","button","data-html","false","data-animation","true","data-trigger","focus","data-toggle","popover","title","tips","data-content","At least one channel must be created",3,"text-danger",4,"ngIf"],[1,"mb-3"],["role","button",1,"badge","badge-secondary","mr-2",3,"click"],[1,"fa","fa-plus-circle","mr-1"],M,["role","button",1,"badge","badge-secondary",3,"click"],D,["class","card mb-3",4,"ngFor","ngForOf"],["role","button","data-html","false","data-animation","true","data-trigger","focus","data-toggle","popover","title","tips","data-content","At least one channel must be created",1,"fa","fa-question-circle-o","fa-lg"],[1,"card","mb-3"],[4,"ngIf"],["for","emailRecipients",1,"col-md-2","col-form-label"],b,["role","button","data-html","false","data-animation","true","data-trigger","focus","data-toggle","popover","title","format tips","data-content","Multiple email addresses are separated by commas, such as: xxx@xxx.com, yyy@yyy.com",1,"fa","fa-question-circle-o","fa-lg"],["type","text","id","emailRecipients","name","emailRecipients",1,"form-control",3,"ngModel","ngModelChange"],["id","emailRecipientsFeedback",1,"invalid-feedback"],m,[1,"btn","btn-danger","btn-sm",3,"click"],[1,"fa","fa-trash","mr-1"],B,["for","HttpMethod","required","",1,"col-md-2","col-form-label"],h,["type","text","name","httpMethod",1,"custom-select",3,"ngModel","ngModelChange"],["value","GET"],["value","POST"],["value","PUT"],["value","DELETE"],["value","PATCH"],["value","HEAD"],["value","TRACE"],["value","CONNECT"],["for","addressHostREST","required","",1,"col-md-2","col-form-label"],l,["type","text","id","addressHostREST","name","addressHost","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","addressHostRESTFeedback",1,"invalid-feedback"],v,["for","addressPortREST","required","",1,"col-md-2","col-form-label"],X,["type","number","id","addressPortREST","name","addressPort","placeholder","Pure integer !","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","addressPortRESTFeedback",1,"invalid-feedback"],L,["for","addressPath","required","",1,"col-md-2","col-form-label"],q,["type","text","id","addressPath","name","addressPath",1,"form-control",3,"ngModel","ngModelChange"],I]},template:function(e,t){1&e&&(_.TgZ(0,"div",0),_.TgZ(1,"div",1),_._UZ(2,"i",2),_.TgZ(3,"span"),_.SDv(4,3),_.qZA(),_.TgZ(5,"button",4),_.NdJ("click",function(){return t.submit()}),_.SDv(6,5),_.qZA(),_.qZA(),_.TgZ(7,"div",6),_.TgZ(8,"form"),_.TgZ(9,"div",7),_.TgZ(10,"label",8),_.SDv(11,9),_.qZA(),_.TgZ(12,"div",10),_.TgZ(13,"input",11),_.NdJ("ngModelChange",function(n){return t.subscription.name=n}),_.qZA(),_.TgZ(14,"div",12),_.TgZ(15,"small"),_.SDv(16,13),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.TgZ(17,"div",14),_.TgZ(18,"label",15),_.TgZ(19,"span",16),_.SDv(20,17),_.qZA(),_._UZ(21,"span",18),_.qZA(),_.TgZ(22,"div",10),_.TgZ(23,"div",19),_.TgZ(24,"input",20),_.NdJ("ngModelChange",function(n){return t.subCategories=n}),_.qZA(),_.TgZ(25,"div",12),_.TgZ(26,"small"),_.SDv(27,21),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.TgZ(28,"div",14),_.TgZ(29,"label",22),_.TgZ(30,"span",16),_.SDv(31,23),_.qZA(),_._UZ(32,"span",24),_.qZA(),_.TgZ(33,"div",10),_.TgZ(34,"div",19),_.TgZ(35,"input",25),_.NdJ("ngModelChange",function(n){return t.subLabels=n}),_.qZA(),_.TgZ(36,"div",12),_.TgZ(37,"small"),_.SDv(38,26),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.TgZ(39,"div",14),_.TgZ(40,"label",27),_.TgZ(41,"span",16),_.SDv(42,28),_.qZA(),_._UZ(43,"span",29),_.qZA(),_.TgZ(44,"div",10),_.TgZ(45,"input",30),_.NdJ("ngModelChange",function(n){return t.subscription.receiver=n}),_.qZA(),_.TgZ(46,"div",31),_.TgZ(47,"small"),_.SDv(48,32),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.TgZ(49,"div",14),_.TgZ(50,"label",33),_.TgZ(51,"span",16),_.SDv(52,34),_.qZA(),_._UZ(53,"span",35),_.qZA(),_.TgZ(54,"div",10),_.TgZ(55,"input",36),_.NdJ("ngModelChange",function(n){return t.subscription.resendInterval=n}),_.qZA(),_.qZA(),_.qZA(),_.TgZ(56,"div",14),_.TgZ(57,"label",37),_.TgZ(58,"span",16),_.SDv(59,38),_.qZA(),_._UZ(60,"span",39),_.qZA(),_.TgZ(61,"div",10),_.TgZ(62,"input",40),_.NdJ("ngModelChange",function(n){return t.subscription.resendLimit=n}),_.qZA(),_.qZA(),_.qZA(),_.TgZ(63,"div",14),_.TgZ(64,"label",41),_.SDv(65,42),_.qZA(),_.TgZ(66,"div",10),_.TgZ(67,"select",43),_.NdJ("ngModelChange",function(n){return t.subscription.adminState=n}),_.TgZ(68,"option",44),_._uU(69,"UNLOCKED"),_.qZA(),_.TgZ(70,"option",45),_._uU(71,"LOCKED"),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.TgZ(72,"div",14),_.TgZ(73,"label",46),_.SDv(74,47),_.qZA(),_.TgZ(75,"div",10),_.TgZ(76,"div",0),_.TgZ(77,"div",1),_.TgZ(78,"span",16),_.SDv(79,48),_.qZA(),_.YNc(80,J,1,2,"span",49),_.qZA(),_.TgZ(81,"div",6),_.TgZ(82,"div",50),_.TgZ(83,"span",51),_.NdJ("click",function(){return t.addChannelTemplate("EMAIL")}),_._UZ(84,"i",52),_.TgZ(85,"span"),_.SDv(86,53),_.qZA(),_.qZA(),_.TgZ(87,"span",54),_.NdJ("click",function(){return t.addChannelTemplate("REST")}),_._UZ(88,"i",52),_.TgZ(89,"span"),_.SDv(90,55),_.qZA(),_.qZA(),_.qZA(),_.YNc(91,K,4,2,"div",56),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA()),2&e&&(_.xp6(5),_.Q6J("disabled",t.validate()),_.xp6(8),_.ekj("is-invalid",!t.subscription.name)("is-valid",t.subscription.name),_.Q6J("ngModel",t.subscription.name),_.xp6(11),_.ekj("is-invalid",!t.subCategories)("is-valid",t.subCategories),_.Q6J("ngModel",t.subCategories),_.xp6(11),_.ekj("is-invalid",!t.subLabels)("is-valid",t.subLabels),_.Q6J("ngModel",t.subLabels),_.xp6(10),_.ekj("is-invalid",!t.subscription.receiver)("is-valid",t.subscription.receiver),_.Q6J("ngModel",t.subscription.receiver),_.xp6(10),_.Q6J("ngModel",t.subscription.resendInterval),_.xp6(7),_.Q6J("ngModel",t.subscription.resendLimit),_.xp6(5),_.Q6J("ngModel",t.subscription.adminState),_.xp6(10),_.ekj("border",0===t.channelTemplates.length)("border-danger",0===t.channelTemplates.length),_.xp6(3),_.Q6J("ngIf",0===t.channelTemplates.length),_.xp6(11),_.Q6J("ngForOf",t.channelTemplates))},directives:[T._Y,T.JL,T.F,T.Fj,T.Q7,T.JJ,T.On,T.wV,T.EJ,T.YN,T.Kr,A.O5,A.sg],styles:[""]}),o})();function V(o,S){if(1&o&&_._UZ(0,"span",57),2&o){const e=_.oxw();_.ekj("text-danger",0===e.channelTemplates.length)}}function __(o,S){if(1&o){const e=_.EpF();_.TgZ(0,"div"),_.TgZ(1,"form"),_.TgZ(2,"div",14),_.TgZ(3,"label",60),_.TgZ(4,"span",16),_.SDv(5,61),_.qZA(),_._UZ(6,"span",62),_.qZA(),_.TgZ(7,"div",10),_.TgZ(8,"input",63),_.NdJ("ngModelChange",function(i){return _.CHM(e),_.oxw().$implicit.recipients=i}),_.qZA(),_.TgZ(9,"div",64),_.TgZ(10,"small"),_.SDv(11,65),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.TgZ(12,"button",66),_.NdJ("click",function(){_.CHM(e);const i=_.oxw().$implicit;return _.oxw().removeChannelTemplate(i)}),_._UZ(13,"i",67),_._uU(14," Remove"),_.qZA(),_.qZA()}if(2&o){const e=_.oxw().$implicit;_.xp6(8),_.ekj("is-invalid",!e.recipients)("is-valid",e.recipients),_.Q6J("ngModel",e.recipients)}}function e_(o,S){if(1&o){const e=_.EpF();_.TgZ(0,"div"),_.TgZ(1,"form"),_.TgZ(2,"div",14),_.TgZ(3,"label",68),_.SDv(4,69),_.qZA(),_.TgZ(5,"div",10),_.TgZ(6,"select",70),_.NdJ("ngModelChange",function(i){return _.CHM(e),_.oxw().$implicit.httpMethod=i}),_.TgZ(7,"option",71),_._uU(8,"GET"),_.qZA(),_.TgZ(9,"option",72),_._uU(10,"POST"),_.qZA(),_.TgZ(11,"option",73),_._uU(12,"PUT"),_.qZA(),_.TgZ(13,"option",74),_._uU(14,"DELETE"),_.qZA(),_.TgZ(15,"option",75),_._uU(16,"PATCH"),_.qZA(),_.TgZ(17,"option",76),_._uU(18,"HEAD"),_.qZA(),_.TgZ(19,"option",77),_._uU(20,"TRACE"),_.qZA(),_.TgZ(21,"option",78),_._uU(22,"CONNECT"),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.TgZ(23,"div",7),_.TgZ(24,"label",79),_.SDv(25,80),_.qZA(),_.TgZ(26,"div",10),_.TgZ(27,"input",81),_.NdJ("ngModelChange",function(i){return _.CHM(e),_.oxw().$implicit.host=i}),_.qZA(),_.TgZ(28,"div",82),_.TgZ(29,"small"),_.SDv(30,83),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.TgZ(31,"div",7),_.TgZ(32,"label",84),_.SDv(33,85),_.qZA(),_.TgZ(34,"div",10),_.TgZ(35,"input",86),_.NdJ("ngModelChange",function(i){return _.CHM(e),_.oxw().$implicit.port=i}),_.qZA(),_.TgZ(36,"div",87),_.TgZ(37,"small"),_.SDv(38,88),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.TgZ(39,"div",14),_.TgZ(40,"label",89),_.SDv(41,90),_.qZA(),_.TgZ(42,"div",10),_.TgZ(43,"input",91),_.NdJ("ngModelChange",function(i){return _.CHM(e),_.oxw().$implicit.path=i}),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.TgZ(44,"button",66),_.NdJ("click",function(){_.CHM(e);const i=_.oxw().$implicit;return _.oxw().removeChannelTemplate(i)}),_._UZ(45,"i",92),_.TgZ(46,"span"),_.SDv(47,93),_.qZA(),_.qZA(),_.qZA()}if(2&o){const e=_.oxw().$implicit,t=_.oxw();_.xp6(6),_.Q6J("ngModel",e.httpMethod),_.xp6(21),_.ekj("is-invalid",!e.host)("is-valid",e.host),_.Q6J("ngModel",e.host),_.xp6(8),_.ekj("is-invalid",!t.isPureIntegerType(e.port))("is-valid",t.isPureIntegerType(e.port)),_.Q6J("ngModel",e.port),_.xp6(8),_.Q6J("ngModel",e.path)}}function t_(o,S){if(1&o&&(_.TgZ(0,"div",58),_.TgZ(1,"div",6),_.YNc(2,__,15,5,"div",59),_.YNc(3,e_,48,12,"div",59),_.qZA(),_.qZA()),2&o){const e=S.$implicit;_.xp6(2),_.Q6J("ngIf","EMAIL"===e.type),_.xp6(1),_.Q6J("ngIf","REST"===e.type)}}let i_=(()=>{class o{constructor(e,t,i,n,O){this.notiSvc=e,this.msgSvc=t,this.errSvc=i,this.route=n,this.router=O,this.channelTemplates=[],this.subCategories="",this.subLabels="",this.subscription={}}ngOnInit(){this.renderPopoverComponent(),this.route.queryParams.subscribe(e=>{e.subName&&this.notiSvc.findOneSubscriptionByName(e.subName).subscribe(t=>{this.subscription=t.subscription,this.subCategories=this.subscription.categories.toString(),this.subLabels=this.subscription.labels.toString(),this.channelTemplates=this.subscription.channels})})}renderPopoverComponent(){setTimeout(()=>{$('[data-toggle="popover"]').popover({trigger:"hover"})},150)}update(){this.subscription.categories=this.subCategories.split(","),this.subscription.labels=this.subLabels.split(","),this.channelTemplates.forEach((e,t)=>{if("EMAIL"===e.type){let i=e.recipients.toString();e.recipients=i.split(",")}}),this.subscription.channels=this.channelTemplates,this.notiSvc.updateOneSubscription(this.subscription).subscribe(e=>{this.errSvc.handleErrorForV2API(e)||(this.msgSvc.success("Update subscription",`Name: ${this.subscription.name}`),this.router.navigate(["../subscription-list"],{relativeTo:this.route}))})}addChannelTemplate(e){switch(e){case"REST":this.addRESTAddr();break;case"EMAIL":this.addEMAILAddr()}}removeChannelTemplate(e){let t=this.channelTemplates.indexOf(e);-1!==t&&(this.channelTemplates.splice(t,1),this.renderPopoverComponent())}addRESTAddr(){this.channelTemplates.push({type:"REST",httpMethod:"GET"}),this.renderPopoverComponent()}addEMAILAddr(){this.channelTemplates.push({type:"EMAIL"}),this.renderPopoverComponent()}isPureIntegerType(e){return!isNaN(e)&&parseFloat(e)===parseInt(e)}validate(){let e=!1;return 0!==this.channelTemplates.length&&this.channelTemplates.forEach((t,i)=>{("REST"!==t.type||""!==t.path&&t.port)&&("EMAIL"!==t.type||t.recipients)||(e=!0)}),!(!e&&this.subscription.name&&this.subCategories&&this.subLabels&&this.subscription.receiver&&0!==this.channelTemplates.length)}}return o.\u0275fac=function(e){return new(e||o)(_.Y36(s.T),_.Y36(a.e),_.Y36(y.T),_.Y36(C.gz),_.Y36(C.F0))},o.\u0275cmp=_.Xpm({type:o,selectors:[["app-edit-subscription"]],decls:92,vars:30,consts:function(){let S,e,t,i,n,O,c,g,U,R,u,p,f,G,P,M,D,b,m,B,h,l,v,X,L,q;return S="Edit Subscription",e="Save",t="Name",i="the subscription name can't be empty!",n="Categories",O="the subscription categories can't be empty!",c="Labels",g="the subscription labels can't be empty!",U="Receiver",R="the subscription receiver can't be empty!",u="ResendInterval",p="ResendLimit",f="AdminState",G="Channels",P="Add Channel Template",M="EMAIL Channel Template",D="REST Channel Template",b="EmailRecipients",m="the email address port can't be empty",B="HttpMethod",h="Host",l="the REST address host can't be empty!",v="Port",X="the REST address port can't be empty and only pure integer is supported!",L="Path",q="Remove",[[1,"card"],[1,"card-header"],[1,"fa","fa-edit","text-danger","mr-2"],S,[1,"btn","btn-sm","btn-success","float-right",3,"disabled","click"],e,[1,"card-body"],[1,"form-group","row","has-validation"],["for","subscriptionName","required","",1,"col-md-2","col-form-label"],t,[1,"col-md-10"],["type","text","id","validationSubscriptionName","name","subscriptionName","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","validationSubscriptionNameFeedback",1,"invalid-feedback"],i,[1,"form-group","row"],["for","subscriptionStart",1,"col-md-2","col-form-label"],[1,"mr-2"],n,["role","button","data-html","true","data-animation","true","data-trigger","focus","data-toggle","popover","title","format tips","data-content","Links the subscription to one or more categories of notification. Multiple categories are separated by commas, such as: xxx,yyy,zzz",1,"fa","fa-question-circle-o","fa-lg"],[1,"input-group","mb-3"],["type","text","name","subscriptionStart","required","",1,"form-control",3,"ngModel","ngModelChange"],O,["for","subscriptionLabels",1,"col-md-2","col-form-label"],c,["role","button","data-html","true","data-animation","true","data-trigger","focus","data-toggle","popover","title","format tips","data-content","Arbitrary labels that can be applied to the subscription for further categorization or identification. Multiple labels are separated by commas, such as: xxx,yyy,zzz",1,"fa","fa-question-circle-o","fa-lg"],["type","text","name","subscriptionLabels",1,"form-control",3,"ngModel","ngModelChange"],g,["for","subscriptionReceiver",1,"col-md-2","col-form-label"],U,["role","button","data-html","true","data-animation","true","data-trigger","focus","data-toggle","popover","title","format tips","data-content","Receiver indicates the name of the party interested in the notification.",1,"fa","fa-question-circle-o","fa-lg"],["type","text","name","subscriptionReceiver","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","validationSubscriptionReceiverFeedback",1,"invalid-feedback"],R,["for","subscriptionResendInterval",1,"col-md-2","col-form-label"],u,["role","button","data-html","true","data-animation","true","data-trigger","focus","data-toggle","popover","title","format tips","data-content",'Subscription ResendInterval indicates how often the specific resource needs to be polled. It represents as a duration string. The format of this field is to be an unsigned integer followed by a unit which may be "ns", "us" (or "\xb5s"), "ms", "s", "m", "h" representing nanoseconds, microseconds, milliseconds, seconds, minutes or hours. Eg, "100ms", "24h"',1,"fa","fa-question-circle-o","fa-lg"],["type","text","name","subscriptionResendInterval","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","subscriptionResendLimit",1,"col-md-2","col-form-label"],p,["role","button","data-html","true","data-animation","true","data-trigger","focus","data-toggle","popover","title","format tips","data-content","Pure integer! Subscription ResendLimit indicates the retry limit for attempts to send notifications.",1,"fa","fa-question-circle-o","fa-lg"],["type","number","name","subscriptionResendLimit","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","subscriptionAdminState",1,"col-md-2","col-form-label"],f,["name","subscriptionAdminState",1,"custom-select",3,"ngModel","ngModelChange"],["value","UNLOCKED"],["value","LOCKED"],["for","subscriptionChannels",1,"col-md-2","col-form-label"],G,P,["class","fa fa-question-circle-o fa-lg","role","button","data-html","false","data-animation","true","data-trigger","focus","data-toggle","popover","title","tips","data-content","At least one channel must be created",3,"text-danger",4,"ngIf"],[1,"mb-3"],["role","button",1,"badge","badge-secondary","mr-2",3,"click"],[1,"fa","fa-plus-circle","mr-1"],M,["role","button",1,"badge","badge-secondary",3,"click"],D,["class","card mb-3",4,"ngFor","ngForOf"],["role","button","data-html","false","data-animation","true","data-trigger","focus","data-toggle","popover","title","tips","data-content","At least one channel must be created",1,"fa","fa-question-circle-o","fa-lg"],[1,"card","mb-3"],[4,"ngIf"],["for","emailRecipients",1,"col-md-2","col-form-label"],b,["role","button","data-html","false","data-animation","true","data-trigger","focus","data-toggle","popover","title","format tips","data-content","Multiple email addresses are separated by commas, such as: xxx@xxx.com, yyy@yyy.com",1,"fa","fa-question-circle-o","fa-lg"],["type","text","id","emailRecipients","name","emailRecipients",1,"form-control",3,"ngModel","ngModelChange"],["id","emailRecipientsFeedback",1,"invalid-feedback"],m,[1,"btn","btn-danger","btn-sm",3,"click"],[1,"fa","fa-trash"],["for","HttpMethod","required","",1,"col-md-2","col-form-label"],B,["type","text","name","httpMethod",1,"custom-select",3,"ngModel","ngModelChange"],["value","GET"],["value","POST"],["value","PUT"],["value","DELETE"],["value","PATCH"],["value","HEAD"],["value","TRACE"],["value","CONNECT"],["for","addressHostREST","required","",1,"col-md-2","col-form-label"],h,["type","text","id","addressHostREST","name","addressHost","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","addressHostRESTFeedback",1,"invalid-feedback"],l,["for","addressPortREST","required","",1,"col-md-2","col-form-label"],v,["type","number","id","addressPortREST","name","addressPort","placeholder","Pure integer !","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","addressPortRESTFeedback",1,"invalid-feedback"],X,["for","addressPath","required","",1,"col-md-2","col-form-label"],L,["type","text","id","addressPath","name","addressPath",1,"form-control",3,"ngModel","ngModelChange"],[1,"fa","fa-trash","mr-1"],q]},template:function(e,t){1&e&&(_.TgZ(0,"div",0),_.TgZ(1,"div",1),_._UZ(2,"i",2),_.TgZ(3,"span"),_.SDv(4,3),_.qZA(),_.TgZ(5,"button",4),_.NdJ("click",function(){return t.update()}),_.SDv(6,5),_.qZA(),_.qZA(),_.TgZ(7,"div",6),_.TgZ(8,"form"),_.TgZ(9,"div",7),_.TgZ(10,"label",8),_.SDv(11,9),_.qZA(),_.TgZ(12,"div",10),_.TgZ(13,"input",11),_.NdJ("ngModelChange",function(n){return t.subscription.name=n}),_.qZA(),_.TgZ(14,"div",12),_.TgZ(15,"small"),_.SDv(16,13),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.TgZ(17,"div",14),_.TgZ(18,"label",15),_.TgZ(19,"span",16),_.SDv(20,17),_.qZA(),_._UZ(21,"span",18),_.qZA(),_.TgZ(22,"div",10),_.TgZ(23,"div",19),_.TgZ(24,"input",20),_.NdJ("ngModelChange",function(n){return t.subCategories=n}),_.qZA(),_.TgZ(25,"div",12),_.TgZ(26,"small"),_.SDv(27,21),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.TgZ(28,"div",14),_.TgZ(29,"label",22),_.TgZ(30,"span",16),_.SDv(31,23),_.qZA(),_._UZ(32,"span",24),_.qZA(),_.TgZ(33,"div",10),_.TgZ(34,"div",19),_.TgZ(35,"input",25),_.NdJ("ngModelChange",function(n){return t.subLabels=n}),_.qZA(),_.TgZ(36,"div",12),_.TgZ(37,"small"),_.SDv(38,26),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.TgZ(39,"div",14),_.TgZ(40,"label",27),_.TgZ(41,"span",16),_.SDv(42,28),_.qZA(),_._UZ(43,"span",29),_.qZA(),_.TgZ(44,"div",10),_.TgZ(45,"input",30),_.NdJ("ngModelChange",function(n){return t.subscription.receiver=n}),_.qZA(),_.TgZ(46,"div",31),_.TgZ(47,"small"),_.SDv(48,32),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.TgZ(49,"div",14),_.TgZ(50,"label",33),_.TgZ(51,"span",16),_.SDv(52,34),_.qZA(),_._UZ(53,"span",35),_.qZA(),_.TgZ(54,"div",10),_.TgZ(55,"input",36),_.NdJ("ngModelChange",function(n){return t.subscription.resendInterval=n}),_.qZA(),_.qZA(),_.qZA(),_.TgZ(56,"div",14),_.TgZ(57,"label",37),_.TgZ(58,"span",16),_.SDv(59,38),_.qZA(),_._UZ(60,"span",39),_.qZA(),_.TgZ(61,"div",10),_.TgZ(62,"input",40),_.NdJ("ngModelChange",function(n){return t.subscription.resendLimit=n}),_.qZA(),_.qZA(),_.qZA(),_.TgZ(63,"div",14),_.TgZ(64,"label",41),_.SDv(65,42),_.qZA(),_.TgZ(66,"div",10),_.TgZ(67,"select",43),_.NdJ("ngModelChange",function(n){return t.subscription.adminState=n}),_.TgZ(68,"option",44),_._uU(69,"UNLOCKED"),_.qZA(),_.TgZ(70,"option",45),_._uU(71,"LOCKED"),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.TgZ(72,"div",14),_.TgZ(73,"label",46),_.SDv(74,47),_.qZA(),_.TgZ(75,"div",10),_.TgZ(76,"div",0),_.TgZ(77,"div",1),_.TgZ(78,"span",16),_.SDv(79,48),_.qZA(),_.YNc(80,V,1,2,"span",49),_.qZA(),_.TgZ(81,"div",6),_.TgZ(82,"div",50),_.TgZ(83,"span",51),_.NdJ("click",function(){return t.addChannelTemplate("EMAIL")}),_._UZ(84,"i",52),_.TgZ(85,"span"),_.SDv(86,53),_.qZA(),_.qZA(),_.TgZ(87,"span",54),_.NdJ("click",function(){return t.addChannelTemplate("REST")}),_._UZ(88,"i",52),_.TgZ(89,"span"),_.SDv(90,55),_.qZA(),_.qZA(),_.qZA(),_.YNc(91,t_,4,2,"div",56),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA()),2&e&&(_.xp6(5),_.Q6J("disabled",t.validate()),_.xp6(8),_.ekj("is-invalid",!t.subscription.name)("is-valid",t.subscription.name),_.Q6J("ngModel",t.subscription.name),_.xp6(11),_.ekj("is-invalid",!t.subCategories)("is-valid",t.subCategories),_.Q6J("ngModel",t.subCategories),_.xp6(11),_.ekj("is-invalid",!t.subLabels)("is-valid",t.subLabels),_.Q6J("ngModel",t.subLabels),_.xp6(10),_.ekj("is-invalid",!t.subscription.receiver)("is-valid",t.subscription.receiver),_.Q6J("ngModel",t.subscription.receiver),_.xp6(10),_.Q6J("ngModel",t.subscription.resendInterval),_.xp6(7),_.Q6J("ngModel",t.subscription.resendLimit),_.xp6(5),_.Q6J("ngModel",t.subscription.adminState),_.xp6(10),_.ekj("border",0===t.channelTemplates.length)("border-danger",0===t.channelTemplates.length),_.xp6(3),_.Q6J("ngIf",0===t.channelTemplates.length),_.xp6(11),_.Q6J("ngForOf",t.channelTemplates))},directives:[T._Y,T.JL,T.F,T.Fj,T.Q7,T.JJ,T.On,T.wV,T.EJ,T.YN,T.Kr,A.O5,A.sg],styles:[""]}),o})();const o_=[{path:"",component:Y,canActivate:[N(5473).a],children:[{path:"",redirectTo:"notification-center",pathMatch:"full"},{path:"notification-center",component:F,children:[{path:"",component:E}]},{path:"subscription-center",component:Z,children:[{path:"",redirectTo:"subscription-list",pathMatch:"full"},{path:"subscription-list",component:x},{path:"add-subscription",component:j},{path:"edit-subscription",component:i_}]}]}];let I_=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=_.oAB({type:o}),o.\u0275inj=_.cJS({imports:[[C.Bz.forChild(o_)],C.Bz]}),o})(),S_=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=_.oAB({type:o}),o.\u0275inj=_.cJS({imports:[[A.ez,T.u5,I_]]}),o})()},9744:(W,Q,N)=>{N.d(Q,{T:()=>Y});var A=N(1841),T=N(5894),C=N(476),_=N(4889);let Y=(()=>{class F{constructor(s,a){this.http=s,this.errorSvc=a,this.endpoint="/support-notifications",this.version="/api/v2",this.urlPrefix=`${this.endpoint}${this.version}`,this.configUrl="/config",this.findNotificationByCategoryUrl=`${this.urlPrefix}/notification/category/`,this.findNotificationByLabelUrl=`${this.urlPrefix}/notification/label/`,this.findNotificationByStatusUrl=`${this.urlPrefix}/notification/status/`,this.findNotificationByStartEndUrl=`${this.urlPrefix}/notification/start/`,this.deleteNotificationByIdUrl=`${this.urlPrefix}/notification/id/`,this.deleteNotificationByAgeAndStatusUrl=`${this.urlPrefix}/notification/age/`,this.cleanupNotificationByAgeUrl=`${this.urlPrefix}/cleanup/age/`,this.cleanupNotificationAllUrl=`${this.urlPrefix}/cleanup`,this.findAllSubscriptionsPaginationUrl=`${this.urlPrefix}/subscription/all`,this.findAllSubscriptionsByCategoryPaginationUrl=`${this.urlPrefix}/subscription/category/`,this.findAllSubscriptionsByLabelPaginationUrl=`${this.urlPrefix}/subscription/label/`,this.findAllSubscriptionsByReceiverPaginationUrl=`${this.urlPrefix}/subscription/receiver/`,this.findOneSubscriptionsByNameUrl=`${this.urlPrefix}/subscription/name/`,this.addOneSubscriptionUrl=`${this.urlPrefix}/subscription`,this.updateOneSubscriptionUrl=`${this.urlPrefix}/subscription`,this.deleteOneSubscriptionByNameUrl=`${this.urlPrefix}/subscription/name/`,this.httpPostOrPutOrPatchJSONOptions={headers:new A.WM({"Content-type":"application/json"})}}getConfig(){return this.http.get(`${this.urlPrefix}${this.configUrl}`).pipe((0,T.K)(a=>this.errorSvc.handleError(a)))}findNotificationsByCategoryPagination(s,a,r){return this.http.get(`${this.findNotificationByCategoryUrl}${r}?offset=${s}&limit=${a}`).pipe((0,T.K)(Z=>this.errorSvc.handleError(Z)))}findNotificationsByLabelPagination(s,a,r){return this.http.get(`${this.findNotificationByLabelUrl}${r}?offset=${s}&limit=${a}`).pipe((0,T.K)(Z=>this.errorSvc.handleError(Z)))}findNotificationsByStatusPagination(s,a,r){return this.http.get(`${this.findNotificationByStatusUrl}${r}?offset=${s}&limit=${a}`).pipe((0,T.K)(Z=>this.errorSvc.handleError(Z)))}findNotificationsByStartEndPagination(s,a,r,E){return this.http.get(`${this.findNotificationByStartEndUrl}${r}/end/${E}?offset=${s}&limit=${a}`).pipe((0,T.K)(y=>this.errorSvc.handleError(y)))}deleteNotificationByAgeAndStatus(s){return this.http.delete(`${this.deleteNotificationByAgeAndStatusUrl}${s}`).pipe((0,T.K)(r=>this.errorSvc.handleError(r)))}deleteNotificationById(s){return this.http.delete(`${this.deleteNotificationByIdUrl}${s}`).pipe((0,T.K)(r=>this.errorSvc.handleError(r)))}cleanupNotificationByAge(s){return this.http.delete(`${this.cleanupNotificationByAgeUrl}${s}`).pipe((0,T.K)(r=>this.errorSvc.handleError(r)))}cleanupNotificationAll(){return this.http.delete(`${this.cleanupNotificationAllUrl}`).pipe((0,T.K)(a=>this.errorSvc.handleError(a)))}findAllSubscriptionPagination(s,a){return this.http.get(`${this.findAllSubscriptionsPaginationUrl}?offset=${s}&limit=${a}`).pipe((0,T.K)(E=>this.errorSvc.handleError(E)))}findOneSubscriptionByName(s){return this.http.get(`${this.findOneSubscriptionsByNameUrl}${s}`).pipe((0,T.K)(r=>this.errorSvc.handleError(r)))}addOneSubscription(s){return this.http.post(`${this.addOneSubscriptionUrl}`,JSON.stringify([{apiVersion:"v2",subscription:s}]),this.httpPostOrPutOrPatchJSONOptions).pipe((0,T.K)(E=>this.errorSvc.handleError(E)))}updateOneSubscription(s){return this.http.patch(`${this.updateOneSubscriptionUrl}`,JSON.stringify([{apiVersion:"v2",subscription:s}]),this.httpPostOrPutOrPatchJSONOptions).pipe((0,T.K)(E=>this.errorSvc.handleError(E)))}deleteOneSubscriptionByName(s){return this.http.delete(`${this.deleteOneSubscriptionByNameUrl}${s}`).pipe((0,T.K)(r=>this.errorSvc.handleError(r)))}}return F.\u0275fac=function(s){return new(s||F)(C.LFG(A.eN),C.LFG(_.T))},F.\u0275prov=C.Yz7({token:F,factory:F.\u0275fac,providedIn:"root"}),F})()}}]);