"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[634],{2634:(de,y,d)=>{d.r(y),d.d(y,{NotificationsModule:()=>le});var Z=d(8583),s=d(3092),r=d(9502),e=d(476);let X=(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-notifications"]],decls:11,vars:0,consts:function(){let T,t;return T="Notification",t="Subscription",[[1,"card"],[1,"card-header"],[1,"nav","nav-tabs","card-header-tabs","font-weight-bold"],[1,"nav-item"],["routerLink","./notification-center","routerLinkActive","active",1,"nav-link"],T,["routerLink","./subscription-center","routerLinkActive","active",1,"nav-link"],t,[1,"card-body"]]},template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"ul",2),e.TgZ(3,"li",3),e.TgZ(4,"a",4),e.SDv(5,5),e.qZA(),e.qZA(),e.TgZ(6,"li",3),e.TgZ(7,"a",6),e.SDv(8,7),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(9,"div",8),e._UZ(10,"router-outlet"),e.qZA(),e.qZA())},directives:[r.yS,r.Od,r.lC],styles:[""]}),o})(),k=(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-notification-center"]],decls:1,vars:0,template:function(t,n){1&t&&e._UZ(0,"router-outlet")},directives:[r.lC],styles:[""]}),o})();var D=d(9827),B=d(9744),q=d(7822);function x(o,T){if(1&o){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e.TgZ(2,"input",48),e.NdJ("click",function(i){const I=e.CHM(t).$implicit;return e.oxw().selectOne(i,I)}),e.qZA(),e.qZA(),e.TgZ(3,"td",91),e._uU(4),e.qZA(),e.TgZ(5,"td",91),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.qZA(),e.TgZ(17,"td"),e._uU(18),e.qZA(),e.TgZ(19,"td"),e._uU(20),e.qZA(),e.TgZ(21,"td"),e._uU(22),e.ALo(23,"date"),e.qZA(),e.TgZ(24,"td"),e._uU(25),e.ALo(26,"date"),e.qZA(),e.qZA()}if(2&o){const t=T.$implicit,n=e.oxw();e.ekj("table-active",n.isChecked(t.id)),e.xp6(2),e.Q6J("checked",n.isChecked(t.id)),e.xp6(2),e.Oqu(t.id),e.xp6(2),e.Oqu(t.category),e.xp6(2),e.Oqu(t.labels),e.xp6(2),e.Oqu(t.content),e.xp6(2),e.Oqu(t.contentType),e.xp6(2),e.Oqu(t.description),e.xp6(2),e.Oqu(t.sender),e.xp6(2),e.Oqu(t.severity),e.xp6(2),e.Oqu(t.status),e.xp6(2),e.Oqu(e.xi3(23,14,t.created,"yyyy-MM-dd hh:mm:ss")),e.xp6(3),e.Oqu(e.xi3(26,17,t.modified,"yyyy-MM-dd hh:mm:ss"))}}let J=(()=>{class o{constructor(t,n){this.notiSvc=t,this.msgSvc=n,this.notificationList=[],this.notificationSelected=[],this.pagination=1,this.pageLimit=5,this.pageOffset=(this.pagination-1)*this.pageLimit,this.categorySelected="SECURITY",this.statusSelected="NEW",this.advancedOperation=!1}ngOnInit(){$('[data-toggle="popover"]').popover({trigger:"hover"}),this.setSearchMode("status"),this.findNotificationsByStatusPagination(!0),this.initDatePickr()}initDatePickr(){this.calendarStart=(0,D.Z)("input[name='startSelected']",{dateFormat:"U",altFormat:"Y-m-d H:i:S",altInput:!0,enableTime:!0,enableSeconds:!0,time_24hr:!0,allowInput:!1,onChange:(t,n,i)=>{this.startSelected=1e3*Number(n)}}),this.calendarEnd=(0,D.Z)("input[name='endSelected']",{dateFormat:"U",altFormat:"Y-m-d H:i:S",altInput:!0,enableTime:!0,enableSeconds:!0,time_24hr:!0,allowInput:!1,onChange:(t,n,i)=>{this.endSelected=1e3*Number(n)}}),this.calendarStart=(0,D.Z)("input[name='ageCleanupAll']",{dateFormat:"U",altFormat:"Y-m-d H:i:S",altInput:!0,enableTime:!0,enableSeconds:!0,time_24hr:!0,allowInput:!1,onChange:(t,n,i)=>{this.ageCleanupAll=1e3*Number(n)}}),this.calendarEnd=(0,D.Z)("input[name='ageCleanupByStatusIsProcessed']",{dateFormat:"U",altFormat:"Y-m-d H:i:S",altInput:!0,enableTime:!0,enableSeconds:!0,time_24hr:!0,allowInput:!1,onChange:(t,n,i)=>{this.ageCleanupByStatusIsProcessed=1e3*Number(n)}})}advancedToggle(){this.advancedOperation=!this.advancedOperation}findNotificationsByCategoryPagination(t){this.notiSvc.findNotificationsByCategoryPagination(this.pageOffset,this.pageLimit,this.categorySelected).subscribe(n=>{this.notificationList=n.notifications,!t&&this.msgSvc.success("search by category")})}findNotificationsByStatusPagination(t){this.notiSvc.findNotificationsByStatusPagination(this.pageOffset,this.pageLimit,this.statusSelected).subscribe(n=>{this.notificationList=n.notifications,!t&&this.msgSvc.success("search by status")})}findNotificationsByLabelPagination(t){this.notiSvc.findNotificationsByLabelPagination(this.pageOffset,this.pageLimit,this.labelSelected).subscribe(n=>{this.notificationList=n.notifications,!t&&this.msgSvc.success("search by label")})}findNotificationsByStartEndPagination(t){console.log(this.startSelected,this.endSelected),this.notiSvc.findNotificationsByStartEndPagination(this.pageOffset,this.pageLimit,this.startSelected,this.endSelected).subscribe(n=>{this.notificationList=n.notifications,!t&&this.msgSvc.success("search by start and end")})}setSearchMode(t){this.searchMode=t}searchByStatus(){this.resetPagination(),this.setSearchMode("status"),this.findNotificationsByStatusPagination()}searchByCategory(){this.resetPagination(),this.setSearchMode("category"),this.findNotificationsByCategoryPagination()}searchByStartEnd(){this.resetPagination(),this.setSearchMode("duration"),this.findNotificationsByStartEndPagination()}deleteConfirm(t){this.cleanMode=t,$("#deleteConfirmDialog").modal("show")}cleanup(){switch(this.cleanMode){case"age":this.cleanupByAge();break;case"status":this.cleanupByAgeAndStatusIsProcessed();break;default:this.deleteSelected()}}cleanupByAge(){this.notiSvc.deleteNotificationByAgeAndStatus(this.ageCleanupAll).subscribe(()=>{this.msgSvc.success("cleanup by age")}),$("#deleteConfirmDialog").modal("hide")}cleanupByAgeAndStatusIsProcessed(){this.notiSvc.deleteNotificationByAgeAndStatus(this.ageCleanupByStatusIsProcessed).subscribe(()=>{this.msgSvc.success("cleanup by age when status is processed")}),$("#deleteConfirmDialog").modal("hide")}deleteSelected(){this.notificationSelected.forEach(t=>{this.notiSvc.deleteNotificationById(t.id).subscribe(()=>{this.msgSvc.success("delete",`ID: ${t.id}`)})}),$("#deleteConfirmDialog").modal("hide")}isCheckedAll(){let t=!0;return this.notificationList&&0===this.notificationList.length&&(t=!1),this.notificationList.forEach(n=>{-1===this.notificationSelected.findIndex(i=>i.id===n.id)&&(t=!1)}),t}selectAll(t){this.notificationList.forEach(t.target.checked?i=>{-1===this.notificationSelected.findIndex(_=>_.id===i.id)&&this.notificationSelected.push(i)}:i=>{let _=this.notificationSelected.findIndex(I=>I.id===i.id);-1!==_&&this.notificationSelected.splice(_,1)})}isChecked(t){return this.notificationSelected.findIndex(n=>n.id===t)>=0}selectOne(t,n){if(t.target.checked)return void this.notificationSelected.push(n);let _=this.notificationSelected.findIndex(I=>I.id===n.id);-1!==_&&this.notificationSelected.splice(_,1)}paginationBySearchMode(){switch(this.searchMode){case"status":this.findNotificationsByStatusPagination(!0);break;case"category":this.findNotificationsByCategoryPagination(!0);break;case"duration":this.findNotificationsByStartEndPagination(!0)}}onPageSelected(){this.resetPagination(),this.paginationBySearchMode()}prePage(){this.setPagination(-1),this.paginationBySearchMode()}nextPage(){this.setPagination(1),this.paginationBySearchMode()}setPagination(t){1===t?this.pagination+=1:-1===t&&(this.pagination-=1),this.pageOffset=(this.pagination-1)*this.pageLimit}resetPagination(){this.pagination=1,this.setPagination()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(B.T),e.Y36(q.e))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-notification-list"]],decls:161,vars:11,consts:function(){let T,t,n,i,_,I,c,N,C,g,O,u,A,p,f,P,R,b,M,m,E,S,h,v,L,U;return T="Notification List",t="\xA0The data loaded by default takes the value of status as NEW",n="Delete",i="Advanced",_="Status",I="Start",c="End",N="CleanupByAge",C="Cleanup",g="Category",O="Labels",u="Content",A="ContentType",p="Description",f="Sender",P="Severity",R="Status",b="Created",M="Modified",m="items per page",E="Previous",S="Next",h="Warning",v=" The data will be permanently erased!!! Are you sure to execute delete operation\uFF1F ",L="Cancel",U="Confirm",[[1,"card"],[1,"card-header"],[1,"fa","fa-list","text-danger","mr-1"],T,[1,"fa","fa-info-circle","text-success","font-weight-bold","ml-1"],t,[1,"bg-light","card-header","p-0"],[1,"px-2","py-2"],["role","group",1,"btn-group","btn-group-sm"],["type","button",1,"btn","btn-danger",3,"disabled","click"],[1,"fa","fa-trash","mr-1"],n,["role","button",1,"text-primary","ml-3","text-decoration-none",3,"click"],i,[1,"fa","fa-angle-double-right","ml-1"],[1,"bg-light","card-header","p-0",3,"hidden"],[1,"form-group","row"],[1,"col-md-10"],[1,"input-group",2,"width","600px"],[1,"input-group-prepend"],[1,"input-group-text"],_,["name","statusSelected",1,"custom-select",3,"ngModel","ngModelChange"],["value","NEW"],["value","PROCESSED"],["value","ESCALATED"],["role","button",1,"input-group-append",3,"click"],[1,"fa","fa-search"],I,[1,"fa","fa-calendar"],["type","text","name","startSelected",1,"form-control"],c,["type","text","name","endSelected",1,"form-control"],[1,"input-group-append"],["type","button",1,"btn","btn-secondary",3,"disabled","click"],N,["role","button","data-html","true","data-animation","true","data-trigger","focus","data-toggle","popover","title","tips","data-content","Deletes notifications which have age and is less than the specified one, where the age of Notification is calculated by subtracting its last modification timestamp from the current timestamp. Note that the corresponding transmissions will also be deleted.",1,"fa","fa-question-circle-o","fa-lg"],["type","text","name","ageCleanupAll",1,"form-control"],[1,"fa","fa-trash-o"],C,["role","button","data-html","true","data-animation","true","data-trigger","focus","data-toggle","popover","title","tips","data-content","Deletes the processed notifications if the current timestamp minus their last modification timestamp is less than the age parameter, and the corresponding transmissions will also be deleted. Please notice that this API is only for processed notifications (status = PROCESSED). If the deletion purpose includes each kind of notifications, please refer to cleanupAll.",1,"fa","fa-question-circle-o","fa-lg"],["type","text","name","ageCleanupByStatusIsProcessed",1,"form-control"],["type","button",1,"btn","btn-danger","font-weight-bold",3,"disabled","click"],[1,"card-body","p-0","position-relative"],[1,"table-responsive"],[1,"table","table-hover","text-truncate"],[1,"thead-light"],["scope","col"],["type","checkbox","role","button",3,"checked","click"],g,O,u,A,p,f,P,R,b,M,[3,"table-active",4,"ngFor","ngForOf"],[1,"card-footer","text-muted","p-1"],["aria-label","navigation"],[1,"pagination","justify-content-end","m-0"],[1,"page-item","mr-2","mt-1"],[1,"align-middle"],m,[1,"page-item","mr-2"],["name","pageLimit","id","pageLimit",1,"custom-select",3,"ngModel","ngModelChange"],["value","5"],["value","10"],["value","20"],[1,"page-item","mr-1"],[1,"page-link","btn",3,"disabled","click"],[1,"fa","fa-angle-double-left","mr-1"],E,[1,"page-item"],S,["id","deleteConfirmDialog","data-backdrop","static","data-keyboard","false","tabindex","-1","aria-labelledby","deleteConfirmDialogLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","deleteConfirmDialogLabel",1,"modal-title","text-danger"],[1,"fa","fa-warning","mr-1"],h,[1,"modal-body"],v,[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],L,["type","button",1,"btn","btn-danger",3,"click"],U,[1,"user-select-all"]]},template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e._UZ(2,"i",2),e.TgZ(3,"span"),e.SDv(4,3),e.qZA(),e.TgZ(5,"span",4),e.SDv(6,5),e.qZA(),e.qZA(),e.TgZ(7,"div",6),e.TgZ(8,"div",7),e.TgZ(9,"div",8),e.TgZ(10,"button",9),e.NdJ("click",function(){return n.deleteConfirm()}),e.TgZ(11,"span"),e._UZ(12,"i",10),e.TgZ(13,"span"),e.SDv(14,11),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(15,"a",12),e.NdJ("click",function(){return n.advancedToggle()}),e.TgZ(16,"span"),e.TgZ(17,"span"),e.SDv(18,13),e.qZA(),e._UZ(19,"i",14),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(20,"div",15),e.TgZ(21,"div",7),e.TgZ(22,"form"),e.TgZ(23,"div",16),e.TgZ(24,"div",17),e.TgZ(25,"div",18),e.TgZ(26,"div",19),e.TgZ(27,"span",20),e.SDv(28,21),e.qZA(),e.qZA(),e.TgZ(29,"select",22),e.NdJ("ngModelChange",function(_){return n.statusSelected=_}),e.TgZ(30,"option",23),e._uU(31,"NEW"),e.qZA(),e.TgZ(32,"option",24),e._uU(33,"PROCESSED"),e.qZA(),e.TgZ(34,"option",25),e._uU(35,"ESCALATED"),e.qZA(),e.qZA(),e.TgZ(36,"div",26),e.NdJ("click",function(){return n.searchByStatus()}),e.TgZ(37,"span",20),e._UZ(38,"i",27),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(39,"div",16),e.TgZ(40,"div",17),e.TgZ(41,"div",18),e.TgZ(42,"div",19),e.TgZ(43,"span",20),e.SDv(44,28),e.qZA(),e.qZA(),e.TgZ(45,"div",19),e.TgZ(46,"span",20),e._UZ(47,"i",29),e.qZA(),e.qZA(),e._UZ(48,"input",30),e.TgZ(49,"div",19),e.TgZ(50,"span",20),e.SDv(51,31),e.qZA(),e.qZA(),e.TgZ(52,"div",19),e.TgZ(53,"span",20),e._UZ(54,"i",29),e.qZA(),e.qZA(),e._UZ(55,"input",32),e.TgZ(56,"div",33),e.TgZ(57,"button",34),e.NdJ("click",function(){return n.searchByStartEnd()}),e._UZ(58,"i",27),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(59,"div",16),e.TgZ(60,"div",17),e.TgZ(61,"div",18),e.TgZ(62,"div",19),e.TgZ(63,"span",20),e.TgZ(64,"span"),e.SDv(65,35),e.qZA(),e._uU(66,"\xa0 "),e._UZ(67,"span",36),e.qZA(),e.qZA(),e.TgZ(68,"div",19),e.TgZ(69,"span",20),e._UZ(70,"i",29),e.qZA(),e.qZA(),e._UZ(71,"input",37),e.TgZ(72,"div",33),e.TgZ(73,"button",9),e.NdJ("click",function(){return n.deleteConfirm("age")}),e._UZ(74,"i",38),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(75,"div",16),e.TgZ(76,"div",17),e.TgZ(77,"div",18),e.TgZ(78,"div",19),e.TgZ(79,"span",20),e.TgZ(80,"span"),e.SDv(81,39),e.qZA(),e._uU(82,"\xa0 "),e._UZ(83,"span",40),e.qZA(),e.qZA(),e.TgZ(84,"div",19),e.TgZ(85,"span",20),e._UZ(86,"i",29),e.qZA(),e.qZA(),e._UZ(87,"input",41),e.TgZ(88,"div",33),e.TgZ(89,"button",42),e.NdJ("click",function(){return n.deleteConfirm("status")}),e._UZ(90,"i",38),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(91,"div",43),e.TgZ(92,"div",44),e.TgZ(93,"table",45),e.TgZ(94,"thead",46),e.TgZ(95,"tr"),e.TgZ(96,"th",47),e.TgZ(97,"input",48),e.NdJ("click",function(_){return n.selectAll(_)}),e.qZA(),e.qZA(),e.TgZ(98,"th",47),e._uU(99,"ID"),e.qZA(),e.TgZ(100,"th",47),e.SDv(101,49),e.qZA(),e.TgZ(102,"th",47),e.SDv(103,50),e.qZA(),e.TgZ(104,"th",47),e.SDv(105,51),e.qZA(),e.TgZ(106,"th",47),e.SDv(107,52),e.qZA(),e.TgZ(108,"th",47),e.SDv(109,53),e.qZA(),e.TgZ(110,"th",47),e.SDv(111,54),e.qZA(),e.TgZ(112,"th",47),e.SDv(113,55),e.qZA(),e.TgZ(114,"th",47),e.SDv(115,56),e.qZA(),e.TgZ(116,"th",47),e.SDv(117,57),e.qZA(),e.TgZ(118,"th",47),e.SDv(119,58),e.qZA(),e.qZA(),e.qZA(),e.TgZ(120,"tbody"),e.YNc(121,x,27,20,"tr",59),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(122,"div",60),e.TgZ(123,"nav",61),e.TgZ(124,"ul",62),e.TgZ(125,"li",63),e.TgZ(126,"span",64),e.SDv(127,65),e.qZA(),e.qZA(),e.TgZ(128,"li",66),e.TgZ(129,"select",67),e.NdJ("ngModelChange",function(_){return n.pageLimit=_})("ngModelChange",function(){return n.onPageSelected()}),e.TgZ(130,"option",68),e._uU(131,"5"),e.qZA(),e.TgZ(132,"option",69),e._uU(133,"10"),e.qZA(),e.TgZ(134,"option",70),e._uU(135,"20"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(136,"li",71),e.TgZ(137,"button",72),e.NdJ("click",function(){return n.prePage()}),e._UZ(138,"i",73),e.TgZ(139,"span"),e.SDv(140,74),e.qZA(),e.qZA(),e.qZA(),e.TgZ(141,"li",75),e.TgZ(142,"button",72),e.NdJ("click",function(){return n.nextPage()}),e.TgZ(143,"span"),e.SDv(144,76),e.qZA(),e._UZ(145,"i",14),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(146,"div",77),e.TgZ(147,"div",78),e.TgZ(148,"div",79),e.TgZ(149,"div",80),e.TgZ(150,"h5",81),e._UZ(151,"i",82),e.TgZ(152,"span"),e.SDv(153,83),e.qZA(),e.qZA(),e.qZA(),e.TgZ(154,"div",84),e.SDv(155,85),e.qZA(),e.TgZ(156,"div",86),e.TgZ(157,"button",87),e.SDv(158,88),e.qZA(),e.TgZ(159,"button",89),e.NdJ("click",function(){return n.cleanup()}),e.SDv(160,90),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(10),e.Q6J("disabled",0===n.notificationSelected.length),e.xp6(10),e.Q6J("hidden",!n.advancedOperation),e.xp6(9),e.Q6J("ngModel",n.statusSelected),e.xp6(28),e.Q6J("disabled",!n.startSelected||!n.endSelected),e.xp6(16),e.Q6J("disabled",!n.ageCleanupAll),e.xp6(16),e.Q6J("disabled",!n.ageCleanupByStatusIsProcessed),e.xp6(8),e.Q6J("checked",n.isCheckedAll()),e.xp6(24),e.Q6J("ngForOf",n.notificationList),e.xp6(8),e.Q6J("ngModel",n.pageLimit),e.xp6(8),e.Q6J("disabled",1===n.pagination),e.xp6(5),e.Q6J("disabled",n.pageLimit>n.notificationList.length))},directives:[s._Y,s.JL,s.F,s.EJ,s.JJ,s.On,s.YN,s.Kr,Z.sg],pipes:[Z.uU],styles:[".btn[disabled][_ngcontent-%COMP%]:hover{cursor:not-allowed}"]}),o})(),z=(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-subscription-center"]],decls:1,vars:0,template:function(t,n){1&t&&e._UZ(0,"router-outlet")},directives:[r.lC],styles:[""]}),o})();var F=d(4889);function w(o,T){if(1&o){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e.TgZ(2,"input",23),e.NdJ("click",function(i){const I=e.CHM(t).$implicit;return e.oxw().selectOne(i,I)}),e.qZA(),e.qZA(),e.TgZ(3,"td",66),e._uU(4),e.qZA(),e.TgZ(5,"td",66),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td",67),e.TgZ(14,"span",68),e.NdJ("click",function(){const _=e.CHM(t).$implicit;return e.oxw().checkChannels(_)}),e._UZ(15,"i",69),e._uU(16),e.qZA(),e.qZA(),e.TgZ(17,"td"),e._uU(18),e.qZA(),e.TgZ(19,"td"),e._uU(20),e.qZA(),e.TgZ(21,"td"),e._uU(22),e.qZA(),e.qZA()}if(2&o){const t=T.$implicit,n=e.oxw();e.ekj("table-active",n.isChecked(t.name)),e.xp6(2),e.Q6J("checked",n.isChecked(t.name)),e.xp6(2),e.Oqu(t.id),e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.description),e.xp6(2),e.Oqu(t.categories),e.xp6(2),e.Oqu(t.labels),e.xp6(4),e.hij(" ",t.channels.length," "),e.xp6(2),e.Oqu(t.receiver),e.xp6(2),e.Oqu(t.resendLimit),e.xp6(2),e.Oqu(t.resendInterval)}}let Q=(()=>{class o{constructor(t,n,i,_,I){this.notiSvc=t,this.msgSvc=n,this.route=i,this.router=_,this.errSvc=I,this.subscriptionList=[],this.subscriptionSelected=[],this.pagination=1,this.pageLimit=5,this.pageOffset=(this.pagination-1)*this.pageLimit}ngOnInit(){this.findAllSubscriptionsPagination()}refresh(){this.notiSvc.findAllSubscriptionPagination(this.pageOffset,this.pageLimit).subscribe(t=>{this.subscriptionList=t.subscriptions,this.msgSvc.success("refresh")})}findAllSubscriptionsPagination(){this.notiSvc.findAllSubscriptionPagination(this.pageOffset,this.pageLimit).subscribe(t=>{this.subscriptionList=t.subscriptions})}checkChannels(t){this.router.navigate(["../edit-subscription"],{relativeTo:this.route,queryParams:{subName:t.name}})}isCheckedAll(){let t=!0;return this.subscriptionList&&0===this.subscriptionList.length&&(t=!1),this.subscriptionList.forEach(n=>{-1===this.subscriptionSelected.findIndex(i=>i.id===n.id)&&(t=!1)}),t}selectAll(t){this.subscriptionList.forEach(t.target.checked?i=>{-1===this.subscriptionSelected.findIndex(_=>_.name===i.name)&&this.subscriptionSelected.push(i)}:i=>{let _=this.subscriptionSelected.findIndex(I=>I.name===i.name);-1!==_&&this.subscriptionSelected.splice(_,1)})}isChecked(t){return this.subscriptionSelected.findIndex(n=>n.name===t)>=0}selectOne(t,n){if(t.target.checked)return void this.subscriptionSelected.push(n);let _=this.subscriptionSelected.findIndex(I=>I.name===n.name);-1!==_&&this.subscriptionSelected.splice(_,1)}edit(){this.router.navigate(["../edit-subscription"],{relativeTo:this.route,queryParams:{subName:this.subscriptionSelected[0].name}})}deleteConfirm(){$("#deleteConfirmDialog").modal("show")}deleteSubs(){this.subscriptionSelected.forEach(t=>{this.notiSvc.deleteOneSubscriptionByName(t.name).subscribe(n=>{this.errSvc.handleErrorForAPI(n)||(this.subscriptionList.forEach((i,_)=>{i.name!==t.name||this.subscriptionList.splice(_,1)}),this.msgSvc.success("delete",`name: ${t.name}`),this.resetPagination(),this.findAllSubscriptionsPagination())})}),$("#deleteConfirmDialog").modal("hide")}onPageSelected(){this.resetPagination(),this.setPagination(),this.findAllSubscriptionsPagination()}prePage(){this.setPagination(-1),this.findAllSubscriptionsPagination()}nextPage(){this.setPagination(1),this.findAllSubscriptionsPagination()}setPagination(t){1===t?this.pagination+=1:-1===t&&(this.pagination-=1),this.pageOffset=(this.pagination-1)*this.pageLimit}resetPagination(){this.pagination=1}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(B.T),e.Y36(q.e),e.Y36(r.gz),e.Y36(r.F0),e.Y36(F.T))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-subscription-list"]],decls:93,vars:7,consts:function(){let T,t,n,i,_,I,c,N,C,g,O,u,A,p,f,P,R,b,M,m,E;return T="Subscription List",t="Refresh",n="Add",i="Edit",_="Delete",I="ID",c="Name",N="Description",C="Categories",g="Labels",O="Channels",u="Receiver",A="ResendLimit",p="ResendInterval",f="items per page",P="Previous",R="Next",b="Warning",M=" The data will be permanently erased!!! Are you sure to execute delete operation\uFF1F ",m="Cancel",E="Confirm",[[1,"card"],[1,"card-header"],[1,"fa","fa-list","text-danger","mr-1"],T,[1,"card-body","p-0","position-relative"],[1,"bg-light","px-2","py-2"],["role","group",1,"btn-group","btn-group-sm"],[1,"btn","btn-primary",3,"click"],[1,"fa","fa-refresh","mr-1"],t,["type","button","routerLink","../add-subscription",1,"btn","btn-info"],[1,"fa","fa-plus","mr-1"],n,["type","button",1,"btn","btn-success",3,"disabled","click"],[1,"fa","fa-edit","mr-1"],i,["type","button",1,"btn","btn-danger",3,"disabled","click"],[1,"fa","fa-trash","mr-1"],_,[1,"table-responsive"],[1,"table","table-hover","text-truncate"],[1,"thead-light"],["scope","col"],["type","checkbox","role","button",3,"checked","click"],I,c,N,C,g,O,u,A,p,[3,"table-active",4,"ngFor","ngForOf"],[1,"card-footer","text-muted","p-1"],["aria-label","navigation"],[1,"pagination","justify-content-end","m-0"],[1,"page-item","mr-2","mt-1"],[1,"align-middle"],f,[1,"page-item","mr-2"],["name","pageLimit","id","pageLimit",1,"custom-select",3,"ngModel","ngModelChange"],["value","5"],["value","10"],["value","20"],[1,"page-item","mr-1"],[1,"page-link","btn",3,"disabled","click"],[1,"fa","fa-angle-double-left","mr-1"],P,[1,"page-item"],R,[1,"fa","fa-angle-double-right","ml-1"],["id","deleteConfirmDialog","data-backdrop","static","data-keyboard","false","tabindex","-1","aria-labelledby","deleteConfirmDialogLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","deleteConfirmDialogLabel",1,"modal-title","text-danger"],[1,"fa","fa-warning","mr-1"],b,[1,"modal-body"],M,[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],m,["type","button",1,"btn","btn-danger",3,"click"],E,[1,"user-select-all"],[1,"text-center"],["role","button",1,"badge","badge-primary","text-light",3,"click"],[1,"fa","fa-paper-plane-o"]]},template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e._UZ(2,"i",2),e.TgZ(3,"span"),e.SDv(4,3),e.qZA(),e.qZA(),e.TgZ(5,"div",4),e.TgZ(6,"div",5),e.TgZ(7,"div",6),e.TgZ(8,"button",7),e.NdJ("click",function(){return n.refresh()}),e.TgZ(9,"span"),e._UZ(10,"i",8),e.TgZ(11,"span"),e.SDv(12,9),e.qZA(),e.qZA(),e.qZA(),e.TgZ(13,"button",10),e.TgZ(14,"span"),e._UZ(15,"i",11),e.TgZ(16,"span"),e.SDv(17,12),e.qZA(),e.qZA(),e.qZA(),e.TgZ(18,"button",13),e.NdJ("click",function(){return n.edit()}),e.TgZ(19,"span"),e._UZ(20,"i",14),e.TgZ(21,"span"),e.SDv(22,15),e.qZA(),e.qZA(),e.qZA(),e.TgZ(23,"button",16),e.NdJ("click",function(){return n.deleteConfirm()}),e.TgZ(24,"span"),e._UZ(25,"i",17),e.TgZ(26,"span"),e.SDv(27,18),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(28,"div",19),e.TgZ(29,"table",20),e.TgZ(30,"thead",21),e.TgZ(31,"tr"),e.TgZ(32,"th",22),e.TgZ(33,"input",23),e.NdJ("click",function(_){return n.selectAll(_)}),e.qZA(),e.qZA(),e.TgZ(34,"th",22),e.SDv(35,24),e.qZA(),e.TgZ(36,"th",22),e.SDv(37,25),e.qZA(),e.TgZ(38,"th",22),e.SDv(39,26),e.qZA(),e.TgZ(40,"th",22),e.SDv(41,27),e.qZA(),e.TgZ(42,"th",22),e.SDv(43,28),e.qZA(),e.TgZ(44,"th",22),e.SDv(45,29),e.qZA(),e.TgZ(46,"th",22),e.SDv(47,30),e.qZA(),e.TgZ(48,"th",22),e.SDv(49,31),e.qZA(),e.TgZ(50,"th",22),e.SDv(51,32),e.qZA(),e.qZA(),e.qZA(),e.TgZ(52,"tbody"),e.YNc(53,w,23,12,"tr",33),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(54,"div",34),e.TgZ(55,"nav",35),e.TgZ(56,"ul",36),e.TgZ(57,"li",37),e.TgZ(58,"span",38),e.SDv(59,39),e.qZA(),e.qZA(),e.TgZ(60,"li",40),e.TgZ(61,"select",41),e.NdJ("ngModelChange",function(_){return n.pageLimit=_})("ngModelChange",function(){return n.onPageSelected()}),e.TgZ(62,"option",42),e._uU(63,"5"),e.qZA(),e.TgZ(64,"option",43),e._uU(65,"10"),e.qZA(),e.TgZ(66,"option",44),e._uU(67,"20"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(68,"li",45),e.TgZ(69,"button",46),e.NdJ("click",function(){return n.prePage()}),e._UZ(70,"i",47),e.TgZ(71,"span"),e.SDv(72,48),e.qZA(),e.qZA(),e.qZA(),e.TgZ(73,"li",49),e.TgZ(74,"button",46),e.NdJ("click",function(){return n.nextPage()}),e.TgZ(75,"span"),e.SDv(76,50),e.qZA(),e._UZ(77,"i",51),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(78,"div",52),e.TgZ(79,"div",53),e.TgZ(80,"div",54),e.TgZ(81,"div",55),e.TgZ(82,"h5",56),e._UZ(83,"i",57),e.TgZ(84,"span"),e.SDv(85,58),e.qZA(),e.qZA(),e.qZA(),e.TgZ(86,"div",59),e.SDv(87,60),e.qZA(),e.TgZ(88,"div",61),e.TgZ(89,"button",62),e.SDv(90,63),e.qZA(),e.TgZ(91,"button",64),e.NdJ("click",function(){return n.deleteSubs()}),e.SDv(92,65),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(18),e.Q6J("disabled",1!==n.subscriptionSelected.length),e.xp6(5),e.Q6J("disabled",0===n.subscriptionSelected.length),e.xp6(10),e.Q6J("checked",n.isCheckedAll()),e.xp6(20),e.Q6J("ngForOf",n.subscriptionList),e.xp6(8),e.Q6J("ngModel",n.pageLimit),e.xp6(8),e.Q6J("disabled",1===n.pagination),e.xp6(5),e.Q6J("disabled",n.pageLimit>n.subscriptionList.length))},directives:[r.rH,Z.sg,s.EJ,s.JJ,s.On,s.YN,s.Kr],styles:[""]}),o})();function H(o,T){if(1&o&&e._UZ(0,"span",57),2&o){const t=e.oxw();e.ekj("text-danger",0===t.channelTemplates.length)}}function Y(o,T){if(1&o){const t=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"form"),e.TgZ(2,"div",14),e.TgZ(3,"label",60),e.TgZ(4,"span",16),e.SDv(5,61),e.qZA(),e._UZ(6,"span",62),e.qZA(),e.TgZ(7,"div",10),e.TgZ(8,"input",63),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().$implicit.recipients=i}),e.qZA(),e.TgZ(9,"div",64),e.TgZ(10,"small"),e.SDv(11,65),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(12,"button",66),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit;return e.oxw().removeChannelTemplate(i)}),e._UZ(13,"i",67),e.TgZ(14,"span"),e.SDv(15,68),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=e.oxw().$implicit;e.xp6(8),e.ekj("is-invalid",!t.recipients)("is-valid",t.recipients),e.Q6J("ngModel",t.recipients)}}function j(o,T){if(1&o){const t=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"form"),e.TgZ(2,"div",14),e.TgZ(3,"label",69),e.SDv(4,70),e.qZA(),e.TgZ(5,"div",10),e.TgZ(6,"select",71),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().$implicit.httpMethod=i}),e.TgZ(7,"option",72),e._uU(8,"GET"),e.qZA(),e.TgZ(9,"option",73),e._uU(10,"POST"),e.qZA(),e.TgZ(11,"option",74),e._uU(12,"PUT"),e.qZA(),e.TgZ(13,"option",75),e._uU(14,"DELETE"),e.qZA(),e.TgZ(15,"option",76),e._uU(16,"PATCH"),e.qZA(),e.TgZ(17,"option",77),e._uU(18,"HEAD"),e.qZA(),e.TgZ(19,"option",78),e._uU(20,"TRACE"),e.qZA(),e.TgZ(21,"option",79),e._uU(22,"CONNECT"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(23,"div",7),e.TgZ(24,"label",80),e.SDv(25,81),e.qZA(),e.TgZ(26,"div",10),e.TgZ(27,"input",82),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().$implicit.host=i}),e.qZA(),e.TgZ(28,"div",83),e.TgZ(29,"small"),e.SDv(30,84),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(31,"div",7),e.TgZ(32,"label",85),e.SDv(33,86),e.qZA(),e.TgZ(34,"div",10),e.TgZ(35,"input",87),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().$implicit.port=i}),e.qZA(),e.TgZ(36,"div",88),e.TgZ(37,"small"),e.SDv(38,89),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(39,"div",14),e.TgZ(40,"label",90),e.SDv(41,91),e.qZA(),e.TgZ(42,"div",10),e.TgZ(43,"input",92),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().$implicit.path=i}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(44,"button",66),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit;return e.oxw().removeChannelTemplate(i)}),e._UZ(45,"i",67),e.TgZ(46,"span"),e.SDv(47,93),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=e.oxw().$implicit,n=e.oxw();e.xp6(6),e.Q6J("ngModel",t.httpMethod),e.xp6(21),e.ekj("is-invalid",!t.host)("is-valid",t.host),e.Q6J("ngModel",t.host),e.xp6(8),e.ekj("is-invalid",!n.isPureIntegerType(t.port))("is-valid",n.isPureIntegerType(t.port)),e.Q6J("ngModel",t.port),e.xp6(8),e.Q6J("ngModel",t.path)}}function K(o,T){if(1&o&&(e.TgZ(0,"div",58),e.TgZ(1,"div",6),e.YNc(2,Y,16,5,"div",59),e.YNc(3,j,48,12,"div",59),e.qZA(),e.qZA()),2&o){const t=T.$implicit;e.xp6(2),e.Q6J("ngIf","EMAIL"===t.type),e.xp6(1),e.Q6J("ngIf","REST"===t.type)}}let W=(()=>{class o{constructor(t,n,i,_,I){this.notiSvc=t,this.msgSvc=n,this.errSvc=i,this.route=_,this.router=I,this.channelTemplates=[],this.subCategories="",this.subLabels="",this.subscription={adminState:"UNLOCKED"}}ngOnInit(){this.renderPopoverComponent()}renderPopoverComponent(){setTimeout(()=>{$('[data-toggle="popover"]').popover({trigger:"hover"})},150)}submit(){this.subscription.categories=this.subCategories.split(","),this.subscription.labels=this.subLabels.split(","),this.channelTemplates.forEach((t,n)=>{if("EMAIL"===t.type){let i=t.recipients.toString();t.recipients=i.split(",")}}),this.subscription.channels=this.channelTemplates,this.notiSvc.addOneSubscription(this.subscription).subscribe(t=>{this.errSvc.handleErrorForAPI(t)||(this.msgSvc.success("Add new subscription",`Name: ${this.subscription.name}`),this.router.navigate(["../subscription-list"],{relativeTo:this.route}))})}addChannelTemplate(t){switch(t){case"REST":this.addRESTAddr();break;case"EMAIL":this.addEMAILAddr()}}removeChannelTemplate(t){let n=this.channelTemplates.indexOf(t);-1!==n&&(this.channelTemplates.splice(n,1),this.renderPopoverComponent())}addRESTAddr(){this.channelTemplates.push({type:"REST",httpMethod:"GET"}),this.renderPopoverComponent()}addEMAILAddr(){this.channelTemplates.push({type:"EMAIL"}),this.renderPopoverComponent()}isPureIntegerType(t){return!isNaN(t)&&parseFloat(t)===parseInt(t)}validate(){let t=!1;return 0!==this.channelTemplates.length&&this.channelTemplates.forEach((n,i)=>{("REST"!==n.type||""!==n.path&&n.port)&&("EMAIL"!==n.type||n.recipients)||(t=!0)}),!(!t&&this.subscription.name&&this.subCategories&&this.subLabels&&this.subscription.receiver&&0!==this.channelTemplates.length)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(B.T),e.Y36(q.e),e.Y36(F.T),e.Y36(r.gz),e.Y36(r.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-add-subscription"]],decls:92,vars:30,consts:function(){let T,t,n,i,_,I,c,N,C,g,O,u,A,p,f,P,R,b,M,m,E,S,h,v,L,U,a;return T="Add Subscription",t="Submit",n="Name",i="the subscription name can't be empty!",_="Categories",I="the subscription categories can't be empty!",c="Labels",N="the subscription labels can't be empty!",C="Receiver",g="the subscription receiver can't be empty!",O="ResendInterval",u="ResendLimit",A="AdminState",p="Channels",f="Add Channel Template",P="EMAIL Channel Template",R="REST Channel Template",b="EmailRecipients",M="the email address port can't be empty",m="Remove",E="HttpMethod",S="Host",h="the REST address host can't be empty!",v="Port",L="the REST address port can't be empty and only pure integer is supported!",U="Path",a="Remove",[[1,"card"],[1,"card-header"],[1,"fa","fa-plus","text-danger","mr-2"],T,[1,"btn","btn-sm","btn-success","float-right",3,"disabled","click"],t,[1,"card-body"],[1,"form-group","row","has-validation"],["for","subscriptionName","required","",1,"col-md-2","col-form-label"],n,[1,"col-md-10"],["type","text","id","validationSubscriptionName","name","subscriptionName","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","validationSubscriptionNameFeedback",1,"invalid-feedback"],i,[1,"form-group","row"],["for","subscriptionStart",1,"col-md-2","col-form-label"],[1,"mr-2"],_,["role","button","data-html","true","data-animation","true","data-trigger","focus","data-toggle","popover","title","format tips","data-content","Links the subscription to one or more categories of notification. Multiple categories are separated by commas, such as: xxx,yyy,zzz",1,"fa","fa-question-circle-o","fa-lg"],[1,"input-group","mb-3"],["type","text","name","subscriptionStart","required","",1,"form-control",3,"ngModel","ngModelChange"],I,["for","subscriptionLabels",1,"col-md-2","col-form-label"],c,["role","button","data-html","true","data-animation","true","data-trigger","focus","data-toggle","popover","title","format tips","data-content","Arbitrary labels that can be applied to the subscription for further categorization or identification. Multiple labels are separated by commas, such as: xxx,yyy,zzz",1,"fa","fa-question-circle-o","fa-lg"],["type","text","name","subscriptionLabels",1,"form-control",3,"ngModel","ngModelChange"],N,["for","subscriptionReceiver",1,"col-md-2","col-form-label"],C,["role","button","data-html","true","data-animation","true","data-trigger","focus","data-toggle","popover","title","format tips","data-content","Receiver indicates the name of the party interested in the notification.",1,"fa","fa-question-circle-o","fa-lg"],["type","text","name","subscriptionReceiver","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","validationSubscriptionReceiverFeedback",1,"invalid-feedback"],g,["for","subscriptionResendInterval",1,"col-md-2","col-form-label"],O,["role","button","data-html","true","data-animation","true","data-trigger","focus","data-toggle","popover","title","format tips","data-content",'Subscription ResendInterval indicates how often the specific resource needs to be polled. It represents as a duration string. The format of this field is to be an unsigned integer followed by a unit which may be "ns", "us" (or "\xb5s"), "ms", "s", "m", "h" representing nanoseconds, microseconds, milliseconds, seconds, minutes or hours. Eg, "100ms", "24h"',1,"fa","fa-question-circle-o","fa-lg"],["type","text","name","subscriptionResendInterval","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","subscriptionResendLimit",1,"col-md-2","col-form-label"],u,["role","button","data-html","true","data-animation","true","data-trigger","focus","data-toggle","popover","title","format tips","data-content","Pure integer! Subscription ResendLimit indicates the retry limit for attempts to send notifications.",1,"fa","fa-question-circle-o","fa-lg"],["type","number","name","subscriptionResendLimit","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","subscriptionAdminState",1,"col-md-2","col-form-label"],A,["name","subscriptionAdminState",1,"custom-select",3,"ngModel","ngModelChange"],["value","UNLOCKED"],["value","LOCKED"],["for","subscriptionChannels",1,"col-md-2","col-form-label"],p,f,["class","fa fa-question-circle-o fa-lg","role","button","data-html","false","data-animation","true","data-trigger","focus","data-toggle","popover","title","tips","data-content","At least one channel must be created",3,"text-danger",4,"ngIf"],[1,"mb-3"],["role","button",1,"badge","badge-secondary","mr-2",3,"click"],[1,"fa","fa-plus-circle","mr-1"],P,["role","button",1,"badge","badge-secondary",3,"click"],R,["class","card mb-3",4,"ngFor","ngForOf"],["role","button","data-html","false","data-animation","true","data-trigger","focus","data-toggle","popover","title","tips","data-content","At least one channel must be created",1,"fa","fa-question-circle-o","fa-lg"],[1,"card","mb-3"],[4,"ngIf"],["for","emailRecipients",1,"col-md-2","col-form-label"],b,["role","button","data-html","false","data-animation","true","data-trigger","focus","data-toggle","popover","title","format tips","data-content","Multiple email addresses are separated by commas, such as: xxx@xxx.com, yyy@yyy.com",1,"fa","fa-question-circle-o","fa-lg"],["type","text","id","emailRecipients","name","emailRecipients",1,"form-control",3,"ngModel","ngModelChange"],["id","emailRecipientsFeedback",1,"invalid-feedback"],M,[1,"btn","btn-danger","btn-sm",3,"click"],[1,"fa","fa-trash","mr-1"],m,["for","HttpMethod","required","",1,"col-md-2","col-form-label"],E,["type","text","name","httpMethod",1,"custom-select",3,"ngModel","ngModelChange"],["value","GET"],["value","POST"],["value","PUT"],["value","DELETE"],["value","PATCH"],["value","HEAD"],["value","TRACE"],["value","CONNECT"],["for","addressHostREST","required","",1,"col-md-2","col-form-label"],S,["type","text","id","addressHostREST","name","addressHost","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","addressHostRESTFeedback",1,"invalid-feedback"],h,["for","addressPortREST","required","",1,"col-md-2","col-form-label"],v,["type","number","id","addressPortREST","name","addressPort","placeholder","Pure integer !","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","addressPortRESTFeedback",1,"invalid-feedback"],L,["for","addressPath","required","",1,"col-md-2","col-form-label"],U,["type","text","id","addressPath","name","addressPath",1,"form-control",3,"ngModel","ngModelChange"],a]},template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e._UZ(2,"i",2),e.TgZ(3,"span"),e.SDv(4,3),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return n.submit()}),e.SDv(6,5),e.qZA(),e.qZA(),e.TgZ(7,"div",6),e.TgZ(8,"form"),e.TgZ(9,"div",7),e.TgZ(10,"label",8),e.SDv(11,9),e.qZA(),e.TgZ(12,"div",10),e.TgZ(13,"input",11),e.NdJ("ngModelChange",function(_){return n.subscription.name=_}),e.qZA(),e.TgZ(14,"div",12),e.TgZ(15,"small"),e.SDv(16,13),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(17,"div",14),e.TgZ(18,"label",15),e.TgZ(19,"span",16),e.SDv(20,17),e.qZA(),e._UZ(21,"span",18),e.qZA(),e.TgZ(22,"div",10),e.TgZ(23,"div",19),e.TgZ(24,"input",20),e.NdJ("ngModelChange",function(_){return n.subCategories=_}),e.qZA(),e.TgZ(25,"div",12),e.TgZ(26,"small"),e.SDv(27,21),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(28,"div",14),e.TgZ(29,"label",22),e.TgZ(30,"span",16),e.SDv(31,23),e.qZA(),e._UZ(32,"span",24),e.qZA(),e.TgZ(33,"div",10),e.TgZ(34,"div",19),e.TgZ(35,"input",25),e.NdJ("ngModelChange",function(_){return n.subLabels=_}),e.qZA(),e.TgZ(36,"div",12),e.TgZ(37,"small"),e.SDv(38,26),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(39,"div",14),e.TgZ(40,"label",27),e.TgZ(41,"span",16),e.SDv(42,28),e.qZA(),e._UZ(43,"span",29),e.qZA(),e.TgZ(44,"div",10),e.TgZ(45,"input",30),e.NdJ("ngModelChange",function(_){return n.subscription.receiver=_}),e.qZA(),e.TgZ(46,"div",31),e.TgZ(47,"small"),e.SDv(48,32),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(49,"div",14),e.TgZ(50,"label",33),e.TgZ(51,"span",16),e.SDv(52,34),e.qZA(),e._UZ(53,"span",35),e.qZA(),e.TgZ(54,"div",10),e.TgZ(55,"input",36),e.NdJ("ngModelChange",function(_){return n.subscription.resendInterval=_}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(56,"div",14),e.TgZ(57,"label",37),e.TgZ(58,"span",16),e.SDv(59,38),e.qZA(),e._UZ(60,"span",39),e.qZA(),e.TgZ(61,"div",10),e.TgZ(62,"input",40),e.NdJ("ngModelChange",function(_){return n.subscription.resendLimit=_}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(63,"div",14),e.TgZ(64,"label",41),e.SDv(65,42),e.qZA(),e.TgZ(66,"div",10),e.TgZ(67,"select",43),e.NdJ("ngModelChange",function(_){return n.subscription.adminState=_}),e.TgZ(68,"option",44),e._uU(69,"UNLOCKED"),e.qZA(),e.TgZ(70,"option",45),e._uU(71,"LOCKED"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(72,"div",14),e.TgZ(73,"label",46),e.SDv(74,47),e.qZA(),e.TgZ(75,"div",10),e.TgZ(76,"div",0),e.TgZ(77,"div",1),e.TgZ(78,"span",16),e.SDv(79,48),e.qZA(),e.YNc(80,H,1,2,"span",49),e.qZA(),e.TgZ(81,"div",6),e.TgZ(82,"div",50),e.TgZ(83,"span",51),e.NdJ("click",function(){return n.addChannelTemplate("EMAIL")}),e._UZ(84,"i",52),e.TgZ(85,"span"),e.SDv(86,53),e.qZA(),e.qZA(),e.TgZ(87,"span",54),e.NdJ("click",function(){return n.addChannelTemplate("REST")}),e._UZ(88,"i",52),e.TgZ(89,"span"),e.SDv(90,55),e.qZA(),e.qZA(),e.qZA(),e.YNc(91,K,4,2,"div",56),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(5),e.Q6J("disabled",n.validate()),e.xp6(8),e.ekj("is-invalid",!n.subscription.name)("is-valid",n.subscription.name),e.Q6J("ngModel",n.subscription.name),e.xp6(11),e.ekj("is-invalid",!n.subCategories)("is-valid",n.subCategories),e.Q6J("ngModel",n.subCategories),e.xp6(11),e.ekj("is-invalid",!n.subLabels)("is-valid",n.subLabels),e.Q6J("ngModel",n.subLabels),e.xp6(10),e.ekj("is-invalid",!n.subscription.receiver)("is-valid",n.subscription.receiver),e.Q6J("ngModel",n.subscription.receiver),e.xp6(10),e.Q6J("ngModel",n.subscription.resendInterval),e.xp6(7),e.Q6J("ngModel",n.subscription.resendLimit),e.xp6(5),e.Q6J("ngModel",n.subscription.adminState),e.xp6(10),e.ekj("border",0===n.channelTemplates.length)("border-danger",0===n.channelTemplates.length),e.xp6(3),e.Q6J("ngIf",0===n.channelTemplates.length),e.xp6(11),e.Q6J("ngForOf",n.channelTemplates))},directives:[s._Y,s.JL,s.F,s.Fj,s.Q7,s.JJ,s.On,s.wV,s.EJ,s.YN,s.Kr,Z.O5,Z.sg],styles:[""]}),o})();function V(o,T){if(1&o&&e._UZ(0,"span",57),2&o){const t=e.oxw();e.ekj("text-danger",0===t.channelTemplates.length)}}function ee(o,T){if(1&o){const t=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"form"),e.TgZ(2,"div",14),e.TgZ(3,"label",60),e.TgZ(4,"span",16),e.SDv(5,61),e.qZA(),e._UZ(6,"span",62),e.qZA(),e.TgZ(7,"div",10),e.TgZ(8,"input",63),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().$implicit.recipients=i}),e.qZA(),e.TgZ(9,"div",64),e.TgZ(10,"small"),e.SDv(11,65),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(12,"button",66),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit;return e.oxw().removeChannelTemplate(i)}),e._UZ(13,"i",67),e._uU(14," Remove"),e.qZA(),e.qZA()}if(2&o){const t=e.oxw().$implicit;e.xp6(8),e.ekj("is-invalid",!t.recipients)("is-valid",t.recipients),e.Q6J("ngModel",t.recipients)}}function te(o,T){if(1&o){const t=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"form"),e.TgZ(2,"div",14),e.TgZ(3,"label",68),e.SDv(4,69),e.qZA(),e.TgZ(5,"div",10),e.TgZ(6,"select",70),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().$implicit.httpMethod=i}),e.TgZ(7,"option",71),e._uU(8,"GET"),e.qZA(),e.TgZ(9,"option",72),e._uU(10,"POST"),e.qZA(),e.TgZ(11,"option",73),e._uU(12,"PUT"),e.qZA(),e.TgZ(13,"option",74),e._uU(14,"DELETE"),e.qZA(),e.TgZ(15,"option",75),e._uU(16,"PATCH"),e.qZA(),e.TgZ(17,"option",76),e._uU(18,"HEAD"),e.qZA(),e.TgZ(19,"option",77),e._uU(20,"TRACE"),e.qZA(),e.TgZ(21,"option",78),e._uU(22,"CONNECT"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(23,"div",7),e.TgZ(24,"label",79),e.SDv(25,80),e.qZA(),e.TgZ(26,"div",10),e.TgZ(27,"input",81),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().$implicit.host=i}),e.qZA(),e.TgZ(28,"div",82),e.TgZ(29,"small"),e.SDv(30,83),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(31,"div",7),e.TgZ(32,"label",84),e.SDv(33,85),e.qZA(),e.TgZ(34,"div",10),e.TgZ(35,"input",86),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().$implicit.port=i}),e.qZA(),e.TgZ(36,"div",87),e.TgZ(37,"small"),e.SDv(38,88),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(39,"div",14),e.TgZ(40,"label",89),e.SDv(41,90),e.qZA(),e.TgZ(42,"div",10),e.TgZ(43,"input",91),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().$implicit.path=i}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(44,"button",66),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit;return e.oxw().removeChannelTemplate(i)}),e._UZ(45,"i",92),e.TgZ(46,"span"),e.SDv(47,93),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=e.oxw().$implicit,n=e.oxw();e.xp6(6),e.Q6J("ngModel",t.httpMethod),e.xp6(21),e.ekj("is-invalid",!t.host)("is-valid",t.host),e.Q6J("ngModel",t.host),e.xp6(8),e.ekj("is-invalid",!n.isPureIntegerType(t.port))("is-valid",n.isPureIntegerType(t.port)),e.Q6J("ngModel",t.port),e.xp6(8),e.Q6J("ngModel",t.path)}}function ne(o,T){if(1&o&&(e.TgZ(0,"div",58),e.TgZ(1,"div",6),e.YNc(2,ee,15,5,"div",59),e.YNc(3,te,48,12,"div",59),e.qZA(),e.qZA()),2&o){const t=T.$implicit;e.xp6(2),e.Q6J("ngIf","EMAIL"===t.type),e.xp6(1),e.Q6J("ngIf","REST"===t.type)}}let ie=(()=>{class o{constructor(t,n,i,_,I){this.notiSvc=t,this.msgSvc=n,this.errSvc=i,this.route=_,this.router=I,this.channelTemplates=[],this.subCategories="",this.subLabels="",this.subscription={}}ngOnInit(){this.renderPopoverComponent(),this.route.queryParams.subscribe(t=>{t.subName&&this.notiSvc.findOneSubscriptionByName(t.subName).subscribe(n=>{this.subscription=n.subscription,this.subCategories=this.subscription.categories.toString(),this.subLabels=this.subscription.labels.toString(),this.channelTemplates=this.subscription.channels})})}renderPopoverComponent(){setTimeout(()=>{$('[data-toggle="popover"]').popover({trigger:"hover"})},150)}update(){this.subscription.categories=this.subCategories.split(","),this.subscription.labels=this.subLabels.split(","),this.channelTemplates.forEach((t,n)=>{if("EMAIL"===t.type){let i=t.recipients.toString();t.recipients=i.split(",")}}),this.subscription.channels=this.channelTemplates,this.notiSvc.updateOneSubscription(this.subscription).subscribe(t=>{this.errSvc.handleErrorForAPI(t)||(this.msgSvc.success("Update subscription",`Name: ${this.subscription.name}`),this.router.navigate(["../subscription-list"],{relativeTo:this.route}))})}addChannelTemplate(t){switch(t){case"REST":this.addRESTAddr();break;case"EMAIL":this.addEMAILAddr()}}removeChannelTemplate(t){let n=this.channelTemplates.indexOf(t);-1!==n&&(this.channelTemplates.splice(n,1),this.renderPopoverComponent())}addRESTAddr(){this.channelTemplates.push({type:"REST",httpMethod:"GET"}),this.renderPopoverComponent()}addEMAILAddr(){this.channelTemplates.push({type:"EMAIL"}),this.renderPopoverComponent()}isPureIntegerType(t){return!isNaN(t)&&parseFloat(t)===parseInt(t)}validate(){let t=!1;return 0!==this.channelTemplates.length&&this.channelTemplates.forEach((n,i)=>{("REST"!==n.type||""!==n.path&&n.port)&&("EMAIL"!==n.type||n.recipients)||(t=!0)}),!(!t&&this.subscription.name&&this.subCategories&&this.subLabels&&this.subscription.receiver&&0!==this.channelTemplates.length)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(B.T),e.Y36(q.e),e.Y36(F.T),e.Y36(r.gz),e.Y36(r.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-edit-subscription"]],decls:92,vars:30,consts:function(){let T,t,n,i,_,I,c,N,C,g,O,u,A,p,f,P,R,b,M,m,E,S,h,v,L,U;return T="Edit Subscription",t="Save",n="Name",i="the subscription name can't be empty!",_="Categories",I="the subscription categories can't be empty!",c="Labels",N="the subscription labels can't be empty!",C="Receiver",g="the subscription receiver can't be empty!",O="ResendInterval",u="ResendLimit",A="AdminState",p="Channels",f="Add Channel Template",P="EMAIL Channel Template",R="REST Channel Template",b="EmailRecipients",M="the email address port can't be empty",m="HttpMethod",E="Host",S="the REST address host can't be empty!",h="Port",v="the REST address port can't be empty and only pure integer is supported!",L="Path",U="Remove",[[1,"card"],[1,"card-header"],[1,"fa","fa-edit","text-danger","mr-2"],T,[1,"btn","btn-sm","btn-success","float-right",3,"disabled","click"],t,[1,"card-body"],[1,"form-group","row","has-validation"],["for","subscriptionName","required","",1,"col-md-2","col-form-label"],n,[1,"col-md-10"],["type","text","id","validationSubscriptionName","name","subscriptionName","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","validationSubscriptionNameFeedback",1,"invalid-feedback"],i,[1,"form-group","row"],["for","subscriptionStart",1,"col-md-2","col-form-label"],[1,"mr-2"],_,["role","button","data-html","true","data-animation","true","data-trigger","focus","data-toggle","popover","title","format tips","data-content","Links the subscription to one or more categories of notification. Multiple categories are separated by commas, such as: xxx,yyy,zzz",1,"fa","fa-question-circle-o","fa-lg"],[1,"input-group","mb-3"],["type","text","name","subscriptionStart","required","",1,"form-control",3,"ngModel","ngModelChange"],I,["for","subscriptionLabels",1,"col-md-2","col-form-label"],c,["role","button","data-html","true","data-animation","true","data-trigger","focus","data-toggle","popover","title","format tips","data-content","Arbitrary labels that can be applied to the subscription for further categorization or identification. Multiple labels are separated by commas, such as: xxx,yyy,zzz",1,"fa","fa-question-circle-o","fa-lg"],["type","text","name","subscriptionLabels",1,"form-control",3,"ngModel","ngModelChange"],N,["for","subscriptionReceiver",1,"col-md-2","col-form-label"],C,["role","button","data-html","true","data-animation","true","data-trigger","focus","data-toggle","popover","title","format tips","data-content","Receiver indicates the name of the party interested in the notification.",1,"fa","fa-question-circle-o","fa-lg"],["type","text","name","subscriptionReceiver","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","validationSubscriptionReceiverFeedback",1,"invalid-feedback"],g,["for","subscriptionResendInterval",1,"col-md-2","col-form-label"],O,["role","button","data-html","true","data-animation","true","data-trigger","focus","data-toggle","popover","title","format tips","data-content",'Subscription ResendInterval indicates how often the specific resource needs to be polled. It represents as a duration string. The format of this field is to be an unsigned integer followed by a unit which may be "ns", "us" (or "\xb5s"), "ms", "s", "m", "h" representing nanoseconds, microseconds, milliseconds, seconds, minutes or hours. Eg, "100ms", "24h"',1,"fa","fa-question-circle-o","fa-lg"],["type","text","name","subscriptionResendInterval","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","subscriptionResendLimit",1,"col-md-2","col-form-label"],u,["role","button","data-html","true","data-animation","true","data-trigger","focus","data-toggle","popover","title","format tips","data-content","Pure integer! Subscription ResendLimit indicates the retry limit for attempts to send notifications.",1,"fa","fa-question-circle-o","fa-lg"],["type","number","name","subscriptionResendLimit","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","subscriptionAdminState",1,"col-md-2","col-form-label"],A,["name","subscriptionAdminState",1,"custom-select",3,"ngModel","ngModelChange"],["value","UNLOCKED"],["value","LOCKED"],["for","subscriptionChannels",1,"col-md-2","col-form-label"],p,f,["class","fa fa-question-circle-o fa-lg","role","button","data-html","false","data-animation","true","data-trigger","focus","data-toggle","popover","title","tips","data-content","At least one channel must be created",3,"text-danger",4,"ngIf"],[1,"mb-3"],["role","button",1,"badge","badge-secondary","mr-2",3,"click"],[1,"fa","fa-plus-circle","mr-1"],P,["role","button",1,"badge","badge-secondary",3,"click"],R,["class","card mb-3",4,"ngFor","ngForOf"],["role","button","data-html","false","data-animation","true","data-trigger","focus","data-toggle","popover","title","tips","data-content","At least one channel must be created",1,"fa","fa-question-circle-o","fa-lg"],[1,"card","mb-3"],[4,"ngIf"],["for","emailRecipients",1,"col-md-2","col-form-label"],b,["role","button","data-html","false","data-animation","true","data-trigger","focus","data-toggle","popover","title","format tips","data-content","Multiple email addresses are separated by commas, such as: xxx@xxx.com, yyy@yyy.com",1,"fa","fa-question-circle-o","fa-lg"],["type","text","id","emailRecipients","name","emailRecipients",1,"form-control",3,"ngModel","ngModelChange"],["id","emailRecipientsFeedback",1,"invalid-feedback"],M,[1,"btn","btn-danger","btn-sm",3,"click"],[1,"fa","fa-trash"],["for","HttpMethod","required","",1,"col-md-2","col-form-label"],m,["type","text","name","httpMethod",1,"custom-select",3,"ngModel","ngModelChange"],["value","GET"],["value","POST"],["value","PUT"],["value","DELETE"],["value","PATCH"],["value","HEAD"],["value","TRACE"],["value","CONNECT"],["for","addressHostREST","required","",1,"col-md-2","col-form-label"],E,["type","text","id","addressHostREST","name","addressHost","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","addressHostRESTFeedback",1,"invalid-feedback"],S,["for","addressPortREST","required","",1,"col-md-2","col-form-label"],h,["type","number","id","addressPortREST","name","addressPort","placeholder","Pure integer !","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","addressPortRESTFeedback",1,"invalid-feedback"],v,["for","addressPath","required","",1,"col-md-2","col-form-label"],L,["type","text","id","addressPath","name","addressPath",1,"form-control",3,"ngModel","ngModelChange"],[1,"fa","fa-trash","mr-1"],U]},template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e._UZ(2,"i",2),e.TgZ(3,"span"),e.SDv(4,3),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return n.update()}),e.SDv(6,5),e.qZA(),e.qZA(),e.TgZ(7,"div",6),e.TgZ(8,"form"),e.TgZ(9,"div",7),e.TgZ(10,"label",8),e.SDv(11,9),e.qZA(),e.TgZ(12,"div",10),e.TgZ(13,"input",11),e.NdJ("ngModelChange",function(_){return n.subscription.name=_}),e.qZA(),e.TgZ(14,"div",12),e.TgZ(15,"small"),e.SDv(16,13),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(17,"div",14),e.TgZ(18,"label",15),e.TgZ(19,"span",16),e.SDv(20,17),e.qZA(),e._UZ(21,"span",18),e.qZA(),e.TgZ(22,"div",10),e.TgZ(23,"div",19),e.TgZ(24,"input",20),e.NdJ("ngModelChange",function(_){return n.subCategories=_}),e.qZA(),e.TgZ(25,"div",12),e.TgZ(26,"small"),e.SDv(27,21),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(28,"div",14),e.TgZ(29,"label",22),e.TgZ(30,"span",16),e.SDv(31,23),e.qZA(),e._UZ(32,"span",24),e.qZA(),e.TgZ(33,"div",10),e.TgZ(34,"div",19),e.TgZ(35,"input",25),e.NdJ("ngModelChange",function(_){return n.subLabels=_}),e.qZA(),e.TgZ(36,"div",12),e.TgZ(37,"small"),e.SDv(38,26),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(39,"div",14),e.TgZ(40,"label",27),e.TgZ(41,"span",16),e.SDv(42,28),e.qZA(),e._UZ(43,"span",29),e.qZA(),e.TgZ(44,"div",10),e.TgZ(45,"input",30),e.NdJ("ngModelChange",function(_){return n.subscription.receiver=_}),e.qZA(),e.TgZ(46,"div",31),e.TgZ(47,"small"),e.SDv(48,32),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(49,"div",14),e.TgZ(50,"label",33),e.TgZ(51,"span",16),e.SDv(52,34),e.qZA(),e._UZ(53,"span",35),e.qZA(),e.TgZ(54,"div",10),e.TgZ(55,"input",36),e.NdJ("ngModelChange",function(_){return n.subscription.resendInterval=_}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(56,"div",14),e.TgZ(57,"label",37),e.TgZ(58,"span",16),e.SDv(59,38),e.qZA(),e._UZ(60,"span",39),e.qZA(),e.TgZ(61,"div",10),e.TgZ(62,"input",40),e.NdJ("ngModelChange",function(_){return n.subscription.resendLimit=_}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(63,"div",14),e.TgZ(64,"label",41),e.SDv(65,42),e.qZA(),e.TgZ(66,"div",10),e.TgZ(67,"select",43),e.NdJ("ngModelChange",function(_){return n.subscription.adminState=_}),e.TgZ(68,"option",44),e._uU(69,"UNLOCKED"),e.qZA(),e.TgZ(70,"option",45),e._uU(71,"LOCKED"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(72,"div",14),e.TgZ(73,"label",46),e.SDv(74,47),e.qZA(),e.TgZ(75,"div",10),e.TgZ(76,"div",0),e.TgZ(77,"div",1),e.TgZ(78,"span",16),e.SDv(79,48),e.qZA(),e.YNc(80,V,1,2,"span",49),e.qZA(),e.TgZ(81,"div",6),e.TgZ(82,"div",50),e.TgZ(83,"span",51),e.NdJ("click",function(){return n.addChannelTemplate("EMAIL")}),e._UZ(84,"i",52),e.TgZ(85,"span"),e.SDv(86,53),e.qZA(),e.qZA(),e.TgZ(87,"span",54),e.NdJ("click",function(){return n.addChannelTemplate("REST")}),e._UZ(88,"i",52),e.TgZ(89,"span"),e.SDv(90,55),e.qZA(),e.qZA(),e.qZA(),e.YNc(91,ne,4,2,"div",56),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(5),e.Q6J("disabled",n.validate()),e.xp6(8),e.ekj("is-invalid",!n.subscription.name)("is-valid",n.subscription.name),e.Q6J("ngModel",n.subscription.name),e.xp6(11),e.ekj("is-invalid",!n.subCategories)("is-valid",n.subCategories),e.Q6J("ngModel",n.subCategories),e.xp6(11),e.ekj("is-invalid",!n.subLabels)("is-valid",n.subLabels),e.Q6J("ngModel",n.subLabels),e.xp6(10),e.ekj("is-invalid",!n.subscription.receiver)("is-valid",n.subscription.receiver),e.Q6J("ngModel",n.subscription.receiver),e.xp6(10),e.Q6J("ngModel",n.subscription.resendInterval),e.xp6(7),e.Q6J("ngModel",n.subscription.resendLimit),e.xp6(5),e.Q6J("ngModel",n.subscription.adminState),e.xp6(10),e.ekj("border",0===n.channelTemplates.length)("border-danger",0===n.channelTemplates.length),e.xp6(3),e.Q6J("ngIf",0===n.channelTemplates.length),e.xp6(11),e.Q6J("ngForOf",n.channelTemplates))},directives:[s._Y,s.JL,s.F,s.Fj,s.Q7,s.JJ,s.On,s.wV,s.EJ,s.YN,s.Kr,Z.O5,Z.sg],styles:[""]}),o})();var _e=d(8253),oe=d(1964),Te=d(4294),ae=d(5894),se=d(7216);let G=(()=>{class o{constructor(t,n){this.router=t,this.notiSvc=n}canActivate(t,n){return this.checkAvailable(t,n)}canActivateChild(t,n){return this.canActivate(t,n)}checkAvailable(t,n){return this.notiSvc.ping().pipe((0,Te.q)(1),(0,ae.K)(i=>this.router.navigate(["/svc-unavailable"],{queryParams:{svcName:"notification",routerPath:`/${n.url.split("/")[1]}`}})),(0,se.z)(()=>(0,oe.of)(!0)))}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(r.F0),e.LFG(B.T))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const Ie=[{path:"",component:X,canActivate:[_e.a,G],canActivateChild:[G],children:[{path:"",redirectTo:"notification-center",pathMatch:"full"},{path:"notification-center",component:k,children:[{path:"",component:J}]},{path:"subscription-center",component:z,children:[{path:"",redirectTo:"subscription-list",pathMatch:"full"},{path:"subscription-list",component:Q},{path:"add-subscription",component:W},{path:"edit-subscription",component:ie}]}]}];let Se=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[r.Bz.forChild(Ie)],r.Bz]}),o})(),le=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[Z.ez,s.u5,Se]]}),o})()}}]);