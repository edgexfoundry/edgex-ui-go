"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[536],{5886:(Ee,b,g)=>{g.r(b),g.d(b,{SchedulerModule:()=>dt});var I=g(8583),l=g(3092),s=g(9502),e=g(476);let q=(()=>{class _{constructor(){}ngOnInit(){}}return _.\u0275fac=function(t){return new(t||_)},_.\u0275cmp=e.Xpm({type:_,selectors:[["app-scheduler"]],decls:13,vars:0,consts:function(){let a,t;return a="Interval",t="IntervalAction",[[1,"card"],[1,"card-header"],[1,"nav","nav-tabs","card-header-tabs","font-weight-bold"],[1,"nav-item"],["routerLink","./interval-center","routerLinkActive","active",1,"nav-link"],a,["routerLink","./interval-action-center","routerLinkActive","active",1,"nav-link"],t,[1,"card-body"]]},template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"ul",2),e.TgZ(3,"li",3),e.TgZ(4,"a",4),e.TgZ(5,"span"),e.SDv(6,5),e.qZA(),e.qZA(),e.qZA(),e.TgZ(7,"li",3),e.TgZ(8,"a",6),e.TgZ(9,"span"),e.SDv(10,7),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(11,"div",8),e._UZ(12,"router-outlet"),e.qZA(),e.qZA())},directives:[s.yS,s.Od,s.lC],styles:[""]}),_})(),D=(()=>{class _{constructor(){}ngOnInit(){}}return _.\u0275fac=function(t){return new(t||_)},_.\u0275cmp=e.Xpm({type:_,selectors:[["app-interval-center"]],decls:1,vars:0,template:function(t,n){1&t&&e._UZ(0,"router-outlet")},directives:[s.lC],styles:[""]}),_})();var h=g(8391),T=g(7822),p=g(4889);function u(_,a){if(1&_){const t=e.EpF();e.TgZ(0,"div",50),e.TgZ(1,"div",51),e.TgZ(2,"button",52),e.NdJ("click",function(){return e.CHM(t),e.oxw().refresh()}),e.TgZ(3,"span"),e._UZ(4,"i",53),e.TgZ(5,"span"),e.SDv(6,54),e.qZA(),e.qZA(),e.qZA(),e.TgZ(7,"button",55),e.TgZ(8,"span"),e._UZ(9,"i",56),e.TgZ(10,"span"),e.SDv(11,57),e.qZA(),e.qZA(),e.qZA(),e.TgZ(12,"button",58),e.NdJ("click",function(){return e.CHM(t),e.oxw().edit()}),e.TgZ(13,"span"),e._UZ(14,"i",59),e.TgZ(15,"span"),e.SDv(16,60),e.qZA(),e.qZA(),e.qZA(),e.TgZ(17,"button",61),e.NdJ("click",function(){return e.CHM(t),e.oxw().deleteConfirm()}),e.TgZ(18,"span"),e._UZ(19,"i",62),e.TgZ(20,"span"),e.SDv(21,63),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&_){const t=e.oxw();e.xp6(12),e.Q6J("disabled",1!==t.intervalSelected.length),e.xp6(5),e.Q6J("disabled",0===t.intervalSelected.length)}}function O(_,a){if(1&_){const t=e.EpF();e.TgZ(0,"input",64),e.NdJ("click",function(i){return e.CHM(t),e.oxw().selectAll(i)}),e.qZA()}if(2&_){const t=e.oxw();e.Q6J("checked",t.isCheckedAll())}}function V(_,a){if(1&_){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e.TgZ(2,"input",64),e.NdJ("click",function(i){const r=e.CHM(t).$implicit;return e.oxw().selectOne(i,r)}),e.qZA(),e.qZA(),e.TgZ(3,"td",65),e._uU(4),e.qZA(),e.TgZ(5,"td",65),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.qZA()}if(2&_){const t=a.$implicit,n=e.oxw();e.ekj("table-active",n.isChecked(t.name)),e.xp6(2),e.Q6J("checked",n.isChecked(t.name)),e.xp6(2),e.Oqu(t.id),e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.start),e.xp6(2),e.Oqu(t.end),e.xp6(2),e.Oqu(t.interval),e.xp6(2),e.Oqu(!!t.runOnce)}}let y=(()=>{class _{constructor(t,n,i,o,r){this.schedulerSvc=t,this.msgSvc=n,this.route=i,this.router=o,this.errSvc=r,this.enableSelectAll=!0,this.singleIntervalSelectedEvent=new e.vpe,this.toolbars=!0,this.intervalList=[],this.intervalSelected=[],this.pagination=1,this.pageLimit=5,this.pageOffset=(this.pagination-1)*this.pageLimit}ngOnInit(){this.route.queryParams.subscribe(t=>{t.intervalName?this.schedulerSvc.findIntervalByName(t.intervalName).subscribe(n=>{this.intervalList=[],this.intervalList.push(n.interval)}):this.findIntervalsPagination()})}refresh(){this.schedulerSvc.findAllIntervalsPagination(0,this.pageLimit).subscribe(t=>{this.errSvc.handleErrorForAPI(t)||(this.intervalList=t.intervals,this.msgSvc.success("refresh"),this.resetPagination())})}findIntervalsPagination(){this.schedulerSvc.findAllIntervalsPagination(this.pageOffset,this.pageLimit).subscribe(t=>{this.errSvc.handleErrorForAPI(t)||(this.intervalList=t.intervals)})}onSingleIntervalSelectedEmitter(){this.singleIntervalSelectedEvent.emit(this.singleIntervalSelected)}isSingleChecked(t){var n;return(null===(n=this.singleIntervalSelected)||void 0===n?void 0:n.name)===t}selectSingleInterval(t,n){t.target.checked?this.intervalList.forEach(o=>{o.name===n&&(this.singleIntervalSelected=o)}):this.singleIntervalSelected={},this.onSingleIntervalSelectedEmitter()}isCheckedAll(){let t=!0;return this.intervalList&&0===this.intervalList.length&&(t=!1),this.intervalList.forEach(n=>{-1===this.intervalSelected.findIndex(i=>i.name===n.name)&&(t=!1)}),t}selectAll(t){this.intervalList.forEach(t.target.checked?i=>{-1===this.intervalSelected.findIndex(o=>o.name===i.name)&&this.intervalSelected.push(i)}:i=>{let o=this.intervalSelected.findIndex(r=>r.name===i.name);-1!==o&&this.intervalSelected.splice(o,1)})}isChecked(t){return this.enableSelectAll?this.intervalSelected.findIndex(n=>n.name===t)>=0:this.isSingleChecked(t)}selectOne(t,n){if(!this.enableSelectAll)return void this.selectSingleInterval(t,n.name);if(t.target.checked)return void this.intervalSelected.push(n);let o=this.intervalSelected.findIndex(r=>r.name===n.name);-1!==o&&this.intervalSelected.splice(o,1)}edit(){this.router.navigate(["../edit-interval"],{relativeTo:this.route,queryParams:{intervalName:this.intervalSelected[0].name}})}deleteConfirm(){$("#deleteConfirmDialog").modal("show")}deleteIntervals(){this.intervalSelected.forEach((t,n)=>{this.schedulerSvc.deleteIntervalByName(t.name).subscribe(i=>{this.errSvc.handleErrorForAPI(i)||(this.intervalSelected.splice(n,1),this.intervalList.forEach((o,r)=>{o.name!==t.name||this.intervalList.splice(r,1)}),this.msgSvc.success("delete",`name: ${t.name}`),this.resetPagination(),this.findIntervalsPagination())})}),$("#deleteConfirmDialog").modal("hide")}onPageSelected(){this.resetPagination(),this.setPagination(),this.findIntervalsPagination()}prePage(){this.setPagination(-1),this.findIntervalsPagination()}nextPage(){this.setPagination(1),this.findIntervalsPagination()}setPagination(t){1===t?this.pagination+=1:-1===t&&(this.pagination-=1),this.pageOffset=(this.pagination-1)*this.pageLimit}resetPagination(){this.pagination=1}}return _.\u0275fac=function(t){return new(t||_)(e.Y36(h.G),e.Y36(T.e),e.Y36(s.gz),e.Y36(s.F0),e.Y36(p.T))},_.\u0275cmp=e.Xpm({type:_,selectors:[["app-interval-list"]],inputs:{enableSelectAll:"enableSelectAll",toolbars:"toolbars",singleIntervalSelected:"singleIntervalSelected"},outputs:{singleIntervalSelectedEvent:"singleIntervalSelectedEvent"},decls:66,vars:6,consts:function(){let a,t,n,i,o,r,N,A,v,m,f,S,R,Z,L,M,c,E;return a="Interval List",t="ID",n="Name",i="Start",o="End",r="Interval",N="RunOnce",A="items per page",v="Previous",m="Next",f="Warning",S=" Associated actions will also be deleted and the data will be permanently erased!!! Are you sure to execute delete operation\uFF1F ",R="Cancel",Z="Confirm",L="Refresh",M="Add",c="Edit",E="Delete",[[1,"card"],[1,"card-header"],[1,"fa","fa-list","text-danger"],a,[1,"card-body","p-0","position-relative"],["class","bg-light px-2 py-2",4,"ngIf"],[1,"table-responsive"],[1,"table","table-hover","text-truncate"],[1,"thead-light"],["scope","col"],["type","checkbox","role","button",3,"checked","click",4,"ngIf"],t,n,i,o,r,N,[3,"table-active",4,"ngFor","ngForOf"],[1,"card-footer","text-muted","p-1"],["aria-label","navigation"],[1,"pagination","justify-content-end","m-0"],[1,"page-item","mr-2","mt-1"],[1,"align-middle"],A,[1,"page-item","mr-2"],["name","pageLimit","id","pageLimit",1,"custom-select",3,"ngModel","ngModelChange"],["value","5"],["value","10"],["value","20"],[1,"page-item","mr-1"],[1,"page-link","btn",3,"disabled","click"],[1,"fa","fa-angle-double-left","mr-1"],v,[1,"page-item"],m,[1,"fa","fa-angle-double-right","ml-1"],["id","deleteConfirmDialog","data-backdrop","static","data-keyboard","false","tabindex","-1","aria-labelledby","deleteConfirmDialogLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","deleteConfirmDialogLabel",1,"modal-title","text-danger"],[1,"fa","fa-warning","mr-1"],f,[1,"modal-body"],S,[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],R,["type","button",1,"btn","btn-danger",3,"click"],Z,[1,"bg-light","px-2","py-2"],["role","group",1,"btn-group","btn-group-sm"],[1,"btn","btn-primary",3,"click"],[1,"fa","fa-refresh","mr-1"],L,["type","button","routerLink","../add-interval",1,"btn","btn-info"],[1,"fa","fa-plus","mr-1"],M,["type","button",1,"btn","btn-success",3,"disabled","click"],[1,"fa","fa-edit","mr-1"],c,["type","button",1,"btn","btn-danger",3,"disabled","click"],[1,"fa","fa-trash","mr-1"],E,["type","checkbox","role","button",3,"checked","click"],[1,"user-select-all"]]},template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e._UZ(2,"i",2),e.TgZ(3,"span"),e.SDv(4,3),e.qZA(),e.qZA(),e.TgZ(5,"div",4),e.YNc(6,u,22,2,"div",5),e.TgZ(7,"div",6),e.TgZ(8,"table",7),e.TgZ(9,"thead",8),e.TgZ(10,"tr"),e.TgZ(11,"th",9),e.YNc(12,O,1,1,"input",10),e.qZA(),e.TgZ(13,"th",9),e.SDv(14,11),e.qZA(),e.TgZ(15,"th",9),e.SDv(16,12),e.qZA(),e.TgZ(17,"th",9),e.SDv(18,13),e.qZA(),e.TgZ(19,"th",9),e.SDv(20,14),e.qZA(),e.TgZ(21,"th",9),e.SDv(22,15),e.qZA(),e.TgZ(23,"th",9),e.SDv(24,16),e.qZA(),e.qZA(),e.qZA(),e.TgZ(25,"tbody"),e.YNc(26,V,15,9,"tr",17),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(27,"div",18),e.TgZ(28,"nav",19),e.TgZ(29,"ul",20),e.TgZ(30,"li",21),e.TgZ(31,"span",22),e.SDv(32,23),e.qZA(),e.qZA(),e.TgZ(33,"li",24),e.TgZ(34,"select",25),e.NdJ("ngModelChange",function(o){return n.pageLimit=o})("ngModelChange",function(){return n.onPageSelected()}),e.TgZ(35,"option",26),e._uU(36,"5"),e.qZA(),e.TgZ(37,"option",27),e._uU(38,"10"),e.qZA(),e.TgZ(39,"option",28),e._uU(40,"20"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(41,"li",29),e.TgZ(42,"button",30),e.NdJ("click",function(){return n.prePage()}),e._UZ(43,"i",31),e.TgZ(44,"span"),e.SDv(45,32),e.qZA(),e.qZA(),e.qZA(),e.TgZ(46,"li",33),e.TgZ(47,"button",30),e.NdJ("click",function(){return n.nextPage()}),e.TgZ(48,"span"),e.SDv(49,34),e.qZA(),e._UZ(50,"i",35),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(51,"div",36),e.TgZ(52,"div",37),e.TgZ(53,"div",38),e.TgZ(54,"div",39),e.TgZ(55,"h5",40),e._UZ(56,"i",41),e.TgZ(57,"span"),e.SDv(58,42),e.qZA(),e.qZA(),e.qZA(),e.TgZ(59,"div",43),e.SDv(60,44),e.qZA(),e.TgZ(61,"div",45),e.TgZ(62,"button",46),e.SDv(63,47),e.qZA(),e.TgZ(64,"button",48),e.NdJ("click",function(){return n.deleteIntervals()}),e.SDv(65,49),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(6),e.Q6J("ngIf",n.toolbars),e.xp6(6),e.Q6J("ngIf",n.enableSelectAll),e.xp6(14),e.Q6J("ngForOf",n.intervalList),e.xp6(8),e.Q6J("ngModel",n.pageLimit),e.xp6(8),e.Q6J("disabled",1===n.pagination),e.xp6(5),e.Q6J("disabled",n.pageLimit>n.intervalList.length))},directives:[I.O5,I.sg,l.EJ,l.JJ,l.On,l.YN,l.Kr,s.rH],styles:[".btn[disabled][_ngcontent-%COMP%]:hover{cursor:not-allowed}"]}),_})();var P=g(9827);let Ce=(()=>{class _{constructor(t,n,i,o,r){this.schedulerSvc=t,this.msgSvc=n,this.route=i,this.router=o,this.errSvc=r,this.interval={}}ngOnInit(){$('[data-toggle="popover"]').popover({trigger:"hover"}),this.initDatePickr()}initDatePickr(){this.calendarStart=(0,P.Z)("input[name='intervalStart']",{dateFormat:"YmdTHiS",enableTime:!0,enableSeconds:!0,time_24hr:!0,allowInput:!1}),this.calendarEnd=(0,P.Z)("input[name='intervalEnd']",{dateFormat:"YmdTHiS",enableTime:!0,enableSeconds:!0,time_24hr:!0,allowInput:!1})}submit(){this.schedulerSvc.addInterval(this.interval).subscribe(t=>{this.errSvc.handleErrorForAPI(t)||(this.msgSvc.success("create new interval",`name: ${this.interval.name}`),this.router.navigate(["../interval-list"],{relativeTo:this.route}))})}ngOnDestroy(){$('[data-toggle="popover"]').popover("dispose")}}return _.\u0275fac=function(t){return new(t||_)(e.Y36(h.G),e.Y36(T.e),e.Y36(s.gz),e.Y36(s.F0),e.Y36(p.T))},_.\u0275cmp=e.Xpm({type:_,selectors:[["app-add-interval"]],decls:54,vars:16,consts:function(){let a,t,n,i,o,r,N;return a="Add Interval",t="Submit",n="Name",i="Start",o="End",r="Interval",N="RunOnce",[[1,"card"],[1,"card-header"],[1,"fa","fa-plus","text-danger","mr-1"],a,[1,"btn","btn-sm","btn-success","float-right",3,"disabled","click"],t,[1,"card-body"],[1,"form-group","row","has-validation"],["for","intervalName","required","",1,"col-md-2","col-form-label"],n,[1,"col-md-10"],["type","text","id","validationIntervalName","name","intervalName","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","validationIntervalNameFeedback",1,"invalid-feedback"],[1,"form-group","row"],["for","intervalStart",1,"col-md-2","col-form-label"],i,[1,"input-group","mb-3"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"fa","fa-calendar"],["type","text","name","intervalStart",1,"form-control",3,"ngModel","ngModelChange"],["for","intervalEnd",1,"col-md-2","col-form-label"],o,["type","text","name","intervalEnd",1,"form-control",3,"ngModel","ngModelChange"],["for","intervalInterval",1,"col-md-2","col-form-label"],[1,"mr-2"],r,["role","button","data-html","true","data-animation","true","data-trigger","focus","data-toggle","popover","title","format tips","data-content",'Interval indicates how often the specific resource needs to be polled. It represents as a duration string. The format of this field is to be an unsigned integer followed by a unit which may be "ns", "us" (or "\xb5s"), "ms", "s", "m", "h" representing nanoseconds, microseconds, milliseconds, seconds, minutes or hours. Eg, "100ms", "24h"',1,"fa","fa-question-circle-o","fa-lg"],["type","text","name","intervalInterval","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","validationIntervalIntervalFeedback",1,"invalid-feedback"],["for","intervalRunOnce",1,"col-md-2","col-form-label"],N,["name","intervalRunOnce",1,"custom-select",3,"ngModel","ngModelChange"],[3,"ngValue"]]},template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e._UZ(2,"i",2),e.TgZ(3,"span"),e.SDv(4,3),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return n.submit()}),e.SDv(6,5),e.qZA(),e.qZA(),e.TgZ(7,"div",6),e.TgZ(8,"form"),e.TgZ(9,"div",7),e.TgZ(10,"label",8),e.SDv(11,9),e.qZA(),e.TgZ(12,"div",10),e.TgZ(13,"input",11),e.NdJ("ngModelChange",function(o){return n.interval.name=o}),e.qZA(),e.TgZ(14,"div",12),e.TgZ(15,"small"),e._uU(16,"the interval name can't be empty!"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(17,"div",13),e.TgZ(18,"label",14),e.SDv(19,15),e.qZA(),e.TgZ(20,"div",10),e.TgZ(21,"div",16),e.TgZ(22,"div",17),e.TgZ(23,"span",18),e._UZ(24,"i",19),e.qZA(),e.qZA(),e.TgZ(25,"input",20),e.NdJ("ngModelChange",function(o){return n.interval.start=o}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(26,"div",13),e.TgZ(27,"label",21),e.SDv(28,22),e.qZA(),e.TgZ(29,"div",10),e.TgZ(30,"div",16),e.TgZ(31,"div",17),e.TgZ(32,"span",18),e._UZ(33,"i",19),e.qZA(),e.qZA(),e.TgZ(34,"input",23),e.NdJ("ngModelChange",function(o){return n.interval.end=o}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(35,"div",13),e.TgZ(36,"label",24),e.TgZ(37,"span",25),e.SDv(38,26),e.qZA(),e._UZ(39,"span",27),e.qZA(),e.TgZ(40,"div",10),e.TgZ(41,"input",28),e.NdJ("ngModelChange",function(o){return n.interval.interval=o}),e.qZA(),e.TgZ(42,"div",29),e.TgZ(43,"small"),e._uU(44,"the interval interval can't be empty!"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(45,"div",13),e.TgZ(46,"label",30),e.SDv(47,31),e.qZA(),e.TgZ(48,"div",10),e.TgZ(49,"select",32),e.NdJ("ngModelChange",function(o){return n.interval.runOnce=o}),e.TgZ(50,"option",33),e._uU(51,"false"),e.qZA(),e.TgZ(52,"option",33),e._uU(53,"true"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(5),e.Q6J("disabled",!n.interval.name||!n.interval.interval),e.xp6(8),e.ekj("is-invalid",!n.interval.name)("is-valid",n.interval.name),e.Q6J("ngModel",n.interval.name),e.xp6(12),e.Q6J("ngModel",n.interval.start),e.xp6(9),e.Q6J("ngModel",n.interval.end),e.xp6(7),e.ekj("is-invalid",!n.interval.interval)("is-valid",n.interval.interval),e.Q6J("ngModel",n.interval.interval),e.xp6(8),e.Q6J("ngModel",n.interval.runOnce),e.xp6(1),e.Q6J("ngValue",!1),e.xp6(2),e.Q6J("ngValue",!0))},directives:[l._Y,l.JL,l.F,l.Fj,l.Q7,l.JJ,l.On,l.EJ,l.YN,l.Kr],styles:[".btn[disabled][_ngcontent-%COMP%]:hover{cursor:not-allowed}"]}),_})();function Ne(_,a){if(1&_){const t=e.EpF();e.TgZ(0,"form"),e.TgZ(1,"div",8),e.TgZ(2,"label",9),e.SDv(3,10),e.qZA(),e.TgZ(4,"div",11),e.TgZ(5,"input",12),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().interval.name=i}),e.qZA(),e.TgZ(6,"div",13),e.TgZ(7,"small"),e._uU(8,"the interval name can't be empty!"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(9,"div",14),e.TgZ(10,"label",15),e.SDv(11,16),e.qZA(),e.TgZ(12,"div",11),e.TgZ(13,"div",17),e.TgZ(14,"div",18),e.TgZ(15,"span",19),e._UZ(16,"i",20),e.qZA(),e.qZA(),e.TgZ(17,"input",21),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().interval.start=i}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(18,"div",14),e.TgZ(19,"label",22),e.SDv(20,23),e.qZA(),e.TgZ(21,"div",11),e.TgZ(22,"div",17),e.TgZ(23,"div",18),e.TgZ(24,"span",19),e._UZ(25,"i",20),e.qZA(),e.qZA(),e.TgZ(26,"input",24),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().interval.end=i}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(27,"div",14),e.TgZ(28,"label",25),e.TgZ(29,"span",26),e.SDv(30,27),e.qZA(),e._UZ(31,"span",28),e.qZA(),e.TgZ(32,"div",11),e.TgZ(33,"input",29),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().interval.interval=i}),e.qZA(),e.TgZ(34,"div",30),e.TgZ(35,"small"),e._uU(36,"the interval interval can't be empty!"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(37,"div",14),e.TgZ(38,"label",31),e.SDv(39,32),e.qZA(),e.TgZ(40,"div",11),e.TgZ(41,"select",33),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().interval.runOnce=i}),e.TgZ(42,"option",34),e._uU(43,"false"),e.qZA(),e.TgZ(44,"option",34),e._uU(45,"true"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&_){const t=e.oxw();e.xp6(5),e.ekj("is-invalid",!t.interval.name)("is-valid",t.interval.name),e.Q6J("ngModel",t.interval.name),e.xp6(12),e.Q6J("ngModel",t.interval.start),e.xp6(9),e.Q6J("ngModel",t.interval.end),e.xp6(7),e.ekj("is-invalid",!t.interval.interval)("is-valid",t.interval.interval),e.Q6J("ngModel",t.interval.interval),e.xp6(8),e.Q6J("ngModel",t.interval.runOnce),e.xp6(1),e.Q6J("ngValue",!1),e.xp6(2),e.Q6J("ngValue",!0)}}let Ie=(()=>{class _{constructor(t,n,i,o,r){this.schedulerSvc=t,this.msgSvc=n,this.route=i,this.router=o,this.errSvc=r}ngOnInit(){this.route.queryParams.subscribe(t=>{t.intervalName&&this.schedulerSvc.findIntervalByName(t.intervalName).subscribe(n=>{this.errSvc.handleErrorForAPI(n)||(this.interval=n.interval,this.interval.runOnce=!!this.interval.runOnce,setTimeout(()=>{this.initDatePickr()},300))})})}initDatePickr(){$('[data-toggle="popover"]').popover({trigger:"hover"}),this.calendarStart=(0,P.Z)("input[name='intervalStart']",{dateFormat:"YmdTHiS",enableTime:!0,enableSeconds:!0,time_24hr:!0,allowInput:!1}),this.calendarEnd=(0,P.Z)("input[name='intervalEnd']",{dateFormat:"YmdTHiS",enableTime:!0,enableSeconds:!0,time_24hr:!0,allowInput:!1})}update(){this.schedulerSvc.updateInterval(this.interval).subscribe(t=>{var n;this.errSvc.handleErrorForAPI(t)||(this.msgSvc.success("update interval",`name: ${null===(n=this.interval)||void 0===n?void 0:n.name}`),this.router.navigate(["../interval-list"],{relativeTo:this.route}))})}ngOnDestroy(){$('[data-toggle="popover"]').popover("dispose")}}return _.\u0275fac=function(t){return new(t||_)(e.Y36(h.G),e.Y36(T.e),e.Y36(s.gz),e.Y36(s.F0),e.Y36(p.T))},_.\u0275cmp=e.Xpm({type:_,selectors:[["app-edit-interval"]],decls:10,vars:3,consts:function(){let a,t,n,i,o,r,N;return a="Edit Interval",t="Submit",n="Name",i="Start",o="End",r="Interval",N="RunOnce",[[1,"card"],[1,"card-header"],[1,"fa","fa-edit","text-danger"],a,[1,"btn","btn-sm","btn-success","float-right",3,"disabled","click"],t,[1,"card-body"],[4,"ngIf"],[1,"form-group","row","has-validation"],["for","intervalName","required","",1,"col-md-2","col-form-label"],n,[1,"col-md-10"],["type","text","name","intervalName",1,"form-control",3,"ngModel","ngModelChange"],["id","validationIntervalNameFeedback",1,"invalid-feedback"],[1,"form-group","row"],["for","intervalStart",1,"col-md-2","col-form-label"],i,[1,"input-group","mb-3"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"fa","fa-calendar"],["type","text","name","intervalStart",1,"form-control",3,"ngModel","ngModelChange"],["for","intervalEnd2",1,"col-md-2","col-form-label"],o,["type","text","name","intervalEnd",1,"form-control",3,"ngModel","ngModelChange"],["for","intervalInterval",1,"col-md-2","col-form-label"],[1,"mr-2"],r,["role","button","data-html","true","data-animation","true","data-trigger","focus","data-toggle","popover","title","ISO8601 duration format","data-content",'Interval indicates how often the specific resource needs to be polled. It represents as a duration string. The format of this field is to be an unsigned integer followed by a unit which may be "ns", "us" (or "\xb5s"), "ms", "s", "m", "h" representing nanoseconds, microseconds, milliseconds, seconds, minutes or hours. Eg, "100ms", "24h"',1,"fa","fa-question-circle-o","fa-lg"],["type","text","name","intervalInterval","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","validationIntervalIntervalFeedback",1,"invalid-feedback"],["for","intervalRunOnce",1,"col-md-2","col-form-label"],N,["name","intervalRunOnce",1,"custom-select",3,"ngModel","ngModelChange"],[3,"ngValue"]]},template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e._UZ(2,"i",2),e.TgZ(3,"span"),e.SDv(4,3),e.qZA(),e._uU(5),e.TgZ(6,"button",4),e.NdJ("click",function(){return n.update()}),e.SDv(7,5),e.qZA(),e.qZA(),e.TgZ(8,"div",6),e.YNc(9,Ne,46,15,"form",7),e.qZA(),e.qZA()),2&t&&(e.xp6(5),e.hij(" ",null==n.interval?null:n.interval.name," "),e.xp6(1),e.Q6J("disabled",!(null!=n.interval&&n.interval.name)),e.xp6(3),e.Q6J("ngIf",n.interval))},directives:[I.O5,l._Y,l.JL,l.F,l.Fj,l.JJ,l.On,l.Q7,l.EJ,l.YN,l.Kr],styles:[".btn[disabled][_ngcontent-%COMP%]:hover{cursor:not-allowed}"]}),_})(),ue=(()=>{class _{constructor(){}ngOnInit(){}}return _.\u0275fac=function(t){return new(t||_)},_.\u0275cmp=e.Xpm({type:_,selectors:[["app-interval-action-center"]],decls:1,vars:0,template:function(t,n){1&t&&e._UZ(0,"router-outlet")},directives:[s.lC],styles:[""]}),_})();const ve=function(_){return{intervalName:_}};function me(_,a){if(1&_){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e.TgZ(2,"input",23),e.NdJ("click",function(i){const r=e.CHM(t).$implicit;return e.oxw().selectOne(i,r)}),e.qZA(),e.qZA(),e.TgZ(3,"td",61),e._uU(4),e.qZA(),e.TgZ(5,"td",61),e._uU(6),e.qZA(),e.TgZ(7,"td"),e.TgZ(8,"a",62),e._uU(9),e.qZA(),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.qZA(),e.qZA()}if(2&_){const t=a.$implicit,n=e.oxw();e.ekj("table-active",n.isChecked(t.name)),e.xp6(2),e.Q6J("checked",n.isChecked(t.name)),e.xp6(2),e.Oqu(t.id),e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Q6J("queryParams",e.VKq(8,ve,t.intervalName)),e.xp6(1),e.Oqu(t.intervalName),e.xp6(2),e.Oqu(t.address.type)}}let fe=(()=>{class _{constructor(t,n,i,o){this.schedulerSvc=t,this.msgSvc=n,this.route=i,this.router=o,this.intervalActionList=[],this.intervalActionSelected=[],this.pagination=1,this.pageLimit=5,this.pageOffset=(this.pagination-1)*this.pageLimit}ngOnInit(){this.route.queryParams.subscribe(t=>{t.intervalName||this.findIntervalActionsPagination()})}refresh(){this.schedulerSvc.findAllIntervalActionsPagination(0,this.pageLimit).subscribe(t=>{this.intervalActionList=t.actions,this.msgSvc.success("refresh"),this.resetPagination()})}findIntervalActionsPagination(){this.schedulerSvc.findAllIntervalActionsPagination(this.pageOffset,this.pageLimit).subscribe(t=>{this.intervalActionList=t.actions})}isCheckedAll(){let t=!0;return this.intervalActionList&&0===this.intervalActionList.length&&(t=!1),this.intervalActionList.forEach(n=>{-1===this.intervalActionSelected.findIndex(i=>i.name===n.name)&&(t=!1)}),t}selectAll(t){this.intervalActionList.forEach(t.target.checked?i=>{-1===this.intervalActionSelected.findIndex(o=>o.name===i.name)&&this.intervalActionSelected.push(i)}:i=>{let o=this.intervalActionSelected.findIndex(r=>r.name===i.name);-1!==o&&this.intervalActionSelected.splice(o,1)})}isChecked(t){return this.intervalActionSelected.findIndex(n=>n.name===t)>=0}selectOne(t,n){if(t.target.checked)return void this.intervalActionSelected.push(n);let o=this.intervalActionSelected.findIndex(r=>r.name===n.name);-1!==o&&this.intervalActionSelected.splice(o,1)}edit(){this.router.navigate(["../edit-interval-action"],{relativeTo:this.route,queryParams:{intervalActionName:this.intervalActionSelected[0].name}})}deleteConfirm(){$("#deleteConfirmDialog").modal("show")}deleteIntervalActions(){this.intervalActionSelected.forEach((t,n)=>{this.schedulerSvc.deleteIntervalActionByName(t.name).subscribe(()=>{this.intervalActionList.forEach((i,o)=>{i.name!==t.name||this.intervalActionList.splice(o,1)}),this.intervalActionSelected.splice(n,1),this.msgSvc.success("delete",`name: ${t.name}`),this.resetPagination(),this.findIntervalActionsPagination()})}),$("#deleteConfirmDialog").modal("hide")}onPageSelected(){this.resetPagination(),this.setPagination(),this.findIntervalActionsPagination()}prePage(){this.setPagination(-1),this.findIntervalActionsPagination()}nextPage(){this.setPagination(1),this.findIntervalActionsPagination()}setPagination(t){1===t?this.pagination+=1:-1===t&&(this.pagination-=1),this.pageOffset=(this.pagination-1)*this.pageLimit}resetPagination(){this.pagination=1}}return _.\u0275fac=function(t){return new(t||_)(e.Y36(h.G),e.Y36(T.e),e.Y36(s.gz),e.Y36(s.F0))},_.\u0275cmp=e.Xpm({type:_,selectors:[["app-interval-action-list"]],decls:84,vars:7,consts:function(){let a,t,n,i,o,r,N,A,v,m,f,S,R,Z,L,M;return a="Interval Action List",t="Refresh",n="Add",i="Edit",o="Delete",r="ID",N="Name",A="AssociatedInterval",v="AddressType",m="items per page",f="Previous",S="Next",R="Warning",Z="The data will be permanently erased!!! Are you sure to execute delete operation\uFF1F",L="Cancel",M="Confirm",[[1,"card"],[1,"card-header"],[1,"fa","fa-list","text-danger","mr-1"],a,[1,"card-body","p-0","position-relative"],[1,"bg-light","px-2","py-2"],["role","group",1,"btn-group","btn-group-sm"],[1,"btn","btn-primary",3,"click"],[1,"fa","fa-refresh","mr-1"],t,["type","button","routerLink","../add-interval-action",1,"btn","btn-info"],[1,"fa","fa-plus","mr-1"],n,["type","button",1,"btn","btn-success",3,"disabled","click"],[1,"fa","fa-edit","mr-1"],i,["type","button",1,"btn","btn-danger",3,"disabled","click"],[1,"fa","fa-trash","mr-1"],o,[1,"table-responsive"],[1,"table","table-hover","text-truncate"],[1,"thead-light"],["scope","col"],["type","checkbox","role","button",3,"checked","click"],r,N,A,v,[3,"table-active",4,"ngFor","ngForOf"],[1,"card-footer","text-muted","p-1"],["aria-label","navigation"],[1,"pagination","justify-content-end","m-0"],[1,"page-item","mr-2","mt-1"],[1,"align-middle"],m,[1,"page-item","mr-2"],["name","pageLimit","id","pageLimit",1,"custom-select",3,"ngModel","ngModelChange"],["value","5"],["value","10"],["value","20"],[1,"page-item","mr-1"],[1,"page-link","btn",3,"disabled","click"],[1,"fa","fa-angle-double-left","mr-1"],f,[1,"page-item"],S,[1,"fa","fa-angle-double-right","ml-1"],["id","deleteConfirmDialog","data-backdrop","static","data-keyboard","false","tabindex","-1","aria-labelledby","deleteConfirmDialogLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","deleteConfirmDialogLabel",1,"modal-title","text-danger"],[1,"fa","fa-warning","mr-1"],R,[1,"modal-body"],Z,[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],L,["type","button",1,"btn","btn-danger",3,"click"],M,[1,"user-select-all"],["routerLink","../../interval-center",3,"queryParams"]]},template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e._UZ(2,"i",2),e.TgZ(3,"span"),e.SDv(4,3),e.qZA(),e.qZA(),e.TgZ(5,"div",4),e.TgZ(6,"div",5),e.TgZ(7,"div",6),e.TgZ(8,"button",7),e.NdJ("click",function(){return n.refresh()}),e.TgZ(9,"span"),e._UZ(10,"i",8),e.TgZ(11,"span"),e.SDv(12,9),e.qZA(),e.qZA(),e.qZA(),e.TgZ(13,"button",10),e.TgZ(14,"span"),e._UZ(15,"i",11),e.TgZ(16,"span"),e.SDv(17,12),e.qZA(),e.qZA(),e.qZA(),e.TgZ(18,"button",13),e.NdJ("click",function(){return n.edit()}),e.TgZ(19,"span"),e._UZ(20,"i",14),e.TgZ(21,"span"),e.SDv(22,15),e.qZA(),e.qZA(),e.qZA(),e.TgZ(23,"button",16),e.NdJ("click",function(){return n.deleteConfirm()}),e.TgZ(24,"span"),e._UZ(25,"i",17),e.TgZ(26,"span"),e.SDv(27,18),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(28,"div",19),e.TgZ(29,"table",20),e.TgZ(30,"thead",21),e.TgZ(31,"tr"),e.TgZ(32,"th",22),e.TgZ(33,"input",23),e.NdJ("click",function(o){return n.selectAll(o)}),e.qZA(),e.qZA(),e.TgZ(34,"th",22),e.SDv(35,24),e.qZA(),e.TgZ(36,"th",22),e.SDv(37,25),e.qZA(),e.TgZ(38,"th",22),e.SDv(39,26),e.qZA(),e.TgZ(40,"th",22),e.SDv(41,27),e.qZA(),e.qZA(),e.qZA(),e.TgZ(42,"tbody"),e.YNc(43,me,12,10,"tr",28),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(44,"div",29),e.TgZ(45,"nav",30),e.TgZ(46,"ul",31),e.TgZ(47,"li",32),e.TgZ(48,"span",33),e.SDv(49,34),e.qZA(),e.qZA(),e.TgZ(50,"li",35),e.TgZ(51,"select",36),e.NdJ("ngModelChange",function(o){return n.pageLimit=o})("ngModelChange",function(){return n.onPageSelected()}),e.TgZ(52,"option",37),e._uU(53,"5"),e.qZA(),e.TgZ(54,"option",38),e._uU(55,"10"),e.qZA(),e.TgZ(56,"option",39),e._uU(57,"20"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(58,"li",40),e.TgZ(59,"button",41),e.NdJ("click",function(){return n.prePage()}),e._UZ(60,"i",42),e.TgZ(61,"span"),e.SDv(62,43),e.qZA(),e.qZA(),e.qZA(),e.TgZ(63,"li",44),e.TgZ(64,"button",41),e.NdJ("click",function(){return n.nextPage()}),e.TgZ(65,"span"),e.SDv(66,45),e.qZA(),e._UZ(67,"i",46),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(68,"div",47),e.TgZ(69,"div",48),e.TgZ(70,"div",49),e.TgZ(71,"div",50),e.TgZ(72,"h5",51),e._UZ(73,"i",52),e.TgZ(74,"span"),e.SDv(75,53),e.qZA(),e.qZA(),e.qZA(),e.TgZ(76,"div",54),e.TgZ(77,"span"),e.SDv(78,55),e.qZA(),e.qZA(),e.TgZ(79,"div",56),e.TgZ(80,"button",57),e.SDv(81,58),e.qZA(),e.TgZ(82,"button",59),e.NdJ("click",function(){return n.deleteIntervalActions()}),e.SDv(83,60),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(18),e.Q6J("disabled",1!==n.intervalActionSelected.length),e.xp6(5),e.Q6J("disabled",0===n.intervalActionSelected.length),e.xp6(10),e.Q6J("checked",n.isCheckedAll()),e.xp6(10),e.Q6J("ngForOf",n.intervalActionList),e.xp6(8),e.Q6J("ngModel",n.pageLimit),e.xp6(8),e.Q6J("disabled",1===n.pagination),e.xp6(5),e.Q6J("disabled",n.pageLimit>n.intervalActionList.length))},directives:[s.rH,I.sg,l.EJ,l.JJ,l.On,l.YN,l.Kr,s.yS],styles:[""]}),_})();function Se(_,a){if(1&_){const t=e.EpF();e.TgZ(0,"div",10),e.NdJ("click",function(i){return e.CHM(t),e.oxw().close(i)}),e.qZA()}}let U=(()=>{class _{constructor(){this.visible=!1,this.validate=!1,this.intervalSelectedEvent=new e.vpe,this.selectedInterval={}}ngOnInit(){}onSingleIntervalSelected(t){this.selectedInterval=t,this.intervalSelectedEvent.emit(t)}close(t){t.stopPropagation(),this.visible=!1}toggle(t){t.stopImmediatePropagation(),this.visible=!this.visible}}return _.\u0275fac=function(t){return new(t||_)},_.\u0275cmp=e.Xpm({type:_,selectors:[["app-interval-combo-list"]],inputs:{validate:"validate",selectedInterval:"selectedInterval"},outputs:{intervalSelectedEvent:"intervalSelectedEvent"},decls:12,vars:11,consts:[["class","combo-shielder",3,"click",4,"ngIf"],[1,"combo"],[1,"input-group","has-validation",3,"click"],["type","text","name","selectedInterval","readonly","readonly","maxlength","0","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-group-append"],["role","button",1,"input-group-text"],[1,"fa","fa-chevron-down"],["id","validationIntervalNameFeedback",1,"invalid-feedback"],[1,"combo-body","shadow","rounded"],[3,"singleIntervalSelected","enableSelectAll","toolbars","singleIntervalSelectedEvent"],[1,"combo-shielder",3,"click"]],template:function(t,n){1&t&&(e.YNc(0,Se,1,0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.NdJ("click",function(o){return n.toggle(o)}),e.TgZ(3,"input",3),e.NdJ("ngModelChange",function(o){return n.selectedInterval.name=o}),e.qZA(),e.TgZ(4,"div",4),e.TgZ(5,"span",5),e._UZ(6,"i",6),e.qZA(),e.qZA(),e.TgZ(7,"div",7),e.TgZ(8,"small"),e._uU(9,"the interval name can't be empty!"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(10,"div",8),e.TgZ(11,"app-interval-list",9),e.NdJ("singleIntervalSelectedEvent",function(o){return n.onSingleIntervalSelected(o)}),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.Q6J("ngIf",n.visible),e.xp6(3),e.ekj("is-invalid",!n.selectedInterval.name&&n.validate)("is-valid",n.selectedInterval.name&&n.validate),e.Q6J("ngModel",n.selectedInterval.name),e.xp6(7),e.Udp("display",n.visible?"":"none"),e.xp6(1),e.Q6J("singleIntervalSelected",n.selectedInterval)("enableSelectAll",!1)("toolbars",!1))},directives:[I.O5,l.Fj,l.nD,l.Q7,l.JJ,l.On,y],styles:[".combo[_ngcontent-%COMP%]{position:relative;right:auto}.combo-shielder[_ngcontent-%COMP%]{position:fixed;top:0;bottom:0;right:0;left:0;z-index:100}.combo-body[_ngcontent-%COMP%]{position:absolute;top:33px;bottom:auto;left:0;right:0;z-index:105;visibility:visible;display:inline-block}"]}),_})();var x=g(9549);function Re(_,a){if(1&_){const t=e.EpF();e.TgZ(0,"div",1),e.TgZ(1,"span",91),e.NdJ("click",function(){return e.CHM(t),e.oxw().templateToggle("coredata")}),e.SDv(2,92),e.qZA(),e.TgZ(3,"span",91),e.NdJ("click",function(){return e.CHM(t),e.oxw().templateToggle("command")}),e.SDv(4,93),e.qZA(),e.TgZ(5,"span",91),e.NdJ("click",function(){return e.CHM(t),e.oxw().templateToggle("custom")}),e.SDv(6,94),e.qZA(),e.qZA()}if(2&_){const t=e.oxw();e.xp6(1),e.ekj("badge-secondary","coredata"!==t.templateSelected)("badge-primary","coredata"===t.templateSelected),e.xp6(2),e.ekj("badge-secondary","command"!==t.templateSelected)("badge-primary","command"===t.templateSelected),e.xp6(2),e.ekj("badge-secondary","custom"!==t.templateSelected)("badge-primary","custom"===t.templateSelected)}}function Ze(_,a){if(1&_){const t=e.EpF();e.TgZ(0,"form"),e.TgZ(1,"div",17),e.TgZ(2,"label",101),e.SDv(3,102),e.qZA(),e.TgZ(4,"div",14),e.TgZ(5,"select",103),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(2).intervalAction.address.httpMethod=i}),e.TgZ(6,"option",104),e._uU(7,"GET"),e.qZA(),e.TgZ(8,"option",105),e._uU(9,"POST"),e.qZA(),e.TgZ(10,"option",106),e._uU(11,"PUT"),e.qZA(),e.TgZ(12,"option",107),e._uU(13,"DELETE"),e.qZA(),e.TgZ(14,"option",108),e._uU(15,"PATCH"),e.qZA(),e.TgZ(16,"option",109),e._uU(17,"HEAD"),e.qZA(),e.TgZ(18,"option",110),e._uU(19,"TRACE"),e.qZA(),e.TgZ(20,"option",111),e._uU(21,"CONNECT"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(22,"div",11),e.TgZ(23,"label",112),e.SDv(24,113),e.qZA(),e.TgZ(25,"div",14),e.TgZ(26,"input",114),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(2).intervalAction.address.host=i}),e.qZA(),e.TgZ(27,"div",115),e.TgZ(28,"small"),e._uU(29,"the REST address host can't be empty!"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(30,"div",11),e.TgZ(31,"label",116),e.SDv(32,117),e.qZA(),e.TgZ(33,"div",14),e.TgZ(34,"input",118),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(2).intervalAction.address.port=i}),e.qZA(),e.TgZ(35,"div",119),e.TgZ(36,"small"),e.SDv(37,120),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(38,"div",17),e.TgZ(39,"label",121),e.SDv(40,122),e.qZA(),e.TgZ(41,"div",14),e.TgZ(42,"input",123),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(2).intervalAction.address.path=i}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(43,"div",17),e.TgZ(44,"label",50),e.TgZ(45,"span",51),e.SDv(46,124),e.qZA(),e._UZ(47,"span",53),e.qZA(),e.TgZ(48,"div",14),e.TgZ(49,"input",54),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(2).intervalAction.content=i}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(50,"div",17),e.TgZ(51,"label",55),e.TgZ(52,"span",51),e._uU(53,"ContentType"),e.qZA(),e._UZ(54,"span",56),e.qZA(),e.TgZ(55,"div",14),e.TgZ(56,"input",57),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(2).intervalAction.contentType=i}),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&_){const t=e.oxw(2);e.xp6(5),e.Q6J("ngModel",t.intervalAction.address.httpMethod),e.xp6(21),e.ekj("is-invalid",!t.intervalAction.address.host)("is-valid",t.intervalAction.address.host),e.Q6J("ngModel",t.intervalAction.address.host),e.xp6(8),e.ekj("is-invalid",!t.isPureIntegerType(t.intervalAction.address.port))("is-valid",t.isPureIntegerType(t.intervalAction.address.port)),e.Q6J("ngModel",t.intervalAction.address.port),e.xp6(8),e.Q6J("ngModel",t.intervalAction.address.path),e.xp6(7),e.Q6J("ngModel",t.intervalAction.content),e.xp6(7),e.Q6J("ngModel",t.intervalAction.contentType)}}function Le(_,a){if(1&_){const t=e.EpF();e.TgZ(0,"form"),e.TgZ(1,"div",17),e.TgZ(2,"label",101),e.SDv(3,125),e.qZA(),e.TgZ(4,"div",14),e.TgZ(5,"select",103),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(2).intervalAction.address.httpMethod=i}),e.TgZ(6,"option",107),e._uU(7,"DELETE"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"div",11),e.TgZ(9,"label",112),e.TgZ(10,"span",51),e._uU(11,"Host"),e.qZA(),e._UZ(12,"span",126),e.qZA(),e.TgZ(13,"div",14),e.TgZ(14,"input",114),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(2).intervalAction.address.host=i}),e.qZA(),e.TgZ(15,"div",115),e.TgZ(16,"small"),e.SDv(17,127),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(18,"div",11),e.TgZ(19,"label",116),e.SDv(20,128),e.qZA(),e.TgZ(21,"div",14),e.TgZ(22,"input",118),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(2).intervalAction.address.port=i}),e.qZA(),e.TgZ(23,"div",119),e.TgZ(24,"small"),e.SDv(25,129),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(26,"div",17),e.TgZ(27,"label",121),e.TgZ(28,"span",51),e.SDv(29,130),e.qZA(),e._UZ(30,"span",131),e.qZA(),e.TgZ(31,"div",14),e.TgZ(32,"input",132),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(2).intervalAction.address.path=i}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(33,"div",17),e.TgZ(34,"label",133),e.SDv(35,134),e.qZA(),e.TgZ(36,"div",14),e.TgZ(37,"div",135),e.TgZ(38,"div",136),e.TgZ(39,"span",137),e._UZ(40,"i",138),e.qZA(),e.qZA(),e.TgZ(41,"input",139),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(2).coredataRequestParameter=i}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&_){const t=e.oxw(2);e.xp6(5),e.Q6J("ngModel",t.intervalAction.address.httpMethod),e.xp6(9),e.ekj("is-invalid",!t.intervalAction.address.host)("is-valid",t.intervalAction.address.host),e.Q6J("ngModel",t.intervalAction.address.host),e.xp6(8),e.ekj("is-invalid",!t.isPureIntegerType(t.intervalAction.address.port))("is-valid",t.isPureIntegerType(t.intervalAction.address.port)),e.Q6J("ngModel",t.intervalAction.address.port),e.xp6(10),e.Q6J("ngModel",t.intervalAction.address.path),e.xp6(9),e.Q6J("ngModel",t.coredataRequestParameter)}}function Me(_,a){1&_&&(e.TgZ(0,"div"),e._uU(1," no paramters. "),e.qZA())}function he(_,a){if(1&_&&(e.TgZ(0,"select",157),e.TgZ(1,"option",78),e._uU(2,"false"),e.qZA(),e.TgZ(3,"option",78),e._uU(4,"true"),e.qZA(),e.qZA()),2&_){const t=e.oxw().$implicit;e.MGl("id","cmd-param-",t.resourceName,""),e.s9C("name",t.resourceName),e.xp6(1),e.Q6J("ngValue",!1),e.xp6(2),e.Q6J("ngValue",!0)}}function Oe(_,a){if(1&_&&e._UZ(0,"input",158),2&_){const t=e.oxw().$implicit;e.MGl("id","cmd-param-",t.resourceName,""),e.s9C("name",t.resourceName),e.MGl("placeholder","valueType: ",t.valueType,"")}}function De(_,a){if(1&_&&(e.TgZ(0,"div"),e.TgZ(1,"div",17),e.TgZ(2,"label",153),e.SDv(3,154),e.qZA(),e.TgZ(4,"div",14),e.YNc(5,he,5,4,"select",155),e.YNc(6,Oe,1,3,"ng-template",null,156,e.W1O),e.qZA(),e.qZA(),e.qZA()),2&_){const t=a.$implicit,n=e.MAs(7);e.xp6(2),e.s9C("for",t.resourceName),e.xp6(1),e.pQV(t.resourceName),e.QtT(3),e.xp6(2),e.Q6J("ngIf","Bool"==t.valueType)("ngIfElse",n)}}function Pe(_,a){if(1&_&&(e.TgZ(0,"div"),e.YNc(1,Me,2,0,"div",38),e.YNc(2,De,8,4,"div",152),e.qZA()),2&_){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",0==t.commandServiceTemplateRequestParameters.length),e.xp6(1),e.Q6J("ngForOf",t.commandServiceTemplateRequestParameters)}}function be(_,a){if(1&_){const t=e.EpF();e.TgZ(0,"div",17),e.TgZ(1,"label",159),e.TgZ(2,"span",51),e.SDv(3,160),e.qZA(),e._UZ(4,"span",161),e.qZA(),e.TgZ(5,"div",14),e.TgZ(6,"select",162),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(4).pushEventOfGetCmdParamter=i}),e.TgZ(7,"option",163),e._uU(8,"true"),e.qZA(),e.TgZ(9,"option",164),e._uU(10,"false"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(11,"div",17),e.TgZ(12,"label",165),e.TgZ(13,"span",51),e.SDv(14,166),e.qZA(),e._UZ(15,"span",167),e.qZA(),e.TgZ(16,"div",14),e.TgZ(17,"select",168),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(4).returnEventOfGetCmdParamter=i}),e.TgZ(18,"option",163),e._uU(19,"true"),e.qZA(),e.TgZ(20,"option",164),e._uU(21,"false"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&_){const t=e.oxw(4);e.xp6(6),e.Q6J("ngModel",t.pushEventOfGetCmdParamter),e.xp6(11),e.Q6J("ngModel",t.returnEventOfGetCmdParamter)}}function qe(_,a){if(1&_&&(e.TgZ(0,"div",17),e.TgZ(1,"label",121),e.SDv(2,149),e.qZA(),e.TgZ(3,"div",14),e.TgZ(4,"div",6),e.TgZ(5,"div",1),e.TgZ(6,"span"),e._uU(7,"Command Parameters Setting"),e.qZA(),e.qZA(),e.TgZ(8,"div",4),e.YNc(9,Pe,3,2,"div",150),e.YNc(10,be,22,2,"ng-template",null,151,e.W1O),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&_){const t=e.MAs(11),n=e.oxw(3);e.xp6(9),e.Q6J("ngIf","PUT"==n.intervalAction.address.httpMethod)("ngIfElse",t)}}function Ve(_,a){if(1&_){const t=e.EpF();e.TgZ(0,"form"),e.TgZ(1,"div",17),e.TgZ(2,"label",101),e.TgZ(3,"span",51),e.SDv(4,140),e.qZA(),e._UZ(5,"span",141),e.qZA(),e.TgZ(6,"div",14),e.TgZ(7,"input",142),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(2).intervalAction.address.httpMethod=i}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"div",11),e.TgZ(9,"label",112),e.TgZ(10,"span",51),e._uU(11,"Host"),e.qZA(),e._UZ(12,"span",126),e.qZA(),e.TgZ(13,"div",14),e.TgZ(14,"input",114),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(2).intervalAction.address.host=i}),e.qZA(),e.TgZ(15,"div",115),e.TgZ(16,"small"),e.SDv(17,143),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(18,"div",11),e.TgZ(19,"label",116),e.SDv(20,144),e.qZA(),e.TgZ(21,"div",14),e.TgZ(22,"input",118),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(2).intervalAction.address.port=i}),e.qZA(),e.TgZ(23,"div",119),e.TgZ(24,"small"),e.SDv(25,145),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(26,"div",17),e.TgZ(27,"label",121),e.SDv(28,146),e.qZA(),e.TgZ(29,"div",14),e.TgZ(30,"app-device-core-command-combo-list",147),e.NdJ("cmdMethodEvent",function(i){return e.CHM(t),e.oxw(2).onCmdMethodSelected(i)})("commandSelectedEvent",function(i){return e.CHM(t),e.oxw(2).onCommandSelected(i)}),e.qZA(),e.qZA(),e.qZA(),e.YNc(31,qe,12,2,"div",148),e.qZA()}if(2&_){const t=e.oxw(2);e.xp6(7),e.Q6J("ngModel",t.intervalAction.address.httpMethod),e.xp6(7),e.ekj("is-invalid",!t.intervalAction.address.host)("is-valid",t.intervalAction.address.host),e.Q6J("ngModel",t.intervalAction.address.host),e.xp6(8),e.ekj("is-invalid",!t.isPureIntegerType(t.intervalAction.address.port))("is-valid",t.isPureIntegerType(t.intervalAction.address.port)),e.Q6J("ngModel",t.intervalAction.address.port),e.xp6(8),e.Q6J("validate",!0),e.xp6(1),e.Q6J("ngIf",t.intervalAction.address.path&&t.intervalAction.address.httpMethod)}}function $e(_,a){if(1&_&&(e.TgZ(0,"div",null,95),e.TgZ(2,"div",96),e.YNc(3,Ze,57,14,"ng-template",97,98,e.W1O),e.YNc(5,Le,42,13,"ng-template",97,99,e.W1O),e.YNc(7,Ve,32,13,"ng-template",97,100,e.W1O),e.qZA(),e.qZA()),2&_){const t=e.oxw();e.xp6(2),e.Q6J("ngSwitch",t.templateSelected),e.xp6(1),e.Q6J("ngSwitchCase","custom"),e.xp6(2),e.Q6J("ngSwitchCase","coredata"),e.xp6(2),e.Q6J("ngSwitchCase","command")}}let ye=(()=>{class _{constructor(t,n,i,o,r){this.schedulerSvc=t,this.msgSvc=n,this.route=i,this.router=o,this.errorSvc=r,this.addr_type_REST="REST",this.addr_type_MQTT="MQTT",this.addr_type_EMAIL="EMAIL",this.template_type_coredata="coredata",this.template_type_command="command",this.template_type_custom="custom",this.addressEmailRecipients="",this.templateSelected="coredata",this.coredataRequestParameter="",this.commandServiceTemplateRequestParameters=[],this.pushEventOfGetCmdParamter="yes",this.returnEventOfGetCmdParamter="yes",this.coredataSvcAvailableAPI=["/api/v3/event/age/"],this.intervalAction={adminState:"UNLOCKED"},this.intervalAction.address={},this.intervalAction.address.type="REST",this.intervalAction.address.httpMethod="GET",this.intervalAction.address.retained=!1,this.intervalAction.address.autoReconnect=!0}ngOnInit(){this.renderPopoverComponent(),this.renderCoredataDefaultTemplate()}initDatePickr(){let t=this;this.calendarStart=(0,P.Z)("input[name='coredataRequestParameter']",{dateFormat:"YmdTHiS",enableTime:!0,enableSeconds:!0,time_24hr:!0,allowInput:!1,onChange:function(n,i,o){t.intervalAction.address.path=t.coredataSvcAvailableAPI[0]+i}})}renderPopoverComponent(){$('[data-toggle="popover"]').popover({trigger:"hover"})}renderCoredataDefaultTemplate(){this.intervalAction.address.httpMethod="DELETE",this.intervalAction.address.host="edgex-core-data",this.intervalAction.address.port=59880,this.intervalAction.address.path=this.coredataSvcAvailableAPI[0],setTimeout(()=>{this.renderPopoverComponent(),this.initDatePickr()},300)}templateToggle(t){switch(this.templateSelected=t,this.templateSelected){case this.template_type_coredata:this.renderCoredataDefaultTemplate();break;case this.template_type_command:this.intervalAction.address.httpMethod="",this.intervalAction.address.host="edgex-core-command",this.intervalAction.address.port=59882,this.intervalAction.address.path="",this.intervalAction.address.httpMethod="",setTimeout(()=>{this.renderPopoverComponent()},300);break;case this.template_type_custom:setTimeout(()=>{this.renderPopoverComponent()},300),this.intervalAction.address={},this.intervalAction.address.type="REST",this.intervalAction.address.httpMethod="GET",this.intervalAction.address.retained=!1,this.intervalAction.address.autoReconnect=!0}}typeToggle(t){this.intervalAction.address.type=t,"REST"===t&&this.templateToggle("coredata")}onCmdMethodSelected(t){this.intervalAction.address.httpMethod=t,setTimeout(()=>{this.renderPopoverComponent()},500)}onCommandSelected(t){this.intervalAction.address.path=t.path,this.commandServiceTemplateRequestParameters=t.parameters}onSingleIntervalSelected(t){this.intervalAction.intervalName=t.name}isPureIntegerType(t){return!isNaN(t)&&parseFloat(t)===parseInt(t)}validate(){let t=!0,n=this.intervalAction.name&&this.intervalAction.intervalName;switch(this.intervalAction.address.type){case this.addr_type_REST:n&&this.intervalAction.address.host&&this.isPureIntegerType(this.intervalAction.address.port)&&this.intervalAction.address.path&&this.intervalAction.address.httpMethod&&(t=!1);break;case this.addr_type_MQTT:n&&this.intervalAction.address.host&&this.isPureIntegerType(this.intervalAction.address.port)&&this.intervalAction.address.publisher&&this.intervalAction.address.topic&&(t=!1);break;case this.addr_type_EMAIL:n&&(t=!1)}return t}getAllCmdTemplateParametersValue(){var t;if(this.intervalAction.address.type!==this.addr_type_REST||this.templateSelected!==this.template_type_command||"GET"==this.intervalAction.address.httpMethod)return"";let n={};return null===(t=this.commandServiceTemplateRequestParameters)||void 0===t||t.forEach(i=>{""!==$(`#cmd-param-${i.resourceName}`).val().trim()&&(n[i.resourceName]=$(`#cmd-param-${i.resourceName}`).val().trim())}),JSON.stringify(n)}resetPathParameterSuffix(){(-1!==this.intervalAction.address.path.indexOf("ds-pushevent")||-1!==this.intervalAction.address.path.indexOf("ds-returnevent"))&&(this.intervalAction.address.path=this.intervalAction.address.path.split("?")[0]),this.intervalAction.address.path=`${this.intervalAction.address.path}?ds-pushevent=${this.pushEventOfGetCmdParamter}&ds-returnevent=${this.returnEventOfGetCmdParamter}`}submit(){this.intervalAction.address.recipients=this.addressEmailRecipients.split(","),this.intervalAction.address.port=Number(this.intervalAction.address.port),this.intervalAction.address.type===this.addr_type_REST&&this.templateSelected===this.template_type_command&&("GET"===this.intervalAction.address.httpMethod?this.resetPathParameterSuffix():"PUT"===this.intervalAction.address.httpMethod&&(this.intervalAction.content=this.getAllCmdTemplateParametersValue())),this.schedulerSvc.addIntervalAction(this.intervalAction).subscribe(t=>{this.errorSvc.handleErrorForAPI(t)||(this.msgSvc.success("Add interval action",`name: ${this.intervalAction.name}`),this.router.navigate(["../interval-action-list"],{relativeTo:this.route}))})}}return _.\u0275fac=function(t){return new(t||_)(e.Y36(h.G),e.Y36(T.e),e.Y36(s.gz),e.Y36(s.F0),e.Y36(p.T))},_.\u0275cmp=e.Xpm({type:_,selectors:[["app-add-interval-action"]],decls:176,vars:63,consts:function(){let a,t,n,i,o,r,N,A,v,m,f,S,R,Z,L,M,c,E,C,J,G,k,X,Q,w,F,z,Y,j,K,B,W,ee,te,ne,ie,oe,_e,ae,le,de,re,se,Te,Ae,ce,ge,pe;return a="Tips",t=" The support scheduler micro service provide an internal EdgeX \u201Cclock\u201D that can kick off operations in any EdgeX service. At a configuration specified time (called an interval), the service calls on any EdgeX service API URL via REST to trigger an operation (called an interval action). For example, the scheduling service periodically calls on core data APIs to clean up old sensed events that have been successfully exported out of EdgeX. " + "\ufffd#7\ufffd\ufffd/#7\ufffd" + " Users also can call the API of command service to collect one device's data automatically. ",n="Add Interval Action",i="Submit",o="Name",r="IntervalName",N="AdminState",A="Address",v="Host",m="the MQTT host can't be empty!",f="Port",S="the MQTT port can't be empty and only pure integer is supported!!",R="Content",Z="Publisher",L="the MQTT publisher can't be empty!",M="Topic",c="the MQTT topic can't be empty!",E="QoS",C="KeepAlive",J="Retained",G="AutoReconnect",k="ConnectTimeout",X="EmailRecipients",Q="Content",w="CoreDataSeviceTemplate",F="CommandServiceTemplate",z="CustomTemplate",Y="HttpMethod",j="Host",K="Port",B="the REST address port can't be empty and only pure integer is supported!",W="Path",ee="Content",te="HttpMethod",ne="the REST address host can't be empty!",ie="Port",oe="the REST address port can't be empty and only pure integer is supported!",_e="Path",ae="Parameter",le="HttpMethod",de="the REST address host can't be empty!",re="Port",se="the REST address port can't be empty and only pure integer is supported!",Te="Path",Ae="Parameters",ce="" + "\ufffd0\ufffd" + "",ge="pushevent",pe="returnevent",[[1,"card","mb-3"],[1,"card-header"],[1,"fa","fa-info-circle","mr-2","text-info"],a,[1,"card-body"],t,[1,"card"],[1,"fa","fa-plus","text-danger","mr-1"],n,[1,"btn","btn-sm","btn-success","float-right",3,"disabled","click"],i,[1,"form-group","row","has-validation"],["for","intervalActionName","required","",1,"col-md-2","col-form-label"],o,[1,"col-md-10"],["type","text","id","validationIntervalActionName","name","intervalActionName","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","validationIntervalActionNameFeedback",1,"invalid-feedback"],[1,"form-group","row"],["for","intervalName",1,"col-md-2","col-form-label"],r,[1,"mb-3"],[3,"validate","intervalSelectedEvent"],["for","adminState",1,"col-md-2","col-form-label"],N,["name","adminState",1,"custom-select",3,"ngModel","ngModelChange"],["value","UNLOCKED"],["value","LOCKED"],["for","Address",1,"col-md-2","col-form-label"],A,[1,"form-check","form-check-inline"],[1,"badge"],["type","radio","name","inlineRadioOptions","id","REST","value","REST",1,"form-check-input",3,"ngModel","ngModelChange","click"],["for","REST",1,"form-check-label"],["type","radio","name","inlineRadioOptions","id","MQTT","value","MQTT",1,"form-check-input",3,"ngModel","ngModelChange","click"],["for","MQTT",1,"form-check-label"],["type","radio","name","inlineRadioOptions","id","EMAIL","value","EMAIL",1,"form-check-input",3,"ngModel","ngModelChange","click"],["for","EMAIL",1,"form-check-label"],["class","card-header",4,"ngIf"],[4,"ngIf"],["MQTT",""],["for","addressHostMQTT","required","",1,"col-md-2","col-form-label"],v,["type","text","id","addressHostMQTT","name","addressHost","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","addressHostMQTTFeedback",1,"invalid-feedback"],m,["for","addressPortMQTT","required","",1,"col-md-2","col-form-label"],f,["type","text","id","addressPortMQTT","name","addressPort","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","addressPortMQTTFeedback",1,"invalid-feedback"],S,["for","Content",1,"col-md-2","col-form-label"],[1,"mr-2"],R,["role","button","data-html","false","data-animation","true","data-trigger","focus","data-toggle","popover","title","tips","data-content","the actual content to be sent as the body,such as one string format of JSON",1,"fa","fa-question-circle-o","fa-lg"],["type","text","id","Content","name","Content",1,"form-control",3,"ngModel","ngModelChange"],["for","ContentType",1,"col-md-2","col-form-label"],["role","button","data-html","false","data-animation","true","data-trigger","focus","data-toggle","popover","title","tips","data-content","Indicates which request contentType should be used (i.e. text/html, application/json), the default is application/json if not setup",1,"fa","fa-question-circle-o","fa-lg"],["type","text","id","ContentType","name","ContentType",1,"form-control",3,"ngModel","ngModelChange"],["for","addressPublisher","required","",1,"col-md-2","col-form-label"],Z,["type","text","id","addressPublisher","name","addressPublisher","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","addressPublisherFeedback",1,"invalid-feedback"],L,["for","addressTopic","required","",1,"col-md-2","col-form-label"],M,["type","text","id","addressTopic","name","addressTopic","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","addressTopicFeedback",1,"invalid-feedback"],c,["for","addressQoS",1,"col-md-2","col-form-label"],E,["role","button","data-html","false","data-animation","true","data-trigger","focus","data-toggle","popover","title","format tips","data-content","only pure integer supported!",1,"fa","fa-question-circle-o","fa-lg"],["type","number","id","addressQoS","name","addressQoS",1,"form-control",3,"ngModel","ngModelChange"],["for","addressKeepAlive",1,"col-md-2","col-form-label"],C,["type","number","id","addressKeepAlive","name","addressKeepAlive",1,"form-control",3,"ngModel","ngModelChange"],["for","addressRetained","required","",1,"col-md-2","col-form-label"],J,["type","text","id","addressRetained","name","addressRetained",1,"custom-select",3,"ngModel","ngModelChange"],[3,"ngValue"],["for","addressAutoReconnect","required","",1,"col-md-2","col-form-label"],G,["type","text","id","addressAutoReconnect","name","addressAutoReconnect",1,"custom-select",3,"ngModel","ngModelChange"],["for","addressConnectTimeout","required","",1,"col-md-2","col-form-label"],k,["type","number","id","addressConnectTimeout","name","addressConnectTimeout",1,"form-control",3,"ngModel","ngModelChange"],["EMAIL",""],["for","emailRecipients",1,"col-md-2","col-form-label"],X,["role","button","data-html","false","data-animation","true","data-trigger","focus","data-toggle","popover","title","format tips","data-content","Multiple email addresses are separated by commas",1,"fa","fa-question-circle-o","fa-lg"],["type","text","id","emailRecipients","name","emailRecipients",1,"form-control",3,"ngModel","ngModelChange"],Q,["role","button",1,"badge","mr-2",3,"click"],w,F,z,["REST",""],[3,"ngSwitch"],[3,"ngSwitchCase"],["customTemplate",""],["coredataTemplate",""],["commandTemplate",""],["for","HttpMethod","required","",1,"col-md-2","col-form-label"],Y,["type","text","name","httpMethod",1,"custom-select",3,"ngModel","ngModelChange"],["value","GET"],["value","POST"],["value","PUT"],["value","DELETE"],["value","PATCH"],["value","HEAD"],["value","TRACE"],["value","CONNECT"],["for","addressHostREST","required","",1,"col-md-2","col-form-label"],j,["type","text","id","addressHostREST","name","addressHost","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","addressHostRESTFeedback",1,"invalid-feedback"],["for","addressPortREST","required","",1,"col-md-2","col-form-label"],K,["type","text","id","addressPortREST","name","addressPort","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","addressPortRESTFeedback",1,"invalid-feedback"],B,["for","addressPath","required","",1,"col-md-2","col-form-label"],W,["type","text","id","addressPath","name","addressPath",1,"form-control",3,"ngModel","ngModelChange"],ee,te,["role","button","data-html","false","data-animation","true","data-trigger","focus","data-toggle","popover","title","tips","data-content","Both Host and Port fields are editable if you have a different host address !",1,"fa","fa-question-circle-o","fa-lg"],ne,ie,oe,_e,["role","button","data-html","false","data-animation","true","data-trigger","focus","data-toggle","popover","title","tips","data-content","Remove all old events (and associated readings) based on delimiting age, the parameters delimiting age will be filled up automatically when parameters field is selected!",1,"fa","fa-question-circle-o","fa-lg"],["type","text","id","addressPath","name","addressPath","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["for","requestBody","required","",1,"col-md-2","col-form-label"],ae,[1,"input-group"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"fa","fa-calendar"],["type","text","name","coredataRequestParameter",1,"form-control",3,"ngModel","ngModelChange"],le,["role","button","data-html","false","data-animation","true","data-trigger","focus","data-toggle","popover","title","tips","data-content","httpMethod field will be filled up automatically when the path field is selected! ",1,"fa","fa-question-circle-o","fa-lg"],["type","text","name","httpMethod","disabled","","required","",1,"form-control",3,"ngModel","ngModelChange"],de,re,se,Te,[3,"validate","cmdMethodEvent","commandSelectedEvent"],["class","form-group row",4,"ngIf"],Ae,[4,"ngIf","ngIfElse"],["getParameter",""],[4,"ngFor","ngForOf"],[1,"col-md-2","col-form-label",3,"for"],ce,["class","custom-select",3,"id","name",4,"ngIf","ngIfElse"],["valueTypeIsNotBool",""],[1,"custom-select",3,"id","name"],["type","text",1,"form-control",3,"id","name","placeholder"],["for","ds-pushevent",1,"col-md-2","col-form-label"],ge,["role","button","data-html","false","data-animation","true","data-trigger","focus","data-toggle","popover","title","tips","data-content","true indicates a successful GET will result in an event being pushed to the EdgeX system",1,"fa","fa-question-circle-o","fa-lg"],["id","ds-pushevent","name","ds-pushevent",1,"custom-select",3,"ngModel","ngModelChange"],["value","true"],["value","false"],["for","ds-returnevent",1,"col-md-2","col-form-label"],pe,["role","button","data-html","false","data-animation","true","data-trigger","focus","data-toggle","popover","title","tips","data-content","no indicates there will be no Event returned in the http response",1,"fa","fa-question-circle-o","fa-lg"],["id","ds-returnevent","name","ds-returnevent",1,"custom-select",3,"ngModel","ngModelChange"]]},template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e._UZ(2,"i",2),e.TgZ(3,"span"),e.SDv(4,3),e.qZA(),e.qZA(),e.TgZ(5,"div",4),e.tHW(6,5),e._UZ(7,"br"),e.N_p(),e.qZA(),e.qZA(),e.TgZ(8,"div",6),e.TgZ(9,"div",1),e._UZ(10,"i",7),e.TgZ(11,"span"),e.SDv(12,8),e.qZA(),e.TgZ(13,"button",9),e.NdJ("click",function(){return n.submit()}),e.SDv(14,10),e.qZA(),e.qZA(),e.TgZ(15,"div",4),e.TgZ(16,"form"),e.TgZ(17,"div",11),e.TgZ(18,"label",12),e.SDv(19,13),e.qZA(),e.TgZ(20,"div",14),e.TgZ(21,"input",15),e.NdJ("ngModelChange",function(o){return n.intervalAction.name=o}),e.qZA(),e.TgZ(22,"div",16),e.TgZ(23,"small"),e._uU(24,"the interval action name can't be empty!"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(25,"div",17),e.TgZ(26,"label",18),e.SDv(27,19),e.qZA(),e.TgZ(28,"div",14),e.TgZ(29,"div",20),e.TgZ(30,"app-interval-combo-list",21),e.NdJ("intervalSelectedEvent",function(o){return n.onSingleIntervalSelected(o)}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(31,"div",17),e.TgZ(32,"label",22),e.SDv(33,23),e.qZA(),e.TgZ(34,"div",14),e.TgZ(35,"select",24),e.NdJ("ngModelChange",function(o){return n.intervalAction.adminState=o}),e.TgZ(36,"option",25),e._uU(37,"UNLOCKED"),e.qZA(),e.TgZ(38,"option",26),e._uU(39,"LOCKED"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(40,"div",17),e.TgZ(41,"label",27),e.SDv(42,28),e.qZA(),e.TgZ(43,"div",14),e.TgZ(44,"div",6),e.TgZ(45,"div",1),e.TgZ(46,"div",29),e.TgZ(47,"span",30),e.TgZ(48,"input",31),e.NdJ("ngModelChange",function(o){return n.intervalAction.address.type=o})("click",function(){return n.typeToggle("REST")}),e.qZA(),e.TgZ(49,"label",32),e._uU(50,"REST"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(51,"div",29),e.TgZ(52,"span",30),e.TgZ(53,"input",33),e.NdJ("ngModelChange",function(o){return n.intervalAction.address.type=o})("click",function(){return n.typeToggle("MQTT")}),e.qZA(),e.TgZ(54,"label",34),e._uU(55,"MQTT"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(56,"div",29),e.TgZ(57,"span",30),e.TgZ(58,"input",35),e.NdJ("ngModelChange",function(o){return n.intervalAction.address.type=o})("click",function(){return n.typeToggle("EMAIL")}),e.qZA(),e.TgZ(59,"label",36),e._uU(60,"EMAIL"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(61,Re,7,12,"div",37),e.TgZ(62,"div",4),e.YNc(63,$e,9,4,"div",38),e.TgZ(64,"div",null,39),e.TgZ(66,"form"),e.TgZ(67,"div",11),e.TgZ(68,"label",40),e.SDv(69,41),e.qZA(),e.TgZ(70,"div",14),e.TgZ(71,"input",42),e.NdJ("ngModelChange",function(o){return n.intervalAction.address.host=o}),e.qZA(),e.TgZ(72,"div",43),e.TgZ(73,"small"),e.SDv(74,44),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(75,"div",11),e.TgZ(76,"label",45),e.SDv(77,46),e.qZA(),e.TgZ(78,"div",14),e.TgZ(79,"input",47),e.NdJ("ngModelChange",function(o){return n.intervalAction.address.port=o}),e.qZA(),e.TgZ(80,"div",48),e.TgZ(81,"small"),e.SDv(82,49),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(83,"div",17),e.TgZ(84,"label",50),e.TgZ(85,"span",51),e.SDv(86,52),e.qZA(),e._UZ(87,"span",53),e.qZA(),e.TgZ(88,"div",14),e.TgZ(89,"input",54),e.NdJ("ngModelChange",function(o){return n.intervalAction.content=o}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(90,"div",17),e.TgZ(91,"label",55),e.TgZ(92,"span",51),e._uU(93,"ContentType"),e.qZA(),e._UZ(94,"span",56),e.qZA(),e.TgZ(95,"div",14),e.TgZ(96,"input",57),e.NdJ("ngModelChange",function(o){return n.intervalAction.contentType=o}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(97,"div",11),e.TgZ(98,"label",58),e.SDv(99,59),e.qZA(),e.TgZ(100,"div",14),e.TgZ(101,"input",60),e.NdJ("ngModelChange",function(o){return n.intervalAction.address.publisher=o}),e.qZA(),e.TgZ(102,"div",61),e.TgZ(103,"small"),e.SDv(104,62),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(105,"div",11),e.TgZ(106,"label",63),e.SDv(107,64),e.qZA(),e.TgZ(108,"div",14),e.TgZ(109,"input",65),e.NdJ("ngModelChange",function(o){return n.intervalAction.address.topic=o}),e.qZA(),e.TgZ(110,"div",66),e.TgZ(111,"small"),e.SDv(112,67),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(113,"div",17),e.TgZ(114,"label",68),e.TgZ(115,"span",51),e.SDv(116,69),e.qZA(),e._UZ(117,"span",70),e.qZA(),e.TgZ(118,"div",14),e.TgZ(119,"input",71),e.NdJ("ngModelChange",function(o){return n.intervalAction.address.qos=o}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(120,"div",17),e.TgZ(121,"label",72),e.TgZ(122,"span",51),e.SDv(123,73),e.qZA(),e._UZ(124,"span",70),e.qZA(),e.TgZ(125,"div",14),e.TgZ(126,"input",74),e.NdJ("ngModelChange",function(o){return n.intervalAction.address.keepAlive=o}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(127,"div",17),e.TgZ(128,"label",75),e.SDv(129,76),e.qZA(),e.TgZ(130,"div",14),e.TgZ(131,"select",77),e.NdJ("ngModelChange",function(o){return n.intervalAction.address.retained=o}),e.TgZ(132,"option",78),e._uU(133,"false"),e.qZA(),e.TgZ(134,"option",78),e._uU(135,"true"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(136,"div",17),e.TgZ(137,"label",79),e.SDv(138,80),e.qZA(),e.TgZ(139,"div",14),e.TgZ(140,"select",81),e.NdJ("ngModelChange",function(o){return n.intervalAction.address.autoReconnect=o}),e.TgZ(141,"option",78),e._uU(142,"true"),e.qZA(),e.TgZ(143,"option",78),e._uU(144,"false"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(145,"div",17),e.TgZ(146,"label",82),e.TgZ(147,"span",51),e.SDv(148,83),e.qZA(),e._UZ(149,"span",70),e.qZA(),e.TgZ(150,"div",14),e.TgZ(151,"input",84),e.NdJ("ngModelChange",function(o){return n.intervalAction.address.connectTimeout=o}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(152,"div",null,85),e.TgZ(154,"form"),e.TgZ(155,"div",17),e.TgZ(156,"label",86),e.TgZ(157,"span",51),e.SDv(158,87),e.qZA(),e._UZ(159,"span",88),e.qZA(),e.TgZ(160,"div",14),e.TgZ(161,"input",89),e.NdJ("ngModelChange",function(o){return n.addressEmailRecipients=o}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(162,"div",17),e.TgZ(163,"label",50),e.TgZ(164,"span",51),e.SDv(165,90),e.qZA(),e._UZ(166,"span",53),e.qZA(),e.TgZ(167,"div",14),e.TgZ(168,"input",54),e.NdJ("ngModelChange",function(o){return n.intervalAction.content=o}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(169,"div",17),e.TgZ(170,"label",55),e.TgZ(171,"span",51),e._uU(172,"ContentType"),e.qZA(),e._UZ(173,"span",56),e.qZA(),e.TgZ(174,"div",14),e.TgZ(175,"input",57),e.NdJ("ngModelChange",function(o){return n.intervalAction.contentType=o}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(13),e.Q6J("disabled",n.validate()),e.xp6(8),e.ekj("is-invalid",!n.intervalAction.name)("is-valid",n.intervalAction.name),e.Q6J("ngModel",n.intervalAction.name),e.xp6(9),e.Q6J("validate",!0),e.xp6(5),e.Q6J("ngModel",n.intervalAction.adminState),e.xp6(12),e.ekj("badge-secondary","REST"!==n.intervalAction.address.type)("badge-primary","REST"===n.intervalAction.address.type),e.xp6(1),e.Q6J("ngModel",n.intervalAction.address.type),e.xp6(4),e.ekj("badge-secondary","MQTT"!==n.intervalAction.address.type)("badge-primary","MQTT"===n.intervalAction.address.type),e.xp6(1),e.Q6J("ngModel",n.intervalAction.address.type),e.xp6(4),e.ekj("badge-secondary","EMAIL"!==n.intervalAction.address.type)("badge-primary","EMAIL"===n.intervalAction.address.type),e.xp6(1),e.Q6J("ngModel",n.intervalAction.address.type),e.xp6(3),e.Q6J("ngIf","REST"===n.intervalAction.address.type),e.xp6(2),e.Q6J("ngIf","REST"===n.intervalAction.address.type),e.xp6(1),e.Udp("display","MQTT"!==n.intervalAction.address.type?"none":""),e.xp6(7),e.ekj("is-invalid",!n.intervalAction.address.host)("is-valid",n.intervalAction.address.host),e.Q6J("ngModel",n.intervalAction.address.host),e.xp6(8),e.ekj("is-invalid",!n.isPureIntegerType(n.intervalAction.address.port))("is-valid",n.isPureIntegerType(n.intervalAction.address.port)),e.Q6J("ngModel",n.intervalAction.address.port),e.xp6(10),e.Q6J("ngModel",n.intervalAction.content),e.xp6(7),e.Q6J("ngModel",n.intervalAction.contentType),e.xp6(5),e.ekj("is-invalid",!n.intervalAction.address.publisher)("is-valid",n.intervalAction.address.publisher),e.Q6J("ngModel",n.intervalAction.address.publisher),e.xp6(8),e.ekj("is-invalid",!n.intervalAction.address.topic)("is-valid",n.intervalAction.address.topic),e.Q6J("ngModel",n.intervalAction.address.topic),e.xp6(10),e.Q6J("ngModel",n.intervalAction.address.qos),e.xp6(7),e.Q6J("ngModel",n.intervalAction.address.keepAlive),e.xp6(5),e.Q6J("ngModel",n.intervalAction.address.retained),e.xp6(1),e.Q6J("ngValue",!1),e.xp6(2),e.Q6J("ngValue",!0),e.xp6(6),e.Q6J("ngModel",n.intervalAction.address.autoReconnect),e.xp6(1),e.Q6J("ngValue",!0),e.xp6(2),e.Q6J("ngValue",!1),e.xp6(8),e.Q6J("ngModel",n.intervalAction.address.connectTimeout),e.xp6(1),e.Udp("display","EMAIL"!==(null==n.intervalAction.address?null:n.intervalAction.address.type)?"none":""),e.xp6(9),e.Q6J("ngModel",n.addressEmailRecipients),e.xp6(7),e.Q6J("ngModel",n.intervalAction.content),e.xp6(7),e.Q6J("ngModel",n.intervalAction.contentType))},directives:[l._Y,l.JL,l.F,l.Fj,l.Q7,l.JJ,l.On,U,l.EJ,l.YN,l.Kr,l._,I.O5,l.wV,I.RF,I.n9,x.P,I.sg],styles:[""]}),_})();function Ue(_,a){if(1&_){const t=e.EpF();e.TgZ(0,"div",48),e.TgZ(1,"app-interval-combo-list",49),e.NdJ("intervalSelectedEvent",function(i){return e.CHM(t),e.oxw(2).onSingleIntervalSelected(i)}),e.qZA(),e.qZA()}if(2&_){const t=e.oxw(2);e.xp6(1),e.Q6J("validate",!0)("selectedInterval",t.selectedIntervalDefault)}}function xe(_,a){if(1&_){const t=e.EpF();e.TgZ(0,"div",1),e.TgZ(1,"span",50),e.SDv(2,51),e.qZA(),e._UZ(3,"span",52),e.TgZ(4,"span",53),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return i.templateToggle(i.template_type_coredata)}),e.SDv(5,54),e.qZA(),e.TgZ(6,"span",53),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return i.templateToggle(i.template_type_command)}),e.SDv(7,55),e.qZA(),e.TgZ(8,"span",53),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return i.templateToggle(i.template_type_custom)}),e.SDv(9,56),e.qZA(),e.qZA()}if(2&_){const t=e.oxw(2);e.xp6(4),e.ekj("badge-secondary",t.templateSelected!==t.template_type_coredata)("badge-primary",t.templateSelected===t.template_type_coredata),e.xp6(2),e.ekj("badge-secondary",t.templateSelected!==t.template_type_command)("badge-primary",t.templateSelected===t.template_type_command),e.xp6(2),e.ekj("badge-secondary",t.templateSelected!==t.template_type_custom)("badge-primary",t.templateSelected===t.template_type_custom)}}function He(_,a){if(1&_){const t=e.EpF();e.TgZ(0,"form"),e.TgZ(1,"div",14),e.TgZ(2,"label",63),e._uU(3,"HttpMethod"),e.qZA(),e.TgZ(4,"div",11),e.TgZ(5,"select",64),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(3).intervalAction.address.httpMethod=i}),e.TgZ(6,"option",65),e._uU(7,"GET"),e.qZA(),e.TgZ(8,"option",66),e._uU(9,"POST"),e.qZA(),e.TgZ(10,"option",67),e._uU(11,"PUT"),e.qZA(),e.TgZ(12,"option",68),e._uU(13,"DELETE"),e.qZA(),e.TgZ(14,"option",69),e._uU(15,"PATCH"),e.qZA(),e.TgZ(16,"option",70),e._uU(17,"HEAD"),e.qZA(),e.TgZ(18,"option",71),e._uU(19,"TRACE"),e.qZA(),e.TgZ(20,"option",72),e._uU(21,"CONNECT"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(22,"div",8),e.TgZ(23,"label",73),e._uU(24,"Host"),e.qZA(),e.TgZ(25,"div",11),e.TgZ(26,"input",74),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(3).intervalAction.address.host=i}),e.qZA(),e.TgZ(27,"div",75),e.TgZ(28,"small"),e._uU(29,"the REST address host can't be empty!"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(30,"div",8),e.TgZ(31,"label",76),e._uU(32,"Port"),e.qZA(),e.TgZ(33,"div",11),e.TgZ(34,"input",77),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(3).intervalAction.address.port=i}),e.qZA(),e.TgZ(35,"div",78),e.TgZ(36,"small"),e._uU(37,"the REST address port can't be empty and only pure integer is supported!"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(38,"div",14),e.TgZ(39,"label",79),e._uU(40,"Path"),e.qZA(),e.TgZ(41,"div",11),e.TgZ(42,"input",80),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(3).intervalAction.address.path=i}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(43,"div",14),e.TgZ(44,"label",41),e.TgZ(45,"span",38),e.SDv(46,81),e.qZA(),e._UZ(47,"span",43),e.qZA(),e.TgZ(48,"div",11),e.TgZ(49,"input",44),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(3).intervalAction.content=i}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(50,"div",14),e.TgZ(51,"label",45),e.TgZ(52,"span",38),e._uU(53,"ContentType"),e.qZA(),e._UZ(54,"span",46),e.qZA(),e.TgZ(55,"div",11),e.TgZ(56,"input",47),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(3).intervalAction.contentType=i}),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&_){const t=e.oxw(3);e.xp6(5),e.Q6J("ngModel",t.intervalAction.address.httpMethod),e.xp6(21),e.ekj("is-invalid",!t.intervalAction.address.host)("is-valid",t.intervalAction.address.host),e.Q6J("ngModel",t.intervalAction.address.host),e.xp6(8),e.ekj("is-invalid",!t.isPureIntegerType(t.intervalAction.address.port))("is-valid",t.isPureIntegerType(t.intervalAction.address.port)),e.Q6J("ngModel",t.intervalAction.address.port),e.xp6(8),e.Q6J("ngModel",t.intervalAction.address.path),e.xp6(7),e.Q6J("ngModel",t.intervalAction.content),e.xp6(7),e.Q6J("ngModel",t.intervalAction.contentType)}}function Je(_,a){if(1&_){const t=e.EpF();e.TgZ(0,"form"),e.TgZ(1,"div",14),e.TgZ(2,"label",63),e._uU(3,"HttpMethod"),e.qZA(),e.TgZ(4,"div",11),e.TgZ(5,"select",64),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(3).intervalAction.address.httpMethod=i}),e.TgZ(6,"option",68),e._uU(7,"DELETE"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"div",8),e.TgZ(9,"label",73),e.TgZ(10,"span",38),e._uU(11,"Host"),e.qZA(),e._UZ(12,"span",82),e.qZA(),e.TgZ(13,"div",11),e.TgZ(14,"input",74),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(3).intervalAction.address.host=i}),e.qZA(),e.TgZ(15,"div",75),e.TgZ(16,"small"),e._uU(17,"the REST address host can't be empty!"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(18,"div",8),e.TgZ(19,"label",76),e._uU(20,"Port"),e.qZA(),e.TgZ(21,"div",11),e.TgZ(22,"input",77),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(3).intervalAction.address.port=i}),e.qZA(),e.TgZ(23,"div",78),e.TgZ(24,"small"),e._uU(25,"the REST address port can't be empty and only pure integer is supported!"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(26,"div",14),e.TgZ(27,"label",79),e.TgZ(28,"span",38),e._uU(29,"Path"),e.qZA(),e._UZ(30,"span",83),e.qZA(),e.TgZ(31,"div",11),e.TgZ(32,"input",84),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(3).intervalAction.address.path=i}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(33,"div",14),e.TgZ(34,"label",85),e._uU(35,"Parameter"),e.qZA(),e.TgZ(36,"div",11),e.TgZ(37,"div",86),e.TgZ(38,"div",87),e.TgZ(39,"span",88),e._UZ(40,"i",89),e.qZA(),e.qZA(),e.TgZ(41,"input",90),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(3).coredataRequestParameter=i}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&_){const t=e.oxw(3);e.xp6(5),e.Q6J("ngModel",t.intervalAction.address.httpMethod),e.xp6(9),e.ekj("is-invalid",!t.intervalAction.address.host)("is-valid",t.intervalAction.address.host),e.Q6J("ngModel",t.intervalAction.address.host),e.xp6(8),e.ekj("is-invalid",!t.isPureIntegerType(t.intervalAction.address.port))("is-valid",t.isPureIntegerType(t.intervalAction.address.port)),e.Q6J("ngModel",t.intervalAction.address.port),e.xp6(10),e.Q6J("ngModel",t.intervalAction.address.path),e.xp6(9),e.Q6J("ngModel",t.coredataRequestParameter)}}function Ge(_,a){1&_&&(e.TgZ(0,"div"),e._uU(1," no paramters. "),e.qZA())}function ke(_,a){if(1&_&&(e.TgZ(0,"select",103),e.TgZ(1,"option",104),e._uU(2,"false"),e.qZA(),e.TgZ(3,"option",104),e._uU(4,"true"),e.qZA(),e.qZA()),2&_){const t=e.oxw().$implicit;e.MGl("id","cmd-param-",t.resourceName,""),e.s9C("name",t.resourceName),e.xp6(1),e.Q6J("ngValue",!1),e.xp6(2),e.Q6J("ngValue",!0)}}function Xe(_,a){if(1&_&&e._UZ(0,"input",105),2&_){const t=e.oxw().$implicit;e.MGl("id","cmd-param-",t.resourceName,""),e.s9C("name",t.resourceName),e.MGl("placeholder","valueType: ",t.valueType,"")}}function Qe(_,a){if(1&_&&(e.TgZ(0,"div"),e.TgZ(1,"div",14),e.TgZ(2,"label",99),e.SDv(3,100),e.qZA(),e.TgZ(4,"div",11),e.YNc(5,ke,5,4,"select",101),e.YNc(6,Xe,1,3,"ng-template",null,102,e.W1O),e.qZA(),e.qZA(),e.qZA()),2&_){const t=a.$implicit,n=e.MAs(7);e.xp6(2),e.s9C("for",t.resourceName),e.xp6(1),e.pQV(t.resourceName),e.QtT(3),e.xp6(2),e.Q6J("ngIf","Bool"==t.valueType)("ngIfElse",n)}}function we(_,a){if(1&_&&(e.TgZ(0,"div"),e.YNc(1,Ge,2,0,"div",35),e.YNc(2,Qe,8,4,"div",98),e.qZA()),2&_){const t=e.oxw(5);e.xp6(1),e.Q6J("ngIf",0==t.commandServiceTemplateRequestParameters.length),e.xp6(1),e.Q6J("ngForOf",t.commandServiceTemplateRequestParameters)}}function Fe(_,a){if(1&_){const t=e.EpF();e.TgZ(0,"div",14),e.TgZ(1,"label",106),e.TgZ(2,"span",38),e.SDv(3,107),e.qZA(),e._UZ(4,"span",108),e.qZA(),e.TgZ(5,"div",11),e.TgZ(6,"select",109),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(5).pushEventOfGetCmdParamter=i}),e.TgZ(7,"option",110),e._uU(8,"true"),e.qZA(),e.TgZ(9,"option",111),e._uU(10,"false"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(11,"div",14),e.TgZ(12,"label",112),e.TgZ(13,"span",38),e.SDv(14,113),e.qZA(),e._UZ(15,"span",114),e.qZA(),e.TgZ(16,"div",11),e.TgZ(17,"select",115),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(5).returnEventOfGetCmdParamter=i}),e.TgZ(18,"option",110),e._uU(19,"true"),e.qZA(),e.TgZ(20,"option",111),e._uU(21,"false"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&_){const t=e.oxw(5);e.xp6(6),e.Q6J("ngModel",t.pushEventOfGetCmdParamter),e.xp6(11),e.Q6J("ngModel",t.returnEventOfGetCmdParamter)}}function ze(_,a){if(1&_&&(e.TgZ(0,"div",14),e.TgZ(1,"label",79),e.SDv(2,95),e.qZA(),e.TgZ(3,"div",11),e.TgZ(4,"div",0),e.TgZ(5,"div",1),e.TgZ(6,"span"),e._uU(7,"Command Parameters Setting"),e.qZA(),e.qZA(),e.TgZ(8,"div",7),e.YNc(9,we,3,2,"div",96),e.YNc(10,Fe,22,2,"ng-template",null,97,e.W1O),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&_){const t=e.MAs(11),n=e.oxw(4);e.xp6(9),e.Q6J("ngIf","PUT"==n.intervalAction.address.httpMethod)("ngIfElse",t)}}function Ye(_,a){if(1&_){const t=e.EpF();e.TgZ(0,"form"),e.TgZ(1,"div",14),e.TgZ(2,"label",63),e.TgZ(3,"span",38),e._uU(4,"HttpMethod"),e.qZA(),e._UZ(5,"span",91),e.qZA(),e.TgZ(6,"div",11),e.TgZ(7,"input",92),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(3).intervalAction.address.httpMethod=i}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"div",8),e.TgZ(9,"label",73),e.TgZ(10,"span",38),e._uU(11,"Host"),e.qZA(),e._UZ(12,"span",82),e.qZA(),e.TgZ(13,"div",11),e.TgZ(14,"input",74),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(3).intervalAction.address.host=i}),e.qZA(),e.TgZ(15,"div",75),e.TgZ(16,"small"),e._uU(17,"the REST address host can't be empty!"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(18,"div",8),e.TgZ(19,"label",76),e._uU(20,"Port"),e.qZA(),e.TgZ(21,"div",11),e.TgZ(22,"input",77),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(3).intervalAction.address.port=i}),e.qZA(),e.TgZ(23,"div",78),e.TgZ(24,"small"),e._uU(25,"the REST address port can't be empty and only pure integer is supported!"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(26,"div",14),e.TgZ(27,"label",79),e._uU(28,"Path"),e.qZA(),e.TgZ(29,"div",11),e.TgZ(30,"app-device-core-command-combo-list",93),e.NdJ("cmdMethodEvent",function(i){return e.CHM(t),e.oxw(3).onCmdMethodSelected(i)})("commandSelectedEvent",function(i){return e.CHM(t),e.oxw(3).onCommandSelected(i)}),e.qZA(),e.qZA(),e.qZA(),e.YNc(31,ze,12,2,"div",94),e.qZA()}if(2&_){const t=e.oxw(3);e.xp6(7),e.Q6J("ngModel",t.intervalAction.address.httpMethod),e.xp6(7),e.ekj("is-invalid",!t.intervalAction.address.host)("is-valid",t.intervalAction.address.host),e.Q6J("ngModel",t.intervalAction.address.host),e.xp6(8),e.ekj("is-invalid",!t.isPureIntegerType(t.intervalAction.address.port))("is-valid",t.isPureIntegerType(t.intervalAction.address.port)),e.Q6J("ngModel",t.intervalAction.address.port),e.xp6(8),e.Q6J("validate",!0),e.xp6(1),e.Q6J("ngIf",t.intervalAction.address.path&&t.intervalAction.address.httpMethod)}}function je(_,a){if(1&_&&(e.TgZ(0,"div",null,57),e.TgZ(2,"div",58),e.YNc(3,He,57,14,"ng-template",59,60,e.W1O),e.YNc(5,Je,42,13,"ng-template",59,61,e.W1O),e.YNc(7,Ye,32,13,"ng-template",59,62,e.W1O),e.qZA(),e.qZA()),2&_){const t=e.oxw(2);e.xp6(2),e.Q6J("ngSwitch",t.templateSelected),e.xp6(1),e.Q6J("ngSwitchCase",t.template_type_custom),e.xp6(2),e.Q6J("ngSwitchCase",t.template_type_coredata),e.xp6(2),e.Q6J("ngSwitchCase",t.template_type_command)}}function Ke(_,a){if(1&_){const t=e.EpF();e.TgZ(0,"div",null,116),e.TgZ(2,"form"),e.TgZ(3,"div",8),e.TgZ(4,"label",117),e._uU(5,"Host"),e.qZA(),e.TgZ(6,"div",11),e.TgZ(7,"input",118),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(2).intervalAction.address.host=i}),e.qZA(),e.TgZ(8,"div",119),e.TgZ(9,"small"),e._uU(10,"the MQTT host can't be empty!"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(11,"div",8),e.TgZ(12,"label",120),e._uU(13,"Port"),e.qZA(),e.TgZ(14,"div",11),e.TgZ(15,"input",121),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(2).intervalAction.address.port=i}),e.qZA(),e.TgZ(16,"div",122),e.TgZ(17,"small"),e._uU(18,"the MQTT port can't be empty and only pure integer is supported!!"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(19,"div",14),e.TgZ(20,"label",41),e.TgZ(21,"span",38),e.SDv(22,123),e.qZA(),e._UZ(23,"span",43),e.qZA(),e.TgZ(24,"div",11),e.TgZ(25,"input",44),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(2).intervalAction.content=i}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(26,"div",14),e.TgZ(27,"label",45),e.TgZ(28,"span",38),e._uU(29,"ContentType"),e.qZA(),e._UZ(30,"span",46),e.qZA(),e.TgZ(31,"div",11),e.TgZ(32,"input",47),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(2).intervalAction.contentType=i}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(33,"div",8),e.TgZ(34,"label",124),e._uU(35,"Publisher"),e.qZA(),e.TgZ(36,"div",11),e.TgZ(37,"input",125),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(2).intervalAction.address.publisher=i}),e.qZA(),e.TgZ(38,"div",126),e.TgZ(39,"small"),e._uU(40,"the MQTT publisher can't be empty!"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(41,"div",8),e.TgZ(42,"label",127),e._uU(43,"Topic"),e.qZA(),e.TgZ(44,"div",11),e.TgZ(45,"input",128),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(2).intervalAction.address.topic=i}),e.qZA(),e.TgZ(46,"div",129),e.TgZ(47,"small"),e._uU(48,"the MQTT topic can't be empty!"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(49,"div",14),e.TgZ(50,"label",130),e._uU(51,"QoS"),e.qZA(),e.TgZ(52,"div",11),e.TgZ(53,"input",131),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(2).intervalAction.address.qos=i}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(54,"div",14),e.TgZ(55,"label",132),e._uU(56,"KeepAlive"),e.qZA(),e.TgZ(57,"div",11),e.TgZ(58,"input",133),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(2).intervalAction.address.keepAlive=i}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(59,"div",14),e.TgZ(60,"label",134),e._uU(61,"Retained"),e.qZA(),e.TgZ(62,"div",11),e.TgZ(63,"select",135),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(2).intervalAction.address.retained=i}),e.TgZ(64,"option",136),e._uU(65,"false"),e.qZA(),e.TgZ(66,"option",104),e._uU(67,"true"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(68,"div",14),e.TgZ(69,"label",137),e._uU(70,"AutoReconnect"),e.qZA(),e.TgZ(71,"div",11),e.TgZ(72,"select",138),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(2).intervalAction.address.autoReconnect=i}),e.TgZ(73,"option",136),e._uU(74,"true"),e.qZA(),e.TgZ(75,"option",104),e._uU(76,"false"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(77,"div",14),e.TgZ(78,"label",139),e._uU(79,"ConnectTimeout"),e.qZA(),e.TgZ(80,"div",11),e.TgZ(81,"input",140),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(2).intervalAction.address.connectTimeout=i}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&_){const t=e.oxw(2);e.xp6(7),e.ekj("is-invalid",!t.intervalAction.address.host)("is-valid",t.intervalAction.address.host),e.Q6J("ngModel",t.intervalAction.address.host),e.xp6(8),e.ekj("is-invalid",!t.isPureIntegerType(t.intervalAction.address.port))("is-valid",t.isPureIntegerType(t.intervalAction.address.port)),e.Q6J("ngModel",t.intervalAction.address.port),e.xp6(10),e.Q6J("ngModel",t.intervalAction.content),e.xp6(7),e.Q6J("ngModel",t.intervalAction.contentType),e.xp6(5),e.ekj("is-invalid",!t.intervalAction.address.publisher)("is-valid",t.intervalAction.address.publisher),e.Q6J("ngModel",t.intervalAction.address.publisher),e.xp6(8),e.ekj("is-invalid",!t.intervalAction.address.topic)("is-valid",t.intervalAction.address.topic),e.Q6J("ngModel",t.intervalAction.address.topic),e.xp6(8),e.Q6J("ngModel",t.intervalAction.address.qos),e.xp6(5),e.Q6J("ngModel",t.intervalAction.address.keepAlive),e.xp6(5),e.Q6J("ngModel",t.intervalAction.address.retained),e.xp6(1),e.Q6J("ngValue",!1),e.xp6(2),e.Q6J("ngValue",!0),e.xp6(6),e.Q6J("ngModel",t.intervalAction.address.autoReconnect),e.xp6(1),e.Q6J("ngValue",!0),e.xp6(2),e.Q6J("ngValue",!1),e.xp6(6),e.Q6J("ngModel",t.intervalAction.address.connectTimeout)}}function Be(_,a){if(1&_){const t=e.EpF();e.TgZ(0,"div",7),e.TgZ(1,"form"),e.TgZ(2,"div",8),e.TgZ(3,"label",9),e.SDv(4,10),e.qZA(),e.TgZ(5,"div",11),e.TgZ(6,"input",12),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().intervalAction.name=i}),e.qZA(),e.TgZ(7,"div",13),e.TgZ(8,"small"),e._uU(9,"the interval action name can't be empty!"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(10,"div",14),e.TgZ(11,"label",15),e.SDv(12,16),e.qZA(),e.TgZ(13,"div",11),e.YNc(14,Ue,2,2,"div",17),e.qZA(),e.qZA(),e.TgZ(15,"div",14),e.TgZ(16,"label",18),e.SDv(17,19),e.qZA(),e.TgZ(18,"div",11),e.TgZ(19,"select",20),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().intervalAction.adminState=i}),e.TgZ(20,"option",21),e._uU(21,"UNLOCKED"),e.qZA(),e.TgZ(22,"option",22),e._uU(23,"LOCKED"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(24,"div",14),e.TgZ(25,"label",23),e.SDv(26,24),e.qZA(),e.TgZ(27,"div",11),e.TgZ(28,"div",0),e.TgZ(29,"div",1),e.TgZ(30,"div",25),e.TgZ(31,"span",26),e.TgZ(32,"input",27),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().intervalAction.address.type=i})("change",function(){return e.CHM(t),e.oxw().typeToggle("REST")}),e.qZA(),e.TgZ(33,"label",28),e._uU(34,"REST"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(35,"div",25),e.TgZ(36,"span",29),e.NdJ("click",function(){return e.CHM(t),e.oxw().typeToggle("MQTT")}),e.TgZ(37,"input",30),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().intervalAction.address.type=i}),e.qZA(),e.TgZ(38,"label",31),e._uU(39,"MQTT"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(40,"div",25),e.TgZ(41,"span",29),e.NdJ("click",function(){return e.CHM(t),e.oxw().typeToggle("EMAIL")}),e.TgZ(42,"input",32),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().intervalAction.address.type=i}),e.qZA(),e.TgZ(43,"label",33),e._uU(44,"EMAIL"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(45,xe,10,12,"div",34),e.TgZ(46,"div",7),e.YNc(47,je,9,4,"div",35),e.YNc(48,Ke,82,31,"div",35),e.TgZ(49,"div",null,36),e.TgZ(51,"form"),e.TgZ(52,"div",14),e.TgZ(53,"label",37),e.TgZ(54,"span",38),e._uU(55,"EmailRecipients"),e.qZA(),e._UZ(56,"span",39),e.qZA(),e.TgZ(57,"div",11),e.TgZ(58,"input",40),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().addressEmailRecipients=i}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(59,"div",14),e.TgZ(60,"label",41),e.TgZ(61,"span",38),e.SDv(62,42),e.qZA(),e._UZ(63,"span",43),e.qZA(),e.TgZ(64,"div",11),e.TgZ(65,"input",44),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().intervalAction.content=i}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(66,"div",14),e.TgZ(67,"label",45),e.TgZ(68,"span",38),e._uU(69,"ContentType"),e.qZA(),e._UZ(70,"span",46),e.qZA(),e.TgZ(71,"div",11),e.TgZ(72,"input",47),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().intervalAction.contentType=i}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&_){const t=e.oxw();e.xp6(6),e.ekj("is-invalid",!t.intervalAction.name)("is-valid",t.intervalAction.name),e.Q6J("ngModel",t.intervalAction.name),e.xp6(8),e.Q6J("ngIf",t.selectedIntervalDefault),e.xp6(5),e.Q6J("ngModel",t.intervalAction.adminState),e.xp6(12),e.ekj("badge-secondary",t.intervalAction.address.type!==t.addr_type_REST)("badge-primary",t.intervalAction.address.type===t.addr_type_REST),e.xp6(1),e.Q6J("ngModel",t.intervalAction.address.type),e.xp6(4),e.ekj("badge-secondary",t.intervalAction.address.type!==t.addr_type_MQTT)("badge-primary",t.intervalAction.address.type===t.addr_type_MQTT),e.xp6(1),e.Q6J("ngModel",t.intervalAction.address.type),e.xp6(4),e.ekj("badge-secondary",t.intervalAction.address.type!==t.addr_type_EMAIL)("badge-primary",t.intervalAction.address.type===t.addr_type_EMAIL),e.xp6(1),e.Q6J("ngModel",t.intervalAction.address.type),e.xp6(3),e.Q6J("ngIf",t.intervalAction.address.type===t.addr_type_REST),e.xp6(2),e.Q6J("ngIf","REST"===t.intervalAction.address.type),e.xp6(1),e.Q6J("ngIf",(null==t.intervalAction.address?null:t.intervalAction.address.type)===t.addr_type_MQTT),e.xp6(1),e.Udp("display",t.intervalAction.address.type!==t.addr_type_EMAIL?"none":""),e.xp6(9),e.Q6J("ngModel",t.addressEmailRecipients),e.xp6(7),e.Q6J("ngModel",t.intervalAction.content),e.xp6(7),e.Q6J("ngModel",t.intervalAction.contentType)}}let We=(()=>{class _{constructor(t,n,i,o,r){this.schedulerSvc=t,this.msgSvc=n,this.route=i,this.router=o,this.errorSvc=r,this.addr_type_REST="REST",this.addr_type_MQTT="MQTT",this.addr_type_EMAIL="EMAIL",this.template_type_coredata="coredata",this.template_type_command="command",this.template_type_custom="custom",this.addressEmailRecipients="",this.templateSelected="custom",this.coredataRequestParameter="",this.commandServiceTemplateRequestParameters=[],this.pushEventOfGetCmdParamter="true",this.returnEventOfGetCmdParamter="true",this.coredataSvcAvailableAPI=["/api/v3/event/age/"],this.intervalAction={},this.intervalActionOrigin={},this.intervalAction.address={}}ngOnInit(){this.renderPopoverComponent(),this.route.queryParams.subscribe(t=>{t.intervalActionName&&this.schedulerSvc.findIntervalActionByName(t.intervalActionName).subscribe(n=>{this.intervalAction=JSON.parse(JSON.stringify(n.action)),this.intervalActionOrigin=JSON.parse(JSON.stringify(n.action)),this.intervalActionOrigin.adminState=""===this.intervalActionOrigin.adminState?"UNLOCKED":this.intervalActionOrigin.adminState,this.intervalAction.adminState=""===this.intervalAction.adminState?"UNLOCKED":this.intervalAction.adminState,this.addressEmailRecipients=this.intervalAction.address.recipients?this.intervalAction.address.recipients.toString():"",this.findDefaultSelectedIntervalByName(this.intervalAction.intervalName),setTimeout(()=>{this.renderPopoverComponent(),this.initDatePickr()},300)})})}initDatePickr(){let t=this;this.calendarStart=(0,P.Z)("input[name='coredataRequestParameter']",{dateFormat:"YmdTHiS",enableTime:!0,enableSeconds:!0,time_24hr:!0,allowInput:!1,onChange:function(n,i,o){t.intervalAction.address.path=t.coredataSvcAvailableAPI[0]+i}})}setActionDefaultProperties(){switch(this.intervalAction.address.type){case this.addr_type_REST:this.intervalAction.address.httpMethod="GET";break;case this.addr_type_MQTT:this.intervalAction.address.retained=!1,this.intervalAction.address.autoReconnect=!0}}findDefaultSelectedIntervalByName(t){this.schedulerSvc.findIntervalByName(t).subscribe(n=>{this.selectedIntervalDefault=n.interval})}renderPopoverComponent(){$('[data-toggle="popover"]').popover({trigger:"hover"})}renderCoredataDefaultTemplate(){this.intervalAction.address.httpMethod="DELETE",this.intervalAction.address.host="edgex-core-data",this.intervalAction.address.port=59880,this.intervalAction.address.path=this.coredataSvcAvailableAPI[0],setTimeout(()=>{this.renderPopoverComponent(),this.initDatePickr()},300)}templateToggle(t){switch(this.intervalAction=JSON.parse(JSON.stringify(this.intervalActionOrigin)),this.intervalAction.address.type=this.addr_type_REST,this.templateSelected=t,this.templateSelected){case this.template_type_coredata:this.renderCoredataDefaultTemplate();break;case this.template_type_command:this.intervalAction.address.path="",this.intervalAction.address.httpMethod="",setTimeout(()=>{this.renderPopoverComponent()},300);break;case this.template_type_custom:setTimeout(()=>{this.renderPopoverComponent()},300)}}typeToggle(t){this.intervalAction=JSON.parse(JSON.stringify(this.intervalActionOrigin)),this.intervalAction.address.type=t,this.templateSelected="custom",setTimeout(()=>{this.renderPopoverComponent()},300)}onCmdMethodSelected(t){this.intervalAction.address.httpMethod=t,setTimeout(()=>{this.renderPopoverComponent()},500)}onCommandSelected(t){this.intervalAction.address.path=t.path,this.commandServiceTemplateRequestParameters=t.parameters}onSingleIntervalSelected(t){this.intervalAction.intervalName=t.name}isPureIntegerType(t){return!isNaN(t)&&parseFloat(t)===parseInt(t)}validate(){let t=!0,n=this.intervalAction.name&&this.intervalAction.intervalName;switch(this.intervalAction.address.type){case this.addr_type_REST:n&&this.intervalAction.address.host&&this.isPureIntegerType(this.intervalAction.address.port)&&this.intervalAction.address.path&&this.intervalAction.address.httpMethod&&(t=!1);break;case this.addr_type_MQTT:n&&this.intervalAction.address.host&&this.isPureIntegerType(this.intervalAction.address.port)&&this.intervalAction.address.publisher&&this.intervalAction.address.topic&&(t=!1);break;case this.addr_type_EMAIL:n&&(t=!1)}return t}getAllCmdTemplateParametersValue(){var t;if(this.intervalAction.address.type!==this.addr_type_REST||this.templateSelected!==this.template_type_command||"GET"==this.intervalAction.address.httpMethod)return"";let n={};return null===(t=this.commandServiceTemplateRequestParameters)||void 0===t||t.forEach(i=>{""!==$(`#cmd-param-${i.resourceName}`).val().trim()&&(n[i.resourceName]=$(`#cmd-param-${i.resourceName}`).val().trim())}),JSON.stringify(n)}resolveCommandTemplateParameterSuffix(){if(-1!==this.intervalAction.address.path.indexOf("ds-pushevent")||-1!==this.intervalAction.address.path.indexOf("ds-returnevent")){let t=this.intervalAction.address.path.split("?");this.intervalAction.address.path=t[0],t[1].split("&").forEach(o=>{let r=o.split("=");"ds-pushevent"===r[0]?this.pushEventOfGetCmdParamter=r[1]:"ds-returnevent"===r[0]&&(this.returnEventOfGetCmdParamter=r[1])})}}resetPathParameterSuffix(){(-1!==this.intervalAction.address.path.indexOf("ds-pushevent")||-1!==this.intervalAction.address.path.indexOf("ds-returnevent"))&&(this.intervalAction.address.path=this.intervalAction.address.path.split("?")[0]),this.intervalAction.address.path=`${this.intervalAction.address.path}?ds-pushevent=${this.pushEventOfGetCmdParamter}&ds-returnevent=${this.returnEventOfGetCmdParamter}`}save(){this.intervalAction.address.recipients=this.addressEmailRecipients.split(","),this.intervalAction.address.port=Number(this.intervalAction.address.port),this.intervalAction.address.type===this.addr_type_REST&&this.templateSelected===this.template_type_command&&("GET"===this.intervalAction.address.httpMethod?this.resetPathParameterSuffix():"PUT"===this.intervalAction.address.httpMethod&&(this.intervalAction.content=this.getAllCmdTemplateParametersValue())),this.schedulerSvc.updateIntervalAction(this.intervalAction).subscribe(t=>{this.errorSvc.handleErrorForAPI(t)||(this.msgSvc.success("Update interval action",`name: ${this.intervalAction.name}`),this.router.navigate(["../interval-action-list"],{relativeTo:this.route}))})}}return _.\u0275fac=function(t){return new(t||_)(e.Y36(h.G),e.Y36(T.e),e.Y36(s.gz),e.Y36(s.F0),e.Y36(p.T))},_.\u0275cmp=e.Xpm({type:_,selectors:[["app-edit-interval-action"]],decls:8,vars:2,consts:function(){let a,t,n,i,o,r,N,A,v,m,f,S,R,Z,L,M,c;return a="Edit Interval Action",t="Save",n="Name",i="IntervalName",o="AdminState",r="Address",N="Content",A="Available and Editable templates >>",v="CoreDataSeviceTemplate",m="CommandServiceTemplate",f="CustomTemplate",S="Content",R="Parameters",Z="" + "\ufffd0\ufffd" + "",L="pushevent",M="returnevent",c="Content",[[1,"card"],[1,"card-header"],[1,"fa","fa-edit","text-danger","mr-1"],a,[1,"btn","btn-sm","btn-success","float-right",3,"disabled","click"],t,["class","card-body",4,"ngIf"],[1,"card-body"],[1,"form-group","row","has-validation"],["for","intervalActionName","required","",1,"col-md-2","col-form-label"],n,[1,"col-md-10"],["type","text","id","validationIntervalActionName","name","intervalActionName","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","validationIntervalActionNameFeedback",1,"invalid-feedback"],[1,"form-group","row"],["for","intervalName",1,"col-md-2","col-form-label"],i,["class","mb-3",4,"ngIf"],["for","adminState",1,"col-md-2","col-form-label"],o,["name","adminState",1,"custom-select",3,"ngModel","ngModelChange"],["value","UNLOCKED"],["value","LOCKED"],["for","Address",1,"col-md-2","col-form-label"],r,[1,"form-check","form-check-inline"],[1,"badge"],["type","radio","name","inlineRadioOptions","id","REST","value","REST",1,"form-check-input",3,"ngModel","ngModelChange","change"],["for","REST",1,"form-check-label"],[1,"badge",3,"click"],["type","radio","name","inlineRadioOptions","id","MQTT","value","MQTT",1,"form-check-input",3,"ngModel","ngModelChange"],["for","MQTT",1,"form-check-label"],["type","radio","name","inlineRadioOptions","id","EMAIL","value","EMAIL",1,"form-check-input",3,"ngModel","ngModelChange"],["for","EMAIL",1,"form-check-label"],["class","card-header",4,"ngIf"],[4,"ngIf"],["EMAIL",""],["for","emailRecipients",1,"col-md-2","col-form-label"],[1,"mr-2"],["role","button","data-html","false","data-animation","true","data-trigger","focus","data-toggle","popover","title","format tips","data-content","Multiple email addresses are separated by commas",1,"fa","fa-question-circle-o","fa-lg"],["type","text","id","emailRecipients","name","emailRecipients",1,"form-control",3,"ngModel","ngModelChange"],["for","Content",1,"col-md-2","col-form-label"],N,["role","button","data-html","false","data-animation","true","data-trigger","focus","data-toggle","popover","title","tips","data-content","the actual content to be sent as the body,such as one string format of JSON",1,"fa","fa-question-circle-o","fa-lg"],["type","text","id","Content","name","Content",1,"form-control",3,"ngModel","ngModelChange"],["for","ContentType",1,"col-md-2","col-form-label"],["role","button","data-html","false","data-animation","true","data-trigger","focus","data-toggle","popover","title","tips","data-content","Indicates which request contentType should be used (i.e. text/html, application/json), the default is application/json if not setup",1,"fa","fa-question-circle-o","fa-lg"],["type","text","id","ContentType","name","ContentType",1,"form-control",3,"ngModel","ngModelChange"],[1,"mb-3"],[3,"validate","selectedInterval","intervalSelectedEvent"],[1,"mr-2","text-primary"],A,["role","button","data-html","false","data-animation","true","data-trigger","focus","data-toggle","popover","title","tips","data-content","custom template will be choosed by default",1,"fa","fa-question-circle-o","fa-lg","mr-2"],["role","button",1,"badge","mr-2",3,"click"],v,m,f,["REST",""],[3,"ngSwitch"],[3,"ngSwitchCase"],["customTemplate",""],["coredataTemplate",""],["commandTemplate",""],["for","HttpMethod","required","",1,"col-md-2","col-form-label"],["type","text","name","httpMethod",1,"custom-select",3,"ngModel","ngModelChange"],["value","GET"],["value","POST"],["value","PUT"],["value","DELETE"],["value","PATCH"],["value","HEAD"],["value","TRACE"],["value","CONNECT"],["for","addressHostREST","required","",1,"col-md-2","col-form-label"],["type","text","id","addressHostREST","name","addressHost","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","addressHostRESTFeedback",1,"invalid-feedback"],["for","addressPortREST","required","",1,"col-md-2","col-form-label"],["type","text","id","addressPortREST","name","addressPort","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","addressPortRESTFeedback",1,"invalid-feedback"],["for","addressPath","required","",1,"col-md-2","col-form-label"],["type","text","id","addressPath","name","addressPath",1,"form-control",3,"ngModel","ngModelChange"],S,["role","button","data-html","false","data-animation","true","data-trigger","focus","data-toggle","popover","title","tips","data-content","Both Host and Port fields are editable if you have a different host address !",1,"fa","fa-question-circle-o","fa-lg"],["role","button","data-html","false","data-animation","true","data-trigger","focus","data-toggle","popover","title","tips","data-content","Remove all old events (and associated readings) based on delimiting age, the parameters delimiting age will be filled up automatically when parameters field is selected!",1,"fa","fa-question-circle-o","fa-lg"],["type","text","id","addressPath","name","addressPath","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["for","requestBody","required","",1,"col-md-2","col-form-label"],[1,"input-group"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"fa","fa-calendar"],["type","text","name","coredataRequestParameter",1,"form-control",3,"ngModel","ngModelChange"],["role","button","data-html","false","data-animation","true","data-trigger","focus","data-toggle","popover","title","tips","data-content","httpMethod field will be filled up automatically when the path field is selected! ",1,"fa","fa-question-circle-o","fa-lg"],["type","text","name","httpMethod","disabled","","required","",1,"form-control",3,"ngModel","ngModelChange"],[3,"validate","cmdMethodEvent","commandSelectedEvent"],["class","form-group row",4,"ngIf"],R,[4,"ngIf","ngIfElse"],["getParameter",""],[4,"ngFor","ngForOf"],[1,"col-md-2","col-form-label",3,"for"],Z,["class","custom-select",3,"id","name",4,"ngIf","ngIfElse"],["valueTypeIsNotBool",""],[1,"custom-select",3,"id","name"],[3,"ngValue"],["type","text",1,"form-control",3,"id","name","placeholder"],["for","ds-pushevent",1,"col-md-2","col-form-label"],L,["role","button","data-html","false","data-animation","true","data-trigger","focus","data-toggle","popover","title","tips","data-content","true indicates a successful GET will result in an event being pushed to the EdgeX system",1,"fa","fa-question-circle-o","fa-lg"],["id","ds-pushevent","name","ds-pushevent",1,"custom-select",3,"ngModel","ngModelChange"],["value","true"],["value","false"],["for","ds-returnevent",1,"col-md-2","col-form-label"],M,["role","button","data-html","false","data-animation","true","data-trigger","focus","data-toggle","popover","title","tips","data-content","no indicates there will be no Event returned in the http response",1,"fa","fa-question-circle-o","fa-lg"],["id","ds-returnevent","name","ds-returnevent",1,"custom-select",3,"ngModel","ngModelChange"],["MQTT",""],["for","addressHost","required","",1,"col-md-2","col-form-label"],["type","text","id","addressHost","name","addressHost","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","addressHostFeedback",1,"invalid-feedback"],["for","addressPort","required","",1,"col-md-2","col-form-label"],["type","text","id","addressPort","name","addressPort","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","addressPortFeedback",1,"invalid-feedback"],c,["for","addressPublisher","required","",1,"col-md-2","col-form-label"],["type","text","id","addressPublisher","name","addressPublisher","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","addressPublisherFeedback",1,"invalid-feedback"],["for","addressTopic","required","",1,"col-md-2","col-form-label"],["type","text","id","addressTopic","name","addressTopic","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","addressTopicFeedback",1,"invalid-feedback"],["for","addressQoS","required","",1,"col-md-2","col-form-label"],["type","number","id","addressQoS","name","addressQoS","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","addressKeepAlive","required","",1,"col-md-2","col-form-label"],["type","number","id","addressKeepAlive","name","addressKeepAlive",1,"form-control",3,"ngModel","ngModelChange"],["for","addressRetained","required","",1,"col-md-2","col-form-label"],["type","text","id","addressRetained","name","addressRetained",1,"custom-select",3,"ngModel","ngModelChange"],["selected","",3,"ngValue"],["for","addressAutoReconnect","required","",1,"col-md-2","col-form-label"],["type","text","id","addressAutoReconnect","name","addressAutoReconnect",1,"custom-select",3,"ngModel","ngModelChange"],["for","addressConnectTimeout","required","",1,"col-md-2","col-form-label"],["type","number","id","addressConnectTimeout","name","addressConnectTimeout",1,"form-control",3,"ngModel","ngModelChange"]]},template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e._UZ(2,"i",2),e.TgZ(3,"span"),e.SDv(4,3),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return n.save()}),e.SDv(6,5),e.qZA(),e.qZA(),e.YNc(7,Be,73,30,"div",6),e.qZA()),2&t&&(e.xp6(5),e.Q6J("disabled",n.validate()),e.xp6(2),e.Q6J("ngIf",n.intervalAction))},directives:[I.O5,l._Y,l.JL,l.F,l.Fj,l.Q7,l.JJ,l.On,l.EJ,l.YN,l.Kr,l._,U,I.RF,I.n9,x.P,I.sg,l.wV],styles:[""]}),_})();var et=g(8253),tt=g(1964),nt=g(4294),it=g(5894),ot=g(7216);let H=(()=>{class _{constructor(t,n){this.router=t,this.schedulerSvc=n}canActivate(t,n){return this.checkAvailable(t,n)}canActivateChild(t,n){return this.canActivate(t,n)}checkAvailable(t,n){return this.schedulerSvc.ping().pipe((0,nt.q)(1),(0,it.K)(i=>this.router.navigate(["/svc-unavailable"],{queryParams:{svcName:"scheduler",routerPath:`/${n.url.split("/")[1]}`}})),(0,ot.z)(()=>(0,tt.of)(!0)))}}return _.\u0275fac=function(t){return new(t||_)(e.LFG(s.F0),e.LFG(h.G))},_.\u0275prov=e.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();const _t=[{path:"",component:q,canActivate:[et.a,H],canActivateChild:[H],children:[{path:"",redirectTo:"interval-center",pathMatch:"full"},{path:"interval-center",component:D,children:[{path:"",redirectTo:"interval-list",pathMatch:"full"},{path:"interval-list",component:y},{path:"add-interval",component:Ce},{path:"edit-interval",component:Ie}]},{path:"interval-action-center",component:ue,children:[{path:"",redirectTo:"interval-action-list",pathMatch:"full"},{path:"interval-action-list",component:fe},{path:"add-interval-action",component:ye},{path:"edit-interval-action",component:We}]}]}];let at=(()=>{class _{}return _.\u0275fac=function(t){return new(t||_)},_.\u0275mod=e.oAB({type:_}),_.\u0275inj=e.cJS({imports:[[s.Bz.forChild(_t)],s.Bz]}),_})();var lt=g(6342);let dt=(()=>{class _{}return _.\u0275fac=function(t){return new(t||_)},_.\u0275mod=e.oAB({type:_}),_.\u0275inj=e.cJS({imports:[[I.ez,l.u5,lt.Y,at]]}),_})()},7982:(Ee,b,g)=>{g.d(b,{V:()=>q});var I=g(1841),l=g(5894),s=g(476),e=g(4889);let q=(()=>{class D{constructor(T,p){this.http=T,this.errorSvc=p,this.endpoint="/core-command",this.version="/api/v3",this.urlPrefix=`${this.endpoint}${this.version}`,this.endpointHealthUrl="/ping",this.versionUrl="/version",this.configUrl="/config",this.deviceCoreCommandListUrl=`${this.urlPrefix}/device/all`,this.commandsByDeviceIdUrl=`${this.urlPrefix}/device/`,this.commandsByDeviceNameUrl=`${this.urlPrefix}/device/name/`,this.issueCmdByDeviceNameAndCmdNameUrl=`${this.urlPrefix}/device/name/`,this.httpPostOrPutJSONOptions={headers:new I.WM({"Content-type":"application/json"})}}getConfig(){return this.http.get(`${this.urlPrefix}${this.configUrl}`).pipe((0,l.K)(p=>this.errorSvc.handleError(p)))}findCommnadsByDeviceId(T){return this.http.get(`${this.commandsByDeviceIdUrl}${T}`).pipe((0,l.K)(u=>this.errorSvc.handleError(u)))}allDeviceCoreCommandsPagination(T,p){return this.http.get(`${this.deviceCoreCommandListUrl}?offset=${T}&limit=${p}`).pipe((0,l.K)(O=>this.errorSvc.handleError(O)))}findDeviceAssociatedCommnadsByDeviceName(T){return this.http.get(`${this.commandsByDeviceNameUrl}${T}`).pipe((0,l.K)(u=>this.errorSvc.handleError(u)))}findAllDeviceCommnads(){return this.http.get(`${this.urlPrefix}/device`).pipe((0,l.K)(p=>this.errorSvc.handleError(p)))}issueGetBinaryCmd(T,p){return this.http.request("GET",`${this.commandsByDeviceIdUrl}${T}/command/${p}`,{responseType:"arraybuffer"}).pipe((0,l.K)(O=>this.errorSvc.handleError(O)))}issueGetCmd(T,p){return this.http.get(`${this.issueCmdByDeviceNameAndCmdNameUrl}${T}/${p}?ds-pushevent=true&ds-returnevent=true`).pipe((0,l.K)(O=>this.errorSvc.handleError(O)))}issueSetCmd(T,p,u){return this.http.put(`${this.issueCmdByDeviceNameAndCmdNameUrl}${T}/${p}`,JSON.stringify(u),this.httpPostOrPutJSONOptions).pipe((0,l.K)(V=>this.errorSvc.handleError(V)))}}return D.\u0275fac=function(T){return new(T||D)(s.LFG(I.eN),s.LFG(e.T))},D.\u0275prov=s.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})()}}]);