(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"1ahc":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n("tk/3"),a=n("JIr8"),r=n("fXoL"),l=n("9vc0");let o=(()=>{class e{constructor(e,t){this.http=e,this.errorSvc=t,this.endpoint="/scheduler",this.version="/api/v2",this.urlPrefix=`${this.endpoint}${this.version}`,this.configUrl="/config",this.intervalListUrl=this.urlPrefix+"/interval/all",this.addOneIntervalUrl=this.urlPrefix+"/interval",this.updateOneIntervalUrl=this.urlPrefix+"/interval",this.findOneIntervalByNameUrl=this.urlPrefix+"/interval/name/",this.deleteOneIntervalByNameUrl=this.urlPrefix+"/interval/name/",this.intervalActionListUrl=this.urlPrefix+"/intervalaction/all",this.addOneIntervalActionUrl=this.urlPrefix+"/intervalaction",this.updateOneIntervaActionlUrl=this.urlPrefix+"/intervalaction",this.findOneIntervalActionByNameUrl=this.urlPrefix+"/intervalaction/name/",this.deleteOneIntervalActionByNameUrl=this.urlPrefix+"/intervalaction/name/",this.httpPostOrPutJSONOptions={headers:new i.c({"Content-type":"application/json",Authorization:""})}}getConfig(){return this.http.get(`${this.urlPrefix}${this.configUrl}`).pipe(Object(a.a)(e=>this.errorSvc.handleError(e)))}findAllIntervalsPagination(e,t){return this.http.get(`${this.intervalListUrl}?offset=${e}&limit=${t}`).pipe(Object(a.a)(e=>this.errorSvc.handleError(e)))}addInterval(e){return this.http.post(""+this.addOneIntervalUrl,JSON.stringify([{apiVersion:"v2",interval:e}]),this.httpPostOrPutJSONOptions).pipe(Object(a.a)(e=>this.errorSvc.handleError(e)))}updateInterval(e){return this.http.patch(""+this.updateOneIntervalUrl,JSON.stringify([{apiVersion:"v2",interval:e}]),this.httpPostOrPutJSONOptions).pipe(Object(a.a)(e=>this.errorSvc.handleError(e)))}findIntervalByName(e){return this.http.get(`${this.findOneIntervalByNameUrl}${e}`).pipe(Object(a.a)(e=>this.errorSvc.handleError(e)))}deleteIntervalByName(e){return this.http.delete(`${this.deleteOneIntervalByNameUrl}${e}`).pipe(Object(a.a)(e=>this.errorSvc.handleError(e)))}findAllIntervalActionsPagination(e,t){return this.http.get(`${this.intervalActionListUrl}?offset=${e}&limit=${t}`).pipe(Object(a.a)(e=>this.errorSvc.handleError(e)))}addIntervalAction(e){return this.http.post(""+this.addOneIntervalActionUrl,JSON.stringify([{apiVersion:"v2",action:e}]),this.httpPostOrPutJSONOptions).pipe(Object(a.a)(e=>this.errorSvc.handleError(e)))}updateIntervalAction(e){return this.http.patch(""+this.updateOneIntervaActionlUrl,JSON.stringify([{apiVersion:"v2",action:e}]),this.httpPostOrPutJSONOptions).pipe(Object(a.a)(e=>this.errorSvc.handleError(e)))}findIntervalActionByName(e){return this.http.get(`${this.findOneIntervalActionByNameUrl}${e}`).pipe(Object(a.a)(e=>this.errorSvc.handleError(e)))}deleteIntervalActionByName(e){return this.http.delete(`${this.deleteOneIntervalActionByNameUrl}${e}`).pipe(Object(a.a)(e=>this.errorSvc.handleError(e)))}}return e.\u0275fac=function(t){return new(t||e)(r.Pb(i.a),r.Pb(l.a))},e.\u0275prov=r.Db({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},lzfX:function(e,t,n){"use strict";n.r(t),n.d(t,"SchedulerModule",function(){return j});var i=n("ofXK"),a=n("3Pt+"),r=n("tyNb"),l=n("fXoL");let o=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Bb({type:e,selectors:[["app-scheduler"]],decls:11,vars:0,consts:[[1,"card"],[1,"card-header"],[1,"nav","nav-tabs","card-header-tabs","font-weight-bold"],[1,"nav-item"],["routerLink","./interval-center","routerLinkActive","active",1,"nav-link"],["routerLink","./interval-action-center","routerLinkActive","active",1,"nav-link"],[1,"card-body"]],template:function(e,t){1&e&&(l.Kb(0,"div",0),l.Kb(1,"div",1),l.Kb(2,"ul",2),l.Kb(3,"li",3),l.Kb(4,"a",4),l.lc(5,"Interval"),l.Jb(),l.Jb(),l.Kb(6,"li",3),l.Kb(7,"a",5),l.lc(8,"IntervalAction"),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Kb(9,"div",6),l.Ib(10,"router-outlet"),l.Jb(),l.Jb())},directives:[r.h,r.g,r.j],styles:[""]}),e})(),d=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Bb({type:e,selectors:[["app-interval-center"]],decls:1,vars:0,template:function(e,t){1&e&&l.Ib(0,"router-outlet")},directives:[r.j],styles:[""]}),e})();var b=n("1ahc"),s=n("hsl2"),c=n("9vc0");function v(e,t){if(1&e){const e=l.Lb();l.Kb(0,"div",36),l.Kb(1,"div",37),l.Kb(2,"button",38),l.Sb("click",function(){return l.fc(e),l.Ub().refresh()}),l.Kb(3,"span"),l.Ib(4,"i",39),l.lc(5,"Refresh"),l.Jb(),l.Jb(),l.Kb(6,"button",40),l.Kb(7,"span"),l.Ib(8,"i",41),l.lc(9,"Add"),l.Jb(),l.Jb(),l.Kb(10,"button",42),l.Sb("click",function(){return l.fc(e),l.Ub().edit()}),l.Kb(11,"span"),l.Ib(12,"i",43),l.lc(13,"Edit"),l.Jb(),l.Jb(),l.Kb(14,"button",44),l.Sb("click",function(){return l.fc(e),l.Ub().deleteConfirm()}),l.Kb(15,"span"),l.Ib(16,"i",45),l.lc(17,"Delete"),l.Jb(),l.Jb(),l.Jb(),l.Jb()}if(2&e){const e=l.Ub();l.wb(10),l.Xb("disabled",1!==e.intervalSelected.length),l.wb(4),l.Xb("disabled",0===e.intervalSelected.length)}}function p(e,t){if(1&e){const e=l.Lb();l.Kb(0,"input",46),l.Sb("click",function(t){return l.fc(e),l.Ub().selectAll(t)}),l.Jb()}if(2&e){const e=l.Ub();l.Xb("checked",e.isCheckedAll)}}function h(e,t){if(1&e){const e=l.Lb();l.Kb(0,"tr"),l.Kb(1,"td"),l.Kb(2,"input",46),l.Sb("click",function(n){l.fc(e);const i=t.$implicit;return l.Ub().selectOne(n,i)}),l.Jb(),l.Jb(),l.Kb(3,"td",47),l.lc(4),l.Jb(),l.Kb(5,"td",47),l.lc(6),l.Jb(),l.Kb(7,"td"),l.lc(8),l.Jb(),l.Kb(9,"td"),l.lc(10),l.Jb(),l.Kb(11,"td"),l.lc(12),l.Jb(),l.Kb(13,"td"),l.lc(14),l.Jb(),l.Jb()}if(2&e){const e=t.$implicit,n=l.Ub();l.zb("table-active",n.isChecked(e.name)),l.wb(2),l.Xb("checked",n.isChecked(e.name)),l.wb(2),l.mc(e.id),l.wb(2),l.mc(e.name),l.wb(2),l.mc(e.start),l.wb(2),l.mc(e.end),l.wb(2),l.mc(e.interval),l.wb(2),l.mc(!!e.runOnce)}}let u=(()=>{class e{constructor(e,t,n,i,a){this.schedulerSvc=e,this.msgSvc=t,this.route=n,this.router=i,this.errSvc=a,this.enableSelectAll=!0,this.singleIntervalSelectedEvent=new l.n,this.toolbars=!0,this.intervalList=[],this.intervalSelected=[],this.isCheckedAll=!1,this.pagination=1,this.pageLimit=5,this.pageOffset=(this.pagination-1)*this.pageLimit}ngOnInit(){this.route.queryParams.subscribe(e=>{e.intervalName?this.schedulerSvc.findIntervalByName(e.intervalName).subscribe(e=>{this.intervalList=[],this.intervalList.push(e.interval)}):this.findIntervalsPagination()})}refresh(){this.schedulerSvc.findAllIntervalsPagination(0,this.pageLimit).subscribe(e=>{this.errSvc.handleErrorForV2API(e)||(this.intervalList=e.intervals,this.msgSvc.success("refresh"),this.resetPagination())})}findIntervalsPagination(){this.schedulerSvc.findAllIntervalsPagination(this.pageOffset,this.pageLimit).subscribe(e=>{this.errSvc.handleErrorForV2API(e)||(this.intervalList=e.intervals)})}onSingleIntervalSelectedEmitter(){this.singleIntervalSelectedEvent.emit(this.singleIntervalSelected)}isSingleChecked(e){var t;return(null===(t=this.singleIntervalSelected)||void 0===t?void 0:t.name)===e}selectSingleInterval(e,t){e.target.checked?this.intervalList.forEach(e=>{e.name===t&&(this.singleIntervalSelected=e)}):this.singleIntervalSelected={},this.onSingleIntervalSelectedEmitter()}selectAll(e){if(e.target.checked)return this.intervalSelected=[],this.intervalList.forEach(e=>{this.intervalSelected.push(e),this.isChecked(e.name)}),void(this.isCheckedAll=!0);this.isCheckedAll=!1,this.intervalSelected=[],this.intervalList.forEach(e=>{this.isChecked(e.name)})}isChecked(e){return this.enableSelectAll?this.intervalSelected.findIndex(t=>t.name===e)>=0:this.isSingleChecked(e)}selectOne(e,t){if(this.enableSelectAll)return e.target.checked?(this.intervalSelected.push(t),void(this.intervalSelected.length===this.intervalList.length&&(this.isCheckedAll=!0))):(this.isCheckedAll=!1,this.isChecked(t.name),void this.intervalSelected.splice(this.intervalSelected.indexOf(t),1));this.selectSingleInterval(e,t.name)}edit(){this.router.navigate(["../edit-interval"],{relativeTo:this.route,queryParams:{intervalName:this.intervalSelected[0].name}})}deleteConfirm(){$("#deleteConfirmDialog").modal("show")}deleteIntervals(){this.intervalSelected.forEach((e,t)=>{this.schedulerSvc.deleteIntervalByName(e.name).subscribe(n=>{this.errSvc.handleErrorForV2API(n)||(this.intervalSelected.splice(t,1),this.intervalList.forEach((t,n)=>{t.name!==e.name||this.intervalList.splice(n,1)}),this.msgSvc.success("delete","name: "+e.name),this.resetPagination(),this.findIntervalsPagination())})}),$("#deleteConfirmDialog").modal("hide")}onPageSelected(){this.resetPagination(),this.setPagination(),this.findIntervalsPagination()}prePage(){this.setPagination(-1),this.findIntervalsPagination()}nextPage(){this.setPagination(1),this.findIntervalsPagination()}setPagination(e){1===e?this.pagination+=1:-1===e&&(this.pagination-=1),this.pageOffset=(this.pagination-1)*this.pageLimit}resetPagination(){this.pagination=1}}return e.\u0275fac=function(t){return new(t||e)(l.Hb(b.a),l.Hb(s.a),l.Hb(r.a),l.Hb(r.e),l.Hb(c.a))},e.\u0275cmp=l.Bb({type:e,selectors:[["app-interval-list"]],inputs:{enableSelectAll:"enableSelectAll",toolbars:"toolbars",singleIntervalSelected:"singleIntervalSelected"},outputs:{singleIntervalSelectedEvent:"singleIntervalSelectedEvent"},decls:62,vars:6,consts:[[1,"card"],[1,"card-header"],[1,"fa","fa-list","text-danger"],[1,"card-body","p-0","position-relative"],["class","bg-light px-2 py-2",4,"ngIf"],[1,"table-responsive"],[1,"table","table-hover","text-truncate"],[1,"thead-light"],["scope","col"],["type","checkbox","role","button",3,"checked","click",4,"ngIf"],[3,"table-active",4,"ngFor","ngForOf"],[1,"card-footer","text-muted","p-1"],["aria-label","navigation"],[1,"pagination","justify-content-end","m-0"],[1,"page-item","mr-2","mt-1"],[1,"align-middle"],[1,"page-item","mr-2"],["name","pageLimit","id","pageLimit",1,"form-control",3,"ngModel","ngModelChange"],["value","5"],["value","10"],["value","20"],[1,"page-item","mr-1"],[1,"page-link","btn",3,"disabled","click"],[1,"fa","fa-angle-double-left"],[1,"page-item"],[1,"fa","fa-angle-double-right"],["id","deleteConfirmDialog","data-backdrop","static","data-keyboard","false","tabindex","-1","aria-labelledby","deleteConfirmDialogLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","deleteConfirmDialogLabel",1,"modal-title","text-danger"],[1,"fa","fa-warning"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],["type","button",1,"btn","btn-danger",3,"click"],[1,"bg-light","px-2","py-2"],["role","group",1,"btn-group","btn-group-sm"],[1,"btn","btn-primary",3,"click"],[1,"fa","fa-refresh","mr-1"],["type","button","routerLink","../add-interval",1,"btn","btn-info"],[1,"fa","fa-plus","mr-1"],["type","button",1,"btn","btn-success",3,"disabled","click"],[1,"fa","fa-edit","mr-1"],["type","button",1,"btn","btn-danger",3,"disabled","click"],[1,"fa","fa-trash","mr-1"],["type","checkbox","role","button",3,"checked","click"],[1,"user-select-all"]],template:function(e,t){1&e&&(l.Kb(0,"div",0),l.Kb(1,"div",1),l.Ib(2,"i",2),l.lc(3," Interval List "),l.Jb(),l.Kb(4,"div",3),l.jc(5,v,18,2,"div",4),l.Kb(6,"div",5),l.Kb(7,"table",6),l.Kb(8,"thead",7),l.Kb(9,"tr"),l.Kb(10,"th",8),l.jc(11,p,1,1,"input",9),l.Jb(),l.Kb(12,"th",8),l.lc(13,"ID"),l.Jb(),l.Kb(14,"th",8),l.lc(15,"Name"),l.Jb(),l.Kb(16,"th",8),l.lc(17,"Start"),l.Jb(),l.Kb(18,"th",8),l.lc(19,"End"),l.Jb(),l.Kb(20,"th",8),l.lc(21,"Interval"),l.Jb(),l.Kb(22,"th",8),l.lc(23,"RunOnce"),l.Jb(),l.Jb(),l.Jb(),l.Kb(24,"tbody"),l.jc(25,h,15,9,"tr",10),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Kb(26,"div",11),l.Kb(27,"nav",12),l.Kb(28,"ul",13),l.Kb(29,"li",14),l.Kb(30,"span",15),l.lc(31,"items per page"),l.Jb(),l.Jb(),l.Kb(32,"li",16),l.Kb(33,"select",17),l.Sb("ngModelChange",function(e){return t.pageLimit=e})("ngModelChange",function(){return t.onPageSelected()}),l.Kb(34,"option",18),l.lc(35,"5"),l.Jb(),l.Kb(36,"option",19),l.lc(37,"10"),l.Jb(),l.Kb(38,"option",20),l.lc(39,"20"),l.Jb(),l.Jb(),l.Jb(),l.Kb(40,"li",21),l.Kb(41,"button",22),l.Sb("click",function(){return t.prePage()}),l.Ib(42,"i",23),l.lc(43," Previous"),l.Jb(),l.Jb(),l.Kb(44,"li",24),l.Kb(45,"button",22),l.Sb("click",function(){return t.nextPage()}),l.lc(46,"Next "),l.Ib(47,"i",25),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Kb(48,"div",26),l.Kb(49,"div",27),l.Kb(50,"div",28),l.Kb(51,"div",29),l.Kb(52,"h5",30),l.Ib(53,"i",31),l.lc(54," Warning "),l.Jb(),l.Jb(),l.Kb(55,"div",32),l.lc(56," Associated actions will also be deleted and the data will be permanently erased!!! Are you sure to execute delete operation\uff1f "),l.Jb(),l.Kb(57,"div",33),l.Kb(58,"button",34),l.lc(59,"Cancel"),l.Jb(),l.Kb(60,"button",35),l.Sb("click",function(){return t.deleteIntervals()}),l.lc(61,"Confirm"),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Jb()),2&e&&(l.wb(5),l.Xb("ngIf",t.toolbars),l.wb(6),l.Xb("ngIf",t.enableSelectAll),l.wb(14),l.Xb("ngForOf",t.intervalList),l.wb(8),l.Xb("ngModel",t.pageLimit),l.wb(8),l.Xb("disabled",1===t.pagination),l.wb(4),l.Xb("disabled",t.pageLimit>t.intervalList.length))},directives:[i.k,i.j,a.l,a.d,a.g,a.h,a.m,r.f],styles:[".btn[disabled][_ngcontent-%COMP%]:hover{cursor:not-allowed}"]}),e})();var m=n("X2Dv");let g=(()=>{class e{constructor(e,t,n,i,a){this.schedulerSvc=e,this.msgSvc=t,this.route=n,this.router=i,this.errSvc=a,this.interval={}}ngOnInit(){$('[data-toggle="popover"]').popover({trigger:"hover"}),this.initDatePickr()}initDatePickr(){this.calendarStart=Object(m.a)("input[name='intervalStart']",{dateFormat:"YmdTHiS",enableTime:!0,enableSeconds:!0,time_24hr:!0,allowInput:!1}),this.calendarEnd=Object(m.a)("input[name='intervalEnd']",{dateFormat:"YmdTHiS",enableTime:!0,enableSeconds:!0,time_24hr:!0,allowInput:!1})}submit(){this.schedulerSvc.addInterval(this.interval).subscribe(e=>{this.errSvc.handleErrorForV2API(e)||(this.msgSvc.success("create new interval","name: "+this.interval.name),this.router.navigate(["../interval-list"],{relativeTo:this.route}))})}ngOnDestroy(){$('[data-toggle="popover"]').popover("dispose")}}return e.\u0275fac=function(t){return new(t||e)(l.Hb(b.a),l.Hb(s.a),l.Hb(r.a),l.Hb(r.e),l.Hb(c.a))},e.\u0275cmp=l.Bb({type:e,selectors:[["app-add-interval"]],decls:53,vars:16,consts:[[1,"card"],[1,"card-header"],[1,"fa","fa-plus","text-danger"],[1,"btn","btn-sm","btn-success","float-right",3,"disabled","click"],[1,"card-body"],[1,"form-group","row","has-validation"],["for","intervalName","required","",1,"col-md-2","col-form-label"],[1,"col-md-10"],["type","text","id","validationIntervalName","name","intervalName","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","validationIntervalNameFeedback",1,"invalid-feedback"],[1,"form-group","row"],["for","intervalStart",1,"col-md-2","col-form-label"],[1,"input-group","mb-3"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"fa","fa-calendar"],["type","text","name","intervalStart",1,"form-control",3,"ngModel","ngModelChange"],["for","intervalEnd",1,"col-md-2","col-form-label"],["type","text","name","intervalEnd",1,"form-control",3,"ngModel","ngModelChange"],["for","intervalInterval",1,"col-md-2","col-form-label"],[1,"mr-2"],["role","button","data-html","true","data-animation","true","data-trigger","focus","data-toggle","popover","title","format tips","data-content",'Interval indicates how often the specific resource needs to be polled. It represents as a duration string. The format of this field is to be an unsigned integer followed by a unit which may be "ns", "us" (or "\xb5s"), "ms", "s", "m", "h" representing nanoseconds, microseconds, milliseconds, seconds, minutes or hours. Eg, "100ms", "24h"',1,"fa","fa-question-circle-o","fa-lg"],["type","text","name","intervalInterval","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","validationIntervalIntervalFeedback",1,"invalid-feedback"],["for","intervalRunOnce",1,"col-md-2","col-form-label"],["name","intervalRunOnce",1,"custom-select",3,"ngModel","ngModelChange"],[3,"ngValue"]],template:function(e,t){1&e&&(l.Kb(0,"div",0),l.Kb(1,"div",1),l.Ib(2,"i",2),l.lc(3," Add Interval "),l.Kb(4,"button",3),l.Sb("click",function(){return t.submit()}),l.lc(5,"Submit"),l.Jb(),l.Jb(),l.Kb(6,"div",4),l.Kb(7,"form"),l.Kb(8,"div",5),l.Kb(9,"label",6),l.lc(10,"Name"),l.Jb(),l.Kb(11,"div",7),l.Kb(12,"input",8),l.Sb("ngModelChange",function(e){return t.interval.name=e}),l.Jb(),l.Kb(13,"div",9),l.Kb(14,"small"),l.lc(15,"the interval name can't be empty!"),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Kb(16,"div",10),l.Kb(17,"label",11),l.lc(18,"Start"),l.Jb(),l.Kb(19,"div",7),l.Kb(20,"div",12),l.Kb(21,"div",13),l.Kb(22,"span",14),l.Ib(23,"i",15),l.Jb(),l.Jb(),l.Kb(24,"input",16),l.Sb("ngModelChange",function(e){return t.interval.start=e}),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Kb(25,"div",10),l.Kb(26,"label",17),l.lc(27,"End"),l.Jb(),l.Kb(28,"div",7),l.Kb(29,"div",12),l.Kb(30,"div",13),l.Kb(31,"span",14),l.Ib(32,"i",15),l.Jb(),l.Jb(),l.Kb(33,"input",18),l.Sb("ngModelChange",function(e){return t.interval.end=e}),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Kb(34,"div",10),l.Kb(35,"label",19),l.Kb(36,"span",20),l.lc(37,"Interval"),l.Jb(),l.Ib(38,"span",21),l.Jb(),l.Kb(39,"div",7),l.Kb(40,"input",22),l.Sb("ngModelChange",function(e){return t.interval.interval=e}),l.Jb(),l.Kb(41,"div",23),l.Kb(42,"small"),l.lc(43,"the interval interval can't be empty!"),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Kb(44,"div",10),l.Kb(45,"label",24),l.lc(46,"RunOnce"),l.Jb(),l.Kb(47,"div",7),l.Kb(48,"select",25),l.Sb("ngModelChange",function(e){return t.interval.runOnce=e}),l.Kb(49,"option",26),l.lc(50,"false"),l.Jb(),l.Kb(51,"option",26),l.lc(52,"true"),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Jb()),2&e&&(l.wb(4),l.Xb("disabled",!t.interval.name||!t.interval.interval),l.wb(8),l.zb("is-invalid",!t.interval.name)("is-valid",t.interval.name),l.Xb("ngModel",t.interval.name),l.wb(12),l.Xb("ngModel",t.interval.start),l.wb(9),l.Xb("ngModel",t.interval.end),l.wb(7),l.zb("is-invalid",!t.interval.interval)("is-valid",t.interval.interval),l.Xb("ngModel",t.interval.interval),l.wb(8),l.Xb("ngModel",t.interval.runOnce),l.wb(1),l.Xb("ngValue",!1),l.wb(2),l.Xb("ngValue",!0))},directives:[a.n,a.e,a.f,a.a,a.k,a.d,a.g,a.l,a.h,a.m],styles:[".btn[disabled][_ngcontent-%COMP%]:hover{cursor:not-allowed}"]}),e})();function f(e,t){if(1&e){const e=l.Lb();l.Kb(0,"form"),l.Kb(1,"div",6),l.Kb(2,"label",7),l.lc(3,"Name"),l.Jb(),l.Kb(4,"div",8),l.Kb(5,"input",9),l.Sb("ngModelChange",function(t){return l.fc(e),l.Ub().interval.name=t}),l.Jb(),l.Kb(6,"div",10),l.Kb(7,"small"),l.lc(8,"the interval name can't be empty!"),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Kb(9,"div",11),l.Kb(10,"label",12),l.lc(11,"Start"),l.Jb(),l.Kb(12,"div",8),l.Kb(13,"div",13),l.Kb(14,"div",14),l.Kb(15,"span",15),l.Ib(16,"i",16),l.Jb(),l.Jb(),l.Kb(17,"input",17),l.Sb("ngModelChange",function(t){return l.fc(e),l.Ub().interval.start=t}),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Kb(18,"div",11),l.Kb(19,"label",18),l.lc(20,"End"),l.Jb(),l.Kb(21,"div",8),l.Kb(22,"div",13),l.Kb(23,"div",14),l.Kb(24,"span",15),l.Ib(25,"i",16),l.Jb(),l.Jb(),l.Kb(26,"input",19),l.Sb("ngModelChange",function(t){return l.fc(e),l.Ub().interval.end=t}),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Kb(27,"div",11),l.Kb(28,"label",20),l.Kb(29,"span",21),l.lc(30,"Interval"),l.Jb(),l.Ib(31,"span",22),l.Jb(),l.Kb(32,"div",8),l.Kb(33,"input",23),l.Sb("ngModelChange",function(t){return l.fc(e),l.Ub().interval.interval=t}),l.Jb(),l.Kb(34,"div",24),l.Kb(35,"small"),l.lc(36,"the interval interval can't be empty!"),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Kb(37,"div",11),l.Kb(38,"label",25),l.lc(39,"RunOnce"),l.Jb(),l.Kb(40,"div",8),l.Kb(41,"select",26),l.Sb("ngModelChange",function(t){return l.fc(e),l.Ub().interval.runOnce=t}),l.Kb(42,"option",27),l.lc(43,"false"),l.Jb(),l.Kb(44,"option",27),l.lc(45,"true"),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Jb()}if(2&e){const e=l.Ub();l.wb(5),l.zb("is-invalid",!e.interval.name)("is-valid",e.interval.name),l.Xb("ngModel",e.interval.name),l.wb(12),l.Xb("ngModel",e.interval.start),l.wb(9),l.Xb("ngModel",e.interval.end),l.wb(7),l.zb("is-invalid",!e.interval.interval)("is-valid",e.interval.interval),l.Xb("ngModel",e.interval.interval),l.wb(8),l.Xb("ngModel",e.interval.runOnce),l.wb(1),l.Xb("ngValue",!1),l.wb(2),l.Xb("ngValue",!0)}}let J=(()=>{class e{constructor(e,t,n,i,a){this.schedulerSvc=e,this.msgSvc=t,this.route=n,this.router=i,this.errSvc=a}ngOnInit(){this.route.queryParams.subscribe(e=>{e.intervalName&&this.schedulerSvc.findIntervalByName(e.intervalName).subscribe(e=>{this.errSvc.handleErrorForV2API(e)||(this.interval=e.interval,this.interval.runOnce=!!this.interval.runOnce,setTimeout(()=>{this.initDatePickr()},300))})})}initDatePickr(){$('[data-toggle="popover"]').popover({trigger:"hover"}),this.calendarStart=Object(m.a)("input[name='intervalStart']",{dateFormat:"YmdTHiS",enableTime:!0,enableSeconds:!0,time_24hr:!0,allowInput:!1}),this.calendarEnd=Object(m.a)("input[name='intervalEnd']",{dateFormat:"YmdTHiS",enableTime:!0,enableSeconds:!0,time_24hr:!0,allowInput:!1})}update(){this.schedulerSvc.updateInterval(this.interval).subscribe(e=>{var t;this.errSvc.handleErrorForV2API(e)||(this.msgSvc.success("update interval","name: "+(null===(t=this.interval)||void 0===t?void 0:t.name)),this.router.navigate(["../interval-list"],{relativeTo:this.route}))})}ngOnDestroy(){$('[data-toggle="popover"]').popover("dispose")}}return e.\u0275fac=function(t){return new(t||e)(l.Hb(b.a),l.Hb(s.a),l.Hb(r.a),l.Hb(r.e),l.Hb(c.a))},e.\u0275cmp=l.Bb({type:e,selectors:[["app-edit-interval"]],decls:8,vars:3,consts:[[1,"card"],[1,"card-header"],[1,"fa","fa-edit","text-danger"],[1,"btn","btn-sm","btn-success","float-right",3,"disabled","click"],[1,"card-body"],[4,"ngIf"],[1,"form-group","row","has-validation"],["for","intervalName","required","",1,"col-md-2","col-form-label"],[1,"col-md-10"],["type","text","name","intervalName",1,"form-control",3,"ngModel","ngModelChange"],["id","validationIntervalNameFeedback",1,"invalid-feedback"],[1,"form-group","row"],["for","intervalStart",1,"col-md-2","col-form-label"],[1,"input-group","mb-3"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"fa","fa-calendar"],["type","text","name","intervalStart",1,"form-control",3,"ngModel","ngModelChange"],["for","intervalEnd2",1,"col-md-2","col-form-label"],["type","text","name","intervalEnd",1,"form-control",3,"ngModel","ngModelChange"],["for","intervalInterval",1,"col-md-2","col-form-label"],[1,"mr-2"],["role","button","data-html","true","data-animation","true","data-trigger","focus","data-toggle","popover","title","ISO8601 duration format","data-content",'Interval indicates how often the specific resource needs to be polled. It represents as a duration string. The format of this field is to be an unsigned integer followed by a unit which may be "ns", "us" (or "\xb5s"), "ms", "s", "m", "h" representing nanoseconds, microseconds, milliseconds, seconds, minutes or hours. Eg, "100ms", "24h"',1,"fa","fa-question-circle-o","fa-lg"],["type","text","name","intervalInterval","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","validationIntervalIntervalFeedback",1,"invalid-feedback"],["for","intervalRunOnce",1,"col-md-2","col-form-label"],["name","intervalRunOnce",1,"custom-select",3,"ngModel","ngModelChange"],[3,"ngValue"]],template:function(e,t){1&e&&(l.Kb(0,"div",0),l.Kb(1,"div",1),l.Ib(2,"i",2),l.lc(3),l.Kb(4,"button",3),l.Sb("click",function(){return t.update()}),l.lc(5,"Submit"),l.Jb(),l.Jb(),l.Kb(6,"div",4),l.jc(7,f,46,15,"form",5),l.Jb(),l.Jb()),2&e&&(l.wb(3),l.nc(" Edit Interval ",null==t.interval?null:t.interval.name," "),l.wb(1),l.Xb("disabled",!(null!=t.interval&&t.interval.name)),l.wb(3),l.Xb("ngIf",t.interval))},directives:[i.k,a.n,a.e,a.f,a.a,a.d,a.g,a.k,a.l,a.h,a.m],styles:[".btn[disabled][_ngcontent-%COMP%]:hover{cursor:not-allowed}"]}),e})(),K=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Bb({type:e,selectors:[["app-interval-action-center"]],decls:1,vars:0,template:function(e,t){1&e&&l.Ib(0,"router-outlet")},directives:[r.j],styles:[""]}),e})();const A=function(e){return{intervalName:e}};function S(e,t){if(1&e){const e=l.Lb();l.Kb(0,"tr"),l.Kb(1,"td"),l.Kb(2,"input",18),l.Sb("click",function(n){l.fc(e);const i=t.$implicit;return l.Ub().selectOne(n,i)}),l.Jb(),l.Jb(),l.Kb(3,"td",45),l.lc(4),l.Jb(),l.Kb(5,"td",45),l.lc(6),l.Jb(),l.Kb(7,"td"),l.Kb(8,"a",46),l.lc(9),l.Jb(),l.Jb(),l.Kb(10,"td"),l.lc(11),l.Jb(),l.Jb()}if(2&e){const e=t.$implicit,n=l.Ub();l.zb("table-active",n.isChecked(e.name)),l.wb(2),l.Xb("checked",n.isChecked(e.name)),l.wb(2),l.mc(e.id),l.wb(2),l.mc(e.name),l.wb(2),l.Xb("queryParams",l.cc(8,A,e.intervalName)),l.wb(1),l.mc(e.intervalName),l.wb(2),l.mc(e.address.type)}}let y=(()=>{class e{constructor(e,t,n,i){this.schedulerSvc=e,this.msgSvc=t,this.route=n,this.router=i,this.intervalActionList=[],this.intervalActionSelected=[],this.isCheckedAll=!1,this.pagination=1,this.pageLimit=5,this.pageOffset=(this.pagination-1)*this.pageLimit}ngOnInit(){this.route.queryParams.subscribe(e=>{e.intervalName||this.findIntervalActionsPagination()})}refresh(){this.schedulerSvc.findAllIntervalActionsPagination(0,this.pageLimit).subscribe(e=>{this.intervalActionList=e.actions,this.msgSvc.success("refresh"),this.resetPagination()})}findIntervalActionsPagination(){this.schedulerSvc.findAllIntervalActionsPagination(this.pageOffset,this.pageLimit).subscribe(e=>{this.intervalActionList=e.actions})}selectAll(e){if(e.target.checked)return this.intervalActionSelected=[],this.intervalActionList.forEach(e=>{this.intervalActionSelected.push(e),this.isChecked(e.name)}),void(this.isCheckedAll=!0);this.isCheckedAll=!1,this.intervalActionSelected=[],this.intervalActionList.forEach(e=>{this.isChecked(e.name)})}isChecked(e){return this.intervalActionSelected.findIndex(t=>t.name===e)>=0}selectOne(e,t){if(e.target.checked)return this.intervalActionSelected.push(t),void(this.intervalActionSelected.length===this.intervalActionList.length&&(this.isCheckedAll=!0));this.isCheckedAll=!1,this.isChecked(t.name),this.intervalActionSelected.splice(this.intervalActionSelected.indexOf(t),1)}edit(){this.router.navigate(["../edit-interval-action"],{relativeTo:this.route,queryParams:{intervalActionName:this.intervalActionSelected[0].name}})}deleteConfirm(){$("#deleteConfirmDialog").modal("show")}deleteIntervalActions(){this.intervalActionSelected.forEach((e,t)=>{this.schedulerSvc.deleteIntervalActionByName(e.name).subscribe(()=>{this.intervalActionList.forEach((t,n)=>{t.name!==e.name||this.intervalActionList.splice(n,1)}),this.intervalActionSelected.splice(t,1),this.msgSvc.success("delete","name: "+e.name),this.resetPagination(),this.findIntervalActionsPagination()})}),$("#deleteConfirmDialog").modal("hide")}onPageSelected(){this.resetPagination(),this.setPagination(),this.findIntervalActionsPagination()}prePage(){this.setPagination(-1),this.findIntervalActionsPagination()}nextPage(){this.setPagination(1),this.findIntervalActionsPagination()}setPagination(e){1===e?this.pagination+=1:-1===e&&(this.pagination-=1),this.pageOffset=(this.pagination-1)*this.pageLimit}resetPagination(){this.pagination=1}}return e.\u0275fac=function(t){return new(t||e)(l.Hb(b.a),l.Hb(s.a),l.Hb(r.a),l.Hb(r.e))},e.\u0275cmp=l.Bb({type:e,selectors:[["app-interval-action-list"]],decls:75,vars:7,consts:[[1,"card"],[1,"card-header"],[1,"fa","fa-list","text-danger"],[1,"card-body","p-0","position-relative"],[1,"bg-light","px-2","py-2"],["role","group",1,"btn-group","btn-group-sm"],[1,"btn","btn-primary",3,"click"],[1,"fa","fa-refresh","mr-1"],["type","button","routerLink","../add-interval-action",1,"btn","btn-info"],[1,"fa","fa-plus","mr-1"],["type","button",1,"btn","btn-success",3,"disabled","click"],[1,"fa","fa-edit","mr-1"],["type","button",1,"btn","btn-danger",3,"disabled","click"],[1,"fa","fa-trash","mr-1"],[1,"table-responsive"],[1,"table","table-hover","text-truncate"],[1,"thead-light"],["scope","col"],["type","checkbox","role","button",3,"checked","click"],[3,"table-active",4,"ngFor","ngForOf"],[1,"card-footer","text-muted","p-1"],["aria-label","navigation"],[1,"pagination","justify-content-end","m-0"],[1,"page-item","mr-2","mt-1"],[1,"align-middle"],[1,"page-item","mr-2"],["name","pageLimit","id","pageLimit",1,"form-control",3,"ngModel","ngModelChange"],["value","5"],["value","10"],["value","20"],[1,"page-item","mr-1"],[1,"page-link","btn",3,"disabled","click"],[1,"fa","fa-angle-double-left"],[1,"page-item"],[1,"fa","fa-angle-double-right"],["id","deleteConfirmDialog","data-backdrop","static","data-keyboard","false","tabindex","-1","aria-labelledby","deleteConfirmDialogLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","deleteConfirmDialogLabel",1,"modal-title","text-danger"],[1,"fa","fa-warning"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],["type","button",1,"btn","btn-danger",3,"click"],[1,"user-select-all"],["routerLink","../../interval-center",3,"queryParams"]],template:function(e,t){1&e&&(l.Kb(0,"div",0),l.Kb(1,"div",1),l.Ib(2,"i",2),l.lc(3," Interval Action List "),l.Jb(),l.Kb(4,"div",3),l.Kb(5,"div",4),l.Kb(6,"div",5),l.Kb(7,"button",6),l.Sb("click",function(){return t.refresh()}),l.Kb(8,"span"),l.Ib(9,"i",7),l.lc(10,"Refresh"),l.Jb(),l.Jb(),l.Kb(11,"button",8),l.Kb(12,"span"),l.Ib(13,"i",9),l.lc(14,"Add"),l.Jb(),l.Jb(),l.Kb(15,"button",10),l.Sb("click",function(){return t.edit()}),l.Kb(16,"span"),l.Ib(17,"i",11),l.lc(18,"Edit"),l.Jb(),l.Jb(),l.Kb(19,"button",12),l.Sb("click",function(){return t.deleteConfirm()}),l.Kb(20,"span"),l.Ib(21,"i",13),l.lc(22,"Delete"),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Kb(23,"div",14),l.Kb(24,"table",15),l.Kb(25,"thead",16),l.Kb(26,"tr"),l.Kb(27,"th",17),l.Kb(28,"input",18),l.Sb("click",function(e){return t.selectAll(e)}),l.Jb(),l.Jb(),l.Kb(29,"th",17),l.lc(30,"ID"),l.Jb(),l.Kb(31,"th",17),l.lc(32,"Name"),l.Jb(),l.Kb(33,"th",17),l.lc(34,"AssociatedInterval"),l.Jb(),l.Kb(35,"th",17),l.lc(36,"AddressType"),l.Jb(),l.Jb(),l.Jb(),l.Kb(37,"tbody"),l.jc(38,S,12,10,"tr",19),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Kb(39,"div",20),l.Kb(40,"nav",21),l.Kb(41,"ul",22),l.Kb(42,"li",23),l.Kb(43,"span",24),l.lc(44,"items per page"),l.Jb(),l.Jb(),l.Kb(45,"li",25),l.Kb(46,"select",26),l.Sb("ngModelChange",function(e){return t.pageLimit=e})("ngModelChange",function(){return t.onPageSelected()}),l.Kb(47,"option",27),l.lc(48,"5"),l.Jb(),l.Kb(49,"option",28),l.lc(50,"10"),l.Jb(),l.Kb(51,"option",29),l.lc(52,"20"),l.Jb(),l.Jb(),l.Jb(),l.Kb(53,"li",30),l.Kb(54,"button",31),l.Sb("click",function(){return t.prePage()}),l.Ib(55,"i",32),l.lc(56," Previous"),l.Jb(),l.Jb(),l.Kb(57,"li",33),l.Kb(58,"button",31),l.Sb("click",function(){return t.nextPage()}),l.lc(59,"Next "),l.Ib(60,"i",34),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Kb(61,"div",35),l.Kb(62,"div",36),l.Kb(63,"div",37),l.Kb(64,"div",38),l.Kb(65,"h5",39),l.Ib(66,"i",40),l.lc(67," Warning "),l.Jb(),l.Jb(),l.Kb(68,"div",41),l.lc(69," The data will be permanently erased!!! Are you sure to execute delete operation\uff1f "),l.Jb(),l.Kb(70,"div",42),l.Kb(71,"button",43),l.lc(72,"Cancel"),l.Jb(),l.Kb(73,"button",44),l.Sb("click",function(){return t.deleteIntervalActions()}),l.lc(74,"Confirm"),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Jb()),2&e&&(l.wb(15),l.Xb("disabled",1!==t.intervalActionSelected.length),l.wb(4),l.Xb("disabled",0===t.intervalActionSelected.length),l.wb(9),l.Xb("checked",t.isCheckedAll),l.wb(10),l.Xb("ngForOf",t.intervalActionList),l.wb(8),l.Xb("ngModel",t.pageLimit),l.wb(8),l.Xb("disabled",1===t.pagination),l.wb(4),l.Xb("disabled",t.pageLimit>t.intervalActionList.length))},directives:[r.f,i.j,a.l,a.d,a.g,a.h,a.m,r.h],styles:[""]}),e})();function M(e,t){if(1&e){const e=l.Lb();l.Kb(0,"div",10),l.Sb("click",function(t){return l.fc(e),l.Ub().close(t)}),l.Jb()}}let I=(()=>{class e{constructor(){this.visible=!1,this.validate=!1,this.intervalSelectedEvent=new l.n,this.selectedInterval={}}ngOnInit(){}onSingleIntervalSelected(e){this.selectedInterval=e,this.intervalSelectedEvent.emit(e)}close(e){e.stopPropagation(),this.visible=!1}toggle(e){e.stopImmediatePropagation(),this.visible=!this.visible}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Bb({type:e,selectors:[["app-interval-combo-list"]],inputs:{validate:"validate",selectedInterval:"selectedInterval"},outputs:{intervalSelectedEvent:"intervalSelectedEvent"},decls:12,vars:11,consts:[["class","combo-shielder",3,"click",4,"ngIf"],[1,"combo"],[1,"input-group","has-validation",3,"click"],["type","text","name","selectedInterval","readonly","readonly","maxlength","0","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-group-append"],["role","button",1,"input-group-text"],[1,"fa","fa-chevron-down"],["id","validationIntervalNameFeedback",1,"invalid-feedback"],[1,"combo-body","shadow","rounded"],[3,"singleIntervalSelected","enableSelectAll","toolbars","singleIntervalSelectedEvent"],[1,"combo-shielder",3,"click"]],template:function(e,t){1&e&&(l.jc(0,M,1,0,"div",0),l.Kb(1,"div",1),l.Kb(2,"div",2),l.Sb("click",function(e){return t.toggle(e)}),l.Kb(3,"input",3),l.Sb("ngModelChange",function(e){return t.selectedInterval.name=e}),l.Jb(),l.Kb(4,"div",4),l.Kb(5,"span",5),l.Ib(6,"i",6),l.Jb(),l.Jb(),l.Kb(7,"div",7),l.Kb(8,"small"),l.lc(9,"the interval name can't be empty!"),l.Jb(),l.Jb(),l.Jb(),l.Kb(10,"div",8),l.Kb(11,"app-interval-list",9),l.Sb("singleIntervalSelectedEvent",function(e){return t.onSingleIntervalSelected(e)}),l.Jb(),l.Jb(),l.Jb()),2&e&&(l.Xb("ngIf",t.visible),l.wb(3),l.zb("is-invalid",!t.selectedInterval.name&&t.validate)("is-valid",t.selectedInterval.name&&t.validate),l.Xb("ngModel",t.selectedInterval.name),l.wb(7),l.ic("display",t.visible?"":"none"),l.wb(1),l.Xb("singleIntervalSelected",t.selectedInterval)("enableSelectAll",!1)("toolbars",!1))},directives:[i.k,a.a,a.c,a.k,a.d,a.g,u],styles:[".combo[_ngcontent-%COMP%]{position:relative;right:auto}.combo-shielder[_ngcontent-%COMP%]{position:fixed;top:0;bottom:0;right:0;left:0;z-index:100}.combo-body[_ngcontent-%COMP%]{position:absolute;top:33px;bottom:auto;left:0;right:0;z-index:105;visibility:visible;display:inline-block}"]}),e})();var T=n("HpGU");function C(e,t){if(1&e){const e=l.Lb();l.Kb(0,"div",1),l.Kb(1,"span",61),l.Sb("click",function(){return l.fc(e),l.Ub().templateToggle("coredata")}),l.lc(2,"CoreDataSeviceTemplate"),l.Jb(),l.Kb(3,"span",61),l.Sb("click",function(){return l.fc(e),l.Ub().templateToggle("command")}),l.lc(4,"CommandServiceTemplate"),l.Jb(),l.Kb(5,"span",61),l.Sb("click",function(){return l.fc(e),l.Ub().templateToggle("custom")}),l.lc(6,"CustomTemplate"),l.Jb(),l.Jb()}if(2&e){const e=l.Ub();l.wb(1),l.zb("badge-secondary","coredata"!==e.templateSelected)("badge-primary","coredata"===e.templateSelected),l.wb(2),l.zb("badge-secondary","command"!==e.templateSelected)("badge-primary","command"===e.templateSelected),l.wb(2),l.zb("badge-secondary","custom"!==e.templateSelected)("badge-primary","custom"===e.templateSelected)}}function w(e,t){if(1&e){const e=l.Lb();l.Kb(0,"form"),l.Kb(1,"div",12),l.Kb(2,"label",68),l.lc(3,"HttpMethod"),l.Jb(),l.Kb(4,"div",9),l.Kb(5,"select",69),l.Sb("ngModelChange",function(t){return l.fc(e),l.Ub(2).intervalAction.address.httpMethod=t}),l.Kb(6,"option",70),l.lc(7,"GET"),l.Jb(),l.Kb(8,"option",71),l.lc(9,"POST"),l.Jb(),l.Kb(10,"option",72),l.lc(11,"PUT"),l.Jb(),l.Kb(12,"option",73),l.lc(13,"DELETE"),l.Jb(),l.Kb(14,"option",74),l.lc(15,"PATCH"),l.Jb(),l.Kb(16,"option",75),l.lc(17,"HEAD"),l.Jb(),l.Kb(18,"option",76),l.lc(19,"TRACE"),l.Jb(),l.Kb(20,"option",77),l.lc(21,"CONNECT"),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Kb(22,"div",7),l.Kb(23,"label",78),l.lc(24,"Host"),l.Jb(),l.Kb(25,"div",9),l.Kb(26,"input",79),l.Sb("ngModelChange",function(t){return l.fc(e),l.Ub(2).intervalAction.address.host=t}),l.Jb(),l.Kb(27,"div",80),l.Kb(28,"small"),l.lc(29,"the REST address host can't be empty!"),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Kb(30,"div",7),l.Kb(31,"label",81),l.lc(32,"Port"),l.Jb(),l.Kb(33,"div",9),l.Kb(34,"input",82),l.Sb("ngModelChange",function(t){return l.fc(e),l.Ub(2).intervalAction.address.port=t}),l.Jb(),l.Kb(35,"div",83),l.Kb(36,"small"),l.lc(37,"the REST address port can't be empty and only pure integer is supported!"),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Kb(38,"div",12),l.Kb(39,"label",84),l.lc(40,"Path"),l.Jb(),l.Kb(41,"div",9),l.Kb(42,"input",85),l.Sb("ngModelChange",function(t){return l.fc(e),l.Ub(2).intervalAction.address.path=t}),l.Jb(),l.Jb(),l.Jb(),l.Kb(43,"div",12),l.Kb(44,"label",86),l.lc(45,"RequestBody"),l.Jb(),l.Kb(46,"div",9),l.Kb(47,"input",87),l.Sb("ngModelChange",function(t){return l.fc(e),l.Ub(2).intervalAction.address.requestBody=t}),l.Jb(),l.Jb(),l.Jb(),l.Kb(48,"div",12),l.Kb(49,"label",86),l.Kb(50,"span",45),l.lc(51,"ContentType"),l.Jb(),l.Ib(52,"span",88),l.Jb(),l.Kb(53,"div",9),l.Kb(54,"input",89),l.Sb("ngModelChange",function(t){return l.fc(e),l.Ub(2).intervalAction.address.contentType=t}),l.Jb(),l.Jb(),l.Jb(),l.Jb()}if(2&e){const e=l.Ub(2);l.wb(5),l.Xb("ngModel",e.intervalAction.address.httpMethod),l.wb(21),l.zb("is-invalid",!e.intervalAction.address.host)("is-valid",e.intervalAction.address.host),l.Xb("ngModel",e.intervalAction.address.host),l.wb(8),l.zb("is-invalid",!e.isPureIntegerType(e.intervalAction.address.port))("is-valid",e.isPureIntegerType(e.intervalAction.address.port)),l.Xb("ngModel",e.intervalAction.address.port),l.wb(8),l.Xb("ngModel",e.intervalAction.address.path),l.wb(5),l.Xb("ngModel",e.intervalAction.address.requestBody),l.wb(7),l.Xb("ngModel",e.intervalAction.address.contentType)}}function P(e,t){if(1&e){const e=l.Lb();l.Kb(0,"form"),l.Kb(1,"div",12),l.Kb(2,"label",68),l.lc(3,"HttpMethod"),l.Jb(),l.Kb(4,"div",9),l.Kb(5,"select",69),l.Sb("ngModelChange",function(t){return l.fc(e),l.Ub(2).intervalAction.address.httpMethod=t}),l.Kb(6,"option",73),l.lc(7,"DELETE"),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Kb(8,"div",7),l.Kb(9,"label",78),l.Kb(10,"span",45),l.lc(11,"Host"),l.Jb(),l.Ib(12,"span",90),l.Jb(),l.Kb(13,"div",9),l.Kb(14,"input",79),l.Sb("ngModelChange",function(t){return l.fc(e),l.Ub(2).intervalAction.address.host=t}),l.Jb(),l.Kb(15,"div",80),l.Kb(16,"small"),l.lc(17,"the REST address host can't be empty!"),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Kb(18,"div",7),l.Kb(19,"label",81),l.lc(20,"Port"),l.Jb(),l.Kb(21,"div",9),l.Kb(22,"input",82),l.Sb("ngModelChange",function(t){return l.fc(e),l.Ub(2).intervalAction.address.port=t}),l.Jb(),l.Kb(23,"div",83),l.Kb(24,"small"),l.lc(25,"the REST address port can't be empty and only pure integer is supported!"),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Kb(26,"div",12),l.Kb(27,"label",84),l.Kb(28,"span",45),l.lc(29,"Path"),l.Jb(),l.Ib(30,"span",91),l.Jb(),l.Kb(31,"div",9),l.Kb(32,"input",92),l.Sb("ngModelChange",function(t){return l.fc(e),l.Ub(2).intervalAction.address.path=t}),l.Jb(),l.Jb(),l.Jb(),l.Kb(33,"div",12),l.Kb(34,"label",86),l.lc(35,"Parameter"),l.Jb(),l.Kb(36,"div",9),l.Kb(37,"div",93),l.Kb(38,"div",94),l.Kb(39,"span",95),l.Ib(40,"i",96),l.Jb(),l.Jb(),l.Kb(41,"input",97),l.Sb("ngModelChange",function(t){return l.fc(e),l.Ub(2).coredataRequestParameter=t}),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Jb()}if(2&e){const e=l.Ub(2);l.wb(5),l.Xb("ngModel",e.intervalAction.address.httpMethod),l.wb(9),l.zb("is-invalid",!e.intervalAction.address.host)("is-valid",e.intervalAction.address.host),l.Xb("ngModel",e.intervalAction.address.host),l.wb(8),l.zb("is-invalid",!e.isPureIntegerType(e.intervalAction.address.port))("is-valid",e.isPureIntegerType(e.intervalAction.address.port)),l.Xb("ngModel",e.intervalAction.address.port),l.wb(10),l.Xb("ngModel",e.intervalAction.address.path),l.wb(9),l.Xb("ngModel",e.coredataRequestParameter)}}function k(e,t){if(1&e){const e=l.Lb();l.Kb(0,"form"),l.Kb(1,"div",12),l.Kb(2,"label",68),l.Kb(3,"span",45),l.lc(4,"HttpMethod"),l.Jb(),l.Ib(5,"span",98),l.Jb(),l.Kb(6,"div",9),l.Kb(7,"input",99),l.Sb("ngModelChange",function(t){return l.fc(e),l.Ub(2).intervalAction.address.httpMethod=t}),l.Jb(),l.Jb(),l.Jb(),l.Kb(8,"div",7),l.Kb(9,"label",78),l.Kb(10,"span",45),l.lc(11,"Host"),l.Jb(),l.Ib(12,"span",90),l.Jb(),l.Kb(13,"div",9),l.Kb(14,"input",79),l.Sb("ngModelChange",function(t){return l.fc(e),l.Ub(2).intervalAction.address.host=t}),l.Jb(),l.Kb(15,"div",80),l.Kb(16,"small"),l.lc(17,"the REST address host can't be empty!"),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Kb(18,"div",7),l.Kb(19,"label",81),l.lc(20,"Port"),l.Jb(),l.Kb(21,"div",9),l.Kb(22,"input",82),l.Sb("ngModelChange",function(t){return l.fc(e),l.Ub(2).intervalAction.address.port=t}),l.Jb(),l.Kb(23,"div",83),l.Kb(24,"small"),l.lc(25,"the REST address port can't be empty and only pure integer is supported!"),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Kb(26,"div",12),l.Kb(27,"label",84),l.lc(28,"Path"),l.Jb(),l.Kb(29,"div",9),l.Kb(30,"app-device-core-command-combo-list",100),l.Sb("cmdMethodEvent",function(t){return l.fc(e),l.Ub(2).onCmdMethodSelected(t)})("commandSelectedEvent",function(t){return l.fc(e),l.Ub(2).onCommandSelected(t)}),l.Jb(),l.Jb(),l.Jb(),l.Kb(31,"div",12),l.Kb(32,"label",86),l.lc(33,"RequestBody"),l.Jb(),l.Kb(34,"div",9),l.Kb(35,"input",87),l.Sb("ngModelChange",function(t){return l.fc(e),l.Ub(2).intervalAction.address.requestBody=t}),l.Jb(),l.Jb(),l.Jb(),l.Jb()}if(2&e){const e=l.Ub(2);l.wb(7),l.Xb("ngModel",e.intervalAction.address.httpMethod),l.wb(7),l.zb("is-invalid",!e.intervalAction.address.host)("is-valid",e.intervalAction.address.host),l.Xb("ngModel",e.intervalAction.address.host),l.wb(8),l.zb("is-invalid",!e.isPureIntegerType(e.intervalAction.address.port))("is-valid",e.isPureIntegerType(e.intervalAction.address.port)),l.Xb("ngModel",e.intervalAction.address.port),l.wb(8),l.Xb("validate",!0),l.wb(5),l.Xb("ngModel",e.intervalAction.address.requestBody)}}function E(e,t){if(1&e&&(l.Kb(0,"div",null,62),l.Kb(2,"div",63),l.jc(3,w,55,14,"ng-template",64,65,l.kc),l.jc(5,P,42,13,"ng-template",64,66,l.kc),l.jc(7,k,36,13,"ng-template",64,67,l.kc),l.Jb(),l.Jb()),2&e){const e=l.Ub();l.wb(2),l.Xb("ngSwitch",e.templateSelected),l.wb(1),l.Xb("ngSwitchCase","custom"),l.wb(2),l.Xb("ngSwitchCase","coredata"),l.wb(2),l.Xb("ngSwitchCase","command")}}function O(e,t){if(1&e){const e=l.Lb();l.Kb(0,"div",35),l.Kb(1,"app-interval-combo-list",36),l.Sb("intervalSelectedEvent",function(t){return l.fc(e),l.Ub(2).onSingleIntervalSelected(t)}),l.Jb(),l.Jb()}if(2&e){const e=l.Ub(2);l.wb(1),l.Xb("validate",!0)("selectedInterval",e.selectedIntervalDefault)}}function X(e,t){if(1&e){const e=l.Lb();l.Kb(0,"div",1),l.Kb(1,"span",37),l.lc(2,"Available and Editable templates >>"),l.Jb(),l.Ib(3,"span",38),l.Kb(4,"span",39),l.Sb("click",function(){l.fc(e);const t=l.Ub(2);return t.templateToggle(t.template_type_coredata)}),l.lc(5,"CoreDataSeviceTemplate"),l.Jb(),l.Kb(6,"span",39),l.Sb("click",function(){l.fc(e);const t=l.Ub(2);return t.templateToggle(t.template_type_command)}),l.lc(7,"CommandServiceTemplate"),l.Jb(),l.Kb(8,"span",39),l.Sb("click",function(){l.fc(e);const t=l.Ub(2);return t.templateToggle(t.template_type_custom)}),l.lc(9,"CustomTemplate"),l.Jb(),l.Jb()}if(2&e){const e=l.Ub(2);l.wb(4),l.zb("badge-secondary",e.templateSelected!==e.template_type_coredata)("badge-primary",e.templateSelected===e.template_type_coredata),l.wb(2),l.zb("badge-secondary",e.templateSelected!==e.template_type_command)("badge-primary",e.templateSelected===e.template_type_command),l.wb(2),l.zb("badge-secondary",e.templateSelected!==e.template_type_custom)("badge-primary",e.templateSelected===e.template_type_custom)}}function R(e,t){if(1&e){const e=l.Lb();l.Kb(0,"form"),l.Kb(1,"div",11),l.Kb(2,"label",46),l.lc(3,"HttpMethod"),l.Jb(),l.Kb(4,"div",8),l.Kb(5,"select",47),l.Sb("ngModelChange",function(t){return l.fc(e),l.Ub(3).intervalAction.address.httpMethod=t}),l.Kb(6,"option",48),l.lc(7,"GET"),l.Jb(),l.Kb(8,"option",49),l.lc(9,"POST"),l.Jb(),l.Kb(10,"option",50),l.lc(11,"PUT"),l.Jb(),l.Kb(12,"option",51),l.lc(13,"DELETE"),l.Jb(),l.Kb(14,"option",52),l.lc(15,"PATCH"),l.Jb(),l.Kb(16,"option",53),l.lc(17,"HEAD"),l.Jb(),l.Kb(18,"option",54),l.lc(19,"TRACE"),l.Jb(),l.Kb(20,"option",55),l.lc(21,"CONNECT"),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Kb(22,"div",6),l.Kb(23,"label",56),l.lc(24,"Host"),l.Jb(),l.Kb(25,"div",8),l.Kb(26,"input",57),l.Sb("ngModelChange",function(t){return l.fc(e),l.Ub(3).intervalAction.address.host=t}),l.Jb(),l.Kb(27,"div",58),l.Kb(28,"small"),l.lc(29,"the REST address host can't be empty!"),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Kb(30,"div",6),l.Kb(31,"label",59),l.lc(32,"Port"),l.Jb(),l.Kb(33,"div",8),l.Kb(34,"input",60),l.Sb("ngModelChange",function(t){return l.fc(e),l.Ub(3).intervalAction.address.port=t}),l.Jb(),l.Kb(35,"div",61),l.Kb(36,"small"),l.lc(37,"the REST address port can't be empty and only pure integer is supported!"),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Kb(38,"div",11),l.Kb(39,"label",62),l.lc(40,"Path"),l.Jb(),l.Kb(41,"div",8),l.Kb(42,"input",63),l.Sb("ngModelChange",function(t){return l.fc(e),l.Ub(3).intervalAction.address.path=t}),l.Jb(),l.Jb(),l.Jb(),l.Kb(43,"div",11),l.Kb(44,"label",64),l.lc(45,"RequestBody"),l.Jb(),l.Kb(46,"div",8),l.Kb(47,"input",65),l.Sb("ngModelChange",function(t){return l.fc(e),l.Ub(3).intervalAction.address.requestBody=t}),l.Jb(),l.Jb(),l.Jb(),l.Kb(48,"div",11),l.Kb(49,"label",64),l.Kb(50,"span",32),l.lc(51,"ContentType"),l.Jb(),l.Ib(52,"span",66),l.Jb(),l.Kb(53,"div",8),l.Kb(54,"input",67),l.Sb("ngModelChange",function(t){return l.fc(e),l.Ub(3).intervalAction.address.contentType=t}),l.Jb(),l.Jb(),l.Jb(),l.Jb()}if(2&e){const e=l.Ub(3);l.wb(5),l.Xb("ngModel",e.intervalAction.address.httpMethod),l.wb(21),l.zb("is-invalid",!e.intervalAction.address.host)("is-valid",e.intervalAction.address.host),l.Xb("ngModel",e.intervalAction.address.host),l.wb(8),l.zb("is-invalid",!e.isPureIntegerType(e.intervalAction.address.port))("is-valid",e.isPureIntegerType(e.intervalAction.address.port)),l.Xb("ngModel",e.intervalAction.address.port),l.wb(8),l.Xb("ngModel",e.intervalAction.address.path),l.wb(5),l.Xb("ngModel",e.intervalAction.address.requestBody),l.wb(7),l.Xb("ngModel",e.intervalAction.address.contentType)}}function U(e,t){if(1&e){const e=l.Lb();l.Kb(0,"form"),l.Kb(1,"div",11),l.Kb(2,"label",46),l.lc(3,"HttpMethod"),l.Jb(),l.Kb(4,"div",8),l.Kb(5,"select",47),l.Sb("ngModelChange",function(t){return l.fc(e),l.Ub(3).intervalAction.address.httpMethod=t}),l.Kb(6,"option",51),l.lc(7,"DELETE"),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Kb(8,"div",6),l.Kb(9,"label",56),l.Kb(10,"span",32),l.lc(11,"Host"),l.Jb(),l.Ib(12,"span",68),l.Jb(),l.Kb(13,"div",8),l.Kb(14,"input",57),l.Sb("ngModelChange",function(t){return l.fc(e),l.Ub(3).intervalAction.address.host=t}),l.Jb(),l.Kb(15,"div",58),l.Kb(16,"small"),l.lc(17,"the REST address host can't be empty!"),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Kb(18,"div",6),l.Kb(19,"label",59),l.lc(20,"Port"),l.Jb(),l.Kb(21,"div",8),l.Kb(22,"input",60),l.Sb("ngModelChange",function(t){return l.fc(e),l.Ub(3).intervalAction.address.port=t}),l.Jb(),l.Kb(23,"div",61),l.Kb(24,"small"),l.lc(25,"the REST address port can't be empty and only pure integer is supported!"),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Kb(26,"div",11),l.Kb(27,"label",62),l.Kb(28,"span",32),l.lc(29,"Path"),l.Jb(),l.Ib(30,"span",69),l.Jb(),l.Kb(31,"div",8),l.Kb(32,"input",70),l.Sb("ngModelChange",function(t){return l.fc(e),l.Ub(3).intervalAction.address.path=t}),l.Jb(),l.Jb(),l.Jb(),l.Kb(33,"div",11),l.Kb(34,"label",64),l.lc(35,"Parameter"),l.Jb(),l.Kb(36,"div",8),l.Kb(37,"div",71),l.Kb(38,"div",72),l.Kb(39,"span",73),l.Ib(40,"i",74),l.Jb(),l.Jb(),l.Kb(41,"input",75),l.Sb("ngModelChange",function(t){return l.fc(e),l.Ub(3).coredataRequestParameter=t}),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Jb()}if(2&e){const e=l.Ub(3);l.wb(5),l.Xb("ngModel",e.intervalAction.address.httpMethod),l.wb(9),l.zb("is-invalid",!e.intervalAction.address.host)("is-valid",e.intervalAction.address.host),l.Xb("ngModel",e.intervalAction.address.host),l.wb(8),l.zb("is-invalid",!e.isPureIntegerType(e.intervalAction.address.port))("is-valid",e.isPureIntegerType(e.intervalAction.address.port)),l.Xb("ngModel",e.intervalAction.address.port),l.wb(10),l.Xb("ngModel",e.intervalAction.address.path),l.wb(9),l.Xb("ngModel",e.coredataRequestParameter)}}function L(e,t){if(1&e){const e=l.Lb();l.Kb(0,"form"),l.Kb(1,"div",11),l.Kb(2,"label",46),l.Kb(3,"span",32),l.lc(4,"HttpMethod"),l.Jb(),l.Ib(5,"span",76),l.Jb(),l.Kb(6,"div",8),l.Kb(7,"input",77),l.Sb("ngModelChange",function(t){return l.fc(e),l.Ub(3).intervalAction.address.httpMethod=t}),l.Jb(),l.Jb(),l.Jb(),l.Kb(8,"div",6),l.Kb(9,"label",56),l.Kb(10,"span",32),l.lc(11,"Host"),l.Jb(),l.Ib(12,"span",68),l.Jb(),l.Kb(13,"div",8),l.Kb(14,"input",57),l.Sb("ngModelChange",function(t){return l.fc(e),l.Ub(3).intervalAction.address.host=t}),l.Jb(),l.Kb(15,"div",58),l.Kb(16,"small"),l.lc(17,"the REST address host can't be empty!"),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Kb(18,"div",6),l.Kb(19,"label",59),l.lc(20,"Port"),l.Jb(),l.Kb(21,"div",8),l.Kb(22,"input",60),l.Sb("ngModelChange",function(t){return l.fc(e),l.Ub(3).intervalAction.address.port=t}),l.Jb(),l.Kb(23,"div",61),l.Kb(24,"small"),l.lc(25,"the REST address port can't be empty and only pure integer is supported!"),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Kb(26,"div",11),l.Kb(27,"label",62),l.lc(28,"Path"),l.Jb(),l.Kb(29,"div",8),l.Kb(30,"app-device-core-command-combo-list",78),l.Sb("cmdMethodEvent",function(t){return l.fc(e),l.Ub(3).onCmdMethodSelected(t)})("commandSelectedEvent",function(t){return l.fc(e),l.Ub(3).onCommandSelected(t)}),l.Jb(),l.Jb(),l.Jb(),l.Kb(31,"div",11),l.Kb(32,"label",64),l.lc(33,"RequestBody"),l.Jb(),l.Kb(34,"div",8),l.Kb(35,"input",65),l.Sb("ngModelChange",function(t){return l.fc(e),l.Ub(3).intervalAction.address.requestBody=t}),l.Jb(),l.Jb(),l.Jb(),l.Jb()}if(2&e){const e=l.Ub(3);l.wb(7),l.Xb("ngModel",e.intervalAction.address.httpMethod),l.wb(7),l.zb("is-invalid",!e.intervalAction.address.host)("is-valid",e.intervalAction.address.host),l.Xb("ngModel",e.intervalAction.address.host),l.wb(8),l.zb("is-invalid",!e.isPureIntegerType(e.intervalAction.address.port))("is-valid",e.isPureIntegerType(e.intervalAction.address.port)),l.Xb("ngModel",e.intervalAction.address.port),l.wb(8),l.Xb("validate",!0),l.wb(5),l.Xb("ngModel",e.intervalAction.address.requestBody)}}function q(e,t){if(1&e&&(l.Kb(0,"div",null,40),l.Kb(2,"div",41),l.jc(3,R,55,14,"ng-template",42,43,l.kc),l.jc(5,U,42,13,"ng-template",42,44,l.kc),l.jc(7,L,36,13,"ng-template",42,45,l.kc),l.Jb(),l.Jb()),2&e){const e=l.Ub(2);l.wb(2),l.Xb("ngSwitch",e.templateSelected),l.wb(1),l.Xb("ngSwitchCase",e.template_type_custom),l.wb(2),l.Xb("ngSwitchCase",e.template_type_coredata),l.wb(2),l.Xb("ngSwitchCase",e.template_type_command)}}function x(e,t){if(1&e){const e=l.Lb();l.Kb(0,"div",null,79),l.Kb(2,"form"),l.Kb(3,"div",6),l.Kb(4,"label",80),l.lc(5,"Host"),l.Jb(),l.Kb(6,"div",8),l.Kb(7,"input",81),l.Sb("ngModelChange",function(t){return l.fc(e),l.Ub(2).intervalAction.address.host=t}),l.Jb(),l.Kb(8,"div",82),l.Kb(9,"small"),l.lc(10,"the MQTT host can't be empty!"),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Kb(11,"div",6),l.Kb(12,"label",83),l.lc(13,"Port"),l.Jb(),l.Kb(14,"div",8),l.Kb(15,"input",84),l.Sb("ngModelChange",function(t){return l.fc(e),l.Ub(2).intervalAction.address.port=t}),l.Jb(),l.Kb(16,"div",85),l.Kb(17,"small"),l.lc(18,"the MQTT port can't be empty and only pure integer is supported!!"),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Kb(19,"div",6),l.Kb(20,"label",86),l.lc(21,"Publisher"),l.Jb(),l.Kb(22,"div",8),l.Kb(23,"input",87),l.Sb("ngModelChange",function(t){return l.fc(e),l.Ub(2).intervalAction.address.publisher=t}),l.Jb(),l.Kb(24,"div",88),l.Kb(25,"small"),l.lc(26,"the MQTT publisher can't be empty!"),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Kb(27,"div",6),l.Kb(28,"label",89),l.lc(29,"Topic"),l.Jb(),l.Kb(30,"div",8),l.Kb(31,"input",90),l.Sb("ngModelChange",function(t){return l.fc(e),l.Ub(2).intervalAction.address.topic=t}),l.Jb(),l.Kb(32,"div",91),l.Kb(33,"small"),l.lc(34,"the MQTT topic can't be empty!"),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Kb(35,"div",11),l.Kb(36,"label",92),l.lc(37,"QoS"),l.Jb(),l.Kb(38,"div",8),l.Kb(39,"input",93),l.Sb("ngModelChange",function(t){return l.fc(e),l.Ub(2).intervalAction.address.qos=t}),l.Jb(),l.Jb(),l.Jb(),l.Kb(40,"div",11),l.Kb(41,"label",94),l.lc(42,"KeepAlive"),l.Jb(),l.Kb(43,"div",8),l.Kb(44,"input",95),l.Sb("ngModelChange",function(t){return l.fc(e),l.Ub(2).intervalAction.address.keepAlive=t}),l.Jb(),l.Jb(),l.Jb(),l.Kb(45,"div",11),l.Kb(46,"label",96),l.lc(47,"Retained"),l.Jb(),l.Kb(48,"div",8),l.Kb(49,"select",97),l.Sb("ngModelChange",function(t){return l.fc(e),l.Ub(2).intervalAction.address.retained=t}),l.Kb(50,"option",98),l.lc(51,"false"),l.Jb(),l.Kb(52,"option",99),l.lc(53,"true"),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Kb(54,"div",11),l.Kb(55,"label",100),l.lc(56,"AutoReconnect"),l.Jb(),l.Kb(57,"div",8),l.Kb(58,"select",101),l.Sb("ngModelChange",function(t){return l.fc(e),l.Ub(2).intervalAction.address.autoReconnect=t}),l.Kb(59,"option",98),l.lc(60,"true"),l.Jb(),l.Kb(61,"option",99),l.lc(62,"false"),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Kb(63,"div",11),l.Kb(64,"label",102),l.lc(65,"ConnectTimeout"),l.Jb(),l.Kb(66,"div",8),l.Kb(67,"input",103),l.Sb("ngModelChange",function(t){return l.fc(e),l.Ub(2).intervalAction.address.connectTimeout=t}),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Jb()}if(2&e){const e=l.Ub(2);l.wb(7),l.zb("is-invalid",!e.intervalAction.address.host)("is-valid",e.intervalAction.address.host),l.Xb("ngModel",e.intervalAction.address.host),l.wb(8),l.zb("is-invalid",!e.isPureIntegerType(e.intervalAction.address.port))("is-valid",e.isPureIntegerType(e.intervalAction.address.port)),l.Xb("ngModel",e.intervalAction.address.port),l.wb(8),l.zb("is-invalid",!e.intervalAction.address.publisher)("is-valid",e.intervalAction.address.publisher),l.Xb("ngModel",e.intervalAction.address.publisher),l.wb(8),l.zb("is-invalid",!e.intervalAction.address.topic)("is-valid",e.intervalAction.address.topic),l.Xb("ngModel",e.intervalAction.address.topic),l.wb(8),l.Xb("ngModel",e.intervalAction.address.qos),l.wb(5),l.Xb("ngModel",e.intervalAction.address.keepAlive),l.wb(5),l.Xb("ngModel",e.intervalAction.address.retained),l.wb(1),l.Xb("ngValue",!1),l.wb(2),l.Xb("ngValue",!0),l.wb(6),l.Xb("ngModel",e.intervalAction.address.autoReconnect),l.wb(1),l.Xb("ngValue",!0),l.wb(2),l.Xb("ngValue",!1),l.wb(6),l.Xb("ngModel",e.intervalAction.address.connectTimeout)}}function N(e,t){if(1&e){const e=l.Lb();l.Kb(0,"div",5),l.Kb(1,"form"),l.Kb(2,"div",6),l.Kb(3,"label",7),l.lc(4,"Name"),l.Jb(),l.Kb(5,"div",8),l.Kb(6,"input",9),l.Sb("ngModelChange",function(t){return l.fc(e),l.Ub().intervalAction.name=t}),l.Jb(),l.Kb(7,"div",10),l.Kb(8,"small"),l.lc(9,"the interval action name can't be empty!"),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Kb(10,"div",11),l.Kb(11,"label",12),l.lc(12,"IntervalName"),l.Jb(),l.Kb(13,"div",8),l.jc(14,O,2,2,"div",13),l.Jb(),l.Jb(),l.Kb(15,"div",11),l.Kb(16,"label",14),l.lc(17,"AdminState"),l.Jb(),l.Kb(18,"div",8),l.Kb(19,"select",15),l.Sb("ngModelChange",function(t){return l.fc(e),l.Ub().intervalAction.adminState=t}),l.Kb(20,"option",16),l.lc(21,"UNLOCKED"),l.Jb(),l.Kb(22,"option",17),l.lc(23,"LOCKED"),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Kb(24,"div",11),l.Kb(25,"label",18),l.lc(26,"Address"),l.Jb(),l.Kb(27,"div",8),l.Kb(28,"div",0),l.Kb(29,"div",1),l.Kb(30,"div",19),l.Kb(31,"span",20),l.Kb(32,"input",21),l.Sb("ngModelChange",function(t){return l.fc(e),l.Ub().intervalAction.address.type=t})("change",function(){return l.fc(e),l.Ub().typeToggle("REST")}),l.Jb(),l.Kb(33,"label",22),l.lc(34,"REST"),l.Jb(),l.Jb(),l.Jb(),l.Kb(35,"div",19),l.Kb(36,"span",23),l.Sb("click",function(){return l.fc(e),l.Ub().typeToggle("MQTT")}),l.Kb(37,"input",24),l.Sb("ngModelChange",function(t){return l.fc(e),l.Ub().intervalAction.address.type=t}),l.Jb(),l.Kb(38,"label",25),l.lc(39,"MQTT"),l.Jb(),l.Jb(),l.Jb(),l.Kb(40,"div",19),l.Kb(41,"span",23),l.Sb("click",function(){return l.fc(e),l.Ub().typeToggle("EMAIL")}),l.Kb(42,"input",26),l.Sb("ngModelChange",function(t){return l.fc(e),l.Ub().intervalAction.address.type=t}),l.Jb(),l.Kb(43,"label",27),l.lc(44,"EMAIL"),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.jc(45,X,10,12,"div",28),l.Kb(46,"div",5),l.jc(47,q,9,4,"div",29),l.jc(48,x,68,29,"div",29),l.Kb(49,"div",null,30),l.Kb(51,"form"),l.Kb(52,"div",11),l.Kb(53,"label",31),l.Kb(54,"span",32),l.lc(55,"EmailRecipients"),l.Jb(),l.Ib(56,"span",33),l.Jb(),l.Kb(57,"div",8),l.Kb(58,"input",34),l.Sb("ngModelChange",function(t){return l.fc(e),l.Ub().addressEmailRecipients=t}),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Jb()}if(2&e){const e=l.Ub();l.wb(6),l.zb("is-invalid",!e.intervalAction.name)("is-valid",e.intervalAction.name),l.Xb("ngModel",e.intervalAction.name),l.wb(8),l.Xb("ngIf",e.selectedIntervalDefault),l.wb(5),l.Xb("ngModel",e.intervalAction.adminState),l.wb(12),l.zb("badge-secondary",e.intervalAction.address.type!==e.addr_type_REST)("badge-primary",e.intervalAction.address.type===e.addr_type_REST),l.wb(1),l.Xb("ngModel",e.intervalAction.address.type),l.wb(4),l.zb("badge-secondary",e.intervalAction.address.type!==e.addr_type_MQTT)("badge-primary",e.intervalAction.address.type===e.addr_type_MQTT),l.wb(1),l.Xb("ngModel",e.intervalAction.address.type),l.wb(4),l.zb("badge-secondary",e.intervalAction.address.type!==e.addr_type_EMAIL)("badge-primary",e.intervalAction.address.type===e.addr_type_EMAIL),l.wb(1),l.Xb("ngModel",e.intervalAction.address.type),l.wb(3),l.Xb("ngIf",e.intervalAction.address.type===e.addr_type_REST),l.wb(2),l.Xb("ngIf","REST"===e.intervalAction.address.type),l.wb(1),l.Xb("ngIf",(null==e.intervalAction.address?null:e.intervalAction.address.type)===e.addr_type_MQTT),l.wb(1),l.ic("display",e.intervalAction.address.type!==e.addr_type_EMAIL?"none":""),l.wb(9),l.Xb("ngModel",e.addressEmailRecipients)}}const _=[{path:"",component:o,children:[{path:"",redirectTo:"interval-center",pathMatch:"full"},{path:"interval-center",component:d,children:[{path:"",redirectTo:"interval-list",pathMatch:"full"},{path:"interval-list",component:u},{path:"add-interval",component:g},{path:"edit-interval",component:J}]},{path:"interval-action-center",component:K,children:[{path:"",redirectTo:"interval-action-list",pathMatch:"full"},{path:"interval-action-list",component:y},{path:"add-interval-action",component:(()=>{class e{constructor(e,t,n,i,a){this.schedulerSvc=e,this.msgSvc=t,this.route=n,this.router=i,this.errSvc=a,this.addressEmailRecipients="",this.templateSelected="coredata",this.coredataRequestParameter="",this.coredataSvcAvailableAPI=["/api/v2/event/age/"],this.intervalAction={adminState:"UNLOCKED"},this.intervalAction.address={},this.intervalAction.address.type="REST",this.intervalAction.address.httpMethod="GET",this.intervalAction.address.retained=!1,this.intervalAction.address.autoReconnect=!0}ngOnInit(){this.renderPopoverComponent(),this.renderCoredataDefaultTemplate()}initDatePickr(){let e=this;this.calendarStart=Object(m.a)("input[name='coredataRequestParameter']",{dateFormat:"YmdTHiS",enableTime:!0,enableSeconds:!0,time_24hr:!0,allowInput:!1,onChange:function(t,n,i){e.intervalAction.address.path=e.coredataSvcAvailableAPI[0]+n}})}renderPopoverComponent(){$('[data-toggle="popover"]').popover({trigger:"hover"})}renderCoredataDefaultTemplate(){this.intervalAction.address.httpMethod="DELETE",this.intervalAction.address.host="edgex-core-data",this.intervalAction.address.port=59880,this.intervalAction.address.path=this.coredataSvcAvailableAPI[0],setTimeout(()=>{this.renderPopoverComponent(),this.initDatePickr()},300)}templateToggle(e){switch(this.templateSelected=e,this.templateSelected){case"coredata":this.renderCoredataDefaultTemplate();break;case"command":this.intervalAction.address.httpMethod="",this.intervalAction.address.host="edgex-core-command",this.intervalAction.address.port=59882,this.intervalAction.address.path="",this.intervalAction.address.httpMethod="",setTimeout(()=>{this.renderPopoverComponent()},300);break;case"custom":setTimeout(()=>{this.renderPopoverComponent()},300),this.intervalAction.address={},this.intervalAction.address.type="REST",this.intervalAction.address.httpMethod="GET",this.intervalAction.address.retained=!1,this.intervalAction.address.autoReconnect=!0}}typeToggle(e){this.intervalAction.address.type=e,"REST"===e&&this.templateToggle("coredata")}onCmdMethodSelected(e){this.intervalAction.address.httpMethod=e}onCommandSelected(e){this.intervalAction.address.path=e.path}onSingleIntervalSelected(e){this.intervalAction.intervalName=e.name}isPureIntegerType(e){return!isNaN(e)&&parseFloat(e)===parseInt(e)}validate(){let e=!0,t=this.intervalAction.name&&this.intervalAction.intervalName;switch(this.intervalAction.address.type){case"REST":t&&this.intervalAction.address.host&&this.isPureIntegerType(this.intervalAction.address.port)&&this.intervalAction.address.port&&this.intervalAction.address.path&&this.intervalAction.address.httpMethod&&(e=!1);break;case"MQTT":t&&this.intervalAction.address.host&&this.isPureIntegerType(this.intervalAction.address.port)&&this.intervalAction.address.port&&this.intervalAction.address.publisher&&this.intervalAction.address.topic&&(e=!1);break;case"EMAIL":t&&(e=!1)}return e}submit(){this.intervalAction.address.recipients=this.addressEmailRecipients.split(","),this.intervalAction.address.port=Number(this.intervalAction.address.port),this.schedulerSvc.addIntervalAction(this.intervalAction).subscribe(()=>{this.msgSvc.success("Add interval action","name: "+this.intervalAction.name),this.router.navigate(["../interval-action-list"],{relativeTo:this.route})})}}return e.\u0275fac=function(t){return new(t||e)(l.Hb(b.a),l.Hb(s.a),l.Hb(r.a),l.Hb(r.e),l.Hb(c.a))},e.\u0275cmp=l.Bb({type:e,selectors:[["app-add-interval-action"]],decls:148,vars:59,consts:[[1,"card","mb-3"],[1,"card-header"],[1,"fa","fa-info-circle","mr-2","text-info"],[1,"card-body"],[1,"card"],[1,"fa","fa-plus","text-danger"],[1,"btn","btn-sm","btn-success","float-right",3,"disabled","click"],[1,"form-group","row","has-validation"],["for","intervalActionName","required","",1,"col-md-2","col-form-label"],[1,"col-md-10"],["type","text","id","validationIntervalActionName","name","intervalActionName","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","validationIntervalActionNameFeedback",1,"invalid-feedback"],[1,"form-group","row"],["for","intervalName",1,"col-md-2","col-form-label"],[1,"mb-3"],[3,"validate","intervalSelectedEvent"],["for","adminState",1,"col-md-2","col-form-label"],["name","adminState",1,"custom-select",3,"ngModel","ngModelChange"],["value","UNLOCKED"],["value","LOCKED"],["for","Address",1,"col-md-2","col-form-label"],[1,"form-check","form-check-inline"],[1,"badge"],["type","radio","name","inlineRadioOptions","id","REST","value","REST",1,"form-check-input",3,"ngModel","ngModelChange","click"],["for","REST",1,"form-check-label"],["type","radio","name","inlineRadioOptions","id","MQTT","value","MQTT",1,"form-check-input",3,"ngModel","ngModelChange","click"],["for","MQTT",1,"form-check-label"],["type","radio","name","inlineRadioOptions","id","EMAIL","value","EMAIL",1,"form-check-input",3,"ngModel","ngModelChange","click"],["for","EMAIL",1,"form-check-label"],["class","card-header",4,"ngIf"],[4,"ngIf"],["MQTT",""],["for","addressHostMQTT","required","",1,"col-md-2","col-form-label"],["type","text","id","addressHostMQTT","name","addressHost","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","addressHostMQTTFeedback",1,"invalid-feedback"],["for","addressPortMQTT","required","",1,"col-md-2","col-form-label"],["type","text","id","addressPortMQTT","name","addressPort","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","addressPortMQTTFeedback",1,"invalid-feedback"],["for","addressPublisher","required","",1,"col-md-2","col-form-label"],["type","text","id","addressPublisher","name","addressPublisher","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","addressPublisherFeedback",1,"invalid-feedback"],["for","addressTopic","required","",1,"col-md-2","col-form-label"],["type","text","id","addressTopic","name","addressTopic","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","addressTopicFeedback",1,"invalid-feedback"],["for","addressQoS",1,"col-md-2","col-form-label"],[1,"mr-2"],["role","button","data-html","false","data-animation","true","data-trigger","focus","data-toggle","popover","title","format tips","data-content","only pure integer supported!",1,"fa","fa-question-circle-o","fa-lg"],["type","number","id","addressQoS","name","addressQoS",1,"form-control",3,"ngModel","ngModelChange"],["for","addressKeepAlive",1,"col-md-2","col-form-label"],["type","number","id","addressKeepAlive","name","addressKeepAlive",1,"form-control",3,"ngModel","ngModelChange"],["for","addressRetained","required","",1,"col-md-2","col-form-label"],["type","text","id","addressRetained","name","addressRetained",1,"form-control",3,"ngModel","ngModelChange"],[3,"ngValue"],["for","addressAutoReconnect","required","",1,"col-md-2","col-form-label"],["type","text","id","addressAutoReconnect","name","addressAutoReconnect",1,"form-control",3,"ngModel","ngModelChange"],["for","addressConnectTimeout","required","",1,"col-md-2","col-form-label"],["type","number","id","addressConnectTimeout","name","addressConnectTimeout",1,"form-control",3,"ngModel","ngModelChange"],["EMAIL",""],["for","emailRecipients",1,"col-md-2","col-form-label"],["role","button","data-html","false","data-animation","true","data-trigger","focus","data-toggle","popover","title","format tips","data-content","Multiple email addresses are separated by commas",1,"fa","fa-question-circle-o","fa-lg"],["type","text","id","emailRecipients","name","emailRecipients",1,"form-control",3,"ngModel","ngModelChange"],["role","button",1,"badge","mr-2",3,"click"],["REST",""],[3,"ngSwitch"],[3,"ngSwitchCase"],["customTemplate",""],["coredataTemplate",""],["commandTemplate",""],["for","HttpMethod","required","",1,"col-md-2","col-form-label"],["type","text","name","httpMethod",1,"form-control",3,"ngModel","ngModelChange"],["value","GET"],["value","POST"],["value","PUT"],["value","DELETE"],["value","PATCH"],["value","HEAD"],["value","TRACE"],["value","CONNECT"],["for","addressHostREST","required","",1,"col-md-2","col-form-label"],["type","text","id","addressHostREST","name","addressHost","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","addressHostRESTFeedback",1,"invalid-feedback"],["for","addressPortREST","required","",1,"col-md-2","col-form-label"],["type","text","id","addressPortREST","name","addressPort","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","addressPortRESTFeedback",1,"invalid-feedback"],["for","addressPath","required","",1,"col-md-2","col-form-label"],["type","text","id","addressPath","name","addressPath",1,"form-control",3,"ngModel","ngModelChange"],["for","requestBody","required","",1,"col-md-2","col-form-label"],["type","text","id","requestBody","name","requestBody",1,"form-control",3,"ngModel","ngModelChange"],["role","button","data-html","false","data-animation","true","data-trigger","focus","data-toggle","popover","title","tips","data-content","Indicates which request contentType should be used (i.e. text/html, application/json), the default is application/json if not setup",1,"fa","fa-question-circle-o","fa-lg"],["type","text","id","contentType","name","contentType",1,"form-control",3,"ngModel","ngModelChange"],["role","button","data-html","false","data-animation","true","data-trigger","focus","data-toggle","popover","title","tips","data-content","Both Host and Port fields are editable if you have a different host address !",1,"fa","fa-question-circle-o","fa-lg"],["role","button","data-html","false","data-animation","true","data-trigger","focus","data-toggle","popover","title","tips","data-content","Remove all old events (and associated readings) based on delimiting age, the parameters delimiting age will be filled up automatically when parameters field is selected!",1,"fa","fa-question-circle-o","fa-lg"],["type","text","id","addressPath","name","addressPath","disabled","",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-group"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"fa","fa-calendar"],["type","text","name","coredataRequestParameter",1,"form-control",3,"ngModel","ngModelChange"],["role","button","data-html","false","data-animation","true","data-trigger","focus","data-toggle","popover","title","tips","data-content","httpMethod field will be filled up automatically when the path field is selected! ",1,"fa","fa-question-circle-o","fa-lg"],["type","text","name","httpMethod","disabled","","required","",1,"form-control",3,"ngModel","ngModelChange"],[3,"validate","cmdMethodEvent","commandSelectedEvent"]],template:function(e,t){1&e&&(l.Kb(0,"div",0),l.Kb(1,"div",1),l.Ib(2,"i",2),l.Kb(3,"span"),l.lc(4,"Tips"),l.Jb(),l.Jb(),l.Kb(5,"div",3),l.lc(6," The support scheduler micro service provide an internal EdgeX \u201cclock\u201d that can kick off operations in any EdgeX service. At a configuration specified time (called an interval), the service calls on any EdgeX service API URL via REST to trigger an operation (called an interval action). For example, the scheduling service periodically calls on core data APIs to clean up old sensed events that have been successfully exported out of EdgeX. "),l.Ib(7,"br"),l.lc(8," Users also can call the API of command service to collect one device's data automatically. "),l.Jb(),l.Jb(),l.Kb(9,"div",4),l.Kb(10,"div",1),l.Ib(11,"i",5),l.lc(12," Add Interval Action "),l.Kb(13,"button",6),l.Sb("click",function(){return t.submit()}),l.lc(14,"Submit"),l.Jb(),l.Jb(),l.Kb(15,"div",3),l.Kb(16,"form"),l.Kb(17,"div",7),l.Kb(18,"label",8),l.lc(19,"Name"),l.Jb(),l.Kb(20,"div",9),l.Kb(21,"input",10),l.Sb("ngModelChange",function(e){return t.intervalAction.name=e}),l.Jb(),l.Kb(22,"div",11),l.Kb(23,"small"),l.lc(24,"the interval action name can't be empty!"),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Kb(25,"div",12),l.Kb(26,"label",13),l.lc(27,"IntervalName"),l.Jb(),l.Kb(28,"div",9),l.Kb(29,"div",14),l.Kb(30,"app-interval-combo-list",15),l.Sb("intervalSelectedEvent",function(e){return t.onSingleIntervalSelected(e)}),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Kb(31,"div",12),l.Kb(32,"label",16),l.lc(33,"AdminState"),l.Jb(),l.Kb(34,"div",9),l.Kb(35,"select",17),l.Sb("ngModelChange",function(e){return t.intervalAction.adminState=e}),l.Kb(36,"option",18),l.lc(37,"UNLOCKED"),l.Jb(),l.Kb(38,"option",19),l.lc(39,"LOCKED"),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Kb(40,"div",12),l.Kb(41,"label",20),l.lc(42,"Address"),l.Jb(),l.Kb(43,"div",9),l.Kb(44,"div",4),l.Kb(45,"div",1),l.Kb(46,"div",21),l.Kb(47,"span",22),l.Kb(48,"input",23),l.Sb("ngModelChange",function(e){return t.intervalAction.address.type=e})("click",function(){return t.typeToggle("REST")}),l.Jb(),l.Kb(49,"label",24),l.lc(50,"REST"),l.Jb(),l.Jb(),l.Jb(),l.Kb(51,"div",21),l.Kb(52,"span",22),l.Kb(53,"input",25),l.Sb("ngModelChange",function(e){return t.intervalAction.address.type=e})("click",function(){return t.typeToggle("MQTT")}),l.Jb(),l.Kb(54,"label",26),l.lc(55,"MQTT"),l.Jb(),l.Jb(),l.Jb(),l.Kb(56,"div",21),l.Kb(57,"span",22),l.Kb(58,"input",27),l.Sb("ngModelChange",function(e){return t.intervalAction.address.type=e})("click",function(){return t.typeToggle("EMAIL")}),l.Jb(),l.Kb(59,"label",28),l.lc(60,"EMAIL"),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.jc(61,C,7,12,"div",29),l.Kb(62,"div",3),l.jc(63,E,9,4,"div",30),l.Kb(64,"div",null,31),l.Kb(66,"form"),l.Kb(67,"div",7),l.Kb(68,"label",32),l.lc(69,"Host"),l.Jb(),l.Kb(70,"div",9),l.Kb(71,"input",33),l.Sb("ngModelChange",function(e){return t.intervalAction.address.host=e}),l.Jb(),l.Kb(72,"div",34),l.Kb(73,"small"),l.lc(74,"the MQTT host can't be empty!"),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Kb(75,"div",7),l.Kb(76,"label",35),l.lc(77,"Port"),l.Jb(),l.Kb(78,"div",9),l.Kb(79,"input",36),l.Sb("ngModelChange",function(e){return t.intervalAction.address.port=e}),l.Jb(),l.Kb(80,"div",37),l.Kb(81,"small"),l.lc(82,"the MQTT port can't be empty and only pure integer is supported!!"),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Kb(83,"div",7),l.Kb(84,"label",38),l.lc(85,"Publisher"),l.Jb(),l.Kb(86,"div",9),l.Kb(87,"input",39),l.Sb("ngModelChange",function(e){return t.intervalAction.address.publisher=e}),l.Jb(),l.Kb(88,"div",40),l.Kb(89,"small"),l.lc(90,"the MQTT publisher can't be empty!"),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Kb(91,"div",7),l.Kb(92,"label",41),l.lc(93,"Topic"),l.Jb(),l.Kb(94,"div",9),l.Kb(95,"input",42),l.Sb("ngModelChange",function(e){return t.intervalAction.address.topic=e}),l.Jb(),l.Kb(96,"div",43),l.Kb(97,"small"),l.lc(98,"the MQTT topic can't be empty!"),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Kb(99,"div",12),l.Kb(100,"label",44),l.Kb(101,"span",45),l.lc(102,"QoS"),l.Jb(),l.Ib(103,"span",46),l.Jb(),l.Kb(104,"div",9),l.Kb(105,"input",47),l.Sb("ngModelChange",function(e){return t.intervalAction.address.qos=e}),l.Jb(),l.Jb(),l.Jb(),l.Kb(106,"div",12),l.Kb(107,"label",48),l.Kb(108,"span",45),l.lc(109,"KeepAlive"),l.Jb(),l.Ib(110,"span",46),l.Jb(),l.Kb(111,"div",9),l.Kb(112,"input",49),l.Sb("ngModelChange",function(e){return t.intervalAction.address.keepAlive=e}),l.Jb(),l.Jb(),l.Jb(),l.Kb(113,"div",12),l.Kb(114,"label",50),l.lc(115,"Retained"),l.Jb(),l.Kb(116,"div",9),l.Kb(117,"select",51),l.Sb("ngModelChange",function(e){return t.intervalAction.address.retained=e}),l.Kb(118,"option",52),l.lc(119,"false"),l.Jb(),l.Kb(120,"option",52),l.lc(121,"true"),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Kb(122,"div",12),l.Kb(123,"label",53),l.lc(124,"AutoReconnect"),l.Jb(),l.Kb(125,"div",9),l.Kb(126,"select",54),l.Sb("ngModelChange",function(e){return t.intervalAction.address.autoReconnect=e}),l.Kb(127,"option",52),l.lc(128,"true"),l.Jb(),l.Kb(129,"option",52),l.lc(130,"false"),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Kb(131,"div",12),l.Kb(132,"label",55),l.Kb(133,"span",45),l.lc(134,"ConnectTimeout"),l.Jb(),l.Ib(135,"span",46),l.Jb(),l.Kb(136,"div",9),l.Kb(137,"input",56),l.Sb("ngModelChange",function(e){return t.intervalAction.address.connectTimeout=e}),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Kb(138,"div",null,57),l.Kb(140,"form"),l.Kb(141,"div",12),l.Kb(142,"label",58),l.Kb(143,"span",45),l.lc(144,"EmailRecipients"),l.Jb(),l.Ib(145,"span",59),l.Jb(),l.Kb(146,"div",9),l.Kb(147,"input",60),l.Sb("ngModelChange",function(e){return t.addressEmailRecipients=e}),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Jb()),2&e&&(l.wb(13),l.Xb("disabled",t.validate()),l.wb(8),l.zb("is-invalid",!t.intervalAction.name)("is-valid",t.intervalAction.name),l.Xb("ngModel",t.intervalAction.name),l.wb(9),l.Xb("validate",!0),l.wb(5),l.Xb("ngModel",t.intervalAction.adminState),l.wb(12),l.zb("badge-secondary","REST"!==t.intervalAction.address.type)("badge-primary","REST"===t.intervalAction.address.type),l.wb(1),l.Xb("ngModel",t.intervalAction.address.type),l.wb(4),l.zb("badge-secondary","MQTT"!==t.intervalAction.address.type)("badge-primary","MQTT"===t.intervalAction.address.type),l.wb(1),l.Xb("ngModel",t.intervalAction.address.type),l.wb(4),l.zb("badge-secondary","EMAIL"!==t.intervalAction.address.type)("badge-primary","EMAIL"===t.intervalAction.address.type),l.wb(1),l.Xb("ngModel",t.intervalAction.address.type),l.wb(3),l.Xb("ngIf","REST"===t.intervalAction.address.type),l.wb(2),l.Xb("ngIf","REST"===t.intervalAction.address.type),l.wb(1),l.ic("display","MQTT"!==t.intervalAction.address.type?"none":""),l.wb(7),l.zb("is-invalid",!t.intervalAction.address.host)("is-valid",t.intervalAction.address.host),l.Xb("ngModel",t.intervalAction.address.host),l.wb(8),l.zb("is-invalid",!t.isPureIntegerType(t.intervalAction.address.port))("is-valid",t.isPureIntegerType(t.intervalAction.address.port)),l.Xb("ngModel",t.intervalAction.address.port),l.wb(8),l.zb("is-invalid",!t.intervalAction.address.publisher)("is-valid",t.intervalAction.address.publisher),l.Xb("ngModel",t.intervalAction.address.publisher),l.wb(8),l.zb("is-invalid",!t.intervalAction.address.topic)("is-valid",t.intervalAction.address.topic),l.Xb("ngModel",t.intervalAction.address.topic),l.wb(10),l.Xb("ngModel",t.intervalAction.address.qos),l.wb(7),l.Xb("ngModel",t.intervalAction.address.keepAlive),l.wb(5),l.Xb("ngModel",t.intervalAction.address.retained),l.wb(1),l.Xb("ngValue",!1),l.wb(2),l.Xb("ngValue",!0),l.wb(6),l.Xb("ngModel",t.intervalAction.address.autoReconnect),l.wb(1),l.Xb("ngValue",!0),l.wb(2),l.Xb("ngValue",!1),l.wb(8),l.Xb("ngModel",t.intervalAction.address.connectTimeout),l.wb(1),l.ic("display","EMAIL"!==(null==t.intervalAction.address?null:t.intervalAction.address.type)?"none":""),l.wb(9),l.Xb("ngModel",t.addressEmailRecipients))},directives:[a.n,a.e,a.f,a.a,a.k,a.d,a.g,I,a.l,a.h,a.m,a.j,i.k,a.i,i.l,i.m,T.a],styles:[""]}),e})()},{path:"edit-interval-action",component:(()=>{class e{constructor(e,t,n,i,a){this.schedulerSvc=e,this.msgSvc=t,this.route=n,this.router=i,this.errSvc=a,this.addr_type_REST="REST",this.addr_type_MQTT="MQTT",this.addr_type_EMAIL="EMAIL",this.template_type_coredata="coredata",this.template_type_command="command",this.template_type_custom="custom",this.addressEmailRecipients="",this.templateSelected="custom",this.coredataRequestParameter="",this.coredataSvcAvailableAPI=["/api/v2/event/age/"],this.intervalAction={},this.intervalActionOrigin={},this.intervalAction.address={}}ngOnInit(){this.renderPopoverComponent(),this.route.queryParams.subscribe(e=>{e.intervalActionName&&this.schedulerSvc.findIntervalActionByName(e.intervalActionName).subscribe(e=>{this.intervalAction=JSON.parse(JSON.stringify(e.action)),this.intervalActionOrigin=JSON.parse(JSON.stringify(e.action)),this.intervalActionOrigin.adminState=""===this.intervalActionOrigin.adminState?"UNLOCKED":this.intervalActionOrigin.adminState,this.intervalAction.adminState=""===this.intervalAction.adminState?"UNLOCKED":this.intervalAction.adminState,this.addressEmailRecipients=this.intervalAction.address.recipients?this.intervalAction.address.recipients.toString():"",this.findDefaultSelectedIntervalByName(this.intervalAction.intervalName),setTimeout(()=>{this.renderPopoverComponent(),this.initDatePickr()},300)})})}initDatePickr(){let e=this;this.calendarStart=Object(m.a)("input[name='coredataRequestParameter']",{dateFormat:"YmdTHiS",enableTime:!0,enableSeconds:!0,time_24hr:!0,allowInput:!1,onChange:function(t,n,i){e.intervalAction.address.path=e.coredataSvcAvailableAPI[0]+n}})}setActionDefaultProperties(){switch(this.intervalAction.address.type){case this.addr_type_REST:this.intervalAction.address.httpMethod="GET";break;case this.addr_type_MQTT:this.intervalAction.address.retained=!1,this.intervalAction.address.autoReconnect=!0}}findDefaultSelectedIntervalByName(e){this.schedulerSvc.findIntervalByName(e).subscribe(e=>{this.selectedIntervalDefault=e.interval})}renderPopoverComponent(){$('[data-toggle="popover"]').popover({trigger:"hover"})}renderCoredataDefaultTemplate(){this.intervalAction.address.httpMethod="DELETE",this.intervalAction.address.host="edgex-core-data",this.intervalAction.address.port=59880,this.intervalAction.address.path=this.coredataSvcAvailableAPI[0],setTimeout(()=>{this.renderPopoverComponent(),this.initDatePickr()},300)}templateToggle(e){switch(this.intervalAction=JSON.parse(JSON.stringify(this.intervalActionOrigin)),this.intervalAction.address.type=this.addr_type_REST,this.templateSelected=e,this.templateSelected){case this.template_type_coredata:this.renderCoredataDefaultTemplate();break;case this.template_type_command:this.intervalAction.address.path="",this.intervalAction.address.httpMethod="",setTimeout(()=>{this.renderPopoverComponent()},300);break;case this.template_type_custom:setTimeout(()=>{this.renderPopoverComponent()},300)}}typeToggle(e){this.intervalAction=JSON.parse(JSON.stringify(this.intervalActionOrigin)),this.intervalAction.address.type=e,this.templateSelected="custom",setTimeout(()=>{this.renderPopoverComponent()},300)}onCmdMethodSelected(e){this.intervalAction.address.httpMethod=e}onCommandSelected(e){this.intervalAction.address.path=e.path}onSingleIntervalSelected(e){this.intervalAction.intervalName=e.name}isPureIntegerType(e){return!isNaN(e)&&parseFloat(e)===parseInt(e)}validate(){let e=!0,t=this.intervalAction.name&&this.intervalAction.intervalName;switch(this.intervalAction.address.type){case this.addr_type_REST:t&&this.intervalAction.address.host&&this.isPureIntegerType(this.intervalAction.address.port)&&this.intervalAction.address.path&&this.intervalAction.address.httpMethod&&(e=!1);break;case this.addr_type_MQTT:t&&this.intervalAction.address.host&&this.isPureIntegerType(this.intervalAction.address.port)&&this.intervalAction.address.port&&this.intervalAction.address.publisher&&this.intervalAction.address.topic&&(e=!1);break;case this.addr_type_EMAIL:t&&(e=!1)}return e}save(){this.intervalAction.address.recipients=this.addressEmailRecipients.split(","),this.intervalAction.address.port=Number(this.intervalAction.address.port),this.schedulerSvc.updateIntervalAction(this.intervalAction).subscribe(()=>{this.msgSvc.success("Update interval action","name: "+this.intervalAction.name),this.router.navigate(["../interval-action-list"],{relativeTo:this.route})})}}return e.\u0275fac=function(t){return new(t||e)(l.Hb(b.a),l.Hb(s.a),l.Hb(r.a),l.Hb(r.e),l.Hb(c.a))},e.\u0275cmp=l.Bb({type:e,selectors:[["app-edit-interval-action"]],decls:7,vars:2,consts:[[1,"card"],[1,"card-header"],[1,"fa","fa-edit","text-danger"],[1,"btn","btn-sm","btn-success","float-right",3,"disabled","click"],["class","card-body",4,"ngIf"],[1,"card-body"],[1,"form-group","row","has-validation"],["for","intervalActionName","required","",1,"col-md-2","col-form-label"],[1,"col-md-10"],["type","text","id","validationIntervalActionName","name","intervalActionName","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","validationIntervalActionNameFeedback",1,"invalid-feedback"],[1,"form-group","row"],["for","intervalName",1,"col-md-2","col-form-label"],["class","mb-3",4,"ngIf"],["for","adminState",1,"col-md-2","col-form-label"],["name","adminState",1,"custom-select",3,"ngModel","ngModelChange"],["value","UNLOCKED"],["value","LOCKED"],["for","Address",1,"col-md-2","col-form-label"],[1,"form-check","form-check-inline"],[1,"badge"],["type","radio","name","inlineRadioOptions","id","REST","value","REST",1,"form-check-input",3,"ngModel","ngModelChange","change"],["for","REST",1,"form-check-label"],[1,"badge",3,"click"],["type","radio","name","inlineRadioOptions","id","MQTT","value","MQTT",1,"form-check-input",3,"ngModel","ngModelChange"],["for","MQTT",1,"form-check-label"],["type","radio","name","inlineRadioOptions","id","EMAIL","value","EMAIL",1,"form-check-input",3,"ngModel","ngModelChange"],["for","EMAIL",1,"form-check-label"],["class","card-header",4,"ngIf"],[4,"ngIf"],["EMAIL",""],["for","emailRecipients",1,"col-md-2","col-form-label"],[1,"mr-2"],["role","button","data-html","false","data-animation","true","data-trigger","focus","data-toggle","popover","title","format tips","data-content","Multiple email addresses are separated by commas",1,"fa","fa-question-circle-o","fa-lg"],["type","text","id","emailRecipients","name","emailRecipients",1,"form-control",3,"ngModel","ngModelChange"],[1,"mb-3"],[3,"validate","selectedInterval","intervalSelectedEvent"],[1,"mr-2","text-primary"],["role","button","data-html","false","data-animation","true","data-trigger","focus","data-toggle","popover","title","tips","data-content","custom template will be choosed by default",1,"fa","fa-question-circle-o","fa-lg","mr-2"],["role","button",1,"badge","mr-2",3,"click"],["REST",""],[3,"ngSwitch"],[3,"ngSwitchCase"],["customTemplate",""],["coredataTemplate",""],["commandTemplate",""],["for","HttpMethod","required","",1,"col-md-2","col-form-label"],["type","text","name","httpMethod",1,"form-control",3,"ngModel","ngModelChange"],["value","GET"],["value","POST"],["value","PUT"],["value","DELETE"],["value","PATCH"],["value","HEAD"],["value","TRACE"],["value","CONNECT"],["for","addressHostREST","required","",1,"col-md-2","col-form-label"],["type","text","id","addressHostREST","name","addressHost","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","addressHostRESTFeedback",1,"invalid-feedback"],["for","addressPortREST","required","",1,"col-md-2","col-form-label"],["type","text","id","addressPortREST","name","addressPort","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","addressPortRESTFeedback",1,"invalid-feedback"],["for","addressPath","required","",1,"col-md-2","col-form-label"],["type","text","id","addressPath","name","addressPath",1,"form-control",3,"ngModel","ngModelChange"],["for","requestBody","required","",1,"col-md-2","col-form-label"],["type","text","id","requestBody","name","requestBody",1,"form-control",3,"ngModel","ngModelChange"],["role","button","data-html","false","data-animation","true","data-trigger","focus","data-toggle","popover","title","tips","data-content","Indicates which request contentType should be used (i.e. text/html, application/json), the default is application/json if not setup",1,"fa","fa-question-circle-o","fa-lg"],["type","text","id","contentType","name","contentType",1,"form-control",3,"ngModel","ngModelChange"],["role","button","data-html","false","data-animation","true","data-trigger","focus","data-toggle","popover","title","tips","data-content","Both Host and Port fields are editable if you have a different host address !",1,"fa","fa-question-circle-o","fa-lg"],["role","button","data-html","false","data-animation","true","data-trigger","focus","data-toggle","popover","title","tips","data-content","Remove all old events (and associated readings) based on delimiting age, the parameters delimiting age will be filled up automatically when parameters field is selected!",1,"fa","fa-question-circle-o","fa-lg"],["type","text","id","addressPath","name","addressPath","disabled","",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-group"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"fa","fa-calendar"],["type","text","name","coredataRequestParameter",1,"form-control",3,"ngModel","ngModelChange"],["role","button","data-html","false","data-animation","true","data-trigger","focus","data-toggle","popover","title","tips","data-content","httpMethod field will be filled up automatically when the path field is selected! ",1,"fa","fa-question-circle-o","fa-lg"],["type","text","name","httpMethod","disabled","","required","",1,"form-control",3,"ngModel","ngModelChange"],[3,"validate","cmdMethodEvent","commandSelectedEvent"],["MQTT",""],["for","addressHost","required","",1,"col-md-2","col-form-label"],["type","text","id","addressHost","name","addressHost","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","addressHostFeedback",1,"invalid-feedback"],["for","addressPort","required","",1,"col-md-2","col-form-label"],["type","text","id","addressPort","name","addressPort","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","addressPortFeedback",1,"invalid-feedback"],["for","addressPublisher","required","",1,"col-md-2","col-form-label"],["type","text","id","addressPublisher","name","addressPublisher","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","addressPublisherFeedback",1,"invalid-feedback"],["for","addressTopic","required","",1,"col-md-2","col-form-label"],["type","text","id","addressTopic","name","addressTopic","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","addressTopicFeedback",1,"invalid-feedback"],["for","addressQoS","required","",1,"col-md-2","col-form-label"],["type","number","id","addressQoS","name","addressQoS","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","addressKeepAlive","required","",1,"col-md-2","col-form-label"],["type","number","id","addressKeepAlive","name","addressKeepAlive",1,"form-control",3,"ngModel","ngModelChange"],["for","addressRetained","required","",1,"col-md-2","col-form-label"],["type","text","id","addressRetained","name","addressRetained",1,"form-control",3,"ngModel","ngModelChange"],["selected","",3,"ngValue"],[3,"ngValue"],["for","addressAutoReconnect","required","",1,"col-md-2","col-form-label"],["type","text","id","addressAutoReconnect","name","addressAutoReconnect",1,"form-control",3,"ngModel","ngModelChange"],["for","addressConnectTimeout","required","",1,"col-md-2","col-form-label"],["type","number","id","addressConnectTimeout","name","addressConnectTimeout",1,"form-control",3,"ngModel","ngModelChange"]],template:function(e,t){1&e&&(l.Kb(0,"div",0),l.Kb(1,"div",1),l.Ib(2,"i",2),l.lc(3," Edit Interval Action "),l.Kb(4,"button",3),l.Sb("click",function(){return t.save()}),l.lc(5,"Save"),l.Jb(),l.Jb(),l.jc(6,N,59,28,"div",4),l.Jb()),2&e&&(l.wb(4),l.Xb("disabled",t.validate()),l.wb(2),l.Xb("ngIf",t.intervalAction))},directives:[i.k,a.n,a.e,a.f,a.a,a.k,a.d,a.g,a.l,a.h,a.m,a.j,I,i.l,i.m,T.a,a.i],styles:[""]}),e})()}]}]}];let H=(()=>{class e{}return e.\u0275mod=l.Fb({type:e}),e.\u0275inj=l.Eb({factory:function(t){return new(t||e)},imports:[[r.i.forChild(_)],r.i]}),e})();var D=n("ixIh");let j=(()=>{class e{}return e.\u0275mod=l.Fb({type:e}),e.\u0275inj=l.Eb({factory:function(t){return new(t||e)},imports:[[i.b,a.b,D.a,H]]}),e})()}}]);