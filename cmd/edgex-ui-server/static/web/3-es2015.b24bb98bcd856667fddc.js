(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"7PPe":function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i("tk/3"),c=i("JIr8"),d=i("fXoL"),o=i("9vc0");let r=(()=>{class e{constructor(e,t){this.http=e,this.errorSvc=t,this.endpoint="/command",this.version="/api/v2",this.urlPrefix=`${this.endpoint}${this.version}`,this.endpointHealthUrl="/ping",this.versionUrl="/version",this.configUrl="/config",this.deviceCoreCommandListUrl=this.urlPrefix+"/device/all",this.commandsByDeviceIdUrl=this.urlPrefix+"/device/",this.commandsByDeviceNameUrl=this.urlPrefix+"/device/name/",this.issueCmdByDeviceNameAndCmdNameUrl=this.urlPrefix+"/device/name/",this.httpPostOrPutJSONOptions={headers:new n.c({"Content-type":"application/json",Authorization:""})}}getConfig(){return this.http.get(`${this.urlPrefix}${this.configUrl}`).pipe(Object(c.a)(e=>this.errorSvc.handleError(e)))}findCommnadsByDeviceId(e){return this.http.get(`${this.commandsByDeviceIdUrl}${e}`).pipe(Object(c.a)(e=>this.errorSvc.handleError(e)))}allDeviceCoreCommandsPagination(e,t){return this.http.get(`${this.deviceCoreCommandListUrl}?offset=${e}&limit=${t}`).pipe(Object(c.a)(e=>this.errorSvc.handleError(e)))}findDeviceAssociatedCommnadsByDeviceName(e){return this.http.get(`${this.commandsByDeviceNameUrl}${e}`).pipe(Object(c.a)(e=>this.errorSvc.handleError(e)))}findAllDeviceCommnads(){return this.http.get(this.urlPrefix+"/device").pipe(Object(c.a)(e=>this.errorSvc.handleError(e)))}issueGetBinaryCmd(e,t){return this.http.request("GET",`${this.commandsByDeviceIdUrl}${e}/command/${t}`,{responseType:"arraybuffer"}).pipe(Object(c.a)(e=>this.errorSvc.handleError(e)))}issueGetCmd(e,t){return this.http.get(`${this.issueCmdByDeviceNameAndCmdNameUrl}${e}/${t}`).pipe(Object(c.a)(e=>this.errorSvc.handleError(e)))}issueSetCmd(e,t,i){return this.http.put(`${this.issueCmdByDeviceNameAndCmdNameUrl}${e}/${t}`,JSON.stringify(i),this.httpPostOrPutJSONOptions).pipe(Object(c.a)(e=>this.errorSvc.handleError(e)))}}return e.\u0275fac=function(t){return new(t||e)(d.Pb(n.a),d.Pb(o.a))},e.\u0275prov=d.Db({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},HpGU:function(e,t,i){"use strict";i.d(t,"a",function(){return f});var n=i("fXoL"),c=i("3Pt+"),d=i("ofXK"),o=i("7PPe");function r(e,t){if(1&e){const e=n.Lb();n.Kb(0,"tr"),n.Kb(1,"td"),n.Kb(2,"div",24),n.Kb(3,"input",25),n.Sb("click",function(i){n.fc(e);const c=t.$implicit;return n.Ub().selectOne(i,c)}),n.Jb(),n.Jb(),n.Jb(),n.Kb(4,"td",26),n.lc(5),n.Jb(),n.Kb(6,"td",26),n.lc(7),n.Jb(),n.Kb(8,"td"),n.Kb(9,"span",27),n.Sb("click",function(){n.fc(e);const i=t.$implicit;return n.Ub().checkOne(i)}),n.lc(10,"coreCommands"),n.Jb(),n.Jb(),n.Jb()}if(2&e){const e=t.$implicit,i=n.Ub();n.zb("table-active",i.isChecked(e)),n.wb(3),n.Xb("checked",i.isChecked(e)),n.wb(2),n.mc(e.deviceName),n.wb(2),n.mc(e.profileName)}}let a=(()=>{class e{constructor(e){this.cmdSvc=e,this.deviceCoreCmdList=[],this.deviceCoreCmdSelectedEvent=new n.n,this.delegationEvent=new n.n,this.pagination=1,this.pageLimit=5,this.pageOffset=(this.pagination-1)*this.pageLimit}ngOnInit(){this.findAllDeviceCoreCmdsPagination()}findAllDeviceCoreCmdsPagination(){this.cmdSvc.allDeviceCoreCommandsPagination(this.pageOffset,this.pageLimit).subscribe(e=>{this.deviceCoreCmdList=e.deviceCoreCommands})}delegation(){this.delegationEvent.emit(!0)}isChecked(e){var t;return(null===(t=this.deviceCoreCmdSelected)||void 0===t?void 0:t.deviceName)===e.deviceName}selectOne(e,t){this.deviceCoreCmdSelected=e.target.checked?t:void 0,this.delegation(),this.deviceCoreCmdSelectedEvent.emit(this.deviceCoreCmdSelected)}checkOne(e){this.deviceCoreCmdSelected=e,this.deviceCoreCmdSelectedEvent.emit(this.deviceCoreCmdSelected)}onPageSelected(){this.delegation(),this.resetPagination(),this.setPagination(),this.findAllDeviceCoreCmdsPagination()}prePage(){this.delegation(),this.setPagination(-1),this.findAllDeviceCoreCmdsPagination()}nextPage(){this.delegation(),this.setPagination(1),this.findAllDeviceCoreCmdsPagination()}setPagination(e){1===e?this.pagination+=1:-1===e&&(this.pagination-=1),this.pageOffset=(this.pagination-1)*this.pageLimit}resetPagination(){this.pagination=1}}return e.\u0275fac=function(t){return new(t||e)(n.Hb(o.a))},e.\u0275cmp=n.Bb({type:e,selectors:[["app-device-core-command-list"]],inputs:{deviceCoreCmdSelected:"deviceCoreCmdSelected"},outputs:{deviceCoreCmdSelectedEvent:"deviceCoreCmdSelectedEvent",delegationEvent:"delegationEvent"},decls:41,vars:4,consts:[[1,"card"],[1,"card-header"],[1,"fa","fa-list","text-danger"],[1,"card-body","p-0"],[1,"table-responsive"],[1,"table","table-hover","text-truncate"],[1,"thead-light"],["scope","col"],[3,"table-active",4,"ngFor","ngForOf"],[1,"card-footer","text-muted","p-1"],["aria-label","navigation"],[1,"pagination","justify-content-end","m-0"],[1,"page-item","mr-2","mt-1"],[1,"align-middle"],[1,"page-item","mr-2"],["name","pageLimit","id","pageLimit",1,"form-control",3,"ngModel","ngModelChange","mousedown"],["value","5"],["value","10"],["value","20"],[1,"page-item","mr-1"],[1,"page-link","btn",3,"disabled","click"],[1,"fa","fa-angle-double-left"],[1,"page-item"],[1,"fa","fa-angle-double-right"],[1,"form-group","form-check"],["type","checkbox","role","button",1,"form-check-input",3,"checked","click"],[1,"user-select-all"],["role","button",1,"badge","badge-primary",3,"click"]],template:function(e,t){1&e&&(n.Kb(0,"div",0),n.Kb(1,"div",1),n.Ib(2,"i",2),n.lc(3," Device Core Command List "),n.Jb(),n.Kb(4,"div",3),n.Kb(5,"div",4),n.Kb(6,"table",5),n.Kb(7,"thead",6),n.Kb(8,"tr"),n.Kb(9,"th",7),n.lc(10,"#"),n.Jb(),n.Kb(11,"th",7),n.lc(12,"Device"),n.Jb(),n.Kb(13,"th",7),n.lc(14,"DeviceProfile"),n.Jb(),n.Kb(15,"th",7),n.lc(16,"AssociatedCommands"),n.Jb(),n.Jb(),n.Jb(),n.Kb(17,"tbody"),n.jc(18,r,11,5,"tr",8),n.Jb(),n.Jb(),n.Jb(),n.Jb(),n.Kb(19,"div",9),n.Kb(20,"nav",10),n.Kb(21,"ul",11),n.Kb(22,"li",12),n.Kb(23,"span",13),n.lc(24,"items per page"),n.Jb(),n.Jb(),n.Kb(25,"li",14),n.Kb(26,"select",15),n.Sb("ngModelChange",function(e){return t.pageLimit=e})("mousedown",function(){return t.delegation()})("ngModelChange",function(){return t.onPageSelected()}),n.Kb(27,"option",16),n.lc(28,"5"),n.Jb(),n.Kb(29,"option",17),n.lc(30,"10"),n.Jb(),n.Kb(31,"option",18),n.lc(32,"20"),n.Jb(),n.Jb(),n.Jb(),n.Kb(33,"li",19),n.Kb(34,"button",20),n.Sb("click",function(){return t.prePage()}),n.Ib(35,"i",21),n.lc(36," Previous"),n.Jb(),n.Jb(),n.Kb(37,"li",22),n.Kb(38,"button",20),n.Sb("click",function(){return t.nextPage()}),n.lc(39,"Next "),n.Ib(40,"i",23),n.Jb(),n.Jb(),n.Jb(),n.Jb(),n.Jb(),n.Jb()),2&e&&(n.wb(18),n.Xb("ngForOf",t.deviceCoreCmdList),n.wb(8),n.Xb("ngModel",t.pageLimit),n.wb(8),n.Xb("disabled",1===t.pagination),n.wb(4),n.Xb("disabled",t.pageLimit>t.deviceCoreCmdList.length))},directives:[d.j,c.l,c.d,c.g,c.h,c.m],styles:[".btn[disabled][_ngcontent-%COMP%]:hover{cursor:not-allowed}"]}),e})();function s(e,t){if(1&e){const e=n.Lb();n.Kb(0,"input",17),n.Sb("ngModelChange",function(t){return n.fc(e),n.Ub(3).httpMethod=t})("click",function(t){return n.fc(e),n.Ub(3).methodChecked(t,"GET")}),n.Jb()}if(2&e){const e=n.Ub(2),t=e.$implicit,i=e.index,c=n.Ub();n.ac("id","get-",t,"-",i,""),n.Xb("ngModel",c.httpMethod)}}function b(e,t){if(1&e&&(n.Kb(0,"div",13),n.Kb(1,"span",14),n.jc(2,s,1,3,"input",15),n.Kb(3,"label",16),n.lc(4,"get"),n.Jb(),n.Jb(),n.Jb()),2&e){const e=n.Ub(),t=e.$implicit,i=e.index,c=n.Ub();n.wb(2),n.Xb("ngIf",c.isChecked(t.name)),n.wb(1),n.ac("for","get-",t,"-",i,"")}}function l(e,t){if(1&e){const e=n.Lb();n.Kb(0,"input",19),n.Sb("ngModelChange",function(t){return n.fc(e),n.Ub(3).httpMethod=t})("click",function(t){return n.fc(e),n.Ub(3).methodChecked(t,"PUT")}),n.Jb()}if(2&e){const e=n.Ub(2),t=e.$implicit,i=e.index,c=n.Ub();n.ac("id","set-",t,"-",i,""),n.Xb("ngModel",c.httpMethod)}}function m(e,t){if(1&e&&(n.Kb(0,"div",13),n.Kb(1,"span",14),n.jc(2,l,1,3,"input",18),n.Kb(3,"label",16),n.lc(4,"set"),n.Jb(),n.Jb(),n.Jb()),2&e){const e=n.Ub(),t=e.$implicit,i=e.index,c=n.Ub();n.wb(2),n.Xb("ngIf",c.isChecked(t.name)),n.wb(1),n.ac("for","set-",t,"-",i,"")}}function h(e,t){if(1&e){const e=n.Lb();n.Kb(0,"tr"),n.Kb(1,"td"),n.Kb(2,"input",10),n.Sb("click",function(i){n.fc(e);const c=t.$implicit;return n.Ub().selectOne(i,c)}),n.Jb(),n.Jb(),n.Kb(3,"td",11),n.lc(4),n.Jb(),n.Kb(5,"td"),n.Kb(6,"div"),n.jc(7,b,5,3,"div",12),n.jc(8,m,5,3,"div",12),n.Jb(),n.Jb(),n.Kb(9,"td"),n.lc(10),n.Jb(),n.Kb(11,"td"),n.lc(12),n.Jb(),n.Jb()}if(2&e){const e=t.$implicit,i=n.Ub();n.zb("table-active",i.isChecked(e.name)),n.wb(2),n.Xb("checked",i.isChecked(e.name)),n.wb(2),n.mc(e.name),n.wb(3),n.Xb("ngIf",e.get),n.wb(1),n.Xb("ngIf",e.set),n.wb(2),n.mc(e.url),n.wb(2),n.mc(e.path)}}let v=(()=>{class e{constructor(e){this.cmdSvc=e,this.singleCoreCmdSelectedEvent=new n.n,this.deviceAssociatedCoreCommandsList=[],this.coreCmdMethodEvent=new n.n,this.delegationEvent=new n.n}ngOnInit(){this.cmdSvc.findDeviceAssociatedCommnadsByDeviceName(this.deviceName).subscribe(e=>{this.deviceAssociatedCoreCommandsList=e.deviceCoreCommand.coreCommands})}methodChecked(e,t){this.httpMethod=e.target.checked?t:"",this.coreCmdMethodEvent.emit(this.httpMethod),this.delegationEvent.emit(!0)}isChecked(e){var t;return(null===(t=this.coreCmdSelected)||void 0===t?void 0:t.name)===e}radioUnchecked(e){return e||!1}selectOne(e,t){this.coreCmdSelected=e.target.checked?t:{},this.delegationEvent.emit(!0),this.singleCoreCmdSelectedEvent.emit(this.coreCmdSelected),this.coreCmdMethodEvent.emit(void 0)}}return e.\u0275fac=function(t){return new(t||e)(n.Hb(o.a))},e.\u0275cmp=n.Bb({type:e,selectors:[["app-device-associated-core-command-list"]],inputs:{deviceName:"deviceName",coreCmdSelected:"coreCmdSelected",httpMethod:"httpMethod"},outputs:{singleCoreCmdSelectedEvent:"singleCoreCmdSelectedEvent",coreCmdMethodEvent:"coreCmdMethodEvent",delegationEvent:"delegationEvent"},decls:24,vars:2,consts:[[1,"card","border-0"],[1,"card-header"],[1,"fa","fa-list","text-danger","mr-2"],[1,"text-info"],[1,"card-body","p-0"],[1,"table-responsive"],[1,"table","table-hover","text-truncate"],[1,"thead-light"],["scope","col"],[3,"table-active",4,"ngFor","ngForOf"],["type","checkbox","role","button",3,"checked","click"],[1,"user-select-all"],["class","form-check form-check-inline",4,"ngIf"],[1,"form-check","form-check-inline"],[1,"badge"],["class","form-check-input align-middle","type","radio","name","cmdMethod","value","GET",3,"id","ngModel","ngModelChange","click",4,"ngIf"],[1,"form-check-label","align-middle",3,"for"],["type","radio","name","cmdMethod","value","GET",1,"form-check-input","align-middle",3,"id","ngModel","ngModelChange","click"],["class","form-check-input align-middle","type","radio","name","cmdMethod","value","PUT",3,"id","ngModel","ngModelChange","click",4,"ngIf"],["type","radio","name","cmdMethod","value","PUT",1,"form-check-input","align-middle",3,"id","ngModel","ngModelChange","click"]],template:function(e,t){1&e&&(n.Kb(0,"div",0),n.Kb(1,"div",1),n.Ib(2,"i",2),n.Kb(3,"span"),n.Kb(4,"span",3),n.lc(5),n.Jb(),n.lc(6," Associated Commands List"),n.Jb(),n.Jb(),n.Kb(7,"div",4),n.Kb(8,"div",5),n.Kb(9,"table",6),n.Kb(10,"thead",7),n.Kb(11,"tr"),n.Kb(12,"th",8),n.lc(13,"#"),n.Jb(),n.Kb(14,"th",8),n.lc(15,"Name"),n.Jb(),n.Kb(16,"th",8),n.lc(17,"Method"),n.Jb(),n.Kb(18,"th",8),n.lc(19,"URL"),n.Jb(),n.Kb(20,"th",8),n.lc(21,"Path"),n.Jb(),n.Jb(),n.Jb(),n.Kb(22,"tbody"),n.jc(23,h,13,8,"tr",9),n.Jb(),n.Jb(),n.Jb(),n.Jb(),n.Jb()),2&e&&(n.wb(5),n.mc(t.deviceName),n.wb(18),n.Xb("ngForOf",t.deviceAssociatedCoreCommandsList))},directives:[d.j,d.k,c.j,c.a,c.d,c.g],styles:[""]}),e})();function u(e,t){if(1&e){const e=n.Lb();n.Kb(0,"div",13),n.Kb(1,"nav",14),n.Kb(2,"ol",15),n.Kb(3,"li",16),n.Kb(4,"a",17),n.Sb("click",function(){return n.fc(e),n.Ub(2).backtoDeviceCoreCommandList()}),n.lc(5,"DeviceCoreCommandList"),n.Jb(),n.Jb(),n.Kb(6,"li",18),n.lc(7),n.Jb(),n.Jb(),n.Jb(),n.Jb()}if(2&e){const e=n.Ub(2);n.wb(7),n.mc(e.deviceName)}}function p(e,t){if(1&e){const e=n.Lb();n.Kb(0,"div"),n.Kb(1,"app-device-core-command-list",19),n.Sb("delegationEvent",function(t){return n.fc(e),n.Ub(2).ondelegation(t)})("deviceCoreCmdSelectedEvent",function(t){return n.fc(e),n.Ub(2).onDeviceCoreCmdSelected(t)}),n.Jb(),n.Jb()}if(2&e){const e=n.Ub(2);n.wb(1),n.Xb("deviceCoreCmdSelected",e.deviceCoreCmdSelected)}}function g(e,t){if(1&e){const e=n.Lb();n.Kb(0,"div"),n.Kb(1,"app-device-associated-core-command-list",20),n.Sb("coreCmdMethodEvent",function(t){return n.fc(e),n.Ub(2).onCmdMethodSelected(t)})("delegationEvent",function(t){return n.fc(e),n.Ub(2).ondelegation(t)})("singleCoreCmdSelectedEvent",function(t){return n.fc(e),n.Ub(2).onCoreCmdSelected(t)}),n.Jb(),n.Jb()}if(2&e){const e=n.Ub(2);n.wb(1),n.Xb("coreCmdSelected",e.coreCmdSelected)("deviceName",e.deviceName)("httpMethod",e.httpMethod)}}function C(e,t){if(1&e&&(n.Kb(0,"div",8),n.Kb(1,"div",9),n.jc(2,u,8,1,"div",10),n.Kb(3,"div",11),n.jc(4,p,2,1,"div",12),n.jc(5,g,2,3,"div",12),n.Jb(),n.Jb(),n.Jb()),2&e){const e=n.Ub();n.wb(2),n.Xb("ngIf",!e.deviceCoreCmdListVisible),n.wb(2),n.Xb("ngIf",e.deviceCoreCmdListVisible),n.wb(1),n.Xb("ngIf",!e.deviceCoreCmdListVisible)}}let f=(()=>{class e{constructor(){this.visible=!1,this.validate=!1,this.deviceName="",this.commandSelectedEvent=new n.n,this.cmdMethodEvent=new n.n,this.deviceCoreCmdListVisible=!0,this.delegation=!1,this.coreCmdSelected={}}ngOnInit(){}ondelegation(e){document.getElementById("cmd-combo").focus(),this.delegation=e}onDeviceCoreCmdSelected(e){e?(this.deviceCoreCmdSelected=e,this.deviceName=this.deviceCoreCmdSelected.deviceName,this.deviceCoreCmdListVisible=!1):this.deviceCoreCmdSelected=e}onCmdMethodSelected(e){this.httpMethod=e,this.cmdMethodEvent.emit(this.httpMethod)}onCoreCmdSelected(e){this.coreCmdSelected=e,this.commandSelectedEvent.emit(this.coreCmdSelected)}backtoDeviceCoreCommandList(){this.deviceCoreCmdListVisible=!0}toggle(e){e.stopImmediatePropagation(),this.visible=!this.visible}close(e){setTimeout(()=>{this.delegation?this.delegation=!1:this.visible=!1},130)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Bb({type:e,selectors:[["app-device-core-command-combo-list"]],inputs:{validate:"validate",deviceName:"deviceName",coreCmdSelected:"coreCmdSelected"},outputs:{commandSelectedEvent:"commandSelectedEvent",cmdMethodEvent:"cmdMethodEvent"},decls:10,vars:6,consts:[["tabindex","-1","id","cmd-combo",1,"cmd-combo",3,"blur"],[1,"input-group","has-validation",3,"mousedown"],["type","text","name","coreCmdSelected","disabled","","maxlength","0","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-group-append"],["role","button",1,"input-group-text"],[1,"fa","fa-chevron-down"],["id","validationCoreCmdPathFeedback",1,"invalid-feedback"],["class","cmd-combo-body shadow rounded",4,"ngIf"],[1,"cmd-combo-body","shadow","rounded"],[1,"card"],["class","card-header",4,"ngIf"],[1,"card-body","p-0"],[4,"ngIf"],[1,"card-header"],["aria-label","breadcrumb",1,"m-0","p-0"],[1,"breadcrumb","p-0","m-0","bg-light"],[1,"breadcrumb-item","text-primary"],["role","button",3,"click"],["aria-current","page",1,"breadcrumb-item","active"],[3,"deviceCoreCmdSelected","delegationEvent","deviceCoreCmdSelectedEvent"],[3,"coreCmdSelected","deviceName","httpMethod","coreCmdMethodEvent","delegationEvent","singleCoreCmdSelectedEvent"]],template:function(e,t){1&e&&(n.Kb(0,"div",0),n.Sb("blur",function(e){return t.close(e)}),n.Kb(1,"div",1),n.Sb("mousedown",function(e){return t.toggle(e)}),n.Kb(2,"input",2),n.Sb("ngModelChange",function(e){return t.coreCmdSelected.path=e}),n.Jb(),n.Kb(3,"div",3),n.Kb(4,"span",4),n.Ib(5,"i",5),n.Jb(),n.Jb(),n.Kb(6,"div",6),n.Kb(7,"small"),n.lc(8,"the command name and method can't be empty!"),n.Jb(),n.Jb(),n.Jb(),n.jc(9,C,6,3,"div",7),n.Jb()),2&e&&(n.wb(2),n.zb("is-invalid",(!t.coreCmdSelected.path||!t.httpMethod)&&t.validate)("is-valid",t.coreCmdSelected.path&&t.httpMethod&&t.validate),n.Xb("ngModel",t.coreCmdSelected.path),n.wb(7),n.Xb("ngIf",t.visible))},directives:[c.a,c.c,c.k,c.d,c.g,d.k,a,v],styles:[".cmd-combo[_ngcontent-%COMP%]{position:relative;right:auto}.cmd-combo-shielder[_ngcontent-%COMP%]{position:fixed;top:0;bottom:0;right:0;left:0;z-index:101}.cmd-combo-body[_ngcontent-%COMP%]{position:absolute;top:33px;bottom:auto;left:0;right:0;z-index:105;visibility:visible;display:inline-block}"]}),e})()},ixIh:function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i("ofXK"),c=i("3Pt+"),d=i("tyNb"),o=i("fXoL");const r=[];let a=(()=>{class e{}return e.\u0275mod=o.Fb({type:e}),e.\u0275inj=o.Eb({factory:function(t){return new(t||e)},imports:[[d.i.forChild(r)],d.i]}),e})(),s=(()=>{class e{}return e.\u0275mod=o.Fb({type:e}),e.\u0275inj=o.Eb({factory:function(t){return new(t||e)},imports:[[n.b,c.b,a]]}),e})()}}]);