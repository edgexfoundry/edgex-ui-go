"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[568],{2568:(C,h,v)=>{v.r(h),v.d(h,{SchedulerModule:()=>z});var u=v(8583),r=v(3092),c=v(9502),e=v(476);let T=(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-scheduler"]],decls:11,vars:0,consts:[[1,"card"],[1,"card-header"],[1,"nav","nav-tabs","card-header-tabs","font-weight-bold"],[1,"nav-item"],["routerLink","./interval-center","routerLinkActive","active",1,"nav-link"],["routerLink","./interval-action-center","routerLinkActive","active",1,"nav-link"],[1,"card-body"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"ul",2),e.TgZ(3,"li",3),e.TgZ(4,"a",4),e._uU(5,"Interval"),e.qZA(),e.qZA(),e.TgZ(6,"li",3),e.TgZ(7,"a",5),e._uU(8,"IntervalAction"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(9,"div",6),e._UZ(10,"router-outlet"),e.qZA(),e.qZA())},directives:[c.yS,c.Od,c.lC],styles:[""]}),o})(),m=(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-interval-center"]],decls:1,vars:0,template:function(t,n){1&t&&e._UZ(0,"router-outlet")},directives:[c.lC],styles:[""]}),o})();var Z=v(8391),d=v(7822),s=v(1177);function g(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"div",36),e.TgZ(1,"div",37),e.TgZ(2,"button",38),e.NdJ("click",function(){return e.CHM(t),e.oxw().refresh()}),e.TgZ(3,"span"),e._UZ(4,"i",39),e._uU(5,"Refresh"),e.qZA(),e.qZA(),e.TgZ(6,"button",40),e.TgZ(7,"span"),e._UZ(8,"i",41),e._uU(9,"Add"),e.qZA(),e.qZA(),e.TgZ(10,"button",42),e.NdJ("click",function(){return e.CHM(t),e.oxw().edit()}),e.TgZ(11,"span"),e._UZ(12,"i",43),e._uU(13,"Edit"),e.qZA(),e.qZA(),e.TgZ(14,"button",44),e.NdJ("click",function(){return e.CHM(t),e.oxw().deleteConfirm()}),e.TgZ(15,"span"),e._UZ(16,"i",45),e._uU(17,"Delete"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=e.oxw();e.xp6(10),e.Q6J("disabled",1!==t.intervalSelected.length),e.xp6(4),e.Q6J("disabled",0===t.intervalSelected.length)}}function _(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"input",46),e.NdJ("click",function(i){return e.CHM(t),e.oxw().selectAll(i)}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("checked",t.isCheckedAll())}}function M(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e.TgZ(2,"input",46),e.NdJ("click",function(i){const p=e.CHM(t).$implicit;return e.oxw().selectOne(i,p)}),e.qZA(),e.qZA(),e.TgZ(3,"td",47),e._uU(4),e.qZA(),e.TgZ(5,"td",47),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.qZA()}if(2&o){const t=l.$implicit,n=e.oxw();e.ekj("table-active",n.isChecked(t.name)),e.xp6(2),e.Q6J("checked",n.isChecked(t.name)),e.xp6(2),e.Oqu(t.id),e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.start),e.xp6(2),e.Oqu(t.end),e.xp6(2),e.Oqu(t.interval),e.xp6(2),e.Oqu(!!t.runOnce)}}let f=(()=>{class o{constructor(t,n,i,a,p){this.schedulerSvc=t,this.msgSvc=n,this.route=i,this.router=a,this.errSvc=p,this.enableSelectAll=!0,this.singleIntervalSelectedEvent=new e.vpe,this.toolbars=!0,this.intervalList=[],this.intervalSelected=[],this.pagination=1,this.pageLimit=5,this.pageOffset=(this.pagination-1)*this.pageLimit}ngOnInit(){this.route.queryParams.subscribe(t=>{t.intervalName?this.schedulerSvc.findIntervalByName(t.intervalName).subscribe(n=>{this.intervalList=[],this.intervalList.push(n.interval)}):this.findIntervalsPagination()})}refresh(){this.schedulerSvc.findAllIntervalsPagination(0,this.pageLimit).subscribe(t=>{this.errSvc.handleErrorForV2API(t)||(this.intervalList=t.intervals,this.msgSvc.success("refresh"),this.resetPagination())})}findIntervalsPagination(){this.schedulerSvc.findAllIntervalsPagination(this.pageOffset,this.pageLimit).subscribe(t=>{this.errSvc.handleErrorForV2API(t)||(this.intervalList=t.intervals)})}onSingleIntervalSelectedEmitter(){this.singleIntervalSelectedEvent.emit(this.singleIntervalSelected)}isSingleChecked(t){var n;return(null===(n=this.singleIntervalSelected)||void 0===n?void 0:n.name)===t}selectSingleInterval(t,n){t.target.checked?this.intervalList.forEach(a=>{a.name===n&&(this.singleIntervalSelected=a)}):this.singleIntervalSelected={},this.onSingleIntervalSelectedEmitter()}isCheckedAll(){let t=!0;return this.intervalList&&0===this.intervalList.length&&(t=!1),this.intervalList.forEach(n=>{-1===this.intervalSelected.findIndex(i=>i.name===n.name)&&(t=!1)}),t}selectAll(t){this.intervalList.forEach(t.target.checked?i=>{-1===this.intervalSelected.findIndex(a=>a.name===i.name)&&this.intervalSelected.push(i)}:i=>{let a=this.intervalSelected.findIndex(p=>p.name===i.name);-1!==a&&this.intervalSelected.splice(a,1)})}isChecked(t){return this.enableSelectAll?this.intervalSelected.findIndex(n=>n.name===t)>=0:this.isSingleChecked(t)}selectOne(t,n){if(!this.enableSelectAll)return void this.selectSingleInterval(t,n.name);if(t.target.checked)return void this.intervalSelected.push(n);let a=this.intervalSelected.findIndex(p=>p.name===n.name);-1!==a&&this.intervalSelected.splice(a,1)}edit(){this.router.navigate(["../edit-interval"],{relativeTo:this.route,queryParams:{intervalName:this.intervalSelected[0].name}})}deleteConfirm(){$("#deleteConfirmDialog").modal("show")}deleteIntervals(){this.intervalSelected.forEach((t,n)=>{this.schedulerSvc.deleteIntervalByName(t.name).subscribe(i=>{this.errSvc.handleErrorForV2API(i)||(this.intervalSelected.splice(n,1),this.intervalList.forEach((a,p)=>{a.name!==t.name||this.intervalList.splice(p,1)}),this.msgSvc.success("delete",`name: ${t.name}`),this.resetPagination(),this.findIntervalsPagination())})}),$("#deleteConfirmDialog").modal("hide")}onPageSelected(){this.resetPagination(),this.setPagination(),this.findIntervalsPagination()}prePage(){this.setPagination(-1),this.findIntervalsPagination()}nextPage(){this.setPagination(1),this.findIntervalsPagination()}setPagination(t){1===t?this.pagination+=1:-1===t&&(this.pagination-=1),this.pageOffset=(this.pagination-1)*this.pageLimit}resetPagination(){this.pagination=1}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(Z.G),e.Y36(d.e),e.Y36(c.gz),e.Y36(c.F0),e.Y36(s.T))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-interval-list"]],inputs:{enableSelectAll:"enableSelectAll",toolbars:"toolbars",singleIntervalSelected:"singleIntervalSelected"},outputs:{singleIntervalSelectedEvent:"singleIntervalSelectedEvent"},decls:62,vars:6,consts:[[1,"card"],[1,"card-header"],[1,"fa","fa-list","text-danger"],[1,"card-body","p-0","position-relative"],["class","bg-light px-2 py-2",4,"ngIf"],[1,"table-responsive"],[1,"table","table-hover","text-truncate"],[1,"thead-light"],["scope","col"],["type","checkbox","role","button",3,"checked","click",4,"ngIf"],[3,"table-active",4,"ngFor","ngForOf"],[1,"card-footer","text-muted","p-1"],["aria-label","navigation"],[1,"pagination","justify-content-end","m-0"],[1,"page-item","mr-2","mt-1"],[1,"align-middle"],[1,"page-item","mr-2"],["name","pageLimit","id","pageLimit",1,"custom-select",3,"ngModel","ngModelChange"],["value","5"],["value","10"],["value","20"],[1,"page-item","mr-1"],[1,"page-link","btn",3,"disabled","click"],[1,"fa","fa-angle-double-left"],[1,"page-item"],[1,"fa","fa-angle-double-right"],["id","deleteConfirmDialog","data-backdrop","static","data-keyboard","false","tabindex","-1","aria-labelledby","deleteConfirmDialogLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","deleteConfirmDialogLabel",1,"modal-title","text-danger"],[1,"fa","fa-warning"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],["type","button",1,"btn","btn-danger",3,"click"],[1,"bg-light","px-2","py-2"],["role","group",1,"btn-group","btn-group-sm"],[1,"btn","btn-primary",3,"click"],[1,"fa","fa-refresh","mr-1"],["type","button","routerLink","../add-interval",1,"btn","btn-info"],[1,"fa","fa-plus","mr-1"],["type","button",1,"btn","btn-success",3,"disabled","click"],[1,"fa","fa-edit","mr-1"],["type","button",1,"btn","btn-danger",3,"disabled","click"],[1,"fa","fa-trash","mr-1"],["type","checkbox","role","button",3,"checked","click"],[1,"user-select-all"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e._UZ(2,"i",2),e._uU(3," Interval List "),e.qZA(),e.TgZ(4,"div",3),e.YNc(5,g,18,2,"div",4),e.TgZ(6,"div",5),e.TgZ(7,"table",6),e.TgZ(8,"thead",7),e.TgZ(9,"tr"),e.TgZ(10,"th",8),e.YNc(11,_,1,1,"input",9),e.qZA(),e.TgZ(12,"th",8),e._uU(13,"ID"),e.qZA(),e.TgZ(14,"th",8),e._uU(15,"Name"),e.qZA(),e.TgZ(16,"th",8),e._uU(17,"Start"),e.qZA(),e.TgZ(18,"th",8),e._uU(19,"End"),e.qZA(),e.TgZ(20,"th",8),e._uU(21,"Interval"),e.qZA(),e.TgZ(22,"th",8),e._uU(23,"RunOnce"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(24,"tbody"),e.YNc(25,M,15,9,"tr",10),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(26,"div",11),e.TgZ(27,"nav",12),e.TgZ(28,"ul",13),e.TgZ(29,"li",14),e.TgZ(30,"span",15),e._uU(31,"items per page"),e.qZA(),e.qZA(),e.TgZ(32,"li",16),e.TgZ(33,"select",17),e.NdJ("ngModelChange",function(a){return n.pageLimit=a})("ngModelChange",function(){return n.onPageSelected()}),e.TgZ(34,"option",18),e._uU(35,"5"),e.qZA(),e.TgZ(36,"option",19),e._uU(37,"10"),e.qZA(),e.TgZ(38,"option",20),e._uU(39,"20"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(40,"li",21),e.TgZ(41,"button",22),e.NdJ("click",function(){return n.prePage()}),e._UZ(42,"i",23),e._uU(43," Previous"),e.qZA(),e.qZA(),e.TgZ(44,"li",24),e.TgZ(45,"button",22),e.NdJ("click",function(){return n.nextPage()}),e._uU(46,"Next "),e._UZ(47,"i",25),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(48,"div",26),e.TgZ(49,"div",27),e.TgZ(50,"div",28),e.TgZ(51,"div",29),e.TgZ(52,"h5",30),e._UZ(53,"i",31),e._uU(54," Warning "),e.qZA(),e.qZA(),e.TgZ(55,"div",32),e._uU(56," Associated actions will also be deleted and the data will be permanently erased!!! Are you sure to execute delete operation\uff1f "),e.qZA(),e.TgZ(57,"div",33),e.TgZ(58,"button",34),e._uU(59,"Cancel"),e.qZA(),e.TgZ(60,"button",35),e.NdJ("click",function(){return n.deleteIntervals()}),e._uU(61,"Confirm"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(5),e.Q6J("ngIf",n.toolbars),e.xp6(6),e.Q6J("ngIf",n.enableSelectAll),e.xp6(14),e.Q6J("ngForOf",n.intervalList),e.xp6(8),e.Q6J("ngModel",n.pageLimit),e.xp6(8),e.Q6J("disabled",1===n.pagination),e.xp6(4),e.Q6J("disabled",n.pageLimit>n.intervalList.length))},directives:[u.O5,u.sg,r.EJ,r.JJ,r.On,r.YN,r.Kr,c.rH],styles:[".btn[disabled][_ngcontent-%COMP%]:hover{cursor:not-allowed}"]}),o})();var A=v(9827);let I=(()=>{class o{constructor(t,n,i,a,p){this.schedulerSvc=t,this.msgSvc=n,this.route=i,this.router=a,this.errSvc=p,this.interval={}}ngOnInit(){$('[data-toggle="popover"]').popover({trigger:"hover"}),this.initDatePickr()}initDatePickr(){this.calendarStart=(0,A.Z)("input[name='intervalStart']",{dateFormat:"YmdTHiS",enableTime:!0,enableSeconds:!0,time_24hr:!0,allowInput:!1}),this.calendarEnd=(0,A.Z)("input[name='intervalEnd']",{dateFormat:"YmdTHiS",enableTime:!0,enableSeconds:!0,time_24hr:!0,allowInput:!1})}submit(){this.schedulerSvc.addInterval(this.interval).subscribe(t=>{this.errSvc.handleErrorForV2API(t)||(this.msgSvc.success("create new interval",`name: ${this.interval.name}`),this.router.navigate(["../interval-list"],{relativeTo:this.route}))})}ngOnDestroy(){$('[data-toggle="popover"]').popover("dispose")}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(Z.G),e.Y36(d.e),e.Y36(c.gz),e.Y36(c.F0),e.Y36(s.T))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-add-interval"]],decls:53,vars:16,consts:[[1,"card"],[1,"card-header"],[1,"fa","fa-plus","text-danger"],[1,"btn","btn-sm","btn-success","float-right",3,"disabled","click"],[1,"card-body"],[1,"form-group","row","has-validation"],["for","intervalName","required","",1,"col-md-2","col-form-label"],[1,"col-md-10"],["type","text","id","validationIntervalName","name","intervalName","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","validationIntervalNameFeedback",1,"invalid-feedback"],[1,"form-group","row"],["for","intervalStart",1,"col-md-2","col-form-label"],[1,"input-group","mb-3"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"fa","fa-calendar"],["type","text","name","intervalStart",1,"form-control",3,"ngModel","ngModelChange"],["for","intervalEnd",1,"col-md-2","col-form-label"],["type","text","name","intervalEnd",1,"form-control",3,"ngModel","ngModelChange"],["for","intervalInterval",1,"col-md-2","col-form-label"],[1,"mr-2"],["role","button","data-html","true","data-animation","true","data-trigger","focus","data-toggle","popover","title","format tips","data-content",'Interval indicates how often the specific resource needs to be polled. It represents as a duration string. The format of this field is to be an unsigned integer followed by a unit which may be "ns", "us" (or "\xb5s"), "ms", "s", "m", "h" representing nanoseconds, microseconds, milliseconds, seconds, minutes or hours. Eg, "100ms", "24h"',1,"fa","fa-question-circle-o","fa-lg"],["type","text","name","intervalInterval","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","validationIntervalIntervalFeedback",1,"invalid-feedback"],["for","intervalRunOnce",1,"col-md-2","col-form-label"],["name","intervalRunOnce",1,"custom-select",3,"ngModel","ngModelChange"],[3,"ngValue"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e._UZ(2,"i",2),e._uU(3," Add Interval "),e.TgZ(4,"button",3),e.NdJ("click",function(){return n.submit()}),e._uU(5,"Submit"),e.qZA(),e.qZA(),e.TgZ(6,"div",4),e.TgZ(7,"form"),e.TgZ(8,"div",5),e.TgZ(9,"label",6),e._uU(10,"Name"),e.qZA(),e.TgZ(11,"div",7),e.TgZ(12,"input",8),e.NdJ("ngModelChange",function(a){return n.interval.name=a}),e.qZA(),e.TgZ(13,"div",9),e.TgZ(14,"small"),e._uU(15,"the interval name can't be empty!"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(16,"div",10),e.TgZ(17,"label",11),e._uU(18,"Start"),e.qZA(),e.TgZ(19,"div",7),e.TgZ(20,"div",12),e.TgZ(21,"div",13),e.TgZ(22,"span",14),e._UZ(23,"i",15),e.qZA(),e.qZA(),e.TgZ(24,"input",16),e.NdJ("ngModelChange",function(a){return n.interval.start=a}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(25,"div",10),e.TgZ(26,"label",17),e._uU(27,"End"),e.qZA(),e.TgZ(28,"div",7),e.TgZ(29,"div",12),e.TgZ(30,"div",13),e.TgZ(31,"span",14),e._UZ(32,"i",15),e.qZA(),e.qZA(),e.TgZ(33,"input",18),e.NdJ("ngModelChange",function(a){return n.interval.end=a}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(34,"div",10),e.TgZ(35,"label",19),e.TgZ(36,"span",20),e._uU(37,"Interval"),e.qZA(),e._UZ(38,"span",21),e.qZA(),e.TgZ(39,"div",7),e.TgZ(40,"input",22),e.NdJ("ngModelChange",function(a){return n.interval.interval=a}),e.qZA(),e.TgZ(41,"div",23),e.TgZ(42,"small"),e._uU(43,"the interval interval can't be empty!"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(44,"div",10),e.TgZ(45,"label",24),e._uU(46,"RunOnce"),e.qZA(),e.TgZ(47,"div",7),e.TgZ(48,"select",25),e.NdJ("ngModelChange",function(a){return n.interval.runOnce=a}),e.TgZ(49,"option",26),e._uU(50,"false"),e.qZA(),e.TgZ(51,"option",26),e._uU(52,"true"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(4),e.Q6J("disabled",!n.interval.name||!n.interval.interval),e.xp6(8),e.ekj("is-invalid",!n.interval.name)("is-valid",n.interval.name),e.Q6J("ngModel",n.interval.name),e.xp6(12),e.Q6J("ngModel",n.interval.start),e.xp6(9),e.Q6J("ngModel",n.interval.end),e.xp6(7),e.ekj("is-invalid",!n.interval.interval)("is-valid",n.interval.interval),e.Q6J("ngModel",n.interval.interval),e.xp6(8),e.Q6J("ngModel",n.interval.runOnce),e.xp6(1),e.Q6J("ngValue",!1),e.xp6(2),e.Q6J("ngValue",!0))},directives:[r._Y,r.JL,r.F,r.Fj,r.Q7,r.JJ,r.On,r.EJ,r.YN,r.Kr],styles:[".btn[disabled][_ngcontent-%COMP%]:hover{cursor:not-allowed}"]}),o})();function y(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"form"),e.TgZ(1,"div",6),e.TgZ(2,"label",7),e._uU(3,"Name"),e.qZA(),e.TgZ(4,"div",8),e.TgZ(5,"input",9),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().interval.name=i}),e.qZA(),e.TgZ(6,"div",10),e.TgZ(7,"small"),e._uU(8,"the interval name can't be empty!"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(9,"div",11),e.TgZ(10,"label",12),e._uU(11,"Start"),e.qZA(),e.TgZ(12,"div",8),e.TgZ(13,"div",13),e.TgZ(14,"div",14),e.TgZ(15,"span",15),e._UZ(16,"i",16),e.qZA(),e.qZA(),e.TgZ(17,"input",17),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().interval.start=i}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(18,"div",11),e.TgZ(19,"label",18),e._uU(20,"End"),e.qZA(),e.TgZ(21,"div",8),e.TgZ(22,"div",13),e.TgZ(23,"div",14),e.TgZ(24,"span",15),e._UZ(25,"i",16),e.qZA(),e.qZA(),e.TgZ(26,"input",19),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().interval.end=i}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(27,"div",11),e.TgZ(28,"label",20),e.TgZ(29,"span",21),e._uU(30,"Interval"),e.qZA(),e._UZ(31,"span",22),e.qZA(),e.TgZ(32,"div",8),e.TgZ(33,"input",23),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().interval.interval=i}),e.qZA(),e.TgZ(34,"div",24),e.TgZ(35,"small"),e._uU(36,"the interval interval can't be empty!"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(37,"div",11),e.TgZ(38,"label",25),e._uU(39,"RunOnce"),e.qZA(),e.TgZ(40,"div",8),e.TgZ(41,"select",26),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().interval.runOnce=i}),e.TgZ(42,"option",27),e._uU(43,"false"),e.qZA(),e.TgZ(44,"option",27),e._uU(45,"true"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=e.oxw();e.xp6(5),e.ekj("is-invalid",!t.interval.name)("is-valid",t.interval.name),e.Q6J("ngModel",t.interval.name),e.xp6(12),e.Q6J("ngModel",t.interval.start),e.xp6(9),e.Q6J("ngModel",t.interval.end),e.xp6(7),e.ekj("is-invalid",!t.interval.interval)("is-valid",t.interval.interval),e.Q6J("ngModel",t.interval.interval),e.xp6(8),e.Q6J("ngModel",t.interval.runOnce),e.xp6(1),e.Q6J("ngValue",!1),e.xp6(2),e.Q6J("ngValue",!0)}}let x=(()=>{class o{constructor(t,n,i,a,p){this.schedulerSvc=t,this.msgSvc=n,this.route=i,this.router=a,this.errSvc=p}ngOnInit(){this.route.queryParams.subscribe(t=>{t.intervalName&&this.schedulerSvc.findIntervalByName(t.intervalName).subscribe(n=>{this.errSvc.handleErrorForV2API(n)||(this.interval=n.interval,this.interval.runOnce=!!this.interval.runOnce,setTimeout(()=>{this.initDatePickr()},300))})})}initDatePickr(){$('[data-toggle="popover"]').popover({trigger:"hover"}),this.calendarStart=(0,A.Z)("input[name='intervalStart']",{dateFormat:"YmdTHiS",enableTime:!0,enableSeconds:!0,time_24hr:!0,allowInput:!1}),this.calendarEnd=(0,A.Z)("input[name='intervalEnd']",{dateFormat:"YmdTHiS",enableTime:!0,enableSeconds:!0,time_24hr:!0,allowInput:!1})}update(){this.schedulerSvc.updateInterval(this.interval).subscribe(t=>{var n;this.errSvc.handleErrorForV2API(t)||(this.msgSvc.success("update interval",`name: ${null===(n=this.interval)||void 0===n?void 0:n.name}`),this.router.navigate(["../interval-list"],{relativeTo:this.route}))})}ngOnDestroy(){$('[data-toggle="popover"]').popover("dispose")}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(Z.G),e.Y36(d.e),e.Y36(c.gz),e.Y36(c.F0),e.Y36(s.T))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-edit-interval"]],decls:8,vars:3,consts:[[1,"card"],[1,"card-header"],[1,"fa","fa-edit","text-danger"],[1,"btn","btn-sm","btn-success","float-right",3,"disabled","click"],[1,"card-body"],[4,"ngIf"],[1,"form-group","row","has-validation"],["for","intervalName","required","",1,"col-md-2","col-form-label"],[1,"col-md-10"],["type","text","name","intervalName",1,"form-control",3,"ngModel","ngModelChange"],["id","validationIntervalNameFeedback",1,"invalid-feedback"],[1,"form-group","row"],["for","intervalStart",1,"col-md-2","col-form-label"],[1,"input-group","mb-3"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"fa","fa-calendar"],["type","text","name","intervalStart",1,"form-control",3,"ngModel","ngModelChange"],["for","intervalEnd2",1,"col-md-2","col-form-label"],["type","text","name","intervalEnd",1,"form-control",3,"ngModel","ngModelChange"],["for","intervalInterval",1,"col-md-2","col-form-label"],[1,"mr-2"],["role","button","data-html","true","data-animation","true","data-trigger","focus","data-toggle","popover","title","ISO8601 duration format","data-content",'Interval indicates how often the specific resource needs to be polled. It represents as a duration string. The format of this field is to be an unsigned integer followed by a unit which may be "ns", "us" (or "\xb5s"), "ms", "s", "m", "h" representing nanoseconds, microseconds, milliseconds, seconds, minutes or hours. Eg, "100ms", "24h"',1,"fa","fa-question-circle-o","fa-lg"],["type","text","name","intervalInterval","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","validationIntervalIntervalFeedback",1,"invalid-feedback"],["for","intervalRunOnce",1,"col-md-2","col-form-label"],["name","intervalRunOnce",1,"custom-select",3,"ngModel","ngModelChange"],[3,"ngValue"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e._UZ(2,"i",2),e._uU(3),e.TgZ(4,"button",3),e.NdJ("click",function(){return n.update()}),e._uU(5,"Submit"),e.qZA(),e.qZA(),e.TgZ(6,"div",4),e.YNc(7,y,46,15,"form",5),e.qZA(),e.qZA()),2&t&&(e.xp6(3),e.hij(" Edit Interval ",null==n.interval?null:n.interval.name," "),e.xp6(1),e.Q6J("disabled",!(null!=n.interval&&n.interval.name)),e.xp6(3),e.Q6J("ngIf",n.interval))},directives:[u.O5,r._Y,r.JL,r.F,r.Fj,r.JJ,r.On,r.Q7,r.EJ,r.YN,r.Kr],styles:[".btn[disabled][_ngcontent-%COMP%]:hover{cursor:not-allowed}"]}),o})(),S=(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-interval-action-center"]],decls:1,vars:0,template:function(t,n){1&t&&e._UZ(0,"router-outlet")},directives:[c.lC],styles:[""]}),o})();const E=function(o){return{intervalName:o}};function U(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e.TgZ(2,"input",18),e.NdJ("click",function(i){const p=e.CHM(t).$implicit;return e.oxw().selectOne(i,p)}),e.qZA(),e.qZA(),e.TgZ(3,"td",45),e._uU(4),e.qZA(),e.TgZ(5,"td",45),e._uU(6),e.qZA(),e.TgZ(7,"td"),e.TgZ(8,"a",46),e._uU(9),e.qZA(),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.qZA(),e.qZA()}if(2&o){const t=l.$implicit,n=e.oxw();e.ekj("table-active",n.isChecked(t.name)),e.xp6(2),e.Q6J("checked",n.isChecked(t.name)),e.xp6(2),e.Oqu(t.id),e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Q6J("queryParams",e.VKq(8,E,t.intervalName)),e.xp6(1),e.Oqu(t.intervalName),e.xp6(2),e.Oqu(t.address.type)}}let J=(()=>{class o{constructor(t,n,i,a){this.schedulerSvc=t,this.msgSvc=n,this.route=i,this.router=a,this.intervalActionList=[],this.intervalActionSelected=[],this.pagination=1,this.pageLimit=5,this.pageOffset=(this.pagination-1)*this.pageLimit}ngOnInit(){this.route.queryParams.subscribe(t=>{t.intervalName||this.findIntervalActionsPagination()})}refresh(){this.schedulerSvc.findAllIntervalActionsPagination(0,this.pageLimit).subscribe(t=>{this.intervalActionList=t.actions,this.msgSvc.success("refresh"),this.resetPagination()})}findIntervalActionsPagination(){this.schedulerSvc.findAllIntervalActionsPagination(this.pageOffset,this.pageLimit).subscribe(t=>{this.intervalActionList=t.actions})}isCheckedAll(){let t=!0;return this.intervalActionList&&0===this.intervalActionList.length&&(t=!1),this.intervalActionList.forEach(n=>{-1===this.intervalActionSelected.findIndex(i=>i.name===n.name)&&(t=!1)}),t}selectAll(t){this.intervalActionList.forEach(t.target.checked?i=>{-1===this.intervalActionSelected.findIndex(a=>a.name===i.name)&&this.intervalActionSelected.push(i)}:i=>{let a=this.intervalActionSelected.findIndex(p=>p.name===i.name);-1!==a&&this.intervalActionSelected.splice(a,1)})}isChecked(t){return this.intervalActionSelected.findIndex(n=>n.name===t)>=0}selectOne(t,n){if(t.target.checked)return void this.intervalActionSelected.push(n);let a=this.intervalActionSelected.findIndex(p=>p.name===n.name);-1!==a&&this.intervalActionSelected.splice(a,1)}edit(){this.router.navigate(["../edit-interval-action"],{relativeTo:this.route,queryParams:{intervalActionName:this.intervalActionSelected[0].name}})}deleteConfirm(){$("#deleteConfirmDialog").modal("show")}deleteIntervalActions(){this.intervalActionSelected.forEach((t,n)=>{this.schedulerSvc.deleteIntervalActionByName(t.name).subscribe(()=>{this.intervalActionList.forEach((i,a)=>{i.name!==t.name||this.intervalActionList.splice(a,1)}),this.intervalActionSelected.splice(n,1),this.msgSvc.success("delete",`name: ${t.name}`),this.resetPagination(),this.findIntervalActionsPagination()})}),$("#deleteConfirmDialog").modal("hide")}onPageSelected(){this.resetPagination(),this.setPagination(),this.findIntervalActionsPagination()}prePage(){this.setPagination(-1),this.findIntervalActionsPagination()}nextPage(){this.setPagination(1),this.findIntervalActionsPagination()}setPagination(t){1===t?this.pagination+=1:-1===t&&(this.pagination-=1),this.pageOffset=(this.pagination-1)*this.pageLimit}resetPagination(){this.pagination=1}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(Z.G),e.Y36(d.e),e.Y36(c.gz),e.Y36(c.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-interval-action-list"]],decls:75,vars:7,consts:[[1,"card"],[1,"card-header"],[1,"fa","fa-list","text-danger"],[1,"card-body","p-0","position-relative"],[1,"bg-light","px-2","py-2"],["role","group",1,"btn-group","btn-group-sm"],[1,"btn","btn-primary",3,"click"],[1,"fa","fa-refresh","mr-1"],["type","button","routerLink","../add-interval-action",1,"btn","btn-info"],[1,"fa","fa-plus","mr-1"],["type","button",1,"btn","btn-success",3,"disabled","click"],[1,"fa","fa-edit","mr-1"],["type","button",1,"btn","btn-danger",3,"disabled","click"],[1,"fa","fa-trash","mr-1"],[1,"table-responsive"],[1,"table","table-hover","text-truncate"],[1,"thead-light"],["scope","col"],["type","checkbox","role","button",3,"checked","click"],[3,"table-active",4,"ngFor","ngForOf"],[1,"card-footer","text-muted","p-1"],["aria-label","navigation"],[1,"pagination","justify-content-end","m-0"],[1,"page-item","mr-2","mt-1"],[1,"align-middle"],[1,"page-item","mr-2"],["name","pageLimit","id","pageLimit",1,"custom-select",3,"ngModel","ngModelChange"],["value","5"],["value","10"],["value","20"],[1,"page-item","mr-1"],[1,"page-link","btn",3,"disabled","click"],[1,"fa","fa-angle-double-left"],[1,"page-item"],[1,"fa","fa-angle-double-right"],["id","deleteConfirmDialog","data-backdrop","static","data-keyboard","false","tabindex","-1","aria-labelledby","deleteConfirmDialogLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","deleteConfirmDialogLabel",1,"modal-title","text-danger"],[1,"fa","fa-warning"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],["type","button",1,"btn","btn-danger",3,"click"],[1,"user-select-all"],["routerLink","../../interval-center",3,"queryParams"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e._UZ(2,"i",2),e._uU(3," Interval Action List "),e.qZA(),e.TgZ(4,"div",3),e.TgZ(5,"div",4),e.TgZ(6,"div",5),e.TgZ(7,"button",6),e.NdJ("click",function(){return n.refresh()}),e.TgZ(8,"span"),e._UZ(9,"i",7),e._uU(10,"Refresh"),e.qZA(),e.qZA(),e.TgZ(11,"button",8),e.TgZ(12,"span"),e._UZ(13,"i",9),e._uU(14,"Add"),e.qZA(),e.qZA(),e.TgZ(15,"button",10),e.NdJ("click",function(){return n.edit()}),e.TgZ(16,"span"),e._UZ(17,"i",11),e._uU(18,"Edit"),e.qZA(),e.qZA(),e.TgZ(19,"button",12),e.NdJ("click",function(){return n.deleteConfirm()}),e.TgZ(20,"span"),e._UZ(21,"i",13),e._uU(22,"Delete"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(23,"div",14),e.TgZ(24,"table",15),e.TgZ(25,"thead",16),e.TgZ(26,"tr"),e.TgZ(27,"th",17),e.TgZ(28,"input",18),e.NdJ("click",function(a){return n.selectAll(a)}),e.qZA(),e.qZA(),e.TgZ(29,"th",17),e._uU(30,"ID"),e.qZA(),e.TgZ(31,"th",17),e._uU(32,"Name"),e.qZA(),e.TgZ(33,"th",17),e._uU(34,"AssociatedInterval"),e.qZA(),e.TgZ(35,"th",17),e._uU(36,"AddressType"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(37,"tbody"),e.YNc(38,U,12,10,"tr",19),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(39,"div",20),e.TgZ(40,"nav",21),e.TgZ(41,"ul",22),e.TgZ(42,"li",23),e.TgZ(43,"span",24),e._uU(44,"items per page"),e.qZA(),e.qZA(),e.TgZ(45,"li",25),e.TgZ(46,"select",26),e.NdJ("ngModelChange",function(a){return n.pageLimit=a})("ngModelChange",function(){return n.onPageSelected()}),e.TgZ(47,"option",27),e._uU(48,"5"),e.qZA(),e.TgZ(49,"option",28),e._uU(50,"10"),e.qZA(),e.TgZ(51,"option",29),e._uU(52,"20"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(53,"li",30),e.TgZ(54,"button",31),e.NdJ("click",function(){return n.prePage()}),e._UZ(55,"i",32),e._uU(56," Previous"),e.qZA(),e.qZA(),e.TgZ(57,"li",33),e.TgZ(58,"button",31),e.NdJ("click",function(){return n.nextPage()}),e._uU(59,"Next "),e._UZ(60,"i",34),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(61,"div",35),e.TgZ(62,"div",36),e.TgZ(63,"div",37),e.TgZ(64,"div",38),e.TgZ(65,"h5",39),e._UZ(66,"i",40),e._uU(67," Warning "),e.qZA(),e.qZA(),e.TgZ(68,"div",41),e._uU(69," The data will be permanently erased!!! Are you sure to execute delete operation\uff1f "),e.qZA(),e.TgZ(70,"div",42),e.TgZ(71,"button",43),e._uU(72,"Cancel"),e.qZA(),e.TgZ(73,"button",44),e.NdJ("click",function(){return n.deleteIntervalActions()}),e._uU(74,"Confirm"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(15),e.Q6J("disabled",1!==n.intervalActionSelected.length),e.xp6(4),e.Q6J("disabled",0===n.intervalActionSelected.length),e.xp6(9),e.Q6J("checked",n.isCheckedAll()),e.xp6(10),e.Q6J("ngForOf",n.intervalActionList),e.xp6(8),e.Q6J("ngModel",n.pageLimit),e.xp6(8),e.Q6J("disabled",1===n.pagination),e.xp6(4),e.Q6J("disabled",n.pageLimit>n.intervalActionList.length))},directives:[c.rH,u.sg,r.EJ,r.JJ,r.On,r.YN,r.Kr,c.yS],styles:[""]}),o})();function k(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"div",10),e.NdJ("click",function(i){return e.CHM(t),e.oxw().close(i)}),e.qZA()}}let q=(()=>{class o{constructor(){this.visible=!1,this.validate=!1,this.intervalSelectedEvent=new e.vpe,this.selectedInterval={}}ngOnInit(){}onSingleIntervalSelected(t){this.selectedInterval=t,this.intervalSelectedEvent.emit(t)}close(t){t.stopPropagation(),this.visible=!1}toggle(t){t.stopImmediatePropagation(),this.visible=!this.visible}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-interval-combo-list"]],inputs:{validate:"validate",selectedInterval:"selectedInterval"},outputs:{intervalSelectedEvent:"intervalSelectedEvent"},decls:12,vars:11,consts:[["class","combo-shielder",3,"click",4,"ngIf"],[1,"combo"],[1,"input-group","has-validation",3,"click"],["type","text","name","selectedInterval","readonly","readonly","maxlength","0","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-group-append"],["role","button",1,"input-group-text"],[1,"fa","fa-chevron-down"],["id","validationIntervalNameFeedback",1,"invalid-feedback"],[1,"combo-body","shadow","rounded"],[3,"singleIntervalSelected","enableSelectAll","toolbars","singleIntervalSelectedEvent"],[1,"combo-shielder",3,"click"]],template:function(t,n){1&t&&(e.YNc(0,k,1,0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.NdJ("click",function(a){return n.toggle(a)}),e.TgZ(3,"input",3),e.NdJ("ngModelChange",function(a){return n.selectedInterval.name=a}),e.qZA(),e.TgZ(4,"div",4),e.TgZ(5,"span",5),e._UZ(6,"i",6),e.qZA(),e.qZA(),e.TgZ(7,"div",7),e.TgZ(8,"small"),e._uU(9,"the interval name can't be empty!"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(10,"div",8),e.TgZ(11,"app-interval-list",9),e.NdJ("singleIntervalSelectedEvent",function(a){return n.onSingleIntervalSelected(a)}),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.Q6J("ngIf",n.visible),e.xp6(3),e.ekj("is-invalid",!n.selectedInterval.name&&n.validate)("is-valid",n.selectedInterval.name&&n.validate),e.Q6J("ngModel",n.selectedInterval.name),e.xp6(7),e.Udp("display",n.visible?"":"none"),e.xp6(1),e.Q6J("singleIntervalSelected",n.selectedInterval)("enableSelectAll",!1)("toolbars",!1))},directives:[u.O5,r.Fj,r.nD,r.Q7,r.JJ,r.On,f],styles:[".combo[_ngcontent-%COMP%]{position:relative;right:auto}.combo-shielder[_ngcontent-%COMP%]{position:fixed;top:0;bottom:0;right:0;left:0;z-index:100}.combo-body[_ngcontent-%COMP%]{position:absolute;top:33px;bottom:auto;left:0;right:0;z-index:105;visibility:visible;display:inline-block}"]}),o})();var b=v(9549);function N(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"div",1),e.TgZ(1,"span",61),e.NdJ("click",function(){return e.CHM(t),e.oxw().templateToggle("coredata")}),e._uU(2,"CoreDataSeviceTemplate"),e.qZA(),e.TgZ(3,"span",61),e.NdJ("click",function(){return e.CHM(t),e.oxw().templateToggle("command")}),e._uU(4,"CommandServiceTemplate"),e.qZA(),e.TgZ(5,"span",61),e.NdJ("click",function(){return e.CHM(t),e.oxw().templateToggle("custom")}),e._uU(6,"CustomTemplate"),e.qZA(),e.qZA()}if(2&o){const t=e.oxw();e.xp6(1),e.ekj("badge-secondary","coredata"!==t.templateSelected)("badge-primary","coredata"===t.templateSelected),e.xp6(2),e.ekj("badge-secondary","command"!==t.templateSelected)("badge-primary","command"===t.templateSelected),e.xp6(2),e.ekj("badge-secondary","custom"!==t.templateSelected)("badge-primary","custom"===t.templateSelected)}}function P(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"form"),e.TgZ(1,"div",12),e.TgZ(2,"label",68),e._uU(3,"HttpMethod"),e.qZA(),e.TgZ(4,"div",9),e.TgZ(5,"select",69),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(2).intervalAction.address.httpMethod=i}),e.TgZ(6,"option",70),e._uU(7,"GET"),e.qZA(),e.TgZ(8,"option",71),e._uU(9,"POST"),e.qZA(),e.TgZ(10,"option",72),e._uU(11,"PUT"),e.qZA(),e.TgZ(12,"option",73),e._uU(13,"DELETE"),e.qZA(),e.TgZ(14,"option",74),e._uU(15,"PATCH"),e.qZA(),e.TgZ(16,"option",75),e._uU(17,"HEAD"),e.qZA(),e.TgZ(18,"option",76),e._uU(19,"TRACE"),e.qZA(),e.TgZ(20,"option",77),e._uU(21,"CONNECT"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(22,"div",7),e.TgZ(23,"label",78),e._uU(24,"Host"),e.qZA(),e.TgZ(25,"div",9),e.TgZ(26,"input",79),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(2).intervalAction.address.host=i}),e.qZA(),e.TgZ(27,"div",80),e.TgZ(28,"small"),e._uU(29,"the REST address host can't be empty!"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(30,"div",7),e.TgZ(31,"label",81),e._uU(32,"Port"),e.qZA(),e.TgZ(33,"div",9),e.TgZ(34,"input",82),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(2).intervalAction.address.port=i}),e.qZA(),e.TgZ(35,"div",83),e.TgZ(36,"small"),e._uU(37,"the REST address port can't be empty and only pure integer is supported!"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(38,"div",12),e.TgZ(39,"label",84),e._uU(40,"Path"),e.qZA(),e.TgZ(41,"div",9),e.TgZ(42,"input",85),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(2).intervalAction.address.path=i}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(43,"div",12),e.TgZ(44,"label",86),e._uU(45,"RequestBody"),e.qZA(),e.TgZ(46,"div",9),e.TgZ(47,"input",87),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(2).intervalAction.address.requestBody=i}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(48,"div",12),e.TgZ(49,"label",86),e.TgZ(50,"span",45),e._uU(51,"ContentType"),e.qZA(),e._UZ(52,"span",88),e.qZA(),e.TgZ(53,"div",9),e.TgZ(54,"input",89),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(2).intervalAction.address.contentType=i}),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=e.oxw(2);e.xp6(5),e.Q6J("ngModel",t.intervalAction.address.httpMethod),e.xp6(21),e.ekj("is-invalid",!t.intervalAction.address.host)("is-valid",t.intervalAction.address.host),e.Q6J("ngModel",t.intervalAction.address.host),e.xp6(8),e.ekj("is-invalid",!t.isPureIntegerType(t.intervalAction.address.port))("is-valid",t.isPureIntegerType(t.intervalAction.address.port)),e.Q6J("ngModel",t.intervalAction.address.port),e.xp6(8),e.Q6J("ngModel",t.intervalAction.address.path),e.xp6(5),e.Q6J("ngModel",t.intervalAction.address.requestBody),e.xp6(7),e.Q6J("ngModel",t.intervalAction.address.contentType)}}function Q(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"form"),e.TgZ(1,"div",12),e.TgZ(2,"label",68),e._uU(3,"HttpMethod"),e.qZA(),e.TgZ(4,"div",9),e.TgZ(5,"select",69),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(2).intervalAction.address.httpMethod=i}),e.TgZ(6,"option",73),e._uU(7,"DELETE"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"div",7),e.TgZ(9,"label",78),e.TgZ(10,"span",45),e._uU(11,"Host"),e.qZA(),e._UZ(12,"span",90),e.qZA(),e.TgZ(13,"div",9),e.TgZ(14,"input",79),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(2).intervalAction.address.host=i}),e.qZA(),e.TgZ(15,"div",80),e.TgZ(16,"small"),e._uU(17,"the REST address host can't be empty!"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(18,"div",7),e.TgZ(19,"label",81),e._uU(20,"Port"),e.qZA(),e.TgZ(21,"div",9),e.TgZ(22,"input",82),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(2).intervalAction.address.port=i}),e.qZA(),e.TgZ(23,"div",83),e.TgZ(24,"small"),e._uU(25,"the REST address port can't be empty and only pure integer is supported!"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(26,"div",12),e.TgZ(27,"label",84),e.TgZ(28,"span",45),e._uU(29,"Path"),e.qZA(),e._UZ(30,"span",91),e.qZA(),e.TgZ(31,"div",9),e.TgZ(32,"input",92),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(2).intervalAction.address.path=i}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(33,"div",12),e.TgZ(34,"label",86),e._uU(35,"Parameter"),e.qZA(),e.TgZ(36,"div",9),e.TgZ(37,"div",93),e.TgZ(38,"div",94),e.TgZ(39,"span",95),e._UZ(40,"i",96),e.qZA(),e.qZA(),e.TgZ(41,"input",97),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(2).coredataRequestParameter=i}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=e.oxw(2);e.xp6(5),e.Q6J("ngModel",t.intervalAction.address.httpMethod),e.xp6(9),e.ekj("is-invalid",!t.intervalAction.address.host)("is-valid",t.intervalAction.address.host),e.Q6J("ngModel",t.intervalAction.address.host),e.xp6(8),e.ekj("is-invalid",!t.isPureIntegerType(t.intervalAction.address.port))("is-valid",t.isPureIntegerType(t.intervalAction.address.port)),e.Q6J("ngModel",t.intervalAction.address.port),e.xp6(10),e.Q6J("ngModel",t.intervalAction.address.path),e.xp6(9),e.Q6J("ngModel",t.coredataRequestParameter)}}function w(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"form"),e.TgZ(1,"div",12),e.TgZ(2,"label",68),e.TgZ(3,"span",45),e._uU(4,"HttpMethod"),e.qZA(),e._UZ(5,"span",98),e.qZA(),e.TgZ(6,"div",9),e.TgZ(7,"input",99),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(2).intervalAction.address.httpMethod=i}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"div",7),e.TgZ(9,"label",78),e.TgZ(10,"span",45),e._uU(11,"Host"),e.qZA(),e._UZ(12,"span",90),e.qZA(),e.TgZ(13,"div",9),e.TgZ(14,"input",79),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(2).intervalAction.address.host=i}),e.qZA(),e.TgZ(15,"div",80),e.TgZ(16,"small"),e._uU(17,"the REST address host can't be empty!"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(18,"div",7),e.TgZ(19,"label",81),e._uU(20,"Port"),e.qZA(),e.TgZ(21,"div",9),e.TgZ(22,"input",82),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(2).intervalAction.address.port=i}),e.qZA(),e.TgZ(23,"div",83),e.TgZ(24,"small"),e._uU(25,"the REST address port can't be empty and only pure integer is supported!"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(26,"div",12),e.TgZ(27,"label",84),e._uU(28,"Path"),e.qZA(),e.TgZ(29,"div",9),e.TgZ(30,"app-device-core-command-combo-list",100),e.NdJ("cmdMethodEvent",function(i){return e.CHM(t),e.oxw(2).onCmdMethodSelected(i)})("commandSelectedEvent",function(i){return e.CHM(t),e.oxw(2).onCommandSelected(i)}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(31,"div",12),e.TgZ(32,"label",86),e._uU(33,"RequestBody"),e.qZA(),e.TgZ(34,"div",9),e.TgZ(35,"input",87),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(2).intervalAction.address.requestBody=i}),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=e.oxw(2);e.xp6(7),e.Q6J("ngModel",t.intervalAction.address.httpMethod),e.xp6(7),e.ekj("is-invalid",!t.intervalAction.address.host)("is-valid",t.intervalAction.address.host),e.Q6J("ngModel",t.intervalAction.address.host),e.xp6(8),e.ekj("is-invalid",!t.isPureIntegerType(t.intervalAction.address.port))("is-valid",t.isPureIntegerType(t.intervalAction.address.port)),e.Q6J("ngModel",t.intervalAction.address.port),e.xp6(8),e.Q6J("validate",!0),e.xp6(5),e.Q6J("ngModel",t.intervalAction.address.requestBody)}}function O(o,l){if(1&o&&(e.TgZ(0,"div",null,62),e.TgZ(2,"div",63),e.YNc(3,P,55,14,"ng-template",64,65,e.W1O),e.YNc(5,Q,42,13,"ng-template",64,66,e.W1O),e.YNc(7,w,36,13,"ng-template",64,67,e.W1O),e.qZA(),e.qZA()),2&o){const t=e.oxw();e.xp6(2),e.Q6J("ngSwitch",t.templateSelected),e.xp6(1),e.Q6J("ngSwitchCase","custom"),e.xp6(2),e.Q6J("ngSwitchCase","coredata"),e.xp6(2),e.Q6J("ngSwitchCase","command")}}function R(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"div",35),e.TgZ(1,"app-interval-combo-list",36),e.NdJ("intervalSelectedEvent",function(i){return e.CHM(t),e.oxw(2).onSingleIntervalSelected(i)}),e.qZA(),e.qZA()}if(2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("validate",!0)("selectedInterval",t.selectedIntervalDefault)}}function H(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"div",1),e.TgZ(1,"span",37),e._uU(2,"Available and Editable templates >>"),e.qZA(),e._UZ(3,"span",38),e.TgZ(4,"span",39),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return i.templateToggle(i.template_type_coredata)}),e._uU(5,"CoreDataSeviceTemplate"),e.qZA(),e.TgZ(6,"span",39),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return i.templateToggle(i.template_type_command)}),e._uU(7,"CommandServiceTemplate"),e.qZA(),e.TgZ(8,"span",39),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return i.templateToggle(i.template_type_custom)}),e._uU(9,"CustomTemplate"),e.qZA(),e.qZA()}if(2&o){const t=e.oxw(2);e.xp6(4),e.ekj("badge-secondary",t.templateSelected!==t.template_type_coredata)("badge-primary",t.templateSelected===t.template_type_coredata),e.xp6(2),e.ekj("badge-secondary",t.templateSelected!==t.template_type_command)("badge-primary",t.templateSelected===t.template_type_command),e.xp6(2),e.ekj("badge-secondary",t.templateSelected!==t.template_type_custom)("badge-primary",t.templateSelected===t.template_type_custom)}}function F(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"form"),e.TgZ(1,"div",11),e.TgZ(2,"label",46),e._uU(3,"HttpMethod"),e.qZA(),e.TgZ(4,"div",8),e.TgZ(5,"select",47),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(3).intervalAction.address.httpMethod=i}),e.TgZ(6,"option",48),e._uU(7,"GET"),e.qZA(),e.TgZ(8,"option",49),e._uU(9,"POST"),e.qZA(),e.TgZ(10,"option",50),e._uU(11,"PUT"),e.qZA(),e.TgZ(12,"option",51),e._uU(13,"DELETE"),e.qZA(),e.TgZ(14,"option",52),e._uU(15,"PATCH"),e.qZA(),e.TgZ(16,"option",53),e._uU(17,"HEAD"),e.qZA(),e.TgZ(18,"option",54),e._uU(19,"TRACE"),e.qZA(),e.TgZ(20,"option",55),e._uU(21,"CONNECT"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(22,"div",6),e.TgZ(23,"label",56),e._uU(24,"Host"),e.qZA(),e.TgZ(25,"div",8),e.TgZ(26,"input",57),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(3).intervalAction.address.host=i}),e.qZA(),e.TgZ(27,"div",58),e.TgZ(28,"small"),e._uU(29,"the REST address host can't be empty!"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(30,"div",6),e.TgZ(31,"label",59),e._uU(32,"Port"),e.qZA(),e.TgZ(33,"div",8),e.TgZ(34,"input",60),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(3).intervalAction.address.port=i}),e.qZA(),e.TgZ(35,"div",61),e.TgZ(36,"small"),e._uU(37,"the REST address port can't be empty and only pure integer is supported!"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(38,"div",11),e.TgZ(39,"label",62),e._uU(40,"Path"),e.qZA(),e.TgZ(41,"div",8),e.TgZ(42,"input",63),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(3).intervalAction.address.path=i}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(43,"div",11),e.TgZ(44,"label",64),e._uU(45,"RequestBody"),e.qZA(),e.TgZ(46,"div",8),e.TgZ(47,"input",65),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(3).intervalAction.address.requestBody=i}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(48,"div",11),e.TgZ(49,"label",64),e.TgZ(50,"span",32),e._uU(51,"ContentType"),e.qZA(),e._UZ(52,"span",66),e.qZA(),e.TgZ(53,"div",8),e.TgZ(54,"input",67),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(3).intervalAction.address.contentType=i}),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=e.oxw(3);e.xp6(5),e.Q6J("ngModel",t.intervalAction.address.httpMethod),e.xp6(21),e.ekj("is-invalid",!t.intervalAction.address.host)("is-valid",t.intervalAction.address.host),e.Q6J("ngModel",t.intervalAction.address.host),e.xp6(8),e.ekj("is-invalid",!t.isPureIntegerType(t.intervalAction.address.port))("is-valid",t.isPureIntegerType(t.intervalAction.address.port)),e.Q6J("ngModel",t.intervalAction.address.port),e.xp6(8),e.Q6J("ngModel",t.intervalAction.address.path),e.xp6(5),e.Q6J("ngModel",t.intervalAction.address.requestBody),e.xp6(7),e.Q6J("ngModel",t.intervalAction.address.contentType)}}function D(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"form"),e.TgZ(1,"div",11),e.TgZ(2,"label",46),e._uU(3,"HttpMethod"),e.qZA(),e.TgZ(4,"div",8),e.TgZ(5,"select",47),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(3).intervalAction.address.httpMethod=i}),e.TgZ(6,"option",51),e._uU(7,"DELETE"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"div",6),e.TgZ(9,"label",56),e.TgZ(10,"span",32),e._uU(11,"Host"),e.qZA(),e._UZ(12,"span",68),e.qZA(),e.TgZ(13,"div",8),e.TgZ(14,"input",57),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(3).intervalAction.address.host=i}),e.qZA(),e.TgZ(15,"div",58),e.TgZ(16,"small"),e._uU(17,"the REST address host can't be empty!"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(18,"div",6),e.TgZ(19,"label",59),e._uU(20,"Port"),e.qZA(),e.TgZ(21,"div",8),e.TgZ(22,"input",60),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(3).intervalAction.address.port=i}),e.qZA(),e.TgZ(23,"div",61),e.TgZ(24,"small"),e._uU(25,"the REST address port can't be empty and only pure integer is supported!"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(26,"div",11),e.TgZ(27,"label",62),e.TgZ(28,"span",32),e._uU(29,"Path"),e.qZA(),e._UZ(30,"span",69),e.qZA(),e.TgZ(31,"div",8),e.TgZ(32,"input",70),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(3).intervalAction.address.path=i}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(33,"div",11),e.TgZ(34,"label",64),e._uU(35,"Parameter"),e.qZA(),e.TgZ(36,"div",8),e.TgZ(37,"div",71),e.TgZ(38,"div",72),e.TgZ(39,"span",73),e._UZ(40,"i",74),e.qZA(),e.qZA(),e.TgZ(41,"input",75),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(3).coredataRequestParameter=i}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=e.oxw(3);e.xp6(5),e.Q6J("ngModel",t.intervalAction.address.httpMethod),e.xp6(9),e.ekj("is-invalid",!t.intervalAction.address.host)("is-valid",t.intervalAction.address.host),e.Q6J("ngModel",t.intervalAction.address.host),e.xp6(8),e.ekj("is-invalid",!t.isPureIntegerType(t.intervalAction.address.port))("is-valid",t.isPureIntegerType(t.intervalAction.address.port)),e.Q6J("ngModel",t.intervalAction.address.port),e.xp6(10),e.Q6J("ngModel",t.intervalAction.address.path),e.xp6(9),e.Q6J("ngModel",t.coredataRequestParameter)}}function Y(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"form"),e.TgZ(1,"div",11),e.TgZ(2,"label",46),e.TgZ(3,"span",32),e._uU(4,"HttpMethod"),e.qZA(),e._UZ(5,"span",76),e.qZA(),e.TgZ(6,"div",8),e.TgZ(7,"input",77),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(3).intervalAction.address.httpMethod=i}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"div",6),e.TgZ(9,"label",56),e.TgZ(10,"span",32),e._uU(11,"Host"),e.qZA(),e._UZ(12,"span",68),e.qZA(),e.TgZ(13,"div",8),e.TgZ(14,"input",57),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(3).intervalAction.address.host=i}),e.qZA(),e.TgZ(15,"div",58),e.TgZ(16,"small"),e._uU(17,"the REST address host can't be empty!"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(18,"div",6),e.TgZ(19,"label",59),e._uU(20,"Port"),e.qZA(),e.TgZ(21,"div",8),e.TgZ(22,"input",60),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(3).intervalAction.address.port=i}),e.qZA(),e.TgZ(23,"div",61),e.TgZ(24,"small"),e._uU(25,"the REST address port can't be empty and only pure integer is supported!"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(26,"div",11),e.TgZ(27,"label",62),e._uU(28,"Path"),e.qZA(),e.TgZ(29,"div",8),e.TgZ(30,"app-device-core-command-combo-list",78),e.NdJ("cmdMethodEvent",function(i){return e.CHM(t),e.oxw(3).onCmdMethodSelected(i)})("commandSelectedEvent",function(i){return e.CHM(t),e.oxw(3).onCommandSelected(i)}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(31,"div",11),e.TgZ(32,"label",64),e._uU(33,"RequestBody"),e.qZA(),e.TgZ(34,"div",8),e.TgZ(35,"input",65),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(3).intervalAction.address.requestBody=i}),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=e.oxw(3);e.xp6(7),e.Q6J("ngModel",t.intervalAction.address.httpMethod),e.xp6(7),e.ekj("is-invalid",!t.intervalAction.address.host)("is-valid",t.intervalAction.address.host),e.Q6J("ngModel",t.intervalAction.address.host),e.xp6(8),e.ekj("is-invalid",!t.isPureIntegerType(t.intervalAction.address.port))("is-valid",t.isPureIntegerType(t.intervalAction.address.port)),e.Q6J("ngModel",t.intervalAction.address.port),e.xp6(8),e.Q6J("validate",!0),e.xp6(5),e.Q6J("ngModel",t.intervalAction.address.requestBody)}}function j(o,l){if(1&o&&(e.TgZ(0,"div",null,40),e.TgZ(2,"div",41),e.YNc(3,F,55,14,"ng-template",42,43,e.W1O),e.YNc(5,D,42,13,"ng-template",42,44,e.W1O),e.YNc(7,Y,36,13,"ng-template",42,45,e.W1O),e.qZA(),e.qZA()),2&o){const t=e.oxw(2);e.xp6(2),e.Q6J("ngSwitch",t.templateSelected),e.xp6(1),e.Q6J("ngSwitchCase",t.template_type_custom),e.xp6(2),e.Q6J("ngSwitchCase",t.template_type_coredata),e.xp6(2),e.Q6J("ngSwitchCase",t.template_type_command)}}function B(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"div",null,79),e.TgZ(2,"form"),e.TgZ(3,"div",6),e.TgZ(4,"label",80),e._uU(5,"Host"),e.qZA(),e.TgZ(6,"div",8),e.TgZ(7,"input",81),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(2).intervalAction.address.host=i}),e.qZA(),e.TgZ(8,"div",82),e.TgZ(9,"small"),e._uU(10,"the MQTT host can't be empty!"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(11,"div",6),e.TgZ(12,"label",83),e._uU(13,"Port"),e.qZA(),e.TgZ(14,"div",8),e.TgZ(15,"input",84),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(2).intervalAction.address.port=i}),e.qZA(),e.TgZ(16,"div",85),e.TgZ(17,"small"),e._uU(18,"the MQTT port can't be empty and only pure integer is supported!!"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(19,"div",6),e.TgZ(20,"label",86),e._uU(21,"Publisher"),e.qZA(),e.TgZ(22,"div",8),e.TgZ(23,"input",87),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(2).intervalAction.address.publisher=i}),e.qZA(),e.TgZ(24,"div",88),e.TgZ(25,"small"),e._uU(26,"the MQTT publisher can't be empty!"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(27,"div",6),e.TgZ(28,"label",89),e._uU(29,"Topic"),e.qZA(),e.TgZ(30,"div",8),e.TgZ(31,"input",90),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(2).intervalAction.address.topic=i}),e.qZA(),e.TgZ(32,"div",91),e.TgZ(33,"small"),e._uU(34,"the MQTT topic can't be empty!"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(35,"div",11),e.TgZ(36,"label",92),e._uU(37,"QoS"),e.qZA(),e.TgZ(38,"div",8),e.TgZ(39,"input",93),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(2).intervalAction.address.qos=i}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(40,"div",11),e.TgZ(41,"label",94),e._uU(42,"KeepAlive"),e.qZA(),e.TgZ(43,"div",8),e.TgZ(44,"input",95),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(2).intervalAction.address.keepAlive=i}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(45,"div",11),e.TgZ(46,"label",96),e._uU(47,"Retained"),e.qZA(),e.TgZ(48,"div",8),e.TgZ(49,"select",97),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(2).intervalAction.address.retained=i}),e.TgZ(50,"option",98),e._uU(51,"false"),e.qZA(),e.TgZ(52,"option",99),e._uU(53,"true"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(54,"div",11),e.TgZ(55,"label",100),e._uU(56,"AutoReconnect"),e.qZA(),e.TgZ(57,"div",8),e.TgZ(58,"select",101),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(2).intervalAction.address.autoReconnect=i}),e.TgZ(59,"option",98),e._uU(60,"true"),e.qZA(),e.TgZ(61,"option",99),e._uU(62,"false"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(63,"div",11),e.TgZ(64,"label",102),e._uU(65,"ConnectTimeout"),e.qZA(),e.TgZ(66,"div",8),e.TgZ(67,"input",103),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(2).intervalAction.address.connectTimeout=i}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=e.oxw(2);e.xp6(7),e.ekj("is-invalid",!t.intervalAction.address.host)("is-valid",t.intervalAction.address.host),e.Q6J("ngModel",t.intervalAction.address.host),e.xp6(8),e.ekj("is-invalid",!t.isPureIntegerType(t.intervalAction.address.port))("is-valid",t.isPureIntegerType(t.intervalAction.address.port)),e.Q6J("ngModel",t.intervalAction.address.port),e.xp6(8),e.ekj("is-invalid",!t.intervalAction.address.publisher)("is-valid",t.intervalAction.address.publisher),e.Q6J("ngModel",t.intervalAction.address.publisher),e.xp6(8),e.ekj("is-invalid",!t.intervalAction.address.topic)("is-valid",t.intervalAction.address.topic),e.Q6J("ngModel",t.intervalAction.address.topic),e.xp6(8),e.Q6J("ngModel",t.intervalAction.address.qos),e.xp6(5),e.Q6J("ngModel",t.intervalAction.address.keepAlive),e.xp6(5),e.Q6J("ngModel",t.intervalAction.address.retained),e.xp6(1),e.Q6J("ngValue",!1),e.xp6(2),e.Q6J("ngValue",!0),e.xp6(6),e.Q6J("ngModel",t.intervalAction.address.autoReconnect),e.xp6(1),e.Q6J("ngValue",!0),e.xp6(2),e.Q6J("ngValue",!1),e.xp6(6),e.Q6J("ngModel",t.intervalAction.address.connectTimeout)}}function K(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"div",5),e.TgZ(1,"form"),e.TgZ(2,"div",6),e.TgZ(3,"label",7),e._uU(4,"Name"),e.qZA(),e.TgZ(5,"div",8),e.TgZ(6,"input",9),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().intervalAction.name=i}),e.qZA(),e.TgZ(7,"div",10),e.TgZ(8,"small"),e._uU(9,"the interval action name can't be empty!"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(10,"div",11),e.TgZ(11,"label",12),e._uU(12,"IntervalName"),e.qZA(),e.TgZ(13,"div",8),e.YNc(14,R,2,2,"div",13),e.qZA(),e.qZA(),e.TgZ(15,"div",11),e.TgZ(16,"label",14),e._uU(17,"AdminState"),e.qZA(),e.TgZ(18,"div",8),e.TgZ(19,"select",15),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().intervalAction.adminState=i}),e.TgZ(20,"option",16),e._uU(21,"UNLOCKED"),e.qZA(),e.TgZ(22,"option",17),e._uU(23,"LOCKED"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(24,"div",11),e.TgZ(25,"label",18),e._uU(26,"Address"),e.qZA(),e.TgZ(27,"div",8),e.TgZ(28,"div",0),e.TgZ(29,"div",1),e.TgZ(30,"div",19),e.TgZ(31,"span",20),e.TgZ(32,"input",21),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().intervalAction.address.type=i})("change",function(){return e.CHM(t),e.oxw().typeToggle("REST")}),e.qZA(),e.TgZ(33,"label",22),e._uU(34,"REST"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(35,"div",19),e.TgZ(36,"span",23),e.NdJ("click",function(){return e.CHM(t),e.oxw().typeToggle("MQTT")}),e.TgZ(37,"input",24),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().intervalAction.address.type=i}),e.qZA(),e.TgZ(38,"label",25),e._uU(39,"MQTT"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(40,"div",19),e.TgZ(41,"span",23),e.NdJ("click",function(){return e.CHM(t),e.oxw().typeToggle("EMAIL")}),e.TgZ(42,"input",26),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().intervalAction.address.type=i}),e.qZA(),e.TgZ(43,"label",27),e._uU(44,"EMAIL"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(45,H,10,12,"div",28),e.TgZ(46,"div",5),e.YNc(47,j,9,4,"div",29),e.YNc(48,B,68,29,"div",29),e.TgZ(49,"div",null,30),e.TgZ(51,"form"),e.TgZ(52,"div",11),e.TgZ(53,"label",31),e.TgZ(54,"span",32),e._uU(55,"EmailRecipients"),e.qZA(),e._UZ(56,"span",33),e.qZA(),e.TgZ(57,"div",8),e.TgZ(58,"input",34),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().addressEmailRecipients=i}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=e.oxw();e.xp6(6),e.ekj("is-invalid",!t.intervalAction.name)("is-valid",t.intervalAction.name),e.Q6J("ngModel",t.intervalAction.name),e.xp6(8),e.Q6J("ngIf",t.selectedIntervalDefault),e.xp6(5),e.Q6J("ngModel",t.intervalAction.adminState),e.xp6(12),e.ekj("badge-secondary",t.intervalAction.address.type!==t.addr_type_REST)("badge-primary",t.intervalAction.address.type===t.addr_type_REST),e.xp6(1),e.Q6J("ngModel",t.intervalAction.address.type),e.xp6(4),e.ekj("badge-secondary",t.intervalAction.address.type!==t.addr_type_MQTT)("badge-primary",t.intervalAction.address.type===t.addr_type_MQTT),e.xp6(1),e.Q6J("ngModel",t.intervalAction.address.type),e.xp6(4),e.ekj("badge-secondary",t.intervalAction.address.type!==t.addr_type_EMAIL)("badge-primary",t.intervalAction.address.type===t.addr_type_EMAIL),e.xp6(1),e.Q6J("ngModel",t.intervalAction.address.type),e.xp6(3),e.Q6J("ngIf",t.intervalAction.address.type===t.addr_type_REST),e.xp6(2),e.Q6J("ngIf","REST"===t.intervalAction.address.type),e.xp6(1),e.Q6J("ngIf",(null==t.intervalAction.address?null:t.intervalAction.address.type)===t.addr_type_MQTT),e.xp6(1),e.Udp("display",t.intervalAction.address.type!==t.addr_type_EMAIL?"none":""),e.xp6(9),e.Q6J("ngModel",t.addressEmailRecipients)}}const V=[{path:"",component:T,children:[{path:"",redirectTo:"interval-center",pathMatch:"full"},{path:"interval-center",component:m,children:[{path:"",redirectTo:"interval-list",pathMatch:"full"},{path:"interval-list",component:f},{path:"add-interval",component:I},{path:"edit-interval",component:x}]},{path:"interval-action-center",component:S,children:[{path:"",redirectTo:"interval-action-list",pathMatch:"full"},{path:"interval-action-list",component:J},{path:"add-interval-action",component:(()=>{class o{constructor(t,n,i,a,p){this.schedulerSvc=t,this.msgSvc=n,this.route=i,this.router=a,this.errSvc=p,this.addressEmailRecipients="",this.templateSelected="coredata",this.coredataRequestParameter="",this.coredataSvcAvailableAPI=["/api/v2/event/age/"],this.intervalAction={adminState:"UNLOCKED"},this.intervalAction.address={},this.intervalAction.address.type="REST",this.intervalAction.address.httpMethod="GET",this.intervalAction.address.retained=!1,this.intervalAction.address.autoReconnect=!0}ngOnInit(){this.renderPopoverComponent(),this.renderCoredataDefaultTemplate()}initDatePickr(){let t=this;this.calendarStart=(0,A.Z)("input[name='coredataRequestParameter']",{dateFormat:"YmdTHiS",enableTime:!0,enableSeconds:!0,time_24hr:!0,allowInput:!1,onChange:function(n,i,a){t.intervalAction.address.path=t.coredataSvcAvailableAPI[0]+i}})}renderPopoverComponent(){$('[data-toggle="popover"]').popover({trigger:"hover"})}renderCoredataDefaultTemplate(){this.intervalAction.address.httpMethod="DELETE",this.intervalAction.address.host="edgex-core-data",this.intervalAction.address.port=59880,this.intervalAction.address.path=this.coredataSvcAvailableAPI[0],setTimeout(()=>{this.renderPopoverComponent(),this.initDatePickr()},300)}templateToggle(t){switch(this.templateSelected=t,this.templateSelected){case"coredata":this.renderCoredataDefaultTemplate();break;case"command":this.intervalAction.address.httpMethod="",this.intervalAction.address.host="edgex-core-command",this.intervalAction.address.port=59882,this.intervalAction.address.path="",this.intervalAction.address.httpMethod="",setTimeout(()=>{this.renderPopoverComponent()},300);break;case"custom":setTimeout(()=>{this.renderPopoverComponent()},300),this.intervalAction.address={},this.intervalAction.address.type="REST",this.intervalAction.address.httpMethod="GET",this.intervalAction.address.retained=!1,this.intervalAction.address.autoReconnect=!0}}typeToggle(t){this.intervalAction.address.type=t,"REST"===t&&this.templateToggle("coredata")}onCmdMethodSelected(t){this.intervalAction.address.httpMethod=t}onCommandSelected(t){this.intervalAction.address.path=t.path}onSingleIntervalSelected(t){this.intervalAction.intervalName=t.name}isPureIntegerType(t){return!isNaN(t)&&parseFloat(t)===parseInt(t)}validate(){let t=!0,n=this.intervalAction.name&&this.intervalAction.intervalName;switch(this.intervalAction.address.type){case"REST":n&&this.intervalAction.address.host&&this.isPureIntegerType(this.intervalAction.address.port)&&this.intervalAction.address.port&&this.intervalAction.address.path&&this.intervalAction.address.httpMethod&&(t=!1);break;case"MQTT":n&&this.intervalAction.address.host&&this.isPureIntegerType(this.intervalAction.address.port)&&this.intervalAction.address.port&&this.intervalAction.address.publisher&&this.intervalAction.address.topic&&(t=!1);break;case"EMAIL":n&&(t=!1)}return t}submit(){this.intervalAction.address.recipients=this.addressEmailRecipients.split(","),this.intervalAction.address.port=Number(this.intervalAction.address.port),this.schedulerSvc.addIntervalAction(this.intervalAction).subscribe(()=>{this.msgSvc.success("Add interval action",`name: ${this.intervalAction.name}`),this.router.navigate(["../interval-action-list"],{relativeTo:this.route})})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(Z.G),e.Y36(d.e),e.Y36(c.gz),e.Y36(c.F0),e.Y36(s.T))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-add-interval-action"]],decls:148,vars:59,consts:[[1,"card","mb-3"],[1,"card-header"],[1,"fa","fa-info-circle","mr-2","text-info"],[1,"card-body"],[1,"card"],[1,"fa","fa-plus","text-danger"],[1,"btn","btn-sm","btn-success","float-right",3,"disabled","click"],[1,"form-group","row","has-validation"],["for","intervalActionName","required","",1,"col-md-2","col-form-label"],[1,"col-md-10"],["type","text","id","validationIntervalActionName","name","intervalActionName","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","validationIntervalActionNameFeedback",1,"invalid-feedback"],[1,"form-group","row"],["for","intervalName",1,"col-md-2","col-form-label"],[1,"mb-3"],[3,"validate","intervalSelectedEvent"],["for","adminState",1,"col-md-2","col-form-label"],["name","adminState",1,"custom-select",3,"ngModel","ngModelChange"],["value","UNLOCKED"],["value","LOCKED"],["for","Address",1,"col-md-2","col-form-label"],[1,"form-check","form-check-inline"],[1,"badge"],["type","radio","name","inlineRadioOptions","id","REST","value","REST",1,"form-check-input",3,"ngModel","ngModelChange","click"],["for","REST",1,"form-check-label"],["type","radio","name","inlineRadioOptions","id","MQTT","value","MQTT",1,"form-check-input",3,"ngModel","ngModelChange","click"],["for","MQTT",1,"form-check-label"],["type","radio","name","inlineRadioOptions","id","EMAIL","value","EMAIL",1,"form-check-input",3,"ngModel","ngModelChange","click"],["for","EMAIL",1,"form-check-label"],["class","card-header",4,"ngIf"],[4,"ngIf"],["MQTT",""],["for","addressHostMQTT","required","",1,"col-md-2","col-form-label"],["type","text","id","addressHostMQTT","name","addressHost","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","addressHostMQTTFeedback",1,"invalid-feedback"],["for","addressPortMQTT","required","",1,"col-md-2","col-form-label"],["type","text","id","addressPortMQTT","name","addressPort","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","addressPortMQTTFeedback",1,"invalid-feedback"],["for","addressPublisher","required","",1,"col-md-2","col-form-label"],["type","text","id","addressPublisher","name","addressPublisher","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","addressPublisherFeedback",1,"invalid-feedback"],["for","addressTopic","required","",1,"col-md-2","col-form-label"],["type","text","id","addressTopic","name","addressTopic","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","addressTopicFeedback",1,"invalid-feedback"],["for","addressQoS",1,"col-md-2","col-form-label"],[1,"mr-2"],["role","button","data-html","false","data-animation","true","data-trigger","focus","data-toggle","popover","title","format tips","data-content","only pure integer supported!",1,"fa","fa-question-circle-o","fa-lg"],["type","number","id","addressQoS","name","addressQoS",1,"form-control",3,"ngModel","ngModelChange"],["for","addressKeepAlive",1,"col-md-2","col-form-label"],["type","number","id","addressKeepAlive","name","addressKeepAlive",1,"form-control",3,"ngModel","ngModelChange"],["for","addressRetained","required","",1,"col-md-2","col-form-label"],["type","text","id","addressRetained","name","addressRetained",1,"custom-select",3,"ngModel","ngModelChange"],[3,"ngValue"],["for","addressAutoReconnect","required","",1,"col-md-2","col-form-label"],["type","text","id","addressAutoReconnect","name","addressAutoReconnect",1,"custom-select",3,"ngModel","ngModelChange"],["for","addressConnectTimeout","required","",1,"col-md-2","col-form-label"],["type","number","id","addressConnectTimeout","name","addressConnectTimeout",1,"form-control",3,"ngModel","ngModelChange"],["EMAIL",""],["for","emailRecipients",1,"col-md-2","col-form-label"],["role","button","data-html","false","data-animation","true","data-trigger","focus","data-toggle","popover","title","format tips","data-content","Multiple email addresses are separated by commas",1,"fa","fa-question-circle-o","fa-lg"],["type","text","id","emailRecipients","name","emailRecipients",1,"form-control",3,"ngModel","ngModelChange"],["role","button",1,"badge","mr-2",3,"click"],["REST",""],[3,"ngSwitch"],[3,"ngSwitchCase"],["customTemplate",""],["coredataTemplate",""],["commandTemplate",""],["for","HttpMethod","required","",1,"col-md-2","col-form-label"],["type","text","name","httpMethod",1,"custom-select",3,"ngModel","ngModelChange"],["value","GET"],["value","POST"],["value","PUT"],["value","DELETE"],["value","PATCH"],["value","HEAD"],["value","TRACE"],["value","CONNECT"],["for","addressHostREST","required","",1,"col-md-2","col-form-label"],["type","text","id","addressHostREST","name","addressHost","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","addressHostRESTFeedback",1,"invalid-feedback"],["for","addressPortREST","required","",1,"col-md-2","col-form-label"],["type","text","id","addressPortREST","name","addressPort","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","addressPortRESTFeedback",1,"invalid-feedback"],["for","addressPath","required","",1,"col-md-2","col-form-label"],["type","text","id","addressPath","name","addressPath",1,"form-control",3,"ngModel","ngModelChange"],["for","requestBody","required","",1,"col-md-2","col-form-label"],["type","text","id","requestBody","name","requestBody",1,"form-control",3,"ngModel","ngModelChange"],["role","button","data-html","false","data-animation","true","data-trigger","focus","data-toggle","popover","title","tips","data-content","Indicates which request contentType should be used (i.e. text/html, application/json), the default is application/json if not setup",1,"fa","fa-question-circle-o","fa-lg"],["type","text","id","contentType","name","contentType",1,"form-control",3,"ngModel","ngModelChange"],["role","button","data-html","false","data-animation","true","data-trigger","focus","data-toggle","popover","title","tips","data-content","Both Host and Port fields are editable if you have a different host address !",1,"fa","fa-question-circle-o","fa-lg"],["role","button","data-html","false","data-animation","true","data-trigger","focus","data-toggle","popover","title","tips","data-content","Remove all old events (and associated readings) based on delimiting age, the parameters delimiting age will be filled up automatically when parameters field is selected!",1,"fa","fa-question-circle-o","fa-lg"],["type","text","id","addressPath","name","addressPath","disabled","",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-group"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"fa","fa-calendar"],["type","text","name","coredataRequestParameter",1,"form-control",3,"ngModel","ngModelChange"],["role","button","data-html","false","data-animation","true","data-trigger","focus","data-toggle","popover","title","tips","data-content","httpMethod field will be filled up automatically when the path field is selected! ",1,"fa","fa-question-circle-o","fa-lg"],["type","text","name","httpMethod","disabled","","required","",1,"form-control",3,"ngModel","ngModelChange"],[3,"validate","cmdMethodEvent","commandSelectedEvent"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e._UZ(2,"i",2),e.TgZ(3,"span"),e._uU(4,"Tips"),e.qZA(),e.qZA(),e.TgZ(5,"div",3),e._uU(6," The support scheduler micro service provide an internal EdgeX \u201cclock\u201d that can kick off operations in any EdgeX service. At a configuration specified time (called an interval), the service calls on any EdgeX service API URL via REST to trigger an operation (called an interval action). For example, the scheduling service periodically calls on core data APIs to clean up old sensed events that have been successfully exported out of EdgeX. "),e._UZ(7,"br"),e._uU(8," Users also can call the API of command service to collect one device's data automatically. "),e.qZA(),e.qZA(),e.TgZ(9,"div",4),e.TgZ(10,"div",1),e._UZ(11,"i",5),e._uU(12," Add Interval Action "),e.TgZ(13,"button",6),e.NdJ("click",function(){return n.submit()}),e._uU(14,"Submit"),e.qZA(),e.qZA(),e.TgZ(15,"div",3),e.TgZ(16,"form"),e.TgZ(17,"div",7),e.TgZ(18,"label",8),e._uU(19,"Name"),e.qZA(),e.TgZ(20,"div",9),e.TgZ(21,"input",10),e.NdJ("ngModelChange",function(a){return n.intervalAction.name=a}),e.qZA(),e.TgZ(22,"div",11),e.TgZ(23,"small"),e._uU(24,"the interval action name can't be empty!"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(25,"div",12),e.TgZ(26,"label",13),e._uU(27,"IntervalName"),e.qZA(),e.TgZ(28,"div",9),e.TgZ(29,"div",14),e.TgZ(30,"app-interval-combo-list",15),e.NdJ("intervalSelectedEvent",function(a){return n.onSingleIntervalSelected(a)}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(31,"div",12),e.TgZ(32,"label",16),e._uU(33,"AdminState"),e.qZA(),e.TgZ(34,"div",9),e.TgZ(35,"select",17),e.NdJ("ngModelChange",function(a){return n.intervalAction.adminState=a}),e.TgZ(36,"option",18),e._uU(37,"UNLOCKED"),e.qZA(),e.TgZ(38,"option",19),e._uU(39,"LOCKED"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(40,"div",12),e.TgZ(41,"label",20),e._uU(42,"Address"),e.qZA(),e.TgZ(43,"div",9),e.TgZ(44,"div",4),e.TgZ(45,"div",1),e.TgZ(46,"div",21),e.TgZ(47,"span",22),e.TgZ(48,"input",23),e.NdJ("ngModelChange",function(a){return n.intervalAction.address.type=a})("click",function(){return n.typeToggle("REST")}),e.qZA(),e.TgZ(49,"label",24),e._uU(50,"REST"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(51,"div",21),e.TgZ(52,"span",22),e.TgZ(53,"input",25),e.NdJ("ngModelChange",function(a){return n.intervalAction.address.type=a})("click",function(){return n.typeToggle("MQTT")}),e.qZA(),e.TgZ(54,"label",26),e._uU(55,"MQTT"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(56,"div",21),e.TgZ(57,"span",22),e.TgZ(58,"input",27),e.NdJ("ngModelChange",function(a){return n.intervalAction.address.type=a})("click",function(){return n.typeToggle("EMAIL")}),e.qZA(),e.TgZ(59,"label",28),e._uU(60,"EMAIL"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(61,N,7,12,"div",29),e.TgZ(62,"div",3),e.YNc(63,O,9,4,"div",30),e.TgZ(64,"div",null,31),e.TgZ(66,"form"),e.TgZ(67,"div",7),e.TgZ(68,"label",32),e._uU(69,"Host"),e.qZA(),e.TgZ(70,"div",9),e.TgZ(71,"input",33),e.NdJ("ngModelChange",function(a){return n.intervalAction.address.host=a}),e.qZA(),e.TgZ(72,"div",34),e.TgZ(73,"small"),e._uU(74,"the MQTT host can't be empty!"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(75,"div",7),e.TgZ(76,"label",35),e._uU(77,"Port"),e.qZA(),e.TgZ(78,"div",9),e.TgZ(79,"input",36),e.NdJ("ngModelChange",function(a){return n.intervalAction.address.port=a}),e.qZA(),e.TgZ(80,"div",37),e.TgZ(81,"small"),e._uU(82,"the MQTT port can't be empty and only pure integer is supported!!"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(83,"div",7),e.TgZ(84,"label",38),e._uU(85,"Publisher"),e.qZA(),e.TgZ(86,"div",9),e.TgZ(87,"input",39),e.NdJ("ngModelChange",function(a){return n.intervalAction.address.publisher=a}),e.qZA(),e.TgZ(88,"div",40),e.TgZ(89,"small"),e._uU(90,"the MQTT publisher can't be empty!"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(91,"div",7),e.TgZ(92,"label",41),e._uU(93,"Topic"),e.qZA(),e.TgZ(94,"div",9),e.TgZ(95,"input",42),e.NdJ("ngModelChange",function(a){return n.intervalAction.address.topic=a}),e.qZA(),e.TgZ(96,"div",43),e.TgZ(97,"small"),e._uU(98,"the MQTT topic can't be empty!"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(99,"div",12),e.TgZ(100,"label",44),e.TgZ(101,"span",45),e._uU(102,"QoS"),e.qZA(),e._UZ(103,"span",46),e.qZA(),e.TgZ(104,"div",9),e.TgZ(105,"input",47),e.NdJ("ngModelChange",function(a){return n.intervalAction.address.qos=a}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(106,"div",12),e.TgZ(107,"label",48),e.TgZ(108,"span",45),e._uU(109,"KeepAlive"),e.qZA(),e._UZ(110,"span",46),e.qZA(),e.TgZ(111,"div",9),e.TgZ(112,"input",49),e.NdJ("ngModelChange",function(a){return n.intervalAction.address.keepAlive=a}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(113,"div",12),e.TgZ(114,"label",50),e._uU(115,"Retained"),e.qZA(),e.TgZ(116,"div",9),e.TgZ(117,"select",51),e.NdJ("ngModelChange",function(a){return n.intervalAction.address.retained=a}),e.TgZ(118,"option",52),e._uU(119,"false"),e.qZA(),e.TgZ(120,"option",52),e._uU(121,"true"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(122,"div",12),e.TgZ(123,"label",53),e._uU(124,"AutoReconnect"),e.qZA(),e.TgZ(125,"div",9),e.TgZ(126,"select",54),e.NdJ("ngModelChange",function(a){return n.intervalAction.address.autoReconnect=a}),e.TgZ(127,"option",52),e._uU(128,"true"),e.qZA(),e.TgZ(129,"option",52),e._uU(130,"false"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(131,"div",12),e.TgZ(132,"label",55),e.TgZ(133,"span",45),e._uU(134,"ConnectTimeout"),e.qZA(),e._UZ(135,"span",46),e.qZA(),e.TgZ(136,"div",9),e.TgZ(137,"input",56),e.NdJ("ngModelChange",function(a){return n.intervalAction.address.connectTimeout=a}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(138,"div",null,57),e.TgZ(140,"form"),e.TgZ(141,"div",12),e.TgZ(142,"label",58),e.TgZ(143,"span",45),e._uU(144,"EmailRecipients"),e.qZA(),e._UZ(145,"span",59),e.qZA(),e.TgZ(146,"div",9),e.TgZ(147,"input",60),e.NdJ("ngModelChange",function(a){return n.addressEmailRecipients=a}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(13),e.Q6J("disabled",n.validate()),e.xp6(8),e.ekj("is-invalid",!n.intervalAction.name)("is-valid",n.intervalAction.name),e.Q6J("ngModel",n.intervalAction.name),e.xp6(9),e.Q6J("validate",!0),e.xp6(5),e.Q6J("ngModel",n.intervalAction.adminState),e.xp6(12),e.ekj("badge-secondary","REST"!==n.intervalAction.address.type)("badge-primary","REST"===n.intervalAction.address.type),e.xp6(1),e.Q6J("ngModel",n.intervalAction.address.type),e.xp6(4),e.ekj("badge-secondary","MQTT"!==n.intervalAction.address.type)("badge-primary","MQTT"===n.intervalAction.address.type),e.xp6(1),e.Q6J("ngModel",n.intervalAction.address.type),e.xp6(4),e.ekj("badge-secondary","EMAIL"!==n.intervalAction.address.type)("badge-primary","EMAIL"===n.intervalAction.address.type),e.xp6(1),e.Q6J("ngModel",n.intervalAction.address.type),e.xp6(3),e.Q6J("ngIf","REST"===n.intervalAction.address.type),e.xp6(2),e.Q6J("ngIf","REST"===n.intervalAction.address.type),e.xp6(1),e.Udp("display","MQTT"!==n.intervalAction.address.type?"none":""),e.xp6(7),e.ekj("is-invalid",!n.intervalAction.address.host)("is-valid",n.intervalAction.address.host),e.Q6J("ngModel",n.intervalAction.address.host),e.xp6(8),e.ekj("is-invalid",!n.isPureIntegerType(n.intervalAction.address.port))("is-valid",n.isPureIntegerType(n.intervalAction.address.port)),e.Q6J("ngModel",n.intervalAction.address.port),e.xp6(8),e.ekj("is-invalid",!n.intervalAction.address.publisher)("is-valid",n.intervalAction.address.publisher),e.Q6J("ngModel",n.intervalAction.address.publisher),e.xp6(8),e.ekj("is-invalid",!n.intervalAction.address.topic)("is-valid",n.intervalAction.address.topic),e.Q6J("ngModel",n.intervalAction.address.topic),e.xp6(10),e.Q6J("ngModel",n.intervalAction.address.qos),e.xp6(7),e.Q6J("ngModel",n.intervalAction.address.keepAlive),e.xp6(5),e.Q6J("ngModel",n.intervalAction.address.retained),e.xp6(1),e.Q6J("ngValue",!1),e.xp6(2),e.Q6J("ngValue",!0),e.xp6(6),e.Q6J("ngModel",n.intervalAction.address.autoReconnect),e.xp6(1),e.Q6J("ngValue",!0),e.xp6(2),e.Q6J("ngValue",!1),e.xp6(8),e.Q6J("ngModel",n.intervalAction.address.connectTimeout),e.xp6(1),e.Udp("display","EMAIL"!==(null==n.intervalAction.address?null:n.intervalAction.address.type)?"none":""),e.xp6(9),e.Q6J("ngModel",n.addressEmailRecipients))},directives:[r._Y,r.JL,r.F,r.Fj,r.Q7,r.JJ,r.On,q,r.EJ,r.YN,r.Kr,r._,u.O5,r.wV,u.RF,u.n9,b.P],styles:[""]}),o})()},{path:"edit-interval-action",component:(()=>{class o{constructor(t,n,i,a,p){this.schedulerSvc=t,this.msgSvc=n,this.route=i,this.router=a,this.errSvc=p,this.addr_type_REST="REST",this.addr_type_MQTT="MQTT",this.addr_type_EMAIL="EMAIL",this.template_type_coredata="coredata",this.template_type_command="command",this.template_type_custom="custom",this.addressEmailRecipients="",this.templateSelected="custom",this.coredataRequestParameter="",this.coredataSvcAvailableAPI=["/api/v2/event/age/"],this.intervalAction={},this.intervalActionOrigin={},this.intervalAction.address={}}ngOnInit(){this.renderPopoverComponent(),this.route.queryParams.subscribe(t=>{t.intervalActionName&&this.schedulerSvc.findIntervalActionByName(t.intervalActionName).subscribe(n=>{this.intervalAction=JSON.parse(JSON.stringify(n.action)),this.intervalActionOrigin=JSON.parse(JSON.stringify(n.action)),this.intervalActionOrigin.adminState=""===this.intervalActionOrigin.adminState?"UNLOCKED":this.intervalActionOrigin.adminState,this.intervalAction.adminState=""===this.intervalAction.adminState?"UNLOCKED":this.intervalAction.adminState,this.addressEmailRecipients=this.intervalAction.address.recipients?this.intervalAction.address.recipients.toString():"",this.findDefaultSelectedIntervalByName(this.intervalAction.intervalName),setTimeout(()=>{this.renderPopoverComponent(),this.initDatePickr()},300)})})}initDatePickr(){let t=this;this.calendarStart=(0,A.Z)("input[name='coredataRequestParameter']",{dateFormat:"YmdTHiS",enableTime:!0,enableSeconds:!0,time_24hr:!0,allowInput:!1,onChange:function(n,i,a){t.intervalAction.address.path=t.coredataSvcAvailableAPI[0]+i}})}setActionDefaultProperties(){switch(this.intervalAction.address.type){case this.addr_type_REST:this.intervalAction.address.httpMethod="GET";break;case this.addr_type_MQTT:this.intervalAction.address.retained=!1,this.intervalAction.address.autoReconnect=!0}}findDefaultSelectedIntervalByName(t){this.schedulerSvc.findIntervalByName(t).subscribe(n=>{this.selectedIntervalDefault=n.interval})}renderPopoverComponent(){$('[data-toggle="popover"]').popover({trigger:"hover"})}renderCoredataDefaultTemplate(){this.intervalAction.address.httpMethod="DELETE",this.intervalAction.address.host="edgex-core-data",this.intervalAction.address.port=59880,this.intervalAction.address.path=this.coredataSvcAvailableAPI[0],setTimeout(()=>{this.renderPopoverComponent(),this.initDatePickr()},300)}templateToggle(t){switch(this.intervalAction=JSON.parse(JSON.stringify(this.intervalActionOrigin)),this.intervalAction.address.type=this.addr_type_REST,this.templateSelected=t,this.templateSelected){case this.template_type_coredata:this.renderCoredataDefaultTemplate();break;case this.template_type_command:this.intervalAction.address.path="",this.intervalAction.address.httpMethod="",setTimeout(()=>{this.renderPopoverComponent()},300);break;case this.template_type_custom:setTimeout(()=>{this.renderPopoverComponent()},300)}}typeToggle(t){this.intervalAction=JSON.parse(JSON.stringify(this.intervalActionOrigin)),this.intervalAction.address.type=t,this.templateSelected="custom",setTimeout(()=>{this.renderPopoverComponent()},300)}onCmdMethodSelected(t){this.intervalAction.address.httpMethod=t}onCommandSelected(t){this.intervalAction.address.path=t.path}onSingleIntervalSelected(t){this.intervalAction.intervalName=t.name}isPureIntegerType(t){return!isNaN(t)&&parseFloat(t)===parseInt(t)}validate(){let t=!0,n=this.intervalAction.name&&this.intervalAction.intervalName;switch(this.intervalAction.address.type){case this.addr_type_REST:n&&this.intervalAction.address.host&&this.isPureIntegerType(this.intervalAction.address.port)&&this.intervalAction.address.path&&this.intervalAction.address.httpMethod&&(t=!1);break;case this.addr_type_MQTT:n&&this.intervalAction.address.host&&this.isPureIntegerType(this.intervalAction.address.port)&&this.intervalAction.address.port&&this.intervalAction.address.publisher&&this.intervalAction.address.topic&&(t=!1);break;case this.addr_type_EMAIL:n&&(t=!1)}return t}save(){this.intervalAction.address.recipients=this.addressEmailRecipients.split(","),this.intervalAction.address.port=Number(this.intervalAction.address.port),this.schedulerSvc.updateIntervalAction(this.intervalAction).subscribe(()=>{this.msgSvc.success("Update interval action",`name: ${this.intervalAction.name}`),this.router.navigate(["../interval-action-list"],{relativeTo:this.route})})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(Z.G),e.Y36(d.e),e.Y36(c.gz),e.Y36(c.F0),e.Y36(s.T))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-edit-interval-action"]],decls:7,vars:2,consts:[[1,"card"],[1,"card-header"],[1,"fa","fa-edit","text-danger"],[1,"btn","btn-sm","btn-success","float-right",3,"disabled","click"],["class","card-body",4,"ngIf"],[1,"card-body"],[1,"form-group","row","has-validation"],["for","intervalActionName","required","",1,"col-md-2","col-form-label"],[1,"col-md-10"],["type","text","id","validationIntervalActionName","name","intervalActionName","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","validationIntervalActionNameFeedback",1,"invalid-feedback"],[1,"form-group","row"],["for","intervalName",1,"col-md-2","col-form-label"],["class","mb-3",4,"ngIf"],["for","adminState",1,"col-md-2","col-form-label"],["name","adminState",1,"custom-select",3,"ngModel","ngModelChange"],["value","UNLOCKED"],["value","LOCKED"],["for","Address",1,"col-md-2","col-form-label"],[1,"form-check","form-check-inline"],[1,"badge"],["type","radio","name","inlineRadioOptions","id","REST","value","REST",1,"form-check-input",3,"ngModel","ngModelChange","change"],["for","REST",1,"form-check-label"],[1,"badge",3,"click"],["type","radio","name","inlineRadioOptions","id","MQTT","value","MQTT",1,"form-check-input",3,"ngModel","ngModelChange"],["for","MQTT",1,"form-check-label"],["type","radio","name","inlineRadioOptions","id","EMAIL","value","EMAIL",1,"form-check-input",3,"ngModel","ngModelChange"],["for","EMAIL",1,"form-check-label"],["class","card-header",4,"ngIf"],[4,"ngIf"],["EMAIL",""],["for","emailRecipients",1,"col-md-2","col-form-label"],[1,"mr-2"],["role","button","data-html","false","data-animation","true","data-trigger","focus","data-toggle","popover","title","format tips","data-content","Multiple email addresses are separated by commas",1,"fa","fa-question-circle-o","fa-lg"],["type","text","id","emailRecipients","name","emailRecipients",1,"form-control",3,"ngModel","ngModelChange"],[1,"mb-3"],[3,"validate","selectedInterval","intervalSelectedEvent"],[1,"mr-2","text-primary"],["role","button","data-html","false","data-animation","true","data-trigger","focus","data-toggle","popover","title","tips","data-content","custom template will be choosed by default",1,"fa","fa-question-circle-o","fa-lg","mr-2"],["role","button",1,"badge","mr-2",3,"click"],["REST",""],[3,"ngSwitch"],[3,"ngSwitchCase"],["customTemplate",""],["coredataTemplate",""],["commandTemplate",""],["for","HttpMethod","required","",1,"col-md-2","col-form-label"],["type","text","name","httpMethod",1,"custom-select",3,"ngModel","ngModelChange"],["value","GET"],["value","POST"],["value","PUT"],["value","DELETE"],["value","PATCH"],["value","HEAD"],["value","TRACE"],["value","CONNECT"],["for","addressHostREST","required","",1,"col-md-2","col-form-label"],["type","text","id","addressHostREST","name","addressHost","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","addressHostRESTFeedback",1,"invalid-feedback"],["for","addressPortREST","required","",1,"col-md-2","col-form-label"],["type","text","id","addressPortREST","name","addressPort","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","addressPortRESTFeedback",1,"invalid-feedback"],["for","addressPath","required","",1,"col-md-2","col-form-label"],["type","text","id","addressPath","name","addressPath",1,"form-control",3,"ngModel","ngModelChange"],["for","requestBody","required","",1,"col-md-2","col-form-label"],["type","text","id","requestBody","name","requestBody",1,"form-control",3,"ngModel","ngModelChange"],["role","button","data-html","false","data-animation","true","data-trigger","focus","data-toggle","popover","title","tips","data-content","Indicates which request contentType should be used (i.e. text/html, application/json), the default is application/json if not setup",1,"fa","fa-question-circle-o","fa-lg"],["type","text","id","contentType","name","contentType",1,"form-control",3,"ngModel","ngModelChange"],["role","button","data-html","false","data-animation","true","data-trigger","focus","data-toggle","popover","title","tips","data-content","Both Host and Port fields are editable if you have a different host address !",1,"fa","fa-question-circle-o","fa-lg"],["role","button","data-html","false","data-animation","true","data-trigger","focus","data-toggle","popover","title","tips","data-content","Remove all old events (and associated readings) based on delimiting age, the parameters delimiting age will be filled up automatically when parameters field is selected!",1,"fa","fa-question-circle-o","fa-lg"],["type","text","id","addressPath","name","addressPath","disabled","",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-group"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"fa","fa-calendar"],["type","text","name","coredataRequestParameter",1,"form-control",3,"ngModel","ngModelChange"],["role","button","data-html","false","data-animation","true","data-trigger","focus","data-toggle","popover","title","tips","data-content","httpMethod field will be filled up automatically when the path field is selected! ",1,"fa","fa-question-circle-o","fa-lg"],["type","text","name","httpMethod","disabled","","required","",1,"form-control",3,"ngModel","ngModelChange"],[3,"validate","cmdMethodEvent","commandSelectedEvent"],["MQTT",""],["for","addressHost","required","",1,"col-md-2","col-form-label"],["type","text","id","addressHost","name","addressHost","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","addressHostFeedback",1,"invalid-feedback"],["for","addressPort","required","",1,"col-md-2","col-form-label"],["type","text","id","addressPort","name","addressPort","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","addressPortFeedback",1,"invalid-feedback"],["for","addressPublisher","required","",1,"col-md-2","col-form-label"],["type","text","id","addressPublisher","name","addressPublisher","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","addressPublisherFeedback",1,"invalid-feedback"],["for","addressTopic","required","",1,"col-md-2","col-form-label"],["type","text","id","addressTopic","name","addressTopic","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","addressTopicFeedback",1,"invalid-feedback"],["for","addressQoS","required","",1,"col-md-2","col-form-label"],["type","number","id","addressQoS","name","addressQoS","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","addressKeepAlive","required","",1,"col-md-2","col-form-label"],["type","number","id","addressKeepAlive","name","addressKeepAlive",1,"form-control",3,"ngModel","ngModelChange"],["for","addressRetained","required","",1,"col-md-2","col-form-label"],["type","text","id","addressRetained","name","addressRetained",1,"custom-select",3,"ngModel","ngModelChange"],["selected","",3,"ngValue"],[3,"ngValue"],["for","addressAutoReconnect","required","",1,"col-md-2","col-form-label"],["type","text","id","addressAutoReconnect","name","addressAutoReconnect",1,"custom-select",3,"ngModel","ngModelChange"],["for","addressConnectTimeout","required","",1,"col-md-2","col-form-label"],["type","number","id","addressConnectTimeout","name","addressConnectTimeout",1,"form-control",3,"ngModel","ngModelChange"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e._UZ(2,"i",2),e._uU(3," Edit Interval Action "),e.TgZ(4,"button",3),e.NdJ("click",function(){return n.save()}),e._uU(5,"Save"),e.qZA(),e.qZA(),e.YNc(6,K,59,28,"div",4),e.qZA()),2&t&&(e.xp6(4),e.Q6J("disabled",n.validate()),e.xp6(2),e.Q6J("ngIf",n.intervalAction))},directives:[u.O5,r._Y,r.JL,r.F,r.Fj,r.Q7,r.JJ,r.On,r.EJ,r.YN,r.Kr,r._,q,u.RF,u.n9,b.P,r.wV],styles:[""]}),o})()}]}]}];let G=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[c.Bz.forChild(V)],c.Bz]}),o})();var X=v(6342);let z=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[u.ez,r.u5,X.Y,G]]}),o})()},8391:(C,h,v)=>{v.d(h,{G:()=>T});var u=v(1841),r=v(5894),c=v(476),e=v(1177);let T=(()=>{class m{constructor(d,s){this.http=d,this.errorSvc=s,this.endpoint="/scheduler",this.version="/api/v2",this.urlPrefix=`${this.endpoint}${this.version}`,this.configUrl="/config",this.intervalListUrl=`${this.urlPrefix}/interval/all`,this.addOneIntervalUrl=`${this.urlPrefix}/interval`,this.updateOneIntervalUrl=`${this.urlPrefix}/interval`,this.findOneIntervalByNameUrl=`${this.urlPrefix}/interval/name/`,this.deleteOneIntervalByNameUrl=`${this.urlPrefix}/interval/name/`,this.intervalActionListUrl=`${this.urlPrefix}/intervalaction/all`,this.addOneIntervalActionUrl=`${this.urlPrefix}/intervalaction`,this.updateOneIntervaActionlUrl=`${this.urlPrefix}/intervalaction`,this.findOneIntervalActionByNameUrl=`${this.urlPrefix}/intervalaction/name/`,this.deleteOneIntervalActionByNameUrl=`${this.urlPrefix}/intervalaction/name/`,this.httpPostOrPutJSONOptions={headers:new u.WM({"Content-type":"application/json",Authorization:""})}}getConfig(){return this.http.get(`${this.urlPrefix}${this.configUrl}`).pipe((0,r.K)(s=>this.errorSvc.handleError(s)))}findAllIntervalsPagination(d,s){return this.http.get(`${this.intervalListUrl}?offset=${d}&limit=${s}`).pipe((0,r.K)(_=>this.errorSvc.handleError(_)))}addInterval(d){return this.http.post(`${this.addOneIntervalUrl}`,JSON.stringify([{apiVersion:"v2",interval:d}]),this.httpPostOrPutJSONOptions).pipe((0,r.K)(_=>this.errorSvc.handleError(_)))}updateInterval(d){return this.http.patch(`${this.updateOneIntervalUrl}`,JSON.stringify([{apiVersion:"v2",interval:d}]),this.httpPostOrPutJSONOptions).pipe((0,r.K)(_=>this.errorSvc.handleError(_)))}findIntervalByName(d){return this.http.get(`${this.findOneIntervalByNameUrl}${d}`).pipe((0,r.K)(g=>this.errorSvc.handleError(g)))}deleteIntervalByName(d){return this.http.delete(`${this.deleteOneIntervalByNameUrl}${d}`).pipe((0,r.K)(g=>this.errorSvc.handleError(g)))}findAllIntervalActionsPagination(d,s){return this.http.get(`${this.intervalActionListUrl}?offset=${d}&limit=${s}`).pipe((0,r.K)(_=>this.errorSvc.handleError(_)))}addIntervalAction(d){return this.http.post(`${this.addOneIntervalActionUrl}`,JSON.stringify([{apiVersion:"v2",action:d}]),this.httpPostOrPutJSONOptions).pipe((0,r.K)(_=>this.errorSvc.handleError(_)))}updateIntervalAction(d){return this.http.patch(`${this.updateOneIntervaActionlUrl}`,JSON.stringify([{apiVersion:"v2",action:d}]),this.httpPostOrPutJSONOptions).pipe((0,r.K)(_=>this.errorSvc.handleError(_)))}findIntervalActionByName(d){return this.http.get(`${this.findOneIntervalActionByNameUrl}${d}`).pipe((0,r.K)(g=>this.errorSvc.handleError(g)))}deleteIntervalActionByName(d){return this.http.delete(`${this.deleteOneIntervalActionByNameUrl}${d}`).pipe((0,r.K)(g=>this.errorSvc.handleError(g)))}}return m.\u0275fac=function(d){return new(d||m)(c.LFG(u.eN),c.LFG(e.T))},m.\u0275prov=c.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})()}}]);