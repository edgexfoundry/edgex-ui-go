"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[641],{7641:(v,T,g)=>{g.r(T),g.d(T,{NotificationsModule:()=>O});var m=g(8583),s=g(3092),p=g(9502),t=g(476);let A=(()=>{class a{constructor(){}ngOnInit(){}}return a.\u0275fac=function(e){return new(e||a)},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-notifications"]],decls:11,vars:0,consts:[[1,"card"],[1,"card-header"],[1,"nav","nav-tabs","card-header-tabs","font-weight-bold"],[1,"nav-item"],["routerLink","./notification-center","routerLinkActive","active",1,"nav-link"],["routerLink","./subscription-center","routerLinkActive","active",1,"nav-link"],[1,"card-body"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"ul",2),t.TgZ(3,"li",3),t.TgZ(4,"a",4),t._uU(5,"Notification"),t.qZA(),t.qZA(),t.TgZ(6,"li",3),t.TgZ(7,"a",5),t._uU(8,"Subscription"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(9,"div",6),t._UZ(10,"router-outlet"),t.qZA(),t.qZA())},directives:[p.yS,p.Od,p.lC],styles:[""]}),a})(),f=(()=>{class a{constructor(){}ngOnInit(){}}return a.\u0275fac=function(e){return new(e||a)},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-notification-center"]],decls:1,vars:0,template:function(e,i){1&e&&t._UZ(0,"router-outlet")},directives:[p.lC],styles:[""]}),a})();var b=g(9827),l=g(9744),d=g(7822);function c(a,r){if(1&a){const e=t.EpF();t.TgZ(0,"tr"),t.TgZ(1,"td"),t.TgZ(2,"input",39),t.NdJ("click",function(n){const u=t.CHM(e).$implicit;return t.oxw().selectOne(n,u)}),t.qZA(),t.qZA(),t.TgZ(3,"td",66),t._uU(4),t.qZA(),t.TgZ(5,"td",66),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.qZA(),t.TgZ(15,"td"),t._uU(16),t.qZA(),t.TgZ(17,"td"),t._uU(18),t.qZA(),t.TgZ(19,"td"),t._uU(20),t.qZA(),t.TgZ(21,"td"),t._uU(22),t.ALo(23,"date"),t.qZA(),t.TgZ(24,"td"),t._uU(25),t.ALo(26,"date"),t.qZA(),t.qZA()}if(2&a){const e=r.$implicit,i=t.oxw();t.ekj("table-active",i.isChecked(e.id)),t.xp6(2),t.Q6J("checked",i.isChecked(e.id)),t.xp6(2),t.Oqu(e.id),t.xp6(2),t.Oqu(e.category),t.xp6(2),t.Oqu(e.labels),t.xp6(2),t.Oqu(e.content),t.xp6(2),t.Oqu(e.contentType),t.xp6(2),t.Oqu(e.description),t.xp6(2),t.Oqu(e.sender),t.xp6(2),t.Oqu(e.severity),t.xp6(2),t.Oqu(e.status),t.xp6(2),t.Oqu(t.xi3(23,14,e.created,"yyyy-MM-dd hh:mm:ss")),t.xp6(3),t.Oqu(t.xi3(26,17,e.modified,"yyyy-MM-dd hh:mm:ss"))}}let h=(()=>{class a{constructor(e,i){this.notiSvc=e,this.msgSvc=i,this.notificationList=[],this.notificationSelected=[],this.pagination=1,this.pageLimit=5,this.pageOffset=(this.pagination-1)*this.pageLimit,this.categorySelected="SECURITY",this.statusSelected="NEW",this.advancedOperation=!1}ngOnInit(){$('[data-toggle="popover"]').popover({trigger:"hover"}),this.setSearchMode("status"),this.findNotificationsByStatusPagination(!0),this.initDatePickr()}initDatePickr(){this.calendarStart=(0,b.Z)("input[name='startSelected']",{dateFormat:"U",altFormat:"Y-m-d H:i:S",altInput:!0,enableTime:!0,enableSeconds:!0,time_24hr:!0,allowInput:!1,onChange:(e,i,n)=>{this.startSelected=1e3*Number(i)}}),this.calendarEnd=(0,b.Z)("input[name='endSelected']",{dateFormat:"U",altFormat:"Y-m-d H:i:S",altInput:!0,enableTime:!0,enableSeconds:!0,time_24hr:!0,allowInput:!1,onChange:(e,i,n)=>{this.endSelected=1e3*Number(i)}}),this.calendarStart=(0,b.Z)("input[name='ageCleanupAll']",{dateFormat:"U",altFormat:"Y-m-d H:i:S",altInput:!0,enableTime:!0,enableSeconds:!0,time_24hr:!0,allowInput:!1,onChange:(e,i,n)=>{this.ageCleanupAll=1e3*Number(i)}}),this.calendarEnd=(0,b.Z)("input[name='ageCleanupByStatusIsProcessed']",{dateFormat:"U",altFormat:"Y-m-d H:i:S",altInput:!0,enableTime:!0,enableSeconds:!0,time_24hr:!0,allowInput:!1,onChange:(e,i,n)=>{this.ageCleanupByStatusIsProcessed=1e3*Number(i)}})}advancedToggle(){this.advancedOperation=!this.advancedOperation}findNotificationsByCategoryPagination(e){this.notiSvc.findNotificationsByCategoryPagination(this.pageOffset,this.pageLimit,this.categorySelected).subscribe(i=>{this.notificationList=i.notifications,!e&&this.msgSvc.success("search by category")})}findNotificationsByStatusPagination(e){this.notiSvc.findNotificationsByStatusPagination(this.pageOffset,this.pageLimit,this.statusSelected).subscribe(i=>{this.notificationList=i.notifications,!e&&this.msgSvc.success("search by status")})}findNotificationsByLabelPagination(e){this.notiSvc.findNotificationsByLabelPagination(this.pageOffset,this.pageLimit,this.labelSelected).subscribe(i=>{this.notificationList=i.notifications,!e&&this.msgSvc.success("search by label")})}findNotificationsByStartEndPagination(e){console.log(this.startSelected,this.endSelected),this.notiSvc.findNotificationsByStartEndPagination(this.pageOffset,this.pageLimit,this.startSelected,this.endSelected).subscribe(i=>{this.notificationList=i.notifications,!e&&this.msgSvc.success("search by start and end")})}setSearchMode(e){this.searchMode=e}searchByStatus(){this.resetPagination(),this.setSearchMode("status"),this.findNotificationsByStatusPagination()}searchByCategory(){this.resetPagination(),this.setSearchMode("category"),this.findNotificationsByCategoryPagination()}searchByStartEnd(){this.resetPagination(),this.setSearchMode("duration"),this.findNotificationsByStartEndPagination()}deleteConfirm(e){this.cleanMode=e,$("#deleteConfirmDialog").modal("show")}cleanup(){switch(this.cleanMode){case"age":this.cleanupByAge();break;case"status":this.cleanupByAgeAndStatusIsProcessed();break;default:this.deleteSelected()}}cleanupByAge(){this.notiSvc.deleteNotificationByAgeAndStatus(this.ageCleanupAll).subscribe(()=>{this.msgSvc.success("cleanup by age")}),$("#deleteConfirmDialog").modal("hide")}cleanupByAgeAndStatusIsProcessed(){this.notiSvc.deleteNotificationByAgeAndStatus(this.ageCleanupByStatusIsProcessed).subscribe(()=>{this.msgSvc.success("cleanup by age when status is processed")}),$("#deleteConfirmDialog").modal("hide")}deleteSelected(){this.notificationSelected.forEach(e=>{this.notiSvc.deleteNotificationById(e.id).subscribe(()=>{this.msgSvc.success("delete",`ID: ${e.id}`)})}),$("#deleteConfirmDialog").modal("hide")}isCheckedAll(){let e=!0;return this.notificationList&&0===this.notificationList.length&&(e=!1),this.notificationList.forEach(i=>{-1===this.notificationSelected.findIndex(n=>n.id===i.id)&&(e=!1)}),e}selectAll(e){this.notificationList.forEach(e.target.checked?n=>{-1===this.notificationSelected.findIndex(o=>o.id===n.id)&&this.notificationSelected.push(n)}:n=>{let o=this.notificationSelected.findIndex(u=>u.id===n.id);-1!==o&&this.notificationSelected.splice(o,1)})}isChecked(e){return this.notificationSelected.findIndex(i=>i.id===e)>=0}selectOne(e,i){if(e.target.checked)return void this.notificationSelected.push(i);let o=this.notificationSelected.findIndex(u=>u.id===i.id);-1!==o&&this.notificationSelected.splice(o,1)}paginationBySearchMode(){switch(this.searchMode){case"status":this.findNotificationsByStatusPagination(!0);break;case"category":this.findNotificationsByCategoryPagination(!0);break;case"duration":this.findNotificationsByStartEndPagination(!0)}}onPageSelected(){this.resetPagination(),this.paginationBySearchMode()}prePage(){this.setPagination(-1),this.paginationBySearchMode()}nextPage(){this.setPagination(1),this.paginationBySearchMode()}setPagination(e){1===e?this.pagination+=1:-1===e&&(this.pagination-=1),this.pageOffset=(this.pagination-1)*this.pageLimit}resetPagination(){this.pagination=1,this.setPagination()}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(l.T),t.Y36(d.e))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-notification-list"]],decls:151,vars:11,consts:[[1,"card"],[1,"card-header"],[1,"fa","fa-list","text-danger"],[1,"fa","fa-info-circle","text-success","font-weight-bold","ml-1"],[1,"bg-light","card-header","p-0"],[1,"px-2","py-2"],["role","group",1,"btn-group","btn-group-sm"],["type","button",1,"btn","btn-danger",3,"disabled","click"],[1,"fa","fa-trash","mr-1"],["role","button",1,"text-primary","ml-3","text-decoration-none",3,"click"],[1,"fa","fa-angle-double-right","ml-1"],[1,"bg-light","card-header","p-0",3,"hidden"],[1,"form-group","row"],[1,"col-md-10"],[1,"input-group",2,"width","600px"],[1,"input-group-prepend"],[1,"input-group-text"],["name","statusSelected",1,"custom-select",3,"ngModel","ngModelChange"],["value","NEW"],["value","PROCESSED"],["value","ESCALATED"],["role","button",1,"input-group-append",3,"click"],[1,"fa","fa-search"],[1,"fa","fa-calendar"],["type","text","name","startSelected",1,"form-control"],["type","text","name","endSelected",1,"form-control"],[1,"input-group-append"],["type","button",1,"btn","btn-secondary",3,"disabled","click"],["role","button","data-html","true","data-animation","true","data-trigger","focus","data-toggle","popover","title","tips","data-content","Deletes notifications which have age and is less than the specified one, where the age of Notification is calculated by subtracting its last modification timestamp from the current timestamp. Note that the corresponding transmissions will also be deleted.",1,"fa","fa-question-circle-o","fa-lg"],["type","text","name","ageCleanupAll",1,"form-control"],[1,"fa","fa-trash-o"],["role","button","data-html","true","data-animation","true","data-trigger","focus","data-toggle","popover","title","tips","data-content","Deletes the processed notifications if the current timestamp minus their last modification timestamp is less than the age parameter, and the corresponding transmissions will also be deleted. Please notice that this API is only for processed notifications (status = PROCESSED). If the deletion purpose includes each kind of notifications, please refer to cleanupAll.",1,"fa","fa-question-circle-o","fa-lg"],["type","text","name","ageCleanupByStatusIsProcessed",1,"form-control"],["type","button",1,"btn","btn-danger","font-weight-bold",3,"disabled","click"],[1,"card-body","p-0","position-relative"],[1,"table-responsive"],[1,"table","table-hover","text-truncate"],[1,"thead-light"],["scope","col"],["type","checkbox","role","button",3,"checked","click"],[3,"table-active",4,"ngFor","ngForOf"],[1,"card-footer","text-muted","p-1"],["aria-label","navigation"],[1,"pagination","justify-content-end","m-0"],[1,"page-item","mr-2","mt-1"],[1,"align-middle"],[1,"page-item","mr-2"],["name","pageLimit","id","pageLimit",1,"custom-select",3,"ngModel","ngModelChange"],["value","5"],["value","10"],["value","20"],[1,"page-item","mr-1"],[1,"page-link","btn",3,"disabled","click"],[1,"fa","fa-angle-double-left"],[1,"page-item"],[1,"fa","fa-angle-double-right"],["id","deleteConfirmDialog","data-backdrop","static","data-keyboard","false","tabindex","-1","aria-labelledby","deleteConfirmDialogLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","deleteConfirmDialogLabel",1,"modal-title","text-danger"],[1,"fa","fa-warning"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],["type","button",1,"btn","btn-danger",3,"click"],[1,"user-select-all"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t._UZ(2,"i",2),t._uU(3," Notification List "),t.TgZ(4,"span",3),t._uU(5,"\xa0The data loaded by default takes the value of status as NEW"),t.qZA(),t.qZA(),t.TgZ(6,"div",4),t.TgZ(7,"div",5),t.TgZ(8,"div",6),t.TgZ(9,"button",7),t.NdJ("click",function(){return i.deleteConfirm()}),t.TgZ(10,"span"),t._UZ(11,"i",8),t._uU(12,"Delete"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(13,"a",9),t.NdJ("click",function(){return i.advancedToggle()}),t.TgZ(14,"span"),t._uU(15,"Advanced"),t._UZ(16,"i",10),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(17,"div",11),t.TgZ(18,"div",5),t.TgZ(19,"form"),t.TgZ(20,"div",12),t.TgZ(21,"div",13),t.TgZ(22,"div",14),t.TgZ(23,"div",15),t.TgZ(24,"span",16),t._uU(25,"Status"),t.qZA(),t.qZA(),t.TgZ(26,"select",17),t.NdJ("ngModelChange",function(o){return i.statusSelected=o}),t.TgZ(27,"option",18),t._uU(28,"NEW"),t.qZA(),t.TgZ(29,"option",19),t._uU(30,"PROCESSED"),t.qZA(),t.TgZ(31,"option",20),t._uU(32,"ESCALATED"),t.qZA(),t.qZA(),t.TgZ(33,"div",21),t.NdJ("click",function(){return i.searchByStatus()}),t.TgZ(34,"span",16),t._UZ(35,"i",22),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(36,"div",12),t.TgZ(37,"div",13),t.TgZ(38,"div",14),t.TgZ(39,"div",15),t.TgZ(40,"span",16),t._uU(41,"Start"),t.qZA(),t.qZA(),t.TgZ(42,"div",15),t.TgZ(43,"span",16),t._UZ(44,"i",23),t.qZA(),t.qZA(),t._UZ(45,"input",24),t.TgZ(46,"div",15),t.TgZ(47,"span",16),t._uU(48,"End"),t.qZA(),t.qZA(),t.TgZ(49,"div",15),t.TgZ(50,"span",16),t._UZ(51,"i",23),t.qZA(),t.qZA(),t._UZ(52,"input",25),t.TgZ(53,"div",26),t.TgZ(54,"button",27),t.NdJ("click",function(){return i.searchByStartEnd()}),t._UZ(55,"i",22),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(56,"div",12),t.TgZ(57,"div",13),t.TgZ(58,"div",14),t.TgZ(59,"div",15),t.TgZ(60,"span",16),t._uU(61,"CleanupByAge\xa0 "),t._UZ(62,"span",28),t.qZA(),t.qZA(),t.TgZ(63,"div",15),t.TgZ(64,"span",16),t._UZ(65,"i",23),t.qZA(),t.qZA(),t._UZ(66,"input",29),t.TgZ(67,"div",26),t.TgZ(68,"button",7),t.NdJ("click",function(){return i.deleteConfirm("age")}),t._UZ(69,"i",30),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(70,"div",12),t.TgZ(71,"div",13),t.TgZ(72,"div",14),t.TgZ(73,"div",15),t.TgZ(74,"span",16),t._uU(75,"Cleanup\xa0 "),t._UZ(76,"span",31),t.qZA(),t.qZA(),t.TgZ(77,"div",15),t.TgZ(78,"span",16),t._UZ(79,"i",23),t.qZA(),t.qZA(),t._UZ(80,"input",32),t.TgZ(81,"div",26),t.TgZ(82,"button",33),t.NdJ("click",function(){return i.deleteConfirm("status")}),t._UZ(83,"i",30),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(84,"div",34),t.TgZ(85,"div",35),t.TgZ(86,"table",36),t.TgZ(87,"thead",37),t.TgZ(88,"tr"),t.TgZ(89,"th",38),t.TgZ(90,"input",39),t.NdJ("click",function(o){return i.selectAll(o)}),t.qZA(),t.qZA(),t.TgZ(91,"th",38),t._uU(92,"ID"),t.qZA(),t.TgZ(93,"th",38),t._uU(94,"Category"),t.qZA(),t.TgZ(95,"th",38),t._uU(96,"Labels"),t.qZA(),t.TgZ(97,"th",38),t._uU(98,"Content"),t.qZA(),t.TgZ(99,"th",38),t._uU(100,"ContentType"),t.qZA(),t.TgZ(101,"th",38),t._uU(102,"Description"),t.qZA(),t.TgZ(103,"th",38),t._uU(104,"Sender"),t.qZA(),t.TgZ(105,"th",38),t._uU(106,"Severity"),t.qZA(),t.TgZ(107,"th",38),t._uU(108,"Status"),t.qZA(),t.TgZ(109,"th",38),t._uU(110,"Created"),t.qZA(),t.TgZ(111,"th",38),t._uU(112,"Modified"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(113,"tbody"),t.YNc(114,c,27,20,"tr",40),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(115,"div",41),t.TgZ(116,"nav",42),t.TgZ(117,"ul",43),t.TgZ(118,"li",44),t.TgZ(119,"span",45),t._uU(120,"items per page"),t.qZA(),t.qZA(),t.TgZ(121,"li",46),t.TgZ(122,"select",47),t.NdJ("ngModelChange",function(o){return i.pageLimit=o})("ngModelChange",function(){return i.onPageSelected()}),t.TgZ(123,"option",48),t._uU(124,"5"),t.qZA(),t.TgZ(125,"option",49),t._uU(126,"10"),t.qZA(),t.TgZ(127,"option",50),t._uU(128,"20"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(129,"li",51),t.TgZ(130,"button",52),t.NdJ("click",function(){return i.prePage()}),t._UZ(131,"i",53),t._uU(132," Previous"),t.qZA(),t.qZA(),t.TgZ(133,"li",54),t.TgZ(134,"button",52),t.NdJ("click",function(){return i.nextPage()}),t._uU(135,"Next "),t._UZ(136,"i",55),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(137,"div",56),t.TgZ(138,"div",57),t.TgZ(139,"div",58),t.TgZ(140,"div",59),t.TgZ(141,"h5",60),t._UZ(142,"i",61),t._uU(143," Warning "),t.qZA(),t.qZA(),t.TgZ(144,"div",62),t._uU(145," The data will be permanently erased!!! Are you sure to execute delete operation\uff1f "),t.qZA(),t.TgZ(146,"div",63),t.TgZ(147,"button",64),t._uU(148,"Cancel"),t.qZA(),t.TgZ(149,"button",65),t.NdJ("click",function(){return i.cleanup()}),t._uU(150,"Confirm"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(9),t.Q6J("disabled",0===i.notificationSelected.length),t.xp6(8),t.Q6J("hidden",!i.advancedOperation),t.xp6(9),t.Q6J("ngModel",i.statusSelected),t.xp6(28),t.Q6J("disabled",!i.startSelected||!i.endSelected),t.xp6(14),t.Q6J("disabled",!i.ageCleanupAll),t.xp6(14),t.Q6J("disabled",!i.ageCleanupByStatusIsProcessed),t.xp6(8),t.Q6J("checked",i.isCheckedAll()),t.xp6(24),t.Q6J("ngForOf",i.notificationList),t.xp6(8),t.Q6J("ngModel",i.pageLimit),t.xp6(8),t.Q6J("disabled",1===i.pagination),t.xp6(4),t.Q6J("disabled",i.pageLimit>i.notificationList.length))},directives:[s._Y,s.JL,s.F,s.EJ,s.JJ,s.On,s.YN,s.Kr,m.sg],pipes:[m.uU],styles:[".btn[disabled][_ngcontent-%COMP%]:hover{cursor:not-allowed}"]}),a})(),Z=(()=>{class a{constructor(){}ngOnInit(){}}return a.\u0275fac=function(e){return new(e||a)},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-subscription-center"]],decls:1,vars:0,template:function(e,i){1&e&&t._UZ(0,"router-outlet")},directives:[p.lC],styles:[""]}),a})();var _=g(1177);function q(a,r){if(1&a){const e=t.EpF();t.TgZ(0,"tr"),t.TgZ(1,"td"),t.TgZ(2,"input",18),t.NdJ("click",function(n){const u=t.CHM(e).$implicit;return t.oxw().selectOne(n,u)}),t.qZA(),t.qZA(),t.TgZ(3,"td",45),t._uU(4),t.qZA(),t.TgZ(5,"td",45),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td",46),t.TgZ(14,"span",47),t.NdJ("click",function(){const o=t.CHM(e).$implicit;return t.oxw().checkChannels(o)}),t._UZ(15,"i",48),t._uU(16),t.qZA(),t.qZA(),t.TgZ(17,"td"),t._uU(18),t.qZA(),t.TgZ(19,"td"),t._uU(20),t.qZA(),t.TgZ(21,"td"),t._uU(22),t.qZA(),t.qZA()}if(2&a){const e=r.$implicit,i=t.oxw();t.ekj("table-active",i.isChecked(e.name)),t.xp6(2),t.Q6J("checked",i.isChecked(e.name)),t.xp6(2),t.Oqu(e.id),t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Oqu(e.description),t.xp6(2),t.Oqu(e.categories),t.xp6(2),t.Oqu(e.labels),t.xp6(4),t.hij(" ",e.channels.length," "),t.xp6(2),t.Oqu(e.receiver),t.xp6(2),t.Oqu(e.resendLimit),t.xp6(2),t.Oqu(e.resendInterval)}}function S(a,r){if(1&a&&t._UZ(0,"span",40),2&a){const e=t.oxw();t.ekj("text-danger",0===e.channelTemplates.length)}}function y(a,r){if(1&a){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"form"),t.TgZ(2,"div",10),t.TgZ(3,"label",43),t.TgZ(4,"span",12),t._uU(5,"EmailRecipients"),t.qZA(),t._UZ(6,"span",44),t.qZA(),t.TgZ(7,"div",7),t.TgZ(8,"input",45),t.NdJ("ngModelChange",function(n){return t.CHM(e),t.oxw().$implicit.recipients=n}),t.qZA(),t.TgZ(9,"div",46),t.TgZ(10,"small"),t._uU(11,"the email address port can't be empty"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(12,"button",47),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit;return t.oxw().removeChannelTemplate(n)}),t._UZ(13,"i",48),t._uU(14," Remove"),t.qZA(),t.qZA()}if(2&a){const e=t.oxw().$implicit;t.xp6(8),t.ekj("is-invalid",!e.recipients)("is-valid",e.recipients),t.Q6J("ngModel",e.recipients)}}function U(a,r){if(1&a){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"form"),t.TgZ(2,"div",10),t.TgZ(3,"label",49),t._uU(4,"HttpMethod"),t.qZA(),t.TgZ(5,"div",7),t.TgZ(6,"select",50),t.NdJ("ngModelChange",function(n){return t.CHM(e),t.oxw().$implicit.httpMethod=n}),t.TgZ(7,"option",51),t._uU(8,"GET"),t.qZA(),t.TgZ(9,"option",52),t._uU(10,"POST"),t.qZA(),t.TgZ(11,"option",53),t._uU(12,"PUT"),t.qZA(),t.TgZ(13,"option",54),t._uU(14,"DELETE"),t.qZA(),t.TgZ(15,"option",55),t._uU(16,"PATCH"),t.qZA(),t.TgZ(17,"option",56),t._uU(18,"HEAD"),t.qZA(),t.TgZ(19,"option",57),t._uU(20,"TRACE"),t.qZA(),t.TgZ(21,"option",58),t._uU(22,"CONNECT"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(23,"div",5),t.TgZ(24,"label",59),t._uU(25,"Host"),t.qZA(),t.TgZ(26,"div",7),t.TgZ(27,"input",60),t.NdJ("ngModelChange",function(n){return t.CHM(e),t.oxw().$implicit.host=n}),t.qZA(),t.TgZ(28,"div",61),t.TgZ(29,"small"),t._uU(30,"the REST address host can't be empty!"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(31,"div",5),t.TgZ(32,"label",62),t._uU(33,"Port"),t.qZA(),t.TgZ(34,"div",7),t.TgZ(35,"input",63),t.NdJ("ngModelChange",function(n){return t.CHM(e),t.oxw().$implicit.port=n}),t.qZA(),t.TgZ(36,"div",64),t.TgZ(37,"small"),t._uU(38,"the REST address port can't be empty and only pure integer is supported!"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(39,"div",10),t.TgZ(40,"label",65),t._uU(41,"Path"),t.qZA(),t.TgZ(42,"div",7),t.TgZ(43,"input",66),t.NdJ("ngModelChange",function(n){return t.CHM(e),t.oxw().$implicit.path=n}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(44,"button",47),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit;return t.oxw().removeChannelTemplate(n)}),t._UZ(45,"i",48),t._uU(46," Remove"),t.qZA(),t.qZA()}if(2&a){const e=t.oxw().$implicit,i=t.oxw();t.xp6(6),t.Q6J("ngModel",e.httpMethod),t.xp6(21),t.ekj("is-invalid",!e.host)("is-valid",e.host),t.Q6J("ngModel",e.host),t.xp6(8),t.ekj("is-invalid",!i.isPureIntegerType(e.port))("is-valid",i.isPureIntegerType(e.port)),t.Q6J("ngModel",e.port),t.xp6(8),t.Q6J("ngModel",e.path)}}function M(a,r){if(1&a&&(t.TgZ(0,"div",41),t.TgZ(1,"div",4),t.YNc(2,y,15,5,"div",42),t.YNc(3,U,47,12,"div",42),t.qZA(),t.qZA()),2&a){const e=r.$implicit;t.xp6(2),t.Q6J("ngIf","EMAIL"===e.type),t.xp6(1),t.Q6J("ngIf","REST"===e.type)}}function E(a,r){if(1&a&&t._UZ(0,"span",40),2&a){const e=t.oxw();t.ekj("text-danger",0===e.channelTemplates.length)}}function L(a,r){if(1&a){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"form"),t.TgZ(2,"div",10),t.TgZ(3,"label",43),t.TgZ(4,"span",12),t._uU(5,"EmailRecipients"),t.qZA(),t._UZ(6,"span",44),t.qZA(),t.TgZ(7,"div",7),t.TgZ(8,"input",45),t.NdJ("ngModelChange",function(n){return t.CHM(e),t.oxw().$implicit.recipients=n}),t.qZA(),t.TgZ(9,"div",46),t.TgZ(10,"small"),t._uU(11,"the email address port can't be empty"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(12,"button",47),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit;return t.oxw().removeChannelTemplate(n)}),t._UZ(13,"i",48),t._uU(14," Remove"),t.qZA(),t.qZA()}if(2&a){const e=t.oxw().$implicit;t.xp6(8),t.ekj("is-invalid",!e.recipients)("is-valid",e.recipients),t.Q6J("ngModel",e.recipients)}}function k(a,r){if(1&a){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"form"),t.TgZ(2,"div",10),t.TgZ(3,"label",49),t._uU(4,"HttpMethod"),t.qZA(),t.TgZ(5,"div",7),t.TgZ(6,"select",50),t.NdJ("ngModelChange",function(n){return t.CHM(e),t.oxw().$implicit.httpMethod=n}),t.TgZ(7,"option",51),t._uU(8,"GET"),t.qZA(),t.TgZ(9,"option",52),t._uU(10,"POST"),t.qZA(),t.TgZ(11,"option",53),t._uU(12,"PUT"),t.qZA(),t.TgZ(13,"option",54),t._uU(14,"DELETE"),t.qZA(),t.TgZ(15,"option",55),t._uU(16,"PATCH"),t.qZA(),t.TgZ(17,"option",56),t._uU(18,"HEAD"),t.qZA(),t.TgZ(19,"option",57),t._uU(20,"TRACE"),t.qZA(),t.TgZ(21,"option",58),t._uU(22,"CONNECT"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(23,"div",5),t.TgZ(24,"label",59),t._uU(25,"Host"),t.qZA(),t.TgZ(26,"div",7),t.TgZ(27,"input",60),t.NdJ("ngModelChange",function(n){return t.CHM(e),t.oxw().$implicit.host=n}),t.qZA(),t.TgZ(28,"div",61),t.TgZ(29,"small"),t._uU(30,"the REST address host can't be empty!"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(31,"div",5),t.TgZ(32,"label",62),t._uU(33,"Port"),t.qZA(),t.TgZ(34,"div",7),t.TgZ(35,"input",63),t.NdJ("ngModelChange",function(n){return t.CHM(e),t.oxw().$implicit.port=n}),t.qZA(),t.TgZ(36,"div",64),t.TgZ(37,"small"),t._uU(38,"the REST address port can't be empty and only pure integer is supported!"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(39,"div",10),t.TgZ(40,"label",65),t._uU(41,"Path"),t.qZA(),t.TgZ(42,"div",7),t.TgZ(43,"input",66),t.NdJ("ngModelChange",function(n){return t.CHM(e),t.oxw().$implicit.path=n}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(44,"button",47),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit;return t.oxw().removeChannelTemplate(n)}),t._UZ(45,"i",48),t._uU(46," Remove"),t.qZA(),t.qZA()}if(2&a){const e=t.oxw().$implicit,i=t.oxw();t.xp6(6),t.Q6J("ngModel",e.httpMethod),t.xp6(21),t.ekj("is-invalid",!e.host)("is-valid",e.host),t.Q6J("ngModel",e.host),t.xp6(8),t.ekj("is-invalid",!i.isPureIntegerType(e.port))("is-valid",i.isPureIntegerType(e.port)),t.Q6J("ngModel",e.port),t.xp6(8),t.Q6J("ngModel",e.path)}}function x(a,r){if(1&a&&(t.TgZ(0,"div",41),t.TgZ(1,"div",4),t.YNc(2,L,15,5,"div",42),t.YNc(3,k,47,12,"div",42),t.qZA(),t.qZA()),2&a){const e=r.$implicit;t.xp6(2),t.Q6J("ngIf","EMAIL"===e.type),t.xp6(1),t.Q6J("ngIf","REST"===e.type)}}const P=[{path:"",component:A,children:[{path:"",redirectTo:"notification-center",pathMatch:"full"},{path:"notification-center",component:f,children:[{path:"",component:h}]},{path:"subscription-center",component:Z,children:[{path:"",redirectTo:"subscription-list",pathMatch:"full"},{path:"subscription-list",component:(()=>{class a{constructor(e,i,n,o,u){this.notiSvc=e,this.msgSvc=i,this.route=n,this.router=o,this.errSvc=u,this.subscriptionList=[],this.subscriptionSelected=[],this.pagination=1,this.pageLimit=5,this.pageOffset=(this.pagination-1)*this.pageLimit}ngOnInit(){this.findAllSubscriptionsPagination()}refresh(){this.notiSvc.findAllSubscriptionPagination(this.pageOffset,this.pageLimit).subscribe(e=>{this.subscriptionList=e.subscriptions,this.msgSvc.success("refresh")})}findAllSubscriptionsPagination(){this.notiSvc.findAllSubscriptionPagination(this.pageOffset,this.pageLimit).subscribe(e=>{this.subscriptionList=e.subscriptions})}checkChannels(e){this.router.navigate(["../edit-subscription"],{relativeTo:this.route,queryParams:{subName:e.name}})}isCheckedAll(){let e=!0;return this.subscriptionList&&0===this.subscriptionList.length&&(e=!1),this.subscriptionList.forEach(i=>{-1===this.subscriptionSelected.findIndex(n=>n.id===i.id)&&(e=!1)}),e}selectAll(e){this.subscriptionList.forEach(e.target.checked?n=>{-1===this.subscriptionSelected.findIndex(o=>o.name===n.name)&&this.subscriptionSelected.push(n)}:n=>{let o=this.subscriptionSelected.findIndex(u=>u.name===n.name);-1!==o&&this.subscriptionSelected.splice(o,1)})}isChecked(e){return this.subscriptionSelected.findIndex(i=>i.name===e)>=0}selectOne(e,i){if(e.target.checked)return void this.subscriptionSelected.push(i);let o=this.subscriptionSelected.findIndex(u=>u.name===i.name);-1!==o&&this.subscriptionSelected.splice(o,1)}edit(){this.router.navigate(["../edit-subscription"],{relativeTo:this.route,queryParams:{subName:this.subscriptionSelected[0].name}})}deleteConfirm(){$("#deleteConfirmDialog").modal("show")}deleteSubs(){this.subscriptionSelected.forEach(e=>{this.notiSvc.deleteOneSubscriptionByName(e.name).subscribe(i=>{this.errSvc.handleErrorForV2API(i)||(this.subscriptionList.forEach((n,o)=>{n.name!==e.name||this.subscriptionList.splice(o,1)}),this.msgSvc.success("delete",`name: ${e.name}`),this.resetPagination(),this.findAllSubscriptionsPagination())})}),$("#deleteConfirmDialog").modal("hide")}onPageSelected(){this.resetPagination(),this.setPagination(),this.findAllSubscriptionsPagination()}prePage(){this.setPagination(-1),this.findAllSubscriptionsPagination()}nextPage(){this.setPagination(1),this.findAllSubscriptionsPagination()}setPagination(e){1===e?this.pagination+=1:-1===e&&(this.pagination-=1),this.pageOffset=(this.pagination-1)*this.pageLimit}resetPagination(){this.pagination=1}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(l.T),t.Y36(d.e),t.Y36(p.gz),t.Y36(p.F0),t.Y36(_.T))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-subscription-list"]],decls:85,vars:7,consts:[[1,"card"],[1,"card-header"],[1,"fa","fa-list","text-danger"],[1,"card-body","p-0","position-relative"],[1,"bg-light","px-2","py-2"],["role","group",1,"btn-group","btn-group-sm"],[1,"btn","btn-primary",3,"click"],[1,"fa","fa-refresh","mr-1"],["type","button","routerLink","../add-subscription",1,"btn","btn-info"],[1,"fa","fa-plus","mr-1"],["type","button",1,"btn","btn-success",3,"disabled","click"],[1,"fa","fa-edit","mr-1"],["type","button",1,"btn","btn-danger",3,"disabled","click"],[1,"fa","fa-trash","mr-1"],[1,"table-responsive"],[1,"table","table-hover","text-truncate"],[1,"thead-light"],["scope","col"],["type","checkbox","role","button",3,"checked","click"],[3,"table-active",4,"ngFor","ngForOf"],[1,"card-footer","text-muted","p-1"],["aria-label","navigation"],[1,"pagination","justify-content-end","m-0"],[1,"page-item","mr-2","mt-1"],[1,"align-middle"],[1,"page-item","mr-2"],["name","pageLimit","id","pageLimit",1,"custom-select",3,"ngModel","ngModelChange"],["value","5"],["value","10"],["value","20"],[1,"page-item","mr-1"],[1,"page-link","btn",3,"disabled","click"],[1,"fa","fa-angle-double-left"],[1,"page-item"],[1,"fa","fa-angle-double-right"],["id","deleteConfirmDialog","data-backdrop","static","data-keyboard","false","tabindex","-1","aria-labelledby","deleteConfirmDialogLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","deleteConfirmDialogLabel",1,"modal-title","text-danger"],[1,"fa","fa-warning"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],["type","button",1,"btn","btn-danger",3,"click"],[1,"user-select-all"],[1,"text-center"],["role","button",1,"badge","badge-primary","text-light",3,"click"],[1,"fa","fa-paper-plane-o"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t._UZ(2,"i",2),t._uU(3," Subscription List "),t.qZA(),t.TgZ(4,"div",3),t.TgZ(5,"div",4),t.TgZ(6,"div",5),t.TgZ(7,"button",6),t.NdJ("click",function(){return i.refresh()}),t.TgZ(8,"span"),t._UZ(9,"i",7),t._uU(10,"Refresh"),t.qZA(),t.qZA(),t.TgZ(11,"button",8),t.TgZ(12,"span"),t._UZ(13,"i",9),t._uU(14,"Add"),t.qZA(),t.qZA(),t.TgZ(15,"button",10),t.NdJ("click",function(){return i.edit()}),t.TgZ(16,"span"),t._UZ(17,"i",11),t._uU(18,"Edit"),t.qZA(),t.qZA(),t.TgZ(19,"button",12),t.NdJ("click",function(){return i.deleteConfirm()}),t.TgZ(20,"span"),t._UZ(21,"i",13),t._uU(22,"Delete"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(23,"div",14),t.TgZ(24,"table",15),t.TgZ(25,"thead",16),t.TgZ(26,"tr"),t.TgZ(27,"th",17),t.TgZ(28,"input",18),t.NdJ("click",function(o){return i.selectAll(o)}),t.qZA(),t.qZA(),t.TgZ(29,"th",17),t._uU(30,"ID"),t.qZA(),t.TgZ(31,"th",17),t._uU(32,"Name"),t.qZA(),t.TgZ(33,"th",17),t._uU(34,"Description"),t.qZA(),t.TgZ(35,"th",17),t._uU(36,"Categories"),t.qZA(),t.TgZ(37,"th",17),t._uU(38,"Labels"),t.qZA(),t.TgZ(39,"th",17),t._uU(40,"Channels"),t.qZA(),t.TgZ(41,"th",17),t._uU(42,"Receiver"),t.qZA(),t.TgZ(43,"th",17),t._uU(44,"ResendLimit"),t.qZA(),t.TgZ(45,"th",17),t._uU(46,"ResendInterval"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(47,"tbody"),t.YNc(48,q,23,12,"tr",19),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(49,"div",20),t.TgZ(50,"nav",21),t.TgZ(51,"ul",22),t.TgZ(52,"li",23),t.TgZ(53,"span",24),t._uU(54,"items per page"),t.qZA(),t.qZA(),t.TgZ(55,"li",25),t.TgZ(56,"select",26),t.NdJ("ngModelChange",function(o){return i.pageLimit=o})("ngModelChange",function(){return i.onPageSelected()}),t.TgZ(57,"option",27),t._uU(58,"5"),t.qZA(),t.TgZ(59,"option",28),t._uU(60,"10"),t.qZA(),t.TgZ(61,"option",29),t._uU(62,"20"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(63,"li",30),t.TgZ(64,"button",31),t.NdJ("click",function(){return i.prePage()}),t._UZ(65,"i",32),t._uU(66," Previous"),t.qZA(),t.qZA(),t.TgZ(67,"li",33),t.TgZ(68,"button",31),t.NdJ("click",function(){return i.nextPage()}),t._uU(69,"Next "),t._UZ(70,"i",34),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(71,"div",35),t.TgZ(72,"div",36),t.TgZ(73,"div",37),t.TgZ(74,"div",38),t.TgZ(75,"h5",39),t._UZ(76,"i",40),t._uU(77," Warning "),t.qZA(),t.qZA(),t.TgZ(78,"div",41),t._uU(79," The data will be permanently erased!!! Are you sure to execute delete operation\uff1f "),t.qZA(),t.TgZ(80,"div",42),t.TgZ(81,"button",43),t._uU(82,"Cancel"),t.qZA(),t.TgZ(83,"button",44),t.NdJ("click",function(){return i.deleteSubs()}),t._uU(84,"Confirm"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(15),t.Q6J("disabled",1!==i.subscriptionSelected.length),t.xp6(4),t.Q6J("disabled",0===i.subscriptionSelected.length),t.xp6(9),t.Q6J("checked",i.isCheckedAll()),t.xp6(20),t.Q6J("ngForOf",i.subscriptionList),t.xp6(8),t.Q6J("ngModel",i.pageLimit),t.xp6(8),t.Q6J("disabled",1===i.pagination),t.xp6(4),t.Q6J("disabled",i.pageLimit>i.subscriptionList.length))},directives:[p.rH,m.sg,s.EJ,s.JJ,s.On,s.YN,s.Kr],styles:[""]}),a})()},{path:"add-subscription",component:(()=>{class a{constructor(e,i,n,o,u){this.notiSvc=e,this.msgSvc=i,this.errSvc=n,this.route=o,this.router=u,this.channelTemplates=[],this.subCategories="",this.subLabels="",this.subscription={adminState:"UNLOCKED"}}ngOnInit(){this.renderPopoverComponent()}renderPopoverComponent(){setTimeout(()=>{$('[data-toggle="popover"]').popover({trigger:"hover"})},150)}submit(){this.subscription.categories=this.subCategories.split(","),this.subscription.labels=this.subLabels.split(","),this.channelTemplates.forEach((e,i)=>{if("EMAIL"===e.type){let n=e.recipients.toString();e.recipients=n.split(",")}}),this.subscription.channels=this.channelTemplates,this.notiSvc.addOneSubscription(this.subscription).subscribe(e=>{this.errSvc.handleErrorForV2API(e)||(this.msgSvc.success("Add new subscription",`Name: ${this.subscription.name}`),this.router.navigate(["../subscription-list"],{relativeTo:this.route}))})}addChannelTemplate(e){switch(e){case"REST":this.addRESTAddr();break;case"EMAIL":this.addEMAILAddr()}}removeChannelTemplate(e){let i=this.channelTemplates.indexOf(e);-1!==i&&(this.channelTemplates.splice(i,1),this.renderPopoverComponent())}addRESTAddr(){this.channelTemplates.push({type:"REST",httpMethod:"GET"}),this.renderPopoverComponent()}addEMAILAddr(){this.channelTemplates.push({type:"EMAIL"}),this.renderPopoverComponent()}isPureIntegerType(e){return!isNaN(e)&&parseFloat(e)===parseInt(e)}validate(){let e=!1;return 0!==this.channelTemplates.length&&this.channelTemplates.forEach((i,n)=>{("REST"!==i.type||""!==i.path&&i.port)&&("EMAIL"!==i.type||i.recipients)||(e=!0)}),!(!e&&this.subscription.name&&this.subCategories&&this.subLabels&&this.subscription.receiver&&0!==this.channelTemplates.length)}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(l.T),t.Y36(d.e),t.Y36(_.T),t.Y36(p.gz),t.Y36(p.F0))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-add-subscription"]],decls:90,vars:30,consts:[[1,"card"],[1,"card-header"],[1,"fa","fa-plus","text-danger","mr-2"],[1,"btn","btn-sm","btn-success","float-right",3,"disabled","click"],[1,"card-body"],[1,"form-group","row","has-validation"],["for","subscriptionName","required","",1,"col-md-2","col-form-label"],[1,"col-md-10"],["type","text","id","validationSubscriptionName","name","subscriptionName","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","validationSubscriptionNameFeedback",1,"invalid-feedback"],[1,"form-group","row"],["for","subscriptionStart",1,"col-md-2","col-form-label"],[1,"mr-2"],["role","button","data-html","true","data-animation","true","data-trigger","focus","data-toggle","popover","title","format tips","data-content","Links the subscription to one or more categories of notification. Multiple categories are separated by commas, such as: xxx,yyy,zzz",1,"fa","fa-question-circle-o","fa-lg"],[1,"input-group","mb-3"],["type","text","name","subscriptionStart","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","subscriptionLabels",1,"col-md-2","col-form-label"],["role","button","data-html","true","data-animation","true","data-trigger","focus","data-toggle","popover","title","format tips","data-content","Arbitrary labels that can be applied to the subscription for further categorization or identification. Multiple labels are separated by commas, such as: xxx,yyy,zzz",1,"fa","fa-question-circle-o","fa-lg"],["type","text","name","subscriptionLabels",1,"form-control",3,"ngModel","ngModelChange"],["for","subscriptionReceiver",1,"col-md-2","col-form-label"],["role","button","data-html","true","data-animation","true","data-trigger","focus","data-toggle","popover","title","format tips","data-content","Receiver indicates the name of the party interested in the notification.",1,"fa","fa-question-circle-o","fa-lg"],["type","text","name","subscriptionReceiver","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","validationSubscriptionReceiverFeedback",1,"invalid-feedback"],["for","subscriptionResendInterval",1,"col-md-2","col-form-label"],["role","button","data-html","true","data-animation","true","data-trigger","focus","data-toggle","popover","title","format tips","data-content",'Subscription ResendInterval indicates how often the specific resource needs to be polled. It represents as a duration string. The format of this field is to be an unsigned integer followed by a unit which may be "ns", "us" (or "\xb5s"), "ms", "s", "m", "h" representing nanoseconds, microseconds, milliseconds, seconds, minutes or hours. Eg, "100ms", "24h"',1,"fa","fa-question-circle-o","fa-lg"],["type","text","name","subscriptionResendInterval","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","subscriptionResendLimit",1,"col-md-2","col-form-label"],["role","button","data-html","true","data-animation","true","data-trigger","focus","data-toggle","popover","title","format tips","data-content","Pure integer! Subscription ResendLimit indicates the retry limit for attempts to send notifications.",1,"fa","fa-question-circle-o","fa-lg"],["type","number","name","subscriptionResendLimit","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","subscriptionAdminState",1,"col-md-2","col-form-label"],["name","subscriptionAdminState",1,"custom-select",3,"ngModel","ngModelChange"],["value","UNLOCKED"],["value","LOCKED"],["for","subscriptionChannels",1,"col-md-2","col-form-label"],["class","fa fa-question-circle-o fa-lg","role","button","data-html","false","data-animation","true","data-trigger","focus","data-toggle","popover","title","tips","data-content","At least one channel must be created",3,"text-danger",4,"ngIf"],[1,"mb-3"],["role","button",1,"badge","badge-secondary","mr-2",3,"click"],[1,"fa","fa-plus-circle"],["role","button",1,"badge","badge-secondary",3,"click"],["class","card mb-3",4,"ngFor","ngForOf"],["role","button","data-html","false","data-animation","true","data-trigger","focus","data-toggle","popover","title","tips","data-content","At least one channel must be created",1,"fa","fa-question-circle-o","fa-lg"],[1,"card","mb-3"],[4,"ngIf"],["for","emailRecipients",1,"col-md-2","col-form-label"],["role","button","data-html","false","data-animation","true","data-trigger","focus","data-toggle","popover","title","format tips","data-content","Multiple email addresses are separated by commas, such as: xxx@xxx.com, yyy@yyy.com",1,"fa","fa-question-circle-o","fa-lg"],["type","text","id","emailRecipients","name","emailRecipients",1,"form-control",3,"ngModel","ngModelChange"],["id","emailRecipientsFeedback",1,"invalid-feedback"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"fa","fa-trash"],["for","HttpMethod","required","",1,"col-md-2","col-form-label"],["type","text","name","httpMethod",1,"custom-select",3,"ngModel","ngModelChange"],["value","GET"],["value","POST"],["value","PUT"],["value","DELETE"],["value","PATCH"],["value","HEAD"],["value","TRACE"],["value","CONNECT"],["for","addressHostREST","required","",1,"col-md-2","col-form-label"],["type","text","id","addressHostREST","name","addressHost","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","addressHostRESTFeedback",1,"invalid-feedback"],["for","addressPortREST","required","",1,"col-md-2","col-form-label"],["type","number","id","addressPortREST","name","addressPort","placeholder","Pure integer !","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","addressPortRESTFeedback",1,"invalid-feedback"],["for","addressPath","required","",1,"col-md-2","col-form-label"],["type","text","id","addressPath","name","addressPath",1,"form-control",3,"ngModel","ngModelChange"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t._UZ(2,"i",2),t.TgZ(3,"span"),t._uU(4,"Add Subscription"),t.qZA(),t.TgZ(5,"button",3),t.NdJ("click",function(){return i.submit()}),t._uU(6,"Submit"),t.qZA(),t.qZA(),t.TgZ(7,"div",4),t.TgZ(8,"form"),t.TgZ(9,"div",5),t.TgZ(10,"label",6),t._uU(11,"Name"),t.qZA(),t.TgZ(12,"div",7),t.TgZ(13,"input",8),t.NdJ("ngModelChange",function(o){return i.subscription.name=o}),t.qZA(),t.TgZ(14,"div",9),t.TgZ(15,"small"),t._uU(16,"the subscription name can't be empty!"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(17,"div",10),t.TgZ(18,"label",11),t.TgZ(19,"span",12),t._uU(20,"Categories"),t.qZA(),t._UZ(21,"span",13),t.qZA(),t.TgZ(22,"div",7),t.TgZ(23,"div",14),t.TgZ(24,"input",15),t.NdJ("ngModelChange",function(o){return i.subCategories=o}),t.qZA(),t.TgZ(25,"div",9),t.TgZ(26,"small"),t._uU(27,"the subscription categories can't be empty!"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(28,"div",10),t.TgZ(29,"label",16),t.TgZ(30,"span",12),t._uU(31,"Labels"),t.qZA(),t._UZ(32,"span",17),t.qZA(),t.TgZ(33,"div",7),t.TgZ(34,"div",14),t.TgZ(35,"input",18),t.NdJ("ngModelChange",function(o){return i.subLabels=o}),t.qZA(),t.TgZ(36,"div",9),t.TgZ(37,"small"),t._uU(38,"the subscription labels can't be empty!"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(39,"div",10),t.TgZ(40,"label",19),t.TgZ(41,"span",12),t._uU(42,"Receiver"),t.qZA(),t._UZ(43,"span",20),t.qZA(),t.TgZ(44,"div",7),t.TgZ(45,"input",21),t.NdJ("ngModelChange",function(o){return i.subscription.receiver=o}),t.qZA(),t.TgZ(46,"div",22),t.TgZ(47,"small"),t._uU(48,"the subscription receiver can't be empty!"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(49,"div",10),t.TgZ(50,"label",23),t.TgZ(51,"span",12),t._uU(52,"ResendInterval"),t.qZA(),t._UZ(53,"span",24),t.qZA(),t.TgZ(54,"div",7),t.TgZ(55,"input",25),t.NdJ("ngModelChange",function(o){return i.subscription.resendInterval=o}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(56,"div",10),t.TgZ(57,"label",26),t.TgZ(58,"span",12),t._uU(59,"ResendLimit"),t.qZA(),t._UZ(60,"span",27),t.qZA(),t.TgZ(61,"div",7),t.TgZ(62,"input",28),t.NdJ("ngModelChange",function(o){return i.subscription.resendLimit=o}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(63,"div",10),t.TgZ(64,"label",29),t._uU(65,"AdminState"),t.qZA(),t.TgZ(66,"div",7),t.TgZ(67,"select",30),t.NdJ("ngModelChange",function(o){return i.subscription.adminState=o}),t.TgZ(68,"option",31),t._uU(69,"UNLOCKED"),t.qZA(),t.TgZ(70,"option",32),t._uU(71,"LOCKED"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(72,"div",10),t.TgZ(73,"label",33),t._uU(74,"Channels"),t.qZA(),t.TgZ(75,"div",7),t.TgZ(76,"div",0),t.TgZ(77,"div",1),t.TgZ(78,"span",12),t._uU(79,"Add Channel Template"),t.qZA(),t.YNc(80,S,1,2,"span",34),t.qZA(),t.TgZ(81,"div",4),t.TgZ(82,"div",35),t.TgZ(83,"span",36),t.NdJ("click",function(){return i.addChannelTemplate("EMAIL")}),t._UZ(84,"i",37),t._uU(85," EMAIL Channel Template "),t.qZA(),t.TgZ(86,"span",38),t.NdJ("click",function(){return i.addChannelTemplate("REST")}),t._UZ(87,"i",37),t._uU(88," REST Channel Template "),t.qZA(),t.qZA(),t.YNc(89,M,4,2,"div",39),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(5),t.Q6J("disabled",i.validate()),t.xp6(8),t.ekj("is-invalid",!i.subscription.name)("is-valid",i.subscription.name),t.Q6J("ngModel",i.subscription.name),t.xp6(11),t.ekj("is-invalid",!i.subCategories)("is-valid",i.subCategories),t.Q6J("ngModel",i.subCategories),t.xp6(11),t.ekj("is-invalid",!i.subLabels)("is-valid",i.subLabels),t.Q6J("ngModel",i.subLabels),t.xp6(10),t.ekj("is-invalid",!i.subscription.receiver)("is-valid",i.subscription.receiver),t.Q6J("ngModel",i.subscription.receiver),t.xp6(10),t.Q6J("ngModel",i.subscription.resendInterval),t.xp6(7),t.Q6J("ngModel",i.subscription.resendLimit),t.xp6(5),t.Q6J("ngModel",i.subscription.adminState),t.xp6(10),t.ekj("border",0===i.channelTemplates.length)("border-danger",0===i.channelTemplates.length),t.xp6(3),t.Q6J("ngIf",0===i.channelTemplates.length),t.xp6(9),t.Q6J("ngForOf",i.channelTemplates))},directives:[s._Y,s.JL,s.F,s.Fj,s.Q7,s.JJ,s.On,s.wV,s.EJ,s.YN,s.Kr,m.O5,m.sg],styles:[""]}),a})()},{path:"edit-subscription",component:(()=>{class a{constructor(e,i,n,o,u){this.notiSvc=e,this.msgSvc=i,this.errSvc=n,this.route=o,this.router=u,this.channelTemplates=[],this.subCategories="",this.subLabels="",this.subscription={}}ngOnInit(){this.renderPopoverComponent(),this.route.queryParams.subscribe(e=>{e.subName&&this.notiSvc.findOneSubscriptionByName(e.subName).subscribe(i=>{this.subscription=i.subscription,this.subCategories=this.subscription.categories.toString(),this.subLabels=this.subscription.labels.toString(),this.channelTemplates=this.subscription.channels})})}renderPopoverComponent(){setTimeout(()=>{$('[data-toggle="popover"]').popover({trigger:"hover"})},150)}update(){this.subscription.categories=this.subCategories.split(","),this.subscription.labels=this.subLabels.split(","),this.channelTemplates.forEach((e,i)=>{if("EMAIL"===e.type){let n=e.recipients.toString();e.recipients=n.split(",")}}),this.subscription.channels=this.channelTemplates,this.notiSvc.updateOneSubscription(this.subscription).subscribe(e=>{this.errSvc.handleErrorForV2API(e)||(this.msgSvc.success("Update subscription",`Name: ${this.subscription.name}`),this.router.navigate(["../subscription-list"],{relativeTo:this.route}))})}addChannelTemplate(e){switch(e){case"REST":this.addRESTAddr();break;case"EMAIL":this.addEMAILAddr()}}removeChannelTemplate(e){let i=this.channelTemplates.indexOf(e);-1!==i&&(this.channelTemplates.splice(i,1),this.renderPopoverComponent())}addRESTAddr(){this.channelTemplates.push({type:"REST",httpMethod:"GET"}),this.renderPopoverComponent()}addEMAILAddr(){this.channelTemplates.push({type:"EMAIL"}),this.renderPopoverComponent()}isPureIntegerType(e){return!isNaN(e)&&parseFloat(e)===parseInt(e)}validate(){let e=!1;return 0!==this.channelTemplates.length&&this.channelTemplates.forEach((i,n)=>{("REST"!==i.type||""!==i.path&&i.port)&&("EMAIL"!==i.type||i.recipients)||(e=!0)}),!(!e&&this.subscription.name&&this.subCategories&&this.subLabels&&this.subscription.receiver&&0!==this.channelTemplates.length)}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(l.T),t.Y36(d.e),t.Y36(_.T),t.Y36(p.gz),t.Y36(p.F0))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-edit-subscription"]],decls:90,vars:30,consts:[[1,"card"],[1,"card-header"],[1,"fa","fa-edit","text-danger","mr-2"],[1,"btn","btn-sm","btn-success","float-right",3,"disabled","click"],[1,"card-body"],[1,"form-group","row","has-validation"],["for","subscriptionName","required","",1,"col-md-2","col-form-label"],[1,"col-md-10"],["type","text","id","validationSubscriptionName","name","subscriptionName","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","validationSubscriptionNameFeedback",1,"invalid-feedback"],[1,"form-group","row"],["for","subscriptionStart",1,"col-md-2","col-form-label"],[1,"mr-2"],["role","button","data-html","true","data-animation","true","data-trigger","focus","data-toggle","popover","title","format tips","data-content","Links the subscription to one or more categories of notification. Multiple categories are separated by commas, such as: xxx,yyy,zzz",1,"fa","fa-question-circle-o","fa-lg"],[1,"input-group","mb-3"],["type","text","name","subscriptionStart","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","subscriptionLabels",1,"col-md-2","col-form-label"],["role","button","data-html","true","data-animation","true","data-trigger","focus","data-toggle","popover","title","format tips","data-content","Arbitrary labels that can be applied to the subscription for further categorization or identification. Multiple labels are separated by commas, such as: xxx,yyy,zzz",1,"fa","fa-question-circle-o","fa-lg"],["type","text","name","subscriptionLabels",1,"form-control",3,"ngModel","ngModelChange"],["for","subscriptionReceiver",1,"col-md-2","col-form-label"],["role","button","data-html","true","data-animation","true","data-trigger","focus","data-toggle","popover","title","format tips","data-content","Receiver indicates the name of the party interested in the notification.",1,"fa","fa-question-circle-o","fa-lg"],["type","text","name","subscriptionReceiver","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","validationSubscriptionReceiverFeedback",1,"invalid-feedback"],["for","subscriptionResendInterval",1,"col-md-2","col-form-label"],["role","button","data-html","true","data-animation","true","data-trigger","focus","data-toggle","popover","title","format tips","data-content",'Subscription ResendInterval indicates how often the specific resource needs to be polled. It represents as a duration string. The format of this field is to be an unsigned integer followed by a unit which may be "ns", "us" (or "\xb5s"), "ms", "s", "m", "h" representing nanoseconds, microseconds, milliseconds, seconds, minutes or hours. Eg, "100ms", "24h"',1,"fa","fa-question-circle-o","fa-lg"],["type","text","name","subscriptionResendInterval","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","subscriptionResendLimit",1,"col-md-2","col-form-label"],["role","button","data-html","true","data-animation","true","data-trigger","focus","data-toggle","popover","title","format tips","data-content","Pure integer! Subscription ResendLimit indicates the retry limit for attempts to send notifications.",1,"fa","fa-question-circle-o","fa-lg"],["type","number","name","subscriptionResendLimit","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","subscriptionAdminState",1,"col-md-2","col-form-label"],["name","subscriptionAdminState",1,"custom-select",3,"ngModel","ngModelChange"],["value","UNLOCKED"],["value","LOCKED"],["for","subscriptionChannels",1,"col-md-2","col-form-label"],["class","fa fa-question-circle-o fa-lg","role","button","data-html","false","data-animation","true","data-trigger","focus","data-toggle","popover","title","tips","data-content","At least one channel must be created",3,"text-danger",4,"ngIf"],[1,"mb-3"],["role","button",1,"badge","badge-secondary","mr-2",3,"click"],[1,"fa","fa-plus-circle"],["role","button",1,"badge","badge-secondary",3,"click"],["class","card mb-3",4,"ngFor","ngForOf"],["role","button","data-html","false","data-animation","true","data-trigger","focus","data-toggle","popover","title","tips","data-content","At least one channel must be created",1,"fa","fa-question-circle-o","fa-lg"],[1,"card","mb-3"],[4,"ngIf"],["for","emailRecipients",1,"col-md-2","col-form-label"],["role","button","data-html","false","data-animation","true","data-trigger","focus","data-toggle","popover","title","format tips","data-content","Multiple email addresses are separated by commas, such as: xxx@xxx.com, yyy@yyy.com",1,"fa","fa-question-circle-o","fa-lg"],["type","text","id","emailRecipients","name","emailRecipients",1,"form-control",3,"ngModel","ngModelChange"],["id","emailRecipientsFeedback",1,"invalid-feedback"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"fa","fa-trash"],["for","HttpMethod","required","",1,"col-md-2","col-form-label"],["type","text","name","httpMethod",1,"custom-select",3,"ngModel","ngModelChange"],["value","GET"],["value","POST"],["value","PUT"],["value","DELETE"],["value","PATCH"],["value","HEAD"],["value","TRACE"],["value","CONNECT"],["for","addressHostREST","required","",1,"col-md-2","col-form-label"],["type","text","id","addressHostREST","name","addressHost","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","addressHostRESTFeedback",1,"invalid-feedback"],["for","addressPortREST","required","",1,"col-md-2","col-form-label"],["type","number","id","addressPortREST","name","addressPort","placeholder","Pure integer !","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","addressPortRESTFeedback",1,"invalid-feedback"],["for","addressPath","required","",1,"col-md-2","col-form-label"],["type","text","id","addressPath","name","addressPath",1,"form-control",3,"ngModel","ngModelChange"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t._UZ(2,"i",2),t.TgZ(3,"span"),t._uU(4,"Edit Subscription"),t.qZA(),t.TgZ(5,"button",3),t.NdJ("click",function(){return i.update()}),t._uU(6,"Save"),t.qZA(),t.qZA(),t.TgZ(7,"div",4),t.TgZ(8,"form"),t.TgZ(9,"div",5),t.TgZ(10,"label",6),t._uU(11,"Name"),t.qZA(),t.TgZ(12,"div",7),t.TgZ(13,"input",8),t.NdJ("ngModelChange",function(o){return i.subscription.name=o}),t.qZA(),t.TgZ(14,"div",9),t.TgZ(15,"small"),t._uU(16,"the subscription name can't be empty!"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(17,"div",10),t.TgZ(18,"label",11),t.TgZ(19,"span",12),t._uU(20,"Categories"),t.qZA(),t._UZ(21,"span",13),t.qZA(),t.TgZ(22,"div",7),t.TgZ(23,"div",14),t.TgZ(24,"input",15),t.NdJ("ngModelChange",function(o){return i.subCategories=o}),t.qZA(),t.TgZ(25,"div",9),t.TgZ(26,"small"),t._uU(27,"the subscription categories can't be empty!"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(28,"div",10),t.TgZ(29,"label",16),t.TgZ(30,"span",12),t._uU(31,"Labels"),t.qZA(),t._UZ(32,"span",17),t.qZA(),t.TgZ(33,"div",7),t.TgZ(34,"div",14),t.TgZ(35,"input",18),t.NdJ("ngModelChange",function(o){return i.subLabels=o}),t.qZA(),t.TgZ(36,"div",9),t.TgZ(37,"small"),t._uU(38,"the subscription labels can't be empty!"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(39,"div",10),t.TgZ(40,"label",19),t.TgZ(41,"span",12),t._uU(42,"Receiver"),t.qZA(),t._UZ(43,"span",20),t.qZA(),t.TgZ(44,"div",7),t.TgZ(45,"input",21),t.NdJ("ngModelChange",function(o){return i.subscription.receiver=o}),t.qZA(),t.TgZ(46,"div",22),t.TgZ(47,"small"),t._uU(48,"the subscription receiver can't be empty!"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(49,"div",10),t.TgZ(50,"label",23),t.TgZ(51,"span",12),t._uU(52,"ResendInterval"),t.qZA(),t._UZ(53,"span",24),t.qZA(),t.TgZ(54,"div",7),t.TgZ(55,"input",25),t.NdJ("ngModelChange",function(o){return i.subscription.resendInterval=o}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(56,"div",10),t.TgZ(57,"label",26),t.TgZ(58,"span",12),t._uU(59,"ResendLimit"),t.qZA(),t._UZ(60,"span",27),t.qZA(),t.TgZ(61,"div",7),t.TgZ(62,"input",28),t.NdJ("ngModelChange",function(o){return i.subscription.resendLimit=o}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(63,"div",10),t.TgZ(64,"label",29),t._uU(65,"AdminState"),t.qZA(),t.TgZ(66,"div",7),t.TgZ(67,"select",30),t.NdJ("ngModelChange",function(o){return i.subscription.adminState=o}),t.TgZ(68,"option",31),t._uU(69,"UNLOCKED"),t.qZA(),t.TgZ(70,"option",32),t._uU(71,"LOCKED"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(72,"div",10),t.TgZ(73,"label",33),t._uU(74,"Channels"),t.qZA(),t.TgZ(75,"div",7),t.TgZ(76,"div",0),t.TgZ(77,"div",1),t.TgZ(78,"span",12),t._uU(79,"Add Channel Template"),t.qZA(),t.YNc(80,E,1,2,"span",34),t.qZA(),t.TgZ(81,"div",4),t.TgZ(82,"div",35),t.TgZ(83,"span",36),t.NdJ("click",function(){return i.addChannelTemplate("EMAIL")}),t._UZ(84,"i",37),t._uU(85," EMAIL Channel Template "),t.qZA(),t.TgZ(86,"span",38),t.NdJ("click",function(){return i.addChannelTemplate("REST")}),t._UZ(87,"i",37),t._uU(88," REST Channel Template "),t.qZA(),t.qZA(),t.YNc(89,x,4,2,"div",39),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(5),t.Q6J("disabled",i.validate()),t.xp6(8),t.ekj("is-invalid",!i.subscription.name)("is-valid",i.subscription.name),t.Q6J("ngModel",i.subscription.name),t.xp6(11),t.ekj("is-invalid",!i.subCategories)("is-valid",i.subCategories),t.Q6J("ngModel",i.subCategories),t.xp6(11),t.ekj("is-invalid",!i.subLabels)("is-valid",i.subLabels),t.Q6J("ngModel",i.subLabels),t.xp6(10),t.ekj("is-invalid",!i.subscription.receiver)("is-valid",i.subscription.receiver),t.Q6J("ngModel",i.subscription.receiver),t.xp6(10),t.Q6J("ngModel",i.subscription.resendInterval),t.xp6(7),t.Q6J("ngModel",i.subscription.resendLimit),t.xp6(5),t.Q6J("ngModel",i.subscription.adminState),t.xp6(10),t.ekj("border",0===i.channelTemplates.length)("border-danger",0===i.channelTemplates.length),t.xp6(3),t.Q6J("ngIf",0===i.channelTemplates.length),t.xp6(9),t.Q6J("ngForOf",i.channelTemplates))},directives:[s._Y,s.JL,s.F,s.Fj,s.Q7,s.JJ,s.On,s.wV,s.EJ,s.YN,s.Kr,m.O5,m.sg],styles:[""]}),a})()}]}]}];let J=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[[p.Bz.forChild(P)],p.Bz]}),a})(),O=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[[m.ez,s.u5,J]]}),a})()},9744:(v,T,g)=>{g.d(T,{T:()=>A});var m=g(1841),s=g(5894),p=g(476),t=g(1177);let A=(()=>{class f{constructor(l,d){this.http=l,this.errorSvc=d,this.endpoint="/notification",this.version="/api/v2",this.urlPrefix=`${this.endpoint}${this.version}`,this.configUrl="/config",this.findNotificationByCategoryUrl=`${this.urlPrefix}/notification/category/`,this.findNotificationByLabelUrl=`${this.urlPrefix}/notification/label/`,this.findNotificationByStatusUrl=`${this.urlPrefix}/notification/status/`,this.findNotificationByStartEndUrl=`${this.urlPrefix}/notification/start/`,this.deleteNotificationByIdUrl=`${this.urlPrefix}/notification/id/`,this.deleteNotificationByAgeAndStatusUrl=`${this.urlPrefix}/notification/age/`,this.cleanupNotificationByAgeUrl=`${this.urlPrefix}/cleanup/age/`,this.cleanupNotificationAllUrl=`${this.urlPrefix}/cleanup`,this.findAllSubscriptionsPaginationUrl=`${this.urlPrefix}/subscription/all`,this.findAllSubscriptionsByCategoryPaginationUrl=`${this.urlPrefix}/subscription/category/`,this.findAllSubscriptionsByLabelPaginationUrl=`${this.urlPrefix}/subscription/label/`,this.findAllSubscriptionsByReceiverPaginationUrl=`${this.urlPrefix}/subscription/receiver/`,this.findOneSubscriptionsByNameUrl=`${this.urlPrefix}/subscription/name/`,this.addOneSubscriptionUrl=`${this.urlPrefix}/subscription`,this.updateOneSubscriptionUrl=`${this.urlPrefix}/subscription`,this.deleteOneSubscriptionByNameUrl=`${this.urlPrefix}/subscription/name/`,this.httpPostOrPutOrPatchJSONOptions={headers:new m.WM({"Content-type":"application/json",Authorization:""})}}getConfig(){return this.http.get(`${this.urlPrefix}${this.configUrl}`).pipe((0,s.K)(d=>this.errorSvc.handleError(d)))}findNotificationsByCategoryPagination(l,d,c){return this.http.get(`${this.findNotificationByCategoryUrl}${c}?offset=${l}&limit=${d}`).pipe((0,s.K)(Z=>this.errorSvc.handleError(Z)))}findNotificationsByLabelPagination(l,d,c){return this.http.get(`${this.findNotificationByLabelUrl}${c}?offset=${l}&limit=${d}`).pipe((0,s.K)(Z=>this.errorSvc.handleError(Z)))}findNotificationsByStatusPagination(l,d,c){return this.http.get(`${this.findNotificationByStatusUrl}${c}?offset=${l}&limit=${d}`).pipe((0,s.K)(Z=>this.errorSvc.handleError(Z)))}findNotificationsByStartEndPagination(l,d,c,h){return this.http.get(`${this.findNotificationByStartEndUrl}${c}/end/${h}?offset=${l}&limit=${d}`).pipe((0,s.K)(_=>this.errorSvc.handleError(_)))}deleteNotificationByAgeAndStatus(l){return this.http.delete(`${this.deleteNotificationByAgeAndStatusUrl}${l}`).pipe((0,s.K)(c=>this.errorSvc.handleError(c)))}deleteNotificationById(l){return this.http.delete(`${this.deleteNotificationByIdUrl}${l}`).pipe((0,s.K)(c=>this.errorSvc.handleError(c)))}cleanupNotificationByAge(l){return this.http.delete(`${this.cleanupNotificationByAgeUrl}${l}`).pipe((0,s.K)(c=>this.errorSvc.handleError(c)))}cleanupNotificationAll(){return this.http.delete(`${this.cleanupNotificationAllUrl}`).pipe((0,s.K)(d=>this.errorSvc.handleError(d)))}findAllSubscriptionPagination(l,d){return this.http.get(`${this.findAllSubscriptionsPaginationUrl}?offset=${l}&limit=${d}`).pipe((0,s.K)(h=>this.errorSvc.handleError(h)))}findOneSubscriptionByName(l){return this.http.get(`${this.findOneSubscriptionsByNameUrl}${l}`).pipe((0,s.K)(c=>this.errorSvc.handleError(c)))}addOneSubscription(l){return this.http.post(`${this.addOneSubscriptionUrl}`,JSON.stringify([{apiVersion:"v2",subscription:l}]),this.httpPostOrPutOrPatchJSONOptions).pipe((0,s.K)(h=>this.errorSvc.handleError(h)))}updateOneSubscription(l){return this.http.patch(`${this.updateOneSubscriptionUrl}`,JSON.stringify([{apiVersion:"v2",subscription:l}]),this.httpPostOrPutOrPatchJSONOptions).pipe((0,s.K)(h=>this.errorSvc.handleError(h)))}deleteOneSubscriptionByName(l){return this.http.delete(`${this.deleteOneSubscriptionByNameUrl}${l}`).pipe((0,s.K)(c=>this.errorSvc.handleError(c)))}}return f.\u0275fac=function(l){return new(l||f)(p.LFG(m.eN),p.LFG(t.T))},f.\u0275prov=p.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})()}}]);