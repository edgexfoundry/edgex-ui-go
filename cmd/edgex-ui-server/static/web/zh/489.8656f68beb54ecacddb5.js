"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[489],{3489:(h,l,s)=>{s.r(l),s.d(l,{CoreDataModule:()=>D});var u=s(8583),i=s(9502),e=s(476);let _=(()=>{class a{constructor(){}ngOnInit(){}}return a.\u0275fac=function(t){return new(t||a)},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-core-data"]],decls:21,vars:0,consts:function(){let o,t,n;return o="\u4E00\u4E2A\u4E8B\u4EF6\u8868\u793A\u4E00\u4E2A\u6216\u591A\u4E2A\u4F20\u611F\u5668\u8BFB\u503C\u7684\u96C6\u5408\uFF0C\u4E00\u4E9B\u4F20\u611F\u5668\u8BBE\u5907\u4E00\u6B21\u4E00\u4E2A\u8BFB\u503C\uFF0C\u800C\u6709\u7684\u53EF\u80FD\u4E00\u6B21\u63D0\u4F9B\u591A\u4E2A\u8BFB\u503C\uFF0C\u4F46\u662F\u4E00\u4E2A\u4E8B\u4EF6\u81F3\u5C11\u5E94\u8BE5\u6709\u4E00\u4E2A\u8BFB\u503C\uFF0C\u5728GUI\u4E0A\u64CD\u4F5C\u6570\u636E\u4E2D\u5FC3\u662F\u4E0D\u5408\u7406\u7684\u884C\u4E3A\uFF0C\u6570\u636E\u4E2D\u5FC3\u7684API\u53EA\u80FD\u662F\u5185\u90E8\u6216\u8005\u5916\u90E8\u670D\u52A1\u901A\u4FE1\u4F7F\u7528\uFF0C\u56E0\u6B64\u8FD9\u91CC\u4EC5\u4EC5\u662F\u8BA9\u7528\u6237\u9884\u89C8\u6570\u636E\u6D41",o=e.Zx4(o),t="\u4E8B\u4EF6",n="\u8BFB\u503C",[[1,"card","mb-2"],[1,"card-header"],[1,"fa","fa-info-circle","mr-2","text-info"],[1,"card-body"],o,[1,"card"],[1,"nav","nav-tabs","card-header-tabs","font-weight-bold"],[1,"nav-item"],["routerLink","./event","routerLinkActive","active",1,"nav-link"],t,["routerLink","./reading","routerLinkActive","active",1,"nav-link"],n]},template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e._UZ(2,"i",2),e.TgZ(3,"span"),e._uU(4,"Tips"),e.qZA(),e.qZA(),e.TgZ(5,"div",3),e.tHW(6,4),e._UZ(7,"br"),e._UZ(8,"br"),e._UZ(9,"br"),e.N_p(),e.qZA(),e.qZA(),e.TgZ(10,"div",5),e.TgZ(11,"div",1),e.TgZ(12,"ul",6),e.TgZ(13,"li",7),e.TgZ(14,"a",8),e.SDv(15,9),e.qZA(),e.qZA(),e.TgZ(16,"li",7),e.TgZ(17,"a",10),e.SDv(18,11),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(19,"div",3),e._UZ(20,"router-outlet"),e.qZA(),e.qZA())},directives:[i.yS,i.Od,i.lC],styles:[""]}),a})();var d=s(2468);let p=(()=>{class a{constructor(t){this.dataSvc=t,this.pauseOperate=!0}ngOnInit(){}feedEvents(){this.feedInterval=setInterval(()=>{this.dataSvc.allEventsPagination(0,5).subscribe(t=>{0!==t.events.length?t.events.forEach((n,r)=>{$("#data-event-stream").prepend('<p class="user-select-all">'+JSON.stringify(n)+"</p>")}):$("#data-event-stream").prepend('<p class="user-select-all">no data stream available, please confirm whether there is at least one device to collect data</p>')})},3e3)}start(){this.pauseOperate=!1,this.feedEvents()}pause(){this.pauseOperate=!0,window.clearInterval(this.feedInterval)}operateToggle(){this.pauseOperate=!this.pauseOperate}ngOnDestroy(){window.clearInterval(this.feedInterval)}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(d.D))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-event"]],decls:20,vars:2,consts:function(){let o,t,n;return o="\u4E8B\u4EF6\u6570\u636E\u6D41",t="\u5F00\u59CB",n="\u6682\u505C",[[1,"card"],[1,"card-header"],[1,"font-weight-bold"],[1,"fa","fa-area-chart","mr-2","text-danger"],[1,"text-secondary"],o,[1,"card-header","p-2"],["role","group",1,"btn-group","btn-group-sm"],[1,"btn","btn-primary",3,"disabled","click"],[1,"fa","fa-play","mr-1"],t,["type","button",1,"btn","btn-info",3,"disabled","click"],[1,"fa","fa-pause","mr-1"],n,[1,"card-body"],["id","data-event-stream",1,"w-100","overflow-auto",2,"height","350px"]]},template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"span",2),e._UZ(3,"span",3),e.TgZ(4,"span",4),e.SDv(5,5),e.qZA(),e.qZA(),e.qZA(),e.TgZ(6,"div",6),e.TgZ(7,"div",7),e.TgZ(8,"button",8),e.NdJ("click",function(){return n.start()}),e.TgZ(9,"span"),e._UZ(10,"i",9),e.TgZ(11,"span"),e.SDv(12,10),e.qZA(),e.qZA(),e.qZA(),e.TgZ(13,"button",11),e.NdJ("click",function(){return n.pause()}),e.TgZ(14,"span"),e._UZ(15,"i",12),e.TgZ(16,"span"),e.SDv(17,13),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(18,"div",14),e._UZ(19,"pre",15),e.qZA(),e.qZA()),2&t&&(e.xp6(8),e.Q6J("disabled",!n.pauseOperate),e.xp6(5),e.Q6J("disabled",n.pauseOperate))},styles:[".btn[disabled][_ngcontent-%COMP%]:hover{cursor:not-allowed}"]}),a})(),g=(()=>{class a{constructor(t){this.dataSvc=t,this.pauseOperate=!0}ngOnInit(){}feedEvents(){this.feedInterval=setInterval(()=>{this.dataSvc.allReadingsPagination(0,5).subscribe(t=>{0!==t.readings.length?t.readings.forEach((n,r)=>{$("#data-reading-stream").prepend('<p class="user-select-all">'+JSON.stringify(n)+"</p>")}):$("#data-event-stream").prepend('<p class="user-select-all">no data stream available, please confirm whether there is at least one device to collect data</p>')})},3e3)}start(){this.pauseOperate=!1,this.feedEvents()}pause(){this.pauseOperate=!0,window.clearInterval(this.feedInterval)}operateToggle(){this.pauseOperate=!this.pauseOperate}ngOnDestroy(){window.clearInterval(this.feedInterval)}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(d.D))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-reading"]],decls:20,vars:2,consts:function(){let o,t,n;return o="\u8BFB\u503C\u6570\u636E\u6D41",t="\u5F00\u59CB",n="\u6682\u505C",[[1,"card"],[1,"card-header"],[1,"font-weight-bold"],[1,"fa","fa-area-chart","mr-2","text-danger"],[1,"text-secondary"],o,[1,"card-header","p-2"],["role","group",1,"btn-group","btn-group-sm"],[1,"btn","btn-primary",3,"disabled","click"],[1,"fa","fa-play","mr-1"],t,["type","button",1,"btn","btn-info",3,"disabled","click"],[1,"fa","fa-pause","mr-1"],n,[1,"card-body"],["id","data-reading-stream",1,"w-100","overflow-auto",2,"height","350px"]]},template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"span",2),e._UZ(3,"span",3),e.TgZ(4,"span",4),e.SDv(5,5),e.qZA(),e.qZA(),e.qZA(),e.TgZ(6,"div",6),e.TgZ(7,"div",7),e.TgZ(8,"button",8),e.NdJ("click",function(){return n.start()}),e.TgZ(9,"span"),e._UZ(10,"i",9),e.TgZ(11,"span"),e.SDv(12,10),e.qZA(),e.qZA(),e.qZA(),e.TgZ(13,"button",11),e.NdJ("click",function(){return n.pause()}),e.TgZ(14,"span"),e._UZ(15,"i",12),e.TgZ(16,"span"),e.SDv(17,13),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(18,"div",14),e._UZ(19,"pre",15),e.qZA(),e.qZA()),2&t&&(e.xp6(8),e.Q6J("disabled",!n.pauseOperate),e.xp6(5),e.Q6J("disabled",n.pauseOperate))},styles:[".btn[disabled][_ngcontent-%COMP%]:hover{cursor:not-allowed}"]}),a})();var A=s(8253),F=s(1964),f=s(4294),T=s(5894),v=s(7216);let c=(()=>{class a{constructor(t,n){this.router=t,this.dataSvc=n}canActivate(t,n){return this.checkAvailable(t,n)}canActivateChild(t,n){return this.canActivate(t,n)}checkAvailable(t,n){return this.dataSvc.ping().pipe((0,f.q)(1),(0,T.K)(r=>this.router.navigate(["/svc-unavailable"],{queryParams:{svcName:"core data",routerPath:`/${n.url.split("/")[1]}`}})),(0,v.z)(()=>(0,F.of)(!0)))}}return a.\u0275fac=function(t){return new(t||a)(e.LFG(i.F0),e.LFG(d.D))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const E=[{path:"",component:_,canActivate:[A.a,c],canActivateChild:[c],children:[{path:"",redirectTo:"event",pathMatch:"full"},{path:"event",component:p},{path:"reading",component:g}]}];let C=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[[i.Bz.forChild(E)],i.Bz]}),a})(),D=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[[u.ez,C]]}),a})()}}]);