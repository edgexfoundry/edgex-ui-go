"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[753],{1302:(P,p,c)=>{c.d(p,{h:()=>U});var e=c(476),D=c(2437),g=c(8583),r=c(3092);function f(i,s){if(1&i){const _=e.EpF();e.TgZ(0,"div",8),e.NdJ("click",function(n){return e.CHM(_),e.oxw().close(n)}),e.qZA()}}function A(i,s){if(1&i){const _=e.EpF();e.TgZ(0,"input",47),e.NdJ("click",function(n){return e.CHM(_),e.oxw(2).onSelectAll(n)}),e.qZA()}if(2&i){const _=e.oxw(2);e.Q6J("checked",_.isCheckedAll())}}function C(i,s){if(1&i&&(e.TgZ(0,"span",55),e._uU(1),e.qZA()),2&i){const _=e.oxw().$implicit;e.xp6(1),e.Oqu(_.adminState)}}function O(i,s){if(1&i&&(e.TgZ(0,"span",56),e._uU(1),e.qZA()),2&i){const _=e.oxw().$implicit;e.xp6(1),e.Oqu(_.adminState)}}function o(i,s){if(1&i&&(e.TgZ(0,"span",55),e._uU(1),e.qZA()),2&i){const _=e.oxw().$implicit;e.xp6(1),e.hij(" ",_.operatingState,"")}}function l(i,s){if(1&i&&(e.TgZ(0,"span",56),e._uU(1),e.qZA()),2&i){const _=e.oxw().$implicit;e.xp6(1),e.hij(" ",_.operatingState,"")}}function S(i,s){if(1&i&&(e.TgZ(0,"span",56),e._uU(1),e.qZA()),2&i){const _=e.oxw().$implicit;e.xp6(1),e.hij(" ",_.operatingState,"")}}function a(i,s){if(1&i){const _=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e.TgZ(2,"input",47),e.NdJ("click",function(n){const T=e.CHM(_).$implicit;return e.oxw(2).onSelectOne(n,T.name)}),e.qZA(),e.qZA(),e.TgZ(3,"td",48),e._uU(4),e.qZA(),e.TgZ(5,"td",48),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e.TgZ(12,"span",49),e.YNc(13,C,2,1,"span",50),e.YNc(14,O,2,1,"span",51),e.qZA(),e.qZA(),e.TgZ(15,"td",52),e.TgZ(16,"span",49),e.YNc(17,o,2,1,"span",50),e.YNc(18,l,2,1,"span",53),e.YNc(19,S,2,1,"span",51),e.qZA(),e.qZA(),e.TgZ(20,"td"),e.TgZ(21,"span",54),e._uU(22),e.qZA(),e.qZA(),e.TgZ(23,"td"),e.TgZ(24,"span",54),e._uU(25),e.qZA(),e.qZA(),e.qZA()}if(2&i){const _=s.$implicit,t=e.oxw(2);e.ekj("table-active",t.isChecked(_.name)),e.xp6(2),e.Q6J("checked",t.isChecked(_.name)),e.xp6(2),e.Oqu(_.id),e.xp6(2),e.Oqu(_.name),e.xp6(2),e.Oqu(_.description),e.xp6(2),e.Oqu(_.labels),e.xp6(2),e.Q6J("ngSwitch",_.adminState),e.xp6(1),e.Q6J("ngSwitchCase","UNLOCKED"),e.xp6(3),e.Q6J("ngSwitch",_.operatingState),e.xp6(1),e.Q6J("ngSwitchCase","UP"),e.xp6(1),e.Q6J("ngSwitchCase","DOWN"),e.xp6(4),e.Oqu(_.profileName),e.xp6(3),e.Oqu(_.serviceName)}}function b(i,s){if(1&i){const _=e.EpF();e.TgZ(0,"div",9),e.TgZ(1,"div",10),e.TgZ(2,"div",11),e._UZ(3,"i",12),e.TgZ(4,"span"),e.SDv(5,13),e.qZA(),e.qZA(),e.TgZ(6,"div",14),e.TgZ(7,"div",15),e.TgZ(8,"table",16),e.TgZ(9,"thead",17),e.TgZ(10,"tr"),e.TgZ(11,"th",18),e.YNc(12,A,1,1,"input",19),e.qZA(),e.TgZ(13,"th",18),e.SDv(14,20),e.qZA(),e.TgZ(15,"th",18),e.SDv(16,21),e.qZA(),e.TgZ(17,"th",18),e.SDv(18,22),e.qZA(),e.TgZ(19,"th",18),e.SDv(20,23),e.qZA(),e.TgZ(21,"th",18),e.SDv(22,24),e.qZA(),e.TgZ(23,"th",18),e.SDv(24,25),e.qZA(),e.TgZ(25,"th",18),e.SDv(26,26),e.qZA(),e.TgZ(27,"th",18),e.SDv(28,27),e.qZA(),e.qZA(),e.qZA(),e.TgZ(29,"tbody"),e.YNc(30,a,26,14,"tr",28),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(31,"div",29),e.TgZ(32,"nav",30),e.TgZ(33,"ul",31),e.TgZ(34,"li",32),e.TgZ(35,"span",33),e.SDv(36,34),e.qZA(),e.qZA(),e.TgZ(37,"li",35),e.TgZ(38,"select",36),e.NdJ("ngModelChange",function(n){return e.CHM(_),e.oxw().pageLimit=n})("ngModelChange",function(){return e.CHM(_),e.oxw().onPageSelected()}),e.TgZ(39,"option",37),e._uU(40,"5"),e.qZA(),e.TgZ(41,"option",38),e._uU(42,"10"),e.qZA(),e.TgZ(43,"option",39),e._uU(44,"20"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(45,"li",40),e.TgZ(46,"button",41),e.NdJ("click",function(){return e.CHM(_),e.oxw().prePage()}),e._UZ(47,"i",42),e.TgZ(48,"span"),e.SDv(49,43),e.qZA(),e.qZA(),e.qZA(),e.TgZ(50,"li",44),e.TgZ(51,"button",41),e.NdJ("click",function(){return e.CHM(_),e.oxw().nextPage()}),e.TgZ(52,"span"),e.SDv(53,45),e.qZA(),e._UZ(54,"i",46),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const _=e.oxw();e.xp6(12),e.Q6J("ngIf",!_.singleSelectionMode),e.xp6(18),e.Q6J("ngForOf",_.deviceList),e.xp6(8),e.Q6J("ngModel",_.pageLimit),e.xp6(8),e.Q6J("disabled",1===_.pagination),e.xp6(5),e.Q6J("disabled",_.pageLimit>_.deviceList.length)}}let U=(()=>{class i{constructor(_){this.metaSvc=_,this.deviceList=[],this.deviceNamesSelectedStr="",this._deviceSelected=[],this.deviceSelectedChange=new e.vpe,this.singleDeviceSelectedChange=new e.vpe,this.visible=!1,this.validate=!1,this.singleSelectionMode=!1,this.pagination=1,this.pageLimit=5,this.pageOffset=(this.pagination-1)*this.pageLimit,this._singleDeviceSelected=""}get deviceSelected(){return this._deviceSelected}set deviceSelected(_){_.forEach((t,n)=>{_[n]=t.trim()}),this._deviceSelected=_,this.deviceNamesSelectedStr=this._deviceSelected.join(",")}get singleDeviceSelected(){return this._singleDeviceSelected}set singleDeviceSelected(_){this._singleDeviceSelected=_?_.trim():"",this.deviceNamesSelectedStr=this._singleDeviceSelected}ngOnInit(){this.getDeviceListPagination()}getDeviceListPagination(){this.metaSvc.allDevicesPagination(this.pageOffset,this.pageLimit).subscribe(_=>{this.deviceList=_.devices})}onSelectAll(_){this.deviceList.forEach(_.target.checked?n=>{this.deviceSelected.includes(n.name)||this.deviceSelected.push(n.name)}:n=>{this.deviceSelected.includes(n.name)&&this.deviceSelected.splice(this.deviceSelected.indexOf(n.name),1)}),this.deviceSelectedChange.emit(this.deviceSelected),this.deviceNamesSelectedStr=this.deviceSelected.join(",")}isCheckedAll(){let _=!0;return this.deviceList.forEach(t=>{this.deviceSelected.includes(t.name)||(_=!1)}),_}isChecked(_){return this.singleSelectionMode?this.singleDeviceSelected===_:this.deviceSelected.includes(_)}selectSingleDevice(_,t){this.singleDeviceSelected=_.target.checked?t:"",this.deviceNamesSelectedStr=this.singleDeviceSelected,this.singleDeviceSelectedChange.emit(this.singleDeviceSelected)}onSelectOne(_,t){this.singleSelectionMode?this.selectSingleDevice(_,t):(_.target.checked?this.deviceSelected.push(t):this.deviceSelected.splice(this.deviceSelected.indexOf(t),1),this.deviceNamesSelectedStr=this.deviceSelected.join(","),this.deviceSelectedChange.emit(this.deviceSelected))}onPageSelected(){this.resetPagination(),this.getDeviceListPagination()}prePage(){this.setPagination(-1),this.getDeviceListPagination()}nextPage(){this.setPagination(1),this.getDeviceListPagination()}setPagination(_){1===_?this.pagination+=1:-1===_&&(this.pagination-=1),this.pageOffset=(this.pagination-1)*this.pageLimit}resetPagination(){this.pagination=1,this.pageOffset=(this.pagination-1)*this.pageLimit}close(_){this.visible=!1}toggle(_){_.stopPropagation(),this.visible=!this.visible}}return i.\u0275fac=function(_){return new(_||i)(e.Y36(D.D))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-device-combo-list"]],inputs:{deviceSelected:"deviceSelected",singleDeviceSelected:"singleDeviceSelected",validate:"validate",singleSelectionMode:"singleSelectionMode"},outputs:{deviceSelectedChange:"deviceSelectedChange",singleDeviceSelectedChange:"singleDeviceSelectedChange"},decls:8,vars:3,consts:function(){let s,_,t,n,d,T,v,M,I,h,u,m;return s="\u8BBE\u5907\u5217\u8868",_="ID",t="\u540D\u5B57",n="\u63CF\u8FF0",d="\u6807\u7B7E",T="\u7BA1\u7406\u72B6\u6001",v="\u64CD\u4F5C\u72B6\u6001",M="\u76F8\u5173\u8BBE\u5907\u5143\u4FE1\u606F",I="\u76F8\u5173\u8BBE\u5907\u670D\u52A1",h="\u6BCF\u9875\u6761\u76EE",u="\u4E0A\u4E00\u9875",m="\u4E0B\u4E00\u9875",[["class","combo-shielder",3,"click",4,"ngIf"],[1,"combo"],[1,"input-group","has-validation",3,"mousedown"],["type","text","name","deviceNamesSelected","disabled","",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-group-append"],["role","button",1,"input-group-text"],[1,"fa","fa-chevron-down"],["class","combo-body shadow rounded",4,"ngIf"],[1,"combo-shielder",3,"click"],[1,"combo-body","shadow","rounded"],[1,"card"],[1,"card-header"],[1,"fa","fa-list","text-danger","mr-2"],s,[1,"card-body","p-0"],[1,"table-responsive"],[1,"table","table-hover","text-truncate"],[1,"thead-light"],["scope","col"],["type","checkbox","role","button",3,"checked","click",4,"ngIf"],_,t,n,d,T,v,M,I,[3,"table-active",4,"ngFor","ngForOf"],[1,"card-footer","text-muted","p-1"],["aria-label","navigation"],[1,"pagination","justify-content-end","m-0"],[1,"page-item","mr-2","mt-1"],[1,"align-middle"],h,[1,"page-item","mr-2"],["name","pageLimit","id","pageLimit",1,"form-control",3,"ngModel","ngModelChange"],["value","5"],["value","10"],["value","20"],[1,"page-item","mr-1"],[1,"page-link","btn",3,"disabled","click"],[1,"fa","fa-angle-double-left","mr-1"],u,[1,"page-item"],m,[1,"fa","fa-angle-double-right","ml-1"],["type","checkbox","role","button",3,"checked","click"],[1,"user-select-all"],[3,"ngSwitch"],["class","badge badge-success",4,"ngSwitchCase"],["class","badge badge-danger",4,"ngSwitchDefault"],[1,"text-center"],["class","badge badge-danger",4,"ngSwitchCase"],[1,"text-primary"],[1,"badge","badge-success"],[1,"badge","badge-danger"]]},template:function(_,t){1&_&&(e.YNc(0,f,1,0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.NdJ("mousedown",function(d){return t.toggle(d)}),e.TgZ(3,"input",3),e.NdJ("ngModelChange",function(d){return t.deviceNamesSelectedStr=d}),e.qZA(),e.TgZ(4,"div",4),e.TgZ(5,"span",5),e._UZ(6,"i",6),e.qZA(),e.qZA(),e.qZA(),e.YNc(7,b,55,5,"div",7),e.qZA()),2&_&&(e.Q6J("ngIf",t.visible),e.xp6(3),e.Q6J("ngModel",t.deviceNamesSelectedStr),e.xp6(4),e.Q6J("ngIf",t.visible))},directives:[g.O5,r.Fj,r.JJ,r.On,g.sg,r.EJ,r.YN,r.Kr,g.RF,g.n9,g.ED],styles:[".combo[_ngcontent-%COMP%]{position:relative;right:auto}.combo-shielder[_ngcontent-%COMP%]{position:fixed;top:0;bottom:0;right:0;left:0;z-index:100}.combo-body[_ngcontent-%COMP%]{position:absolute;top:33px;bottom:auto;left:0;right:0;z-index:105;visibility:visible;display:inline-block}"]}),i})()},6322:(P,p,c)=>{c.d(p,{o:()=>A});var e=c(476),D=c(8583),g=c(3092),r=c(2822);function f(C,O){if(1&C){const o=e.EpF();e.TgZ(0,"div",9),e.NdJ("click",function(S){return e.CHM(o),e.oxw().close(S)}),e.qZA()}}let A=(()=>{class C{constructor(){this.selectedProfilesStr="",this._selectedProfiles=[],this.deviceProfileSelectedEvent=new e.vpe,this.singleProfileSelectedObject={},this.singleProfileSelectedChange=new e.vpe,this.visible=!1,this.validate=!1,this.singleSelectionMode=!1,this._singleProfileSelected=""}get selectedProfiles(){return this._selectedProfiles}set selectedProfiles(o){o.forEach((l,S)=>{o[S]=l.trim()}),this._selectedProfiles=o,this.selectedProfilesStr=this._selectedProfiles.join(",")}get singleProfileSelected(){return this._singleProfileSelected}set singleProfileSelected(o){this._singleProfileSelected=o?o.trim():"",this.selectedProfilesStr=this._singleProfileSelected,this.singleProfileSelectedObject={name:this._singleProfileSelected}}ngOnInit(){}onMultipleProfileSelectedEvent(o){this.selectedProfiles=o,this.selectedProfilesStr=this.selectedProfiles.join(","),this.deviceProfileSelectedEvent.emit(this.selectedProfiles)}onSingleProfileSelectedEvent(o){this.singleProfileSelected=o?o.name:"",this.selectedProfilesStr=this.singleProfileSelected,this.singleProfileSelectedChange.emit(this.singleProfileSelected)}close(o){this.visible=!1}toggle(o){o.stopPropagation(),this.visible=!this.visible}}return C.\u0275fac=function(o){return new(o||C)},C.\u0275cmp=e.Xpm({type:C,selectors:[["app-device-profile-combo-list"]],inputs:{selectedProfiles:"selectedProfiles",singleProfileSelected:"singleProfileSelected",validate:"validate",singleSelectionMode:"singleSelectionMode"},outputs:{deviceProfileSelectedEvent:"deviceProfileSelectedEvent",singleProfileSelectedChange:"singleProfileSelectedChange"},decls:9,vars:9,consts:[["class","combo-shielder",3,"click",4,"ngIf"],[1,"combo"],[1,"input-group","has-validation",3,"mousedown"],["type","text","name","selectedProfiles","disabled","",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-group-append"],["role","button",1,"input-group-text"],[1,"fa","fa-chevron-down"],[1,"combo-body","shadow","rounded"],[3,"toolbars","associatedDeviceColumn","enableSelectAll","multiProfilesSelected","singleProfileSelected","multipleProfileSelectedEvent","singleProfileSelectedEvent"],[1,"combo-shielder",3,"click"]],template:function(o,l){1&o&&(e.YNc(0,f,1,0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.NdJ("mousedown",function(a){return l.toggle(a)}),e.TgZ(3,"input",3),e.NdJ("ngModelChange",function(a){return l.selectedProfilesStr=a}),e.qZA(),e.TgZ(4,"div",4),e.TgZ(5,"span",5),e._UZ(6,"i",6),e.qZA(),e.qZA(),e.qZA(),e.TgZ(7,"div",7),e.TgZ(8,"app-device-profile-list",8),e.NdJ("multipleProfileSelectedEvent",function(a){return l.onMultipleProfileSelectedEvent(a)})("singleProfileSelectedEvent",function(a){return l.onSingleProfileSelectedEvent(a)}),e.qZA(),e.qZA(),e.qZA()),2&o&&(e.Q6J("ngIf",l.visible),e.xp6(3),e.Q6J("ngModel",l.selectedProfilesStr),e.xp6(4),e.Udp("display",l.visible?"":"none"),e.xp6(1),e.Q6J("toolbars",!1)("associatedDeviceColumn",!1)("enableSelectAll",!l.singleSelectionMode)("multiProfilesSelected",l.selectedProfiles)("singleProfileSelected",l.singleProfileSelectedObject))},directives:[D.O5,g.Fj,g.JJ,g.On,r.f],styles:[".combo[_ngcontent-%COMP%]{position:relative;right:auto}.combo-shielder[_ngcontent-%COMP%]{position:fixed;top:0;bottom:0;right:0;left:0;z-index:100}.combo-body[_ngcontent-%COMP%]{position:absolute;top:33px;bottom:auto;left:0;right:0;z-index:105;visibility:visible;display:inline-block}"]}),C})()}}]);