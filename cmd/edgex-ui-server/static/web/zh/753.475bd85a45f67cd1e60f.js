"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[753],{1302:(P,D,c)=>{c.d(D,{h:()=>U});var _=c(476),I=c(2437),g=c(8583),T=c(3092);function p(i,s){if(1&i){const e=_.EpF();_.TgZ(0,"div",8),_.NdJ("click",function(n){return _.CHM(e),_.oxw().close(n)}),_.qZA()}}function f(i,s){if(1&i){const e=_.EpF();_.TgZ(0,"input",47),_.NdJ("click",function(n){return _.CHM(e),_.oxw(2).onSelectAll(n)}),_.qZA()}if(2&i){const e=_.oxw(2);_.Q6J("checked",e.isCheckedAll())}}function C(i,s){if(1&i&&(_.TgZ(0,"span",55),_._uU(1),_.qZA()),2&i){const e=_.oxw().$implicit;_.xp6(1),_.Oqu(e.adminState)}}function r(i,s){if(1&i&&(_.TgZ(0,"span",56),_._uU(1),_.qZA()),2&i){const e=_.oxw().$implicit;_.xp6(1),_.Oqu(e.adminState)}}function o(i,s){if(1&i&&(_.TgZ(0,"span",55),_._uU(1),_.qZA()),2&i){const e=_.oxw().$implicit;_.xp6(1),_.hij(" ",e.operatingState,"")}}function l(i,s){if(1&i&&(_.TgZ(0,"span",56),_._uU(1),_.qZA()),2&i){const e=_.oxw().$implicit;_.xp6(1),_.hij(" ",e.operatingState,"")}}function S(i,s){if(1&i&&(_.TgZ(0,"span",56),_._uU(1),_.qZA()),2&i){const e=_.oxw().$implicit;_.xp6(1),_.hij(" ",e.operatingState,"")}}function a(i,s){if(1&i){const e=_.EpF();_.TgZ(0,"tr"),_.TgZ(1,"td"),_.TgZ(2,"input",47),_.NdJ("click",function(n){const O=_.CHM(e).$implicit;return _.oxw(2).onSelectOne(n,O.name)}),_.qZA(),_.qZA(),_.TgZ(3,"td",48),_._uU(4),_.qZA(),_.TgZ(5,"td",48),_._uU(6),_.qZA(),_.TgZ(7,"td"),_._uU(8),_.qZA(),_.TgZ(9,"td"),_._uU(10),_.qZA(),_.TgZ(11,"td"),_.TgZ(12,"span",49),_.YNc(13,C,2,1,"span",50),_.YNc(14,r,2,1,"span",51),_.qZA(),_.qZA(),_.TgZ(15,"td",52),_.TgZ(16,"span",49),_.YNc(17,o,2,1,"span",50),_.YNc(18,l,2,1,"span",53),_.YNc(19,S,2,1,"span",51),_.qZA(),_.qZA(),_.TgZ(20,"td"),_.TgZ(21,"span",54),_._uU(22),_.qZA(),_.qZA(),_.TgZ(23,"td"),_.TgZ(24,"span",54),_._uU(25),_.qZA(),_.qZA(),_.qZA()}if(2&i){const e=s.$implicit,t=_.oxw(2);_.ekj("table-active",t.isChecked(e.name)),_.xp6(2),_.Q6J("checked",t.isChecked(e.name)),_.xp6(2),_.Oqu(e.id),_.xp6(2),_.Oqu(e.name),_.xp6(2),_.Oqu(e.description),_.xp6(2),_.Oqu(e.labels),_.xp6(2),_.Q6J("ngSwitch",e.adminState),_.xp6(1),_.Q6J("ngSwitchCase","UNLOCKED"),_.xp6(3),_.Q6J("ngSwitch",e.operatingState),_.xp6(1),_.Q6J("ngSwitchCase","UP"),_.xp6(1),_.Q6J("ngSwitchCase","DOWN"),_.xp6(4),_.Oqu(e.profileName),_.xp6(3),_.Oqu(e.serviceName)}}function R(i,s){if(1&i){const e=_.EpF();_.TgZ(0,"div",9),_.TgZ(1,"div",10),_.TgZ(2,"div",11),_._UZ(3,"i",12),_.TgZ(4,"span"),_.SDv(5,13),_.qZA(),_.qZA(),_.TgZ(6,"div",14),_.TgZ(7,"div",15),_.TgZ(8,"table",16),_.TgZ(9,"thead",17),_.TgZ(10,"tr"),_.TgZ(11,"th",18),_.YNc(12,f,1,1,"input",19),_.qZA(),_.TgZ(13,"th",18),_.SDv(14,20),_.qZA(),_.TgZ(15,"th",18),_.SDv(16,21),_.qZA(),_.TgZ(17,"th",18),_.SDv(18,22),_.qZA(),_.TgZ(19,"th",18),_.SDv(20,23),_.qZA(),_.TgZ(21,"th",18),_.SDv(22,24),_.qZA(),_.TgZ(23,"th",18),_.SDv(24,25),_.qZA(),_.TgZ(25,"th",18),_.SDv(26,26),_.qZA(),_.TgZ(27,"th",18),_.SDv(28,27),_.qZA(),_.qZA(),_.qZA(),_.TgZ(29,"tbody"),_.YNc(30,a,26,14,"tr",28),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.TgZ(31,"div",29),_.TgZ(32,"nav",30),_.TgZ(33,"ul",31),_.TgZ(34,"li",32),_.TgZ(35,"span",33),_.SDv(36,34),_.qZA(),_.qZA(),_.TgZ(37,"li",35),_.TgZ(38,"select",36),_.NdJ("ngModelChange",function(n){return _.CHM(e),_.oxw().pageLimit=n})("ngModelChange",function(){return _.CHM(e),_.oxw().onPageSelected()}),_.TgZ(39,"option",37),_._uU(40,"5"),_.qZA(),_.TgZ(41,"option",38),_._uU(42,"10"),_.qZA(),_.TgZ(43,"option",39),_._uU(44,"20"),_.qZA(),_.qZA(),_.qZA(),_.TgZ(45,"li",40),_.TgZ(46,"button",41),_.NdJ("click",function(){return _.CHM(e),_.oxw().prePage()}),_._UZ(47,"i",42),_.TgZ(48,"span"),_.SDv(49,43),_.qZA(),_.qZA(),_.qZA(),_.TgZ(50,"li",44),_.TgZ(51,"button",41),_.NdJ("click",function(){return _.CHM(e),_.oxw().nextPage()}),_.TgZ(52,"span"),_.SDv(53,45),_.qZA(),_._UZ(54,"i",46),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA()}if(2&i){const e=_.oxw();_.xp6(12),_.Q6J("ngIf",!e.singleSelectionMode),_.xp6(18),_.Q6J("ngForOf",e.deviceList),_.xp6(8),_.Q6J("ngModel",e.pageLimit),_.xp6(8),_.Q6J("disabled",1===e.pagination),_.xp6(5),_.Q6J("disabled",e.pageLimit>e.deviceList.length)}}let U=(()=>{class i{constructor(e){this.metaSvc=e,this.deviceList=[],this.deviceNamesSelectedStr="",this._deviceSelected=[],this.deviceSelectedChange=new _.vpe,this.singleDeviceSelectedChange=new _.vpe,this.visible=!1,this.validate=!1,this.singleSelectionMode=!1,this.pagination=1,this.pageLimit=5,this.pageOffset=(this.pagination-1)*this.pageLimit,this._singleDeviceSelected=""}get deviceSelected(){return this._deviceSelected}set deviceSelected(e){e.forEach((t,n)=>{e[n]=t.trim()}),this._deviceSelected=e,this.deviceNamesSelectedStr=this._deviceSelected.join(",")}get singleDeviceSelected(){return this._singleDeviceSelected}set singleDeviceSelected(e){this._singleDeviceSelected=e?e.trim():"",this.deviceNamesSelectedStr=this._singleDeviceSelected}ngOnInit(){this.getDeviceListPagination()}getDeviceListPagination(){this.metaSvc.allDevicesPagination(this.pageOffset,this.pageLimit).subscribe(e=>{this.deviceList=e.devices})}onSelectAll(e){this.deviceList.forEach(e.target.checked?n=>{this.deviceSelected.includes(n.name)||this.deviceSelected.push(n.name)}:n=>{this.deviceSelected.includes(n.name)&&this.deviceSelected.splice(this.deviceSelected.indexOf(n.name),1)}),this.deviceSelectedChange.emit(this.deviceSelected),this.deviceNamesSelectedStr=this.deviceSelected.join(",")}isCheckedAll(){let e=!0;return this.deviceList.forEach(t=>{this.deviceSelected.includes(t.name)||(e=!1)}),e}isChecked(e){return this.singleSelectionMode?this.singleDeviceSelected===e:this.deviceSelected.includes(e)}selectSingleDevice(e,t){this.singleDeviceSelected=e.target.checked?t:"",this.deviceNamesSelectedStr=this.singleDeviceSelected,this.singleDeviceSelectedChange.emit(this.singleDeviceSelected)}onSelectOne(e,t){this.singleSelectionMode?this.selectSingleDevice(e,t):(e.target.checked?this.deviceSelected.push(t):this.deviceSelected.splice(this.deviceSelected.indexOf(t),1),this.deviceNamesSelectedStr=this.deviceSelected.join(","),this.deviceSelectedChange.emit(this.deviceSelected))}onPageSelected(){this.resetPagination(),this.getDeviceListPagination()}prePage(){this.setPagination(-1),this.getDeviceListPagination()}nextPage(){this.setPagination(1),this.getDeviceListPagination()}setPagination(e){1===e?this.pagination+=1:-1===e&&(this.pagination-=1),this.pageOffset=(this.pagination-1)*this.pageLimit}resetPagination(){this.pagination=1,this.pageOffset=(this.pagination-1)*this.pageLimit}close(e){this.visible=!1}toggle(e){e.stopPropagation(),this.visible=!this.visible}}return i.\u0275fac=function(e){return new(e||i)(_.Y36(I.D))},i.\u0275cmp=_.Xpm({type:i,selectors:[["app-device-combo-list"]],inputs:{deviceSelected:"deviceSelected",singleDeviceSelected:"singleDeviceSelected",validate:"validate",singleSelectionMode:"singleSelectionMode"},outputs:{deviceSelectedChange:"deviceSelectedChange",singleDeviceSelectedChange:"singleDeviceSelectedChange"},decls:8,vars:3,consts:function(){let s,e,t,n,E,O,v,M,A,h,u,m;return s="\u8BBE\u5907\u5217\u8868",e="ID",t="\u540D\u5B57",n="\u63CF\u8FF0",E="\u6807\u7B7E",O="\u7BA1\u7406\u72B6\u6001",v="\u64CD\u4F5C\u72B6\u6001",M="\u76F8\u5173\u8BBE\u5907\u5143\u4FE1\u606F",A="\u76F8\u5173\u8BBE\u5907\u670D\u52A1",h="\u6BCF\u9875\u6761\u76EE",u="\u4E0A\u4E00\u9875",m="\u4E0B\u4E00\u9875",[["class","combo-shielder",3,"click",4,"ngIf"],[1,"combo"],[1,"input-group","has-validation",3,"mousedown"],["type","text","name","deviceNamesSelected","disabled","",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-group-append"],["role","button",1,"input-group-text"],[1,"fa","fa-chevron-down"],["class","combo-body shadow rounded",4,"ngIf"],[1,"combo-shielder",3,"click"],[1,"combo-body","shadow","rounded"],[1,"card"],[1,"card-header"],[1,"fa","fa-list","text-danger","mr-2"],s,[1,"card-body","p-0"],[1,"table-responsive"],[1,"table","table-hover","text-truncate"],[1,"thead-light"],["scope","col"],["type","checkbox","role","button",3,"checked","click",4,"ngIf"],e,t,n,E,O,v,M,A,[3,"table-active",4,"ngFor","ngForOf"],[1,"card-footer","text-muted","p-1"],["aria-label","navigation"],[1,"pagination","justify-content-end","m-0"],[1,"page-item","mr-2","mt-1"],[1,"align-middle"],h,[1,"page-item","mr-2"],["name","pageLimit","id","pageLimit",1,"form-control",3,"ngModel","ngModelChange"],["value","5"],["value","10"],["value","20"],[1,"page-item","mr-1"],[1,"page-link","btn",3,"disabled","click"],[1,"fa","fa-angle-double-left","mr-1"],u,[1,"page-item"],m,[1,"fa","fa-angle-double-right","ml-1"],["type","checkbox","role","button",3,"checked","click"],[1,"user-select-all"],[3,"ngSwitch"],["class","badge badge-success",4,"ngSwitchCase"],["class","badge badge-danger",4,"ngSwitchDefault"],[1,"text-center"],["class","badge badge-danger",4,"ngSwitchCase"],[1,"text-primary"],[1,"badge","badge-success"],[1,"badge","badge-danger"]]},template:function(e,t){1&e&&(_.YNc(0,p,1,0,"div",0),_.TgZ(1,"div",1),_.TgZ(2,"div",2),_.NdJ("mousedown",function(E){return t.toggle(E)}),_.TgZ(3,"input",3),_.NdJ("ngModelChange",function(E){return t.deviceNamesSelectedStr=E}),_.qZA(),_.TgZ(4,"div",4),_.TgZ(5,"span",5),_._UZ(6,"i",6),_.qZA(),_.qZA(),_.qZA(),_.YNc(7,R,55,5,"div",7),_.qZA()),2&e&&(_.Q6J("ngIf",t.visible),_.xp6(3),_.Q6J("ngModel",t.deviceNamesSelectedStr),_.xp6(4),_.Q6J("ngIf",t.visible))},directives:[g.O5,T.Fj,T.JJ,T.On,g.sg,T.EJ,T.YN,T.Kr,g.RF,g.n9,g.ED],styles:[".combo[_ngcontent-%COMP%]{position:relative;right:auto}.combo-shielder[_ngcontent-%COMP%]{position:fixed;top:0;bottom:0;right:0;left:0;z-index:100}.combo-body[_ngcontent-%COMP%]{position:absolute;top:33px;bottom:auto;left:0;right:0;z-index:105;visibility:visible;display:inline-block}"]}),i})()},6322:(P,D,c)=>{c.d(D,{o:()=>f});var _=c(476),I=c(8583),g=c(3092),T=c(2822);function p(C,r){if(1&C){const o=_.EpF();_.TgZ(0,"div",9),_.NdJ("click",function(S){return _.CHM(o),_.oxw().close(S)}),_.qZA()}}let f=(()=>{class C{constructor(){this.selectedProfilesStr="",this._selectedProfiles=[],this.deviceProfileSelectedEvent=new _.vpe,this.singleProfileSelectedObject={},this.singleProfileSelectedChange=new _.vpe,this.visible=!1,this.validate=!1,this.singleSelectionMode=!1,this._singleProfileSelected=""}get selectedProfiles(){return this._selectedProfiles}set selectedProfiles(o){o.forEach((l,S)=>{o[S]=l.trim()}),this._selectedProfiles=o,this.selectedProfilesStr=this._selectedProfiles.join(",")}get singleProfileSelected(){return this._singleProfileSelected}set singleProfileSelected(o){this._singleProfileSelected=o?o.trim():"",this.selectedProfilesStr=this._singleProfileSelected,this.singleProfileSelectedObject={name:this._singleProfileSelected}}ngOnInit(){}onMultipleProfileSelectedEvent(o){this.selectedProfiles=o,this.selectedProfilesStr=this.selectedProfiles.join(","),this.deviceProfileSelectedEvent.emit(this.selectedProfiles)}onSingleProfileSelectedEvent(o){this.singleProfileSelected=o?o.name:"",this.selectedProfilesStr=this.singleProfileSelected,this.singleProfileSelectedChange.emit(this.singleProfileSelected)}close(o){this.visible=!1}toggle(o){o.stopPropagation(),this.visible=!this.visible}}return C.\u0275fac=function(o){return new(o||C)},C.\u0275cmp=_.Xpm({type:C,selectors:[["app-device-profile-combo-list"]],inputs:{selectedProfiles:"selectedProfiles",singleProfileSelected:"singleProfileSelected",validate:"validate",singleSelectionMode:"singleSelectionMode"},outputs:{deviceProfileSelectedEvent:"deviceProfileSelectedEvent",singleProfileSelectedChange:"singleProfileSelectedChange"},decls:9,vars:9,consts:[["class","combo-shielder",3,"click",4,"ngIf"],[1,"combo"],[1,"input-group","has-validation",3,"mousedown"],["type","text","name","selectedProfiles","disabled","",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-group-append"],["role","button",1,"input-group-text"],[1,"fa","fa-chevron-down"],[1,"combo-body","shadow","rounded"],[3,"toolbars","associatedDeviceColumn","enableSelectAll","multiProfilesSelected","singleProfileSelected","multipleProfileSelectedEvent","singleProfileSelectedEvent"],[1,"combo-shielder",3,"click"]],template:function(o,l){1&o&&(_.YNc(0,p,1,0,"div",0),_.TgZ(1,"div",1),_.TgZ(2,"div",2),_.NdJ("mousedown",function(a){return l.toggle(a)}),_.TgZ(3,"input",3),_.NdJ("ngModelChange",function(a){return l.selectedProfilesStr=a}),_.qZA(),_.TgZ(4,"div",4),_.TgZ(5,"span",5),_._UZ(6,"i",6),_.qZA(),_.qZA(),_.qZA(),_.TgZ(7,"div",7),_.TgZ(8,"app-device-profile-list",8),_.NdJ("multipleProfileSelectedEvent",function(a){return l.onMultipleProfileSelectedEvent(a)})("singleProfileSelectedEvent",function(a){return l.onSingleProfileSelectedEvent(a)}),_.qZA(),_.qZA(),_.qZA()),2&o&&(_.Q6J("ngIf",l.visible),_.xp6(3),_.Q6J("ngModel",l.selectedProfilesStr),_.xp6(4),_.Udp("display",l.visible?"":"none"),_.xp6(1),_.Q6J("toolbars",!1)("associatedDeviceColumn",!1)("enableSelectAll",!l.singleSelectionMode)("multiProfilesSelected",l.selectedProfiles)("singleProfileSelected",l.singleProfileSelectedObject))},directives:[I.O5,g.Fj,g.JJ,g.On,T.f],styles:[".combo[_ngcontent-%COMP%]{position:relative;right:auto}.combo-shielder[_ngcontent-%COMP%]{position:fixed;top:0;bottom:0;right:0;left:0;z-index:100}.combo-body[_ngcontent-%COMP%]{position:absolute;top:33px;bottom:auto;left:0;right:0;z-index:105;visibility:visible;display:inline-block}"]}),C})()}}]);