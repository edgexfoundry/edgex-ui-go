!function(oe,ft){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=oe.document?ft(oe,!0):function(ue){if(!ue.document)throw new Error("jQuery requires a window with a document");return ft(ue)}:ft(oe)}(typeof window<"u"?window:this,function(oe,ft){"use strict";var ue=[],qe=Object.getPrototypeOf,X=ue.slice,Ye=ue.flat?function(T){return ue.flat.call(T)}:function(T){return ue.concat.apply([],T)},ve=ue.push,Qe=ue.indexOf,Pe={},st=Pe.toString,Ce=Pe.hasOwnProperty,yt=Ce.toString,St=yt.call(Object),Ke={},it=function(T){return"function"==typeof T&&"number"!=typeof T.nodeType&&"function"!=typeof T.item},He=function(T){return null!=T&&T===T.window},De=oe.document,ct={type:!0,src:!0,nonce:!0,noModule:!0};function ne(T,O,N){var M,B,V=(N=N||De).createElement("script");if(V.text=T,O)for(M in ct)(B=O[M]||O.getAttribute&&O.getAttribute(M))&&V.setAttribute(M,B);N.head.appendChild(V).parentNode.removeChild(V)}function Me(T){return null==T?T+"":"object"==typeof T||"function"==typeof T?Pe[st.call(T)]||"object":typeof T}var P=function(T,O){return new P.fn.init(T,O)};function tt(T){var O=!!T&&"length"in T&&T.length,N=Me(T);return!it(T)&&!He(T)&&("array"===N||0===O||"number"==typeof O&&0<O&&O-1 in T)}P.fn=P.prototype={jquery:"3.6.0",constructor:P,length:0,toArray:function(){return X.call(this)},get:function(T){return null==T?X.call(this):T<0?this[T+this.length]:this[T]},pushStack:function(T){var O=P.merge(this.constructor(),T);return O.prevObject=this,O},each:function(T){return P.each(this,T)},map:function(T){return this.pushStack(P.map(this,function(O,N){return T.call(O,N,O)}))},slice:function(){return this.pushStack(X.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(P.grep(this,function(T,O){return(O+1)%2}))},odd:function(){return this.pushStack(P.grep(this,function(T,O){return O%2}))},eq:function(T){var O=this.length,N=+T+(T<0?O:0);return this.pushStack(0<=N&&N<O?[this[N]]:[])},end:function(){return this.prevObject||this.constructor()},push:ve,sort:ue.sort,splice:ue.splice},P.extend=P.fn.extend=function(){var T,O,N,M,B,V,j=arguments[0]||{},te=1,fe=arguments.length,xe=!1;for("boolean"==typeof j&&(xe=j,j=arguments[te]||{},te++),"object"==typeof j||it(j)||(j={}),te===fe&&(j=this,te--);te<fe;te++)if(null!=(T=arguments[te]))for(O in T)M=T[O],"__proto__"!==O&&j!==M&&(xe&&M&&(P.isPlainObject(M)||(B=Array.isArray(M)))?(N=j[O],V=B&&!Array.isArray(N)?[]:B||P.isPlainObject(N)?N:{},B=!1,j[O]=P.extend(xe,V,M)):void 0!==M&&(j[O]=M));return j},P.extend({expando:"jQuery"+("3.6.0"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(T){throw new Error(T)},noop:function(){},isPlainObject:function(T){var O,N;return!(!T||"[object Object]"!==st.call(T)||(O=qe(T))&&("function"!=typeof(N=Ce.call(O,"constructor")&&O.constructor)||yt.call(N)!==St))},isEmptyObject:function(T){var O;for(O in T)return!1;return!0},globalEval:function(T,O,N){ne(T,{nonce:O&&O.nonce},N)},each:function(T,O){var N,M=0;if(tt(T))for(N=T.length;M<N&&!1!==O.call(T[M],M,T[M]);M++);else for(M in T)if(!1===O.call(T[M],M,T[M]))break;return T},makeArray:function(T,O){var N=O||[];return null!=T&&(tt(Object(T))?P.merge(N,"string"==typeof T?[T]:T):ve.call(N,T)),N},inArray:function(T,O,N){return null==O?-1:Qe.call(O,T,N)},merge:function(T,O){for(var N=+O.length,M=0,B=T.length;M<N;M++)T[B++]=O[M];return T.length=B,T},grep:function(T,O,N){for(var M=[],B=0,V=T.length,j=!N;B<V;B++)!O(T[B],B)!==j&&M.push(T[B]);return M},map:function(T,O,N){var M,B,V=0,j=[];if(tt(T))for(M=T.length;V<M;V++)null!=(B=O(T[V],V,N))&&j.push(B);else for(V in T)null!=(B=O(T[V],V,N))&&j.push(B);return Ye(j)},guid:1,support:Ke}),"function"==typeof Symbol&&(P.fn[Symbol.iterator]=ue[Symbol.iterator]),P.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(T,O){Pe["[object "+O+"]"]=O.toLowerCase()});var Te=function(T){var O,N,M,B,V,j,te,fe,xe,Ze,bt,at,ht,nn,fn,an,wi,$i,co,li="sizzle"+1*new Date,Dn=T.document,Gr=0,Zn=0,Li=ws(),za=ws(),_s=ws(),br=ws(),Va=function(de,Ne){return de===Ne&&(bt=!0),0},Ga={}.hasOwnProperty,Wr=[],Xo=Wr.pop,hi=Wr.push,ri=Wr.push,Yr=Wr.slice,Lr=function(de,Ne){for(var Ue=0,_t=de.length;Ue<_t;Ue++)if(de[Ue]===Ne)return Ue;return-1},ua="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",In="[\\x20\\t\\r\\n\\f]",oi="(?:\\\\[\\da-fA-F]{1,6}"+In+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",qi="\\["+In+"*("+oi+")(?:"+In+"*([*^$|!~]?=)"+In+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+oi+"))|)"+In+"*\\]",ho=":("+oi+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+qi+")*)|.*)\\)|)",er=new RegExp(In+"+","g"),Xr=new RegExp("^"+In+"+|((?:^|[^\\\\])(?:\\\\.)*)"+In+"+$","g"),Ta=new RegExp("^"+In+"*,"+In+"*"),xs=new RegExp("^"+In+"*([>+~]|"+In+")"+In+"*"),nf=new RegExp(In+"|>"),Ea=new RegExp(ho),Oo=new RegExp("^"+oi+"$"),jr={ID:new RegExp("^#("+oi+")"),CLASS:new RegExp("^\\.("+oi+")"),TAG:new RegExp("^("+oi+"|[*])"),ATTR:new RegExp("^"+qi),PSEUDO:new RegExp("^"+ho),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+In+"*(even|odd|(([+-]|)(\\d*)n|)"+In+"*(?:([+-]|)"+In+"*(\\d+)|))"+In+"*\\)|)","i"),bool:new RegExp("^(?:"+ua+")$","i"),needsContext:new RegExp("^"+In+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+In+"*((?:-\\d)?\\d*)"+In+"*\\)|)(?=[^-]|$)","i")},bo=/HTML$/i,Ca=/^(?:input|select|textarea|button)$/i,So=/^h\d$/i,Dr=/^[^{]+\{\s*\[native \w/,Ql=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Xu=/[+~]/,jo=new RegExp("\\\\[\\da-fA-F]{1,6}"+In+"?|\\\\([^\\r\\n\\f])","g"),Ia=function(de,Ne){var Ue="0x"+de.slice(1)-65536;return Ne||(Ue<0?String.fromCharCode(Ue+65536):String.fromCharCode(Ue>>10|55296,1023&Ue|56320))},bs=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,Ss=function(de,Ne){return Ne?"\0"===de?"\ufffd":de.slice(0,-1)+"\\"+de.charCodeAt(de.length-1).toString(16)+" ":"\\"+de},Wa=function(){at()},qr=Zo(function(de){return!0===de.disabled&&"fieldset"===de.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{ri.apply(Wr=Yr.call(Dn.childNodes),Dn.childNodes)}catch{ri={apply:Wr.length?function(Ne,Ue){hi.apply(Ne,Yr.call(Ue))}:function(Ne,Ue){for(var _t=Ne.length,je=0;Ne[_t++]=Ue[je++];);Ne.length=_t-1}}}function ai(de,Ne,Ue,_t){var je,Nt,Ct,Ut,Zt,Cn,wn,yn=Ne&&Ne.ownerDocument,Gn=Ne?Ne.nodeType:9;if(Ue=Ue||[],"string"!=typeof de||!de||1!==Gn&&9!==Gn&&11!==Gn)return Ue;if(!_t&&(at(Ne),Ne=Ne||ht,fn)){if(11!==Gn&&(Zt=Ql.exec(de)))if(je=Zt[1]){if(9===Gn){if(!(Ct=Ne.getElementById(je)))return Ue;if(Ct.id===je)return Ue.push(Ct),Ue}else if(yn&&(Ct=yn.getElementById(je))&&co(Ne,Ct)&&Ct.id===je)return Ue.push(Ct),Ue}else{if(Zt[2])return ri.apply(Ue,Ne.getElementsByTagName(de)),Ue;if((je=Zt[3])&&N.getElementsByClassName&&Ne.getElementsByClassName)return ri.apply(Ue,Ne.getElementsByClassName(je)),Ue}if(N.qsa&&!br[de+" "]&&(!an||!an.test(de))&&(1!==Gn||"object"!==Ne.nodeName.toLowerCase())){if(wn=de,yn=Ne,1===Gn&&(nf.test(de)||xs.test(de))){for((yn=Xu.test(de)&&qo(Ne.parentNode)||Ne)===Ne&&N.scope||((Ut=Ne.getAttribute("id"))?Ut=Ut.replace(bs,Ss):Ne.setAttribute("id",Ut=li)),Nt=(Cn=j(de)).length;Nt--;)Cn[Nt]=(Ut?"#"+Ut:":scope")+" "+Ma(Cn[Nt]);wn=Cn.join(",")}try{return ri.apply(Ue,yn.querySelectorAll(wn)),Ue}catch{br(de,!0)}finally{Ut===li&&Ne.removeAttribute("id")}}}return fe(de.replace(Xr,"$1"),Ne,Ue,_t)}function ws(){var de=[];return function Ne(Ue,_t){return de.push(Ue+" ")>M.cacheLength&&delete Ne[de.shift()],Ne[Ue+" "]=_t}}function wo(de){return de[li]=!0,de}function gr(de){var Ne=ht.createElement("fieldset");try{return!!de(Ne)}catch{return!1}finally{Ne.parentNode&&Ne.parentNode.removeChild(Ne),Ne=null}}function $l(de,Ne){for(var Ue=de.split("|"),_t=Ue.length;_t--;)M.attrHandle[Ue[_t]]=Ne}function gn(de,Ne){var Ue=Ne&&de,_t=Ue&&1===de.nodeType&&1===Ne.nodeType&&de.sourceIndex-Ne.sourceIndex;if(_t)return _t;if(Ue)for(;Ue=Ue.nextSibling;)if(Ue===Ne)return-1;return de?1:-1}function Tl(de){return function(Ne){return"input"===Ne.nodeName.toLowerCase()&&Ne.type===de}}function Ya(de){return function(Ne){var Ue=Ne.nodeName.toLowerCase();return("input"===Ue||"button"===Ue)&&Ne.type===de}}function Aa(de){return function(Ne){return"form"in Ne?Ne.parentNode&&!1===Ne.disabled?"label"in Ne?"label"in Ne.parentNode?Ne.parentNode.disabled===de:Ne.disabled===de:Ne.isDisabled===de||Ne.isDisabled!==!de&&qr(Ne)===de:Ne.disabled===de:"label"in Ne&&Ne.disabled===de}}function fo(de){return wo(function(Ne){return Ne=+Ne,wo(function(Ue,_t){for(var je,Nt=de([],Ue.length,Ne),Ct=Nt.length;Ct--;)Ue[je=Nt[Ct]]&&(Ue[je]=!(_t[je]=Ue[je]))})})}function qo(de){return de&&typeof de.getElementsByTagName<"u"&&de}for(O in N=ai.support={},V=ai.isXML=function(de){var Ue=de&&(de.ownerDocument||de).documentElement;return!bo.test(de&&de.namespaceURI||Ue&&Ue.nodeName||"HTML")},at=ai.setDocument=function(de){var Ne,Ue,_t=de?de.ownerDocument||de:Dn;return _t!=ht&&9===_t.nodeType&&_t.documentElement&&(nn=(ht=_t).documentElement,fn=!V(ht),Dn!=ht&&(Ue=ht.defaultView)&&Ue.top!==Ue&&(Ue.addEventListener?Ue.addEventListener("unload",Wa,!1):Ue.attachEvent&&Ue.attachEvent("onunload",Wa)),N.scope=gr(function(je){return nn.appendChild(je).appendChild(ht.createElement("div")),typeof je.querySelectorAll<"u"&&!je.querySelectorAll(":scope fieldset div").length}),N.attributes=gr(function(je){return je.className="i",!je.getAttribute("className")}),N.getElementsByTagName=gr(function(je){return je.appendChild(ht.createComment("")),!je.getElementsByTagName("*").length}),N.getElementsByClassName=Dr.test(ht.getElementsByClassName),N.getById=gr(function(je){return nn.appendChild(je).id=li,!ht.getElementsByName||!ht.getElementsByName(li).length}),N.getById?(M.filter.ID=function(je){var Nt=je.replace(jo,Ia);return function(Ct){return Ct.getAttribute("id")===Nt}},M.find.ID=function(je,Nt){if(typeof Nt.getElementById<"u"&&fn){var Ct=Nt.getElementById(je);return Ct?[Ct]:[]}}):(M.filter.ID=function(je){var Nt=je.replace(jo,Ia);return function(Ct){var Ut=typeof Ct.getAttributeNode<"u"&&Ct.getAttributeNode("id");return Ut&&Ut.value===Nt}},M.find.ID=function(je,Nt){if(typeof Nt.getElementById<"u"&&fn){var Ct,Ut,Zt,Cn=Nt.getElementById(je);if(Cn){if((Ct=Cn.getAttributeNode("id"))&&Ct.value===je)return[Cn];for(Zt=Nt.getElementsByName(je),Ut=0;Cn=Zt[Ut++];)if((Ct=Cn.getAttributeNode("id"))&&Ct.value===je)return[Cn]}return[]}}),M.find.TAG=N.getElementsByTagName?function(je,Nt){return typeof Nt.getElementsByTagName<"u"?Nt.getElementsByTagName(je):N.qsa?Nt.querySelectorAll(je):void 0}:function(je,Nt){var Ct,Ut=[],Zt=0,Cn=Nt.getElementsByTagName(je);if("*"===je){for(;Ct=Cn[Zt++];)1===Ct.nodeType&&Ut.push(Ct);return Ut}return Cn},M.find.CLASS=N.getElementsByClassName&&function(je,Nt){if(typeof Nt.getElementsByClassName<"u"&&fn)return Nt.getElementsByClassName(je)},wi=[],an=[],(N.qsa=Dr.test(ht.querySelectorAll))&&(gr(function(je){var Nt;nn.appendChild(je).innerHTML="<a id='"+li+"'></a><select id='"+li+"-\r\\' msallowcapture=''><option selected=''></option></select>",je.querySelectorAll("[msallowcapture^='']").length&&an.push("[*^$]="+In+"*(?:''|\"\")"),je.querySelectorAll("[selected]").length||an.push("\\["+In+"*(?:value|"+ua+")"),je.querySelectorAll("[id~="+li+"-]").length||an.push("~="),(Nt=ht.createElement("input")).setAttribute("name",""),je.appendChild(Nt),je.querySelectorAll("[name='']").length||an.push("\\["+In+"*name"+In+"*="+In+"*(?:''|\"\")"),je.querySelectorAll(":checked").length||an.push(":checked"),je.querySelectorAll("a#"+li+"+*").length||an.push(".#.+[+~]"),je.querySelectorAll("\\\f"),an.push("[\\r\\n\\f]")}),gr(function(je){je.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var Nt=ht.createElement("input");Nt.setAttribute("type","hidden"),je.appendChild(Nt).setAttribute("name","D"),je.querySelectorAll("[name=d]").length&&an.push("name"+In+"*[*^$|!~]?="),2!==je.querySelectorAll(":enabled").length&&an.push(":enabled",":disabled"),nn.appendChild(je).disabled=!0,2!==je.querySelectorAll(":disabled").length&&an.push(":enabled",":disabled"),je.querySelectorAll("*,:x"),an.push(",.*:")})),(N.matchesSelector=Dr.test($i=nn.matches||nn.webkitMatchesSelector||nn.mozMatchesSelector||nn.oMatchesSelector||nn.msMatchesSelector))&&gr(function(je){N.disconnectedMatch=$i.call(je,"*"),$i.call(je,"[s!='']:x"),wi.push("!=",ho)}),an=an.length&&new RegExp(an.join("|")),wi=wi.length&&new RegExp(wi.join("|")),Ne=Dr.test(nn.compareDocumentPosition),co=Ne||Dr.test(nn.contains)?function(je,Nt){var Ct=9===je.nodeType?je.documentElement:je,Ut=Nt&&Nt.parentNode;return je===Ut||!(!Ut||1!==Ut.nodeType||!(Ct.contains?Ct.contains(Ut):je.compareDocumentPosition&&16&je.compareDocumentPosition(Ut)))}:function(je,Nt){if(Nt)for(;Nt=Nt.parentNode;)if(Nt===je)return!0;return!1},Va=Ne?function(je,Nt){if(je===Nt)return bt=!0,0;var Ct=!je.compareDocumentPosition-!Nt.compareDocumentPosition;return Ct||(1&(Ct=(je.ownerDocument||je)==(Nt.ownerDocument||Nt)?je.compareDocumentPosition(Nt):1)||!N.sortDetached&&Nt.compareDocumentPosition(je)===Ct?je==ht||je.ownerDocument==Dn&&co(Dn,je)?-1:Nt==ht||Nt.ownerDocument==Dn&&co(Dn,Nt)?1:Ze?Lr(Ze,je)-Lr(Ze,Nt):0:4&Ct?-1:1)}:function(je,Nt){if(je===Nt)return bt=!0,0;var Ct,Ut=0,Zt=je.parentNode,Cn=Nt.parentNode,wn=[je],yn=[Nt];if(!Zt||!Cn)return je==ht?-1:Nt==ht?1:Zt?-1:Cn?1:Ze?Lr(Ze,je)-Lr(Ze,Nt):0;if(Zt===Cn)return gn(je,Nt);for(Ct=je;Ct=Ct.parentNode;)wn.unshift(Ct);for(Ct=Nt;Ct=Ct.parentNode;)yn.unshift(Ct);for(;wn[Ut]===yn[Ut];)Ut++;return Ut?gn(wn[Ut],yn[Ut]):wn[Ut]==Dn?-1:yn[Ut]==Dn?1:0}),ht},ai.matches=function(de,Ne){return ai(de,null,null,Ne)},ai.matchesSelector=function(de,Ne){if(at(de),N.matchesSelector&&fn&&!br[Ne+" "]&&(!wi||!wi.test(Ne))&&(!an||!an.test(Ne)))try{var Ue=$i.call(de,Ne);if(Ue||N.disconnectedMatch||de.document&&11!==de.document.nodeType)return Ue}catch{br(Ne,!0)}return 0<ai(Ne,ht,null,[de]).length},ai.contains=function(de,Ne){return(de.ownerDocument||de)!=ht&&at(de),co(de,Ne)},ai.attr=function(de,Ne){(de.ownerDocument||de)!=ht&&at(de);var Ue=M.attrHandle[Ne.toLowerCase()],_t=Ue&&Ga.call(M.attrHandle,Ne.toLowerCase())?Ue(de,Ne,!fn):void 0;return void 0!==_t?_t:N.attributes||!fn?de.getAttribute(Ne):(_t=de.getAttributeNode(Ne))&&_t.specified?_t.value:null},ai.escape=function(de){return(de+"").replace(bs,Ss)},ai.error=function(de){throw new Error("Syntax error, unrecognized expression: "+de)},ai.uniqueSort=function(de){var Ne,Ue=[],_t=0,je=0;if(bt=!N.detectDuplicates,Ze=!N.sortStable&&de.slice(0),de.sort(Va),bt){for(;Ne=de[je++];)Ne===de[je]&&(_t=Ue.push(je));for(;_t--;)de.splice(Ue[_t],1)}return Ze=null,de},B=ai.getText=function(de){var Ne,Ue="",_t=0,je=de.nodeType;if(je){if(1===je||9===je||11===je){if("string"==typeof de.textContent)return de.textContent;for(de=de.firstChild;de;de=de.nextSibling)Ue+=B(de)}else if(3===je||4===je)return de.nodeValue}else for(;Ne=de[_t++];)Ue+=B(Ne);return Ue},(M=ai.selectors={cacheLength:50,createPseudo:wo,match:jr,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(de){return de[1]=de[1].replace(jo,Ia),de[3]=(de[3]||de[4]||de[5]||"").replace(jo,Ia),"~="===de[2]&&(de[3]=" "+de[3]+" "),de.slice(0,4)},CHILD:function(de){return de[1]=de[1].toLowerCase(),"nth"===de[1].slice(0,3)?(de[3]||ai.error(de[0]),de[4]=+(de[4]?de[5]+(de[6]||1):2*("even"===de[3]||"odd"===de[3])),de[5]=+(de[7]+de[8]||"odd"===de[3])):de[3]&&ai.error(de[0]),de},PSEUDO:function(de){var Ne,Ue=!de[6]&&de[2];return jr.CHILD.test(de[0])?null:(de[3]?de[2]=de[4]||de[5]||"":Ue&&Ea.test(Ue)&&(Ne=j(Ue,!0))&&(Ne=Ue.indexOf(")",Ue.length-Ne)-Ue.length)&&(de[0]=de[0].slice(0,Ne),de[2]=Ue.slice(0,Ne)),de.slice(0,3))}},filter:{TAG:function(de){var Ne=de.replace(jo,Ia).toLowerCase();return"*"===de?function(){return!0}:function(Ue){return Ue.nodeName&&Ue.nodeName.toLowerCase()===Ne}},CLASS:function(de){var Ne=Li[de+" "];return Ne||(Ne=new RegExp("(^|"+In+")"+de+"("+In+"|$)"))&&Li(de,function(Ue){return Ne.test("string"==typeof Ue.className&&Ue.className||typeof Ue.getAttribute<"u"&&Ue.getAttribute("class")||"")})},ATTR:function(de,Ne,Ue){return function(_t){var je=ai.attr(_t,de);return null==je?"!="===Ne:!Ne||(je+="","="===Ne?je===Ue:"!="===Ne?je!==Ue:"^="===Ne?Ue&&0===je.indexOf(Ue):"*="===Ne?Ue&&-1<je.indexOf(Ue):"$="===Ne?Ue&&je.slice(-Ue.length)===Ue:"~="===Ne?-1<(" "+je.replace(er," ")+" ").indexOf(Ue):"|="===Ne&&(je===Ue||je.slice(0,Ue.length+1)===Ue+"-"))}},CHILD:function(de,Ne,Ue,_t,je){var Nt="nth"!==de.slice(0,3),Ct="last"!==de.slice(-4),Ut="of-type"===Ne;return 1===_t&&0===je?function(Zt){return!!Zt.parentNode}:function(Zt,Cn,wn){var yn,Gn,fi,En,Xn,Di,Hi=Nt!==Ct?"nextSibling":"previousSibling",Ft=Zt.parentNode,ca=Ut&&Zt.nodeName.toLowerCase(),tr=!wn&&!Ut,di=!1;if(Ft){if(Nt){for(;Hi;){for(En=Zt;En=En[Hi];)if(Ut?En.nodeName.toLowerCase()===ca:1===En.nodeType)return!1;Di=Hi="only"===de&&!Di&&"nextSibling"}return!0}if(Di=[Ct?Ft.firstChild:Ft.lastChild],Ct&&tr){for(di=(Xn=(yn=(Gn=(fi=(En=Ft)[li]||(En[li]={}))[En.uniqueID]||(fi[En.uniqueID]={}))[de]||[])[0]===Gr&&yn[1])&&yn[2],En=Xn&&Ft.childNodes[Xn];En=++Xn&&En&&En[Hi]||(di=Xn=0)||Di.pop();)if(1===En.nodeType&&++di&&En===Zt){Gn[de]=[Gr,Xn,di];break}}else if(tr&&(di=Xn=(yn=(Gn=(fi=(En=Zt)[li]||(En[li]={}))[En.uniqueID]||(fi[En.uniqueID]={}))[de]||[])[0]===Gr&&yn[1]),!1===di)for(;(En=++Xn&&En&&En[Hi]||(di=Xn=0)||Di.pop())&&((Ut?En.nodeName.toLowerCase()!==ca:1!==En.nodeType)||!++di||(tr&&((Gn=(fi=En[li]||(En[li]={}))[En.uniqueID]||(fi[En.uniqueID]={}))[de]=[Gr,di]),En!==Zt)););return(di-=je)===_t||di%_t==0&&0<=di/_t}}},PSEUDO:function(de,Ne){var Ue,_t=M.pseudos[de]||M.setFilters[de.toLowerCase()]||ai.error("unsupported pseudo: "+de);return _t[li]?_t(Ne):1<_t.length?(Ue=[de,de,"",Ne],M.setFilters.hasOwnProperty(de.toLowerCase())?wo(function(je,Nt){for(var Ct,Ut=_t(je,Ne),Zt=Ut.length;Zt--;)je[Ct=Lr(je,Ut[Zt])]=!(Nt[Ct]=Ut[Zt])}):function(je){return _t(je,0,Ue)}):_t}},pseudos:{not:wo(function(de){var Ne=[],Ue=[],_t=te(de.replace(Xr,"$1"));return _t[li]?wo(function(je,Nt,Ct,Ut){for(var Zt,Cn=_t(je,null,Ut,[]),wn=je.length;wn--;)(Zt=Cn[wn])&&(je[wn]=!(Nt[wn]=Zt))}):function(je,Nt,Ct){return Ne[0]=je,_t(Ne,null,Ct,Ue),Ne[0]=null,!Ue.pop()}}),has:wo(function(de){return function(Ne){return 0<ai(de,Ne).length}}),contains:wo(function(de){return de=de.replace(jo,Ia),function(Ne){return-1<(Ne.textContent||B(Ne)).indexOf(de)}}),lang:wo(function(de){return Oo.test(de||"")||ai.error("unsupported lang: "+de),de=de.replace(jo,Ia).toLowerCase(),function(Ne){var Ue;do{if(Ue=fn?Ne.lang:Ne.getAttribute("xml:lang")||Ne.getAttribute("lang"))return(Ue=Ue.toLowerCase())===de||0===Ue.indexOf(de+"-")}while((Ne=Ne.parentNode)&&1===Ne.nodeType);return!1}}),target:function(de){var Ne=T.location&&T.location.hash;return Ne&&Ne.slice(1)===de.id},root:function(de){return de===nn},focus:function(de){return de===ht.activeElement&&(!ht.hasFocus||ht.hasFocus())&&!!(de.type||de.href||~de.tabIndex)},enabled:Aa(!1),disabled:Aa(!0),checked:function(de){var Ne=de.nodeName.toLowerCase();return"input"===Ne&&!!de.checked||"option"===Ne&&!!de.selected},selected:function(de){return!0===de.selected},empty:function(de){for(de=de.firstChild;de;de=de.nextSibling)if(de.nodeType<6)return!1;return!0},parent:function(de){return!M.pseudos.empty(de)},header:function(de){return So.test(de.nodeName)},input:function(de){return Ca.test(de.nodeName)},button:function(de){var Ne=de.nodeName.toLowerCase();return"input"===Ne&&"button"===de.type||"button"===Ne},text:function(de){var Ne;return"input"===de.nodeName.toLowerCase()&&"text"===de.type&&(null==(Ne=de.getAttribute("type"))||"text"===Ne.toLowerCase())},first:fo(function(){return[0]}),last:fo(function(de,Ne){return[Ne-1]}),eq:fo(function(de,Ne,Ue){return[Ue<0?Ue+Ne:Ue]}),even:fo(function(de,Ne){for(var Ue=0;Ue<Ne;Ue+=2)de.push(Ue);return de}),odd:fo(function(de,Ne){for(var Ue=1;Ue<Ne;Ue+=2)de.push(Ue);return de}),lt:fo(function(de,Ne,Ue){for(var _t=Ue<0?Ue+Ne:Ne<Ue?Ne:Ue;0<=--_t;)de.push(_t);return de}),gt:fo(function(de,Ne,Ue){for(var _t=Ue<0?Ue+Ne:Ue;++_t<Ne;)de.push(_t);return de})}}).pseudos.nth=M.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})M.pseudos[O]=Tl(O);for(O in{submit:!0,reset:!0})M.pseudos[O]=Ya(O);function Ko(){}function Ma(de){for(var Ne=0,Ue=de.length,_t="";Ne<Ue;Ne++)_t+=de[Ne].value;return _t}function Zo(de,Ne,Ue){var _t=Ne.dir,je=Ne.next,Nt=je||_t,Ct=Ue&&"parentNode"===Nt,Ut=Zn++;return Ne.first?function(Zt,Cn,wn){for(;Zt=Zt[_t];)if(1===Zt.nodeType||Ct)return de(Zt,Cn,wn);return!1}:function(Zt,Cn,wn){var yn,Gn,fi,En=[Gr,Ut];if(wn){for(;Zt=Zt[_t];)if((1===Zt.nodeType||Ct)&&de(Zt,Cn,wn))return!0}else for(;Zt=Zt[_t];)if(1===Zt.nodeType||Ct)if(Gn=(fi=Zt[li]||(Zt[li]={}))[Zt.uniqueID]||(fi[Zt.uniqueID]={}),je&&je===Zt.nodeName.toLowerCase())Zt=Zt[_t]||Zt;else{if((yn=Gn[Nt])&&yn[0]===Gr&&yn[1]===Ut)return En[2]=yn[2];if((Gn[Nt]=En)[2]=de(Zt,Cn,wn))return!0}return!1}}function cn(de){return 1<de.length?function(Ne,Ue,_t){for(var je=de.length;je--;)if(!de[je](Ne,Ue,_t))return!1;return!0}:de[0]}function Qs(de,Ne,Ue,_t,je){for(var Nt,Ct=[],Ut=0,Zt=de.length,Cn=null!=Ne;Ut<Zt;Ut++)(Nt=de[Ut])&&(Ue&&!Ue(Nt,_t,je)||(Ct.push(Nt),Cn&&Ne.push(Ut)));return Ct}function Jo(de,Ne,Ue,_t,je,Nt){return _t&&!_t[li]&&(_t=Jo(_t)),je&&!je[li]&&(je=Jo(je,Nt)),wo(function(Ct,Ut,Zt,Cn){var wn,yn,Gn,fi=[],En=[],Xn=Ut.length,Di=Ct||function(ca,tr,di){for(var ko=0,Ts=tr.length;ko<Ts;ko++)ai(ca,tr[ko],di);return di}(Ne||"*",Zt.nodeType?[Zt]:Zt,[]),Hi=!de||!Ct&&Ne?Di:Qs(Di,fi,de,Zt,Cn),Ft=Ue?je||(Ct?de:Xn||_t)?[]:Ut:Hi;if(Ue&&Ue(Hi,Ft,Zt,Cn),_t)for(wn=Qs(Ft,En),_t(wn,[],Zt,Cn),yn=wn.length;yn--;)(Gn=wn[yn])&&(Ft[En[yn]]=!(Hi[En[yn]]=Gn));if(Ct){if(je||de){if(je){for(wn=[],yn=Ft.length;yn--;)(Gn=Ft[yn])&&wn.push(Hi[yn]=Gn);je(null,Ft=[],wn,Cn)}for(yn=Ft.length;yn--;)(Gn=Ft[yn])&&-1<(wn=je?Lr(Ct,Gn):fi[yn])&&(Ct[wn]=!(Ut[wn]=Gn))}}else Ft=Qs(Ft===Ut?Ft.splice(Xn,Ft.length):Ft),je?je(null,Ut,Ft,Cn):ri.apply(Ut,Ft)})}function El(de){for(var Ne,Ue,_t,je=de.length,Nt=M.relative[de[0].type],Ct=Nt||M.relative[" "],Ut=Nt?1:0,Zt=Zo(function(yn){return yn===Ne},Ct,!0),Cn=Zo(function(yn){return-1<Lr(Ne,yn)},Ct,!0),wn=[function(yn,Gn,fi){var En=!Nt&&(fi||Gn!==xe)||((Ne=Gn).nodeType?Zt(yn,Gn,fi):Cn(yn,Gn,fi));return Ne=null,En}];Ut<je;Ut++)if(Ue=M.relative[de[Ut].type])wn=[Zo(cn(wn),Ue)];else{if((Ue=M.filter[de[Ut].type].apply(null,de[Ut].matches))[li]){for(_t=++Ut;_t<je&&!M.relative[de[_t].type];_t++);return Jo(1<Ut&&cn(wn),1<Ut&&Ma(de.slice(0,Ut-1).concat({value:" "===de[Ut-2].type?"*":""})).replace(Xr,"$1"),Ue,Ut<_t&&El(de.slice(Ut,_t)),_t<je&&El(de=de.slice(_t)),_t<je&&Ma(de))}wn.push(Ue)}return cn(wn)}return Ko.prototype=M.filters=M.pseudos,M.setFilters=new Ko,j=ai.tokenize=function(de,Ne){var Ue,_t,je,Nt,Ct,Ut,Zt,Cn=za[de+" "];if(Cn)return Ne?0:Cn.slice(0);for(Ct=de,Ut=[],Zt=M.preFilter;Ct;){for(Nt in Ue&&!(_t=Ta.exec(Ct))||(_t&&(Ct=Ct.slice(_t[0].length)||Ct),Ut.push(je=[])),Ue=!1,(_t=xs.exec(Ct))&&(Ue=_t.shift(),je.push({value:Ue,type:_t[0].replace(Xr," ")}),Ct=Ct.slice(Ue.length)),M.filter)!(_t=jr[Nt].exec(Ct))||Zt[Nt]&&!(_t=Zt[Nt](_t))||(Ue=_t.shift(),je.push({value:Ue,type:Nt,matches:_t}),Ct=Ct.slice(Ue.length));if(!Ue)break}return Ne?Ct.length:Ct?ai.error(de):za(de,Ut).slice(0)},te=ai.compile=function(de,Ne){var Ue,_t,je,Nt,Ct,Ut,Zt=[],Cn=[],wn=_s[de+" "];if(!wn){for(Ne||(Ne=j(de)),Ue=Ne.length;Ue--;)(wn=El(Ne[Ue]))[li]?Zt.push(wn):Cn.push(wn);(wn=_s(de,(_t=Cn,Nt=0<(je=Zt).length,Ct=0<_t.length,Ut=function(yn,Gn,fi,En,Xn){var Di,Hi,Ft,ca=0,tr="0",di=yn&&[],ko=[],Ts=xe,$s=yn||Ct&&M.find.TAG("*",Xn),Vc=Gr+=null==Ts?1:Math.random()||.1,ju=$s.length;for(Xn&&(xe=Gn==ht||Gn||Xn);tr!==ju&&null!=(Di=$s[tr]);tr++){if(Ct&&Di){for(Hi=0,Gn||Di.ownerDocument==ht||(at(Di),fi=!fn);Ft=_t[Hi++];)if(Ft(Di,Gn||ht,fi)){En.push(Di);break}Xn&&(Gr=Vc)}Nt&&((Di=!Ft&&Di)&&ca--,yn&&di.push(Di))}if(ca+=tr,Nt&&tr!==ca){for(Hi=0;Ft=je[Hi++];)Ft(di,ko,Gn,fi);if(yn){if(0<ca)for(;tr--;)di[tr]||ko[tr]||(ko[tr]=Xo.call(En));ko=Qs(ko)}ri.apply(En,ko),Xn&&!yn&&0<ko.length&&1<ca+je.length&&ai.uniqueSort(En)}return Xn&&(Gr=Vc,xe=Ts),di},Nt?wo(Ut):Ut))).selector=de}return wn},fe=ai.select=function(de,Ne,Ue,_t){var je,Nt,Ct,Ut,Zt,Cn="function"==typeof de&&de,wn=!_t&&j(de=Cn.selector||de);if(Ue=Ue||[],1===wn.length){if(2<(Nt=wn[0]=wn[0].slice(0)).length&&"ID"===(Ct=Nt[0]).type&&9===Ne.nodeType&&fn&&M.relative[Nt[1].type]){if(!(Ne=(M.find.ID(Ct.matches[0].replace(jo,Ia),Ne)||[])[0]))return Ue;Cn&&(Ne=Ne.parentNode),de=de.slice(Nt.shift().value.length)}for(je=jr.needsContext.test(de)?0:Nt.length;je--&&!M.relative[Ut=(Ct=Nt[je]).type];)if((Zt=M.find[Ut])&&(_t=Zt(Ct.matches[0].replace(jo,Ia),Xu.test(Nt[0].type)&&qo(Ne.parentNode)||Ne))){if(Nt.splice(je,1),!(de=_t.length&&Ma(Nt)))return ri.apply(Ue,_t),Ue;break}}return(Cn||te(de,wn))(_t,Ne,!fn,Ue,!Ne||Xu.test(de)&&qo(Ne.parentNode)||Ne),Ue},N.sortStable=li.split("").sort(Va).join("")===li,N.detectDuplicates=!!bt,at(),N.sortDetached=gr(function(de){return 1&de.compareDocumentPosition(ht.createElement("fieldset"))}),gr(function(de){return de.innerHTML="<a href='#'></a>","#"===de.firstChild.getAttribute("href")})||$l("type|href|height|width",function(de,Ne,Ue){if(!Ue)return de.getAttribute(Ne,"type"===Ne.toLowerCase()?1:2)}),N.attributes&&gr(function(de){return de.innerHTML="<input/>",de.firstChild.setAttribute("value",""),""===de.firstChild.getAttribute("value")})||$l("value",function(de,Ne,Ue){if(!Ue&&"input"===de.nodeName.toLowerCase())return de.defaultValue}),gr(function(de){return null==de.getAttribute("disabled")})||$l(ua,function(de,Ne,Ue){var _t;if(!Ue)return!0===de[Ne]?Ne.toLowerCase():(_t=de.getAttributeNode(Ne))&&_t.specified?_t.value:null}),ai}(oe);P.find=Te,P.expr=Te.selectors,P.expr[":"]=P.expr.pseudos,P.uniqueSort=P.unique=Te.uniqueSort,P.text=Te.getText,P.isXMLDoc=Te.isXML,P.contains=Te.contains,P.escapeSelector=Te.escape;var Ie=function(T,O,N){for(var M=[],B=void 0!==N;(T=T[O])&&9!==T.nodeType;)if(1===T.nodeType){if(B&&P(T).is(N))break;M.push(T)}return M},et=function(T,O){for(var N=[];T;T=T.nextSibling)1===T.nodeType&&T!==O&&N.push(T);return N},se=P.expr.match.needsContext;function Ee(T,O){return T.nodeName&&T.nodeName.toLowerCase()===O.toLowerCase()}var ie=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function pe(T,O,N){return it(O)?P.grep(T,function(M,B){return!!O.call(M,B,M)!==N}):O.nodeType?P.grep(T,function(M){return M===O!==N}):"string"!=typeof O?P.grep(T,function(M){return-1<Qe.call(O,M)!==N}):P.filter(O,T,N)}P.filter=function(T,O,N){var M=O[0];return N&&(T=":not("+T+")"),1===O.length&&1===M.nodeType?P.find.matchesSelector(M,T)?[M]:[]:P.find.matches(T,P.grep(O,function(B){return 1===B.nodeType}))},P.fn.extend({find:function(T){var O,N,M=this.length,B=this;if("string"!=typeof T)return this.pushStack(P(T).filter(function(){for(O=0;O<M;O++)if(P.contains(B[O],this))return!0}));for(N=this.pushStack([]),O=0;O<M;O++)P.find(T,B[O],N);return 1<M?P.uniqueSort(N):N},filter:function(T){return this.pushStack(pe(this,T||[],!1))},not:function(T){return this.pushStack(pe(this,T||[],!0))},is:function(T){return!!pe(this,"string"==typeof T&&se.test(T)?P(T):T||[],!1).length}});var C,lt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(P.fn.init=function(T,O,N){var M,B;if(!T)return this;if(N=N||C,"string"==typeof T){if(!(M="<"===T[0]&&">"===T[T.length-1]&&3<=T.length?[null,T,null]:lt.exec(T))||!M[1]&&O)return!O||O.jquery?(O||N).find(T):this.constructor(O).find(T);if(M[1]){if(P.merge(this,P.parseHTML(M[1],(O=O instanceof P?O[0]:O)&&O.nodeType?O.ownerDocument||O:De,!0)),ie.test(M[1])&&P.isPlainObject(O))for(M in O)it(this[M])?this[M](O[M]):this.attr(M,O[M]);return this}return(B=De.getElementById(M[2]))&&(this[0]=B,this.length=1),this}return T.nodeType?(this[0]=T,this.length=1,this):it(T)?void 0!==N.ready?N.ready(T):T(P):P.makeArray(T,this)}).prototype=P.fn,C=P(De);var gt=/^(?:parents|prev(?:Until|All))/,Y={children:!0,contents:!0,next:!0,prev:!0};function Ve(T,O){for(;(T=T[O])&&1!==T.nodeType;);return T}P.fn.extend({has:function(T){var O=P(T,this),N=O.length;return this.filter(function(){for(var M=0;M<N;M++)if(P.contains(this,O[M]))return!0})},closest:function(T,O){var N,M=0,B=this.length,V=[],j="string"!=typeof T&&P(T);if(!se.test(T))for(;M<B;M++)for(N=this[M];N&&N!==O;N=N.parentNode)if(N.nodeType<11&&(j?-1<j.index(N):1===N.nodeType&&P.find.matchesSelector(N,T))){V.push(N);break}return this.pushStack(1<V.length?P.uniqueSort(V):V)},index:function(T){return T?"string"==typeof T?Qe.call(P(T),this[0]):Qe.call(this,T.jquery?T[0]:T):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(T,O){return this.pushStack(P.uniqueSort(P.merge(this.get(),P(T,O))))},addBack:function(T){return this.add(null==T?this.prevObject:this.prevObject.filter(T))}}),P.each({parent:function(T){var O=T.parentNode;return O&&11!==O.nodeType?O:null},parents:function(T){return Ie(T,"parentNode")},parentsUntil:function(T,O,N){return Ie(T,"parentNode",N)},next:function(T){return Ve(T,"nextSibling")},prev:function(T){return Ve(T,"previousSibling")},nextAll:function(T){return Ie(T,"nextSibling")},prevAll:function(T){return Ie(T,"previousSibling")},nextUntil:function(T,O,N){return Ie(T,"nextSibling",N)},prevUntil:function(T,O,N){return Ie(T,"previousSibling",N)},siblings:function(T){return et((T.parentNode||{}).firstChild,T)},children:function(T){return et(T.firstChild)},contents:function(T){return null!=T.contentDocument&&qe(T.contentDocument)?T.contentDocument:(Ee(T,"template")&&(T=T.content||T),P.merge([],T.childNodes))}},function(T,O){P.fn[T]=function(N,M){var B=P.map(this,O,N);return"Until"!==T.slice(-5)&&(M=N),M&&"string"==typeof M&&(B=P.filter(M,B)),1<this.length&&(Y[T]||P.uniqueSort(B),gt.test(T)&&B.reverse()),this.pushStack(B)}});var zt=/[^\x20\t\r\n\f]+/g;function jt(T){return T}function rn(T){throw T}function Mt(T,O,N,M){var B;try{T&&it(B=T.promise)?B.call(T).done(O).fail(N):T&&it(B=T.then)?B.call(T,O,N):O.apply(void 0,[T].slice(M))}catch(V){N.apply(void 0,[V])}}P.Callbacks=function(T){var N;T="string"==typeof T?(N={},P.each(T.match(zt)||[],function(at,ht){N[ht]=!0}),N):P.extend({},T);var M,B,V,j,te=[],fe=[],xe=-1,Ze=function(){for(j=j||T.once,V=M=!0;fe.length;xe=-1)for(B=fe.shift();++xe<te.length;)!1===te[xe].apply(B[0],B[1])&&T.stopOnFalse&&(xe=te.length,B=!1);T.memory||(B=!1),M=!1,j&&(te=B?[]:"")},bt={add:function(){return te&&(B&&!M&&(xe=te.length-1,fe.push(B)),function at(ht){P.each(ht,function(nn,fn){it(fn)?T.unique&&bt.has(fn)||te.push(fn):fn&&fn.length&&"string"!==Me(fn)&&at(fn)})}(arguments),B&&!M&&Ze()),this},remove:function(){return P.each(arguments,function(at,ht){for(var nn;-1<(nn=P.inArray(ht,te,nn));)te.splice(nn,1),nn<=xe&&xe--}),this},has:function(at){return at?-1<P.inArray(at,te):0<te.length},empty:function(){return te&&(te=[]),this},disable:function(){return j=fe=[],te=B="",this},disabled:function(){return!te},lock:function(){return j=fe=[],B||M||(te=B=""),this},locked:function(){return!!j},fireWith:function(at,ht){return j||(ht=[at,(ht=ht||[]).slice?ht.slice():ht],fe.push(ht),M||Ze()),this},fire:function(){return bt.fireWith(this,arguments),this},fired:function(){return!!V}};return bt},P.extend({Deferred:function(T){var O=[["notify","progress",P.Callbacks("memory"),P.Callbacks("memory"),2],["resolve","done",P.Callbacks("once memory"),P.Callbacks("once memory"),0,"resolved"],["reject","fail",P.Callbacks("once memory"),P.Callbacks("once memory"),1,"rejected"]],N="pending",M={state:function(){return N},always:function(){return B.done(arguments).fail(arguments),this},catch:function(V){return M.then(null,V)},pipe:function(){var V=arguments;return P.Deferred(function(j){P.each(O,function(te,fe){var xe=it(V[fe[4]])&&V[fe[4]];B[fe[1]](function(){var Ze=xe&&xe.apply(this,arguments);Ze&&it(Ze.promise)?Ze.promise().progress(j.notify).done(j.resolve).fail(j.reject):j[fe[0]+"With"](this,xe?[Ze]:arguments)})}),V=null}).promise()},then:function(V,j,te){var fe=0;function xe(Ze,bt,at,ht){return function(){var nn=this,fn=arguments,an=function(){var $i,co;if(!(Ze<fe)){if(($i=at.apply(nn,fn))===bt.promise())throw new TypeError("Thenable self-resolution");it(co=$i&&("object"==typeof $i||"function"==typeof $i)&&$i.then)?ht?co.call($i,xe(fe,bt,jt,ht),xe(fe,bt,rn,ht)):(fe++,co.call($i,xe(fe,bt,jt,ht),xe(fe,bt,rn,ht),xe(fe,bt,jt,bt.notifyWith))):(at!==jt&&(nn=void 0,fn=[$i]),(ht||bt.resolveWith)(nn,fn))}},wi=ht?an:function(){try{an()}catch($i){P.Deferred.exceptionHook&&P.Deferred.exceptionHook($i,wi.stackTrace),fe<=Ze+1&&(at!==rn&&(nn=void 0,fn=[$i]),bt.rejectWith(nn,fn))}};Ze?wi():(P.Deferred.getStackHook&&(wi.stackTrace=P.Deferred.getStackHook()),oe.setTimeout(wi))}}return P.Deferred(function(Ze){O[0][3].add(xe(0,Ze,it(te)?te:jt,Ze.notifyWith)),O[1][3].add(xe(0,Ze,it(V)?V:jt)),O[2][3].add(xe(0,Ze,it(j)?j:rn))}).promise()},promise:function(V){return null!=V?P.extend(V,M):M}},B={};return P.each(O,function(V,j){var te=j[2],fe=j[5];M[j[1]]=te.add,fe&&te.add(function(){N=fe},O[3-V][2].disable,O[3-V][3].disable,O[0][2].lock,O[0][3].lock),te.add(j[3].fire),B[j[0]]=function(){return B[j[0]+"With"](this===B?void 0:this,arguments),this},B[j[0]+"With"]=te.fireWith}),M.promise(B),T&&T.call(B,B),B},when:function(T){var O=arguments.length,N=O,M=Array(N),B=X.call(arguments),V=P.Deferred(),j=function(te){return function(fe){M[te]=this,B[te]=1<arguments.length?X.call(arguments):fe,--O||V.resolveWith(M,B)}};if(O<=1&&(Mt(T,V.done(j(N)).resolve,V.reject,!O),"pending"===V.state()||it(B[N]&&B[N].then)))return V.then();for(;N--;)Mt(B[N],j(N),V.reject);return V.promise()}});var mt=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;P.Deferred.exceptionHook=function(T,O){oe.console&&oe.console.warn&&T&&mt.test(T.name)&&oe.console.warn("jQuery.Deferred exception: "+T.message,T.stack,O)},P.readyException=function(T){oe.setTimeout(function(){throw T})};var Lt=P.Deferred();function rt(){De.removeEventListener("DOMContentLoaded",rt),oe.removeEventListener("load",rt),P.ready()}P.fn.ready=function(T){return Lt.then(T).catch(function(O){P.readyException(O)}),this},P.extend({isReady:!1,readyWait:1,ready:function(T){(!0===T?--P.readyWait:P.isReady)||(P.isReady=!0)!==T&&0<--P.readyWait||Lt.resolveWith(De,[P])}}),P.ready.then=Lt.then,"complete"===De.readyState||"loading"!==De.readyState&&!De.documentElement.doScroll?oe.setTimeout(P.ready):(De.addEventListener("DOMContentLoaded",rt),oe.addEventListener("load",rt));var sn=function(T,O,N,M,B,V,j){var te=0,fe=T.length,xe=null==N;if("object"===Me(N))for(te in B=!0,N)sn(T,O,te,N[te],!0,V,j);else if(void 0!==M&&(B=!0,it(M)||(j=!0),xe&&(j?(O.call(T,M),O=null):(xe=O,O=function(Ze,bt,at){return xe.call(P(Ze),at)})),O))for(;te<fe;te++)O(T[te],N,j?M:M.call(T[te],te,O(T[te],N)));return B?T:xe?O.call(T):fe?O(T[0],N):V},Jt=/^-ms-/,Pi=/-([a-z])/g;function Ci(T,O){return O.toUpperCase()}function Bt(T){return T.replace(Jt,"ms-").replace(Pi,Ci)}var xi=function(T){return 1===T.nodeType||9===T.nodeType||!+T.nodeType};function Pn(){this.expando=P.expando+Pn.uid++}Pn.uid=1,Pn.prototype={cache:function(T){var O=T[this.expando];return O||(O={},xi(T)&&(T.nodeType?T[this.expando]=O:Object.defineProperty(T,this.expando,{value:O,configurable:!0}))),O},set:function(T,O,N){var M,B=this.cache(T);if("string"==typeof O)B[Bt(O)]=N;else for(M in O)B[Bt(M)]=O[M];return B},get:function(T,O){return void 0===O?this.cache(T):T[this.expando]&&T[this.expando][Bt(O)]},access:function(T,O,N){return void 0===O||O&&"string"==typeof O&&void 0===N?this.get(T,O):(this.set(T,O,N),void 0!==N?N:O)},remove:function(T,O){var N,M=T[this.expando];if(void 0!==M){if(void 0!==O)for((N=(O=Array.isArray(O)?O.map(Bt):(O=Bt(O))in M?[O]:O.match(zt)||[]).length);N--;)delete M[O[N]];(void 0===O||P.isEmptyObject(M))&&(T.nodeType?T[this.expando]=void 0:delete T[this.expando])}},hasData:function(T){var O=T[this.expando];return void 0!==O&&!P.isEmptyObject(O)}};var Rt=new Pn,ei=new Pn,Bi=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,si=/[A-Z]/g;function ti(T,O,N){var M,B;if(void 0===N&&1===T.nodeType)if(M="data-"+O.replace(si,"-$&").toLowerCase(),"string"==typeof(N=T.getAttribute(M))){try{N="true"===(B=N)||"false"!==B&&("null"===B?null:B===+B+""?+B:Bi.test(B)?JSON.parse(B):B)}catch{}ei.set(T,O,N)}else N=void 0;return N}P.extend({hasData:function(T){return ei.hasData(T)||Rt.hasData(T)},data:function(T,O,N){return ei.access(T,O,N)},removeData:function(T,O){ei.remove(T,O)},_data:function(T,O,N){return Rt.access(T,O,N)},_removeData:function(T,O){Rt.remove(T,O)}}),P.fn.extend({data:function(T,O){var N,M,B,V=this[0],j=V&&V.attributes;if(void 0===T){if(this.length&&(B=ei.get(V),1===V.nodeType&&!Rt.get(V,"hasDataAttrs"))){for(N=j.length;N--;)j[N]&&0===(M=j[N].name).indexOf("data-")&&(M=Bt(M.slice(5)),ti(V,M,B[M]));Rt.set(V,"hasDataAttrs",!0)}return B}return"object"==typeof T?this.each(function(){ei.set(this,T)}):sn(this,function(te){var fe;if(V&&void 0===te)return void 0!==(fe=ei.get(V,T))||void 0!==(fe=ti(V,T))?fe:void 0;this.each(function(){ei.set(this,T,te)})},null,O,1<arguments.length,null,!0)},removeData:function(T){return this.each(function(){ei.remove(this,T)})}}),P.extend({queue:function(T,O,N){var M;if(T)return M=Rt.get(T,O=(O||"fx")+"queue"),N&&(!M||Array.isArray(N)?M=Rt.access(T,O,P.makeArray(N)):M.push(N)),M||[]},dequeue:function(T,O){var N=P.queue(T,O=O||"fx"),M=N.length,B=N.shift(),V=P._queueHooks(T,O);"inprogress"===B&&(B=N.shift(),M--),B&&("fx"===O&&N.unshift("inprogress"),delete V.stop,B.call(T,function(){P.dequeue(T,O)},V)),!M&&V&&V.empty.fire()},_queueHooks:function(T,O){var N=O+"queueHooks";return Rt.get(T,N)||Rt.access(T,N,{empty:P.Callbacks("once memory").add(function(){Rt.remove(T,[O+"queue",N])})})}}),P.fn.extend({queue:function(T,O){var N=2;return"string"!=typeof T&&(O=T,T="fx",N--),arguments.length<N?P.queue(this[0],T):void 0===O?this:this.each(function(){var M=P.queue(this,T,O);P._queueHooks(this,T),"fx"===T&&"inprogress"!==M[0]&&P.dequeue(this,T)})},dequeue:function(T){return this.each(function(){P.dequeue(this,T)})},clearQueue:function(T){return this.queue(T||"fx",[])},promise:function(T,O){var N,M=1,B=P.Deferred(),V=this,j=this.length,te=function(){--M||B.resolveWith(V,[V])};for("string"!=typeof T&&(O=T,T=void 0),T=T||"fx";j--;)(N=Rt.get(V[j],T+"queueHooks"))&&N.empty&&(M++,N.empty.add(te));return te(),B.promise(O)}});var zn=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ln=new RegExp("^(?:([+-])=|)("+zn+")([a-z%]*)$","i"),ui=["Top","Right","Bottom","Left"],Wi=De.documentElement,Ai=function(T){return P.contains(T.ownerDocument,T)},ni={composed:!0};Wi.getRootNode&&(Ai=function(T){return P.contains(T.ownerDocument,T)||T.getRootNode(ni)===T.ownerDocument});var Ji=function(T,O){return"none"===(T=O||T).style.display||""===T.style.display&&Ai(T)&&"none"===P.css(T,"display")};function Ir(T,O,N,M){var B,V,j=20,te=M?function(){return M.cur()}:function(){return P.css(T,O,"")},fe=te(),xe=N&&N[3]||(P.cssNumber[O]?"":"px"),Ze=T.nodeType&&(P.cssNumber[O]||"px"!==xe&&+fe)&&ln.exec(P.css(T,O));if(Ze&&Ze[3]!==xe){for(xe=xe||Ze[3],Ze=+(fe/=2)||1;j--;)P.style(T,O,Ze+xe),(1-V)*(1-(V=te()/fe||.5))<=0&&(j=0),Ze/=V;P.style(T,O,(Ze*=2)+xe),N=N||[]}return N&&(Ze=+Ze||+fe||0,B=N[1]?Ze+(N[1]+1)*N[2]:+N[2],M&&(M.unit=xe,M.start=Ze,M.end=B)),B}var Ar={};function bi(T,O){for(var N,M,B,V,j,te,fe,xe=[],Ze=0,bt=T.length;Ze<bt;Ze++)(M=T[Ze]).style&&(N=M.style.display,O?("none"===N&&(xe[Ze]=Rt.get(M,"display")||null,xe[Ze]||(M.style.display="")),""===M.style.display&&Ji(M)&&(xe[Ze]=(fe=j=V=void 0,j=(B=M).ownerDocument,(fe=Ar[te=B.nodeName])||(V=j.body.appendChild(j.createElement(te)),fe=P.css(V,"display"),V.parentNode.removeChild(V),"none"===fe&&(fe="block"),Ar[te]=fe)))):"none"!==N&&(xe[Ze]="none",Rt.set(M,"display",N)));for(Ze=0;Ze<bt;Ze++)null!=xe[Ze]&&(T[Ze].style.display=xe[Ze]);return T}P.fn.extend({show:function(){return bi(this,!0)},hide:function(){return bi(this)},toggle:function(T){return"boolean"==typeof T?T?this.show():this.hide():this.each(function(){Ji(this)?P(this).show():P(this).hide()})}});var Yi,Ht,Si=/^(?:checkbox|radio)$/i,Qi=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ut=/^$|^module$|\/(?:java|ecma)script/i;Yi=De.createDocumentFragment().appendChild(De.createElement("div")),(Ht=De.createElement("input")).setAttribute("type","radio"),Ht.setAttribute("checked","checked"),Ht.setAttribute("name","t"),Yi.appendChild(Ht),Ke.checkClone=Yi.cloneNode(!0).cloneNode(!0).lastChild.checked,Yi.innerHTML="<textarea>x</textarea>",Ke.noCloneChecked=!!Yi.cloneNode(!0).lastChild.defaultValue,Yi.innerHTML="<option></option>",Ke.option=!!Yi.lastChild;var Vn={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ke(T,O){var N;return N=typeof T.getElementsByTagName<"u"?T.getElementsByTagName(O||"*"):typeof T.querySelectorAll<"u"?T.querySelectorAll(O||"*"):[],void 0===O||O&&Ee(T,O)?P.merge([T],N):N}function Ae(T,O){for(var N=0,M=T.length;N<M;N++)Rt.set(T[N],"globalEval",!O||Rt.get(O[N],"globalEval"))}Vn.tbody=Vn.tfoot=Vn.colgroup=Vn.caption=Vn.thead,Vn.th=Vn.td,Ke.option||(Vn.optgroup=Vn.option=[1,"<select multiple='multiple'>","</select>"]);var z=/<|&#?\w+;/;function ae(T,O,N,M,B){for(var V,j,te,fe,xe,Ze,bt=O.createDocumentFragment(),at=[],ht=0,nn=T.length;ht<nn;ht++)if((V=T[ht])||0===V)if("object"===Me(V))P.merge(at,V.nodeType?[V]:V);else if(z.test(V)){for(j=j||bt.appendChild(O.createElement("div")),te=(Qi.exec(V)||["",""])[1].toLowerCase(),j.innerHTML=(fe=Vn[te]||Vn._default)[1]+P.htmlPrefilter(V)+fe[2],Ze=fe[0];Ze--;)j=j.lastChild;P.merge(at,j.childNodes),(j=bt.firstChild).textContent=""}else at.push(O.createTextNode(V));for(bt.textContent="",ht=0;V=at[ht++];)if(M&&-1<P.inArray(V,M))B&&B.push(V);else if(xe=Ai(V),j=ke(bt.appendChild(V),"script"),xe&&Ae(j),N)for(Ze=0;V=j[Ze++];)ut.test(V.type||"")&&N.push(V);return bt}var ye=/^([^.]*)(?:\.(.+)|)/;function Fe(){return!0}function Xe(){return!1}function Vt(T,O){return T===function(){try{return De.activeElement}catch{}}()==("focus"===O)}function tn(T,O,N,M,B,V){var j,te;if("object"==typeof O){for(te in"string"!=typeof N&&(M=M||N,N=void 0),O)tn(T,te,N,M,O[te],V);return T}if(null==M&&null==B?(B=N,M=N=void 0):null==B&&("string"==typeof N?(B=M,M=void 0):(B=M,M=N,N=void 0)),!1===B)B=Xe;else if(!B)return T;return 1===V&&(j=B,(B=function(fe){return P().off(fe),j.apply(this,arguments)}).guid=j.guid||(j.guid=P.guid++)),T.each(function(){P.event.add(this,O,B,M,N)})}function bn(T,O,N){N?(Rt.set(T,O,!1),P.event.add(T,O,{namespace:!1,handler:function(M){var B,V,j=Rt.get(this,O);if(1&M.isTrigger&&this[O]){if(j.length)(P.event.special[O]||{}).delegateType&&M.stopPropagation();else if(j=X.call(arguments),Rt.set(this,O,j),B=N(this,O),this[O](),j!==(V=Rt.get(this,O))||B?Rt.set(this,O,!1):V={},j!==V)return M.stopImmediatePropagation(),M.preventDefault(),V&&V.value}else j.length&&(Rt.set(this,O,{value:P.event.trigger(P.extend(j[0],P.Event.prototype),j.slice(1),this)}),M.stopImmediatePropagation())}})):void 0===Rt.get(T,O)&&P.event.add(T,O,Fe)}P.event={global:{},add:function(T,O,N,M,B){var V,j,te,fe,xe,Ze,bt,at,ht,nn,fn,an=Rt.get(T);if(xi(T))for(N.handler&&(N=(V=N).handler,B=V.selector),B&&P.find.matchesSelector(Wi,B),N.guid||(N.guid=P.guid++),(fe=an.events)||(fe=an.events=Object.create(null)),(j=an.handle)||(j=an.handle=function(wi){return typeof P<"u"&&P.event.triggered!==wi.type?P.event.dispatch.apply(T,arguments):void 0}),xe=(O=(O||"").match(zt)||[""]).length;xe--;)ht=fn=(te=ye.exec(O[xe])||[])[1],nn=(te[2]||"").split(".").sort(),ht&&(bt=P.event.special[ht]||{},bt=P.event.special[ht=(B?bt.delegateType:bt.bindType)||ht]||{},Ze=P.extend({type:ht,origType:fn,data:M,handler:N,guid:N.guid,selector:B,needsContext:B&&P.expr.match.needsContext.test(B),namespace:nn.join(".")},V),(at=fe[ht])||((at=fe[ht]=[]).delegateCount=0,bt.setup&&!1!==bt.setup.call(T,M,nn,j)||T.addEventListener&&T.addEventListener(ht,j)),bt.add&&(bt.add.call(T,Ze),Ze.handler.guid||(Ze.handler.guid=N.guid)),B?at.splice(at.delegateCount++,0,Ze):at.push(Ze),P.event.global[ht]=!0)},remove:function(T,O,N,M,B){var V,j,te,fe,xe,Ze,bt,at,ht,nn,fn,an=Rt.hasData(T)&&Rt.get(T);if(an&&(fe=an.events)){for(xe=(O=(O||"").match(zt)||[""]).length;xe--;)if(ht=fn=(te=ye.exec(O[xe])||[])[1],nn=(te[2]||"").split(".").sort(),ht){for(bt=P.event.special[ht]||{},at=fe[ht=(M?bt.delegateType:bt.bindType)||ht]||[],te=te[2]&&new RegExp("(^|\\.)"+nn.join("\\.(?:.*\\.|)")+"(\\.|$)"),j=V=at.length;V--;)Ze=at[V],!B&&fn!==Ze.origType||N&&N.guid!==Ze.guid||te&&!te.test(Ze.namespace)||M&&M!==Ze.selector&&("**"!==M||!Ze.selector)||(at.splice(V,1),Ze.selector&&at.delegateCount--,bt.remove&&bt.remove.call(T,Ze));j&&!at.length&&(bt.teardown&&!1!==bt.teardown.call(T,nn,an.handle)||P.removeEvent(T,ht,an.handle),delete fe[ht])}else for(ht in fe)P.event.remove(T,ht+O[xe],N,M,!0);P.isEmptyObject(fe)&&Rt.remove(T,"handle events")}},dispatch:function(T){var O,N,M,B,V,j,te=new Array(arguments.length),fe=P.event.fix(T),xe=(Rt.get(this,"events")||Object.create(null))[fe.type]||[],Ze=P.event.special[fe.type]||{};for(te[0]=fe,O=1;O<arguments.length;O++)te[O]=arguments[O];if(fe.delegateTarget=this,!Ze.preDispatch||!1!==Ze.preDispatch.call(this,fe)){for(j=P.event.handlers.call(this,fe,xe),O=0;(B=j[O++])&&!fe.isPropagationStopped();)for(fe.currentTarget=B.elem,N=0;(V=B.handlers[N++])&&!fe.isImmediatePropagationStopped();)fe.rnamespace&&!1!==V.namespace&&!fe.rnamespace.test(V.namespace)||(fe.handleObj=V,fe.data=V.data,void 0!==(M=((P.event.special[V.origType]||{}).handle||V.handler).apply(B.elem,te))&&!1===(fe.result=M)&&(fe.preventDefault(),fe.stopPropagation()));return Ze.postDispatch&&Ze.postDispatch.call(this,fe),fe.result}},handlers:function(T,O){var N,M,B,V,j,te=[],fe=O.delegateCount,xe=T.target;if(fe&&xe.nodeType&&!("click"===T.type&&1<=T.button))for(;xe!==this;xe=xe.parentNode||this)if(1===xe.nodeType&&("click"!==T.type||!0!==xe.disabled)){for(V=[],j={},N=0;N<fe;N++)void 0===j[B=(M=O[N]).selector+" "]&&(j[B]=M.needsContext?-1<P(B,this).index(xe):P.find(B,this,null,[xe]).length),j[B]&&V.push(M);V.length&&te.push({elem:xe,handlers:V})}return xe=this,fe<O.length&&te.push({elem:xe,handlers:O.slice(fe)}),te},addProp:function(T,O){Object.defineProperty(P.Event.prototype,T,{enumerable:!0,configurable:!0,get:it(O)?function(){if(this.originalEvent)return O(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[T]},set:function(N){Object.defineProperty(this,T,{enumerable:!0,configurable:!0,writable:!0,value:N})}})},fix:function(T){return T[P.expando]?T:new P.Event(T)},special:{load:{noBubble:!0},click:{setup:function(T){var O=this||T;return Si.test(O.type)&&O.click&&Ee(O,"input")&&bn(O,"click",Fe),!1},trigger:function(T){var O=this||T;return Si.test(O.type)&&O.click&&Ee(O,"input")&&bn(O,"click"),!0},_default:function(T){var O=T.target;return Si.test(O.type)&&O.click&&Ee(O,"input")&&Rt.get(O,"click")||Ee(O,"a")}},beforeunload:{postDispatch:function(T){void 0!==T.result&&T.originalEvent&&(T.originalEvent.returnValue=T.result)}}}},P.removeEvent=function(T,O,N){T.removeEventListener&&T.removeEventListener(O,N)},P.Event=function(T,O){if(!(this instanceof P.Event))return new P.Event(T,O);T&&T.type?(this.originalEvent=T,this.type=T.type,this.isDefaultPrevented=T.defaultPrevented||void 0===T.defaultPrevented&&!1===T.returnValue?Fe:Xe,this.target=T.target&&3===T.target.nodeType?T.target.parentNode:T.target,this.currentTarget=T.currentTarget,this.relatedTarget=T.relatedTarget):this.type=T,O&&P.extend(this,O),this.timeStamp=T&&T.timeStamp||Date.now(),this[P.expando]=!0},P.Event.prototype={constructor:P.Event,isDefaultPrevented:Xe,isPropagationStopped:Xe,isImmediatePropagationStopped:Xe,isSimulated:!1,preventDefault:function(){var T=this.originalEvent;this.isDefaultPrevented=Fe,T&&!this.isSimulated&&T.preventDefault()},stopPropagation:function(){var T=this.originalEvent;this.isPropagationStopped=Fe,T&&!this.isSimulated&&T.stopPropagation()},stopImmediatePropagation:function(){var T=this.originalEvent;this.isImmediatePropagationStopped=Fe,T&&!this.isSimulated&&T.stopImmediatePropagation(),this.stopPropagation()}},P.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},P.event.addProp),P.each({focus:"focusin",blur:"focusout"},function(T,O){P.event.special[T]={setup:function(){return bn(this,T,Vt),!1},trigger:function(){return bn(this,T),!0},_default:function(){return!0},delegateType:O}}),P.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(T,O){P.event.special[T]={delegateType:O,bindType:O,handle:function(N){var M,B=N.relatedTarget,V=N.handleObj;return B&&(B===this||P.contains(this,B))||(N.type=V.origType,M=V.handler.apply(this,arguments),N.type=O),M}}}),P.fn.extend({on:function(T,O,N,M){return tn(this,T,O,N,M)},one:function(T,O,N,M){return tn(this,T,O,N,M,1)},off:function(T,O,N){var M,B;if(T&&T.preventDefault&&T.handleObj)return M=T.handleObj,P(T.delegateTarget).off(M.namespace?M.origType+"."+M.namespace:M.origType,M.selector,M.handler),this;if("object"==typeof T){for(B in T)this.off(B,O,T[B]);return this}return!1!==O&&"function"!=typeof O||(N=O,O=void 0),!1===N&&(N=Xe),this.each(function(){P.event.remove(this,T,N,O)})}});var re=/<script|<style|<link/i,Z=/checked\s*(?:[^=]|=\s*.checked.)/i,Q=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function ce(T,O){return Ee(T,"table")&&Ee(11!==O.nodeType?O:O.firstChild,"tr")&&P(T).children("tbody")[0]||T}function we(T){return T.type=(null!==T.getAttribute("type"))+"/"+T.type,T}function Re(T){return"true/"===(T.type||"").slice(0,5)?T.type=T.type.slice(5):T.removeAttribute("type"),T}function We(T,O){var N,M,B,V,j,te;if(1===O.nodeType){if(Rt.hasData(T)&&(te=Rt.get(T).events))for(B in Rt.remove(O,"handle events"),te)for(N=0,M=te[B].length;N<M;N++)P.event.add(O,B,te[B][N]);ei.hasData(T)&&(V=ei.access(T),j=P.extend({},V),ei.set(O,j))}}function ot(T,O,N,M){O=Ye(O);var B,V,j,te,fe,xe,Ze=0,bt=T.length,at=bt-1,ht=O[0],nn=it(ht);if(nn||1<bt&&"string"==typeof ht&&!Ke.checkClone&&Z.test(ht))return T.each(function(fn){var an=T.eq(fn);nn&&(O[0]=ht.call(this,fn,an.html())),ot(an,O,N,M)});if(bt&&(V=(B=ae(O,T[0].ownerDocument,!1,T,M)).firstChild,1===B.childNodes.length&&(B=V),V||M)){for(te=(j=P.map(ke(B,"script"),we)).length;Ze<bt;Ze++)fe=B,Ze!==at&&(fe=P.clone(fe,!0,!0),te&&P.merge(j,ke(fe,"script"))),N.call(T[Ze],fe,Ze);if(te)for(xe=j[j.length-1].ownerDocument,P.map(j,Re),Ze=0;Ze<te;Ze++)ut.test((fe=j[Ze]).type||"")&&!Rt.access(fe,"globalEval")&&P.contains(xe,fe)&&(fe.src&&"module"!==(fe.type||"").toLowerCase()?P._evalUrl&&!fe.noModule&&P._evalUrl(fe.src,{nonce:fe.nonce||fe.getAttribute("nonce")},xe):ne(fe.textContent.replace(Q,""),fe,xe))}return T}function $e(T,O,N){for(var M,B=O?P.filter(O,T):T,V=0;null!=(M=B[V]);V++)N||1!==M.nodeType||P.cleanData(ke(M)),M.parentNode&&(N&&Ai(M)&&Ae(ke(M,"script")),M.parentNode.removeChild(M));return T}P.extend({htmlPrefilter:function(T){return T},clone:function(T,O,N){var M,B,V,j,te,fe,xe,Ze=T.cloneNode(!0),bt=Ai(T);if(!(Ke.noCloneChecked||1!==T.nodeType&&11!==T.nodeType||P.isXMLDoc(T)))for(j=ke(Ze),M=0,B=(V=ke(T)).length;M<B;M++)te=V[M],"input"===(xe=(fe=j[M]).nodeName.toLowerCase())&&Si.test(te.type)?fe.checked=te.checked:"input"!==xe&&"textarea"!==xe||(fe.defaultValue=te.defaultValue);if(O)if(N)for(V=V||ke(T),j=j||ke(Ze),M=0,B=V.length;M<B;M++)We(V[M],j[M]);else We(T,Ze);return 0<(j=ke(Ze,"script")).length&&Ae(j,!bt&&ke(T,"script")),Ze},cleanData:function(T){for(var O,N,M,B=P.event.special,V=0;void 0!==(N=T[V]);V++)if(xi(N)){if(O=N[Rt.expando]){if(O.events)for(M in O.events)B[M]?P.event.remove(N,M):P.removeEvent(N,M,O.handle);N[Rt.expando]=void 0}N[ei.expando]&&(N[ei.expando]=void 0)}}}),P.fn.extend({detach:function(T){return $e(this,T,!0)},remove:function(T){return $e(this,T)},text:function(T){return sn(this,function(O){return void 0===O?P.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=O)})},null,T,arguments.length)},append:function(){return ot(this,arguments,function(T){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||ce(this,T).appendChild(T)})},prepend:function(){return ot(this,arguments,function(T){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var O=ce(this,T);O.insertBefore(T,O.firstChild)}})},before:function(){return ot(this,arguments,function(T){this.parentNode&&this.parentNode.insertBefore(T,this)})},after:function(){return ot(this,arguments,function(T){this.parentNode&&this.parentNode.insertBefore(T,this.nextSibling)})},empty:function(){for(var T,O=0;null!=(T=this[O]);O++)1===T.nodeType&&(P.cleanData(ke(T,!1)),T.textContent="");return this},clone:function(T,O){return T=null!=T&&T,O=O??T,this.map(function(){return P.clone(this,T,O)})},html:function(T){return sn(this,function(O){var N=this[0]||{},M=0,B=this.length;if(void 0===O&&1===N.nodeType)return N.innerHTML;if("string"==typeof O&&!re.test(O)&&!Vn[(Qi.exec(O)||["",""])[1].toLowerCase()]){O=P.htmlPrefilter(O);try{for(;M<B;M++)1===(N=this[M]||{}).nodeType&&(P.cleanData(ke(N,!1)),N.innerHTML=O);N=0}catch{}}N&&this.empty().append(O)},null,T,arguments.length)},replaceWith:function(){var T=[];return ot(this,arguments,function(O){var N=this.parentNode;P.inArray(this,T)<0&&(P.cleanData(ke(this)),N&&N.replaceChild(O,this))},T)}}),P.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(T,O){P.fn[T]=function(N){for(var M,B=[],V=P(N),j=V.length-1,te=0;te<=j;te++)M=te===j?this:this.clone(!0),P(V[te])[O](M),ve.apply(B,M.get());return this.pushStack(B)}});var pt=new RegExp("^("+zn+")(?!px)[a-z%]+$","i"),wt=function(T){var O=T.ownerDocument.defaultView;return O&&O.opener||(O=oe),O.getComputedStyle(T)},At=function(T,O,N){var M,B,V={};for(B in O)V[B]=T.style[B],T.style[B]=O[B];for(B in M=N.call(T),O)T.style[B]=V[B];return M},Kt=new RegExp(ui.join("|"),"i");function qt(T,O,N){var M,B,V,j,te=T.style;return(N=N||wt(T))&&(""!==(j=N.getPropertyValue(O)||N[O])||Ai(T)||(j=P.style(T,O)),!Ke.pixelBoxStyles()&&pt.test(j)&&Kt.test(O)&&(M=te.width,B=te.minWidth,V=te.maxWidth,te.minWidth=te.maxWidth=te.width=j,j=N.width,te.width=M,te.minWidth=B,te.maxWidth=V)),void 0!==j?j+"":j}function on(T,O){return{get:function(){if(!T())return(this.get=O).apply(this,arguments);delete this.get}}}!function(){function T(){if(xe){fe.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",xe.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Wi.appendChild(fe).appendChild(xe);var Ze=oe.getComputedStyle(xe);N="1%"!==Ze.top,te=12===O(Ze.marginLeft),xe.style.right="60%",V=36===O(Ze.right),M=36===O(Ze.width),xe.style.position="absolute",B=12===O(xe.offsetWidth/3),Wi.removeChild(fe),xe=null}}function O(Ze){return Math.round(parseFloat(Ze))}var N,M,B,V,j,te,fe=De.createElement("div"),xe=De.createElement("div");xe.style&&(xe.style.backgroundClip="content-box",xe.cloneNode(!0).style.backgroundClip="",Ke.clearCloneStyle="content-box"===xe.style.backgroundClip,P.extend(Ke,{boxSizingReliable:function(){return T(),M},pixelBoxStyles:function(){return T(),V},pixelPosition:function(){return T(),N},reliableMarginLeft:function(){return T(),te},scrollboxSize:function(){return T(),B},reliableTrDimensions:function(){var Ze,bt,at,ht;return null==j&&(Ze=De.createElement("table"),bt=De.createElement("tr"),at=De.createElement("div"),Ze.style.cssText="position:absolute;left:-11111px;border-collapse:separate",bt.style.cssText="border:1px solid",bt.style.height="1px",at.style.height="9px",at.style.display="block",Wi.appendChild(Ze).appendChild(bt).appendChild(at),ht=oe.getComputedStyle(bt),j=parseInt(ht.height,10)+parseInt(ht.borderTopWidth,10)+parseInt(ht.borderBottomWidth,10)===bt.offsetHeight,Wi.removeChild(Ze)),j}}))}();var Tn=["Webkit","Moz","ms"],Mi=De.createElement("div").style,Xi={};function ii(T){return P.cssProps[T]||Xi[T]||(T in Mi?T:Xi[T]=function(N){for(var M=N[0].toUpperCase()+N.slice(1),B=Tn.length;B--;)if((N=Tn[B]+M)in Mi)return N}(T)||T)}var sr=/^(none|table(?!-c[ea]).+)/,Fi=/^--/,pr={position:"absolute",visibility:"hidden",display:"block"},lo={letterSpacing:"0",fontWeight:"400"};function Kn(T,O,N){var M=ln.exec(O);return M?Math.max(0,M[2]-(N||0))+(M[3]||"px"):O}function en(T,O,N,M,B,V){var j="width"===O?1:0,te=0,fe=0;if(N===(M?"border":"content"))return 0;for(;j<4;j+=2)"margin"===N&&(fe+=P.css(T,N+ui[j],!0,B)),M?("content"===N&&(fe-=P.css(T,"padding"+ui[j],!0,B)),"margin"!==N&&(fe-=P.css(T,"border"+ui[j]+"Width",!0,B))):(fe+=P.css(T,"padding"+ui[j],!0,B),"padding"!==N?fe+=P.css(T,"border"+ui[j]+"Width",!0,B):te+=P.css(T,"border"+ui[j]+"Width",!0,B));return!M&&0<=V&&(fe+=Math.max(0,Math.ceil(T["offset"+O[0].toUpperCase()+O.slice(1)]-V-fe-te-.5))||0),fe}function to(T,O,N){var M=wt(T),B=(!Ke.boxSizingReliable()||N)&&"border-box"===P.css(T,"boxSizing",!1,M),V=B,j=qt(T,O,M),te="offset"+O[0].toUpperCase()+O.slice(1);if(pt.test(j)){if(!N)return j;j="auto"}return(!Ke.boxSizingReliable()&&B||!Ke.reliableTrDimensions()&&Ee(T,"tr")||"auto"===j||!parseFloat(j)&&"inline"===P.css(T,"display",!1,M))&&T.getClientRects().length&&(B="border-box"===P.css(T,"boxSizing",!1,M),(V=te in T)&&(j=T[te])),(j=parseFloat(j)||0)+en(T,O,N||(B?"border":"content"),V,M,j)+"px"}function lr(T,O,N,M,B){return new lr.prototype.init(T,O,N,M,B)}P.extend({cssHooks:{opacity:{get:function(T,O){if(O){var N=qt(T,"opacity");return""===N?"1":N}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(T,O,N,M){if(T&&3!==T.nodeType&&8!==T.nodeType&&T.style){var B,V,j,te=Bt(O),fe=Fi.test(O),xe=T.style;if(fe||(O=ii(te)),j=P.cssHooks[O]||P.cssHooks[te],void 0===N)return j&&"get"in j&&void 0!==(B=j.get(T,!1,M))?B:xe[O];"string"==(V=typeof N)&&(B=ln.exec(N))&&B[1]&&(N=Ir(T,O,B),V="number"),null!=N&&N==N&&("number"!==V||fe||(N+=B&&B[3]||(P.cssNumber[te]?"":"px")),Ke.clearCloneStyle||""!==N||0!==O.indexOf("background")||(xe[O]="inherit"),j&&"set"in j&&void 0===(N=j.set(T,N,M))||(fe?xe.setProperty(O,N):xe[O]=N))}},css:function(T,O,N,M){var B,V,j,te=Bt(O);return Fi.test(O)||(O=ii(te)),(j=P.cssHooks[O]||P.cssHooks[te])&&"get"in j&&(B=j.get(T,!0,N)),void 0===B&&(B=qt(T,O,M)),"normal"===B&&O in lo&&(B=lo[O]),""===N||N?(V=parseFloat(B),!0===N||isFinite(V)?V||0:B):B}}),P.each(["height","width"],function(T,O){P.cssHooks[O]={get:function(N,M,B){if(M)return!sr.test(P.css(N,"display"))||N.getClientRects().length&&N.getBoundingClientRect().width?to(N,O,B):At(N,pr,function(){return to(N,O,B)})},set:function(N,M,B){var V,j=wt(N),te=!Ke.scrollboxSize()&&"absolute"===j.position,fe=(te||B)&&"border-box"===P.css(N,"boxSizing",!1,j),xe=B?en(N,O,B,fe,j):0;return fe&&te&&(xe-=Math.ceil(N["offset"+O[0].toUpperCase()+O.slice(1)]-parseFloat(j[O])-en(N,O,"border",!1,j)-.5)),xe&&(V=ln.exec(M))&&"px"!==(V[3]||"px")&&(N.style[O]=M,M=P.css(N,O)),Kn(0,M,xe)}}}),P.cssHooks.marginLeft=on(Ke.reliableMarginLeft,function(T,O){if(O)return(parseFloat(qt(T,"marginLeft"))||T.getBoundingClientRect().left-At(T,{marginLeft:0},function(){return T.getBoundingClientRect().left}))+"px"}),P.each({margin:"",padding:"",border:"Width"},function(T,O){P.cssHooks[T+O]={expand:function(N){for(var M=0,B={},V="string"==typeof N?N.split(" "):[N];M<4;M++)B[T+ui[M]+O]=V[M]||V[M-2]||V[0];return B}},"margin"!==T&&(P.cssHooks[T+O].set=Kn)}),P.fn.extend({css:function(T,O){return sn(this,function(N,M,B){var V,j,te={},fe=0;if(Array.isArray(M)){for(V=wt(N),j=M.length;fe<j;fe++)te[M[fe]]=P.css(N,M[fe],!1,V);return te}return void 0!==B?P.style(N,M,B):P.css(N,M)},T,O,1<arguments.length)}}),((P.Tween=lr).prototype={constructor:lr,init:function(T,O,N,M,B,V){this.elem=T,this.prop=N,this.easing=B||P.easing._default,this.options=O,this.start=this.now=this.cur(),this.end=M,this.unit=V||(P.cssNumber[N]?"":"px")},cur:function(){var T=lr.propHooks[this.prop];return T&&T.get?T.get(this):lr.propHooks._default.get(this)},run:function(T){var O,N=lr.propHooks[this.prop];return this.pos=O=this.options.duration?P.easing[this.easing](T,this.options.duration*T,0,1,this.options.duration):T,this.now=(this.end-this.start)*O+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),N&&N.set?N.set(this):lr.propHooks._default.set(this),this}}).init.prototype=lr.prototype,(lr.propHooks={_default:{get:function(T){var O;return 1!==T.elem.nodeType||null!=T.elem[T.prop]&&null==T.elem.style[T.prop]?T.elem[T.prop]:(O=P.css(T.elem,T.prop,""))&&"auto"!==O?O:0},set:function(T){P.fx.step[T.prop]?P.fx.step[T.prop](T):1!==T.elem.nodeType||!P.cssHooks[T.prop]&&null==T.elem.style[ii(T.prop)]?T.elem[T.prop]=T.now:P.style(T.elem,T.prop,T.now+T.unit)}}}).scrollTop=lr.propHooks.scrollLeft={set:function(T){T.elem.nodeType&&T.elem.parentNode&&(T.elem[T.prop]=T.now)}},P.easing={linear:function(T){return T},swing:function(T){return.5-Math.cos(T*Math.PI)/2},_default:"swing"},P.fx=lr.prototype.init,P.fx.step={};var ur,An,Ur,Mr,hs=/^(?:toggle|show|hide)$/,Ot=/queueHooks$/;function Sn(){An&&(!1===De.hidden&&oe.requestAnimationFrame?oe.requestAnimationFrame(Sn):oe.setTimeout(Sn,P.fx.interval),P.fx.tick())}function sa(){return oe.setTimeout(function(){ur=void 0}),ur=Date.now()}function ya(T,O){var N,M=0,B={height:T};for(O=O?1:0;M<4;M+=2-O)B["margin"+(N=ui[M])]=B["padding"+N]=T;return O&&(B.opacity=B.width=T),B}function fs(T,O,N){for(var M,B=(zr.tweeners[O]||[]).concat(zr.tweeners["*"]),V=0,j=B.length;V<j;V++)if(M=B[V].call(N,O,T))return M}function zr(T,O,N){var M,B,V=0,j=zr.prefilters.length,te=P.Deferred().always(function(){delete fe.elem}),fe=function(){if(B)return!1;for(var bt=ur||sa(),at=Math.max(0,xe.startTime+xe.duration-bt),ht=1-(at/xe.duration||0),nn=0,fn=xe.tweens.length;nn<fn;nn++)xe.tweens[nn].run(ht);return te.notifyWith(T,[xe,ht,at]),ht<1&&fn?at:(fn||te.notifyWith(T,[xe,1,0]),te.resolveWith(T,[xe]),!1)},xe=te.promise({elem:T,props:P.extend({},O),opts:P.extend(!0,{specialEasing:{},easing:P.easing._default},N),originalProperties:O,originalOptions:N,startTime:ur||sa(),duration:N.duration,tweens:[],createTween:function(bt,at){var ht=P.Tween(T,xe.opts,bt,at,xe.opts.specialEasing[bt]||xe.opts.easing);return xe.tweens.push(ht),ht},stop:function(bt){var at=0,ht=bt?xe.tweens.length:0;if(B)return this;for(B=!0;at<ht;at++)xe.tweens[at].run(1);return bt?(te.notifyWith(T,[xe,1,0]),te.resolveWith(T,[xe,bt])):te.rejectWith(T,[xe,bt]),this}}),Ze=xe.props;for(function(bt,at){var ht,nn,fn,an,wi;for(ht in bt)if(fn=at[nn=Bt(ht)],an=bt[ht],Array.isArray(an)&&(fn=an[1],an=bt[ht]=an[0]),ht!==nn&&(bt[nn]=an,delete bt[ht]),(wi=P.cssHooks[nn])&&"expand"in wi)for(ht in an=wi.expand(an),delete bt[nn],an)ht in bt||(bt[ht]=an[ht],at[ht]=fn);else at[nn]=fn}(Ze,xe.opts.specialEasing);V<j;V++)if(M=zr.prefilters[V].call(xe,T,Ze,xe.opts))return it(M.stop)&&(P._queueHooks(xe.elem,xe.opts.queue).stop=M.stop.bind(M)),M;return P.map(Ze,fs,xe),it(xe.opts.start)&&xe.opts.start.call(T,xe),xe.progress(xe.opts.progress).done(xe.opts.done,xe.opts.complete).fail(xe.opts.fail).always(xe.opts.always),P.fx.timer(P.extend(fe,{elem:T,anim:xe,queue:xe.opts.queue})),xe}P.Animation=P.extend(zr,{tweeners:{"*":[function(T,O){var N=this.createTween(T,O);return Ir(N.elem,T,ln.exec(O),N),N}]},tweener:function(T,O){it(T)?(O=T,T=["*"]):T=T.match(zt);for(var N,M=0,B=T.length;M<B;M++)(zr.tweeners[N=T[M]]=zr.tweeners[N]||[]).unshift(O)},prefilters:[function(T,O,N){var M,B,V,j,te,fe,xe,Ze,bt="width"in O||"height"in O,at=this,ht={},nn=T.style,fn=T.nodeType&&Ji(T),an=Rt.get(T,"fxshow");for(M in N.queue||(null==(j=P._queueHooks(T,"fx")).unqueued&&(j.unqueued=0,te=j.empty.fire,j.empty.fire=function(){j.unqueued||te()}),j.unqueued++,at.always(function(){at.always(function(){j.unqueued--,P.queue(T,"fx").length||j.empty.fire()})})),O)if(hs.test(B=O[M])){if(delete O[M],V=V||"toggle"===B,B===(fn?"hide":"show")){if("show"!==B||!an||void 0===an[M])continue;fn=!0}ht[M]=an&&an[M]||P.style(T,M)}if((fe=!P.isEmptyObject(O))||!P.isEmptyObject(ht))for(M in bt&&1===T.nodeType&&(N.overflow=[nn.overflow,nn.overflowX,nn.overflowY],null==(xe=an&&an.display)&&(xe=Rt.get(T,"display")),"none"===(Ze=P.css(T,"display"))&&(xe?Ze=xe:(bi([T],!0),xe=T.style.display||xe,Ze=P.css(T,"display"),bi([T]))),("inline"===Ze||"inline-block"===Ze&&null!=xe)&&"none"===P.css(T,"float")&&(fe||(at.done(function(){nn.display=xe}),null==xe&&(xe="none"===(Ze=nn.display)?"":Ze)),nn.display="inline-block")),N.overflow&&(nn.overflow="hidden",at.always(function(){nn.overflow=N.overflow[0],nn.overflowX=N.overflow[1],nn.overflowY=N.overflow[2]})),fe=!1,ht)fe||(an?"hidden"in an&&(fn=an.hidden):an=Rt.access(T,"fxshow",{display:xe}),V&&(an.hidden=!fn),fn&&bi([T],!0),at.done(function(){for(M in fn||bi([T]),Rt.remove(T,"fxshow"),ht)P.style(T,M,ht[M])})),fe=fs(fn?an[M]:0,M,at),M in an||(an[M]=fe.start,fn&&(fe.end=fe.start,fe.start=0))}],prefilter:function(T,O){O?zr.prefilters.unshift(T):zr.prefilters.push(T)}}),P.speed=function(T,O,N){var M=T&&"object"==typeof T?P.extend({},T):{complete:N||!N&&O||it(T)&&T,duration:T,easing:N&&O||O&&!it(O)&&O};return P.fx.off?M.duration=0:"number"!=typeof M.duration&&(M.duration=M.duration in P.fx.speeds?P.fx.speeds[M.duration]:P.fx.speeds._default),null!=M.queue&&!0!==M.queue||(M.queue="fx"),M.old=M.complete,M.complete=function(){it(M.old)&&M.old.call(this),M.queue&&P.dequeue(this,M.queue)},M},P.fn.extend({fadeTo:function(T,O,N,M){return this.filter(Ji).css("opacity",0).show().end().animate({opacity:O},T,N,M)},animate:function(T,O,N,M){var B=P.isEmptyObject(T),V=P.speed(O,N,M),j=function(){var te=zr(this,P.extend({},T),V);(B||Rt.get(this,"finish"))&&te.stop(!0)};return j.finish=j,B||!1===V.queue?this.each(j):this.queue(V.queue,j)},stop:function(T,O,N){var M=function(B){var V=B.stop;delete B.stop,V(N)};return"string"!=typeof T&&(N=O,O=T,T=void 0),O&&this.queue(T||"fx",[]),this.each(function(){var B=!0,V=null!=T&&T+"queueHooks",j=P.timers,te=Rt.get(this);if(V)te[V]&&te[V].stop&&M(te[V]);else for(V in te)te[V]&&te[V].stop&&Ot.test(V)&&M(te[V]);for(V=j.length;V--;)j[V].elem!==this||null!=T&&j[V].queue!==T||(j[V].anim.stop(N),B=!1,j.splice(V,1));!B&&N||P.dequeue(this,T)})},finish:function(T){return!1!==T&&(T=T||"fx"),this.each(function(){var O,N=Rt.get(this),M=N[T+"queue"],B=N[T+"queueHooks"],V=P.timers,j=M?M.length:0;for(N.finish=!0,P.queue(this,T,[]),B&&B.stop&&B.stop.call(this,!0),O=V.length;O--;)V[O].elem===this&&V[O].queue===T&&(V[O].anim.stop(!0),V.splice(O,1));for(O=0;O<j;O++)M[O]&&M[O].finish&&M[O].finish.call(this);delete N.finish})}}),P.each(["toggle","show","hide"],function(T,O){var N=P.fn[O];P.fn[O]=function(M,B,V){return null==M||"boolean"==typeof M?N.apply(this,arguments):this.animate(ya(O,!0),M,B,V)}}),P.each({slideDown:ya("show"),slideUp:ya("hide"),slideToggle:ya("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(T,O){P.fn[T]=function(N,M,B){return this.animate(O,N,M,B)}}),P.timers=[],P.fx.tick=function(){var T,O=0,N=P.timers;for(ur=Date.now();O<N.length;O++)(T=N[O])()||N[O]!==T||N.splice(O--,1);N.length||P.fx.stop(),ur=void 0},P.fx.timer=function(T){P.timers.push(T),P.fx.start()},P.fx.interval=13,P.fx.start=function(){An||(An=!0,Sn())},P.fx.stop=function(){An=null},P.fx.speeds={slow:600,fast:200,_default:400},P.fn.delay=function(T,O){return T=P.fx&&P.fx.speeds[T]||T,this.queue(O=O||"fx",function(N,M){var B=oe.setTimeout(N,T);M.stop=function(){oe.clearTimeout(B)}})},Ur=De.createElement("input"),Mr=De.createElement("select").appendChild(De.createElement("option")),Ur.type="checkbox",Ke.checkOn=""!==Ur.value,Ke.optSelected=Mr.selected,(Ur=De.createElement("input")).value="t",Ur.type="radio",Ke.radioValue="t"===Ur.value;var _a,xn=P.expr.attrHandle;P.fn.extend({attr:function(T,O){return sn(this,P.attr,T,O,1<arguments.length)},removeAttr:function(T){return this.each(function(){P.removeAttr(this,T)})}}),P.extend({attr:function(T,O,N){var M,B,V=T.nodeType;if(3!==V&&8!==V&&2!==V)return typeof T.getAttribute>"u"?P.prop(T,O,N):(1===V&&P.isXMLDoc(T)||(B=P.attrHooks[O.toLowerCase()]||(P.expr.match.bool.test(O)?_a:void 0)),void 0!==N?null===N?void P.removeAttr(T,O):B&&"set"in B&&void 0!==(M=B.set(T,N,O))?M:(T.setAttribute(O,N+""),N):B&&"get"in B&&null!==(M=B.get(T,O))?M:null==(M=P.find.attr(T,O))?void 0:M)},attrHooks:{type:{set:function(T,O){if(!Ke.radioValue&&"radio"===O&&Ee(T,"input")){var N=T.value;return T.setAttribute("type",O),N&&(T.value=N),O}}}},removeAttr:function(T,O){var N,M=0,B=O&&O.match(zt);if(B&&1===T.nodeType)for(;N=B[M++];)T.removeAttribute(N)}}),_a={set:function(T,O,N){return!1===O?P.removeAttr(T,N):T.setAttribute(N,N),N}},P.each(P.expr.match.bool.source.match(/\w+/g),function(T,O){var N=xn[O]||P.find.attr;xn[O]=function(M,B,V){var j,te,fe=B.toLowerCase();return V||(te=xn[fe],xn[fe]=j,j=null!=N(M,B,V)?fe:null,xn[fe]=te),j}});var bl=/^(?:input|select|textarea|button)$/i,Zl=/^(?:a|area)$/i;function uo(T){return(T.match(zt)||[]).join(" ")}function cr(T){return T.getAttribute&&T.getAttribute("class")||""}function ds(T){return Array.isArray(T)?T:"string"==typeof T&&T.match(zt)||[]}P.fn.extend({prop:function(T,O){return sn(this,P.prop,T,O,1<arguments.length)},removeProp:function(T){return this.each(function(){delete this[P.propFix[T]||T]})}}),P.extend({prop:function(T,O,N){var M,B,V=T.nodeType;if(3!==V&&8!==V&&2!==V)return 1===V&&P.isXMLDoc(T)||(B=P.propHooks[O=P.propFix[O]||O]),void 0!==N?B&&"set"in B&&void 0!==(M=B.set(T,N,O))?M:T[O]=N:B&&"get"in B&&null!==(M=B.get(T,O))?M:T[O]},propHooks:{tabIndex:{get:function(T){var O=P.find.attr(T,"tabindex");return O?parseInt(O,10):bl.test(T.nodeName)||Zl.test(T.nodeName)&&T.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),Ke.optSelected||(P.propHooks.selected={get:function(T){return null},set:function(T){}}),P.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){P.propFix[this.toLowerCase()]=this}),P.fn.extend({addClass:function(T){var O,N,M,B,V,j,te,fe=0;if(it(T))return this.each(function(xe){P(this).addClass(T.call(this,xe,cr(this)))});if((O=ds(T)).length)for(;N=this[fe++];)if(B=cr(N),M=1===N.nodeType&&" "+uo(B)+" "){for(j=0;V=O[j++];)M.indexOf(" "+V+" ")<0&&(M+=V+" ");B!==(te=uo(M))&&N.setAttribute("class",te)}return this},removeClass:function(T){var O,N,M,B,V,j,te,fe=0;if(it(T))return this.each(function(xe){P(this).removeClass(T.call(this,xe,cr(this)))});if(!arguments.length)return this.attr("class","");if((O=ds(T)).length)for(;N=this[fe++];)if(B=cr(N),M=1===N.nodeType&&" "+uo(B)+" "){for(j=0;V=O[j++];)for(;-1<M.indexOf(" "+V+" ");)M=M.replace(" "+V+" "," ");B!==(te=uo(M))&&N.setAttribute("class",te)}return this},toggleClass:function(T,O){var N=typeof T,M="string"===N||Array.isArray(T);return"boolean"==typeof O&&M?O?this.addClass(T):this.removeClass(T):it(T)?this.each(function(B){P(this).toggleClass(T.call(this,B,cr(this),O),O)}):this.each(function(){var B,V,j,te;if(M)for(V=0,j=P(this),te=ds(T);B=te[V++];)j.hasClass(B)?j.removeClass(B):j.addClass(B);else void 0!==T&&"boolean"!==N||((B=cr(this))&&Rt.set(this,"__className__",B),this.setAttribute&&this.setAttribute("class",B||!1===T?"":Rt.get(this,"__className__")||""))})},hasClass:function(T){var O,N,M=0;for(O=" "+T+" ";N=this[M++];)if(1===N.nodeType&&-1<(" "+uo(cr(N))+" ").indexOf(O))return!0;return!1}});var Ws=/\r/g;P.fn.extend({val:function(T){var O,N,M,B=this[0];return arguments.length?(M=it(T),this.each(function(V){var j;1===this.nodeType&&(null==(j=M?T.call(this,V,P(this).val()):T)?j="":"number"==typeof j?j+="":Array.isArray(j)&&(j=P.map(j,function(te){return null==te?"":te+""})),(O=P.valHooks[this.type]||P.valHooks[this.nodeName.toLowerCase()])&&"set"in O&&void 0!==O.set(this,j,"value")||(this.value=j))})):B?(O=P.valHooks[B.type]||P.valHooks[B.nodeName.toLowerCase()])&&"get"in O&&void 0!==(N=O.get(B,"value"))?N:"string"==typeof(N=B.value)?N.replace(Ws,""):N??"":void 0}}),P.extend({valHooks:{option:{get:function(T){return P.find.attr(T,"value")??uo(P.text(T))}},select:{get:function(T){var O,N,M,B=T.options,V=T.selectedIndex,j="select-one"===T.type,te=j?null:[],fe=j?V+1:B.length;for(M=V<0?fe:j?V:0;M<fe;M++)if(((N=B[M]).selected||M===V)&&!N.disabled&&(!N.parentNode.disabled||!Ee(N.parentNode,"optgroup"))){if(O=P(N).val(),j)return O;te.push(O)}return te},set:function(T,O){for(var N,M,B=T.options,V=P.makeArray(O),j=B.length;j--;)((M=B[j]).selected=-1<P.inArray(P.valHooks.option.get(M),V))&&(N=!0);return N||(T.selectedIndex=-1),V}}}}),P.each(["radio","checkbox"],function(){P.valHooks[this]={set:function(T,O){if(Array.isArray(O))return T.checked=-1<P.inArray(P(T).val(),O)}},Ke.checkOn||(P.valHooks[this].get=function(T){return null===T.getAttribute("value")?"on":T.value})}),Ke.focusin="onfocusin"in oe;var No=/^(?:focusinfocus|focusoutblur)$/,Ys=function(T){T.stopPropagation()};P.extend(P.event,{trigger:function(T,O,N,M){var B,V,j,te,fe,xe,Ze,bt,at=[N||De],ht=Ce.call(T,"type")?T.type:T,nn=Ce.call(T,"namespace")?T.namespace.split("."):[];if(V=bt=j=N=N||De,3!==N.nodeType&&8!==N.nodeType&&!No.test(ht+P.event.triggered)&&(-1<ht.indexOf(".")&&(ht=(nn=ht.split(".")).shift(),nn.sort()),fe=ht.indexOf(":")<0&&"on"+ht,(T=T[P.expando]?T:new P.Event(ht,"object"==typeof T&&T)).isTrigger=M?2:3,T.namespace=nn.join("."),T.rnamespace=T.namespace?new RegExp("(^|\\.)"+nn.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,T.result=void 0,T.target||(T.target=N),O=null==O?[T]:P.makeArray(O,[T]),Ze=P.event.special[ht]||{},M||!Ze.trigger||!1!==Ze.trigger.apply(N,O))){if(!M&&!Ze.noBubble&&!He(N)){for(No.test((te=Ze.delegateType||ht)+ht)||(V=V.parentNode);V;V=V.parentNode)at.push(V),j=V;j===(N.ownerDocument||De)&&at.push(j.defaultView||j.parentWindow||oe)}for(B=0;(V=at[B++])&&!T.isPropagationStopped();)bt=V,T.type=1<B?te:Ze.bindType||ht,(xe=(Rt.get(V,"events")||Object.create(null))[T.type]&&Rt.get(V,"handle"))&&xe.apply(V,O),(xe=fe&&V[fe])&&xe.apply&&xi(V)&&(T.result=xe.apply(V,O),!1===T.result&&T.preventDefault());return T.type=ht,M||T.isDefaultPrevented()||Ze._default&&!1!==Ze._default.apply(at.pop(),O)||!xi(N)||fe&&it(N[ht])&&!He(N)&&((j=N[fe])&&(N[fe]=null),P.event.triggered=ht,T.isPropagationStopped()&&bt.addEventListener(ht,Ys),N[ht](),T.isPropagationStopped()&&bt.removeEventListener(ht,Ys),P.event.triggered=void 0,j&&(N[fe]=j)),T.result}},simulate:function(T,O,N){var M=P.extend(new P.Event,N,{type:T,isSimulated:!0});P.event.trigger(M,null,O)}}),P.fn.extend({trigger:function(T,O){return this.each(function(){P.event.trigger(T,O,this)})},triggerHandler:function(T,O){var N=this[0];if(N)return P.event.trigger(T,O,N,!0)}}),Ke.focusin||P.each({focus:"focusin",blur:"focusout"},function(T,O){var N=function(M){P.event.simulate(O,M.target,P.event.fix(M))};P.event.special[O]={setup:function(){var M=this.ownerDocument||this.document||this,B=Rt.access(M,O);B||M.addEventListener(T,N,!0),Rt.access(M,O,(B||0)+1)},teardown:function(){var M=this.ownerDocument||this.document||this,B=Rt.access(M,O)-1;B?Rt.access(M,O,B):(M.removeEventListener(T,N,!0),Rt.remove(M,O))}}});var la=oe.location,ps={guid:Date.now()},Ha=/\?/;P.parseXML=function(T){var O,N;if(!T||"string"!=typeof T)return null;try{O=(new oe.DOMParser).parseFromString(T,"text/xml")}catch{}return N=O&&O.getElementsByTagName("parsererror")[0],O&&!N||P.error("Invalid XML: "+(N?P.map(N.childNodes,function(M){return M.textContent}).join("\n"):T)),O};var Sl=/\[\]$/,Xs=/\r?\n/g,js=/^(?:submit|button|image|reset|file)$/i,gs=/^(?:input|select|textarea|keygen)/i;function qs(T,O,N,M){var B;if(Array.isArray(O))P.each(O,function(V,j){N||Sl.test(T)?M(T,j):qs(T+"["+("object"==typeof j&&null!=j?V:"")+"]",j,N,M)});else if(N||"object"!==Me(O))M(T,O);else for(B in O)qs(T+"["+B+"]",O[B],N,M)}P.param=function(T,O){var N,M=[],B=function(V,j){var te=it(j)?j():j;M[M.length]=encodeURIComponent(V)+"="+encodeURIComponent(te??"")};if(null==T)return"";if(Array.isArray(T)||T.jquery&&!P.isPlainObject(T))P.each(T,function(){B(this.name,this.value)});else for(N in T)qs(N,T[N],O,B);return M.join("&")},P.fn.extend({serialize:function(){return P.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var T=P.prop(this,"elements");return T?P.makeArray(T):this}).filter(function(){var T=this.type;return this.name&&!P(this).is(":disabled")&&gs.test(this.nodeName)&&!js.test(T)&&(this.checked||!Si.test(T))}).map(function(T,O){var N=P(this).val();return null==N?null:Array.isArray(N)?P.map(N,function(M){return{name:O.name,value:M.replace(Xs,"\r\n")}}):{name:O.name,value:N.replace(Xs,"\r\n")}}).get()}});var wl=/%20/g,Go=/#.*$/,xa=/([?&])_=[^&]*/,Jl=/^(.*?):[ \t]*([^\r\n]*)$/gm,Vr=/^(?:GET|HEAD)$/,Wo=/^\/\//,Ks={},Yo={},vs="*/".concat("*"),Ro=De.createElement("a");function xr(T){return function(O,N){"string"!=typeof O&&(N=O,O="*");var M,B=0,V=O.toLowerCase().match(zt)||[];if(it(N))for(;M=V[B++];)"+"===M[0]?(M=M.slice(1)||"*",(T[M]=T[M]||[]).unshift(N)):(T[M]=T[M]||[]).push(N)}}function Ua(T,O,N,M){var B={},V=T===Yo;function j(te){var fe;return B[te]=!0,P.each(T[te]||[],function(xe,Ze){var bt=Ze(O,N,M);return"string"!=typeof bt||V||B[bt]?V?!(fe=bt):void 0:(O.dataTypes.unshift(bt),j(bt),!1)}),fe}return j(O.dataTypes[0])||!B["*"]&&j("*")}function Zs(T,O){var N,M,B=P.ajaxSettings.flatOptions||{};for(N in O)void 0!==O[N]&&((B[N]?T:M||(M={}))[N]=O[N]);return M&&P.extend(!0,T,M),T}Ro.href=la.href,P.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:la.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(la.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":vs,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":P.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(T,O){return O?Zs(Zs(T,P.ajaxSettings),O):Zs(P.ajaxSettings,T)},ajaxPrefilter:xr(Ks),ajaxTransport:xr(Yo),ajax:function(T,O){"object"==typeof T&&(O=T,T=void 0);var N,M,B,V,j,te,fe,xe,Ze,bt,at=P.ajaxSetup({},O=O||{}),ht=at.context||at,nn=at.context&&(ht.nodeType||ht.jquery)?P(ht):P.event,fn=P.Deferred(),an=P.Callbacks("once memory"),wi=at.statusCode||{},$i={},co={},li="canceled",Dn={readyState:0,getResponseHeader:function(Zn){var Li;if(fe){if(!V)for(V={};Li=Jl.exec(B);)V[Li[1].toLowerCase()+" "]=(V[Li[1].toLowerCase()+" "]||[]).concat(Li[2]);Li=V[Zn.toLowerCase()+" "]}return null==Li?null:Li.join(", ")},getAllResponseHeaders:function(){return fe?B:null},setRequestHeader:function(Zn,Li){return null==fe&&(Zn=co[Zn.toLowerCase()]=co[Zn.toLowerCase()]||Zn,$i[Zn]=Li),this},overrideMimeType:function(Zn){return null==fe&&(at.mimeType=Zn),this},statusCode:function(Zn){var Li;if(Zn)if(fe)Dn.always(Zn[Dn.status]);else for(Li in Zn)wi[Li]=[wi[Li],Zn[Li]];return this},abort:function(Zn){var Li=Zn||li;return N&&N.abort(Li),Gr(0,Li),this}};if(fn.promise(Dn),at.url=((T||at.url||la.href)+"").replace(Wo,la.protocol+"//"),at.type=O.method||O.type||at.method||at.type,at.dataTypes=(at.dataType||"*").toLowerCase().match(zt)||[""],null==at.crossDomain){te=De.createElement("a");try{te.href=at.url,te.href=te.href,at.crossDomain=Ro.protocol+"//"+Ro.host!=te.protocol+"//"+te.host}catch{at.crossDomain=!0}}if(at.data&&at.processData&&"string"!=typeof at.data&&(at.data=P.param(at.data,at.traditional)),Ua(Ks,at,O,Dn),fe)return Dn;for(Ze in(xe=P.event&&at.global)&&0==P.active++&&P.event.trigger("ajaxStart"),at.type=at.type.toUpperCase(),at.hasContent=!Vr.test(at.type),M=at.url.replace(Go,""),at.hasContent?at.data&&at.processData&&0===(at.contentType||"").indexOf("application/x-www-form-urlencoded")&&(at.data=at.data.replace(wl,"+")):(bt=at.url.slice(M.length),at.data&&(at.processData||"string"==typeof at.data)&&(M+=(Ha.test(M)?"&":"?")+at.data,delete at.data),!1===at.cache&&(M=M.replace(xa,"$1"),bt=(Ha.test(M)?"&":"?")+"_="+ps.guid+++bt),at.url=M+bt),at.ifModified&&(P.lastModified[M]&&Dn.setRequestHeader("If-Modified-Since",P.lastModified[M]),P.etag[M]&&Dn.setRequestHeader("If-None-Match",P.etag[M])),(at.data&&at.hasContent&&!1!==at.contentType||O.contentType)&&Dn.setRequestHeader("Content-Type",at.contentType),Dn.setRequestHeader("Accept",at.dataTypes[0]&&at.accepts[at.dataTypes[0]]?at.accepts[at.dataTypes[0]]+("*"!==at.dataTypes[0]?", "+vs+"; q=0.01":""):at.accepts["*"]),at.headers)Dn.setRequestHeader(Ze,at.headers[Ze]);if(at.beforeSend&&(!1===at.beforeSend.call(ht,Dn,at)||fe))return Dn.abort();if(li="abort",an.add(at.complete),Dn.done(at.success),Dn.fail(at.error),N=Ua(Yo,at,O,Dn)){if(Dn.readyState=1,xe&&nn.trigger("ajaxSend",[Dn,at]),fe)return Dn;at.async&&0<at.timeout&&(j=oe.setTimeout(function(){Dn.abort("timeout")},at.timeout));try{fe=!1,N.send($i,Gr)}catch(Zn){if(fe)throw Zn;Gr(-1,Zn)}}else Gr(-1,"No Transport");function Gr(Zn,Li,za,_s){var br,Va,Ga,Wr,Xo,hi=Li;fe||(fe=!0,j&&oe.clearTimeout(j),N=void 0,B=_s||"",Dn.readyState=0<Zn?4:0,br=200<=Zn&&Zn<300||304===Zn,za&&(Wr=function(ri,Yr,Lr){for(var ua,In,oi,qi,ho=ri.contents,er=ri.dataTypes;"*"===er[0];)er.shift(),void 0===ua&&(ua=ri.mimeType||Yr.getResponseHeader("Content-Type"));if(ua)for(In in ho)if(ho[In]&&ho[In].test(ua)){er.unshift(In);break}if(er[0]in Lr)oi=er[0];else{for(In in Lr){if(!er[0]||ri.converters[In+" "+er[0]]){oi=In;break}qi||(qi=In)}oi=oi||qi}if(oi)return oi!==er[0]&&er.unshift(oi),Lr[oi]}(at,Dn,za)),!br&&-1<P.inArray("script",at.dataTypes)&&P.inArray("json",at.dataTypes)<0&&(at.converters["text script"]=function(){}),Wr=function(ri,Yr,Lr,ua){var In,oi,qi,ho,er,Xr={},Ta=ri.dataTypes.slice();if(Ta[1])for(qi in ri.converters)Xr[qi.toLowerCase()]=ri.converters[qi];for(oi=Ta.shift();oi;)if(ri.responseFields[oi]&&(Lr[ri.responseFields[oi]]=Yr),!er&&ua&&ri.dataFilter&&(Yr=ri.dataFilter(Yr,ri.dataType)),er=oi,oi=Ta.shift())if("*"===oi)oi=er;else if("*"!==er&&er!==oi){if(!(qi=Xr[er+" "+oi]||Xr["* "+oi]))for(In in Xr)if((ho=In.split(" "))[1]===oi&&(qi=Xr[er+" "+ho[0]]||Xr["* "+ho[0]])){!0===qi?qi=Xr[In]:!0!==Xr[In]&&(oi=ho[0],Ta.unshift(ho[1]));break}if(!0!==qi)if(qi&&ri.throws)Yr=qi(Yr);else try{Yr=qi(Yr)}catch(xs){return{state:"parsererror",error:qi?xs:"No conversion from "+er+" to "+oi}}}return{state:"success",data:Yr}}(at,Wr,Dn,br),br?(at.ifModified&&((Xo=Dn.getResponseHeader("Last-Modified"))&&(P.lastModified[M]=Xo),(Xo=Dn.getResponseHeader("etag"))&&(P.etag[M]=Xo)),204===Zn||"HEAD"===at.type?hi="nocontent":304===Zn?hi="notmodified":(hi=Wr.state,Va=Wr.data,br=!(Ga=Wr.error))):(Ga=hi,!Zn&&hi||(hi="error",Zn<0&&(Zn=0))),Dn.status=Zn,Dn.statusText=(Li||hi)+"",br?fn.resolveWith(ht,[Va,hi,Dn]):fn.rejectWith(ht,[Dn,hi,Ga]),Dn.statusCode(wi),wi=void 0,xe&&nn.trigger(br?"ajaxSuccess":"ajaxError",[Dn,at,br?Va:Ga]),an.fireWith(ht,[Dn,hi]),xe&&(nn.trigger("ajaxComplete",[Dn,at]),--P.active||P.event.trigger("ajaxStop")))}return Dn},getJSON:function(T,O,N){return P.get(T,O,N,"json")},getScript:function(T,O){return P.get(T,void 0,O,"script")}}),P.each(["get","post"],function(T,O){P[O]=function(N,M,B,V){return it(M)&&(V=V||B,B=M,M=void 0),P.ajax(P.extend({url:N,type:O,dataType:V,data:M,success:B},P.isPlainObject(N)&&N))}}),P.ajaxPrefilter(function(T){var O;for(O in T.headers)"content-type"===O.toLowerCase()&&(T.contentType=T.headers[O]||"")}),P._evalUrl=function(T,O,N){return P.ajax({url:T,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(M){P.globalEval(M,O,N)}})},P.fn.extend({wrapAll:function(T){var O;return this[0]&&(it(T)&&(T=T.call(this[0])),O=P(T,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&O.insertBefore(this[0]),O.map(function(){for(var N=this;N.firstElementChild;)N=N.firstElementChild;return N}).append(this)),this},wrapInner:function(T){return it(T)?this.each(function(O){P(this).wrapInner(T.call(this,O))}):this.each(function(){var O=P(this),N=O.contents();N.length?N.wrapAll(T):O.append(T)})},wrap:function(T){var O=it(T);return this.each(function(N){P(this).wrapAll(O?T.call(this,N):T)})},unwrap:function(T){return this.parent(T).not("body").each(function(){P(this).replaceWith(this.childNodes)}),this}}),P.expr.pseudos.hidden=function(T){return!P.expr.pseudos.visible(T)},P.expr.pseudos.visible=function(T){return!!(T.offsetWidth||T.offsetHeight||T.getClientRects().length)},P.ajaxSettings.xhr=function(){try{return new oe.XMLHttpRequest}catch{}};var ms={0:200,1223:204},no=P.ajaxSettings.xhr();Ke.cors=!!no&&"withCredentials"in no,Ke.ajax=no=!!no,P.ajaxTransport(function(T){var O,N;if(Ke.cors||no&&!T.crossDomain)return{send:function(M,B){var V,j=T.xhr();if(j.open(T.type,T.url,T.async,T.username,T.password),T.xhrFields)for(V in T.xhrFields)j[V]=T.xhrFields[V];for(V in T.mimeType&&j.overrideMimeType&&j.overrideMimeType(T.mimeType),T.crossDomain||M["X-Requested-With"]||(M["X-Requested-With"]="XMLHttpRequest"),M)j.setRequestHeader(V,M[V]);O=function(te){return function(){O&&(O=N=j.onload=j.onerror=j.onabort=j.ontimeout=j.onreadystatechange=null,"abort"===te?j.abort():"error"===te?"number"!=typeof j.status?B(0,"error"):B(j.status,j.statusText):B(ms[j.status]||j.status,j.statusText,"text"!==(j.responseType||"text")||"string"!=typeof j.responseText?{binary:j.response}:{text:j.responseText},j.getAllResponseHeaders()))}},j.onload=O(),N=j.onerror=j.ontimeout=O("error"),void 0!==j.onabort?j.onabort=N:j.onreadystatechange=function(){4===j.readyState&&oe.setTimeout(function(){O&&N()})},O=O("abort");try{j.send(T.hasContent&&T.data||null)}catch(te){if(O)throw te}},abort:function(){O&&O()}}}),P.ajaxPrefilter(function(T){T.crossDomain&&(T.contents.script=!1)}),P.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(T){return P.globalEval(T),T}}}),P.ajaxPrefilter("script",function(T){void 0===T.cache&&(T.cache=!1),T.crossDomain&&(T.type="GET")}),P.ajaxTransport("script",function(T){var O,N;if(T.crossDomain||T.scriptAttrs)return{send:function(M,B){O=P("<script>").attr(T.scriptAttrs||{}).prop({charset:T.scriptCharset,src:T.url}).on("load error",N=function(V){O.remove(),N=null,V&&B("error"===V.type?404:200,V.type)}),De.head.appendChild(O[0])},abort:function(){N&&N()}}});var ji,ba=[],Sa=/(=)\?(?=&|$)|\?\?/;P.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var T=ba.pop()||P.expando+"_"+ps.guid++;return this[T]=!0,T}}),P.ajaxPrefilter("json jsonp",function(T,O,N){var M,B,V,j=!1!==T.jsonp&&(Sa.test(T.url)?"url":"string"==typeof T.data&&0===(T.contentType||"").indexOf("application/x-www-form-urlencoded")&&Sa.test(T.data)&&"data");if(j||"jsonp"===T.dataTypes[0])return M=T.jsonpCallback=it(T.jsonpCallback)?T.jsonpCallback():T.jsonpCallback,j?T[j]=T[j].replace(Sa,"$1"+M):!1!==T.jsonp&&(T.url+=(Ha.test(T.url)?"&":"?")+T.jsonp+"="+M),T.converters["script json"]=function(){return V||P.error(M+" was not called"),V[0]},T.dataTypes[0]="json",B=oe[M],oe[M]=function(){V=arguments},N.always(function(){void 0===B?P(oe).removeProp(M):oe[M]=B,T[M]&&(T.jsonpCallback=O.jsonpCallback,ba.push(M)),V&&it(B)&&B(V[0]),V=B=void 0}),"script"}),Ke.createHTMLDocument=((ji=De.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===ji.childNodes.length),P.parseHTML=function(T,O,N){return"string"!=typeof T?[]:("boolean"==typeof O&&(N=O,O=!1),O||(Ke.createHTMLDocument?((M=(O=De.implementation.createHTMLDocument("")).createElement("base")).href=De.location.href,O.head.appendChild(M)):O=De),V=!N&&[],(B=ie.exec(T))?[O.createElement(B[1])]:(B=ae([T],O,V),V&&V.length&&P(V).remove(),P.merge([],B.childNodes)));var M,B,V},P.fn.load=function(T,O,N){var M,B,V,j=this,te=T.indexOf(" ");return-1<te&&(M=uo(T.slice(te)),T=T.slice(0,te)),it(O)?(N=O,O=void 0):O&&"object"==typeof O&&(B="POST"),0<j.length&&P.ajax({url:T,type:B||"GET",dataType:"html",data:O}).done(function(fe){V=arguments,j.html(M?P("<div>").append(P.parseHTML(fe)).find(M):fe)}).always(N&&function(fe,xe){j.each(function(){N.apply(this,V||[fe.responseText,xe,fe])})}),this},P.expr.pseudos.animated=function(T){return P.grep(P.timers,function(O){return T===O.elem}).length},P.offset={setOffset:function(T,O,N){var M,B,V,j,te,fe,xe=P.css(T,"position"),Ze=P(T),bt={};"static"===xe&&(T.style.position="relative"),te=Ze.offset(),V=P.css(T,"top"),fe=P.css(T,"left"),("absolute"===xe||"fixed"===xe)&&-1<(V+fe).indexOf("auto")?(j=(M=Ze.position()).top,B=M.left):(j=parseFloat(V)||0,B=parseFloat(fe)||0),it(O)&&(O=O.call(T,N,P.extend({},te))),null!=O.top&&(bt.top=O.top-te.top+j),null!=O.left&&(bt.left=O.left-te.left+B),"using"in O?O.using.call(T,bt):Ze.css(bt)}},P.fn.extend({offset:function(T){if(arguments.length)return void 0===T?this:this.each(function(B){P.offset.setOffset(this,T,B)});var O,N,M=this[0];return M?M.getClientRects().length?{top:(O=M.getBoundingClientRect()).top+(N=M.ownerDocument.defaultView).pageYOffset,left:O.left+N.pageXOffset}:{top:0,left:0}:void 0},position:function(){if(this[0]){var T,O,N,M=this[0],B={top:0,left:0};if("fixed"===P.css(M,"position"))O=M.getBoundingClientRect();else{for(O=this.offset(),N=M.ownerDocument,T=M.offsetParent||N.documentElement;T&&(T===N.body||T===N.documentElement)&&"static"===P.css(T,"position");)T=T.parentNode;T&&T!==M&&1===T.nodeType&&((B=P(T).offset()).top+=P.css(T,"borderTopWidth",!0),B.left+=P.css(T,"borderLeftWidth",!0))}return{top:O.top-B.top-P.css(M,"marginTop",!0),left:O.left-B.left-P.css(M,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var T=this.offsetParent;T&&"static"===P.css(T,"position");)T=T.offsetParent;return T||Wi})}}),P.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(T,O){var N="pageYOffset"===O;P.fn[T]=function(M){return sn(this,function(B,V,j){var te;if(He(B)?te=B:9===B.nodeType&&(te=B.defaultView),void 0===j)return te?te[O]:B[V];te?te.scrollTo(N?te.pageXOffset:j,N?j:te.pageYOffset):B[V]=j},T,M,arguments.length)}}),P.each(["top","left"],function(T,O){P.cssHooks[O]=on(Ke.pixelPosition,function(N,M){if(M)return M=qt(N,O),pt.test(M)?P(N).position()[O]+"px":M})}),P.each({Height:"height",Width:"width"},function(T,O){P.each({padding:"inner"+T,content:O,"":"outer"+T},function(N,M){P.fn[M]=function(B,V){var j=arguments.length&&(N||"boolean"!=typeof B),te=N||(!0===B||!0===V?"margin":"border");return sn(this,function(fe,xe,Ze){var bt;return He(fe)?0===M.indexOf("outer")?fe["inner"+T]:fe.document.documentElement["client"+T]:9===fe.nodeType?(bt=fe.documentElement,Math.max(fe.body["scroll"+T],bt["scroll"+T],fe.body["offset"+T],bt["offset"+T],bt["client"+T])):void 0===Ze?P.css(fe,xe,te):P.style(fe,xe,Ze,te)},O,j?B:void 0,j)}})}),P.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(T,O){P.fn[O]=function(N){return this.on(O,N)}}),P.fn.extend({bind:function(T,O,N){return this.on(T,null,O,N)},unbind:function(T,O){return this.off(T,null,O)},delegate:function(T,O,N,M){return this.on(O,T,N,M)},undelegate:function(T,O,N){return 1===arguments.length?this.off(T,"**"):this.off(O,T||"**",N)},hover:function(T,O){return this.mouseenter(T).mouseleave(O||T)}}),P.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(T,O){P.fn[O]=function(N,M){return 0<arguments.length?this.on(O,null,N,M):this.trigger(O)}});var Js=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;P.proxy=function(T,O){var N,M,B;if("string"==typeof O&&(N=T[O],O=T,T=N),it(T))return M=X.call(arguments,2),(B=function(){return T.apply(O||this,M.concat(X.call(arguments)))}).guid=T.guid=T.guid||P.guid++,B},P.holdReady=function(T){T?P.readyWait++:P.ready(!0)},P.isArray=Array.isArray,P.parseJSON=JSON.parse,P.nodeName=Ee,P.isFunction=it,P.isWindow=He,P.camelCase=Bt,P.type=Me,P.now=Date.now,P.isNumeric=function(T){var O=P.type(T);return("number"===O||"string"===O)&&!isNaN(T-parseFloat(T))},P.trim=function(T){return null==T?"":(T+"").replace(Js,"")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return P});var wa=oe.jQuery,ys=oe.$;return P.noConflict=function(T){return oe.$===P&&(oe.$=ys),T&&oe.jQuery===P&&(oe.jQuery=wa),P},typeof ft>"u"&&(oe.jQuery=oe.$=P),P}),function(oe,ft){"object"==typeof exports&&typeof module<"u"?module.exports=ft():"function"==typeof define&&define.amd?define(ft):oe.Popper=ft()}(this,function(){"use strict";var oe=typeof window<"u"&&typeof document<"u"&&typeof navigator<"u",ft=function(){for(var re=["Edge","Trident","Firefox"],Z=0;Z<re.length;Z+=1)if(oe&&navigator.userAgent.indexOf(re[Z])>=0)return 1;return 0}(),Ye=oe&&window.Promise?function ue(re){var Z=!1;return function(){Z||(Z=!0,window.Promise.resolve().then(function(){Z=!1,re()}))}}:function qe(re){var Z=!1;return function(){Z||(Z=!0,setTimeout(function(){Z=!1,re()},ft))}};function ve(re){return re&&"[object Function]"==={}.toString.call(re)}function Qe(re,Z){if(1!==re.nodeType)return[];var ce=re.ownerDocument.defaultView.getComputedStyle(re,null);return Z?ce[Z]:ce}function Pe(re){return"HTML"===re.nodeName?re:re.parentNode||re.host}function st(re){if(!re)return document.body;switch(re.nodeName){case"HTML":case"BODY":return re.ownerDocument.body;case"#document":return re.body}var Z=Qe(re);return/(auto|scroll|overlay)/.test(Z.overflow+Z.overflowY+Z.overflowX)?re:st(Pe(re))}function Ce(re){return re&&re.referenceNode?re.referenceNode:re}var yt=oe&&!(!window.MSInputMethodContext||!document.documentMode),St=oe&&/MSIE 10/.test(navigator.userAgent);function Ke(re){return 11===re?yt:10===re?St:yt||St}function it(re){if(!re)return document.documentElement;for(var Z=Ke(10)?document.body:null,Q=re.offsetParent||null;Q===Z&&re.nextElementSibling;)Q=(re=re.nextElementSibling).offsetParent;var ce=Q&&Q.nodeName;return ce&&"BODY"!==ce&&"HTML"!==ce?-1!==["TH","TD","TABLE"].indexOf(Q.nodeName)&&"static"===Qe(Q,"position")?it(Q):Q:re?re.ownerDocument.documentElement:document.documentElement}function De(re){return null!==re.parentNode?De(re.parentNode):re}function ct(re,Z){if(!(re&&re.nodeType&&Z&&Z.nodeType))return document.documentElement;var Q=re.compareDocumentPosition(Z)&Node.DOCUMENT_POSITION_FOLLOWING,ce=Q?re:Z,we=Q?Z:re,Re=document.createRange();Re.setStart(ce,0),Re.setEnd(we,0);var We=Re.commonAncestorContainer;if(re!==We&&Z!==We||ce.contains(we))return function He(re){var Z=re.nodeName;return"BODY"!==Z&&("HTML"===Z||it(re.firstElementChild)===re)}(We)?We:it(We);var ot=De(re);return ot.host?ct(ot.host,Z):ct(re,De(Z).host)}function ne(re){var Q="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",ce=re.nodeName;return"BODY"===ce||"HTML"===ce?(re.ownerDocument.scrollingElement||re.ownerDocument.documentElement)[Q]:re[Q]}function Oe(re,Z){var Q="x"===Z?"Left":"Top",ce="Left"===Q?"Right":"Bottom";return parseFloat(re["border"+Q+"Width"])+parseFloat(re["border"+ce+"Width"])}function P(re,Z,Q,ce){return Math.max(Z["offset"+re],Z["scroll"+re],Q["client"+re],Q["offset"+re],Q["scroll"+re],Ke(10)?parseInt(Q["offset"+re])+parseInt(ce["margin"+("Height"===re?"Top":"Left")])+parseInt(ce["margin"+("Height"===re?"Bottom":"Right")]):0)}function tt(re){var Z=re.body,Q=re.documentElement,ce=Ke(10)&&getComputedStyle(Q);return{height:P("Height",Z,Q,ce),width:P("Width",Z,Q,ce)}}var Ie=function(){function re(Z,Q){for(var ce=0;ce<Q.length;ce++){var we=Q[ce];we.enumerable=we.enumerable||!1,we.configurable=!0,"value"in we&&(we.writable=!0),Object.defineProperty(Z,we.key,we)}}return function(Z,Q,ce){return Q&&re(Z.prototype,Q),ce&&re(Z,ce),Z}}(),et=function(re,Z,Q){return Z in re?Object.defineProperty(re,Z,{value:Q,enumerable:!0,configurable:!0,writable:!0}):re[Z]=Q,re},se=Object.assign||function(re){for(var Z=1;Z<arguments.length;Z++){var Q=arguments[Z];for(var ce in Q)Object.prototype.hasOwnProperty.call(Q,ce)&&(re[ce]=Q[ce])}return re};function Ee(re){return se({},re,{right:re.left+re.width,bottom:re.top+re.height})}function ie(re){var Z={};try{if(Ke(10)){Z=re.getBoundingClientRect();var Q=ne(re,"top"),ce=ne(re,"left");Z.top+=Q,Z.left+=ce,Z.bottom+=Q,Z.right+=ce}else Z=re.getBoundingClientRect()}catch{}var we={left:Z.left,top:Z.top,width:Z.right-Z.left,height:Z.bottom-Z.top},Re="HTML"===re.nodeName?tt(re.ownerDocument):{},$e=re.offsetWidth-(Re.width||re.clientWidth||we.width),pt=re.offsetHeight-(Re.height||re.clientHeight||we.height);if($e||pt){var wt=Qe(re);$e-=Oe(wt,"x"),pt-=Oe(wt,"y"),we.width-=$e,we.height-=pt}return Ee(we)}function pe(re,Z){var Q=arguments.length>2&&void 0!==arguments[2]&&arguments[2],ce=Ke(10),we="HTML"===Z.nodeName,Re=ie(re),We=ie(Z),ot=st(re),$e=Qe(Z),pt=parseFloat($e.borderTopWidth),wt=parseFloat($e.borderLeftWidth);Q&&we&&(We.top=Math.max(We.top,0),We.left=Math.max(We.left,0));var At=Ee({top:Re.top-We.top-pt,left:Re.left-We.left-wt,width:Re.width,height:Re.height});if(At.marginTop=0,At.marginLeft=0,!ce&&we){var Kt=parseFloat($e.marginTop),qt=parseFloat($e.marginLeft);At.top-=pt-Kt,At.bottom-=pt-Kt,At.left-=wt-qt,At.right-=wt-qt,At.marginTop=Kt,At.marginLeft=qt}return(ce&&!Q?Z.contains(ot):Z===ot&&"BODY"!==ot.nodeName)&&(At=function Me(re,Z){var Q=arguments.length>2&&void 0!==arguments[2]&&arguments[2],ce=ne(Z,"top"),we=ne(Z,"left"),Re=Q?-1:1;return re.top+=ce*Re,re.bottom+=ce*Re,re.left+=we*Re,re.right+=we*Re,re}(At,Z)),At}function lt(re){var Z=re.nodeName;if("BODY"===Z||"HTML"===Z)return!1;if("fixed"===Qe(re,"position"))return!0;var Q=Pe(re);return!!Q&&lt(Q)}function gt(re){if(!re||!re.parentElement||Ke())return document.documentElement;for(var Z=re.parentElement;Z&&"none"===Qe(Z,"transform");)Z=Z.parentElement;return Z||document.documentElement}function Y(re,Z,Q,ce){var we=arguments.length>4&&void 0!==arguments[4]&&arguments[4],Re={top:0,left:0},We=we?gt(re):ct(re,Ce(Z));if("viewport"===ce)Re=function C(re){var Z=arguments.length>1&&void 0!==arguments[1]&&arguments[1],Q=re.ownerDocument.documentElement,ce=pe(re,Q),we=Math.max(Q.clientWidth,window.innerWidth||0),Re=Math.max(Q.clientHeight,window.innerHeight||0),We=Z?0:ne(Q),ot=Z?0:ne(Q,"left");return Ee({top:We-ce.top+ce.marginTop,left:ot-ce.left+ce.marginLeft,width:we,height:Re})}(We,we);else{var ot=void 0;"scrollParent"===ce?"BODY"===(ot=st(Pe(Z))).nodeName&&(ot=re.ownerDocument.documentElement):ot="window"===ce?re.ownerDocument.documentElement:ce;var $e=pe(ot,We,we);if("HTML"!==ot.nodeName||lt(We))Re=$e;else{var pt=tt(re.ownerDocument),wt=pt.height,At=pt.width;Re.top+=$e.top-$e.marginTop,Re.bottom=wt+$e.top,Re.left+=$e.left-$e.marginLeft,Re.right=At+$e.left}}var Kt="number"==typeof(Q=Q||0);return Re.left+=Kt?Q:Q.left||0,Re.top+=Kt?Q:Q.top||0,Re.right-=Kt?Q:Q.right||0,Re.bottom-=Kt?Q:Q.bottom||0,Re}function Ve(re){return re.width*re.height}function zt(re,Z,Q,ce,we){var Re=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===re.indexOf("auto"))return re;var We=Y(Q,ce,Re,we),ot={top:{width:We.width,height:Z.top-We.top},right:{width:We.right-Z.right,height:We.height},bottom:{width:We.width,height:We.bottom-Z.bottom},left:{width:Z.left-We.left,height:We.height}},$e=Object.keys(ot).map(function(Kt){return se({key:Kt},ot[Kt],{area:Ve(ot[Kt])})}).sort(function(Kt,qt){return qt.area-Kt.area}),pt=$e.filter(function(Kt){return Kt.width>=Q.clientWidth&&Kt.height>=Q.clientHeight}),wt=pt.length>0?pt[0].key:$e[0].key,At=re.split("-")[1];return wt+(At?"-"+At:"")}function jt(re,Z,Q){var ce=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return pe(Q,ce?gt(Z):ct(Z,Ce(Q)),ce)}function rn(re){var Q=re.ownerDocument.defaultView.getComputedStyle(re),ce=parseFloat(Q.marginTop||0)+parseFloat(Q.marginBottom||0),we=parseFloat(Q.marginLeft||0)+parseFloat(Q.marginRight||0);return{width:re.offsetWidth+we,height:re.offsetHeight+ce}}function Mt(re){var Z={left:"right",right:"left",bottom:"top",top:"bottom"};return re.replace(/left|right|bottom|top/g,function(Q){return Z[Q]})}function mt(re,Z,Q){Q=Q.split("-")[0];var ce=rn(re),we={width:ce.width,height:ce.height},Re=-1!==["right","left"].indexOf(Q),We=Re?"top":"left",ot=Re?"left":"top",$e=Re?"height":"width",pt=Re?"width":"height";return we[We]=Z[We]+Z[$e]/2-ce[$e]/2,we[ot]=Q===ot?Z[ot]-ce[pt]:Z[Mt(ot)],we}function Lt(re,Z){return Array.prototype.find?re.find(Z):re.filter(Z)[0]}function sn(re,Z,Q){var ce=void 0===Q?re:re.slice(0,function rt(re,Z,Q){if(Array.prototype.findIndex)return re.findIndex(function(we){return we[Z]===Q});var ce=Lt(re,function(we){return we[Z]===Q});return re.indexOf(ce)}(re,"name",Q));return ce.forEach(function(we){we.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var Re=we.function||we.fn;we.enabled&&ve(Re)&&(Z.offsets.popper=Ee(Z.offsets.popper),Z.offsets.reference=Ee(Z.offsets.reference),Z=Re(Z,we))}),Z}function Jt(){if(!this.state.isDestroyed){var re={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};re.offsets.reference=jt(this.state,this.popper,this.reference,this.options.positionFixed),re.placement=zt(this.options.placement,re.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),re.originalPlacement=re.placement,re.positionFixed=this.options.positionFixed,re.offsets.popper=mt(this.popper,re.offsets.reference,re.placement),re.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",re=sn(this.modifiers,re),this.state.isCreated?this.options.onUpdate(re):(this.state.isCreated=!0,this.options.onCreate(re))}}function Pi(re,Z){return re.some(function(Q){return Q.enabled&&Q.name===Z})}function Ci(re){for(var Z=[!1,"ms","Webkit","Moz","O"],Q=re.charAt(0).toUpperCase()+re.slice(1),ce=0;ce<Z.length;ce++){var we=Z[ce],Re=we?""+we+Q:re;if(typeof document.body.style[Re]<"u")return Re}return null}function Bt(){return this.state.isDestroyed=!0,Pi(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[Ci("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function xi(re){var Z=re.ownerDocument;return Z?Z.defaultView:window}function Pn(re,Z,Q,ce){var we="BODY"===re.nodeName,Re=we?re.ownerDocument.defaultView:re;Re.addEventListener(Z,Q,{passive:!0}),we||Pn(st(Re.parentNode),Z,Q,ce),ce.push(Re)}function Rt(re,Z,Q,ce){Q.updateBound=ce,xi(re).addEventListener("resize",Q.updateBound,{passive:!0});var we=st(re);return Pn(we,"scroll",Q.updateBound,Q.scrollParents),Q.scrollElement=we,Q.eventsEnabled=!0,Q}function ei(){this.state.eventsEnabled||(this.state=Rt(this.reference,0,this.state,this.scheduleUpdate))}function si(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=function Bi(re,Z){return xi(re).removeEventListener("resize",Z.updateBound),Z.scrollParents.forEach(function(Q){Q.removeEventListener("scroll",Z.updateBound)}),Z.updateBound=null,Z.scrollParents=[],Z.scrollElement=null,Z.eventsEnabled=!1,Z}(this.reference,this.state))}function ti(re){return""!==re&&!isNaN(parseFloat(re))&&isFinite(re)}function zn(re,Z){Object.keys(Z).forEach(function(Q){var ce="";-1!==["width","height","top","right","bottom","left"].indexOf(Q)&&ti(Z[Q])&&(ce="px"),re.style[Q]=Z[Q]+ce})}var ni=oe&&/Firefox/i.test(navigator.userAgent);function Ir(re,Z,Q){var ce=Lt(re,function(ot){return ot.name===Z}),we=!!ce&&re.some(function(ot){return ot.name===Q&&ot.enabled&&ot.order<ce.order});if(!we){var Re="`"+Z+"`";console.warn("`"+Q+"` modifier is required by "+Re+" modifier in order to work, be sure to include it before "+Re+"!")}return we}var Yi=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],Ht=Yi.slice(3);function Si(re){var Z=arguments.length>1&&void 0!==arguments[1]&&arguments[1],Q=Ht.indexOf(re),ce=Ht.slice(Q+1).concat(Ht.slice(0,Q));return Z?ce.reverse():ce}var tn={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function ye(re){var Z=re.placement,Q=Z.split("-")[0],ce=Z.split("-")[1];if(ce){var we=re.offsets,Re=we.reference,We=we.popper,ot=-1!==["bottom","top"].indexOf(Q),$e=ot?"left":"top",pt=ot?"width":"height",wt={start:et({},$e,Re[$e]),end:et({},$e,Re[$e]+Re[pt]-We[pt])};re.offsets.popper=se({},We,wt[ce])}return re}},offset:{order:200,enabled:!0,fn:function z(re,Z){var $e,Q=Z.offset,we=re.offsets,Re=we.popper,We=we.reference,ot=re.placement.split("-")[0];return $e=ti(+Q)?[+Q,0]:function Ae(re,Z,Q,ce){var we=[0,0],Re=-1!==["right","left"].indexOf(ce),We=re.split(/(\+|\-)/).map(function(wt){return wt.trim()}),ot=We.indexOf(Lt(We,function(wt){return-1!==wt.search(/,|\s/)}));We[ot]&&-1===We[ot].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var $e=/\s*,\s*|\s+/,pt=-1!==ot?[We.slice(0,ot).concat([We[ot].split($e)[0]]),[We[ot].split($e)[1]].concat(We.slice(ot+1))]:[We];return pt=pt.map(function(wt,At){var Kt=(1===At?!Re:Re)?"height":"width",qt=!1;return wt.reduce(function(on,Tn){return""===on[on.length-1]&&-1!==["+","-"].indexOf(Tn)?(on[on.length-1]=Tn,qt=!0,on):qt?(on[on.length-1]+=Tn,qt=!1,on):on.concat(Tn)},[]).map(function(on){return function ke(re,Z,Q,ce){var we=re.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),Re=+we[1],We=we[2];return Re?0===We.indexOf("%")?Ee("%p"===We?Q:ce)[Z]/100*Re:"vh"===We||"vw"===We?("vh"===We?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*Re:Re:re}(on,Kt,Z,Q)})}),pt.forEach(function(wt,At){wt.forEach(function(Kt,qt){ti(Kt)&&(we[At]+=Kt*("-"===wt[qt-1]?-1:1))})}),we}(Q,Re,We,ot),"left"===ot?(Re.top+=$e[0],Re.left-=$e[1]):"right"===ot?(Re.top+=$e[0],Re.left+=$e[1]):"top"===ot?(Re.left+=$e[0],Re.top-=$e[1]):"bottom"===ot&&(Re.left+=$e[0],Re.top+=$e[1]),re.popper=Re,re},offset:0},preventOverflow:{order:300,enabled:!0,fn:function ae(re,Z){var Q=Z.boundariesElement||it(re.instance.popper);re.instance.reference===Q&&(Q=it(Q));var ce=Ci("transform"),we=re.instance.popper.style,Re=we.top,We=we.left,ot=we[ce];we.top="",we.left="",we[ce]="";var $e=Y(re.instance.popper,re.instance.reference,Z.padding,Q,re.positionFixed);we.top=Re,we.left=We,we[ce]=ot,Z.boundaries=$e;var wt=re.offsets.popper,At={primary:function(qt){var on=wt[qt];return wt[qt]<$e[qt]&&!Z.escapeWithReference&&(on=Math.max(wt[qt],$e[qt])),et({},qt,on)},secondary:function(qt){var on="right"===qt?"left":"top",Tn=wt[on];return wt[qt]>$e[qt]&&!Z.escapeWithReference&&(Tn=Math.min(wt[on],$e[qt]-("right"===qt?wt.width:wt.height))),et({},on,Tn)}};return Z.priority.forEach(function(Kt){var qt=-1!==["left","top"].indexOf(Kt)?"primary":"secondary";wt=se({},wt,At[qt](Kt))}),re.offsets.popper=wt,re},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function Vn(re){var Z=re.offsets,Q=Z.popper,ce=Z.reference,we=re.placement.split("-")[0],Re=Math.floor,We=-1!==["top","bottom"].indexOf(we),ot=We?"right":"bottom",$e=We?"left":"top",pt=We?"width":"height";return Q[ot]<Re(ce[$e])&&(re.offsets.popper[$e]=Re(ce[$e])-Q[pt]),Q[$e]>Re(ce[ot])&&(re.offsets.popper[$e]=Re(ce[ot])),re}},arrow:{order:500,enabled:!0,fn:function Ar(re,Z){var Q;if(!Ir(re.instance.modifiers,"arrow","keepTogether"))return re;var ce=Z.element;if("string"==typeof ce){if(!(ce=re.instance.popper.querySelector(ce)))return re}else if(!re.instance.popper.contains(ce))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),re;var we=re.placement.split("-")[0],Re=re.offsets,We=Re.popper,ot=Re.reference,$e=-1!==["left","right"].indexOf(we),pt=$e?"height":"width",wt=$e?"Top":"Left",At=wt.toLowerCase(),Kt=$e?"left":"top",qt=$e?"bottom":"right",on=rn(ce)[pt];ot[qt]-on<We[At]&&(re.offsets.popper[At]-=We[At]-(ot[qt]-on)),ot[At]+on>We[qt]&&(re.offsets.popper[At]+=ot[At]+on-We[qt]),re.offsets.popper=Ee(re.offsets.popper);var Tn=ot[At]+ot[pt]/2-on/2,Mi=Qe(re.instance.popper),Xi=parseFloat(Mi["margin"+wt]),ii=parseFloat(Mi["border"+wt+"Width"]),sr=Tn-re.offsets.popper[At]-Xi-ii;return sr=Math.max(Math.min(We[pt]-on,sr),0),re.arrowElement=ce,re.offsets.arrow=(et(Q={},At,Math.round(sr)),et(Q,Kt,""),Q),re},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function ut(re,Z){if(Pi(re.instance.modifiers,"inner")||re.flipped&&re.placement===re.originalPlacement)return re;var Q=Y(re.instance.popper,re.instance.reference,Z.padding,Z.boundariesElement,re.positionFixed),ce=re.placement.split("-")[0],we=Mt(ce),Re=re.placement.split("-")[1]||"",We=[];switch(Z.behavior){case"flip":We=[ce,we];break;case"clockwise":We=Si(ce);break;case"counterclockwise":We=Si(ce,!0);break;default:We=Z.behavior}return We.forEach(function(ot,$e){if(ce!==ot||We.length===$e+1)return re;ce=re.placement.split("-")[0],we=Mt(ce);var pt=re.offsets.popper,wt=re.offsets.reference,At=Math.floor,Kt="left"===ce&&At(pt.right)>At(wt.left)||"right"===ce&&At(pt.left)<At(wt.right)||"top"===ce&&At(pt.bottom)>At(wt.top)||"bottom"===ce&&At(pt.top)<At(wt.bottom),qt=At(pt.left)<At(Q.left),on=At(pt.right)>At(Q.right),Tn=At(pt.top)<At(Q.top),Mi=At(pt.bottom)>At(Q.bottom),Xi="left"===ce&&qt||"right"===ce&&on||"top"===ce&&Tn||"bottom"===ce&&Mi,ii=-1!==["top","bottom"].indexOf(ce),pr=!!Z.flipVariations&&(ii&&"start"===Re&&qt||ii&&"end"===Re&&on||!ii&&"start"===Re&&Tn||!ii&&"end"===Re&&Mi)||!!Z.flipVariationsByContent&&(ii&&"start"===Re&&on||ii&&"end"===Re&&qt||!ii&&"start"===Re&&Mi||!ii&&"end"===Re&&Tn);(Kt||Xi||pr)&&(re.flipped=!0,(Kt||Xi)&&(ce=We[$e+1]),pr&&(Re=function bi(re){return"end"===re?"start":"start"===re?"end":re}(Re)),re.placement=ce+(Re?"-"+Re:""),re.offsets.popper=se({},re.offsets.popper,mt(re.instance.popper,re.offsets.reference,re.placement)),re=sn(re.instance.modifiers,re,"flip"))}),re},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function Xe(re){var Z=re.placement,Q=Z.split("-")[0],ce=re.offsets,we=ce.popper,Re=ce.reference,We=-1!==["left","right"].indexOf(Q),ot=-1===["top","left"].indexOf(Q);return we[We?"left":"top"]=Re[Q]-(ot?we[We?"width":"height"]:0),re.placement=Mt(Z),re.offsets.popper=Ee(we),re}},hide:{order:800,enabled:!0,fn:function Fe(re){if(!Ir(re.instance.modifiers,"hide","preventOverflow"))return re;var Z=re.offsets.reference,Q=Lt(re.instance.modifiers,function(ce){return"preventOverflow"===ce.name}).boundaries;if(Z.bottom<Q.top||Z.left>Q.right||Z.top>Q.bottom||Z.right<Q.left){if(!0===re.hide)return re;re.hide=!0,re.attributes["x-out-of-boundaries"]=""}else{if(!1===re.hide)return re;re.hide=!1,re.attributes["x-out-of-boundaries"]=!1}return re}},computeStyle:{order:850,enabled:!0,fn:function Ji(re,Z){var Q=Z.x,ce=Z.y,we=re.offsets.popper,Re=Lt(re.instance.modifiers,function(sr){return"applyStyle"===sr.name}).gpuAcceleration;void 0!==Re&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var on,Tn,We=void 0!==Re?Re:Z.gpuAcceleration,ot=it(re.instance.popper),$e=ie(ot),pt={position:we.position},wt=function Ai(re,Z){var Q=re.offsets,ce=Q.popper,Re=Math.round,We=Math.floor,ot=function(Xi){return Xi},$e=Re(Q.reference.width),pt=Re(ce.width),wt=-1!==["left","right"].indexOf(re.placement),At=-1!==re.placement.indexOf("-"),on=Z?wt||At||$e%2==pt%2?Re:We:ot,Tn=Z?Re:ot;return{left:on($e%2==1&&pt%2==1&&!At&&Z?ce.left-1:ce.left),top:Tn(ce.top),bottom:Tn(ce.bottom),right:on(ce.right)}}(re,window.devicePixelRatio<2||!ni),At="bottom"===Q?"top":"bottom",Kt="right"===ce?"left":"right",qt=Ci("transform");if(Tn="bottom"===At?"HTML"===ot.nodeName?-ot.clientHeight+wt.bottom:-$e.height+wt.bottom:wt.top,on="right"===Kt?"HTML"===ot.nodeName?-ot.clientWidth+wt.right:-$e.width+wt.right:wt.left,We&&qt)pt[qt]="translate3d("+on+"px, "+Tn+"px, 0)",pt[At]=0,pt[Kt]=0,pt.willChange="transform";else{var Xi="right"===Kt?-1:1;pt[At]=Tn*("bottom"===At?-1:1),pt[Kt]=on*Xi,pt.willChange=At+", "+Kt}return re.attributes=se({},{"x-placement":re.placement},re.attributes),re.styles=se({},pt,re.styles),re.arrowStyles=se({},re.offsets.arrow,re.arrowStyles),re},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function ui(re){return zn(re.instance.popper,re.styles),function ln(re,Z){Object.keys(Z).forEach(function(Q){!1!==Z[Q]?re.setAttribute(Q,Z[Q]):re.removeAttribute(Q)})}(re.instance.popper,re.attributes),re.arrowElement&&Object.keys(re.arrowStyles).length&&zn(re.arrowElement,re.arrowStyles),re},onLoad:function Wi(re,Z,Q,ce,we){var Re=jt(we,Z,re,Q.positionFixed),We=zt(Q.placement,Re,Z,re,Q.modifiers.flip.boundariesElement,Q.modifiers.flip.padding);return Z.setAttribute("x-placement",We),zn(Z,{position:Q.positionFixed?"fixed":"absolute"}),Q},gpuAcceleration:void 0}}},bn=function(){function re(Z,Q){var ce=this,we=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(function(re,Z){if(!(re instanceof Z))throw new TypeError("Cannot call a class as a function")})(this,re),this.scheduleUpdate=function(){return requestAnimationFrame(ce.update)},this.update=Ye(this.update.bind(this)),this.options=se({},re.Defaults,we),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=Z&&Z.jquery?Z[0]:Z,this.popper=Q&&Q.jquery?Q[0]:Q,this.options.modifiers={},Object.keys(se({},re.Defaults.modifiers,we.modifiers)).forEach(function(We){ce.options.modifiers[We]=se({},re.Defaults.modifiers[We]||{},we.modifiers?we.modifiers[We]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(We){return se({name:We},ce.options.modifiers[We])}).sort(function(We,ot){return We.order-ot.order}),this.modifiers.forEach(function(We){We.enabled&&ve(We.onLoad)&&We.onLoad(ce.reference,ce.popper,ce.options,We,ce.state)}),this.update();var Re=this.options.eventsEnabled;Re&&this.enableEventListeners(),this.state.eventsEnabled=Re}return Ie(re,[{key:"update",value:function(){return Jt.call(this)}},{key:"destroy",value:function(){return Bt.call(this)}},{key:"enableEventListeners",value:function(){return ei.call(this)}},{key:"disableEventListeners",value:function(){return si.call(this)}}]),re}();return bn.Utils=(typeof window<"u"?window:global).PopperUtils,bn.placements=Yi,bn.Defaults=tn,bn}),function(oe,ft){"object"==typeof exports&&typeof module<"u"?ft(exports,require("jquery"),require("popper.js")):"function"==typeof define&&define.amd?define(["exports","jquery","popper.js"],ft):ft((oe=typeof globalThis<"u"?globalThis:oe||self).bootstrap={},oe.jQuery,oe.Popper)}(this,function(oe,ft,ue){"use strict";function qe(ke){return ke&&"object"==typeof ke&&"default"in ke?ke:{default:ke}}var X=qe(ft),Ye=qe(ue);function ve(ke,Ae){for(var z=0;z<Ae.length;z++){var ae=Ae[z];ae.enumerable=ae.enumerable||!1,ae.configurable=!0,"value"in ae&&(ae.writable=!0),Object.defineProperty(ke,ae.key,ae)}}function Qe(ke,Ae,z){return Ae&&ve(ke.prototype,Ae),z&&ve(ke,z),ke}function Pe(){return(Pe=Object.assign||function(ke){for(var Ae=1;Ae<arguments.length;Ae++){var z=arguments[Ae];for(var ae in z)Object.prototype.hasOwnProperty.call(z,ae)&&(ke[ae]=z[ae])}return ke}).apply(this,arguments)}var Ce={TRANSITION_END:"bsTransitionEnd",getUID:function(ke){do{ke+=~~(1e6*Math.random())}while(document.getElementById(ke));return ke},getSelectorFromElement:function(ke){var Ae=ke.getAttribute("data-target");if(!Ae||"#"===Ae){var z=ke.getAttribute("href");Ae=z&&"#"!==z?z.trim():""}try{return document.querySelector(Ae)?Ae:null}catch{return null}},getTransitionDurationFromElement:function(ke){if(!ke)return 0;var Ae=X.default(ke).css("transition-duration"),z=X.default(ke).css("transition-delay"),ae=parseFloat(Ae),ye=parseFloat(z);return ae||ye?(Ae=Ae.split(",")[0],z=z.split(",")[0],1e3*(parseFloat(Ae)+parseFloat(z))):0},reflow:function(ke){return ke.offsetHeight},triggerTransitionEnd:function(ke){X.default(ke).trigger("transitionend")},supportsTransitionEnd:function(){return!0},isElement:function(ke){return(ke[0]||ke).nodeType},typeCheckConfig:function(ke,Ae,z){for(var ae in z)if(Object.prototype.hasOwnProperty.call(z,ae)){var ye=z[ae],Fe=Ae[ae],Xe=Fe&&Ce.isElement(Fe)?"element":null===(Vt=Fe)||typeof Vt>"u"?""+Vt:{}.toString.call(Vt).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(ye).test(Xe))throw new Error(ke.toUpperCase()+': Option "'+ae+'" provided type "'+Xe+'" but expected type "'+ye+'".')}var Vt},findShadowRoot:function(ke){if(!document.documentElement.attachShadow)return null;if("function"==typeof ke.getRootNode){var Ae=ke.getRootNode();return Ae instanceof ShadowRoot?Ae:null}return ke instanceof ShadowRoot?ke:ke.parentNode?Ce.findShadowRoot(ke.parentNode):null},jQueryDetection:function(){if(typeof X.default>"u")throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");var ke=X.default.fn.jquery.split(" ")[0].split(".");if(ke[0]<2&&ke[1]<9||1===ke[0]&&9===ke[1]&&ke[2]<1||ke[0]>=4)throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}};Ce.jQueryDetection(),X.default.fn.emulateTransitionEnd=function st(ke){var Ae=this,z=!1;return X.default(this).one(Ce.TRANSITION_END,function(){z=!0}),setTimeout(function(){z||Ce.triggerTransitionEnd(Ae)},ke),this},X.default.event.special[Ce.TRANSITION_END]={bindType:"transitionend",delegateType:"transitionend",handle:function(ke){if(X.default(ke.target).is(this))return ke.handleObj.handler.apply(this,arguments)}};var yt="alert",St=X.default.fn[yt],Ke=function(){function ke(z){this._element=z}var Ae=ke.prototype;return Ae.close=function(z){var ae=this._element;z&&(ae=this._getRootElement(z)),this._triggerCloseEvent(ae).isDefaultPrevented()||this._removeElement(ae)},Ae.dispose=function(){X.default.removeData(this._element,"bs.alert"),this._element=null},Ae._getRootElement=function(z){var ae=Ce.getSelectorFromElement(z),ye=!1;return ae&&(ye=document.querySelector(ae)),ye||(ye=X.default(z).closest(".alert")[0]),ye},Ae._triggerCloseEvent=function(z){var ae=X.default.Event("close.bs.alert");return X.default(z).trigger(ae),ae},Ae._removeElement=function(z){var ae=this;if(X.default(z).removeClass("show"),X.default(z).hasClass("fade")){var ye=Ce.getTransitionDurationFromElement(z);X.default(z).one(Ce.TRANSITION_END,function(Fe){return ae._destroyElement(z,Fe)}).emulateTransitionEnd(ye)}else this._destroyElement(z)},Ae._destroyElement=function(z){X.default(z).detach().trigger("closed.bs.alert").remove()},ke._jQueryInterface=function(z){return this.each(function(){var ae=X.default(this),ye=ae.data("bs.alert");ye||(ye=new ke(this),ae.data("bs.alert",ye)),"close"===z&&ye[z](this)})},ke._handleDismiss=function(z){return function(ae){ae&&ae.preventDefault(),z.close(this)}},Qe(ke,null,[{key:"VERSION",get:function(){return"4.6.0"}}]),ke}();X.default(document).on("click.bs.alert.data-api",'[data-dismiss="alert"]',Ke._handleDismiss(new Ke)),X.default.fn[yt]=Ke._jQueryInterface,X.default.fn[yt].Constructor=Ke,X.default.fn[yt].noConflict=function(){return X.default.fn[yt]=St,Ke._jQueryInterface};var it=X.default.fn.button,He=function(){function ke(z){this._element=z,this.shouldAvoidTriggerChange=!1}var Ae=ke.prototype;return Ae.toggle=function(){var z=!0,ae=!0,ye=X.default(this._element).closest('[data-toggle="buttons"]')[0];if(ye){var Fe=this._element.querySelector('input:not([type="hidden"])');if(Fe){if("radio"===Fe.type)if(Fe.checked&&this._element.classList.contains("active"))z=!1;else{var Xe=ye.querySelector(".active");Xe&&X.default(Xe).removeClass("active")}z&&("checkbox"!==Fe.type&&"radio"!==Fe.type||(Fe.checked=!this._element.classList.contains("active")),this.shouldAvoidTriggerChange||X.default(Fe).trigger("change")),Fe.focus(),ae=!1}}this._element.hasAttribute("disabled")||this._element.classList.contains("disabled")||(ae&&this._element.setAttribute("aria-pressed",!this._element.classList.contains("active")),z&&X.default(this._element).toggleClass("active"))},Ae.dispose=function(){X.default.removeData(this._element,"bs.button"),this._element=null},ke._jQueryInterface=function(z,ae){return this.each(function(){var ye=X.default(this),Fe=ye.data("bs.button");Fe||(Fe=new ke(this),ye.data("bs.button",Fe)),Fe.shouldAvoidTriggerChange=ae,"toggle"===z&&Fe[z]()})},Qe(ke,null,[{key:"VERSION",get:function(){return"4.6.0"}}]),ke}();X.default(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(ke){var Ae=ke.target,z=Ae;if(X.default(Ae).hasClass("btn")||(Ae=X.default(Ae).closest(".btn")[0]),!Ae||Ae.hasAttribute("disabled")||Ae.classList.contains("disabled"))ke.preventDefault();else{var ae=Ae.querySelector('input:not([type="hidden"])');if(ae&&(ae.hasAttribute("disabled")||ae.classList.contains("disabled")))return void ke.preventDefault();"INPUT"!==z.tagName&&"LABEL"===Ae.tagName||He._jQueryInterface.call(X.default(Ae),"toggle","INPUT"===z.tagName)}}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(ke){var Ae=X.default(ke.target).closest(".btn")[0];X.default(Ae).toggleClass("focus",/^focus(in)?$/.test(ke.type))}),X.default(window).on("load.bs.button.data-api",function(){for(var ke=[].slice.call(document.querySelectorAll('[data-toggle="buttons"] .btn')),Ae=0,z=ke.length;Ae<z;Ae++){var ae=ke[Ae],ye=ae.querySelector('input:not([type="hidden"])');ye.checked||ye.hasAttribute("checked")?ae.classList.add("active"):ae.classList.remove("active")}for(var Fe=0,Xe=(ke=[].slice.call(document.querySelectorAll('[data-toggle="button"]'))).length;Fe<Xe;Fe++){var Vt=ke[Fe];"true"===Vt.getAttribute("aria-pressed")?Vt.classList.add("active"):Vt.classList.remove("active")}}),X.default.fn.button=He._jQueryInterface,X.default.fn.button.Constructor=He,X.default.fn.button.noConflict=function(){return X.default.fn.button=it,He._jQueryInterface};var De="carousel",ne=X.default.fn[De],Me={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},Oe={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},P={TOUCH:"touch",PEN:"pen"},tt=function(){function ke(z,ae){this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(ae),this._element=z,this._indicatorsElement=this._element.querySelector(".carousel-indicators"),this._touchSupported="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,this._pointerEvent=!(!window.PointerEvent&&!window.MSPointerEvent),this._addEventListeners()}var Ae=ke.prototype;return Ae.next=function(){this._isSliding||this._slide("next")},Ae.nextWhenVisible=function(){var z=X.default(this._element);!document.hidden&&z.is(":visible")&&"hidden"!==z.css("visibility")&&this.next()},Ae.prev=function(){this._isSliding||this._slide("prev")},Ae.pause=function(z){z||(this._isPaused=!0),this._element.querySelector(".carousel-item-next, .carousel-item-prev")&&(Ce.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},Ae.cycle=function(z){z||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._updateInterval(),this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},Ae.to=function(z){var ae=this;this._activeElement=this._element.querySelector(".active.carousel-item");var ye=this._getItemIndex(this._activeElement);if(!(z>this._items.length-1||z<0))if(this._isSliding)X.default(this._element).one("slid.bs.carousel",function(){return ae.to(z)});else{if(ye===z)return this.pause(),void this.cycle();this._slide(z>ye?"next":"prev",this._items[z])}},Ae.dispose=function(){X.default(this._element).off(".bs.carousel"),X.default.removeData(this._element,"bs.carousel"),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},Ae._getConfig=function(z){return z=Pe({},Me,z),Ce.typeCheckConfig(De,z,Oe),z},Ae._handleSwipe=function(){var z=Math.abs(this.touchDeltaX);if(!(z<=40)){var ae=z/this.touchDeltaX;this.touchDeltaX=0,ae>0&&this.prev(),ae<0&&this.next()}},Ae._addEventListeners=function(){var z=this;this._config.keyboard&&X.default(this._element).on("keydown.bs.carousel",function(ae){return z._keydown(ae)}),"hover"===this._config.pause&&X.default(this._element).on("mouseenter.bs.carousel",function(ae){return z.pause(ae)}).on("mouseleave.bs.carousel",function(ae){return z.cycle(ae)}),this._config.touch&&this._addTouchEventListeners()},Ae._addTouchEventListeners=function(){var z=this;if(this._touchSupported){var ae=function(Fe){z._pointerEvent&&P[Fe.originalEvent.pointerType.toUpperCase()]?z.touchStartX=Fe.originalEvent.clientX:z._pointerEvent||(z.touchStartX=Fe.originalEvent.touches[0].clientX)},ye=function(Fe){z._pointerEvent&&P[Fe.originalEvent.pointerType.toUpperCase()]&&(z.touchDeltaX=Fe.originalEvent.clientX-z.touchStartX),z._handleSwipe(),"hover"===z._config.pause&&(z.pause(),z.touchTimeout&&clearTimeout(z.touchTimeout),z.touchTimeout=setTimeout(function(Xe){return z.cycle(Xe)},500+z._config.interval))};X.default(this._element.querySelectorAll(".carousel-item img")).on("dragstart.bs.carousel",function(Fe){return Fe.preventDefault()}),this._pointerEvent?(X.default(this._element).on("pointerdown.bs.carousel",function(Fe){return ae(Fe)}),X.default(this._element).on("pointerup.bs.carousel",function(Fe){return ye(Fe)}),this._element.classList.add("pointer-event")):(X.default(this._element).on("touchstart.bs.carousel",function(Fe){return ae(Fe)}),X.default(this._element).on("touchmove.bs.carousel",function(Fe){var Xe;z.touchDeltaX=(Xe=Fe).originalEvent.touches&&Xe.originalEvent.touches.length>1?0:Xe.originalEvent.touches[0].clientX-z.touchStartX}),X.default(this._element).on("touchend.bs.carousel",function(Fe){return ye(Fe)}))}},Ae._keydown=function(z){if(!/input|textarea/i.test(z.target.tagName))switch(z.which){case 37:z.preventDefault(),this.prev();break;case 39:z.preventDefault(),this.next()}},Ae._getItemIndex=function(z){return this._items=z&&z.parentNode?[].slice.call(z.parentNode.querySelectorAll(".carousel-item")):[],this._items.indexOf(z)},Ae._getItemByDirection=function(z,ae){var ye="next"===z,Fe="prev"===z,Xe=this._getItemIndex(ae);if((Fe&&0===Xe||ye&&Xe===this._items.length-1)&&!this._config.wrap)return ae;var tn=(Xe+("prev"===z?-1:1))%this._items.length;return-1===tn?this._items[this._items.length-1]:this._items[tn]},Ae._triggerSlideEvent=function(z,ae){var ye=this._getItemIndex(z),Fe=this._getItemIndex(this._element.querySelector(".active.carousel-item")),Xe=X.default.Event("slide.bs.carousel",{relatedTarget:z,direction:ae,from:Fe,to:ye});return X.default(this._element).trigger(Xe),Xe},Ae._setActiveIndicatorElement=function(z){if(this._indicatorsElement){var ae=[].slice.call(this._indicatorsElement.querySelectorAll(".active"));X.default(ae).removeClass("active");var ye=this._indicatorsElement.children[this._getItemIndex(z)];ye&&X.default(ye).addClass("active")}},Ae._updateInterval=function(){var z=this._activeElement||this._element.querySelector(".active.carousel-item");if(z){var ae=parseInt(z.getAttribute("data-interval"),10);ae?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=ae):this._config.interval=this._config.defaultInterval||this._config.interval}},Ae._slide=function(z,ae){var ye,Fe,Xe,Vt=this,tn=this._element.querySelector(".active.carousel-item"),bn=this._getItemIndex(tn),re=ae||tn&&this._getItemByDirection(z,tn),Z=this._getItemIndex(re),Q=!!this._interval;if("next"===z?(ye="carousel-item-left",Fe="carousel-item-next",Xe="left"):(ye="carousel-item-right",Fe="carousel-item-prev",Xe="right"),re&&X.default(re).hasClass("active"))this._isSliding=!1;else if(!this._triggerSlideEvent(re,Xe).isDefaultPrevented()&&tn&&re){this._isSliding=!0,Q&&this.pause(),this._setActiveIndicatorElement(re),this._activeElement=re;var ce=X.default.Event("slid.bs.carousel",{relatedTarget:re,direction:Xe,from:bn,to:Z});if(X.default(this._element).hasClass("slide")){X.default(re).addClass(Fe),Ce.reflow(re),X.default(tn).addClass(ye),X.default(re).addClass(ye);var we=Ce.getTransitionDurationFromElement(tn);X.default(tn).one(Ce.TRANSITION_END,function(){X.default(re).removeClass(ye+" "+Fe).addClass("active"),X.default(tn).removeClass("active "+Fe+" "+ye),Vt._isSliding=!1,setTimeout(function(){return X.default(Vt._element).trigger(ce)},0)}).emulateTransitionEnd(we)}else X.default(tn).removeClass("active"),X.default(re).addClass("active"),this._isSliding=!1,X.default(this._element).trigger(ce);Q&&this.cycle()}},ke._jQueryInterface=function(z){return this.each(function(){var ae=X.default(this).data("bs.carousel"),ye=Pe({},Me,X.default(this).data());"object"==typeof z&&(ye=Pe({},ye,z));var Fe="string"==typeof z?z:ye.slide;if(ae||(ae=new ke(this,ye),X.default(this).data("bs.carousel",ae)),"number"==typeof z)ae.to(z);else if("string"==typeof Fe){if(typeof ae[Fe]>"u")throw new TypeError('No method named "'+Fe+'"');ae[Fe]()}else ye.interval&&ye.ride&&(ae.pause(),ae.cycle())})},ke._dataApiClickHandler=function(z){var ae=Ce.getSelectorFromElement(this);if(ae){var ye=X.default(ae)[0];if(ye&&X.default(ye).hasClass("carousel")){var Fe=Pe({},X.default(ye).data(),X.default(this).data()),Xe=this.getAttribute("data-slide-to");Xe&&(Fe.interval=!1),ke._jQueryInterface.call(X.default(ye),Fe),Xe&&X.default(ye).data("bs.carousel").to(Xe),z.preventDefault()}}},Qe(ke,null,[{key:"VERSION",get:function(){return"4.6.0"}},{key:"Default",get:function(){return Me}}]),ke}();X.default(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",tt._dataApiClickHandler),X.default(window).on("load.bs.carousel.data-api",function(){for(var ke=[].slice.call(document.querySelectorAll('[data-ride="carousel"]')),Ae=0,z=ke.length;Ae<z;Ae++){var ae=X.default(ke[Ae]);tt._jQueryInterface.call(ae,ae.data())}}),X.default.fn[De]=tt._jQueryInterface,X.default.fn[De].Constructor=tt,X.default.fn[De].noConflict=function(){return X.default.fn[De]=ne,tt._jQueryInterface};var Te="collapse",Ie=X.default.fn[Te],et={toggle:!0,parent:""},se={toggle:"boolean",parent:"(string|element)"},Ee=function(){function ke(z,ae){this._isTransitioning=!1,this._element=z,this._config=this._getConfig(ae),this._triggerArray=[].slice.call(document.querySelectorAll('[data-toggle="collapse"][href="#'+z.id+'"],[data-toggle="collapse"][data-target="#'+z.id+'"]'));for(var ye=[].slice.call(document.querySelectorAll('[data-toggle="collapse"]')),Fe=0,Xe=ye.length;Fe<Xe;Fe++){var Vt=ye[Fe],tn=Ce.getSelectorFromElement(Vt),bn=[].slice.call(document.querySelectorAll(tn)).filter(function(re){return re===z});null!==tn&&bn.length>0&&(this._selector=tn,this._triggerArray.push(Vt))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}var Ae=ke.prototype;return Ae.toggle=function(){X.default(this._element).hasClass("show")?this.hide():this.show()},Ae.show=function(){var z,ae,ye=this;if(!(this._isTransitioning||X.default(this._element).hasClass("show")||(this._parent&&0===(z=[].slice.call(this._parent.querySelectorAll(".show, .collapsing")).filter(function(bn){return"string"==typeof ye._config.parent?bn.getAttribute("data-parent")===ye._config.parent:bn.classList.contains("collapse")})).length&&(z=null),z&&(ae=X.default(z).not(this._selector).data("bs.collapse"))&&ae._isTransitioning))){var Fe=X.default.Event("show.bs.collapse");if(X.default(this._element).trigger(Fe),!Fe.isDefaultPrevented()){z&&(ke._jQueryInterface.call(X.default(z).not(this._selector),"hide"),ae||X.default(z).data("bs.collapse",null));var Xe=this._getDimension();X.default(this._element).removeClass("collapse").addClass("collapsing"),this._element.style[Xe]=0,this._triggerArray.length&&X.default(this._triggerArray).removeClass("collapsed").attr("aria-expanded",!0),this.setTransitioning(!0);var Vt="scroll"+(Xe[0].toUpperCase()+Xe.slice(1)),tn=Ce.getTransitionDurationFromElement(this._element);X.default(this._element).one(Ce.TRANSITION_END,function(){X.default(ye._element).removeClass("collapsing").addClass("collapse show"),ye._element.style[Xe]="",ye.setTransitioning(!1),X.default(ye._element).trigger("shown.bs.collapse")}).emulateTransitionEnd(tn),this._element.style[Xe]=this._element[Vt]+"px"}}},Ae.hide=function(){var z=this;if(!this._isTransitioning&&X.default(this._element).hasClass("show")){var ae=X.default.Event("hide.bs.collapse");if(X.default(this._element).trigger(ae),!ae.isDefaultPrevented()){var ye=this._getDimension();this._element.style[ye]=this._element.getBoundingClientRect()[ye]+"px",Ce.reflow(this._element),X.default(this._element).addClass("collapsing").removeClass("collapse show");var Fe=this._triggerArray.length;if(Fe>0)for(var Xe=0;Xe<Fe;Xe++){var Vt=this._triggerArray[Xe],tn=Ce.getSelectorFromElement(Vt);null!==tn&&(X.default([].slice.call(document.querySelectorAll(tn))).hasClass("show")||X.default(Vt).addClass("collapsed").attr("aria-expanded",!1))}this.setTransitioning(!0),this._element.style[ye]="";var bn=Ce.getTransitionDurationFromElement(this._element);X.default(this._element).one(Ce.TRANSITION_END,function(){z.setTransitioning(!1),X.default(z._element).removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")}).emulateTransitionEnd(bn)}}},Ae.setTransitioning=function(z){this._isTransitioning=z},Ae.dispose=function(){X.default.removeData(this._element,"bs.collapse"),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},Ae._getConfig=function(z){return(z=Pe({},et,z)).toggle=!!z.toggle,Ce.typeCheckConfig(Te,z,se),z},Ae._getDimension=function(){return X.default(this._element).hasClass("width")?"width":"height"},Ae._getParent=function(){var z,ae=this;Ce.isElement(this._config.parent)?(z=this._config.parent,typeof this._config.parent.jquery<"u"&&(z=this._config.parent[0])):z=document.querySelector(this._config.parent);var Fe=[].slice.call(z.querySelectorAll('[data-toggle="collapse"][data-parent="'+this._config.parent+'"]'));return X.default(Fe).each(function(Xe,Vt){ae._addAriaAndCollapsedClass(ke._getTargetFromElement(Vt),[Vt])}),z},Ae._addAriaAndCollapsedClass=function(z,ae){var ye=X.default(z).hasClass("show");ae.length&&X.default(ae).toggleClass("collapsed",!ye).attr("aria-expanded",ye)},ke._getTargetFromElement=function(z){var ae=Ce.getSelectorFromElement(z);return ae?document.querySelector(ae):null},ke._jQueryInterface=function(z){return this.each(function(){var ae=X.default(this),ye=ae.data("bs.collapse"),Fe=Pe({},et,ae.data(),"object"==typeof z&&z?z:{});if(!ye&&Fe.toggle&&"string"==typeof z&&/show|hide/.test(z)&&(Fe.toggle=!1),ye||(ye=new ke(this,Fe),ae.data("bs.collapse",ye)),"string"==typeof z){if(typeof ye[z]>"u")throw new TypeError('No method named "'+z+'"');ye[z]()}})},Qe(ke,null,[{key:"VERSION",get:function(){return"4.6.0"}},{key:"Default",get:function(){return et}}]),ke}();X.default(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(ke){"A"===ke.currentTarget.tagName&&ke.preventDefault();var Ae=X.default(this),z=Ce.getSelectorFromElement(this),ae=[].slice.call(document.querySelectorAll(z));X.default(ae).each(function(){var ye=X.default(this),Fe=ye.data("bs.collapse")?"toggle":Ae.data();Ee._jQueryInterface.call(ye,Fe)})}),X.default.fn[Te]=Ee._jQueryInterface,X.default.fn[Te].Constructor=Ee,X.default.fn[Te].noConflict=function(){return X.default.fn[Te]=Ie,Ee._jQueryInterface};var ie="dropdown",pe=X.default.fn[ie],C=new RegExp("38|40|27"),lt={offset:0,flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic",popperConfig:null},gt={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string",popperConfig:"(null|object)"},Y=function(){function ke(z,ae){this._element=z,this._popper=null,this._config=this._getConfig(ae),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}var Ae=ke.prototype;return Ae.toggle=function(){if(!this._element.disabled&&!X.default(this._element).hasClass("disabled")){var z=X.default(this._menu).hasClass("show");ke._clearMenus(),z||this.show(!0)}},Ae.show=function(z){if(void 0===z&&(z=!1),!(this._element.disabled||X.default(this._element).hasClass("disabled")||X.default(this._menu).hasClass("show"))){var ae={relatedTarget:this._element},ye=X.default.Event("show.bs.dropdown",ae),Fe=ke._getParentFromElement(this._element);if(X.default(Fe).trigger(ye),!ye.isDefaultPrevented()){if(!this._inNavbar&&z){if(typeof Ye.default>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");var Xe=this._element;"parent"===this._config.reference?Xe=Fe:Ce.isElement(this._config.reference)&&(Xe=this._config.reference,typeof this._config.reference.jquery<"u"&&(Xe=this._config.reference[0])),"scrollParent"!==this._config.boundary&&X.default(Fe).addClass("position-static"),this._popper=new Ye.default(Xe,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&0===X.default(Fe).closest(".navbar-nav").length&&X.default(document.body).children().on("mouseover",null,X.default.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),X.default(this._menu).toggleClass("show"),X.default(Fe).toggleClass("show").trigger(X.default.Event("shown.bs.dropdown",ae))}}},Ae.hide=function(){if(!this._element.disabled&&!X.default(this._element).hasClass("disabled")&&X.default(this._menu).hasClass("show")){var z={relatedTarget:this._element},ae=X.default.Event("hide.bs.dropdown",z),ye=ke._getParentFromElement(this._element);X.default(ye).trigger(ae),ae.isDefaultPrevented()||(this._popper&&this._popper.destroy(),X.default(this._menu).toggleClass("show"),X.default(ye).toggleClass("show").trigger(X.default.Event("hidden.bs.dropdown",z)))}},Ae.dispose=function(){X.default.removeData(this._element,"bs.dropdown"),X.default(this._element).off(".bs.dropdown"),this._element=null,this._menu=null,null!==this._popper&&(this._popper.destroy(),this._popper=null)},Ae.update=function(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()},Ae._addEventListeners=function(){var z=this;X.default(this._element).on("click.bs.dropdown",function(ae){ae.preventDefault(),ae.stopPropagation(),z.toggle()})},Ae._getConfig=function(z){return z=Pe({},this.constructor.Default,X.default(this._element).data(),z),Ce.typeCheckConfig(ie,z,this.constructor.DefaultType),z},Ae._getMenuElement=function(){if(!this._menu){var z=ke._getParentFromElement(this._element);z&&(this._menu=z.querySelector(".dropdown-menu"))}return this._menu},Ae._getPlacement=function(){var z=X.default(this._element.parentNode),ae="bottom-start";return z.hasClass("dropup")?ae=X.default(this._menu).hasClass("dropdown-menu-right")?"top-end":"top-start":z.hasClass("dropright")?ae="right-start":z.hasClass("dropleft")?ae="left-start":X.default(this._menu).hasClass("dropdown-menu-right")&&(ae="bottom-end"),ae},Ae._detectNavbar=function(){return X.default(this._element).closest(".navbar").length>0},Ae._getOffset=function(){var z=this,ae={};return"function"==typeof this._config.offset?ae.fn=function(ye){return ye.offsets=Pe({},ye.offsets,z._config.offset(ye.offsets,z._element)||{}),ye}:ae.offset=this._config.offset,ae},Ae._getPopperConfig=function(){var z={placement:this._getPlacement(),modifiers:{offset:this._getOffset(),flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};return"static"===this._config.display&&(z.modifiers.applyStyle={enabled:!1}),Pe({},z,this._config.popperConfig)},ke._jQueryInterface=function(z){return this.each(function(){var ae=X.default(this).data("bs.dropdown");if(ae||(ae=new ke(this,"object"==typeof z?z:null),X.default(this).data("bs.dropdown",ae)),"string"==typeof z){if(typeof ae[z]>"u")throw new TypeError('No method named "'+z+'"');ae[z]()}})},ke._clearMenus=function(z){if(!z||3!==z.which&&("keyup"!==z.type||9===z.which))for(var ae=[].slice.call(document.querySelectorAll('[data-toggle="dropdown"]')),ye=0,Fe=ae.length;ye<Fe;ye++){var Xe=ke._getParentFromElement(ae[ye]),Vt=X.default(ae[ye]).data("bs.dropdown"),tn={relatedTarget:ae[ye]};if(z&&"click"===z.type&&(tn.clickEvent=z),Vt){var bn=Vt._menu;if(X.default(Xe).hasClass("show")&&!(z&&("click"===z.type&&/input|textarea/i.test(z.target.tagName)||"keyup"===z.type&&9===z.which)&&X.default.contains(Xe,z.target))){var re=X.default.Event("hide.bs.dropdown",tn);X.default(Xe).trigger(re),re.isDefaultPrevented()||("ontouchstart"in document.documentElement&&X.default(document.body).children().off("mouseover",null,X.default.noop),ae[ye].setAttribute("aria-expanded","false"),Vt._popper&&Vt._popper.destroy(),X.default(bn).removeClass("show"),X.default(Xe).removeClass("show").trigger(X.default.Event("hidden.bs.dropdown",tn)))}}}},ke._getParentFromElement=function(z){var ae,ye=Ce.getSelectorFromElement(z);return ye&&(ae=document.querySelector(ye)),ae||z.parentNode},ke._dataApiKeydownHandler=function(z){if(!(/input|textarea/i.test(z.target.tagName)?32===z.which||27!==z.which&&(40!==z.which&&38!==z.which||X.default(z.target).closest(".dropdown-menu").length):!C.test(z.which))&&!this.disabled&&!X.default(this).hasClass("disabled")){var ae=ke._getParentFromElement(this),ye=X.default(ae).hasClass("show");if(ye||27!==z.which){if(z.preventDefault(),z.stopPropagation(),!ye||27===z.which||32===z.which)return 27===z.which&&X.default(ae.querySelector('[data-toggle="dropdown"]')).trigger("focus"),void X.default(this).trigger("click");var Fe=[].slice.call(ae.querySelectorAll(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)")).filter(function(Vt){return X.default(Vt).is(":visible")});if(0!==Fe.length){var Xe=Fe.indexOf(z.target);38===z.which&&Xe>0&&Xe--,40===z.which&&Xe<Fe.length-1&&Xe++,Xe<0&&(Xe=0),Fe[Xe].focus()}}}},Qe(ke,null,[{key:"VERSION",get:function(){return"4.6.0"}},{key:"Default",get:function(){return lt}},{key:"DefaultType",get:function(){return gt}}]),ke}();X.default(document).on("keydown.bs.dropdown.data-api",'[data-toggle="dropdown"]',Y._dataApiKeydownHandler).on("keydown.bs.dropdown.data-api",".dropdown-menu",Y._dataApiKeydownHandler).on("click.bs.dropdown.data-api keyup.bs.dropdown.data-api",Y._clearMenus).on("click.bs.dropdown.data-api",'[data-toggle="dropdown"]',function(ke){ke.preventDefault(),ke.stopPropagation(),Y._jQueryInterface.call(X.default(this),"toggle")}).on("click.bs.dropdown.data-api",".dropdown form",function(ke){ke.stopPropagation()}),X.default.fn[ie]=Y._jQueryInterface,X.default.fn[ie].Constructor=Y,X.default.fn[ie].noConflict=function(){return X.default.fn[ie]=pe,Y._jQueryInterface};var Ve=X.default.fn.modal,zt={backdrop:!0,keyboard:!0,focus:!0,show:!0},jt={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},rn=function(){function ke(z,ae){this._config=this._getConfig(ae),this._element=z,this._dialog=z.querySelector(".modal-dialog"),this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollbarWidth=0}var Ae=ke.prototype;return Ae.toggle=function(z){return this._isShown?this.hide():this.show(z)},Ae.show=function(z){var ae=this;if(!this._isShown&&!this._isTransitioning){X.default(this._element).hasClass("fade")&&(this._isTransitioning=!0);var ye=X.default.Event("show.bs.modal",{relatedTarget:z});X.default(this._element).trigger(ye),this._isShown||ye.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),X.default(this._element).on("click.dismiss.bs.modal",'[data-dismiss="modal"]',function(Fe){return ae.hide(Fe)}),X.default(this._dialog).on("mousedown.dismiss.bs.modal",function(){X.default(ae._element).one("mouseup.dismiss.bs.modal",function(Fe){X.default(Fe.target).is(ae._element)&&(ae._ignoreBackdropClick=!0)})}),this._showBackdrop(function(){return ae._showElement(z)}))}},Ae.hide=function(z){var ae=this;if(z&&z.preventDefault(),this._isShown&&!this._isTransitioning){var ye=X.default.Event("hide.bs.modal");if(X.default(this._element).trigger(ye),this._isShown&&!ye.isDefaultPrevented()){this._isShown=!1;var Fe=X.default(this._element).hasClass("fade");if(Fe&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),X.default(document).off("focusin.bs.modal"),X.default(this._element).removeClass("show"),X.default(this._element).off("click.dismiss.bs.modal"),X.default(this._dialog).off("mousedown.dismiss.bs.modal"),Fe){var Xe=Ce.getTransitionDurationFromElement(this._element);X.default(this._element).one(Ce.TRANSITION_END,function(Vt){return ae._hideModal(Vt)}).emulateTransitionEnd(Xe)}else this._hideModal()}}},Ae.dispose=function(){[window,this._element,this._dialog].forEach(function(z){return X.default(z).off(".bs.modal")}),X.default(document).off("focusin.bs.modal"),X.default.removeData(this._element,"bs.modal"),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._isTransitioning=null,this._scrollbarWidth=null},Ae.handleUpdate=function(){this._adjustDialog()},Ae._getConfig=function(z){return z=Pe({},zt,z),Ce.typeCheckConfig("modal",z,jt),z},Ae._triggerBackdropTransition=function(){var z=this,ae=X.default.Event("hidePrevented.bs.modal");if(X.default(this._element).trigger(ae),!ae.isDefaultPrevented()){var ye=this._element.scrollHeight>document.documentElement.clientHeight;ye||(this._element.style.overflowY="hidden"),this._element.classList.add("modal-static");var Fe=Ce.getTransitionDurationFromElement(this._dialog);X.default(this._element).off(Ce.TRANSITION_END),X.default(this._element).one(Ce.TRANSITION_END,function(){z._element.classList.remove("modal-static"),ye||X.default(z._element).one(Ce.TRANSITION_END,function(){z._element.style.overflowY=""}).emulateTransitionEnd(z._element,Fe)}).emulateTransitionEnd(Fe),this._element.focus()}},Ae._showElement=function(z){var ae=this,ye=X.default(this._element).hasClass("fade"),Fe=this._dialog?this._dialog.querySelector(".modal-body"):null;this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),X.default(this._dialog).hasClass("modal-dialog-scrollable")&&Fe?Fe.scrollTop=0:this._element.scrollTop=0,ye&&Ce.reflow(this._element),X.default(this._element).addClass("show"),this._config.focus&&this._enforceFocus();var Xe=X.default.Event("shown.bs.modal",{relatedTarget:z}),Vt=function(){ae._config.focus&&ae._element.focus(),ae._isTransitioning=!1,X.default(ae._element).trigger(Xe)};if(ye){var tn=Ce.getTransitionDurationFromElement(this._dialog);X.default(this._dialog).one(Ce.TRANSITION_END,Vt).emulateTransitionEnd(tn)}else Vt()},Ae._enforceFocus=function(){var z=this;X.default(document).off("focusin.bs.modal").on("focusin.bs.modal",function(ae){document!==ae.target&&z._element!==ae.target&&0===X.default(z._element).has(ae.target).length&&z._element.focus()})},Ae._setEscapeEvent=function(){var z=this;this._isShown?X.default(this._element).on("keydown.dismiss.bs.modal",function(ae){z._config.keyboard&&27===ae.which?(ae.preventDefault(),z.hide()):z._config.keyboard||27!==ae.which||z._triggerBackdropTransition()}):this._isShown||X.default(this._element).off("keydown.dismiss.bs.modal")},Ae._setResizeEvent=function(){var z=this;this._isShown?X.default(window).on("resize.bs.modal",function(ae){return z.handleUpdate(ae)}):X.default(window).off("resize.bs.modal")},Ae._hideModal=function(){var z=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._showBackdrop(function(){X.default(document.body).removeClass("modal-open"),z._resetAdjustments(),z._resetScrollbar(),X.default(z._element).trigger("hidden.bs.modal")})},Ae._removeBackdrop=function(){this._backdrop&&(X.default(this._backdrop).remove(),this._backdrop=null)},Ae._showBackdrop=function(z){var ae=this,ye=X.default(this._element).hasClass("fade")?"fade":"";if(this._isShown&&this._config.backdrop){if(this._backdrop=document.createElement("div"),this._backdrop.className="modal-backdrop",ye&&this._backdrop.classList.add(ye),X.default(this._backdrop).appendTo(document.body),X.default(this._element).on("click.dismiss.bs.modal",function(tn){ae._ignoreBackdropClick?ae._ignoreBackdropClick=!1:tn.target===tn.currentTarget&&("static"===ae._config.backdrop?ae._triggerBackdropTransition():ae.hide())}),ye&&Ce.reflow(this._backdrop),X.default(this._backdrop).addClass("show"),!z)return;if(!ye)return void z();var Fe=Ce.getTransitionDurationFromElement(this._backdrop);X.default(this._backdrop).one(Ce.TRANSITION_END,z).emulateTransitionEnd(Fe)}else if(!this._isShown&&this._backdrop){X.default(this._backdrop).removeClass("show");var Xe=function(){ae._removeBackdrop(),z&&z()};if(X.default(this._element).hasClass("fade")){var Vt=Ce.getTransitionDurationFromElement(this._backdrop);X.default(this._backdrop).one(Ce.TRANSITION_END,Xe).emulateTransitionEnd(Vt)}else Xe()}else z&&z()},Ae._adjustDialog=function(){var z=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&z&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!z&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},Ae._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},Ae._checkScrollbar=function(){var z=document.body.getBoundingClientRect();this._isBodyOverflowing=Math.round(z.left+z.right)<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},Ae._setScrollbar=function(){var z=this;if(this._isBodyOverflowing){var ae=[].slice.call(document.querySelectorAll(".fixed-top, .fixed-bottom, .is-fixed, .sticky-top")),ye=[].slice.call(document.querySelectorAll(".sticky-top"));X.default(ae).each(function(Vt,tn){var bn=tn.style.paddingRight,re=X.default(tn).css("padding-right");X.default(tn).data("padding-right",bn).css("padding-right",parseFloat(re)+z._scrollbarWidth+"px")}),X.default(ye).each(function(Vt,tn){var bn=tn.style.marginRight,re=X.default(tn).css("margin-right");X.default(tn).data("margin-right",bn).css("margin-right",parseFloat(re)-z._scrollbarWidth+"px")});var Fe=document.body.style.paddingRight,Xe=X.default(document.body).css("padding-right");X.default(document.body).data("padding-right",Fe).css("padding-right",parseFloat(Xe)+this._scrollbarWidth+"px")}X.default(document.body).addClass("modal-open")},Ae._resetScrollbar=function(){var z=[].slice.call(document.querySelectorAll(".fixed-top, .fixed-bottom, .is-fixed, .sticky-top"));X.default(z).each(function(Fe,Xe){var Vt=X.default(Xe).data("padding-right");X.default(Xe).removeData("padding-right"),Xe.style.paddingRight=Vt||""});var ae=[].slice.call(document.querySelectorAll(".sticky-top"));X.default(ae).each(function(Fe,Xe){var Vt=X.default(Xe).data("margin-right");typeof Vt<"u"&&X.default(Xe).css("margin-right",Vt).removeData("margin-right")});var ye=X.default(document.body).data("padding-right");X.default(document.body).removeData("padding-right"),document.body.style.paddingRight=ye||""},Ae._getScrollbarWidth=function(){var z=document.createElement("div");z.className="modal-scrollbar-measure",document.body.appendChild(z);var ae=z.getBoundingClientRect().width-z.clientWidth;return document.body.removeChild(z),ae},ke._jQueryInterface=function(z,ae){return this.each(function(){var ye=X.default(this).data("bs.modal"),Fe=Pe({},zt,X.default(this).data(),"object"==typeof z&&z?z:{});if(ye||(ye=new ke(this,Fe),X.default(this).data("bs.modal",ye)),"string"==typeof z){if(typeof ye[z]>"u")throw new TypeError('No method named "'+z+'"');ye[z](ae)}else Fe.show&&ye.show(ae)})},Qe(ke,null,[{key:"VERSION",get:function(){return"4.6.0"}},{key:"Default",get:function(){return zt}}]),ke}();X.default(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(ke){var Ae,z=this,ae=Ce.getSelectorFromElement(this);ae&&(Ae=document.querySelector(ae));var ye=X.default(Ae).data("bs.modal")?"toggle":Pe({},X.default(Ae).data(),X.default(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||ke.preventDefault();var Fe=X.default(Ae).one("show.bs.modal",function(Xe){Xe.isDefaultPrevented()||Fe.one("hidden.bs.modal",function(){X.default(z).is(":visible")&&z.focus()})});rn._jQueryInterface.call(X.default(Ae),ye,this)}),X.default.fn.modal=rn._jQueryInterface,X.default.fn.modal.Constructor=rn,X.default.fn.modal.noConflict=function(){return X.default.fn.modal=Ve,rn._jQueryInterface};var Mt=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],Lt=/^(?:(?:https?|mailto|ftp|tel|file):|[^#&/:?]*(?:[#/?]|$))/gi,rt=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i;function sn(ke,Ae,z){if(0===ke.length)return ke;if(z&&"function"==typeof z)return z(ke);for(var ae=(new window.DOMParser).parseFromString(ke,"text/html"),ye=Object.keys(Ae),Fe=[].slice.call(ae.body.querySelectorAll("*")),Xe=function(bn,re){var Z=Fe[bn],Q=Z.nodeName.toLowerCase();if(-1===ye.indexOf(Z.nodeName.toLowerCase()))return Z.parentNode.removeChild(Z),"continue";var ce=[].slice.call(Z.attributes),we=[].concat(Ae["*"]||[],Ae[Q]||[]);ce.forEach(function(Re){(function(We,ot){var $e=We.nodeName.toLowerCase();if(-1!==ot.indexOf($e))return-1===Mt.indexOf($e)||!(!We.nodeValue.match(Lt)&&!We.nodeValue.match(rt));for(var pt=ot.filter(function(Kt){return Kt instanceof RegExp}),wt=0,At=pt.length;wt<At;wt++)if($e.match(pt[wt]))return!0;return!1})(Re,we)||Z.removeAttribute(Re.nodeName)})},Vt=0,tn=Fe.length;Vt<tn;Vt++)Xe(Vt);return ae.body.innerHTML}var Jt="tooltip",Pi=X.default.fn[Jt],Ci=new RegExp("(^|\\s)bs-tooltip\\S+","g"),Bt=["sanitize","whiteList","sanitizeFn"],xi={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string|function)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)",customClass:"(string|function)",sanitize:"boolean",sanitizeFn:"(null|function)",whiteList:"object",popperConfig:"(null|object)"},Pn={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},Rt={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent",customClass:"",sanitize:!0,sanitizeFn:null,whiteList:{"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},popperConfig:null},ei={HIDE:"hide.bs.tooltip",HIDDEN:"hidden.bs.tooltip",SHOW:"show.bs.tooltip",SHOWN:"shown.bs.tooltip",INSERTED:"inserted.bs.tooltip",CLICK:"click.bs.tooltip",FOCUSIN:"focusin.bs.tooltip",FOCUSOUT:"focusout.bs.tooltip",MOUSEENTER:"mouseenter.bs.tooltip",MOUSELEAVE:"mouseleave.bs.tooltip"},Bi=function(){function ke(z,ae){if(typeof Ye.default>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=z,this.config=this._getConfig(ae),this.tip=null,this._setListeners()}var Ae=ke.prototype;return Ae.enable=function(){this._isEnabled=!0},Ae.disable=function(){this._isEnabled=!1},Ae.toggleEnabled=function(){this._isEnabled=!this._isEnabled},Ae.toggle=function(z){if(this._isEnabled)if(z){var ae=this.constructor.DATA_KEY,ye=X.default(z.currentTarget).data(ae);ye||(ye=new this.constructor(z.currentTarget,this._getDelegateConfig()),X.default(z.currentTarget).data(ae,ye)),ye._activeTrigger.click=!ye._activeTrigger.click,ye._isWithActiveTrigger()?ye._enter(null,ye):ye._leave(null,ye)}else{if(X.default(this.getTipElement()).hasClass("show"))return void this._leave(null,this);this._enter(null,this)}},Ae.dispose=function(){clearTimeout(this._timeout),X.default.removeData(this.element,this.constructor.DATA_KEY),X.default(this.element).off(this.constructor.EVENT_KEY),X.default(this.element).closest(".modal").off("hide.bs.modal",this._hideModalHandler),this.tip&&X.default(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},Ae.show=function(){var z=this;if("none"===X.default(this.element).css("display"))throw new Error("Please use show on visible elements");var ae=X.default.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){X.default(this.element).trigger(ae);var ye=Ce.findShadowRoot(this.element),Fe=X.default.contains(null!==ye?ye:this.element.ownerDocument.documentElement,this.element);if(ae.isDefaultPrevented()||!Fe)return;var Xe=this.getTipElement(),Vt=Ce.getUID(this.constructor.NAME);Xe.setAttribute("id",Vt),this.element.setAttribute("aria-describedby",Vt),this.setContent(),this.config.animation&&X.default(Xe).addClass("fade");var tn="function"==typeof this.config.placement?this.config.placement.call(this,Xe,this.element):this.config.placement,bn=this._getAttachment(tn);this.addAttachmentClass(bn);var re=this._getContainer();X.default(Xe).data(this.constructor.DATA_KEY,this),X.default.contains(this.element.ownerDocument.documentElement,this.tip)||X.default(Xe).appendTo(re),X.default(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new Ye.default(this.element,Xe,this._getPopperConfig(bn)),X.default(Xe).addClass("show"),X.default(Xe).addClass(this.config.customClass),"ontouchstart"in document.documentElement&&X.default(document.body).children().on("mouseover",null,X.default.noop);var Z=function(){z.config.animation&&z._fixTransition();var ce=z._hoverState;z._hoverState=null,X.default(z.element).trigger(z.constructor.Event.SHOWN),"out"===ce&&z._leave(null,z)};if(X.default(this.tip).hasClass("fade")){var Q=Ce.getTransitionDurationFromElement(this.tip);X.default(this.tip).one(Ce.TRANSITION_END,Z).emulateTransitionEnd(Q)}else Z()}},Ae.hide=function(z){var ae=this,ye=this.getTipElement(),Fe=X.default.Event(this.constructor.Event.HIDE),Xe=function(){"show"!==ae._hoverState&&ye.parentNode&&ye.parentNode.removeChild(ye),ae._cleanTipClass(),ae.element.removeAttribute("aria-describedby"),X.default(ae.element).trigger(ae.constructor.Event.HIDDEN),null!==ae._popper&&ae._popper.destroy(),z&&z()};if(X.default(this.element).trigger(Fe),!Fe.isDefaultPrevented()){if(X.default(ye).removeClass("show"),"ontouchstart"in document.documentElement&&X.default(document.body).children().off("mouseover",null,X.default.noop),this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger.hover=!1,X.default(this.tip).hasClass("fade")){var Vt=Ce.getTransitionDurationFromElement(ye);X.default(ye).one(Ce.TRANSITION_END,Xe).emulateTransitionEnd(Vt)}else Xe();this._hoverState=""}},Ae.update=function(){null!==this._popper&&this._popper.scheduleUpdate()},Ae.isWithContent=function(){return!!this.getTitle()},Ae.addAttachmentClass=function(z){X.default(this.getTipElement()).addClass("bs-tooltip-"+z)},Ae.getTipElement=function(){return this.tip=this.tip||X.default(this.config.template)[0],this.tip},Ae.setContent=function(){var z=this.getTipElement();this.setElementContent(X.default(z.querySelectorAll(".tooltip-inner")),this.getTitle()),X.default(z).removeClass("fade show")},Ae.setElementContent=function(z,ae){"object"!=typeof ae||!ae.nodeType&&!ae.jquery?this.config.html?(this.config.sanitize&&(ae=sn(ae,this.config.whiteList,this.config.sanitizeFn)),z.html(ae)):z.text(ae):this.config.html?X.default(ae).parent().is(z)||z.empty().append(ae):z.text(X.default(ae).text())},Ae.getTitle=function(){var z=this.element.getAttribute("data-original-title");return z||(z="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),z},Ae._getPopperConfig=function(z){var ae=this;return Pe({},{placement:z,modifiers:{offset:this._getOffset(),flip:{behavior:this.config.fallbackPlacement},arrow:{element:".arrow"},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(ye){ye.originalPlacement!==ye.placement&&ae._handlePopperPlacementChange(ye)},onUpdate:function(ye){return ae._handlePopperPlacementChange(ye)}},this.config.popperConfig)},Ae._getOffset=function(){var z=this,ae={};return"function"==typeof this.config.offset?ae.fn=function(ye){return ye.offsets=Pe({},ye.offsets,z.config.offset(ye.offsets,z.element)||{}),ye}:ae.offset=this.config.offset,ae},Ae._getContainer=function(){return!1===this.config.container?document.body:Ce.isElement(this.config.container)?X.default(this.config.container):X.default(document).find(this.config.container)},Ae._getAttachment=function(z){return Pn[z.toUpperCase()]},Ae._setListeners=function(){var z=this;this.config.trigger.split(" ").forEach(function(ae){if("click"===ae)X.default(z.element).on(z.constructor.Event.CLICK,z.config.selector,function(Xe){return z.toggle(Xe)});else if("manual"!==ae){var ye="hover"===ae?z.constructor.Event.MOUSEENTER:z.constructor.Event.FOCUSIN,Fe="hover"===ae?z.constructor.Event.MOUSELEAVE:z.constructor.Event.FOCUSOUT;X.default(z.element).on(ye,z.config.selector,function(Xe){return z._enter(Xe)}).on(Fe,z.config.selector,function(Xe){return z._leave(Xe)})}}),this._hideModalHandler=function(){z.element&&z.hide()},X.default(this.element).closest(".modal").on("hide.bs.modal",this._hideModalHandler),this.config.selector?this.config=Pe({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},Ae._fixTitle=function(){var z=typeof this.element.getAttribute("data-original-title");(this.element.getAttribute("title")||"string"!==z)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},Ae._enter=function(z,ae){var ye=this.constructor.DATA_KEY;(ae=ae||X.default(z.currentTarget).data(ye))||(ae=new this.constructor(z.currentTarget,this._getDelegateConfig()),X.default(z.currentTarget).data(ye,ae)),z&&(ae._activeTrigger["focusin"===z.type?"focus":"hover"]=!0),X.default(ae.getTipElement()).hasClass("show")||"show"===ae._hoverState?ae._hoverState="show":(clearTimeout(ae._timeout),ae._hoverState="show",ae.config.delay&&ae.config.delay.show?ae._timeout=setTimeout(function(){"show"===ae._hoverState&&ae.show()},ae.config.delay.show):ae.show())},Ae._leave=function(z,ae){var ye=this.constructor.DATA_KEY;(ae=ae||X.default(z.currentTarget).data(ye))||(ae=new this.constructor(z.currentTarget,this._getDelegateConfig()),X.default(z.currentTarget).data(ye,ae)),z&&(ae._activeTrigger["focusout"===z.type?"focus":"hover"]=!1),ae._isWithActiveTrigger()||(clearTimeout(ae._timeout),ae._hoverState="out",ae.config.delay&&ae.config.delay.hide?ae._timeout=setTimeout(function(){"out"===ae._hoverState&&ae.hide()},ae.config.delay.hide):ae.hide())},Ae._isWithActiveTrigger=function(){for(var z in this._activeTrigger)if(this._activeTrigger[z])return!0;return!1},Ae._getConfig=function(z){var ae=X.default(this.element).data();return Object.keys(ae).forEach(function(ye){-1!==Bt.indexOf(ye)&&delete ae[ye]}),"number"==typeof(z=Pe({},this.constructor.Default,ae,"object"==typeof z&&z?z:{})).delay&&(z.delay={show:z.delay,hide:z.delay}),"number"==typeof z.title&&(z.title=z.title.toString()),"number"==typeof z.content&&(z.content=z.content.toString()),Ce.typeCheckConfig(Jt,z,this.constructor.DefaultType),z.sanitize&&(z.template=sn(z.template,z.whiteList,z.sanitizeFn)),z},Ae._getDelegateConfig=function(){var z={};if(this.config)for(var ae in this.config)this.constructor.Default[ae]!==this.config[ae]&&(z[ae]=this.config[ae]);return z},Ae._cleanTipClass=function(){var z=X.default(this.getTipElement()),ae=z.attr("class").match(Ci);null!==ae&&ae.length&&z.removeClass(ae.join(""))},Ae._handlePopperPlacementChange=function(z){this.tip=z.instance.popper,this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(z.placement))},Ae._fixTransition=function(){var z=this.getTipElement(),ae=this.config.animation;null===z.getAttribute("x-placement")&&(X.default(z).removeClass("fade"),this.config.animation=!1,this.hide(),this.show(),this.config.animation=ae)},ke._jQueryInterface=function(z){return this.each(function(){var ae=X.default(this),ye=ae.data("bs.tooltip"),Fe="object"==typeof z&&z;if((ye||!/dispose|hide/.test(z))&&(ye||(ye=new ke(this,Fe),ae.data("bs.tooltip",ye)),"string"==typeof z)){if(typeof ye[z]>"u")throw new TypeError('No method named "'+z+'"');ye[z]()}})},Qe(ke,null,[{key:"VERSION",get:function(){return"4.6.0"}},{key:"Default",get:function(){return Rt}},{key:"NAME",get:function(){return Jt}},{key:"DATA_KEY",get:function(){return"bs.tooltip"}},{key:"Event",get:function(){return ei}},{key:"EVENT_KEY",get:function(){return".bs.tooltip"}},{key:"DefaultType",get:function(){return xi}}]),ke}();X.default.fn[Jt]=Bi._jQueryInterface,X.default.fn[Jt].Constructor=Bi,X.default.fn[Jt].noConflict=function(){return X.default.fn[Jt]=Pi,Bi._jQueryInterface};var si="popover",ti=X.default.fn[si],zn=new RegExp("(^|\\s)bs-popover\\S+","g"),ln=Pe({},Bi.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),ui=Pe({},Bi.DefaultType,{content:"(string|element|function)"}),Wi={HIDE:"hide.bs.popover",HIDDEN:"hidden.bs.popover",SHOW:"show.bs.popover",SHOWN:"shown.bs.popover",INSERTED:"inserted.bs.popover",CLICK:"click.bs.popover",FOCUSIN:"focusin.bs.popover",FOCUSOUT:"focusout.bs.popover",MOUSEENTER:"mouseenter.bs.popover",MOUSELEAVE:"mouseleave.bs.popover"},Ai=function(ke){var Ae,z;function ae(){return ke.apply(this,arguments)||this}z=ke,(Ae=ae).prototype=Object.create(z.prototype),Ae.prototype.constructor=Ae,Ae.__proto__=z;var ye=ae.prototype;return ye.isWithContent=function(){return this.getTitle()||this._getContent()},ye.addAttachmentClass=function(Fe){X.default(this.getTipElement()).addClass("bs-popover-"+Fe)},ye.getTipElement=function(){return this.tip=this.tip||X.default(this.config.template)[0],this.tip},ye.setContent=function(){var Fe=X.default(this.getTipElement());this.setElementContent(Fe.find(".popover-header"),this.getTitle());var Xe=this._getContent();"function"==typeof Xe&&(Xe=Xe.call(this.element)),this.setElementContent(Fe.find(".popover-body"),Xe),Fe.removeClass("fade show")},ye._getContent=function(){return this.element.getAttribute("data-content")||this.config.content},ye._cleanTipClass=function(){var Fe=X.default(this.getTipElement()),Xe=Fe.attr("class").match(zn);null!==Xe&&Xe.length>0&&Fe.removeClass(Xe.join(""))},ae._jQueryInterface=function(Fe){return this.each(function(){var Xe=X.default(this).data("bs.popover"),Vt="object"==typeof Fe?Fe:null;if((Xe||!/dispose|hide/.test(Fe))&&(Xe||(Xe=new ae(this,Vt),X.default(this).data("bs.popover",Xe)),"string"==typeof Fe)){if(typeof Xe[Fe]>"u")throw new TypeError('No method named "'+Fe+'"');Xe[Fe]()}})},Qe(ae,null,[{key:"VERSION",get:function(){return"4.6.0"}},{key:"Default",get:function(){return ln}},{key:"NAME",get:function(){return si}},{key:"DATA_KEY",get:function(){return"bs.popover"}},{key:"Event",get:function(){return Wi}},{key:"EVENT_KEY",get:function(){return".bs.popover"}},{key:"DefaultType",get:function(){return ui}}]),ae}(Bi);X.default.fn[si]=Ai._jQueryInterface,X.default.fn[si].Constructor=Ai,X.default.fn[si].noConflict=function(){return X.default.fn[si]=ti,Ai._jQueryInterface};var ni="scrollspy",Ji=X.default.fn[ni],Ir={offset:10,method:"auto",target:""},Ar={offset:"number",method:"string",target:"(string|element)"},bi=function(){function ke(z,ae){var ye=this;this._element=z,this._scrollElement="BODY"===z.tagName?window:z,this._config=this._getConfig(ae),this._selector=this._config.target+" .nav-link,"+this._config.target+" .list-group-item,"+this._config.target+" .dropdown-item",this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,X.default(this._scrollElement).on("scroll.bs.scrollspy",function(Fe){return ye._process(Fe)}),this.refresh(),this._process()}var Ae=ke.prototype;return Ae.refresh=function(){var z=this,ye="auto"===this._config.method?this._scrollElement===this._scrollElement.window?"offset":"position":this._config.method,Fe="position"===ye?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),[].slice.call(document.querySelectorAll(this._selector)).map(function(Xe){var Vt,tn=Ce.getSelectorFromElement(Xe);if(tn&&(Vt=document.querySelector(tn)),Vt){var bn=Vt.getBoundingClientRect();if(bn.width||bn.height)return[X.default(Vt)[ye]().top+Fe,tn]}return null}).filter(function(Xe){return Xe}).sort(function(Xe,Vt){return Xe[0]-Vt[0]}).forEach(function(Xe){z._offsets.push(Xe[0]),z._targets.push(Xe[1])})},Ae.dispose=function(){X.default.removeData(this._element,"bs.scrollspy"),X.default(this._scrollElement).off(".bs.scrollspy"),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},Ae._getConfig=function(z){if("string"!=typeof(z=Pe({},Ir,"object"==typeof z&&z?z:{})).target&&Ce.isElement(z.target)){var ae=X.default(z.target).attr("id");ae||(ae=Ce.getUID(ni),X.default(z.target).attr("id",ae)),z.target="#"+ae}return Ce.typeCheckConfig(ni,z,Ar),z},Ae._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},Ae._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},Ae._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},Ae._process=function(){var z=this._getScrollTop()+this._config.offset,ae=this._getScrollHeight(),ye=this._config.offset+ae-this._getOffsetHeight();if(this._scrollHeight!==ae&&this.refresh(),z>=ye){var Fe=this._targets[this._targets.length-1];this._activeTarget!==Fe&&this._activate(Fe)}else{if(this._activeTarget&&z<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(var Xe=this._offsets.length;Xe--;)this._activeTarget!==this._targets[Xe]&&z>=this._offsets[Xe]&&(typeof this._offsets[Xe+1]>"u"||z<this._offsets[Xe+1])&&this._activate(this._targets[Xe])}},Ae._activate=function(z){this._activeTarget=z,this._clear();var ae=this._selector.split(",").map(function(Fe){return Fe+'[data-target="'+z+'"],'+Fe+'[href="'+z+'"]'}),ye=X.default([].slice.call(document.querySelectorAll(ae.join(","))));ye.hasClass("dropdown-item")?(ye.closest(".dropdown").find(".dropdown-toggle").addClass("active"),ye.addClass("active")):(ye.addClass("active"),ye.parents(".nav, .list-group").prev(".nav-link, .list-group-item").addClass("active"),ye.parents(".nav, .list-group").prev(".nav-item").children(".nav-link").addClass("active")),X.default(this._scrollElement).trigger("activate.bs.scrollspy",{relatedTarget:z})},Ae._clear=function(){[].slice.call(document.querySelectorAll(this._selector)).filter(function(z){return z.classList.contains("active")}).forEach(function(z){return z.classList.remove("active")})},ke._jQueryInterface=function(z){return this.each(function(){var ae=X.default(this).data("bs.scrollspy");if(ae||(ae=new ke(this,"object"==typeof z&&z),X.default(this).data("bs.scrollspy",ae)),"string"==typeof z){if(typeof ae[z]>"u")throw new TypeError('No method named "'+z+'"');ae[z]()}})},Qe(ke,null,[{key:"VERSION",get:function(){return"4.6.0"}},{key:"Default",get:function(){return Ir}}]),ke}();X.default(window).on("load.bs.scrollspy.data-api",function(){for(var ke=[].slice.call(document.querySelectorAll('[data-spy="scroll"]')),Ae=ke.length;Ae--;){var z=X.default(ke[Ae]);bi._jQueryInterface.call(z,z.data())}}),X.default.fn[ni]=bi._jQueryInterface,X.default.fn[ni].Constructor=bi,X.default.fn[ni].noConflict=function(){return X.default.fn[ni]=Ji,bi._jQueryInterface};var Yi=X.default.fn.tab,Ht=function(){function ke(z){this._element=z}var Ae=ke.prototype;return Ae.show=function(){var z=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&X.default(this._element).hasClass("active")||X.default(this._element).hasClass("disabled"))){var ae,ye,Fe=X.default(this._element).closest(".nav, .list-group")[0],Xe=Ce.getSelectorFromElement(this._element);if(Fe){var Vt="UL"===Fe.nodeName||"OL"===Fe.nodeName?"> li > .active":".active";ye=(ye=X.default.makeArray(X.default(Fe).find(Vt)))[ye.length-1]}var tn=X.default.Event("hide.bs.tab",{relatedTarget:this._element}),bn=X.default.Event("show.bs.tab",{relatedTarget:ye});if(ye&&X.default(ye).trigger(tn),X.default(this._element).trigger(bn),!bn.isDefaultPrevented()&&!tn.isDefaultPrevented()){Xe&&(ae=document.querySelector(Xe)),this._activate(this._element,Fe);var re=function(){var Z=X.default.Event("hidden.bs.tab",{relatedTarget:z._element}),Q=X.default.Event("shown.bs.tab",{relatedTarget:ye});X.default(ye).trigger(Z),X.default(z._element).trigger(Q)};ae?this._activate(ae,ae.parentNode,re):re()}}},Ae.dispose=function(){X.default.removeData(this._element,"bs.tab"),this._element=null},Ae._activate=function(z,ae,ye){var Fe=this,Xe=(!ae||"UL"!==ae.nodeName&&"OL"!==ae.nodeName?X.default(ae).children(".active"):X.default(ae).find("> li > .active"))[0],Vt=ye&&Xe&&X.default(Xe).hasClass("fade"),tn=function(){return Fe._transitionComplete(z,Xe,ye)};if(Xe&&Vt){var bn=Ce.getTransitionDurationFromElement(Xe);X.default(Xe).removeClass("show").one(Ce.TRANSITION_END,tn).emulateTransitionEnd(bn)}else tn()},Ae._transitionComplete=function(z,ae,ye){if(ae){X.default(ae).removeClass("active");var Fe=X.default(ae.parentNode).find("> .dropdown-menu .active")[0];Fe&&X.default(Fe).removeClass("active"),"tab"===ae.getAttribute("role")&&ae.setAttribute("aria-selected",!1)}if(X.default(z).addClass("active"),"tab"===z.getAttribute("role")&&z.setAttribute("aria-selected",!0),Ce.reflow(z),z.classList.contains("fade")&&z.classList.add("show"),z.parentNode&&X.default(z.parentNode).hasClass("dropdown-menu")){var Xe=X.default(z).closest(".dropdown")[0];if(Xe){var Vt=[].slice.call(Xe.querySelectorAll(".dropdown-toggle"));X.default(Vt).addClass("active")}z.setAttribute("aria-expanded",!0)}ye&&ye()},ke._jQueryInterface=function(z){return this.each(function(){var ae=X.default(this),ye=ae.data("bs.tab");if(ye||(ye=new ke(this),ae.data("bs.tab",ye)),"string"==typeof z){if(typeof ye[z]>"u")throw new TypeError('No method named "'+z+'"');ye[z]()}})},Qe(ke,null,[{key:"VERSION",get:function(){return"4.6.0"}}]),ke}();X.default(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',function(ke){ke.preventDefault(),Ht._jQueryInterface.call(X.default(this),"show")}),X.default.fn.tab=Ht._jQueryInterface,X.default.fn.tab.Constructor=Ht,X.default.fn.tab.noConflict=function(){return X.default.fn.tab=Yi,Ht._jQueryInterface};var Si=X.default.fn.toast,Qi={animation:"boolean",autohide:"boolean",delay:"number"},ut={animation:!0,autohide:!0,delay:500},Vn=function(){function ke(z,ae){this._element=z,this._config=this._getConfig(ae),this._timeout=null,this._setListeners()}var Ae=ke.prototype;return Ae.show=function(){var z=this,ae=X.default.Event("show.bs.toast");if(X.default(this._element).trigger(ae),!ae.isDefaultPrevented()){this._clearTimeout(),this._config.animation&&this._element.classList.add("fade");var ye=function(){z._element.classList.remove("showing"),z._element.classList.add("show"),X.default(z._element).trigger("shown.bs.toast"),z._config.autohide&&(z._timeout=setTimeout(function(){z.hide()},z._config.delay))};if(this._element.classList.remove("hide"),Ce.reflow(this._element),this._element.classList.add("showing"),this._config.animation){var Fe=Ce.getTransitionDurationFromElement(this._element);X.default(this._element).one(Ce.TRANSITION_END,ye).emulateTransitionEnd(Fe)}else ye()}},Ae.hide=function(){if(this._element.classList.contains("show")){var z=X.default.Event("hide.bs.toast");X.default(this._element).trigger(z),z.isDefaultPrevented()||this._close()}},Ae.dispose=function(){this._clearTimeout(),this._element.classList.contains("show")&&this._element.classList.remove("show"),X.default(this._element).off("click.dismiss.bs.toast"),X.default.removeData(this._element,"bs.toast"),this._element=null,this._config=null},Ae._getConfig=function(z){return z=Pe({},ut,X.default(this._element).data(),"object"==typeof z&&z?z:{}),Ce.typeCheckConfig("toast",z,this.constructor.DefaultType),z},Ae._setListeners=function(){var z=this;X.default(this._element).on("click.dismiss.bs.toast",'[data-dismiss="toast"]',function(){return z.hide()})},Ae._close=function(){var z=this,ae=function(){z._element.classList.add("hide"),X.default(z._element).trigger("hidden.bs.toast")};if(this._element.classList.remove("show"),this._config.animation){var ye=Ce.getTransitionDurationFromElement(this._element);X.default(this._element).one(Ce.TRANSITION_END,ae).emulateTransitionEnd(ye)}else ae()},Ae._clearTimeout=function(){clearTimeout(this._timeout),this._timeout=null},ke._jQueryInterface=function(z){return this.each(function(){var ae=X.default(this),ye=ae.data("bs.toast");if(ye||(ye=new ke(this,"object"==typeof z&&z),ae.data("bs.toast",ye)),"string"==typeof z){if(typeof ye[z]>"u")throw new TypeError('No method named "'+z+'"');ye[z](this)}})},Qe(ke,null,[{key:"VERSION",get:function(){return"4.6.0"}},{key:"DefaultType",get:function(){return Qi}},{key:"Default",get:function(){return ut}}]),ke}();X.default.fn.toast=Vn._jQueryInterface,X.default.fn.toast.Constructor=Vn,X.default.fn.toast.noConflict=function(){return X.default.fn.toast=Si,Vn._jQueryInterface},oe.Alert=Ke,oe.Button=He,oe.Carousel=tt,oe.Collapse=Ee,oe.Dropdown=Y,oe.Modal=rn,oe.Popover=Ai,oe.Scrollspy=bi,oe.Tab=Ht,oe.Toast=Vn,oe.Tooltip=Bi,oe.Util=Ce,Object.defineProperty(oe,"__esModule",{value:!0})}),function(oe,ft){"object"==typeof exports&&typeof module<"u"?ft(exports):"function"==typeof define&&define.amd?define(["exports"],ft):ft((oe=typeof globalThis<"u"?globalThis:oe||self).echarts={})}(this,function(oe){"use strict";var ft=function(n,t){return(ft=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])})(n,t)};function ue(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=n}ft(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var qe=function(){return(qe=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}).apply(this,arguments)},Ye=function(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1},ve=new function(){this.browser=new Ye,this.node=!1,this.wxa=!1,this.worker=!1,this.canvasSupported=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1};"object"==typeof wx&&"function"==typeof wx.getSystemInfoSync?(ve.wxa=!0,ve.canvasSupported=!0,ve.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?(ve.worker=!0,ve.canvasSupported=!0):typeof navigator>"u"?(ve.node=!0,ve.canvasSupported=!0,ve.svgSupported=!0):function(n,t){var e=t.browser,i=n.match(/Firefox\/([\d.]+)/),r=n.match(/MSIE\s([\d.]+)/)||n.match(/Trident\/.+?rv:(([\d.]+))/),o=n.match(/Edge?\/([\d.]+)/),a=/micromessenger/i.test(n);i&&(e.firefox=!0,e.version=i[1]),r&&(e.ie=!0,e.version=r[1]),o&&(e.edge=!0,e.version=o[1],e.newEdge=+o[1].split(".")[0]>18),a&&(e.weChat=!0),t.canvasSupported=!!document.createElement("canvas").getContext,t.svgSupported=typeof SVGRect<"u",t.touchEventsSupported="ontouchstart"in window&&!e.ie&&!e.edge,t.pointerEventsSupported="onpointerdown"in window&&(e.edge||e.ie&&+e.version>=11),t.domSupported=typeof document<"u";var s=document.documentElement.style;t.transform3dSupported=(e.ie&&"transition"in s||e.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in s)&&!("OTransition"in s),t.transformSupported=t.transform3dSupported||e.ie&&+e.version>=9}(navigator.userAgent,ve);var Qe={"[object Function]":!0,"[object RegExp]":!0,"[object Date]":!0,"[object Error]":!0,"[object CanvasGradient]":!0,"[object CanvasPattern]":!0,"[object Image]":!0,"[object Canvas]":!0},Pe={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0},st=Object.prototype.toString,Ce=Array.prototype,yt=Ce.forEach,St=Ce.filter,Ke=Ce.slice,it=Ce.map,He=function(){}.constructor,De=He?He.prototype:null,ct="__proto__",ne={};function Me(n,t){ne[n]=t}var Oe=2311;function P(){return Oe++}function tt(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];typeof console<"u"&&console.error.apply(console,n)}function Te(n){if(null==n||"object"!=typeof n)return n;var t=n,e=st.call(n);if("[object Array]"===e){if(!bi(n)){t=[];for(var i=0,r=n.length;i<r;i++)t[i]=Te(n[i])}}else if(Pe[e]){if(!bi(n)){var o=n.constructor;if(o.from)t=o.from(n);else for(t=new o(n.length),i=0,r=n.length;i<r;i++)t[i]=Te(n[i])}}else if(!Qe[e]&&!bi(n)&&!Rt(n))for(var a in t={},n)n.hasOwnProperty(a)&&a!==ct&&(t[a]=Te(n[a]));return t}function Ie(n,t,e){if(!Bt(t)||!Bt(n))return e?Te(t):n;for(var i in t)if(t.hasOwnProperty(i)&&i!==ct){var r=n[i],o=t[i];!Bt(o)||!Bt(r)||rt(o)||rt(r)||Rt(o)||Rt(r)||xi(o)||xi(r)||bi(o)||bi(r)?!e&&i in n||(n[i]=Te(t[i])):Ie(r,o,e)}return n}function et(n,t){for(var e=n[0],i=1,r=n.length;i<r;i++)e=Ie(e,n[i],t);return e}function se(n,t){if(Object.assign)Object.assign(n,t);else for(var e in t)t.hasOwnProperty(e)&&e!==ct&&(n[e]=t[e]);return n}function Ee(n,t,e){for(var i=Mt(t),r=0;r<i.length;r++){var o=i[r];(e?null!=t[o]:null==n[o])&&(n[o]=t[o])}return n}var ie=function(){return ne.createCanvas()};function pe(n,t){if(n){if(n.indexOf)return n.indexOf(t);for(var e=0,i=n.length;e<i;e++)if(n[e]===t)return e}return-1}function C(n,t){var e=n.prototype;function i(){}for(var r in i.prototype=t.prototype,n.prototype=new i,e)e.hasOwnProperty(r)&&(n.prototype[r]=e[r]);n.prototype.constructor=n,n.superClass=t}function lt(n,t,e){if(n="prototype"in n?n.prototype:n,t="prototype"in t?t.prototype:t,Object.getOwnPropertyNames)for(var i=Object.getOwnPropertyNames(t),r=0;r<i.length;r++){var o=i[r];"constructor"!==o&&(e?null!=t[o]:null==n[o])&&(n[o]=t[o])}else Ee(n,t,e)}function gt(n){return!!n&&"string"!=typeof n&&"number"==typeof n.length}function Y(n,t,e){if(n&&t)if(n.forEach&&n.forEach===yt)n.forEach(t,e);else if(n.length===+n.length)for(var i=0,r=n.length;i<r;i++)t.call(e,n[i],i,n);else for(var o in n)n.hasOwnProperty(o)&&t.call(e,n[o],o,n)}function Ve(n,t,e){if(!n)return[];if(!t)return Wi(n);if(n.map&&n.map===it)return n.map(t,e);for(var i=[],r=0,o=n.length;r<o;r++)i.push(t.call(e,n[r],r,n));return i}function zt(n,t,e,i){if(n&&t){for(var r=0,o=n.length;r<o;r++)e=t.call(i,e,n[r],r,n);return e}}function jt(n,t,e){if(!n)return[];if(!t)return Wi(n);if(n.filter&&n.filter===St)return n.filter(t,e);for(var i=[],r=0,o=n.length;r<o;r++)t.call(e,n[r],r,n)&&i.push(n[r]);return i}function rn(n,t,e){if(n&&t)for(var i=0,r=n.length;i<r;i++)if(t.call(e,n[i],i,n))return n[i]}function Mt(n){if(!n)return[];if(Object.keys)return Object.keys(n);var t=[];for(var e in n)n.hasOwnProperty(e)&&t.push(e);return t}ne.createCanvas=function(){return document.createElement("canvas")};var mt=De&&sn(De.bind)?De.call.bind(De.bind):function(n,t){for(var e=[],i=2;i<arguments.length;i++)e[i-2]=arguments[i];return function(){return n.apply(t,e.concat(Ke.call(arguments)))}};function Lt(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return function(){return n.apply(this,t.concat(Ke.call(arguments)))}}function rt(n){return Array.isArray?Array.isArray(n):"[object Array]"===st.call(n)}function sn(n){return"function"==typeof n}function Jt(n){return"string"==typeof n}function Pi(n){return"[object String]"===st.call(n)}function Ci(n){return"number"==typeof n}function Bt(n){var t=typeof n;return"function"===t||!!n&&"object"===t}function xi(n){return!!Qe[st.call(n)]}function Pn(n){return!!Pe[st.call(n)]}function Rt(n){return"object"==typeof n&&"number"==typeof n.nodeType&&"object"==typeof n.ownerDocument}function ei(n){return null!=n.colorStops}function Bi(n){return null!=n.image}function si(n){return"[object RegExp]"===st.call(n)}function ti(n){return n!=n}function zn(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];for(var e=0,i=n.length;e<i;e++)if(null!=n[e])return n[e]}function ln(n,t){return n??t}function ui(n,t,e){return n??t??e}function Wi(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return Ke.apply(n,t)}function Ai(n){if("number"==typeof n)return[n,n,n,n];var t=n.length;return 2===t?[n[0],n[1],n[0],n[1]]:3===t?[n[0],n[1],n[2],n[1]]:n}function ni(n,t){if(!n)throw new Error(t)}function Ji(n){return null==n?null:"function"==typeof n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var Ir="__ec_primitive__";function Ar(n){n[Ir]=!0}function bi(n){return n[Ir]}var Yi=function(){function n(t){this.data={};var e=rt(t);this.data={};var i=this;function r(o,a){e?i.set(o,a):i.set(a,o)}t instanceof n?t.each(r):t&&Y(t,r)}return n.prototype.get=function(t){return this.data.hasOwnProperty(t)?this.data[t]:null},n.prototype.set=function(t,e){return this.data[t]=e},n.prototype.each=function(t,e){for(var i in this.data)this.data.hasOwnProperty(i)&&t.call(e,this.data[i],i)},n.prototype.keys=function(){return Mt(this.data)},n.prototype.removeKey=function(t){delete this.data[t]},n}();function Ht(n){return new Yi(n)}function Si(n,t){for(var e=new n.constructor(n.length+t.length),i=0;i<n.length;i++)e[i]=n[i];var r=n.length;for(i=0;i<t.length;i++)e[i+r]=t[i];return e}function Qi(n,t){var e;if(Object.create)e=Object.create(n);else{var i=function(){};i.prototype=n,e=new i}return t&&se(e,t),e}function ut(n,t){return n.hasOwnProperty(t)}function Vn(){}var ke=Object.freeze({__proto__:null,$override:Me,guid:P,logError:tt,clone:Te,merge:Ie,mergeAll:et,extend:se,defaults:Ee,createCanvas:ie,indexOf:pe,inherits:C,mixin:lt,isArrayLike:gt,each:Y,map:Ve,reduce:zt,filter:jt,find:rn,keys:Mt,bind:mt,curry:Lt,isArray:rt,isFunction:sn,isString:Jt,isStringSafe:Pi,isNumber:Ci,isObject:Bt,isBuiltInObject:xi,isTypedArray:Pn,isDom:Rt,isGradientObject:ei,isImagePatternObject:Bi,isRegExp:si,eqNaN:ti,retrieve:zn,retrieve2:ln,retrieve3:ui,slice:Wi,normalizeCssArray:Ai,assert:ni,trim:Ji,setAsPrimitive:Ar,isPrimitive:bi,HashMap:Yi,createHashMap:Ht,concatArray:Si,createObject:Qi,hasOwn:ut,noop:Vn});function Ae(n,t){return null==n&&(n=0),null==t&&(t=0),[n,t]}function z(n,t){return n[0]=t[0],n[1]=t[1],n}function ae(n){return[n[0],n[1]]}function ye(n,t,e){return n[0]=t,n[1]=e,n}function Fe(n,t,e){return n[0]=t[0]+e[0],n[1]=t[1]+e[1],n}function Xe(n,t,e,i){return n[0]=t[0]+e[0]*i,n[1]=t[1]+e[1]*i,n}function Vt(n,t,e){return n[0]=t[0]-e[0],n[1]=t[1]-e[1],n}function tn(n){return Math.sqrt(re(n))}function re(n){return n[0]*n[0]+n[1]*n[1]}function Q(n,t,e){return n[0]=t[0]*e,n[1]=t[1]*e,n}function ce(n,t){var e=tn(t);return 0===e?(n[0]=0,n[1]=0):(n[0]=t[0]/e,n[1]=t[1]/e),n}function we(n,t){return Math.sqrt((n[0]-t[0])*(n[0]-t[0])+(n[1]-t[1])*(n[1]-t[1]))}var Re=we;function We(n,t){return(n[0]-t[0])*(n[0]-t[0])+(n[1]-t[1])*(n[1]-t[1])}var ot=We;function $e(n,t,e,i){return n[0]=t[0]+i*(e[0]-t[0]),n[1]=t[1]+i*(e[1]-t[1]),n}function pt(n,t,e){var i=t[0],r=t[1];return n[0]=e[0]*i+e[2]*r+e[4],n[1]=e[1]*i+e[3]*r+e[5],n}function wt(n,t,e){return n[0]=Math.min(t[0],e[0]),n[1]=Math.min(t[1],e[1]),n}function At(n,t,e){return n[0]=Math.max(t[0],e[0]),n[1]=Math.max(t[1],e[1]),n}var Kt=Object.freeze({__proto__:null,create:Ae,copy:z,clone:ae,set:ye,add:Fe,scaleAndAdd:Xe,sub:Vt,len:tn,length:tn,lenSquare:re,lengthSquare:re,mul:function(n,t,e){return n[0]=t[0]*e[0],n[1]=t[1]*e[1],n},div:function(n,t,e){return n[0]=t[0]/e[0],n[1]=t[1]/e[1],n},dot:function(n,t){return n[0]*t[0]+n[1]*t[1]},scale:Q,normalize:ce,distance:we,dist:Re,distanceSquare:We,distSquare:ot,negate:function(n,t){return n[0]=-t[0],n[1]=-t[1],n},lerp:$e,applyTransform:pt,min:wt,max:At}),qt=function(n,t){this.target=n,this.topTarget=t&&t.topTarget},on=function(){function n(t){this.handler=t,t.on("mousedown",this._dragStart,this),t.on("mousemove",this._drag,this),t.on("mouseup",this._dragEnd,this)}return n.prototype._dragStart=function(t){for(var e=t.target;e&&!e.draggable;)e=e.parent;e&&(this._draggingTarget=e,e.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.handler.dispatchToElement(new qt(e,t),"dragstart",t.event))},n.prototype._drag=function(t){var e=this._draggingTarget;if(e){var i=t.offsetX,r=t.offsetY,o=i-this._x,a=r-this._y;this._x=i,this._y=r,e.drift(o,a,t),this.handler.dispatchToElement(new qt(e,t),"drag",t.event);var s=this.handler.findHover(i,r,e).target,l=this._dropTarget;this._dropTarget=s,e!==s&&(l&&s!==l&&this.handler.dispatchToElement(new qt(l,t),"dragleave",t.event),s&&s!==l&&this.handler.dispatchToElement(new qt(s,t),"dragenter",t.event))}},n.prototype._dragEnd=function(t){var e=this._draggingTarget;e&&(e.dragging=!1),this.handler.dispatchToElement(new qt(e,t),"dragend",t.event),this._dropTarget&&this.handler.dispatchToElement(new qt(this._dropTarget,t),"drop",t.event),this._draggingTarget=null,this._dropTarget=null},n}(),Tn=function(){function n(t){t&&(this._$eventProcessor=t)}return n.prototype.on=function(t,e,i,r){this._$handlers||(this._$handlers={});var o=this._$handlers;if("function"==typeof e&&(r=i,i=e,e=null),!i||!t)return this;var a=this._$eventProcessor;null!=e&&a&&a.normalizeQuery&&(e=a.normalizeQuery(e)),o[t]||(o[t]=[]);for(var s=0;s<o[t].length;s++)if(o[t][s].h===i)return this;var l={h:i,query:e,ctx:r||this,callAtLast:i.zrEventfulCallAtLast},u=o[t].length-1,h=o[t][u];return h&&h.callAtLast?o[t].splice(u,0,l):o[t].push(l),this},n.prototype.isSilent=function(t){var e=this._$handlers;return!e||!e[t]||!e[t].length},n.prototype.off=function(t,e){var i=this._$handlers;if(!i)return this;if(!t)return this._$handlers={},this;if(e){if(i[t]){for(var r=[],o=0,a=i[t].length;o<a;o++)i[t][o].h!==e&&r.push(i[t][o]);i[t]=r}i[t]&&0===i[t].length&&delete i[t]}else delete i[t];return this},n.prototype.trigger=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(!this._$handlers)return this;var r=this._$handlers[t],o=this._$eventProcessor;if(r)for(var a=e.length,s=r.length,l=0;l<s;l++){var u=r[l];if(!o||!o.filter||null==u.query||o.filter(t,u.query))switch(a){case 0:u.h.call(u.ctx);break;case 1:u.h.call(u.ctx,e[0]);break;case 2:u.h.call(u.ctx,e[0],e[1]);break;default:u.h.apply(u.ctx,e)}}return o&&o.afterTrigger&&o.afterTrigger(t),this},n.prototype.triggerWithContext=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(!this._$handlers)return this;var r=this._$handlers[t],o=this._$eventProcessor;if(r)for(var a=e.length,s=e[a-1],l=r.length,u=0;u<l;u++){var h=r[u];if(!o||!o.filter||null==h.query||o.filter(t,h.query))switch(a){case 0:h.h.call(s);break;case 1:h.h.call(s,e[0]);break;case 2:h.h.call(s,e[0],e[1]);break;default:h.h.apply(s,e.slice(1,a-1))}}return o&&o.afterTrigger&&o.afterTrigger(t),this},n}(),Mi=Math.log(2);function Xi(n,t,e,i,r,o){var a=i+"-"+r,s=n.length;if(o.hasOwnProperty(a))return o[a];if(1===t){var l=Math.round(Math.log((1<<s)-1&~r)/Mi);return n[e][l]}for(var u=i|1<<e,h=e+1;i&1<<h;)h++;for(var f=0,p=0,g=0;p<s;p++){var v=1<<p;v&r||(f+=(g%2?-1:1)*n[e][p]*Xi(n,t-1,h,u,r|v,o),g++)}return o[a]=f,f}function ii(n,t){var e=[[n[0],n[1],1,0,0,0,-t[0]*n[0],-t[0]*n[1]],[0,0,0,n[0],n[1],1,-t[1]*n[0],-t[1]*n[1]],[n[2],n[3],1,0,0,0,-t[2]*n[2],-t[2]*n[3]],[0,0,0,n[2],n[3],1,-t[3]*n[2],-t[3]*n[3]],[n[4],n[5],1,0,0,0,-t[4]*n[4],-t[4]*n[5]],[0,0,0,n[4],n[5],1,-t[5]*n[4],-t[5]*n[5]],[n[6],n[7],1,0,0,0,-t[6]*n[6],-t[6]*n[7]],[0,0,0,n[6],n[7],1,-t[7]*n[6],-t[7]*n[7]]],i={},r=Xi(e,8,0,0,0,i);if(0!==r){for(var o=[],a=0;a<8;a++)for(var s=0;s<8;s++)null==o[s]&&(o[s]=0),o[s]+=((a+s)%2?-1:1)*Xi(e,7,0===a?1:0,1<<a,1<<s,i)/r*t[a];return function(l,u,h){var f=u*o[6]+h*o[7]+1;l[0]=(u*o[0]+h*o[1]+o[2])/f,l[1]=(u*o[3]+h*o[4]+o[5])/f}}}var sr=[];function Fi(n,t,e,i,r){if(t.getBoundingClientRect&&ve.domSupported&&!pr(t)){var o=t.___zrEVENTSAVED||(t.___zrEVENTSAVED={}),a=function(s,l,u){for(var h=u?"invTrans":"trans",f=l[h],p=l.srcCoords,g=[],v=[],m=!0,y=0;y<4;y++){var b=s[y].getBoundingClientRect(),S=2*y,E=b.left,I=b.top;g.push(E,I),m=m&&p&&E===p[S]&&I===p[S+1],v.push(s[y].offsetLeft,s[y].offsetTop)}return m&&f?f:(l.srcCoords=g,l[h]=u?ii(v,g):ii(g,v))}(function(s,l){var u=l.markers;if(u)return u;u=l.markers=[];for(var h=["left","right"],f=["top","bottom"],p=0;p<4;p++){var g=document.createElement("div"),v=p%2,m=(p>>1)%2;g.style.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",h[v]+":0",f[m]+":0",h[1-v]+":auto",f[1-m]+":auto",""].join("!important;"),s.appendChild(g),u.push(g)}return u}(t,o),o,r);if(a)return a(n,e,i),!0}return!1}function pr(n){return"CANVAS"===n.nodeName.toUpperCase()}var lo=typeof window<"u"&&!!window.addEventListener,Kn=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,en=[];function to(n,t,e,i){return e=e||{},i||!ve.canvasSupported?lr(n,t,e):ve.browser.firefox&&ve.browser.version<"39"&&null!=t.layerX&&t.layerX!==t.offsetX?(e.zrX=t.layerX,e.zrY=t.layerY):null!=t.offsetX?(e.zrX=t.offsetX,e.zrY=t.offsetY):lr(n,t,e),e}function lr(n,t,e){if(ve.domSupported&&n.getBoundingClientRect){var i=t.clientX,r=t.clientY;if(pr(n)){var o=n.getBoundingClientRect();return e.zrX=i-o.left,void(e.zrY=r-o.top)}if(Fi(en,n,i,r))return e.zrX=en[0],void(e.zrY=en[1])}e.zrX=e.zrY=0}function ur(n){return n||window.event}function An(n,t,e){if(null!=(t=ur(t)).zrX)return t;var i=t.type;if(i&&i.indexOf("touch")>=0){var r="touchend"!==i?t.targetTouches[0]:t.changedTouches[0];r&&to(n,r,t,e)}else{to(n,t,t,e);var o=function(s){var l=s.wheelDelta;if(l)return l;var u=s.deltaX,h=s.deltaY;return null==u||null==h?l:3*Math.abs(0!==h?h:u)*(h>0?-1:h<0?1:u>0?-1:1)}(t);t.zrDelta=o?o/120:-(t.detail||0)/3}var a=t.button;return null==t.which&&void 0!==a&&Kn.test(t.type)&&(t.which=1&a?1:2&a?3:4&a?2:0),t}function Ur(n,t,e,i){lo?n.addEventListener(t,e,i):n.attachEvent("on"+t,e)}var Mr=lo?function(n){n.preventDefault(),n.stopPropagation(),n.cancelBubble=!0}:function(n){n.returnValue=!1,n.cancelBubble=!0};function hs(n){return 2===n.which||3===n.which}var Ot=function(){function n(){this._track=[]}return n.prototype.recognize=function(t,e,i){return this._doTrack(t,e,i),this._recognize(t)},n.prototype.clear=function(){return this._track.length=0,this},n.prototype._doTrack=function(t,e,i){var r=t.touches;if(r){for(var o={points:[],touches:[],target:e,event:t},a=0,s=r.length;a<s;a++){var l=r[a],u=to(i,l,{});o.points.push([u.zrX,u.zrY]),o.touches.push(l)}this._track.push(o)}},n.prototype._recognize=function(t){for(var e in sa)if(sa.hasOwnProperty(e)){var i=sa[e](this._track,t);if(i)return i}},n}();function Sn(n){var t=n[1][0]-n[0][0],e=n[1][1]-n[0][1];return Math.sqrt(t*t+e*e)}var sa={pinch:function(n,t){var e=n.length;if(e){var i,r=(n[e-1]||{}).points,o=(n[e-2]||{}).points||r;if(o&&o.length>1&&r&&r.length>1){var a=Sn(r)/Sn(o);!isFinite(a)&&(a=1),t.pinchScale=a;var s=[((i=r)[0][0]+i[1][0])/2,(i[0][1]+i[1][1])/2];return t.pinchX=s[0],t.pinchY=s[1],{type:"pinch",target:n[0].target,event:t}}}}};function fs(){Mr(this.event)}var zr=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.handler=null,e}return ue(t,n),t.prototype.dispose=function(){},t.prototype.setCursor=function(){},t}(Tn),_a=function(n,t){this.x=n,this.y=t},xn=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],bl=function(n){function t(e,i,r,o){var a=n.call(this)||this;return a._hovered=new _a(0,0),a.storage=e,a.painter=i,a.painterRoot=o,r=r||new zr,a.proxy=null,a.setHandlerProxy(r),a._draggingMgr=new on(a),a}return ue(t,n),t.prototype.setHandlerProxy=function(e){this.proxy&&this.proxy.dispose(),e&&(Y(xn,function(i){e.on&&e.on(i,this[i],this)},this),e.handler=this),this.proxy=e},t.prototype.mousemove=function(e){var i=e.zrX,r=e.zrY,o=uo(this,i,r),a=this._hovered,s=a.target;s&&!s.__zr&&(s=(a=this.findHover(a.x,a.y)).target);var l=this._hovered=o?new _a(i,r):this.findHover(i,r),u=l.target,h=this.proxy;h.setCursor&&h.setCursor(u?u.cursor:"default"),s&&u!==s&&this.dispatchToElement(a,"mouseout",e),this.dispatchToElement(l,"mousemove",e),u&&u!==s&&this.dispatchToElement(l,"mouseover",e)},t.prototype.mouseout=function(e){var i=e.zrEventControl;"only_globalout"!==i&&this.dispatchToElement(this._hovered,"mouseout",e),"no_globalout"!==i&&this.trigger("globalout",{type:"globalout",event:e})},t.prototype.resize=function(){this._hovered=new _a(0,0)},t.prototype.dispatch=function(e,i){var r=this[e];r&&r.call(this,i)},t.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},t.prototype.setCursorStyle=function(e){var i=this.proxy;i.setCursor&&i.setCursor(e)},t.prototype.dispatchToElement=function(e,i,r){var u,h,o=(e=e||{}).target;if(!o||!o.silent){for(var a="on"+i,s={type:i,event:h=r,target:(u=e).target,topTarget:u.topTarget,cancelBubble:!1,offsetX:h.zrX,offsetY:h.zrY,gestureEvent:h.gestureEvent,pinchX:h.pinchX,pinchY:h.pinchY,pinchScale:h.pinchScale,wheelDelta:h.zrDelta,zrByTouch:h.zrByTouch,which:h.which,stop:fs};o&&(o[a]&&(s.cancelBubble=!!o[a].call(o,s)),o.trigger(i,s),o=o.__hostTarget?o.__hostTarget:o.parent,!s.cancelBubble););s.cancelBubble||(this.trigger(i,s),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(l){"function"==typeof l[a]&&l[a].call(l,s),l.trigger&&l.trigger(i,s)}))}},t.prototype.findHover=function(e,i,r){for(var o=this.storage.getDisplayList(),a=new _a(e,i),s=o.length-1;s>=0;s--){var l=void 0;if(o[s]!==r&&!o[s].ignore&&(l=Zl(o[s],e,i))&&(!a.topTarget&&(a.topTarget=o[s]),"silent"!==l)){a.target=o[s];break}}return a},t.prototype.processGesture=function(e,i){this._gestureMgr||(this._gestureMgr=new Ot);var r=this._gestureMgr;"start"===i&&r.clear();var o=r.recognize(e,this.findHover(e.zrX,e.zrY,null).target,this.proxy.dom);if("end"===i&&r.clear(),o){var a=o.type;e.gestureEvent=a;var s=new _a;s.target=o.target,this.dispatchToElement(s,a,o.event)}},t}(Tn);function Zl(n,t,e){if(n[n.rectHover?"rectContain":"contain"](t,e)){for(var i=n,r=void 0,o=!1;i;){if(i.ignoreClip&&(o=!0),!o){var a=i.getClipPath();if(a&&!a.contain(t,e))return!1;i.silent&&(r=!0)}i=i.__hostTarget||i.parent}return!r||"silent"}return!1}function uo(n,t,e){var i=n.painter;return t<0||t>i.getWidth()||e<0||e>i.getHeight()}function cr(n,t,e,i){var r=t+1;if(r===e)return 1;if(i(n[r++],n[t])<0){for(;r<e&&i(n[r],n[r-1])<0;)r++;!function(o,a,s){for(s--;a<s;){var l=o[a];o[a++]=o[s],o[s--]=l}}(n,t,r)}else for(;r<e&&i(n[r],n[r-1])>=0;)r++;return r-t}function ds(n,t,e,i,r){for(i===t&&i++;i<e;i++){for(var o,a=n[i],s=t,l=i;s<l;)r(a,n[o=s+l>>>1])<0?l=o:s=o+1;var u=i-s;switch(u){case 3:n[s+3]=n[s+2];case 2:n[s+2]=n[s+1];case 1:n[s+1]=n[s];break;default:for(;u>0;)n[s+u]=n[s+u-1],u--}n[s]=a}}function Ws(n,t,e,i,r,o){var a=0,s=0,l=1;if(o(n,t[e+r])>0){for(s=i-r;l<s&&o(n,t[e+r+l])>0;)a=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s),a+=r,l+=r}else{for(s=r+1;l<s&&o(n,t[e+r-l])<=0;)a=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s);var u=a;a=r-l,l=r-u}for(a++;a<l;){var h=a+(l-a>>>1);o(n,t[e+h])>0?a=h+1:l=h}return l}function No(n,t,e,i,r,o){var a=0,s=0,l=1;if(o(n,t[e+r])<0){for(s=r+1;l<s&&o(n,t[e+r-l])<0;)a=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s);var u=a;a=r-l,l=r-u}else{for(s=i-r;l<s&&o(n,t[e+r+l])>=0;)a=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s),a+=r,l+=r}for(a++;a<l;){var h=a+(l-a>>>1);o(n,t[e+h])<0?l=h:a=h+1}return l}function la(n,t,e,i){e||(e=0),i||(i=n.length);var r=i-e;if(!(r<2)){var o=0;if(r<32)ds(n,e,i,e+(o=cr(n,e,i,t)),t);else{var a=function Ys(n,t){var e,i,r=7,o=0,a=[];function s(l){var u=e[l],h=i[l],f=e[l+1],p=i[l+1];i[l]=h+p,l===o-3&&(e[l+1]=e[l+2],i[l+1]=i[l+2]),o--;var g=No(n[f],n,u,h,0,t);u+=g,0!=(h-=g)&&0!==(p=Ws(n[u+h-1],n,f,p,p-1,t))&&(h<=p?function(v,m,y,b){var S=0;for(S=0;S<m;S++)a[S]=n[v+S];var E=0,I=y,A=v;if(n[A++]=n[I++],0!=--b)if(1!==m){for(var L,R,k,H=r;;){L=0,R=0,k=!1;do{if(t(n[I],a[E])<0){if(n[A++]=n[I++],R++,L=0,0==--b){k=!0;break}}else if(n[A++]=a[E++],L++,R=0,1==--m){k=!0;break}}while((L|R)<H);if(k)break;do{if(0!==(L=No(n[I],a,E,m,0,t))){for(S=0;S<L;S++)n[A+S]=a[E+S];if(A+=L,E+=L,(m-=L)<=1){k=!0;break}}if(n[A++]=n[I++],0==--b){k=!0;break}if(0!==(R=Ws(a[E],n,I,b,0,t))){for(S=0;S<R;S++)n[A+S]=n[I+S];if(A+=R,I+=R,0==(b-=R)){k=!0;break}}if(n[A++]=a[E++],1==--m){k=!0;break}H--}while(L>=7||R>=7);if(k)break;H<0&&(H=0),H+=2}if((r=H)<1&&(r=1),1===m){for(S=0;S<b;S++)n[A+S]=n[I+S];n[A+b]=a[E]}else{if(0===m)throw new Error;for(S=0;S<m;S++)n[A+S]=a[E+S]}}else{for(S=0;S<b;S++)n[A+S]=n[I+S];n[A+b]=a[E]}else for(S=0;S<m;S++)n[A+S]=a[E+S]}(u,h,f,p):function(v,m,y,b){var S=0;for(S=0;S<b;S++)a[S]=n[y+S];var E=v+m-1,I=b-1,A=y+b-1,L=0,R=0;if(n[A--]=n[E--],0!=--m)if(1!==b){for(var k=r;;){var H=0,U=0,G=!1;do{if(t(a[I],n[E])<0){if(n[A--]=n[E--],H++,U=0,0==--m){G=!0;break}}else if(n[A--]=a[I--],U++,H=0,1==--b){G=!0;break}}while((H|U)<k);if(G)break;do{if(0!=(H=m-No(a[I],n,v,m,m-1,t))){for(m-=H,R=1+(A-=H),L=1+(E-=H),S=H-1;S>=0;S--)n[R+S]=n[L+S];if(0===m){G=!0;break}}if(n[A--]=a[I--],1==--b){G=!0;break}if(0!=(U=b-Ws(n[E],a,0,b,b-1,t))){for(b-=U,R=1+(A-=U),L=1+(I-=U),S=0;S<U;S++)n[R+S]=a[L+S];if(b<=1){G=!0;break}}if(n[A--]=n[E--],0==--m){G=!0;break}k--}while(H>=7||U>=7);if(G)break;k<0&&(k=0),k+=2}if((r=k)<1&&(r=1),1===b){for(R=1+(A-=m),L=1+(E-=m),S=m-1;S>=0;S--)n[R+S]=n[L+S];n[A]=a[I]}else{if(0===b)throw new Error;for(L=A-(b-1),S=0;S<b;S++)n[L+S]=a[S]}}else{for(R=1+(A-=m),L=1+(E-=m),S=m-1;S>=0;S--)n[R+S]=n[L+S];n[A]=a[I]}else for(L=A-(b-1),S=0;S<b;S++)n[L+S]=a[S]}(u,h,f,p))}return e=[],i=[],{mergeRuns:function(){for(;o>1;){var l=o-2;if(l>=1&&i[l-1]<=i[l]+i[l+1]||l>=2&&i[l-2]<=i[l]+i[l-1])i[l-1]<i[l+1]&&l--;else if(i[l]>i[l+1])break;s(l)}},forceMergeRuns:function(){for(;o>1;){var l=o-2;l>0&&i[l-1]<i[l+1]&&l--,s(l)}},pushRun:function(l,u){e[o]=l,i[o]=u,o+=1}}}(n,t),s=function(u){for(var h=0;u>=32;)h|=1&u,u>>=1;return u+h}(r);do{if((o=cr(n,e,i,t))<s){var l=r;l>s&&(l=s),ds(n,e,e+l,e+o,t),o=l}a.pushRun(e,o),a.mergeRuns(),r-=o,e+=o}while(0!==r);a.forceMergeRuns()}}}Y(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(n){bl.prototype[n]=function(t){var e,i,r=t.zrX,o=t.zrY,a=uo(this,r,o);if("mouseup"===n&&a||(i=(e=this.findHover(r,o)).target),"mousedown"===n)this._downEl=i,this._downPoint=[t.zrX,t.zrY],this._upEl=i;else if("mouseup"===n)this._upEl=i;else if("click"===n){if(this._downEl!==this._upEl||!this._downPoint||Re(this._downPoint,[t.zrX,t.zrY])>4)return;this._downPoint=null}this.dispatchToElement(e,n,t)}});var ps=!1;function Ha(){ps||(ps=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function Sl(n,t){return n.zlevel===t.zlevel?n.z===t.z?n.z2-t.z2:n.z-t.z:n.zlevel-t.zlevel}var Xs=function(){function n(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=Sl}return n.prototype.traverse=function(t,e){for(var i=0;i<this._roots.length;i++)this._roots[i].traverse(t,e)},n.prototype.getDisplayList=function(t,e){e=e||!1;var i=this._displayList;return!t&&i.length||this.updateDisplayList(e),i},n.prototype.updateDisplayList=function(t){this._displayListLen=0;for(var e=this._roots,i=this._displayList,r=0,o=e.length;r<o;r++)this._updateAndAddDisplayable(e[r],null,t);i.length=this._displayListLen,ve.canvasSupported&&la(i,Sl)},n.prototype._updateAndAddDisplayable=function(t,e,i){if(!t.ignore||i){t.beforeUpdate(),t.update(),t.afterUpdate();var r=t.getClipPath();if(t.ignoreClip)e=null;else if(r){e=e?e.slice():[];for(var o=r,a=t;o;)o.parent=a,o.updateTransform(),e.push(o),a=o,o=o.getClipPath()}if(t.childrenRef){for(var s=t.childrenRef(),l=0;l<s.length;l++){var u=s[l];t.__dirty&&(u.__dirty|=1),this._updateAndAddDisplayable(u,e,i)}t.__dirty=0}else{var h=t;e&&e.length?h.__clipPaths=e:h.__clipPaths&&h.__clipPaths.length>0&&(h.__clipPaths=[]),isNaN(h.z)&&(Ha(),h.z=0),isNaN(h.z2)&&(Ha(),h.z2=0),isNaN(h.zlevel)&&(Ha(),h.zlevel=0),this._displayList[this._displayListLen++]=h}var f=t.getDecalElement&&t.getDecalElement();f&&this._updateAndAddDisplayable(f,e,i);var p=t.getTextGuideLine();p&&this._updateAndAddDisplayable(p,e,i);var g=t.getTextContent();g&&this._updateAndAddDisplayable(g,e,i)}},n.prototype.addRoot=function(t){t.__zr&&t.__zr.storage===this||this._roots.push(t)},n.prototype.delRoot=function(t){if(t instanceof Array)for(var e=0,i=t.length;e<i;e++)this.delRoot(t[e]);else{var r=pe(this._roots,t);r>=0&&this._roots.splice(r,1)}},n.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},n.prototype.getRoots=function(){return this._roots},n.prototype.dispose=function(){this._displayList=null,this._roots=null},n}(),js=typeof window<"u"&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(n){return setTimeout(n,16)},gs={linear:function(n){return n},quadraticIn:function(n){return n*n},quadraticOut:function(n){return n*(2-n)},quadraticInOut:function(n){return(n*=2)<1?.5*n*n:-.5*(--n*(n-2)-1)},cubicIn:function(n){return n*n*n},cubicOut:function(n){return--n*n*n+1},cubicInOut:function(n){return(n*=2)<1?.5*n*n*n:.5*((n-=2)*n*n+2)},quarticIn:function(n){return n*n*n*n},quarticOut:function(n){return 1- --n*n*n*n},quarticInOut:function(n){return(n*=2)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2)},quinticIn:function(n){return n*n*n*n*n},quinticOut:function(n){return--n*n*n*n*n+1},quinticInOut:function(n){return(n*=2)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2)},sinusoidalIn:function(n){return 1-Math.cos(n*Math.PI/2)},sinusoidalOut:function(n){return Math.sin(n*Math.PI/2)},sinusoidalInOut:function(n){return.5*(1-Math.cos(Math.PI*n))},exponentialIn:function(n){return 0===n?0:Math.pow(1024,n-1)},exponentialOut:function(n){return 1===n?1:1-Math.pow(2,-10*n)},exponentialInOut:function(n){return 0===n?0:1===n?1:(n*=2)<1?.5*Math.pow(1024,n-1):.5*(2-Math.pow(2,-10*(n-1)))},circularIn:function(n){return 1-Math.sqrt(1-n*n)},circularOut:function(n){return Math.sqrt(1- --n*n)},circularInOut:function(n){return(n*=2)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1)},elasticIn:function(n){var t,e=.1;return 0===n?0:1===n?1:(!e||e<1?(e=1,t=.1):t=.4*Math.asin(1/e)/(2*Math.PI),-e*Math.pow(2,10*(n-=1))*Math.sin((n-t)*(2*Math.PI)/.4))},elasticOut:function(n){var t,e=.1;return 0===n?0:1===n?1:(!e||e<1?(e=1,t=.1):t=.4*Math.asin(1/e)/(2*Math.PI),e*Math.pow(2,-10*n)*Math.sin((n-t)*(2*Math.PI)/.4)+1)},elasticInOut:function(n){var t,e=.1;return 0===n?0:1===n?1:(!e||e<1?(e=1,t=.1):t=.4*Math.asin(1/e)/(2*Math.PI),(n*=2)<1?e*Math.pow(2,10*(n-=1))*Math.sin((n-t)*(2*Math.PI)/.4)*-.5:e*Math.pow(2,-10*(n-=1))*Math.sin((n-t)*(2*Math.PI)/.4)*.5+1)},backIn:function(n){var t=1.70158;return n*n*((t+1)*n-t)},backOut:function(n){var t=1.70158;return--n*n*((t+1)*n+t)+1},backInOut:function(n){var t=2.5949095;return(n*=2)<1?n*n*((t+1)*n-t)*.5:.5*((n-=2)*n*((t+1)*n+t)+2)},bounceIn:function(n){return 1-gs.bounceOut(1-n)},bounceOut:function(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},bounceInOut:function(n){return n<.5?.5*gs.bounceIn(2*n):.5*gs.bounceOut(2*n-1)+.5}},qs=function(){function n(t){this._initialized=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=t.life||1e3,this._delay=t.delay||0,this.loop=null!=t.loop&&t.loop,this.gap=t.gap||0,this.easing=t.easing||"linear",this.onframe=t.onframe,this.ondestroy=t.ondestroy,this.onrestart=t.onrestart}return n.prototype.step=function(t,e){if(this._initialized||(this._startTime=t+this._delay,this._initialized=!0),!this._paused){var i=(t-this._startTime-this._pausedTime)/this._life;i<0&&(i=0),i=Math.min(i,1);var r=this.easing,o="string"==typeof r?gs[r]:r,a="function"==typeof o?o(i):i;if(this.onframe&&this.onframe(a),1===i){if(!this.loop)return!0;this._restart(t),this.onrestart&&this.onrestart()}return!1}this._pausedTime+=e},n.prototype._restart=function(t){this._startTime=t-(t-this._startTime-this._pausedTime)%this._life+this.gap,this._pausedTime=0},n.prototype.pause=function(){this._paused=!0},n.prototype.resume=function(){this._paused=!1},n}(),wl=function(n){this.value=n},Go=function(){function n(){this._len=0}return n.prototype.insert=function(t){var e=new wl(t);return this.insertEntry(e),e},n.prototype.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},n.prototype.remove=function(t){var e=t.prev,i=t.next;e?e.next=i:this.head=i,i?i.prev=e:this.tail=e,t.next=t.prev=null,this._len--},n.prototype.len=function(){return this._len},n.prototype.clear=function(){this.head=this.tail=null,this._len=0},n}(),xa=function(){function n(t){this._list=new Go,this._maxSize=10,this._map={},this._maxSize=t}return n.prototype.put=function(t,e){var i=this._list,r=this._map,o=null;if(null==r[t]){var a=i.len(),s=this._lastRemovedEntry;if(a>=this._maxSize&&a>0){var l=i.head;i.remove(l),delete r[l.key],o=l.value,this._lastRemovedEntry=l}s?s.value=e:s=new wl(e),s.key=t,i.insertEntry(s),r[t]=s}return o},n.prototype.get=function(t){var e=this._map[t],i=this._list;if(null!=e)return e!==i.tail&&(i.remove(e),i.insertEntry(e)),e.value},n.prototype.clear=function(){this._list.clear(),this._map={}},n.prototype.len=function(){return this._list.len()},n}(),Jl={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Vr(n){return(n=Math.round(n))<0?0:n>255?255:n}function Wo(n){return n<0?0:n>1?1:n}function Ks(n){var t=n;return t.length&&"%"===t.charAt(t.length-1)?Vr(parseFloat(t)/100*255):Vr(parseInt(t,10))}function Yo(n){var t=n;return t.length&&"%"===t.charAt(t.length-1)?Wo(parseFloat(t)/100):Wo(parseFloat(t))}function vs(n,t,e){return e<0?e+=1:e>1&&(e-=1),6*e<1?n+(t-n)*e*6:2*e<1?t:3*e<2?n+(t-n)*(2/3-e)*6:n}function Ro(n,t,e){return n+(t-n)*e}function xr(n,t,e,i,r){return n[0]=t,n[1]=e,n[2]=i,n[3]=r,n}function Ua(n,t){return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n}var Zs=new xa(20),ms=null;function no(n,t){ms&&Ua(ms,t),ms=Zs.put(n,ms||t.slice())}function ji(n,t){if(n){t=t||[];var e=Zs.get(n);if(e)return Ua(t,e);var i=(n+="").replace(/ /g,"").toLowerCase();if(i in Jl)return Ua(t,Jl[i]),no(n,t),t;var r,o=i.length;if("#"===i.charAt(0))return 4===o||5===o?(r=parseInt(i.slice(1,4),16))>=0&&r<=4095?(xr(t,(3840&r)>>4|(3840&r)>>8,240&r|(240&r)>>4,15&r|(15&r)<<4,5===o?parseInt(i.slice(4),16)/15:1),no(n,t),t):void xr(t,0,0,0,1):7===o||9===o?(r=parseInt(i.slice(1,7),16))>=0&&r<=16777215?(xr(t,(16711680&r)>>16,(65280&r)>>8,255&r,9===o?parseInt(i.slice(7),16)/255:1),no(n,t),t):void xr(t,0,0,0,1):void 0;var a=i.indexOf("("),s=i.indexOf(")");if(-1!==a&&s+1===o){var l=i.substr(0,a),u=i.substr(a+1,s-(a+1)).split(","),h=1;switch(l){case"rgba":if(4!==u.length)return 3===u.length?xr(t,+u[0],+u[1],+u[2],1):xr(t,0,0,0,1);h=Yo(u.pop());case"rgb":return 3!==u.length?void xr(t,0,0,0,1):(xr(t,Ks(u[0]),Ks(u[1]),Ks(u[2]),h),no(n,t),t);case"hsla":return 4!==u.length?void xr(t,0,0,0,1):(u[3]=Yo(u[3]),ba(u,t),no(n,t),t);case"hsl":return 3!==u.length?void xr(t,0,0,0,1):(ba(u,t),no(n,t),t);default:return}}xr(t,0,0,0,1)}}function ba(n,t){var e=(parseFloat(n[0])%360+360)%360/360,i=Yo(n[1]),r=Yo(n[2]),o=r<=.5?r*(i+1):r+i-r*i,a=2*r-o;return xr(t=t||[],Vr(255*vs(a,o,e+1/3)),Vr(255*vs(a,o,e)),Vr(255*vs(a,o,e-1/3)),1),4===n.length&&(t[3]=n[3]),t}function Sa(n,t){var e=ji(n);if(e){for(var i=0;i<3;i++)e[i]=t<0?e[i]*(1-t)|0:(255-e[i])*t+e[i]|0,e[i]>255?e[i]=255:e[i]<0&&(e[i]=0);return B(e,4===e.length?"rgba":"rgb")}}function Js(n){var t=ji(n);if(t)return((1<<24)+(t[0]<<16)+(t[1]<<8)+ +t[2]).toString(16).slice(1)}function wa(n,t,e){if(t&&t.length&&n>=0&&n<=1){e=e||[];var i=n*(t.length-1),r=Math.floor(i),o=Math.ceil(i),a=t[r],s=t[o],l=i-r;return e[0]=Vr(Ro(a[0],s[0],l)),e[1]=Vr(Ro(a[1],s[1],l)),e[2]=Vr(Ro(a[2],s[2],l)),e[3]=Wo(Ro(a[3],s[3],l)),e}}function T(n,t,e){if(t&&t.length&&n>=0&&n<=1){var i=n*(t.length-1),r=Math.floor(i),o=Math.ceil(i),a=ji(t[r]),s=ji(t[o]),l=i-r,u=B([Vr(Ro(a[0],s[0],l)),Vr(Ro(a[1],s[1],l)),Vr(Ro(a[2],s[2],l)),Wo(Ro(a[3],s[3],l))],"rgba");return e?{color:u,leftIndex:r,rightIndex:o,value:i}:u}}function N(n,t,e,i){var o,r=ji(n);if(n)return r=function(o){if(o){var a,s,l=o[0]/255,u=o[1]/255,h=o[2]/255,f=Math.min(l,u,h),p=Math.max(l,u,h),g=p-f,v=(p+f)/2;if(0===g)a=0,s=0;else{s=v<.5?g/(p+f):g/(2-p-f);var m=((p-l)/6+g/2)/g,y=((p-u)/6+g/2)/g,b=((p-h)/6+g/2)/g;l===p?a=b-y:u===p?a=1/3+m-b:h===p&&(a=2/3+y-m),a<0&&(a+=1),a>1&&(a-=1)}var S=[360*a,s,v];return null!=o[3]&&S.push(o[3]),S}}(r),null!=t&&(r[0]=(o=t,(o=Math.round(o))<0?0:o>360?360:o)),null!=e&&(r[1]=Yo(e)),null!=i&&(r[2]=Yo(i)),B(ba(r),"rgba")}function M(n,t){var e=ji(n);if(e&&null!=t)return e[3]=Wo(t),B(e,"rgba")}function B(n,t){if(n&&n.length){var e=n[0]+","+n[1]+","+n[2];return"rgba"!==t&&"hsva"!==t&&"hsla"!==t||(e+=","+n[3]),t+"("+e+")"}}function V(n,t){var e=ji(n);return e?(.299*e[0]+.587*e[1]+.114*e[2])*e[3]/255+(1-e[3])*t:0}var j=Object.freeze({__proto__:null,parse:ji,lift:Sa,toHex:Js,fastLerp:wa,fastMapToColor:wa,lerp:T,mapToColor:T,modifyHSL:N,modifyAlpha:M,stringify:B,lum:V,random:function(){return"rgb("+Math.round(255*Math.random())+","+Math.round(255*Math.random())+","+Math.round(255*Math.random())+")"}}),te=Array.prototype.slice;function fe(n,t,e){return(t-n)*e+n}function xe(n,t,e,i){for(var r=t.length,o=0;o<r;o++)n[o]=fe(t[o],e[o],i)}function Ze(n,t,e,i){for(var r=t.length,o=0;o<r;o++)n[o]=t[o]+e[o]*i;return n}function bt(n,t,e,i){for(var r=t.length,o=r&&t[0].length,a=0;a<r;a++){n[a]||(n[a]=[]);for(var s=0;s<o;s++)n[a][s]=t[a][s]+e[a][s]*i}return n}function at(n,t,e){var i=n,r=t;if(i.push&&r.push){var o=i.length,a=r.length;if(o!==a)if(o>a)i.length=a;else for(var s=o;s<a;s++)i.push(1===e?r[s]:te.call(r[s]));var l=i[0]&&i[0].length;for(s=0;s<i.length;s++)if(1===e)isNaN(i[s])&&(i[s]=r[s]);else for(var u=0;u<l;u++)isNaN(i[s][u])&&(i[s][u]=r[s][u])}}function ht(n,t){var e=n.length;if(e!==t.length)return!1;for(var i=0;i<e;i++)if(n[i]!==t[i])return!1;return!0}function nn(n,t,e,i,r,o,a){var s=.5*(e-n),l=.5*(i-t);return(2*(t-e)+s+l)*a+(-3*(t-e)-2*s-l)*o+s*r+t}function fn(n,t,e,i,r,o,a,s){for(var l=t.length,u=0;u<l;u++)n[u]=nn(t[u],e[u],i[u],r[u],o,a,s)}function an(n){if(gt(n)){var t=n.length;if(gt(n[0])){for(var e=[],i=0;i<t;i++)e.push(te.call(n[i]));return e}return te.call(n)}return n}function wi(n){return n[0]=Math.floor(n[0]),n[1]=Math.floor(n[1]),n[2]=Math.floor(n[2]),"rgba("+n.join(",")+")"}var $i,co,li=[0,0,0,0],Dn=function(){function n(t){this.keyframes=[],this.maxTime=0,this.arrDim=0,this.interpolable=!0,this._needsSort=!1,this._isAllValueEqual=!0,this._lastFrame=0,this._lastFramePercent=0,this.propName=t}return n.prototype.isFinished=function(){return this._finished},n.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},n.prototype.needsAnimate=function(){return!this._isAllValueEqual&&this.keyframes.length>=2&&this.interpolable&&this.maxTime>0},n.prototype.getAdditiveTrack=function(){return this._additiveTrack},n.prototype.addKeyframe=function(t,e){t>=this.maxTime?this.maxTime=t:this._needsSort=!0;var u,i=this.keyframes,r=i.length;if(this.interpolable)if(gt(e)){var o=gt((u=e)&&u[0])?2:1;if(r>0&&this.arrDim!==o)return void(this.interpolable=!1);if(1===o&&"number"!=typeof e[0]||2===o&&"number"!=typeof e[0][0])return void(this.interpolable=!1);if(r>0){var a=i[r-1];this._isAllValueEqual&&(1===o&&ht(e,a.value)||(this._isAllValueEqual=!1))}this.arrDim=o}else{if(this.arrDim>0)return void(this.interpolable=!1);if("string"==typeof e){var s=ji(e);s?(e=s,this.isValueColor=!0):this.interpolable=!1}else if("number"!=typeof e||isNaN(e))return void(this.interpolable=!1);this._isAllValueEqual&&r>0&&(a=i[r-1],(this.isValueColor&&!ht(a.value,e)||a.value!==e)&&(this._isAllValueEqual=!1))}var l={time:t,value:e,percent:0};return this.keyframes.push(l),l},n.prototype.prepare=function(t){var e=this.keyframes;this._needsSort&&e.sort(function(l,u){return l.time-u.time});for(var i=this.arrDim,r=e.length,o=e[r-1],a=0;a<r;a++)e[a].percent=e[a].time/this.maxTime,i>0&&a!==r-1&&at(e[a].value,o.value,i);if(t&&this.needsAnimate()&&t.needsAnimate()&&i===t.arrDim&&this.isValueColor===t.isValueColor&&!t._finished){this._additiveTrack=t;var s=e[0].value;for(a=0;a<r;a++)0===i?e[a].additiveValue=this.isValueColor?Ze([],e[a].value,s,-1):e[a].value-s:1===i?e[a].additiveValue=Ze([],e[a].value,s,-1):2===i&&(e[a].additiveValue=bt([],e[a].value,s,-1))}},n.prototype.step=function(t,e){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var i,r=null!=this._additiveTrack,o=r?"additiveValue":"value",a=this.keyframes,s=this.keyframes.length,l=this.propName,u=this.arrDim,h=this.isValueColor;if(e<0)i=0;else if(e<this._lastFramePercent){for(i=Math.min(this._lastFrame+1,s-1);i>=0&&!(a[i].percent<=e);i--);i=Math.min(i,s-2)}else{for(i=this._lastFrame;i<s&&!(a[i].percent>e);i++);i=Math.min(i-1,s-2)}var f=a[i+1],p=a[i];if(p&&f){this._lastFrame=i,this._lastFramePercent=e;var g=f.percent-p.percent;if(0!==g){var v=(e-p.percent)/g,m=r?this._additiveValue:h?li:t[l];if((u>0||h)&&!m&&(m=this._additiveValue=[]),this.useSpline){var y=a[i][o],b=a[0===i?i:i-1][o],S=a[i>s-2?s-1:i+1][o],E=a[i>s-3?s-1:i+2][o];if(u>0)1===u?fn(m,b,y,S,E,v,v*v,v*v*v):function(A,L,R,k,H,U,G,K){for(var $=L.length,ee=L[0].length,le=0;le<$;le++){A[le]||(A[1]=[]);for(var he=0;he<ee;he++)A[le][he]=nn(L[le][he],R[le][he],k[le][he],H[le][he],U,G,K)}}(m,b,y,S,E,v,v*v,v*v*v);else if(h)fn(m,b,y,S,E,v,v*v,v*v*v),r||(t[l]=wi(m));else{var I=void 0;I=this.interpolable?nn(b,y,S,E,v,v*v,v*v*v):S,r?this._additiveValue=I:t[l]=I}}else u>0?1===u?xe(m,p[o],f[o],v):function(A,L,R,k){for(var H=L.length,U=H&&L[0].length,G=0;G<H;G++){A[G]||(A[G]=[]);for(var K=0;K<U;K++)A[G][K]=fe(L[G][K],R[G][K],k)}}(m,p[o],f[o],v):h?(xe(m,p[o],f[o],v),r||(t[l]=wi(m))):(I=void 0,I=this.interpolable?fe(p[o],f[o],v):v>.5?f[o]:p[o],r?this._additiveValue=I:t[l]=I);r&&this._addToTarget(t)}}}},n.prototype._addToTarget=function(t){var e=this.arrDim,i=this.propName,r=this._additiveValue;0===e?this.isValueColor?(ji(t[i],li),Ze(li,li,r,1),t[i]=wi(li)):t[i]=t[i]+r:1===e?Ze(t[i],t[i],r,1):2===e&&bt(t[i],t[i],r,1)},n}(),Gr=function(){function n(t,e,i){this._tracks={},this._trackKeys=[],this._delay=0,this._maxTime=0,this._paused=!1,this._started=0,this._clip=null,this._target=t,this._loop=e,e&&i?tt("Can' use additive animation on looped animation."):this._additiveAnimators=i}return n.prototype.getTarget=function(){return this._target},n.prototype.changeTarget=function(t){this._target=t},n.prototype.when=function(t,e){return this.whenWithKeys(t,e,Mt(e))},n.prototype.whenWithKeys=function(t,e,i){for(var r=this._tracks,o=0;o<i.length;o++){var a=i[o],s=r[a];if(!s){s=r[a]=new Dn(a);var l=void 0,u=this._getAdditiveTrack(a);if(u){var h=u.keyframes[u.keyframes.length-1];l=h&&h.value,u.isValueColor&&l&&(l=wi(l))}else l=this._target[a];if(null==l)continue;0!==t&&s.addKeyframe(0,an(l)),this._trackKeys.push(a)}s.addKeyframe(t,an(e[a]))}return this._maxTime=Math.max(this._maxTime,t),this},n.prototype.pause=function(){this._clip.pause(),this._paused=!0},n.prototype.resume=function(){this._clip.resume(),this._paused=!1},n.prototype.isPaused=function(){return!!this._paused},n.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var t=this._doneCbs;if(t)for(var e=t.length,i=0;i<e;i++)t[i].call(this)},n.prototype._abortedCallback=function(){this._setTracksFinished();var t=this.animation,e=this._abortedCbs;if(t&&t.removeClip(this._clip),this._clip=null,e)for(var i=0;i<e.length;i++)e[i].call(this)},n.prototype._setTracksFinished=function(){for(var t=this._tracks,e=this._trackKeys,i=0;i<e.length;i++)t[e[i]].setFinished()},n.prototype._getAdditiveTrack=function(t){var e,i=this._additiveAnimators;if(i)for(var r=0;r<i.length;r++){var o=i[r].getTrack(t);o&&(e=o)}return e},n.prototype.start=function(t,e){if(!(this._started>0)){this._started=1;for(var i=this,r=[],o=0;o<this._trackKeys.length;o++){var a=this._trackKeys[o],s=this._tracks[a],l=this._getAdditiveTrack(a),u=s.keyframes;if(s.prepare(l),s.needsAnimate())r.push(s);else if(!s.interpolable){var h=u[u.length-1];h&&(i._target[s.propName]=h.value)}}if(r.length||e){var f=new qs({life:this._maxTime,loop:this._loop,delay:this._delay,onframe:function(p){i._started=2;var g=i._additiveAnimators;if(g){for(var v=!1,m=0;m<g.length;m++)if(g[m]._clip){v=!0;break}v||(i._additiveAnimators=null)}for(m=0;m<r.length;m++)r[m].step(i._target,p);var y=i._onframeCbs;if(y)for(m=0;m<y.length;m++)y[m](i._target,p)},ondestroy:function(){i._doneCallback()}});this._clip=f,this.animation&&this.animation.addClip(f),t&&"spline"!==t&&(f.easing=t)}else this._doneCallback();return this}},n.prototype.stop=function(t){this._clip&&(t&&this._clip.onframe(1),this._abortedCallback())},n.prototype.delay=function(t){return this._delay=t,this},n.prototype.during=function(t){return t&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(t)),this},n.prototype.done=function(t){return t&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(t)),this},n.prototype.aborted=function(t){return t&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(t)),this},n.prototype.getClip=function(){return this._clip},n.prototype.getTrack=function(t){return this._tracks[t]},n.prototype.stopTracks=function(t,e){if(!t.length||!this._clip)return!0;for(var i=this._tracks,r=this._trackKeys,o=0;o<t.length;o++){var a=i[t[o]];a&&(e?a.step(this._target,1):1===this._started&&a.step(this._target,0),a.setFinished())}var s=!0;for(o=0;o<r.length;o++)if(!i[r[o]].isFinished()){s=!1;break}return s&&this._abortedCallback(),s},n.prototype.saveFinalToTarget=function(t,e){if(t){e=e||this._trackKeys;for(var i=0;i<e.length;i++){var r=e[i],o=this._tracks[r];if(o&&!o.isFinished()){var a=o.keyframes,s=a[a.length-1];if(s){var l=an(s.value);o.isValueColor&&(l=wi(l)),t[r]=l}}}}},n.prototype.__changeFinalValue=function(t,e){e=e||Mt(t);for(var i=0;i<e.length;i++){var r=e[i],o=this._tracks[r];if(o){var a=o.keyframes;if(a.length>1){var s=a.pop();o.addKeyframe(s.time,t[r]),o.prepare(o.getAdditiveTrack())}}}},n}(),Zn=function(n){function t(e){var i=n.call(this)||this;return i._running=!1,i._time=0,i._pausedTime=0,i._pauseStart=0,i._paused=!1,i.stage=(e=e||{}).stage||{},i.onframe=e.onframe||function(){},i}return ue(t,n),t.prototype.addClip=function(e){e.animation&&this.removeClip(e),this._clipsHead?(this._clipsTail.next=e,e.prev=this._clipsTail,e.next=null,this._clipsTail=e):this._clipsHead=this._clipsTail=e,e.animation=this},t.prototype.addAnimator=function(e){e.animation=this;var i=e.getClip();i&&this.addClip(i)},t.prototype.removeClip=function(e){if(e.animation){var i=e.prev,r=e.next;i?i.next=r:this._clipsHead=r,r?r.prev=i:this._clipsTail=i,e.next=e.prev=e.animation=null}},t.prototype.removeAnimator=function(e){var i=e.getClip();i&&this.removeClip(i),e.animation=null},t.prototype.update=function(e){for(var i=(new Date).getTime()-this._pausedTime,r=i-this._time,o=this._clipsHead;o;){var a=o.next;o.step(i,r)&&(o.ondestroy&&o.ondestroy(),this.removeClip(o)),o=a}this._time=i,e||(this.onframe(r),this.trigger("frame",r),this.stage.update&&this.stage.update())},t.prototype._startLoop=function(){var e=this;this._running=!0,js(function i(){e._running&&(js(i),!e._paused&&e.update())})},t.prototype.start=function(){this._running||(this._time=(new Date).getTime(),this._pausedTime=0,this._startLoop())},t.prototype.stop=function(){this._running=!1},t.prototype.pause=function(){this._paused||(this._pauseStart=(new Date).getTime(),this._paused=!0)},t.prototype.resume=function(){this._paused&&(this._pausedTime+=(new Date).getTime()-this._pauseStart,this._paused=!1)},t.prototype.clear=function(){for(var e=this._clipsHead;e;){var i=e.next;e.prev=e.next=e.animation=null,e=i}this._clipsHead=this._clipsTail=null},t.prototype.isFinished=function(){return null==this._clipsHead},t.prototype.animate=function(e,i){i=i||{},this.start();var r=new Gr(e,i.loop);return this.addAnimator(r),r},t}(Tn),Li=ve.domSupported,za=(co={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},{mouse:$i=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],touch:["touchstart","touchend","touchmove"],pointer:Ve($i,function(n){var t=n.replace("mouse","pointer");return co.hasOwnProperty(t)?t:n})}),_s=["mousemove","mouseup"],br=["pointermove","pointerup"],Va=!1;function Ga(n){var t=n.pointerType;return"pen"===t||"touch"===t}function Wr(n){n&&(n.zrByTouch=!0)}function Xo(n,t){for(var e=t,i=!1;e&&9!==e.nodeType&&!(i=e.domBelongToZr||e!==t&&e===n.painterRoot);)e=e.parentNode;return i}var hi=function(n,t){this.stopPropagation=Vn,this.stopImmediatePropagation=Vn,this.preventDefault=Vn,this.type=t.type,this.target=this.currentTarget=n.dom,this.pointerType=t.pointerType,this.clientX=t.clientX,this.clientY=t.clientY},ri={mousedown:function(n){n=An(this.dom,n),this.__mayPointerCapture=[n.zrX,n.zrY],this.trigger("mousedown",n)},mousemove:function(n){n=An(this.dom,n);var t=this.__mayPointerCapture;!t||n.zrX===t[0]&&n.zrY===t[1]||this.__togglePointerCapture(!0),this.trigger("mousemove",n)},mouseup:function(n){n=An(this.dom,n),this.__togglePointerCapture(!1),this.trigger("mouseup",n)},mouseout:function(n){Xo(this,(n=An(this.dom,n)).toElement||n.relatedTarget)||(this.__pointerCapturing&&(n.zrEventControl="no_globalout"),this.trigger("mouseout",n))},wheel:function(n){Va=!0,n=An(this.dom,n),this.trigger("mousewheel",n)},mousewheel:function(n){Va||(n=An(this.dom,n),this.trigger("mousewheel",n))},touchstart:function(n){Wr(n=An(this.dom,n)),this.__lastTouchMoment=new Date,this.handler.processGesture(n,"start"),ri.mousemove.call(this,n),ri.mousedown.call(this,n)},touchmove:function(n){Wr(n=An(this.dom,n)),this.handler.processGesture(n,"change"),ri.mousemove.call(this,n)},touchend:function(n){Wr(n=An(this.dom,n)),this.handler.processGesture(n,"end"),ri.mouseup.call(this,n),+new Date-+this.__lastTouchMoment<300&&ri.click.call(this,n)},pointerdown:function(n){ri.mousedown.call(this,n)},pointermove:function(n){Ga(n)||ri.mousemove.call(this,n)},pointerup:function(n){ri.mouseup.call(this,n)},pointerout:function(n){Ga(n)||ri.mouseout.call(this,n)}};Y(["click","dblclick","contextmenu"],function(n){ri[n]=function(t){t=An(this.dom,t),this.trigger(n,t)}});var Yr={pointermove:function(n){Ga(n)||Yr.mousemove.call(this,n)},pointerup:function(n){Yr.mouseup.call(this,n)},mousemove:function(n){this.trigger("mousemove",n)},mouseup:function(n){var t=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",n),t&&(n.zrEventControl="only_globalout",this.trigger("mouseout",n))}};function In(n,t,e,i){n.mounted[t]=e,n.listenerOpts[t]=i,Ur(n.domTarget,t,e,i)}function oi(n){var t,e,i,o=n.mounted;for(var a in o)o.hasOwnProperty(a)&&(t=n.domTarget,e=a,i=o[a],lo?t.removeEventListener(e,i,n.listenerOpts[a]):t.detachEvent("on"+e,i));n.mounted={}}var qi=function(n,t){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=n,this.domHandlers=t},ho=function(n){function t(e,i){var r=n.call(this)||this;return r.__pointerCapturing=!1,r.dom=e,r.painterRoot=i,r._localHandlerScope=new qi(e,ri),Li&&(r._globalHandlerScope=new qi(document,Yr)),function Lr(n,t){var e=t.domHandlers;ve.pointerEventsSupported?Y(za.pointer,function(i){In(t,i,function(r){e[i].call(n,r)})}):(ve.touchEventsSupported&&Y(za.touch,function(i){In(t,i,function(r){var o;e[i].call(n,r),(o=t).touching=!0,null!=o.touchTimer&&(clearTimeout(o.touchTimer),o.touchTimer=null),o.touchTimer=setTimeout(function(){o.touching=!1,o.touchTimer=null},700)})}),Y(za.mouse,function(i){In(t,i,function(r){r=ur(r),t.touching||e[i].call(n,r)})}))}(r,r._localHandlerScope),r}return ue(t,n),t.prototype.dispose=function(){oi(this._localHandlerScope),Li&&oi(this._globalHandlerScope)},t.prototype.setCursor=function(e){this.dom.style&&(this.dom.style.cursor=e||"default")},t.prototype.__togglePointerCapture=function(e){if(this.__mayPointerCapture=null,Li&&+this.__pointerCapturing^+e){this.__pointerCapturing=e;var i=this._globalHandlerScope;e?function ua(n,t){function e(i){In(t,i,function(r){var o;r=ur(r),Xo(n,r.target)||(r=An((o=n).dom,new hi(o,r),!0),t.domHandlers[i].call(n,r))},{capture:!0})}ve.pointerEventsSupported?Y(br,e):ve.touchEventsSupported||Y(_s,e)}(this,i):oi(i)}},t}(Tn),er=1;typeof window<"u"&&(er=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var Xr=er,Ta="#333",xs="#ccc";function Ea(n){return n[0]=1,n[1]=0,n[2]=0,n[3]=1,n[4]=0,n[5]=0,n}function Oo(n,t){return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n}function jr(n,t,e){var r=t[1]*e[0]+t[3]*e[1],o=t[0]*e[2]+t[2]*e[3],a=t[1]*e[2]+t[3]*e[3],s=t[0]*e[4]+t[2]*e[5]+t[4],l=t[1]*e[4]+t[3]*e[5]+t[5];return n[0]=t[0]*e[0]+t[2]*e[1],n[1]=r,n[2]=o,n[3]=a,n[4]=s,n[5]=l,n}function bo(n,t,e){return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4]+e[0],n[5]=t[5]+e[1],n}function Ca(n,t,e){var i=t[0],r=t[2],o=t[4],a=t[1],s=t[3],l=t[5],u=Math.sin(e),h=Math.cos(e);return n[0]=i*h+a*u,n[1]=-i*u+a*h,n[2]=r*h+s*u,n[3]=-r*u+h*s,n[4]=h*o+u*l,n[5]=h*l-u*o,n}function So(n,t,e){var i=e[0],r=e[1];return n[0]=t[0]*i,n[1]=t[1]*r,n[2]=t[2]*i,n[3]=t[3]*r,n[4]=t[4]*i,n[5]=t[5]*r,n}function Dr(n,t){var e=t[0],i=t[2],r=t[4],o=t[1],a=t[3],s=t[5],l=e*a-o*i;return l?(n[0]=a*(l=1/l),n[1]=-o*l,n[2]=-i*l,n[3]=e*l,n[4]=(i*s-a*r)*l,n[5]=(o*r-e*s)*l,n):null}function Ql(n){var t=[1,0,0,1,0,0];return Oo(t,n),t}var Xu=Object.freeze({__proto__:null,create:function nf(){return[1,0,0,1,0,0]},identity:Ea,copy:Oo,mul:jr,translate:bo,rotate:Ca,scale:So,invert:Dr,clone:Ql}),jo=Ea;function bs(n){return n>5e-5||n<-5e-5}var Ss,Wa,qr=[],ai=[],ws=[1,0,0,1,0,0],wo=Math.abs,gr=function(){function n(){}return n.prototype.getLocalTransform=function(t){return n.getLocalTransform(this,t)},n.prototype.setPosition=function(t){this.x=t[0],this.y=t[1]},n.prototype.setScale=function(t){this.scaleX=t[0],this.scaleY=t[1]},n.prototype.setSkew=function(t){this.skewX=t[0],this.skewY=t[1]},n.prototype.setOrigin=function(t){this.originX=t[0],this.originY=t[1]},n.prototype.needLocalTransform=function(){return bs(this.rotation)||bs(this.x)||bs(this.y)||bs(this.scaleX-1)||bs(this.scaleY-1)},n.prototype.updateTransform=function(){var t=this.parent&&this.parent.transform,e=this.needLocalTransform(),i=this.transform;e||t?(i=i||[1,0,0,1,0,0],e?this.getLocalTransform(i):jo(i),t&&(e?jr(i,t,i):Oo(i,t)),this.transform=i,this._resolveGlobalScaleRatio(i)):i&&jo(i)},n.prototype._resolveGlobalScaleRatio=function(t){var e=this.globalScaleRatio;if(null!=e&&1!==e){this.getGlobalScale(qr);var i=qr[0]<0?-1:1,r=qr[1]<0?-1:1,o=((qr[0]-i)*e+i)/qr[0]||0,a=((qr[1]-r)*e+r)/qr[1]||0;t[0]*=o,t[1]*=o,t[2]*=a,t[3]*=a}this.invTransform=this.invTransform||[1,0,0,1,0,0],Dr(this.invTransform,t)},n.prototype.getComputedTransform=function(){for(var t=this,e=[];t;)e.push(t),t=t.parent;for(;t=e.pop();)t.updateTransform();return this.transform},n.prototype.setLocalTransform=function(t){if(t){var e=t[0]*t[0]+t[1]*t[1],i=t[2]*t[2]+t[3]*t[3],r=Math.atan2(t[1],t[0]),o=Math.PI/2+r-Math.atan2(t[3],t[2]);i=Math.sqrt(i)*Math.cos(o),e=Math.sqrt(e),this.skewX=o,this.skewY=0,this.rotation=-r,this.x=+t[4],this.y=+t[5],this.scaleX=e,this.scaleY=i,this.originX=0,this.originY=0}},n.prototype.decomposeTransform=function(){if(this.transform){var t=this.parent,e=this.transform;t&&t.transform&&(jr(ai,t.invTransform,e),e=ai);var i=this.originX,r=this.originY;(i||r)&&(ws[4]=i,ws[5]=r,jr(ai,e,ws),ai[4]-=i,ai[5]-=r,e=ai),this.setLocalTransform(e)}},n.prototype.getGlobalScale=function(t){var e=this.transform;return t=t||[],e?(t[0]=Math.sqrt(e[0]*e[0]+e[1]*e[1]),t[1]=Math.sqrt(e[2]*e[2]+e[3]*e[3]),e[0]<0&&(t[0]=-t[0]),e[3]<0&&(t[1]=-t[1]),t):(t[0]=1,t[1]=1,t)},n.prototype.transformCoordToLocal=function(t,e){var i=[t,e],r=this.invTransform;return r&&pt(i,i,r),i},n.prototype.transformCoordToGlobal=function(t,e){var i=[t,e],r=this.transform;return r&&pt(i,i,r),i},n.prototype.getLineScale=function(){var t=this.transform;return t&&wo(t[0]-1)>1e-10&&wo(t[3]-1)>1e-10?Math.sqrt(wo(t[0]*t[3]-t[2]*t[1])):1},n.prototype.copyTransform=function(t){for(var e=0;e<$l.length;e++){var i=$l[e];this[i]=t[i]}},n.getLocalTransform=function(t,e){e=e||[];var i=t.originX||0,r=t.originY||0,o=t.scaleX,a=t.scaleY,s=t.rotation||0,l=t.x,u=t.y,h=t.skewX?Math.tan(t.skewX):0,f=t.skewY?Math.tan(-t.skewY):0;return i||r?(e[4]=-i*o-h*r*a,e[5]=-r*a-f*i*o):e[4]=e[5]=0,e[0]=o,e[3]=a,e[1]=f*o,e[2]=h*a,s&&Ca(e,e,s),e[4]+=i+l,e[5]+=r+u,e},n.initDefaultProps=((t=n.prototype).x=0,t.y=0,t.scaleX=1,t.scaleY=1,t.originX=0,t.originY=0,t.skewX=0,t.skewY=0,t.rotation=0,void(t.globalScaleRatio=1)),n;var t}(),$l=["x","y","originX","originY","rotation","scaleX","scaleY","skewX","skewY"],gn=function(){function n(t,e){this.x=t||0,this.y=e||0}return n.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this},n.prototype.clone=function(){return new n(this.x,this.y)},n.prototype.set=function(t,e){return this.x=t,this.y=e,this},n.prototype.equal=function(t){return t.x===this.x&&t.y===this.y},n.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},n.prototype.scale=function(t){this.x*=t,this.y*=t},n.prototype.scaleAndAdd=function(t,e){this.x+=t.x*e,this.y+=t.y*e},n.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this},n.prototype.dot=function(t){return this.x*t.x+this.y*t.y},n.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},n.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},n.prototype.normalize=function(){var t=this.len();return this.x/=t,this.y/=t,this},n.prototype.distance=function(t){var e=this.x-t.x,i=this.y-t.y;return Math.sqrt(e*e+i*i)},n.prototype.distanceSquare=function(t){var e=this.x-t.x,i=this.y-t.y;return e*e+i*i},n.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},n.prototype.transform=function(t){if(t){var e=this.x,i=this.y;return this.x=t[0]*e+t[2]*i+t[4],this.y=t[1]*e+t[3]*i+t[5],this}},n.prototype.toArray=function(t){return t[0]=this.x,t[1]=this.y,t},n.prototype.fromArray=function(t){this.x=t[0],this.y=t[1]},n.set=function(t,e,i){t.x=e,t.y=i},n.copy=function(t,e){t.x=e.x,t.y=e.y},n.len=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},n.lenSquare=function(t){return t.x*t.x+t.y*t.y},n.dot=function(t,e){return t.x*e.x+t.y*e.y},n.add=function(t,e,i){t.x=e.x+i.x,t.y=e.y+i.y},n.sub=function(t,e,i){t.x=e.x-i.x,t.y=e.y-i.y},n.scale=function(t,e,i){t.x=e.x*i,t.y=e.y*i},n.scaleAndAdd=function(t,e,i,r){t.x=e.x+i.x*r,t.y=e.y+i.y*r},n.lerp=function(t,e,i,r){var o=1-r;t.x=o*e.x+r*i.x,t.y=o*e.y+r*i.y},n}(),Tl=Math.min,Ya=Math.max,Aa=new gn,fo=new gn,qo=new gn,Ko=new gn,Ma=new gn,Zo=new gn,cn=function(){function n(t,e,i,r){i<0&&(t+=i,i=-i),r<0&&(e+=r,r=-r),this.x=t,this.y=e,this.width=i,this.height=r}return n.prototype.union=function(t){var e=Tl(t.x,this.x),i=Tl(t.y,this.y);this.width=isFinite(this.x)&&isFinite(this.width)?Ya(t.x+t.width,this.x+this.width)-e:t.width,this.height=isFinite(this.y)&&isFinite(this.height)?Ya(t.y+t.height,this.y+this.height)-i:t.height,this.x=e,this.y=i},n.prototype.applyTransform=function(t){n.applyTransform(this,this,t)},n.prototype.calculateTransform=function(t){var e=this,i=t.width/e.width,r=t.height/e.height,o=[1,0,0,1,0,0];return bo(o,o,[-e.x,-e.y]),So(o,o,[i,r]),bo(o,o,[t.x,t.y]),o},n.prototype.intersect=function(t,e){if(!t)return!1;t instanceof n||(t=n.create(t));var i=this,r=i.x,o=i.x+i.width,a=i.y,s=i.y+i.height,l=t.x,u=t.x+t.width,h=t.y,f=t.y+t.height,p=!(o<l||u<r||s<h||f<a);if(e){var g=1/0,v=0,m=Math.abs(o-l),y=Math.abs(u-r),b=Math.abs(s-h),S=Math.abs(f-a),E=Math.min(m,y),I=Math.min(b,S);o<l||u<r?E>v&&(v=E,gn.set(Zo,m<y?-m:y,0)):E<g&&(g=E,gn.set(Ma,m<y?m:-y,0)),s<h||f<a?I>v&&(v=I,gn.set(Zo,0,b<S?-b:S)):E<g&&(g=E,gn.set(Ma,0,b<S?b:-S))}return e&&gn.copy(e,p?Ma:Zo),p},n.prototype.contain=function(t,e){var i=this;return t>=i.x&&t<=i.x+i.width&&e>=i.y&&e<=i.y+i.height},n.prototype.clone=function(){return new n(this.x,this.y,this.width,this.height)},n.prototype.copy=function(t){n.copy(this,t)},n.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},n.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},n.prototype.isZero=function(){return 0===this.width||0===this.height},n.create=function(t){return new n(t.x,t.y,t.width,t.height)},n.copy=function(t,e){t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height},n.applyTransform=function(t,e,i){if(i){if(i[1]<1e-5&&i[1]>-1e-5&&i[2]<1e-5&&i[2]>-1e-5){var r=i[0],o=i[3],s=i[5];return t.x=e.x*r+i[4],t.y=e.y*o+s,t.width=e.width*r,t.height=e.height*o,t.width<0&&(t.x+=t.width,t.width=-t.width),void(t.height<0&&(t.y+=t.height,t.height=-t.height))}Aa.x=qo.x=e.x,Aa.y=Ko.y=e.y,fo.x=Ko.x=e.x+e.width,fo.y=qo.y=e.y+e.height,Aa.transform(i),Ko.transform(i),fo.transform(i),qo.transform(i),t.x=Tl(Aa.x,fo.x,qo.x,Ko.x),t.y=Tl(Aa.y,fo.y,qo.y,Ko.y);var l=Ya(Aa.x,fo.x,qo.x,Ko.x),u=Ya(Aa.y,fo.y,qo.y,Ko.y);t.width=l-t.x,t.height=u-t.y}else t!==e&&n.copy(t,e)},n}(),Qs={},Jo="12px sans-serif",El={measureText:function(n,t){return Ss||(Ss=ie().getContext("2d")),Wa!==t&&(Wa=Ss.font=t||Jo),Ss.measureText(n)}};function de(n,t){var e=Qs[t=t||Jo];e||(e=Qs[t]=new xa(500));var i=e.get(n);return null==i&&(i=El.measureText(n,t).width,e.put(n,i)),i}function Ne(n,t,e,i){var r=de(n,t),o=Nt(t),a=_t(0,r,e),s=je(0,o,i);return new cn(a,s,r,o)}function Ue(n,t,e,i){var r=((n||"")+"").split("\n");if(1===r.length)return Ne(r[0],t,e,i);for(var o=new cn(0,0,0,0),a=0;a<r.length;a++){var s=Ne(r[a],t,e,i);0===a?o.copy(s):o.union(s)}return o}function _t(n,t,e){return"right"===e?n-=t:"center"===e&&(n-=t/2),n}function je(n,t,e){return"middle"===e?n-=t/2:"bottom"===e&&(n-=t),n}function Nt(n){return de("\u56fd",n)}function Ct(n,t){return"string"==typeof n?n.lastIndexOf("%")>=0?parseFloat(n)/100*t:parseFloat(n):n}function Ut(n,t,e){var i=t.position||"inside",r=null!=t.distance?t.distance:5,o=e.height,a=e.width,s=o/2,l=e.x,u=e.y,h="left",f="top";if(i instanceof Array)l+=Ct(i[0],e.width),u+=Ct(i[1],e.height),h=null,f=null;else switch(i){case"left":l-=r,u+=s,h="right",f="middle";break;case"right":l+=r+a,u+=s,f="middle";break;case"top":l+=a/2,u-=r,h="center",f="bottom";break;case"bottom":l+=a/2,u+=o+r,h="center";break;case"inside":l+=a/2,u+=s,h="center",f="middle";break;case"insideLeft":l+=r,u+=s,f="middle";break;case"insideRight":l+=a-r,u+=s,h="right",f="middle";break;case"insideTop":l+=a/2,u+=r,h="center";break;case"insideBottom":l+=a/2,u+=o-r,h="center",f="bottom";break;case"insideTopLeft":l+=r,u+=r;break;case"insideTopRight":l+=a-r,u+=r,h="right";break;case"insideBottomLeft":l+=r,u+=o-r,f="bottom";break;case"insideBottomRight":l+=a-r,u+=o-r,h="right",f="bottom"}return(n=n||{}).x=l,n.y=u,n.align=h,n.verticalAlign=f,n}var Zt="__zr_normal__",Cn=["x","y","scaleX","scaleY","originX","originY","rotation","ignore"],wn={x:!0,y:!0,scaleX:!0,scaleY:!0,originX:!0,originY:!0,rotation:!0,ignore:!1},yn={},Gn=new cn(0,0,0,0),fi=function(){function n(t){this.id=P(),this.animators=[],this.currentStates=[],this.states={},this._init(t)}return n.prototype._init=function(t){this.attr(t)},n.prototype.drift=function(t,e,i){switch(this.draggable){case"horizontal":e=0;break;case"vertical":t=0}var r=this.transform;r||(r=this.transform=[1,0,0,1,0,0]),r[4]+=t,r[5]+=e,this.decomposeTransform(),this.markRedraw()},n.prototype.beforeUpdate=function(){},n.prototype.afterUpdate=function(){},n.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},n.prototype.updateInnerText=function(t){var e=this._textContent;if(e&&(!e.ignore||t)){this.textConfig||(this.textConfig={});var i=this.textConfig,r=i.local,o=e.innerTransformable,a=void 0,s=void 0,l=!1;o.parent=r?this:null;var u=!1;if(o.copyTransform(e),null!=i.position){var h=Gn;h.copy(i.layoutRect?i.layoutRect:this.getBoundingRect()),r||h.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(yn,i,h):Ut(yn,i,h),o.x=yn.x,o.y=yn.y,a=yn.align,s=yn.verticalAlign;var f=i.origin;if(f&&null!=i.rotation){var p=void 0,g=void 0;"center"===f?(p=.5*h.width,g=.5*h.height):(p=Ct(f[0],h.width),g=Ct(f[1],h.height)),u=!0,o.originX=-o.x+p+(r?0:h.x),o.originY=-o.y+g+(r?0:h.y)}}null!=i.rotation&&(o.rotation=i.rotation);var v=i.offset;v&&(o.x+=v[0],o.y+=v[1],u||(o.originX=-v[0],o.originY=-v[1]));var m=null==i.inside?"string"==typeof i.position&&i.position.indexOf("inside")>=0:i.inside,y=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),b=void 0,S=void 0,E=void 0;m&&this.canBeInsideText()?(S=i.insideStroke,null!=(b=i.insideFill)&&"auto"!==b||(b=this.getInsideTextFill()),null!=S&&"auto"!==S||(S=this.getInsideTextStroke(b),E=!0)):(S=i.outsideStroke,null!=(b=i.outsideFill)&&"auto"!==b||(b=this.getOutsideFill()),null!=S&&"auto"!==S||(S=this.getOutsideStroke(b),E=!0)),(b=b||"#000")===y.fill&&S===y.stroke&&E===y.autoStroke&&a===y.align&&s===y.verticalAlign||(l=!0,y.fill=b,y.stroke=S,y.autoStroke=E,y.align=a,y.verticalAlign=s,e.setDefaultTextStyle(y)),e.__dirty|=1,l&&e.dirtyStyle(!0)}},n.prototype.canBeInsideText=function(){return!0},n.prototype.getInsideTextFill=function(){return"#fff"},n.prototype.getInsideTextStroke=function(t){return"#000"},n.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?xs:Ta},n.prototype.getOutsideStroke=function(t){var e=this.__zr&&this.__zr.getBackgroundColor(),i="string"==typeof e&&ji(e);i||(i=[255,255,255,1]);for(var r=i[3],o=this.__zr.isDarkMode(),a=0;a<3;a++)i[a]=i[a]*r+(o?0:255)*(1-r);return i[3]=1,B(i,"rgba")},n.prototype.traverse=function(t,e){},n.prototype.attrKV=function(t,e){"textConfig"===t?this.setTextConfig(e):"textContent"===t?this.setTextContent(e):"clipPath"===t?this.setClipPath(e):"extra"===t?(this.extra=this.extra||{},se(this.extra,e)):this[t]=e},n.prototype.hide=function(){this.ignore=!0,this.markRedraw()},n.prototype.show=function(){this.ignore=!1,this.markRedraw()},n.prototype.attr=function(t,e){if("string"==typeof t)this.attrKV(t,e);else if(Bt(t))for(var i=Mt(t),r=0;r<i.length;r++){var o=i[r];this.attrKV(o,t[o])}return this.markRedraw(),this},n.prototype.saveCurrentToNormalState=function(t){this._innerSaveToNormal(t);for(var e=this._normalState,i=0;i<this.animators.length;i++){var r=this.animators[i],o=r.__fromStateTransition;if(!o||o===Zt){var a=r.targetName;r.saveFinalToTarget(a?e[a]:e)}}},n.prototype._innerSaveToNormal=function(t){var e=this._normalState;e||(e=this._normalState={}),t.textConfig&&!e.textConfig&&(e.textConfig=this.textConfig),this._savePrimaryToNormal(t,e,Cn)},n.prototype._savePrimaryToNormal=function(t,e,i){for(var r=0;r<i.length;r++){var o=i[r];null==t[o]||o in e||(e[o]=this[o])}},n.prototype.hasState=function(){return this.currentStates.length>0},n.prototype.getState=function(t){return this.states[t]},n.prototype.ensureState=function(t){var e=this.states;return e[t]||(e[t]={}),e[t]},n.prototype.clearStates=function(t){this.useState(Zt,!1,t)},n.prototype.useState=function(t,e,i,r){var o=t===Zt;if(this.hasState()||!o){var a=this.currentStates,s=this.stateTransition;if(!(pe(a,t)>=0)||!e&&1!==a.length){var l;if(this.stateProxy&&!o&&(l=this.stateProxy(t)),l||(l=this.states&&this.states[t]),l||o){o||this.saveCurrentToNormalState(l);var u=!!(l&&l.hoverLayer||r);u&&this._toggleHoverLayerFlag(!0),this._applyStateObj(t,l,this._normalState,e,!i&&!this.__inHover&&s&&s.duration>0,s);var h=this._textContent,f=this._textGuide;return h&&h.useState(t,e,i,u),f&&f.useState(t,e,i,u),o?(this.currentStates=[],this._normalState={}):e?this.currentStates.push(t):this.currentStates=[t],this._updateAnimationTargets(),this.markRedraw(),!u&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=-2),l}tt("State "+t+" not exists.")}}},n.prototype.useStates=function(t,e,i){if(t.length){var r=[],o=this.currentStates,a=t.length,s=a===o.length;if(s)for(var l=0;l<a;l++)if(t[l]!==o[l]){s=!1;break}if(s)return;for(l=0;l<a;l++){var u=t[l],h=void 0;this.stateProxy&&(h=this.stateProxy(u,t)),h||(h=this.states[u]),h&&r.push(h)}var f=r[a-1],p=!!(f&&f.hoverLayer||i);p&&this._toggleHoverLayerFlag(!0);var g=this._mergeStates(r),v=this.stateTransition;this.saveCurrentToNormalState(g),this._applyStateObj(t.join(","),g,this._normalState,!1,!e&&!this.__inHover&&v&&v.duration>0,v);var m=this._textContent,y=this._textGuide;m&&m.useStates(t,e,p),y&&y.useStates(t,e,p),this._updateAnimationTargets(),this.currentStates=t.slice(),this.markRedraw(),!p&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=-2)}else this.clearStates()},n.prototype._updateAnimationTargets=function(){for(var t=0;t<this.animators.length;t++){var e=this.animators[t];e.targetName&&e.changeTarget(this[e.targetName])}},n.prototype.removeState=function(t){var e=pe(this.currentStates,t);if(e>=0){var i=this.currentStates.slice();i.splice(e,1),this.useStates(i)}},n.prototype.replaceState=function(t,e,i){var r=this.currentStates.slice(),o=pe(r,t),a=pe(r,e)>=0;o>=0?a?r.splice(o,1):r[o]=e:i&&!a&&r.push(e),this.useStates(r)},n.prototype.toggleState=function(t,e){e?this.useState(t,!0):this.removeState(t)},n.prototype._mergeStates=function(t){for(var e,i={},r=0;r<t.length;r++){var o=t[r];se(i,o),o.textConfig&&se(e=e||{},o.textConfig)}return e&&(i.textConfig=e),i},n.prototype._applyStateObj=function(t,e,i,r,o,a){var s=!(e&&r);e&&e.textConfig?(this.textConfig=se({},r?this.textConfig:i.textConfig),se(this.textConfig,e.textConfig)):s&&i.textConfig&&(this.textConfig=i.textConfig);for(var l={},u=!1,h=0;h<Cn.length;h++){var f=Cn[h],p=o&&wn[f];e&&null!=e[f]?p?(u=!0,l[f]=e[f]):this[f]=e[f]:s&&null!=i[f]&&(p?(u=!0,l[f]=i[f]):this[f]=i[f])}if(!o)for(h=0;h<this.animators.length;h++){var g=this.animators[h],v=g.targetName;g.__changeFinalValue(v?(e||i)[v]:e||i)}u&&this._transitionState(t,l,a)},n.prototype._attachComponent=function(t){if(t.__zr&&!t.__hostTarget)throw new Error("Text element has been added to zrender.");if(t===this)throw new Error("Recursive component attachment.");var e=this.__zr;e&&t.addSelfToZr(e),t.__zr=e,t.__hostTarget=this},n.prototype._detachComponent=function(t){t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__hostTarget=null},n.prototype.getClipPath=function(){return this._clipPath},n.prototype.setClipPath=function(t){this._clipPath&&this._clipPath!==t&&this.removeClipPath(),this._attachComponent(t),this._clipPath=t,this.markRedraw()},n.prototype.removeClipPath=function(){var t=this._clipPath;t&&(this._detachComponent(t),this._clipPath=null,this.markRedraw())},n.prototype.getTextContent=function(){return this._textContent},n.prototype.setTextContent=function(t){var e=this._textContent;if(e!==t){if(e&&e!==t&&this.removeTextContent(),t.__zr&&!t.__hostTarget)throw new Error("Text element has been added to zrender.");t.innerTransformable=new gr,this._attachComponent(t),this._textContent=t,this.markRedraw()}},n.prototype.setTextConfig=function(t){this.textConfig||(this.textConfig={}),se(this.textConfig,t),this.markRedraw()},n.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},n.prototype.removeTextContent=function(){var t=this._textContent;t&&(t.innerTransformable=null,this._detachComponent(t),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},n.prototype.getTextGuideLine=function(){return this._textGuide},n.prototype.setTextGuideLine=function(t){this._textGuide&&this._textGuide!==t&&this.removeTextGuideLine(),this._attachComponent(t),this._textGuide=t,this.markRedraw()},n.prototype.removeTextGuideLine=function(){var t=this._textGuide;t&&(this._detachComponent(t),this._textGuide=null,this.markRedraw())},n.prototype.markRedraw=function(){this.__dirty|=1;var t=this.__zr;t&&(this.__inHover?t.refreshHover():t.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},n.prototype.dirty=function(){this.markRedraw()},n.prototype._toggleHoverLayerFlag=function(t){this.__inHover=t;var e=this._textContent,i=this._textGuide;e&&(e.__inHover=t),i&&(i.__inHover=t)},n.prototype.addSelfToZr=function(t){if(this.__zr!==t){this.__zr=t;var e=this.animators;if(e)for(var i=0;i<e.length;i++)t.animation.addAnimator(e[i]);this._clipPath&&this._clipPath.addSelfToZr(t),this._textContent&&this._textContent.addSelfToZr(t),this._textGuide&&this._textGuide.addSelfToZr(t)}},n.prototype.removeSelfFromZr=function(t){if(this.__zr){this.__zr=null;var e=this.animators;if(e)for(var i=0;i<e.length;i++)t.animation.removeAnimator(e[i]);this._clipPath&&this._clipPath.removeSelfFromZr(t),this._textContent&&this._textContent.removeSelfFromZr(t),this._textGuide&&this._textGuide.removeSelfFromZr(t)}},n.prototype.animate=function(t,e){var i=t?this[t]:this;if(i){var r=new Gr(i,e);return this.addAnimator(r,t),r}tt('Property "'+t+'" is not existed in element '+this.id)},n.prototype.addAnimator=function(t,e){var i=this.__zr,r=this;t.during(function(){r.updateDuringAnimation(e)}).done(function(){var o=r.animators,a=pe(o,t);a>=0&&o.splice(a,1)}),this.animators.push(t),i&&i.animation.addAnimator(t),i&&i.wakeUp()},n.prototype.updateDuringAnimation=function(t){this.markRedraw()},n.prototype.stopAnimation=function(t,e){for(var i=this.animators,r=i.length,o=[],a=0;a<r;a++){var s=i[a];t&&t!==s.scope?o.push(s):s.stop(e)}return this.animators=o,this},n.prototype.animateTo=function(t,e,i){En(this,t,e,i)},n.prototype.animateFrom=function(t,e,i){En(this,t,e,i,!0)},n.prototype._transitionState=function(t,e,i,r){for(var o=En(this,e,i,r),a=0;a<o.length;a++)o[a].__fromStateTransition=t},n.prototype.getBoundingRect=function(){return null},n.prototype.getPaintRect=function(){return null},n.initDefaultProps=function(){var t=n.prototype;t.type="element",t.name="",t.ignore=!1,t.silent=!1,t.isGroup=!1,t.draggable=!1,t.dragging=!1,t.ignoreClip=!1,t.__inHover=!1,t.__dirty=1;var e={};function i(o,a,s){e[o+a+s]||(console.warn("DEPRECATED: '"+o+"' has been deprecated. use '"+a+"', '"+s+"' instead"),e[o+a+s]=!0)}function r(o,a,s,l){function u(h,f){Object.defineProperty(f,0,{get:function(){return h[s]},set:function(p){h[s]=p}}),Object.defineProperty(f,1,{get:function(){return h[l]},set:function(p){h[l]=p}})}Object.defineProperty(t,o,{get:function(){return i(o,s,l),this[a]||u(this,this[a]=[]),this[a]},set:function(h){i(o,s,l),this[s]=h[0],this[l]=h[1],this[a]=h,u(this,h)}})}Object.defineProperty&&(!ve.browser.ie||ve.browser.version>8)&&(r("position","_legacyPos","x","y"),r("scale","_legacyScale","scaleX","scaleY"),r("origin","_legacyOrigin","originX","originY"))}(),n}();function En(n,t,e,i,r){var o=[];Hi(n,"",n,t,e=e||{},i,o,r);var a=o.length,s=!1,l=e.done,u=e.aborted,h=function(){s=!0,--a<=0&&(s?l&&l():u&&u())},f=function(){--a<=0&&(s?l&&l():u&&u())};a||l&&l(),o.length>0&&e.during&&o[0].during(function(v,m){e.during(m)});for(var p=0;p<o.length;p++){var g=o[p];h&&g.done(h),f&&g.aborted(f),g.start(e.easing,e.force)}return o}function Xn(n,t,e){for(var i=0;i<e;i++)n[i]=t[i]}function Di(n,t,e){if(gt(t[e]))if(gt(n[e])||(n[e]=[]),Pn(t[e])){var i=t[e].length;n[e].length!==i&&(n[e]=new t[e].constructor(i),Xn(n[e],t[e],i))}else{var r=t[e],o=n[e],a=r.length;if(gt(r[0]))for(var s=r[0].length,l=0;l<a;l++)o[l]?Xn(o[l],r[l],s):o[l]=Array.prototype.slice.call(r[l]);else Xn(o,r,a);o.length=r.length}else n[e]=t[e]}function Hi(n,t,e,i,r,o,a,s){for(var l=[],u=[],h=Mt(i),f=r.duration,p=r.delay,g=r.additive,v=r.setToFinal,m=!Bt(o),y=0;y<h.length;y++)if(null!=e[H=h[y]]&&null!=i[H]&&(m||o[H]))if(Bt(i[H])&&!gt(i[H])){if(t){s||(e[H]=i[H],n.updateDuringAnimation(t));continue}Hi(n,H,e[H],i[H],r,o&&o[H],a,s)}else l.push(H),u.push(H);else s||(e[H]=i[H],n.updateDuringAnimation(t),u.push(H));var b=l.length;if(b>0||r.force&&!a.length){for(var S=n.animators,E=[],I=0;I<S.length;I++)S[I].targetName===t&&E.push(S[I]);if(!g&&E.length)for(I=0;I<E.length;I++)if(E[I].stopTracks(u)){var A=pe(S,E[I]);S.splice(A,1)}var L=void 0,R=void 0,k=void 0;if(s)for(R={},v&&(L={}),I=0;I<b;I++)R[H=l[I]]=e[H],v?L[H]=i[H]:e[H]=i[H];else if(v)for(k={},I=0;I<b;I++){var H;k[H=l[I]]=an(e[H]),Di(e,i,H)}var U=new Gr(e,!1,g?E:null);U.targetName=t,r.scope&&(U.scope=r.scope),v&&L&&U.whenWithKeys(0,L,l),k&&U.whenWithKeys(0,k,l),U.whenWithKeys(f??500,s?R:i,l).delay(p||0),n.addAnimator(U,t),a.push(U)}}lt(fi,Tn),lt(fi,gr);var Ft=function(n){function t(e){var i=n.call(this)||this;return i.isGroup=!0,i._children=[],i.attr(e),i}return ue(t,n),t.prototype.childrenRef=function(){return this._children},t.prototype.children=function(){return this._children.slice()},t.prototype.childAt=function(e){return this._children[e]},t.prototype.childOfName=function(e){for(var i=this._children,r=0;r<i.length;r++)if(i[r].name===e)return i[r]},t.prototype.childCount=function(){return this._children.length},t.prototype.add=function(e){if(e&&(e!==this&&e.parent!==this&&(this._children.push(e),this._doAdd(e)),e.__hostTarget))throw"This elemenet has been used as an attachment";return this},t.prototype.addBefore=function(e,i){if(e&&e!==this&&e.parent!==this&&i&&i.parent===this){var r=this._children,o=r.indexOf(i);o>=0&&(r.splice(o,0,e),this._doAdd(e))}return this},t.prototype.replace=function(e,i){var r=pe(this._children,e);return r>=0&&this.replaceAt(i,r),this},t.prototype.replaceAt=function(e,i){var r=this._children,o=r[i];if(e&&e!==this&&e.parent!==this&&e!==o){r[i]=e,o.parent=null;var a=this.__zr;a&&o.removeSelfFromZr(a),this._doAdd(e)}return this},t.prototype._doAdd=function(e){e.parent&&e.parent.remove(e),e.parent=this;var i=this.__zr;i&&i!==e.__zr&&e.addSelfToZr(i),i&&i.refresh()},t.prototype.remove=function(e){var i=this.__zr,r=this._children,o=pe(r,e);return o<0||(r.splice(o,1),e.parent=null,i&&e.removeSelfFromZr(i),i&&i.refresh()),this},t.prototype.removeAll=function(){for(var e=this._children,i=this.__zr,r=0;r<e.length;r++){var o=e[r];i&&o.removeSelfFromZr(i),o.parent=null}return e.length=0,this},t.prototype.eachChild=function(e,i){for(var r=this._children,o=0;o<r.length;o++)e.call(i,r[o],o);return this},t.prototype.traverse=function(e,i){for(var r=0;r<this._children.length;r++){var o=this._children[r],a=e.call(i,o);o.isGroup&&!a&&o.traverse(e,i)}return this},t.prototype.addSelfToZr=function(e){n.prototype.addSelfToZr.call(this,e);for(var i=0;i<this._children.length;i++)this._children[i].addSelfToZr(e)},t.prototype.removeSelfFromZr=function(e){n.prototype.removeSelfFromZr.call(this,e);for(var i=0;i<this._children.length;i++)this._children[i].removeSelfFromZr(e)},t.prototype.getBoundingRect=function(e){for(var i=new cn(0,0,0,0),r=e||this._children,o=[],a=null,s=0;s<r.length;s++){var l=r[s];if(!l.ignore&&!l.invisible){var u=l.getBoundingRect(),h=l.getLocalTransform(o);h?(cn.applyTransform(i,u,h),(a=a||i.clone()).union(i)):(a=a||u.clone()).union(u)}}return a||i},t}(fi);Ft.prototype.type="group";var ca=!ve.canvasSupported,tr={},di={},ko=function(){function n(t,e,i){var r=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,i=i||{},this.dom=e,this.id=t;var o=new Xs,a=i.renderer||"canvas";if(ca)throw new Error("IE8 support has been dropped since 5.0");if(tr[a]||(a=Mt(tr)[0]),!tr[a])throw new Error("Renderer '"+a+"' is not imported. Please import it first.");i.useDirtyRect=null!=i.useDirtyRect&&i.useDirtyRect;var s=new tr[a](e,o,i,t);this.storage=o,this.painter=s;var l=ve.node||ve.worker?null:new ho(s.getViewportRoot(),s.root);this.handler=new bl(o,s,l,s.root),this.animation=new Zn({stage:{update:function(){return r._flush(!0)}}}),this.animation.start()}return n.prototype.add=function(t){t&&(this.storage.addRoot(t),t.addSelfToZr(this),this.refresh())},n.prototype.remove=function(t){t&&(this.storage.delRoot(t),t.removeSelfFromZr(this),this.refresh())},n.prototype.configLayer=function(t,e){this.painter.configLayer&&this.painter.configLayer(t,e),this.refresh()},n.prototype.setBackgroundColor=function(t){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(t),this.refresh(),this._backgroundColor=t,this._darkMode=function(e){if(!e)return!1;if("string"==typeof e)return V(e,1)<.4;if(e.colorStops){for(var i=e.colorStops,r=0,o=i.length,a=0;a<o;a++)r+=V(i[a].color,1);return(r/=o)<.4}return!1}(t)},n.prototype.getBackgroundColor=function(){return this._backgroundColor},n.prototype.setDarkMode=function(t){this._darkMode=t},n.prototype.isDarkMode=function(){return this._darkMode},n.prototype.refreshImmediately=function(t){t||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},n.prototype.refresh=function(){this._needsRefresh=!0,this.animation.start()},n.prototype.flush=function(){this._flush(!1)},n.prototype._flush=function(t){var e,i=(new Date).getTime();this._needsRefresh&&(e=!0,this.refreshImmediately(t)),this._needsRefreshHover&&(e=!0,this.refreshHoverImmediately());var r=(new Date).getTime();e?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:r-i})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},n.prototype.setSleepAfterStill=function(t){this._sleepAfterStill=t},n.prototype.wakeUp=function(){this.animation.start(),this._stillFrameAccum=0},n.prototype.addHover=function(t){},n.prototype.removeHover=function(t){},n.prototype.clearHover=function(){},n.prototype.refreshHover=function(){this._needsRefreshHover=!0},n.prototype.refreshHoverImmediately=function(){this._needsRefreshHover=!1,this.painter.refreshHover&&"canvas"===this.painter.getType()&&this.painter.refreshHover()},n.prototype.resize=function(t){this.painter.resize((t=t||{}).width,t.height),this.handler.resize()},n.prototype.clearAnimation=function(){this.animation.clear()},n.prototype.getWidth=function(){return this.painter.getWidth()},n.prototype.getHeight=function(){return this.painter.getHeight()},n.prototype.pathToImage=function(t,e){if(this.painter.pathToImage)return this.painter.pathToImage(t,e)},n.prototype.setCursorStyle=function(t){this.handler.setCursorStyle(t)},n.prototype.findHover=function(t,e){return this.handler.findHover(t,e)},n.prototype.on=function(t,e,i){return this.handler.on(t,e,i),this},n.prototype.off=function(t,e){this.handler.off(t,e)},n.prototype.trigger=function(t,e){this.handler.trigger(t,e)},n.prototype.clear=function(){for(var t=this.storage.getRoots(),e=0;e<t.length;e++)t[e]instanceof Ft&&t[e].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()},n.prototype.dispose=function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,delete di[this.id]},n}();function Ts(n,t){var e=new ko(P(),n,t);return di[e.id]=e,e}function $s(n,t){tr[n]=t}var Vc=Object.freeze({__proto__:null,init:Ts,dispose:function(n){n.dispose()},disposeAll:function(){for(var n in di)di.hasOwnProperty(n)&&di[n].dispose();di={}},getInstance:function(n){return di[n]},registerPainter:$s,version:"5.2.1"});function Jn(n,t,e,i){var r=t[0],o=t[1],a=e[0],s=e[1],l=o-r,u=s-a;if(0===l)return 0===u?a:(a+s)/2;if(i)if(l>0){if(n<=r)return a;if(n>=o)return s}else{if(n>=r)return a;if(n<=o)return s}else{if(n===r)return a;if(n===o)return s}return(n-r)/l*u+a}function kt(n,t){switch(n){case"center":case"middle":n="50%";break;case"left":case"top":n="0%";break;case"right":case"bottom":n="100%"}return"string"==typeof n?(e=n,e.replace(/^\s+|\s+$/g,"")).match(/%$/)?parseFloat(n)/100*t:parseFloat(n):null==n?NaN:+n;var e}function hr(n,t,e){return null==t&&(t=10),t=Math.min(Math.max(0,t),20),n=(+n).toFixed(t),e?n:+n}function Kr(n){return n.sort(function(t,e){return t-e}),n}function Po(n){if(n=+n,isNaN(n))return 0;if(n>1e-14)for(var t=1,e=0;e<15;e++,t*=10)if(Math.round(n*t)/t===n)return e;return rf(n)}function rf(n){var t=n.toString().toLowerCase(),e=t.indexOf("e"),i=e>0?+t.slice(e+1):0,r=e>0?e:t.length,o=t.indexOf(".");return Math.max(0,(o<0?0:r-1-o)-i)}function eu(n,t){var e=Math.log,i=Math.LN10,r=Math.floor(e(n[1]-n[0])/i),o=Math.round(e(Math.abs(t[1]-t[0]))/i),a=Math.min(Math.max(-r+o,0),20);return isFinite(a)?a:20}function op(n,t,e){if(!n[t])return 0;var i=zt(n,function(v,m){return v+(isNaN(m)?0:m)},0);if(0===i)return 0;for(var r=Math.pow(10,e),o=Ve(n,function(v){return(isNaN(v)?0:v)/i*r*100}),a=100*r,s=Ve(o,function(v){return Math.floor(v)}),l=zt(s,function(v,m){return v+m},0),u=Ve(o,function(v,m){return v-s[m]});l<a;){for(var h=Number.NEGATIVE_INFINITY,f=null,p=0,g=u.length;p<g;++p)u[p]>h&&(h=u[p],f=p);++s[f],u[f]=0,++l}return s[t]/r}function Jv(n,t){var e=Math.max(Po(n),Po(t)),i=n+t;return e>20?i:hr(i,e)}var of=9007199254740991;function qu(n){var t=2*Math.PI;return(n%t+t)%t}function Cl(n){return n>-1e-4&&n<1e-4}var tu=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function io(n){if(n instanceof Date)return n;if("string"==typeof n){var t=tu.exec(n);if(!t)return new Date(NaN);if(t[8]){var e=+t[4]||0;return"Z"!==t[8].toUpperCase()&&(e-=+t[8].slice(0,3)),new Date(Date.UTC(+t[1],+(t[2]||1)-1,+t[3]||1,e,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0))}return new Date(+t[1],+(t[2]||1)-1,+t[3]||1,+t[4]||0,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0)}return null==n?new Date(NaN):new Date(Math.round(n))}function ap(n){return Math.pow(10,nu(n))}function nu(n){if(0===n)return 0;var t=Math.floor(Math.log(n)/Math.LN10);return n/Math.pow(10,t)>=10&&t++,t}function Gc(n,t){var e=nu(n),i=Math.pow(10,e),r=n/i;return n=(t?r<1.5?1:r<2.5?2:r<4?3:r<7?5:10:r<1?1:r<2?2:r<3?3:r<5?5:10)*i,e>=-20?+n.toFixed(e<0?-e:0):n}function el(n,t){var e=(n.length-1)*t+1,i=Math.floor(e),r=+n[i-1],o=e-i;return o?r+o*(n[i]-r):r}function Wc(n){n.sort(function(l,u){return s(l,u,0)?-1:1});for(var t=-1/0,e=1,i=0;i<n.length;){for(var r=n[i].interval,o=n[i].close,a=0;a<2;a++)r[a]<=t&&(r[a]=t,o[a]=a?1:1-e),t=r[a],e=o[a];r[0]===r[1]&&o[0]*o[1]!=1?n.splice(i,1):i++}return n;function s(l,u,h){return l.interval[h]<u.interval[h]||l.interval[h]===u.interval[h]&&(l.close[h]-u.close[h]==(h?-1:1)||!h&&s(l,u,1))}}function po(n){var t=parseFloat(n);return t==n&&(0!==t||"string"!=typeof n||n.indexOf("x")<=0)?t:NaN}function Il(n){return!isNaN(po(n))}function tl(){return Math.round(9*Math.random())}function iu(n,t){return 0===t?n:iu(t,n%t)}function Al(n,t){return null==n?t:null==t?n:n*t/iu(n,t)}function jn(n){throw new Error(n)}var af="series\0",sp="\0_ec_\0";function Yn(n){return n instanceof Array?n:null==n?[]:[n]}function Qo(n,t,e){if(n){n[t]=n[t]||{},n.emphasis=n.emphasis||{},n.emphasis[t]=n.emphasis[t]||{};for(var i=0,r=e.length;i<r;i++){var o=e[i];!n.emphasis[t].hasOwnProperty(o)&&n[t].hasOwnProperty(o)&&(n.emphasis[t][o]=n[t][o])}}}var lp=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function ru(n){return!Bt(n)||rt(n)||n instanceof Date?n:n.value}function $v(n){return Bt(n)&&!(n instanceof Array)}function up(n,t,e){var i="normalMerge"===e,r="replaceMerge"===e,o="replaceAll"===e;n=n||[],t=(t||[]).slice();var a=Ht();Y(t,function(h,f){Bt(h)||(t[f]=null)});var s,l,h,f,p,g,u=function(h,f,p){var g=[];if("replaceAll"===p)return g;for(var v=0;v<h.length;v++){var m=h[v];m&&null!=m.id&&f.set(m.id,v),g.push({existing:"replaceMerge"===p||Sr(m)?null:m,newOption:null,keyInfo:null,brandNew:null})}return g}(n,a,e);return(i||r)&&(h=u,f=n,p=a,Y(g=t,function(v,m){if(v&&null!=v.id){var y=Ku(v.id),b=p.get(y);if(null!=b){var S=h[b];ni(!S.newOption,'Duplicated option on id "'+y+'".'),S.newOption=v,S.existing=f[b],g[m]=null}}})),i&&function(h,f){Y(f,function(p,g){if(p&&null!=p.name)for(var v=0;v<h.length;v++){var m=h[v].existing;if(!h[v].newOption&&m&&(null==m.id||null==p.id)&&!Sr(p)&&!Sr(m)&&cp("name",m,p))return h[v].newOption=p,void(f[g]=null)}})}(u,t),i||r?function(h,f,p){Y(f,function(g){if(g){for(var v,m=0;(v=h[m])&&(v.newOption||Sr(v.existing)||v.existing&&null!=g.id&&!cp("id",g,v.existing));)m++;v?(v.newOption=g,v.brandNew=p):h.push({newOption:g,brandNew:p,existing:null,keyInfo:null}),m++}})}(u,t,r):o&&function(h,f){Y(f,function(p){h.push({newOption:p,brandNew:!0,existing:null,keyInfo:null})})}(u,t),s=u,l=Ht(),Y(s,function(h){var f=h.existing;f&&l.set(f.id,h)}),Y(s,function(h){var f=h.newOption;ni(!f||null==f.id||!l.get(f.id)||l.get(f.id)===h,"id duplicates: "+(f&&f.id)),f&&null!=f.id&&l.set(f.id,h),!h.keyInfo&&(h.keyInfo={})}),Y(s,function(h,f){var p=h.existing,g=h.newOption,v=h.keyInfo;if(Bt(g)){if(v.name=null!=g.name?Ku(g.name):p?p.name:af+f,p)v.id=Ku(p.id);else if(null!=g.id)v.id=Ku(g.id);else{var m=0;do{v.id="\0"+v.name+"\0"+m++}while(l.get(v.id))}l.set(v.id,h)}}),u}function cp(n,t,e){var i=ci(t[n],null),r=ci(e[n],null);return null!=i&&null!=r&&i===r}function Ku(n){return ci(n,"")}function ci(n,t){if(null==n)return t;var e=typeof n;return"string"===e?n:"number"===e||Pi(n)?n+"":t}function vr(n){var t=n.name;return!(!t||!t.indexOf(af))}function Sr(n){return n&&null!=n.id&&0===Ku(n.id).indexOf(sp)}function Ui(n,t){return null!=t.dataIndexInside?t.dataIndexInside:null!=t.dataIndex?rt(t.dataIndex)?Ve(t.dataIndex,function(e){return n.indexOfRawIndex(e)}):n.indexOfRawIndex(t.dataIndex):null!=t.name?rt(t.name)?Ve(t.name,function(e){return n.indexOfName(e)}):n.indexOfName(t.name):void 0}function Fn(){var n="__ec_inner_"+em++;return function(t){return t[n]||(t[n]={})}}var em=tl();function nl(n,t,e){var i=sf(t,e),o=i.queryOptionMap,a=i.others,s=e?e.defaultMainType:null;return!i.mainTypeSpecified&&s&&o.set(s,{}),o.each(function(l,u){var h=Ml(n,u,l,{useDefault:s===u,enableAll:!e||null==e.enableAll||e.enableAll,enableNone:!e||null==e.enableNone||e.enableNone});a[u+"Models"]=h.models,a[u+"Model"]=h.models[0]}),a}function sf(n,t){var e;if(Jt(n)){var i={};i[n+"Index"]=0,e=i}else e=n;var r=Ht(),o={},a=!1;return Y(e,function(s,l){if("dataIndex"!==l&&"dataIndexInside"!==l){var u=l.match(/^(\w+)(Index|Id|Name)$/)||[],h=u[1],f=(u[2]||"").toLowerCase();h&&f&&!(t&&t.includeMainTypes&&pe(t.includeMainTypes,h)<0)&&(a=a||!!h,(r.get(h)||r.set(h,{}))[f]=s)}else o[l]=s}),{mainTypeSpecified:a,queryOptionMap:r,others:o}}var mr={useDefault:!0,enableAll:!1,enableNone:!1},tm={useDefault:!1,enableAll:!0,enableNone:!0};function Ml(n,t,e,i){i=i||mr;var r=e.index,o=e.id,a=e.name,s={models:null,specified:null!=r||null!=o||null!=a};if(!s.specified){var l=void 0;return s.models=i.useDefault&&(l=n.getComponent(t))?[l]:[],s}return"none"===r||!1===r?(ni(i.enableNone,'`"none"` or `false` is not a valid value on index option.'),s.models=[],s):("all"===r&&(ni(i.enableAll,'`"all"` is not a valid value on index option.'),r=o=a=null),s.models=n.queryComponents({mainType:t,index:r,id:o,name:a}),s)}function lf(n,t,e){n.setAttribute?n.setAttribute(t,e):n[t]=e}function Zu(n,t){var e=Ht(),i=[];return Y(n,function(r){var o=t(r);(e.get(o)||(i.push(o),e.set(o,[]))).push(r)}),{keys:i,buckets:e}}function hp(n,t,e,i,r){var o=null==t||"auto"===t;if(null==i)return i;if("number"==typeof i)return hr(v=fe(e||0,i,r),o?Math.max(Po(e||0),Po(i)):t);if("string"==typeof i)return r<1?e:i;for(var a=[],s=e,l=i,u=Math.max(s?s.length:0,l.length),h=0;h<u;++h){var f=n.getDimensionInfo(h);if(f&&"ordinal"===f.type)a[h]=(r<1&&s?s:l)[h];else{var p=s&&s[h]?s[h]:0,g=l[h],v=fe(p,g,r);a[h]=hr(v,o?Math.max(Po(p),Po(g)):t)}}return a}var Es="___EC__COMPONENT__CONTAINER___",Yc="___EC__EXTENDED_CLASS___";function La(n){var t={main:"",sub:""};if(n){var e=n.split(".");t.main=e[0]||"",t.sub=e[1]||""}return t}function Xc(n,t){n.$constructor=n,n.extend=function(e){var i=this;function r(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];if(e.$constructor)e.$constructor.apply(this,arguments);else{if(function uf(n){return"function"==typeof n&&/^class\s/.test(Function.prototype.toString.call(n))}(i)){var s=Qi(r.prototype,new(i.bind.apply(i,function X(n,t,e){if(e||2===arguments.length)for(var i,r=0,o=t.length;r<o;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return n.concat(i||t)}([void 0],o))));return s}i.apply(this,arguments)}}return r[Yc]=!0,se(r.prototype,e),r.extend=this.extend,r.superCall=nm,r.superApply=jc,C(r,this),r.superClass=i,r}}function cf(n,t){n.extend=t.extend}var Ju=Math.round(10*Math.random());function nm(n,t){for(var e=[],i=2;i<arguments.length;i++)e[i-2]=arguments[i];return this.superClass.prototype[t].apply(n,e)}function jc(n,t,e){return this.superClass.prototype[t].apply(n,e)}function go(n){var t={};n.registerClass=function(e){var i,a,s,r=e.type||e.prototype.type;if(r){ni(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(i=r),'componentType "'+i+'" illegal'),e.prototype.type=r;var o=La(r);o.sub?o.sub!==Es&&((a=o,s=t[a.main],s&&s[Es]||((s=t[a.main]={})[Es]=!0),s)[o.sub]=e):t[o.main]=e}return e},n.getClass=function(e,i,r){var o=t[e];if(o&&o[Es]&&(o=i?o[i]:null),r&&!o)throw new Error(i?"Component "+e+"."+(i||"")+" is used but not imported.":e+".type should be specified.");return o},n.getClassesByMainType=function(e){var i=La(e),r=[],o=t[i.main];return o&&o[Es]?Y(o,function(a,s){s!==Es&&r.push(a)}):r.push(o),r},n.hasClass=function(e){var i=La(e);return!!t[i.main]},n.getAllClassMainTypes=function(){var e=[];return Y(t,function(i,r){e.push(r)}),e},n.hasSubTypes=function(e){var i=La(e),r=t[i.main];return r&&r[Es]}}function il(n,t){for(var e=0;e<n.length;e++)n[e][1]||(n[e][1]=n[e][0]);return t=t||!1,function(i,r,o){for(var a={},s=0;s<n.length;s++){var l=n[s][1];if(!(r&&pe(r,l)>=0||o&&pe(o,l)<0)){var u=i.getShallow(l,t);null!=u&&(a[n[s][0]]=u)}}return a}}var im=il([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),fp=function(){function n(){}return n.prototype.getAreaStyle=function(t,e){return im(this,t,e)},n}(),To=new xa(50);function pi(n){if("string"==typeof n){var t=To.get(n);return t&&t.image}return n}function $o(n,t,e,i,r){if(n){if("string"==typeof n){if(t&&t.__zrImageSrc===n||!e)return t;var o=To.get(n),a={hostEl:e,cb:i,cbPayload:r};return o?!Da(t=o.image)&&o.pending.push(a):((t=new Image).onload=t.onerror=rl,To.put(n,t.__cachedImgObj={image:t,pending:[a]}),t.src=t.__zrImageSrc=n),t}return n}return t}function rl(){var n=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var t=0;t<n.pending.length;t++){var e=n.pending[t],i=e.cb;i&&i(this,e.cbPayload),e.hostEl.dirty()}n.pending.length=0}function Da(n){return n&&n.width&&n.height}var qc=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function Kc(n,t,e,i,r){if(!t)return"";var o=(n+"").split("\n");r=hf(t,e,i,r);for(var a=0,s=o.length;a<s;a++)o[a]=dp(o[a],r);return o.join("\n")}function hf(n,t,e,i){var r=se({},i=i||{});r.font=t,e=ln(e,"..."),r.maxIterations=ln(i.maxIterations,2);var o=r.minChar=ln(i.minChar,0);r.cnCharWidth=de("\u56fd",t);var a=r.ascCharWidth=de("a",t);r.placeholder=ln(i.placeholder,"");for(var s=n=Math.max(0,n-1),l=0;l<o&&s>=a;l++)s-=a;var u=de(e,t);return u>s&&(e="",u=0),s=n-u,r.ellipsis=e,r.ellipsisWidth=u,r.contentWidth=s,r.containerWidth=n,r}function dp(n,t){var e=t.containerWidth,i=t.font,r=t.contentWidth;if(!e)return"";var o=de(n,i);if(o<=e)return n;for(var a=0;;a++){if(o<=r||a>=t.maxIterations){n+=t.ellipsis;break}var s=0===a?ff(n,r,t.ascCharWidth,t.cnCharWidth):o>0?Math.floor(n.length*r/o):0;o=de(n=n.substr(0,s),i)}return""===n&&(n=t.placeholder),n}function ff(n,t,e,i){for(var r=0,o=0,a=n.length;o<a&&r<t;o++){var s=n.charCodeAt(o);r+=0<=s&&s<=127?e:i}return o}var Qu=function(){},df=function(n){this.tokens=[],n&&(this.tokens=n)},pf=function(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]};function Xa(n,t,e,i,r){var o,a,s=""===t,l=r&&e.rich[r]||{},u=n.lines,h=l.font||e.font,f=!1;if(i){var p=l.padding,g=p?p[1]+p[3]:0;if(null!=l.width&&"auto"!==l.width){var v=Ct(l.width,i.width)+g;u.length>0&&v+i.accumWidth>i.width&&(o=t.split("\n"),f=!0),i.accumWidth=v}else{var m=vp(t,h,i.width,i.breakAll,i.accumWidth);i.accumWidth=m.accumWidth+g,a=m.linesWidths,o=m.lines}}else o=t.split("\n");for(var y=0;y<o.length;y++){var b=o[y],S=new Qu;if(S.styleName=r,S.text=b,S.isLineHolder=!b&&!s,S.width="number"==typeof l.width?l.width:a?a[y]:de(b,h),y||f)u.push(new df([S]));else{var E=(u[u.length-1]||(u[0]=new df)).tokens,I=E.length;1===I&&E[0].isLineHolder?E[0]=S:(b||!I||s)&&E.push(S)}}}var pp=zt(",&?/;] ".split(""),function(n,t){return n[t]=!0,n},{});function gp(n){return!((e=n.charCodeAt(0))>=33&&e<=255&&!pp[n]);var e}function vp(n,t,e,i,r){for(var o=[],a=[],s="",l="",u=0,h=0,f=0;f<n.length;f++){var p=n.charAt(f);if("\n"!==p){var g=de(p,t),v=!i&&!gp(p);(o.length?h+g>e:r+h+g>e)?h?(s||l)&&(v?(s||(s=l,l="",h=u=0),o.push(s),a.push(h-u),l+=p,s="",h=u+=g):(l&&(s+=l,h+=u,l="",u=0),o.push(s),a.push(h),s=p,h=g)):v?(o.push(l),a.push(u),l=p,u=g):(o.push(p),a.push(g)):(h+=g,v?(l+=p,u+=g):(l&&(s+=l,l="",u=0),s+=p))}else l&&(s+=l,h+=u),o.push(s),a.push(h),s="",l="",u=0,h=0}return o.length||s||(s=n,l="",u=0),l&&(s+=l),s&&(o.push(s),a.push(h)),1===o.length&&(h+=r),{accumWidth:h,lines:o,linesWidths:a}}var ou="__zr_style_"+Math.round(10*Math.random()),Cs={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},$u={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};Cs[ou]=!0;var mp=["z","z2","invisible"],yp=["invisible"],Na=function(n){function t(i){return n.call(this,i)||this}var e;return ue(t,n),t.prototype._init=function(i){for(var r=Mt(i),o=0;o<r.length;o++){var a=r[o];"style"===a?this.useStyle(i[a]):n.prototype.attrKV.call(this,a,i[a])}this.style||this.useStyle({})},t.prototype.beforeBrush=function(){},t.prototype.afterBrush=function(){},t.prototype.innerBeforeBrush=function(){},t.prototype.innerAfterBrush=function(){},t.prototype.shouldBePainted=function(i,r,o,a){var h,f,p,s=this.transform;if(this.ignore||this.invisible||0===this.style.opacity||this.culling&&(f=i,p=r,gf.copy((h=this).getBoundingRect()),h.transform&&gf.applyTransform(h.transform),au.width=f,au.height=p,!gf.intersect(au))||s&&!s[0]&&!s[3])return!1;if(o&&this.__clipPaths)for(var l=0;l<this.__clipPaths.length;++l)if(this.__clipPaths[l].isZeroArea())return!1;if(a&&this.parent)for(var u=this.parent;u;){if(u.ignore)return!1;u=u.parent}return!0},t.prototype.contain=function(i,r){return this.rectContain(i,r)},t.prototype.traverse=function(i,r){i.call(r,this)},t.prototype.rectContain=function(i,r){var o=this.transformCoordToLocal(i,r);return this.getBoundingRect().contain(o[0],o[1])},t.prototype.getPaintRect=function(){var i=this._paintRect;if(!this._paintRect||this.__dirty){var r=this.transform,o=this.getBoundingRect(),a=this.style,s=a.shadowBlur||0,l=a.shadowOffsetX||0,u=a.shadowOffsetY||0;i=this._paintRect||(this._paintRect=new cn(0,0,0,0)),r?cn.applyTransform(i,o,r):i.copy(o),(s||l||u)&&(i.width+=2*s+Math.abs(l),i.height+=2*s+Math.abs(u),i.x=Math.min(i.x,i.x+l-s),i.y=Math.min(i.y,i.y+u-s));var h=this.dirtyRectTolerance;i.isZero()||(i.x=Math.floor(i.x-h),i.y=Math.floor(i.y-h),i.width=Math.ceil(i.width+1+2*h),i.height=Math.ceil(i.height+1+2*h))}return i},t.prototype.setPrevPaintRect=function(i){i?(this._prevPaintRect=this._prevPaintRect||new cn(0,0,0,0),this._prevPaintRect.copy(i)):this._prevPaintRect=null},t.prototype.getPrevPaintRect=function(){return this._prevPaintRect},t.prototype.animateStyle=function(i){return this.animate("style",i)},t.prototype.updateDuringAnimation=function(i){"style"===i?this.dirtyStyle():this.markRedraw()},t.prototype.attrKV=function(i,r){"style"!==i?n.prototype.attrKV.call(this,i,r):this.style?this.setStyle(r):this.useStyle(r)},t.prototype.setStyle=function(i,r){return"string"==typeof i?this.style[i]=r:se(this.style,i),this.dirtyStyle(),this},t.prototype.dirtyStyle=function(i){i||this.markRedraw(),this.__dirty|=2,this._rect&&(this._rect=null)},t.prototype.dirty=function(){this.dirtyStyle()},t.prototype.styleChanged=function(){return!!(2&this.__dirty)},t.prototype.styleUpdated=function(){this.__dirty&=-3},t.prototype.createStyle=function(i){return Qi(Cs,i)},t.prototype.useStyle=function(i){i[ou]||(i=this.createStyle(i)),this.__inHover?this.__hoverStyle=i:this.style=i,this.dirtyStyle()},t.prototype.isStyleObject=function(i){return i[ou]},t.prototype._innerSaveToNormal=function(i){n.prototype._innerSaveToNormal.call(this,i);var r=this._normalState;i.style&&!r.style&&(r.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(i,r,mp)},t.prototype._applyStateObj=function(i,r,o,a,s,l){n.prototype._applyStateObj.call(this,i,r,o,a,s,l);var u,h=!(r&&a);if(r&&r.style?s?a?u=r.style:(u=this._mergeStyle(this.createStyle(),o.style),this._mergeStyle(u,r.style)):(u=this._mergeStyle(this.createStyle(),a?this.style:o.style),this._mergeStyle(u,r.style)):h&&(u=o.style),u)if(s){var f=this.style;if(this.style=this.createStyle(h?{}:f),h)for(var p=Mt(f),g=0;g<p.length;g++)(m=p[g])in u&&(u[m]=u[m],this.style[m]=f[m]);var v=Mt(u);for(g=0;g<v.length;g++){var m=v[g];this.style[m]=this.style[m]}this._transitionState(i,{style:u},l,this.getAnimationStyleProps())}else this.useStyle(u);var y=this.__inHover?yp:mp;for(g=0;g<y.length;g++)m=y[g],r&&null!=r[m]?this[m]=r[m]:h&&null!=o[m]&&(this[m]=o[m])},t.prototype._mergeStates=function(i){for(var r,o=n.prototype._mergeStates.call(this,i),a=0;a<i.length;a++){var s=i[a];s.style&&this._mergeStyle(r=r||{},s.style)}return r&&(o.style=r),o},t.prototype._mergeStyle=function(i,r){return se(i,r),i},t.prototype.getAnimationStyleProps=function(){return $u},t.initDefaultProps=((e=t.prototype).type="displayable",e.invisible=!1,e.z=0,e.z2=0,e.zlevel=0,e.culling=!1,e.cursor="pointer",e.rectHover=!1,e.incremental=!1,e._rect=null,e.dirtyRectTolerance=0,void(e.__dirty=3)),t}(fi),gf=new cn(0,0,0,0),au=new cn(0,0,0,0),ec=Math.pow,ol=Math.sqrt,_p=1e-8,vf=1e-4,Ll=ol(3),su=1/3,ea=Ae(),ta=Ae(),al=Ae();function Is(n){return n>-1e-8&&n<_p}function xp(n){return n>_p||n<-1e-8}function zi(n,t,e,i,r){var o=1-r;return o*o*(o*n+3*r*t)+r*r*(r*i+3*o*e)}function Zr(n,t,e,i,r){var o=1-r;return 3*(((t-n)*o+2*(e-t)*r)*o+(i-e)*r*r)}function lu(n,t,e,i,r,o){var a=i+3*(t-e)-n,s=3*(e-2*t+n),l=3*(t-n),u=n-r,h=s*s-3*a*l,f=s*l-9*a*u,p=l*l-3*s*u,g=0;if(Is(h)&&Is(f))Is(s)?o[0]=0:(k=-l/s)>=0&&k<=1&&(o[g++]=k);else{var v=f*f-4*h*p;if(Is(v)){var m=f/h,y=-m/2;(k=-s/a+m)>=0&&k<=1&&(o[g++]=k),y>=0&&y<=1&&(o[g++]=y)}else if(v>0){var b=ol(v),S=h*s+1.5*a*(-f+b),E=h*s+1.5*a*(-f-b);(k=(-s-((S=S<0?-ec(-S,su):ec(S,su))+(E=E<0?-ec(-E,su):ec(E,su))))/(3*a))>=0&&k<=1&&(o[g++]=k)}else{var I=(2*h*s-3*a*f)/(2*ol(h*h*h)),A=Math.acos(I)/3,L=ol(h),R=Math.cos(A),k=(-s-2*L*R)/(3*a),H=(y=(-s+L*(R+Ll*Math.sin(A)))/(3*a),(-s+L*(R-Ll*Math.sin(A)))/(3*a));k>=0&&k<=1&&(o[g++]=k),y>=0&&y<=1&&(o[g++]=y),H>=0&&H<=1&&(o[g++]=H)}}return g}function mf(n,t,e,i,r){var o=6*e-12*t+6*n,a=9*t+3*i-3*n-9*e,s=3*t-3*n,l=0;if(Is(a))xp(o)&&(h=-s/o)>=0&&h<=1&&(r[l++]=h);else{var u=o*o-4*a*s;if(Is(u))r[0]=-o/(2*a);else if(u>0){var h,f=ol(u),p=(-o-f)/(2*a);(h=(-o+f)/(2*a))>=0&&h<=1&&(r[l++]=h),p>=0&&p<=1&&(r[l++]=p)}}return l}function As(n,t,e,i,r,o){var a=(t-n)*r+n,s=(e-t)*r+t,l=(i-e)*r+e,u=(s-a)*r+a,h=(l-s)*r+s,f=(h-u)*r+u;o[0]=n,o[1]=a,o[2]=u,o[3]=f,o[4]=f,o[5]=h,o[6]=l,o[7]=i}function yf(n,t,e,i,r,o,a,s,l,u,h){var f,p,g,v,m,y=.005,b=1/0;ea[0]=l,ea[1]=u;for(var S=0;S<1;S+=.05)ta[0]=zi(n,e,r,a,S),ta[1]=zi(t,i,o,s,S),(v=ot(ea,ta))<b&&(f=S,b=v);b=1/0;for(var E=0;E<32&&!(y<vf);E++)g=f+y,ta[0]=zi(n,e,r,a,p=f-y),ta[1]=zi(t,i,o,s,p),v=ot(ta,ea),p>=0&&v<b?(f=p,b=v):(al[0]=zi(n,e,r,a,g),al[1]=zi(t,i,o,s,g),m=ot(al,ea),g<=1&&m<b?(f=g,b=m):y*=.5);return h&&(h[0]=zi(n,e,r,a,f),h[1]=zi(t,i,o,s,f)),ol(b)}function uu(n,t,e,i,r,o,a,s,l){for(var u=n,h=t,f=0,p=1/l,g=1;g<=l;g++){var v=g*p,m=zi(n,e,r,a,v),y=zi(t,i,o,s,v),b=m-u,S=y-h;f+=Math.sqrt(b*b+S*S),u=m,h=y}return f}function yr(n,t,e,i){var r=1-i;return r*(r*n+2*i*t)+i*i*e}function Zc(n,t,e,i){return 2*((1-i)*(t-n)+i*(e-t))}function _f(n,t,e){var i=n+e-2*t;return 0===i?.5:(n-t)/i}function cu(n,t,e,i,r){var o=(t-n)*i+n,a=(e-t)*i+t,s=(a-o)*i+o;r[0]=n,r[1]=o,r[2]=s,r[3]=s,r[4]=a,r[5]=e}function Dl(n,t,e,i,r,o,a,s,l){var u,h=.005,f=1/0;ea[0]=a,ea[1]=s;for(var p=0;p<1;p+=.05)ta[0]=yr(n,e,r,p),ta[1]=yr(t,i,o,p),(y=ot(ea,ta))<f&&(u=p,f=y);f=1/0;for(var g=0;g<32&&!(h<vf);g++){var v=u-h,m=u+h;ta[0]=yr(n,e,r,v),ta[1]=yr(t,i,o,v);var y=ot(ta,ea);if(v>=0&&y<f)u=v,f=y;else{al[0]=yr(n,e,r,m),al[1]=yr(t,i,o,m);var b=ot(al,ea);m<=1&&b<f?(u=m,f=b):h*=.5}}return l&&(l[0]=yr(n,e,r,u),l[1]=yr(t,i,o,u)),ol(f)}function bp(n,t,e,i,r,o,a){for(var s=n,l=t,u=0,h=1/a,f=1;f<=a;f++){var p=f*h,g=yr(n,e,r,p),v=yr(t,i,o,p),m=g-s,y=v-l;u+=Math.sqrt(m*m+y*y),s=g,l=v}return u}var ro=Math.min,Eo=Math.max,Nl=Math.sin,xf=Math.cos,ha=2*Math.PI,tc=Ae(),nc=Ae(),ic=Ae();function Ms(n,t,e){if(0!==n.length){for(var i=n[0],r=i[0],o=i[0],a=i[1],s=i[1],l=1;l<n.length;l++)r=ro(r,(i=n[l])[0]),o=Eo(o,i[0]),a=ro(a,i[1]),s=Eo(s,i[1]);t[0]=r,t[1]=a,e[0]=o,e[1]=s}}function hu(n,t,e,i,r,o){r[0]=ro(n,e),r[1]=ro(t,i),o[0]=Eo(n,e),o[1]=Eo(t,i)}var fu=[],du=[];function Sp(n,t,e,i,r,o,a,s,l,u){var h=mf,f=zi,p=h(n,e,r,a,fu);l[0]=1/0,l[1]=1/0,u[0]=-1/0,u[1]=-1/0;for(var g=0;g<p;g++){var v=f(n,e,r,a,fu[g]);l[0]=ro(v,l[0]),u[0]=Eo(v,u[0])}for(p=h(t,i,o,s,du),g=0;g<p;g++){var m=f(t,i,o,s,du[g]);l[1]=ro(m,l[1]),u[1]=Eo(m,u[1])}l[0]=ro(n,l[0]),u[0]=Eo(n,u[0]),l[0]=ro(a,l[0]),u[0]=Eo(a,u[0]),l[1]=ro(t,l[1]),u[1]=Eo(t,u[1]),l[1]=ro(s,l[1]),u[1]=Eo(s,u[1])}function rm(n,t,e,i,r,o,a,s){var l=_f,u=yr,h=Eo(ro(l(n,e,r),1),0),f=Eo(ro(l(t,i,o),1),0),p=u(n,e,r,h),g=u(t,i,o,f);a[0]=ro(n,r,p),a[1]=ro(t,o,g),s[0]=Eo(n,r,p),s[1]=Eo(t,o,g)}function wp(n,t,e,i,r,o,a,s,l){var u=wt,h=At,f=Math.abs(r-o);if(f%ha<1e-4&&f>1e-4)return s[0]=n-e,s[1]=t-i,l[0]=n+e,void(l[1]=t+i);if(tc[0]=xf(r)*e+n,tc[1]=Nl(r)*i+t,nc[0]=xf(o)*e+n,nc[1]=Nl(o)*i+t,u(s,tc,nc),h(l,tc,nc),(r%=ha)<0&&(r+=ha),(o%=ha)<0&&(o+=ha),r>o&&!a?o+=ha:r<o&&a&&(r+=ha),a){var p=o;o=r,r=p}for(var g=0;g<o;g+=Math.PI/2)g>r&&(ic[0]=xf(g)*e+n,ic[1]=Nl(g)*i+t,u(s,ic,s),h(l,ic,l))}var qn={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},fa=[],Ra=[],ja=[],Ls=[],qa=[],Ka=[],rc=Math.min,Nr=Math.max,sl=Math.cos,Rl=Math.sin,Jc=Math.sqrt,Ds=Math.abs,Qc=Math.PI,Ns=2*Qc,$c=typeof Float32Array<"u",oc=[];function bf(n){return Math.round(n/Qc*1e8)/1e8%2*Qc}function Tp(n,t){var e=bf(n[0]);e<0&&(e+=Ns);var r=n[1];r+=e-n[0],!t&&r-e>=Ns?r=e+Ns:t&&e-r>=Ns?r=e-Ns:!t&&e>r?r=e+(Ns-bf(e-r)):t&&e<r&&(r=e-(Ns-bf(r-e))),n[0]=e,n[1]=r}var vo=function(){function n(t){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,t&&(this._saveData=!1),this._saveData&&(this.data=[])}return n.prototype.increaseVersion=function(){this._version++},n.prototype.getVersion=function(){return this._version},n.prototype.setScale=function(t,e,i){(i=i||0)>0&&(this._ux=Ds(i/Xr/t)||0,this._uy=Ds(i/Xr/e)||0)},n.prototype.setDPR=function(t){this.dpr=t},n.prototype.setContext=function(t){this._ctx=t},n.prototype.getContext=function(){return this._ctx},n.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},n.prototype.reset=function(){this._saveData&&(this._len=0),this._lineDash&&(this._lineDash=null,this._dashOffset=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},n.prototype.moveTo=function(t,e){return this._drawPendingPt(),this.addData(qn.M,t,e),this._ctx&&this._ctx.moveTo(t,e),this._x0=t,this._y0=e,this._xi=t,this._yi=e,this},n.prototype.lineTo=function(t,e){var i=Ds(t-this._xi),r=Ds(e-this._yi),o=i>this._ux||r>this._uy;if(this.addData(qn.L,t,e),this._ctx&&o&&(this._needsDash?this._dashedLineTo(t,e):this._ctx.lineTo(t,e)),o)this._xi=t,this._yi=e,this._pendingPtDist=0;else{var a=i*i+r*r;a>this._pendingPtDist&&(this._pendingPtX=t,this._pendingPtY=e,this._pendingPtDist=a)}return this},n.prototype.bezierCurveTo=function(t,e,i,r,o,a){return this._drawPendingPt(),this.addData(qn.C,t,e,i,r,o,a),this._ctx&&(this._needsDash?this._dashedBezierTo(t,e,i,r,o,a):this._ctx.bezierCurveTo(t,e,i,r,o,a)),this._xi=o,this._yi=a,this},n.prototype.quadraticCurveTo=function(t,e,i,r){return this._drawPendingPt(),this.addData(qn.Q,t,e,i,r),this._ctx&&(this._needsDash?this._dashedQuadraticTo(t,e,i,r):this._ctx.quadraticCurveTo(t,e,i,r)),this._xi=i,this._yi=r,this},n.prototype.arc=function(t,e,i,r,o,a){this._drawPendingPt(),oc[0]=r,oc[1]=o,Tp(oc,a);var s=(o=oc[1])-(r=oc[0]);return this.addData(qn.A,t,e,i,i,r,s,0,a?0:1),this._ctx&&this._ctx.arc(t,e,i,r,o,a),this._xi=sl(o)*i+t,this._yi=Rl(o)*i+e,this},n.prototype.arcTo=function(t,e,i,r,o){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(t,e,i,r,o),this},n.prototype.rect=function(t,e,i,r){return this._drawPendingPt(),this._ctx&&this._ctx.rect(t,e,i,r),this.addData(qn.R,t,e,i,r),this},n.prototype.closePath=function(){this._drawPendingPt(),this.addData(qn.Z);var t=this._ctx,e=this._x0,i=this._y0;return t&&(this._needsDash&&this._dashedLineTo(e,i),t.closePath()),this._xi=e,this._yi=i,this},n.prototype.fill=function(t){t&&t.fill(),this.toStatic()},n.prototype.stroke=function(t){t&&t.stroke(),this.toStatic()},n.prototype.setLineDash=function(t){if(t instanceof Array){this._lineDash=t,this._dashIdx=0;for(var e=0,i=0;i<t.length;i++)e+=t[i];this._dashSum=e,this._needsDash=!0}else this._lineDash=null,this._needsDash=!1;return this},n.prototype.setLineDashOffset=function(t){return this._dashOffset=t,this},n.prototype.len=function(){return this._len},n.prototype.setData=function(t){var e=t.length;this.data&&this.data.length===e||!$c||(this.data=new Float32Array(e));for(var i=0;i<e;i++)this.data[i]=t[i];this._len=e},n.prototype.appendPath=function(t){t instanceof Array||(t=[t]);for(var e=t.length,i=0,r=this._len,o=0;o<e;o++)i+=t[o].len();for($c&&this.data instanceof Float32Array&&(this.data=new Float32Array(r+i)),o=0;o<e;o++)for(var a=t[o].data,s=0;s<a.length;s++)this.data[r++]=a[s];this._len=r},n.prototype.addData=function(t,e,i,r,o,a,s,l,u){if(this._saveData){var h=this.data;this._len+arguments.length>h.length&&(this._expandData(),h=this.data);for(var f=0;f<arguments.length;f++)h[this._len++]=arguments[f]}},n.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},n.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var t=[],e=0;e<this._len;e++)t[e]=this.data[e];this.data=t}},n.prototype._dashedLineTo=function(t,e){var i,r,o=this._dashSum,a=this._lineDash,s=this._ctx,l=this._dashOffset,u=this._xi,h=this._yi,f=t-u,p=e-h,g=Jc(f*f+p*p),v=u,m=h,y=a.length;for(l<0&&(l=o+l),v-=(l%=o)*(f/=g),m-=l*(p/=g);f>0&&v<=t||f<0&&v>=t||0===f&&(p>0&&m<=e||p<0&&m>=e);)v+=f*(i=a[r=this._dashIdx]),m+=p*i,this._dashIdx=(r+1)%y,f>0&&v<u||f<0&&v>u||p>0&&m<h||p<0&&m>h||s[r%2?"moveTo":"lineTo"](f>=0?rc(v,t):Nr(v,t),p>=0?rc(m,e):Nr(m,e));this._dashOffset=-Jc((f=v-t)*f+(p=m-e)*p)},n.prototype._dashedBezierTo=function(t,e,i,r,o,a){var s,l,u,h,f,p=this._ctx,g=this._dashSum,v=this._dashOffset,m=this._lineDash,y=this._xi,b=this._yi,S=0,E=this._dashIdx,I=m.length,A=0;for(v<0&&(v=g+v),v%=g,s=0;s<1;s+=.1)l=zi(y,t,i,o,s+.1)-zi(y,t,i,o,s),u=zi(b,e,r,a,s+.1)-zi(b,e,r,a,s),S+=Jc(l*l+u*u);for(;E<I&&!((A+=m[E])>v);E++);for(s=(A-v)/S;s<=1;)h=zi(y,t,i,o,s),f=zi(b,e,r,a,s),E%2?p.moveTo(h,f):p.lineTo(h,f),s+=m[E]/S,E=(E+1)%I;E%2!=0&&p.lineTo(o,a),this._dashOffset=-Jc((l=o-h)*l+(u=a-f)*u)},n.prototype._dashedQuadraticTo=function(t,e,i,r){var o=i,a=r;i=(i+2*t)/3,r=(r+2*e)/3,this._dashedBezierTo(t=(this._xi+2*t)/3,e=(this._yi+2*e)/3,i,r,o,a)},n.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var t=this.data;t instanceof Array&&(t.length=this._len,$c&&this._len>11&&(this.data=new Float32Array(t)))}},n.prototype.getBoundingRect=function(){ja[0]=ja[1]=qa[0]=qa[1]=Number.MAX_VALUE,Ls[0]=Ls[1]=Ka[0]=Ka[1]=-Number.MAX_VALUE;var t,e=this.data,i=0,r=0,o=0,a=0;for(t=0;t<this._len;){var s=e[t++],l=1===t;switch(l&&(o=i=e[t],a=r=e[t+1]),s){case qn.M:i=o=e[t++],r=a=e[t++],qa[0]=o,qa[1]=a,Ka[0]=o,Ka[1]=a;break;case qn.L:hu(i,r,e[t],e[t+1],qa,Ka),i=e[t++],r=e[t++];break;case qn.C:Sp(i,r,e[t++],e[t++],e[t++],e[t++],e[t],e[t+1],qa,Ka),i=e[t++],r=e[t++];break;case qn.Q:rm(i,r,e[t++],e[t++],e[t],e[t+1],qa,Ka),i=e[t++],r=e[t++];break;case qn.A:var u=e[t++],h=e[t++],f=e[t++],p=e[t++],g=e[t++],v=e[t++]+g;t+=1;var m=!e[t++];l&&(o=sl(g)*f+u,a=Rl(g)*p+h),wp(u,h,f,p,g,v,m,qa,Ka),i=sl(v)*f+u,r=Rl(v)*p+h;break;case qn.R:hu(o=i=e[t++],a=r=e[t++],o+e[t++],a+e[t++],qa,Ka);break;case qn.Z:i=o,r=a}wt(ja,ja,qa),At(Ls,Ls,Ka)}return 0===t&&(ja[0]=ja[1]=Ls[0]=Ls[1]=0),new cn(ja[0],ja[1],Ls[0]-ja[0],Ls[1]-ja[1])},n.prototype._calculateLength=function(){var t=this.data,e=this._len,i=this._ux,r=this._uy,o=0,a=0,s=0,l=0;this._pathSegLen||(this._pathSegLen=[]);for(var u=this._pathSegLen,h=0,f=0,p=0;p<e;){var g=t[p++],v=1===p;v&&(s=o=t[p],l=a=t[p+1]);var m=-1;switch(g){case qn.M:o=s=t[p++],a=l=t[p++];break;case qn.L:var y=t[p++],b=(I=t[p++])-a;(Ds(ee=y-o)>i||Ds(b)>r||p===e-1)&&(m=Math.sqrt(ee*ee+b*b),o=y,a=I);break;case qn.C:var S=t[p++],E=t[p++],I=(y=t[p++],t[p++]),A=t[p++],L=t[p++];m=uu(o,a,S,E,y,I,A,L,10),o=A,a=L;break;case qn.Q:m=bp(o,a,S=t[p++],E=t[p++],y=t[p++],I=t[p++],10),o=y,a=I;break;case qn.A:var R=t[p++],k=t[p++],H=t[p++],U=t[p++],G=t[p++],K=t[p++],$=K+G;p+=1,p++,v&&(s=sl(G)*H+R,l=Rl(G)*U+k),m=Nr(H,U)*rc(Ns,Math.abs(K)),o=sl($)*H+R,a=Rl($)*U+k;break;case qn.R:s=o=t[p++],l=a=t[p++],m=2*t[p++]+2*t[p++];break;case qn.Z:var ee=s-o;b=l-a,m=Math.sqrt(ee*ee+b*b),o=s,a=l}m>=0&&(u[f++]=m,h+=m)}return this._pathLen=h,h},n.prototype.rebuildPath=function(t,e){var i,r,o,a,s,l,u,h,f,p,g=this.data,v=this._ux,m=this._uy,y=this._len,b=e<1,S=0,E=0,I=0;if(!b||(this._pathSegLen||this._calculateLength(),u=this._pathSegLen,h=e*this._pathLen))e:for(var A=0;A<y;){var L=g[A++],R=1===A;switch(R&&(i=o=g[A],r=a=g[A+1]),L!==qn.L&&I>0&&(t.lineTo(f,p),I=0),L){case qn.M:i=o=g[A++],r=a=g[A++],t.moveTo(o,a);break;case qn.L:s=g[A++],l=g[A++];var k=Ds(s-o),H=Ds(l-a);if(k>v||H>m){if(b){if(S+(mn=u[E++])>h){var U=(h-S)/mn;t.lineTo(o*(1-U)+s*U,a*(1-U)+l*U);break e}S+=mn}t.lineTo(s,l),o=s,a=l,I=0}else{var G=k*k+H*H;G>I&&(f=s,p=l,I=G)}break;case qn.C:var K=g[A++],$=g[A++],ee=g[A++],le=g[A++],he=g[A++],ge=g[A++];if(b){if(S+(mn=u[E++])>h){As(o,K,ee,he,U=(h-S)/mn,fa),As(a,$,le,ge,U,Ra),t.bezierCurveTo(fa[1],Ra[1],fa[2],Ra[2],fa[3],Ra[3]);break e}S+=mn}t.bezierCurveTo(K,$,ee,le,he,ge),o=he,a=ge;break;case qn.Q:if(K=g[A++],$=g[A++],ee=g[A++],le=g[A++],b){if(S+(mn=u[E++])>h){cu(o,K,ee,U=(h-S)/mn,fa),cu(a,$,le,U,Ra),t.quadraticCurveTo(fa[1],Ra[1],fa[2],Ra[2]);break e}S+=mn}t.quadraticCurveTo(K,$,ee,le),o=ee,a=le;break;case qn.A:var me=g[A++],be=g[A++],Le=g[A++],Ge=g[A++],nt=g[A++],xt=g[A++],Je=g[A++],dt=!g[A++],Dt=Le>Ge?Le:Ge,Tt=Ds(Le-Ge)>.001,It=nt+xt,Yt=!1;if(b&&(S+(mn=u[E++])>h&&(It=nt+xt*(h-S)/mn,Yt=!0),S+=mn),Tt&&t.ellipse?t.ellipse(me,be,Le,Ge,Je,nt,It,dt):t.arc(me,be,Dt,nt,It,dt),Yt)break e;R&&(i=sl(nt)*Le+me,r=Rl(nt)*Ge+be),o=sl(It)*Le+me,a=Rl(It)*Ge+be;break;case qn.R:i=o=g[A],r=a=g[A+1],s=g[A++],l=g[A++];var Xt=g[A++],un=g[A++];if(b){if(S+(mn=u[E++])>h){var dn=h-S;t.moveTo(s,l),t.lineTo(s+rc(dn,Xt),l),(dn-=Xt)>0&&t.lineTo(s+Xt,l+rc(dn,un)),(dn-=un)>0&&t.lineTo(s+Nr(Xt-dn,0),l+un),(dn-=Xt)>0&&t.lineTo(s,l+Nr(un-dn,0));break e}S+=mn}t.rect(s,l,Xt,un);break;case qn.Z:if(b){var mn;if(S+(mn=u[E++])>h){t.lineTo(o*(1-(U=(h-S)/mn))+i*U,a*(1-U)+r*U);break e}S+=mn}t.closePath(),o=i,a=r}}},n.prototype.clone=function(){var t=new n,e=this.data;return t.data=e.slice?e.slice():Array.prototype.slice.call(e),t._len=this._len,t},n.CMD=qn,n.initDefaultProps=((t=n.prototype)._saveData=!0,t._needsDash=!1,t._dashOffset=0,t._dashIdx=0,t._dashSum=0,t._ux=0,t._uy=0,t._pendingPtDist=0,void(t._version=0)),n;var t}();function da(n,t,e,i,r,o,a){if(0===r)return!1;var l,s=r;if(a>t+s&&a>i+s||a<t-s&&a<i-s||o>n+s&&o>e+s||o<n-s&&o<e-s)return!1;if(n===e)return Math.abs(o-n)<=s/2;var u=(l=(t-i)/(n-e))*o-a+(n*i-e*t)/(n-e);return u*u/(l*l+1)<=s/2*s/2}function eh(n,t,e,i,r,o,a,s,l,u,h){if(0===l)return!1;var f=l;return!(h>t+f&&h>i+f&&h>o+f&&h>s+f||h<t-f&&h<i-f&&h<o-f&&h<s-f||u>n+f&&u>e+f&&u>r+f&&u>a+f||u<n-f&&u<e-f&&u<r-f&&u<a-f)&&yf(n,t,e,i,r,o,a,s,u,h,null)<=f/2}function pu(n,t,e,i,r,o,a,s,l){if(0===a)return!1;var u=a;return!(l>t+u&&l>i+u&&l>o+u||l<t-u&&l<i-u&&l<o-u||s>n+u&&s>e+u&&s>r+u||s<n-u&&s<e-u&&s<r-u)&&Dl(n,t,e,i,r,o,s,l,null)<=u/2}var Za=2*Math.PI;function ll(n){return(n%=Za)<0&&(n+=Za),n}var ac=2*Math.PI;function gu(n,t,e,i,r,o,a,s,l){if(0===a)return!1;var u=a;s-=n,l-=t;var h=Math.sqrt(s*s+l*l);if(h-u>e||h+u<e)return!1;if(Math.abs(i-r)%ac<1e-4)return!0;if(o){var f=i;i=ll(r),r=ll(f)}else i=ll(i),r=ll(r);i>r&&(r+=ac);var p=Math.atan2(l,s);return p<0&&(p+=ac),p>=i&&p<=r||p+ac>=i&&p+ac<=r}function Ja(n,t,e,i,r,o){if(o>t&&o>i||o<t&&o<i||i===t)return 0;var a=(o-t)/(i-t),s=i<t?1:-1;1!==a&&0!==a||(s=i<t?.5:-.5);var l=a*(e-n)+n;return l===r?1/0:l>r?s:0}var Rs=vo.CMD,ul=2*Math.PI,Jr=[-1,-1,-1],oo=[-1,-1];function Sf(n,t,e,i,r,o,a,s,l,u){if(u>t&&u>i&&u>o&&u>s||u<t&&u<i&&u<o&&u<s)return 0;var h,f=lu(t,i,o,s,u,Jr);if(0===f)return 0;for(var p=0,g=-1,v=void 0,m=void 0,y=0;y<f;y++){var b=Jr[y],S=0===b||1===b?.5:1;zi(n,e,r,a,b)<l||(g<0&&(g=mf(t,i,o,s,oo),oo[1]<oo[0]&&g>1&&(h=oo[0],oo[0]=oo[1],oo[1]=h),v=zi(t,i,o,s,oo[0]),g>1&&(m=zi(t,i,o,s,oo[1]))),p+=2===g?b<oo[0]?v<t?S:-S:b<oo[1]?m<v?S:-S:s<m?S:-S:b<oo[0]?v<t?S:-S:s<v?S:-S)}return p}function wf(n,t,e,i,r,o,a,s){if(s>t&&s>i&&s>o||s<t&&s<i&&s<o)return 0;var l=function(v,m,y,b,S){var E=v-2*m+y,I=2*(m-v),A=v-b,L=0;if(Is(E))xp(I)&&(k=-A/I)>=0&&k<=1&&(S[L++]=k);else{var R=I*I-4*E*A;if(Is(R))(k=-I/(2*E))>=0&&k<=1&&(S[L++]=k);else if(R>0){var k,H=ol(R),U=(-I-H)/(2*E);(k=(-I+H)/(2*E))>=0&&k<=1&&(S[L++]=k),U>=0&&U<=1&&(S[L++]=U)}}return L}(t,i,o,s,Jr);if(0===l)return 0;var u=_f(t,i,o);if(u>=0&&u<=1){for(var h=0,f=yr(t,i,o,u),p=0;p<l;p++){var g=0===Jr[p]||1===Jr[p]?.5:1;yr(n,e,r,Jr[p])<a||(h+=Jr[p]<u?f<t?g:-g:o<f?g:-g)}return h}return g=0===Jr[0]||1===Jr[0]?.5:1,yr(n,e,r,Jr[0])<a?0:o<t?g:-g}function Tf(n,t,e,i,r,o,a,s){if((s-=t)>e||s<-e)return 0;var l=Math.sqrt(e*e-s*s);Jr[0]=-l,Jr[1]=l;var u=Math.abs(i-r);if(u<1e-4)return 0;if(u>=ul-1e-4){i=0,r=ul;var h=o?1:-1;return a>=Jr[0]+n&&a<=Jr[1]+n?h:0}if(i>r){var f=i;i=r,r=f}i<0&&(i+=ul,r+=ul);for(var p=0,g=0;g<2;g++){var v=Jr[g];if(v+n>a){var m=Math.atan2(s,v);h=o?1:-1,m<0&&(m=ul+m),(m>=i&&m<=r||m+ul>=i&&m+ul<=r)&&(m>Math.PI/2&&m<1.5*Math.PI&&(h=-h),p+=h)}}return p}function Ep(n,t,e,i,r){for(var o,a,u=n.data,h=n.len(),f=0,p=0,g=0,v=0,m=0,y=0;y<h;){var b=u[y++],S=1===y;switch(b===Rs.M&&y>1&&(e||(f+=Ja(p,g,v,m,i,r))),S&&(v=p=u[y],m=g=u[y+1]),b){case Rs.M:p=v=u[y++],g=m=u[y++];break;case Rs.L:if(e){if(da(p,g,u[y],u[y+1],t,i,r))return!0}else f+=Ja(p,g,u[y],u[y+1],i,r)||0;p=u[y++],g=u[y++];break;case Rs.C:if(e){if(eh(p,g,u[y++],u[y++],u[y++],u[y++],u[y],u[y+1],t,i,r))return!0}else f+=Sf(p,g,u[y++],u[y++],u[y++],u[y++],u[y],u[y+1],i,r)||0;p=u[y++],g=u[y++];break;case Rs.Q:if(e){if(pu(p,g,u[y++],u[y++],u[y],u[y+1],t,i,r))return!0}else f+=wf(p,g,u[y++],u[y++],u[y],u[y+1],i,r)||0;p=u[y++],g=u[y++];break;case Rs.A:var E=u[y++],I=u[y++],A=u[y++],L=u[y++],R=u[y++],k=u[y++];y+=1;var H=!!(1-u[y++]);o=Math.cos(R)*A+E,a=Math.sin(R)*L+I,S?(v=o,m=a):f+=Ja(p,g,o,a,i,r);var U=(i-E)*L/A+E;if(e){if(gu(E,I,L,R,R+k,H,t,U,r))return!0}else f+=Tf(E,I,L,R,R+k,H,U,r);p=Math.cos(R+k)*A+E,g=Math.sin(R+k)*L+I;break;case Rs.R:if(v=p=u[y++],m=g=u[y++],o=v+u[y++],a=m+u[y++],e){if(da(v,m,o,m,t,i,r)||da(o,m,o,a,t,i,r)||da(o,a,v,a,t,i,r)||da(v,a,v,m,t,i,r))return!0}else f+=Ja(o,m,o,a,i,r),f+=Ja(v,a,v,m,i,r);break;case Rs.Z:if(e){if(da(p,g,v,m,t,i,r))return!0}else f+=Ja(p,g,v,m,i,r);p=v,g=m}}return e||Math.abs(g-m)<1e-4||(f+=Ja(p,g,v,m,i,r)||0),0!==f}var vu=Ee({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},Cs),Cp={style:Ee({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},$u.style)},Ef=["x","y","rotation","scaleX","scaleY","originX","originY","invisible","culling","z","z2","zlevel","parent"],Mn=function(n){function t(i){return n.call(this,i)||this}var e;return ue(t,n),t.prototype.update=function(){var i=this;n.prototype.update.call(this);var r=this.style;if(r.decal){var o=this._decalEl=this._decalEl||new t;o.buildPath===t.prototype.buildPath&&(o.buildPath=function(u){i.buildPath(u,i.shape)}),o.silent=!0;var a=o.style;for(var s in r)a[s]!==r[s]&&(a[s]=r[s]);a.fill=r.fill?r.decal:null,a.decal=null,a.shadowColor=null,r.strokeFirst&&(a.stroke=null);for(var l=0;l<Ef.length;++l)o[Ef[l]]=this[Ef[l]];o.__dirty|=1}else this._decalEl&&(this._decalEl=null)},t.prototype.getDecalElement=function(){return this._decalEl},t.prototype._init=function(i){var r=Mt(i);this.shape=this.getDefaultShape();var o=this.getDefaultStyle();o&&this.useStyle(o);for(var a=0;a<r.length;a++){var s=r[a],l=i[s];"style"===s?this.style?se(this.style,l):this.useStyle(l):"shape"===s?se(this.shape,l):n.prototype.attrKV.call(this,s,l)}this.style||this.useStyle({})},t.prototype.getDefaultStyle=function(){return null},t.prototype.getDefaultShape=function(){return{}},t.prototype.canBeInsideText=function(){return this.hasFill()},t.prototype.getInsideTextFill=function(){var i=this.style.fill;if("none"!==i){if(Jt(i)){var r=V(i,0);return r>.5?Ta:r>.2?"#eee":xs}if(i)return xs}return Ta},t.prototype.getInsideTextStroke=function(i){var r=this.style.fill;if(Jt(r)){var o=this.__zr;if(!(!o||!o.isDarkMode())==V(i,0)<.4)return r}},t.prototype.buildPath=function(i,r,o){},t.prototype.pathUpdated=function(){this.__dirty&=-5},t.prototype.getUpdatedPathProxy=function(i){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,i),this.path},t.prototype.createPathProxy=function(){this.path=new vo(!1)},t.prototype.hasStroke=function(){var i=this.style,r=i.stroke;return!(null==r||"none"===r||!(i.lineWidth>0))},t.prototype.hasFill=function(){var i=this.style.fill;return null!=i&&"none"!==i},t.prototype.getBoundingRect=function(){var i=this._rect,r=this.style,o=!i;if(o){var a=!1;this.path||(a=!0,this.createPathProxy());var s=this.path;(a||4&this.__dirty)&&(s.beginPath(),this.buildPath(s,this.shape,!1),this.pathUpdated()),i=s.getBoundingRect()}if(this._rect=i,this.hasStroke()&&this.path&&this.path.len()>0){var l=this._rectWithStroke||(this._rectWithStroke=i.clone());if(this.__dirty||o){l.copy(i);var u=r.strokeNoScale?this.getLineScale():1,h=r.lineWidth;this.hasFill()||(h=Math.max(h,this.strokeContainThreshold??4)),u>1e-10&&(l.width+=h/u,l.height+=h/u,l.x-=h/u/2,l.y-=h/u/2)}return l}return i},t.prototype.contain=function(i,r){var o=this.transformCoordToLocal(i,r),a=this.getBoundingRect(),s=this.style;if(a.contain(i=o[0],r=o[1])){var l=this.path;if(this.hasStroke()){var u=s.lineWidth,h=s.strokeNoScale?this.getLineScale():1;if(h>1e-10&&(this.hasFill()||(u=Math.max(u,this.strokeContainThreshold)),Ep(l,u/h,!0,i,r)))return!0}if(this.hasFill())return Ep(l,0,!1,i,r)}return!1},t.prototype.dirtyShape=function(){this.__dirty|=4,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},t.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},t.prototype.animateShape=function(i){return this.animate("shape",i)},t.prototype.updateDuringAnimation=function(i){"style"===i?this.dirtyStyle():"shape"===i?this.dirtyShape():this.markRedraw()},t.prototype.attrKV=function(i,r){"shape"===i?this.setShape(r):n.prototype.attrKV.call(this,i,r)},t.prototype.setShape=function(i,r){var o=this.shape;return o||(o=this.shape={}),"string"==typeof i?o[i]=r:se(o,i),this.dirtyShape(),this},t.prototype.shapeChanged=function(){return!!(4&this.__dirty)},t.prototype.createStyle=function(i){return Qi(vu,i)},t.prototype._innerSaveToNormal=function(i){n.prototype._innerSaveToNormal.call(this,i);var r=this._normalState;i.shape&&!r.shape&&(r.shape=se({},this.shape))},t.prototype._applyStateObj=function(i,r,o,a,s,l){n.prototype._applyStateObj.call(this,i,r,o,a,s,l);var u,h=!(r&&a);if(r&&r.shape?s?a?u=r.shape:(u=se({},o.shape),se(u,r.shape)):(u=se({},a?this.shape:o.shape),se(u,r.shape)):h&&(u=o.shape),u)if(s){this.shape=se({},this.shape);for(var f={},p=Mt(u),g=0;g<p.length;g++){var v=p[g];"object"==typeof u[v]?this.shape[v]=u[v]:f[v]=u[v]}this._transitionState(i,{shape:f},l)}else this.shape=u,this.dirtyShape()},t.prototype._mergeStates=function(i){for(var r,o=n.prototype._mergeStates.call(this,i),a=0;a<i.length;a++){var s=i[a];s.shape&&this._mergeStyle(r=r||{},s.shape)}return r&&(o.shape=r),o},t.prototype.getAnimationStyleProps=function(){return Cp},t.prototype.isZeroArea=function(){return!1},t.extend=function(i){var r=function(a){function s(l){var u=a.call(this,l)||this;return i.init&&i.init.call(u,l),u}return ue(s,a),s.prototype.getDefaultStyle=function(){return Te(i.style)},s.prototype.getDefaultShape=function(){return Te(i.shape)},s}(t);for(var o in i)"function"==typeof i[o]&&(r.prototype[o]=i[o]);return r},t.initDefaultProps=((e=t.prototype).type="path",e.strokeContainThreshold=5,e.segmentIgnoreThreshold=0,e.subPixelOptimize=!1,e.autoBatch=!1,void(e.__dirty=7)),t}(Na),th=Ee({strokeFirst:!0,font:Jo,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},vu),Ol=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return ue(t,n),t.prototype.hasStroke=function(){var e=this.style,i=e.stroke;return null!=i&&"none"!==i&&e.lineWidth>0},t.prototype.hasFill=function(){var e=this.style.fill;return null!=e&&"none"!==e},t.prototype.createStyle=function(e){return Qi(th,e)},t.prototype.setBoundingRect=function(e){this._rect=e},t.prototype.getBoundingRect=function(){var e=this.style;if(!this._rect){var i=e.text;null!=i?i+="":i="";var r=Ue(i,e.font,e.textAlign,e.textBaseline);if(r.x+=e.x||0,r.y+=e.y||0,this.hasStroke()){var o=e.lineWidth;r.x-=o/2,r.y-=o/2,r.width+=o,r.height+=o}this._rect=r}return this._rect},t.initDefaultProps=void(t.prototype.dirtyRectTolerance=10),t}(Na);Ol.prototype.type="tspan";var om=Ee({x:0,y:0},Cs),sc={style:Ee({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},$u.style)},fr=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return ue(t,n),t.prototype.createStyle=function(e){return Qi(om,e)},t.prototype._getSize=function(e){var i=this.style,r=i[e];if(null!=r)return r;var o,a=(o=i.image)&&"string"!=typeof o&&o.width&&o.height?i.image:this.__image;if(!a)return 0;var s="width"===e?"height":"width",l=i[s];return null==l?a[e]:a[e]/a[s]*l},t.prototype.getWidth=function(){return this._getSize("width")},t.prototype.getHeight=function(){return this._getSize("height")},t.prototype.getAnimationStyleProps=function(){return sc},t.prototype.getBoundingRect=function(){var e=this.style;return this._rect||(this._rect=new cn(e.x||0,e.y||0,this.getWidth(),this.getHeight())),this._rect},t}(Na);fr.prototype.type="image";var kl=Math.round;function Ip(n,t,e){if(t){var i=t.x1,r=t.x2,o=t.y1,a=t.y2;n.x1=i,n.x2=r,n.y1=o,n.y2=a;var s=e&&e.lineWidth;return s&&(kl(2*i)===kl(2*r)&&(n.x1=n.x2=cl(i,s,!0)),kl(2*o)===kl(2*a)&&(n.y1=n.y2=cl(o,s,!0))),n}}function nh(n,t,e){if(t){var i=t.x,r=t.y,o=t.width,a=t.height;n.x=i,n.y=r,n.width=o,n.height=a;var s=e&&e.lineWidth;return s&&(n.x=cl(i,s,!0),n.y=cl(r,s,!0),n.width=Math.max(cl(i+o,s,!1)-n.x,0===o?0:1),n.height=Math.max(cl(r+a,s,!1)-n.y,0===a?0:1)),n}}function cl(n,t,e){if(!t)return n;var i=kl(2*n);return(i+kl(t))%2==0?i/2:(i+(e?1:-1))/2}var am=function(){this.x=0,this.y=0,this.width=0,this.height=0},Ap={},kn=function(n){function t(e){return n.call(this,e)||this}return ue(t,n),t.prototype.getDefaultShape=function(){return new am},t.prototype.buildPath=function(e,i){var r,o,a,s,u,h,f,p,g,v,m,y,b,S,E,I;if(this.subPixelOptimize){var l=nh(Ap,i,this.style);r=l.x,o=l.y,a=l.width,s=l.height,l.r=i.r,i=l}else r=i.x,o=i.y,a=i.width,s=i.height;i.r?(u=e,y=(h=i).x,b=h.y,(S=h.width)<0&&(y+=S,S=-S),(E=h.height)<0&&(b+=E,E=-E),"number"==typeof(I=h.r)?f=p=g=v=I:I instanceof Array?1===I.length?f=p=g=v=I[0]:2===I.length?(f=g=I[0],p=v=I[1]):3===I.length?(f=I[0],p=v=I[1],g=I[2]):(f=I[0],p=I[1],g=I[2],v=I[3]):f=p=g=v=0,f+p>S&&(f*=S/(m=f+p),p*=S/m),g+v>S&&(g*=S/(m=g+v),v*=S/m),p+g>E&&(p*=E/(m=p+g),g*=E/m),f+v>E&&(f*=E/(m=f+v),v*=E/m),u.moveTo(y+f,b),u.lineTo(y+S-p,b),0!==p&&u.arc(y+S-p,b+p,p,-Math.PI/2,0),u.lineTo(y+S,b+E-g),0!==g&&u.arc(y+S-g,b+E-g,g,0,Math.PI/2),u.lineTo(y+v,b+E),0!==v&&u.arc(y+v,b+E-v,v,Math.PI/2,Math.PI),u.lineTo(y,b+f),0!==f&&u.arc(y+f,b+f,f,Math.PI,1.5*Math.PI)):e.rect(r,o,a,s)},t.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},t}(Mn);kn.prototype.type="rect";var Mp={fill:"#000"},Cf={style:Ee({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},$u.style)},Nn=function(n){function t(e){var i=n.call(this)||this;return i.type="text",i._children=[],i._defaultStyle=Mp,i.attr(e),i}return ue(t,n),t.prototype.childrenRef=function(){return this._children},t.prototype.update=function(){n.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var e=0;e<this._children.length;e++){var i=this._children[e];i.zlevel=this.zlevel,i.z=this.z,i.z2=this.z2,i.culling=this.culling,i.cursor=this.cursor,i.invisible=this.invisible}},t.prototype.updateTransform=function(){var e=this.innerTransformable;e?(e.updateTransform(),e.transform&&(this.transform=e.transform)):n.prototype.updateTransform.call(this)},t.prototype.getLocalTransform=function(e){var i=this.innerTransformable;return i?i.getLocalTransform(e):n.prototype.getLocalTransform.call(this,e)},t.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),n.prototype.getComputedTransform.call(this)},t.prototype._updateSubTexts=function(){var e;this._childCursor=0,If(e=this.style),Y(e.rich,If),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},t.prototype.addSelfToZr=function(e){n.prototype.addSelfToZr.call(this,e);for(var i=0;i<this._children.length;i++)this._children[i].__zr=e},t.prototype.removeSelfFromZr=function(e){n.prototype.removeSelfFromZr.call(this,e);for(var i=0;i<this._children.length;i++)this._children[i].__zr=null},t.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var e=new cn(0,0,0,0),i=this._children,r=[],o=null,a=0;a<i.length;a++){var s=i[a],l=s.getBoundingRect(),u=s.getLocalTransform(r);u?(e.copy(l),e.applyTransform(u),(o=o||e.clone()).union(e)):(o=o||l.clone()).union(l)}this._rect=o||e}return this._rect},t.prototype.setDefaultTextStyle=function(e){this._defaultStyle=e||Mp},t.prototype.setTextContent=function(e){throw new Error("Can't attach text on another text")},t.prototype._mergeStyle=function(e,i){if(!i)return e;var r=i.rich,o=e.rich||r&&{};return se(e,i),r&&o?(this._mergeRich(o,r),e.rich=o):o&&(e.rich=o),e},t.prototype._mergeRich=function(e,i){for(var r=Mt(i),o=0;o<r.length;o++){var a=r[o];e[a]=e[a]||{},se(e[a],i[a])}},t.prototype.getAnimationStyleProps=function(){return Cf},t.prototype._getOrCreateChild=function(e){var i=this._children[this._childCursor];return i&&i instanceof e||(i=new e),this._children[this._childCursor++]=i,i.__zr=this.__zr,i.parent=this,i},t.prototype._updatePlainTexts=function(){var e=this.style,i=e.font||Jo,r=e.padding,o=function(le,he){null!=le&&(le+="");var ge,me=he.overflow,be=he.padding,Le=he.font,Ge="truncate"===me,nt=Nt(Le),xt=ln(he.lineHeight,nt),Je="truncate"===he.lineOverflow,dt=he.width,Dt=(ge=null!=dt&&"break"===me||"breakAll"===me?le?vp(le,he.font,dt,"breakAll"===me,0).lines:[]:le?le.split("\n"):[]).length*xt,Tt=ln(he.height,Dt);if(Dt>Tt&&Je){var It=Math.floor(Tt/xt);ge=ge.slice(0,It)}var Yt=Tt,Xt=dt;if(be&&(Yt+=be[0]+be[2],null!=Xt&&(Xt+=be[1]+be[3])),le&&Ge&&null!=Xt)for(var un=hf(dt,Le,he.ellipsis,{minChar:he.truncateMinChar,placeholder:he.placeholder}),dn=0;dn<ge.length;dn++)ge[dn]=dp(ge[dn],un);if(null==dt){var mn=0;for(dn=0;dn<ge.length;dn++)mn=Math.max(de(ge[dn],Le),mn);dt=mn}return{lines:ge,height:Tt,outerHeight:Yt,lineHeight:xt,calculatedLineHeight:nt,contentHeight:Dt,width:dt}}(Rp(e),e),a=ih(e),s=!!e.backgroundColor,l=o.outerHeight,u=o.lines,h=o.lineHeight,f=this._defaultStyle,p=e.x||0,g=e.y||0,v=e.align||f.align||"left",m=e.verticalAlign||f.verticalAlign||"top",y=p,b=je(g,o.contentHeight,m);if(a||r){var S=o.width;r&&(S+=r[1]+r[3]);var E=_t(p,S,v),I=je(g,l,m);a&&this._renderBackground(e,e,E,I,S,l)}b+=h/2,r&&(y=Np(p,v,r),"top"===m?b+=r[0]:"bottom"===m&&(b-=r[2]));for(var A=0,L=!1,R=(Dp("fill"in e?e.fill:(L=!0,f.fill))),k=(Lp("stroke"in e?e.stroke:s||f.autoStroke&&!L?null:(A=2,f.stroke))),H=e.textShadowBlur>0,U=null!=e.width&&("truncate"===e.overflow||"break"===e.overflow||"breakAll"===e.overflow),G=o.calculatedLineHeight,K=0;K<u.length;K++){var $=this._getOrCreateChild(Ol),ee=$.createStyle();$.useStyle(ee),ee.text=u[K],ee.x=y,ee.y=b,v&&(ee.textAlign=v),ee.textBaseline="middle",ee.opacity=e.opacity,ee.strokeFirst=!0,H&&(ee.shadowBlur=e.textShadowBlur||0,ee.shadowColor=e.textShadowColor||"transparent",ee.shadowOffsetX=e.textShadowOffsetX||0,ee.shadowOffsetY=e.textShadowOffsetY||0),k&&(ee.stroke=k,ee.lineWidth=e.lineWidth||A,ee.lineDash=e.lineDash,ee.lineDashOffset=e.lineDashOffset||0),R&&(ee.fill=R),ee.font=i,b+=h,U&&$.setBoundingRect(new cn(_t(ee.x,e.width,ee.textAlign),je(ee.y,G,ee.textBaseline),e.width,G))}},t.prototype._updateRichTexts=function(){var e=this.style,i=function(ee,le){var he=new pf;if(null!=ee&&(ee+=""),!ee)return he;for(var ge,me=le.width,be=le.height,Le=le.overflow,Ge="break"!==Le&&"breakAll"!==Le||null==me?null:{width:me,accumWidth:0,breakAll:"breakAll"===Le},nt=qc.lastIndex=0;null!=(ge=qc.exec(ee));){var xt=ge.index;xt>nt&&Xa(he,ee.substring(nt,xt),le,Ge),Xa(he,ge[2],le,Ge,ge[1]),nt=qc.lastIndex}nt<ee.length&&Xa(he,ee.substring(nt,ee.length),le,Ge);var Je=[],dt=0,Dt=0,Tt=le.padding,It="truncate"===Le,Yt="truncate"===le.lineOverflow;function Xt(Hr,ki,Vo){Hr.width=ki,Hr.lineHeight=Vo,dt+=Vo,Dt=Math.max(Dt,ki)}e:for(var un=0;un<he.lines.length;un++){for(var dn=he.lines[un],mn=0,Zi=0,Gi=0;Gi<dn.tokens.length;Gi++){var Wn=(_n=dn.tokens[Gi]).styleName&&le.rich[_n.styleName]||{},Hn=_n.textPadding=Wn.padding,ar=Hn?Hn[1]+Hn[3]:0,Oi=_n.font=Wn.font||le.font;_n.contentHeight=Nt(Oi);var zo=ln(Wn.height,_n.contentHeight);if(_n.innerHeight=zo,Hn&&(zo+=Hn[0]+Hn[2]),_n.height=zo,_n.lineHeight=ui(Wn.lineHeight,le.lineHeight,zo),_n.align=Wn&&Wn.align||le.align,_n.verticalAlign=Wn&&Wn.verticalAlign||"middle",Yt&&null!=be&&dt+_n.lineHeight>be){Gi>0?(dn.tokens=dn.tokens.slice(0,Gi),Xt(dn,Zi,mn),he.lines=he.lines.slice(0,un+1)):he.lines=he.lines.slice(0,un);break e}var aa=Wn.width,_i=null==aa||"auto"===aa;if("string"==typeof aa&&"%"===aa.charAt(aa.length-1))_n.percentWidth=aa,Je.push(_n),_n.contentWidth=de(_n.text,Oi);else{if(_i){var On=Wn.backgroundColor,mi=On&&On.image;mi&&Da(mi=pi(mi))&&(_n.width=Math.max(_n.width,mi.width*zo/mi.height))}var $n=It&&null!=me?me-Zi:null;null!=$n&&$n<_n.width?!_i||$n<ar?(_n.text="",_n.width=_n.contentWidth=0):(_n.text=Kc(_n.text,$n-ar,Oi,le.ellipsis,{minChar:le.truncateMinChar}),_n.width=_n.contentWidth=de(_n.text,Oi)):_n.contentWidth=de(_n.text,Oi)}_n.width+=ar,Zi+=_n.width,Wn&&(mn=Math.max(mn,_n.lineHeight))}Xt(dn,Zi,mn)}for(he.outerWidth=he.width=ln(me,Dt),he.outerHeight=he.height=ln(be,dt),he.contentHeight=dt,he.contentWidth=Dt,Tt&&(he.outerWidth+=Tt[1]+Tt[3],he.outerHeight+=Tt[0]+Tt[2]),un=0;un<Je.length;un++){var _n,eo=(_n=Je[un]).percentWidth;_n.width=parseInt(eo,10)/100*he.width}return he}(Rp(e),e),r=i.width,o=i.outerWidth,a=i.outerHeight,s=e.padding,u=e.y||0,h=this._defaultStyle,p=e.verticalAlign||h.verticalAlign,g=_t(e.x||0,o,e.align||h.align),v=je(u,a,p),m=g,y=v;s&&(m+=s[3],y+=s[0]);var b=m+r;ih(e)&&this._renderBackground(e,e,g,v,o,a);for(var S=!!e.backgroundColor,E=0;E<i.lines.length;E++){for(var I=i.lines[E],A=I.tokens,L=A.length,R=I.lineHeight,k=I.width,H=0,U=m,G=b,K=L-1,$=void 0;H<L&&(!($=A[H]).align||"left"===$.align);)this._placeToken($,e,R,y,U,"left",S),k-=$.width,U+=$.width,H++;for(;K>=0&&"right"===($=A[K]).align;)this._placeToken($,e,R,y,G,"right",S),k-=$.width,G-=$.width,K--;for(U+=(r-(U-m)-(b-G)-k)/2;H<=K;)this._placeToken($=A[H],e,R,y,U+$.width/2,"center",S),U+=$.width,H++;y+=R}},t.prototype._placeToken=function(e,i,r,o,a,s,l){var u=i.rich[e.styleName]||{};u.text=e.text;var h=e.verticalAlign,f=o+r/2;"top"===h?f=o+e.height/2:"bottom"===h&&(f=o+r-e.height/2),!e.isLineHolder&&ih(u)&&this._renderBackground(u,i,"right"===s?a-e.width:"center"===s?a-e.width/2:a,f-e.height/2,e.width,e.height);var p=!!u.backgroundColor,g=e.textPadding;g&&(a=Np(a,s,g),f-=e.height/2-g[0]-e.innerHeight/2);var v=this._getOrCreateChild(Ol),m=v.createStyle();v.useStyle(m);var y=this._defaultStyle,b=!1,S=0,E=Dp("fill"in u?u.fill:"fill"in i?i.fill:(b=!0,y.fill)),I=Lp("stroke"in u?u.stroke:"stroke"in i?i.stroke:p||l||y.autoStroke&&!b?null:(S=2,y.stroke)),A=u.textShadowBlur>0||i.textShadowBlur>0;m.text=e.text,m.x=a,m.y=f,A&&(m.shadowBlur=u.textShadowBlur||i.textShadowBlur||0,m.shadowColor=u.textShadowColor||i.textShadowColor||"transparent",m.shadowOffsetX=u.textShadowOffsetX||i.textShadowOffsetX||0,m.shadowOffsetY=u.textShadowOffsetY||i.textShadowOffsetY||0),m.textAlign=s,m.textBaseline="middle",m.font=e.font||Jo,m.opacity=ui(u.opacity,i.opacity,1),I&&(m.lineWidth=ui(u.lineWidth,i.lineWidth,S),m.lineDash=ln(u.lineDash,i.lineDash),m.lineDashOffset=i.lineDashOffset||0,m.stroke=I),E&&(m.fill=E);var L=e.contentWidth,R=e.contentHeight;v.setBoundingRect(new cn(_t(m.x,L,m.textAlign),je(m.y,R,m.textBaseline),L,R))},t.prototype._renderBackground=function(e,i,r,o,a,s){var l,u,h,f=e.backgroundColor,p=e.borderWidth,g=e.borderColor,v=f&&f.image,m=f&&!v,y=e.borderRadius,b=this;if(m||e.lineHeight||p&&g){(l=this._getOrCreateChild(kn)).useStyle(l.createStyle()),l.style.fill=null;var S=l.shape;S.x=r,S.y=o,S.width=a,S.height=s,S.r=y,l.dirtyShape()}if(m)(h=l.style).fill=f||null,h.fillOpacity=ln(e.fillOpacity,1);else if(v){(u=this._getOrCreateChild(fr)).onload=function(){b.dirtyStyle()};var E=u.style;E.image=f.image,E.x=r,E.y=o,E.width=a,E.height=s}p&&g&&((h=l.style).lineWidth=p,h.stroke=g,h.strokeOpacity=ln(e.strokeOpacity,1),h.lineDash=e.borderDash,h.lineDashOffset=e.borderDashOffset||0,l.strokeContainThreshold=0,l.hasFill()&&l.hasStroke()&&(h.strokeFirst=!0,h.lineWidth*=2));var I=(l||u).style;I.shadowBlur=e.shadowBlur||0,I.shadowColor=e.shadowColor||"transparent",I.shadowOffsetX=e.shadowOffsetX||0,I.shadowOffsetY=e.shadowOffsetY||0,I.opacity=ui(e.opacity,i.opacity,1)},t.makeFont=function(e){var i="";if(e.fontSize||e.fontFamily||e.fontWeight){var r="";r="string"!=typeof e.fontSize||-1===e.fontSize.indexOf("px")&&-1===e.fontSize.indexOf("rem")&&-1===e.fontSize.indexOf("em")?isNaN(+e.fontSize)?"12px":e.fontSize+"px":e.fontSize,i=[e.fontStyle,e.fontWeight,r,e.fontFamily||"sans-serif"].join(" ")}return i&&Ji(i)||e.textFont||e.font},t}(Na),lc={left:!0,right:1,center:1},sm={top:1,bottom:1,middle:1};function If(n){if(n){n.font=Nn.makeFont(n);var t=n.align;"middle"===t&&(t="center"),n.align=null==t||lc[t]?t:"left";var e=n.verticalAlign;"center"===e&&(e="middle"),n.verticalAlign=null==e||sm[e]?e:"top",n.padding&&(n.padding=Ai(n.padding))}}function Lp(n,t){return null==n||t<=0||"transparent"===n||"none"===n?null:n.image||n.colorStops?"#000":n}function Dp(n){return null==n||"none"===n?null:n.image||n.colorStops?"#000":n}function Np(n,t,e){return"right"===t?n-e[1]:"center"===t?n+e[3]/2-e[1]/2:n+e[3]}function Rp(n){var t=n.text;return null!=t&&(t+=""),t}function ih(n){return!!(n.backgroundColor||n.lineHeight||n.borderWidth&&n.borderColor)}var pn=Fn(),Af=function(n,t,e,i){if(i){var r=pn(i);r.dataIndex=e,r.dataType=t,r.seriesIndex=n,"group"===i.type&&i.traverse(function(o){var a=pn(o);a.seriesIndex=n,a.dataIndex=e,a.dataType=t})}},Mf=1,rh={},Lf=Fn(),Co=["emphasis","blur","select"],mu=["normal","emphasis","blur","select"],yu=10,hl="highlight",Pl="downplay",uc="select",oh="unselect",cc="toggleSelect";function Ti(n){return null!=n&&"none"!==n}var Op=new xa(100);function ah(n){if("string"!=typeof n)return n;var t=Op.get(n);return t||(t=Sa(n,-.1),Op.put(n,t)),t}function fl(n,t,e){n.onHoverStateChange&&(n.hoverState||0)!==e&&n.onHoverStateChange(t),n.hoverState=e}function pa(n){fl(n,"emphasis",2)}function hc(n){2===n.hoverState&&fl(n,"normal",0)}function fc(n){fl(n,"blur",1)}function Df(n){1===n.hoverState&&fl(n,"normal",0)}function kp(n){n.selected=!0}function Pp(n){n.selected=!1}function Nf(n,t,e){t(n,e)}function Qa(n,t,e){Nf(n,t,e),n.isGroup&&n.traverse(function(i){Nf(i,t,e)})}function sh(n,t){switch(t){case"emphasis":n.hoverState=2;break;case"normal":n.hoverState=0;break;case"blur":n.hoverState=1;break;case"select":n.selected=!0}}function dc(n,t){var r,o,a,s,l,u,e=this.states[n];if(this.style){if("emphasis"===n)return function(i,r,o,a){var s=o&&pe(o,"select")>=0,l=!1;if(i instanceof Mn){var u=Lf(i),h=s&&u.selectFill||u.normalFill,f=s&&u.selectStroke||u.normalStroke;if(Ti(h)||Ti(f)){var p=(a=a||{}).style||{};"inherit"===p.fill?(l=!0,a=se({},a),(p=se({},p)).fill=h):!Ti(p.fill)&&Ti(h)?(l=!0,a=se({},a),(p=se({},p)).fill=ah(h)):!Ti(p.stroke)&&Ti(f)&&(l||(a=se({},a),p=se({},p)),p.stroke=ah(f)),a.style=p}}return a&&null==a.z2&&(l||(a=se({},a)),a.z2=i.z2+(i.z2EmphasisLift??yu)),a}(this,0,t,e);if("blur"===n)return o=e,a=pe(this.currentStates,r=n)>=0,s=this.style.opacity,l=a?null:function(h,f,p,g){for(var v=h.style,m={},y=0;y<f.length;y++){var b=f[y];m[b]=v[b]??(g&&g[b])}for(y=0;y<h.animators.length;y++){var E=h.animators[y];E.__fromStateTransition&&E.__fromStateTransition.indexOf(p)<0&&"style"===E.targetName&&E.saveFinalToTarget(m,f)}return m}(this,["opacity"],r,{opacity:1}),null==(u=(o=o||{}).style||{}).opacity&&(o=se({},o),u=se({opacity:a?s:.1*l.opacity},u),o.style=u),o;if("select"===n)return function(i,r,o){return o&&null==o.z2&&((o=se({},o)).z2=i.z2+(i.z2SelectLift??9)),o}(this,0,e)}return e}function dl(n){n.stateProxy=dc;var t=n.getTextContent(),e=n.getTextGuideLine();t&&(t.stateProxy=dc),e&&(e.stateProxy=dc)}function yi(n,t){!Hp(n,t)&&!n.__highByOuter&&Qa(n,pa)}function Rf(n,t){!Hp(n,t)&&!n.__highByOuter&&Qa(n,hc)}function $a(n,t){n.__highByOuter|=1<<(t||0),Qa(n,pa)}function Io(n,t){!(n.__highByOuter&=~(1<<(t||0)))&&Qa(n,hc)}function Bp(n){Qa(n,fc)}function pc(n){Qa(n,Df)}function Fp(n){Qa(n,kp)}function nr(n){Qa(n,Pp)}function Hp(n,t){return n.__highDownSilentOnTouch&&t.zrByTouch}function Up(n){n.getModel().eachComponent(function(t,e){("series"===t?n.getViewOfSeriesModel(e):n.getViewOfComponentModel(e)).group.traverse(function(i){Df(i)})})}function Of(n,t,e,i){var r=i.getModel();function o(u,h){for(var f=0;f<h.length;f++){var p=u.getItemGraphicEl(h[f]);p&&pc(p)}}if(e=e||"coordinateSystem",null!=n&&t&&"none"!==t){var a=r.getSeriesByIndex(n),s=a.coordinateSystem;s&&s.master&&(s=s.master);var l=[];r.eachSeries(function(u){var h=a===u,f=u.coordinateSystem;if(f&&f.master&&(f=f.master),!("series"===e&&!h||"coordinateSystem"===e&&!(f&&s?f===s:h)||"series"===t&&h)){if(i.getViewOfSeriesModel(u).group.traverse(function(v){fc(v)}),gt(t))o(u.getData(),t);else if(Bt(t))for(var p=Mt(t),g=0;g<p.length;g++)o(u.getData(p[g]),t[p[g]]);l.push(u)}}),r.eachComponent(function(u,h){if("series"!==u){var f=i.getViewOfComponentModel(h);f&&f.blurSeries&&f.blurSeries(l,r)}})}}function _u(n,t,e){if(null!=n&&null!=t){var i=e.getModel().getComponent(n,t);if(i){var r=e.getViewOfComponentModel(i);r&&r.focusBlurEnabled&&r.group.traverse(function(o){fc(o)})}}}function c(n,t,e,i){var r={focusSelf:!1,dispatchers:null};if(null==n||"series"===n||null==t||null==e)return r;var o=i.getModel().getComponent(n,t);if(!o)return r;var a=i.getViewOfComponentModel(o);if(!a||!a.findHighDownDispatchers)return r;for(var s,l=a.findHighDownDispatchers(e),u=0;u<l.length;u++)if("self"===pn(l[u]).focus){s=!0;break}return{focusSelf:s,dispatchers:l}}function d(n){Y(n.getAllData(),function(t){var i=t.type;t.data.eachItemGraphicEl(function(r,o){n.isSelected(o,i)?Fp(r):nr(r)})})}function x(n){var t=[];return n.eachSeries(function(e){Y(e.getAllData(),function(i){var r=i.type,o=e.getSelectedDataIndices();if(o.length>0){var a={dataIndex:o,seriesIndex:e.seriesIndex};null!=r&&(a.dataType=r),t.push(a)}})}),t}function _(n,t,e){q(n,!0),Qa(n,dl),w(n,t,e)}function w(n,t,e){var i=pn(n);null!=t?(i.focus=t,i.blurScope=e):i.focus&&(i.focus=null)}var D=["emphasis","blur","select"],F={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function W(n,t,e,i){e=e||"itemStyle";for(var r=0;r<D.length;r++){var o=D[r],a=t.getModel([o,e]);n.ensureState(o).style=i?i(a):a[F[e]]()}}function q(n,t){var e=!1===t,i=n;n.highDownSilentOnTouch&&(i.__highDownSilentOnTouch=n.highDownSilentOnTouch),e&&!i.__highDownDispatcher||(i.__highByOuter=i.__highByOuter||0,i.__highDownDispatcher=!e)}function J(n){return!(!n||!n.__highDownDispatcher)}function _e(n){var t=n.type;return t===uc||t===oh||t===cc}function Se(n){var t=n.type;return t===hl||t===Pl}var ze=vo.CMD,Be=[[],[],[]],vt=Math.sqrt,Et=Math.atan2;function Pt(n,t){if(t){var e,i,r,o,a,s,l=n.data,u=n.len(),h=ze.M,f=ze.C,p=ze.L,g=ze.R,v=ze.A,m=ze.Q;for(r=0,o=0;r<u;){switch(e=l[r++],o=r,i=0,e){case h:case p:i=1;break;case f:i=3;break;case m:i=2;break;case v:var y=t[4],b=t[5],S=vt(t[0]*t[0]+t[1]*t[1]),E=vt(t[2]*t[2]+t[3]*t[3]),I=Et(-t[1]/E,t[0]/S);l[r]*=S,l[r++]+=y,l[r]*=E,l[r++]+=b,l[r++]*=S,l[r++]*=E,l[r++]+=I,l[r++]+=I,o=r+=2;break;case g:s[0]=l[r++],s[1]=l[r++],pt(s,s,t),l[o++]=s[0],l[o++]=s[1],s[0]+=l[r++],s[1]+=l[r++],pt(s,s,t),l[o++]=s[0],l[o++]=s[1]}for(a=0;a<i;a++){var A=Be[a];A[0]=l[r++],A[1]=l[r++],pt(A,A,t),l[o++]=A[0],l[o++]=A[1]}}n.increaseVersion()}}var Wt=Math.sqrt,Qt=Math.sin,Gt=Math.cos,$t=Math.PI;function vn(n){return Math.sqrt(n[0]*n[0]+n[1]*n[1])}function hn(n,t){return(n[0]*t[0]+n[1]*t[1])/(vn(n)*vn(t))}function Bn(n,t){return(n[0]*t[1]<n[1]*t[0]?-1:1)*Math.acos(hn(n,t))}function Ii(n,t,e,i,r,o,a,s,l,u,h){var f=l*($t/180),p=Gt(f)*(n-e)/2+Qt(f)*(t-i)/2,g=-1*Qt(f)*(n-e)/2+Gt(f)*(t-i)/2,v=p*p/(a*a)+g*g/(s*s);v>1&&(a*=Wt(v),s*=Wt(v));var m=(r===o?-1:1)*Wt((a*a*(s*s)-a*a*(g*g)-s*s*(p*p))/(a*a*(g*g)+s*s*(p*p)))||0,y=m*a*g/s,b=m*-s*p/a,S=(n+e)/2+Gt(f)*y-Qt(f)*b,E=(t+i)/2+Qt(f)*y+Gt(f)*b,I=Bn([1,0],[(p-y)/a,(g-b)/s]),A=[(p-y)/a,(g-b)/s],L=[(-1*p-y)/a,(-1*g-b)/s],R=Bn(A,L);if(hn(A,L)<=-1&&(R=$t),hn(A,L)>=1&&(R=0),R<0){var k=Math.round(R/$t*1e6)/1e6;R=2*$t+k%2*$t}h.addData(u,S,E,a,s,I,R,f,o)}var Rr=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi,Ki=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g,Ao=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return ue(t,n),t.prototype.applyTransform=function(e){},t}(Mn);function mo(n){return null!=n.setData}function dr(n,t){var e=function(r){var o=new vo;if(!r)return o;var a,s=0,l=0,u=s,h=l,f=vo.CMD,p=r.match(Rr);if(!p)return o;for(var g=0;g<p.length;g++){for(var v=p[g],m=v.charAt(0),y=void 0,b=v.match(Ki)||[],S=b.length,E=0;E<S;E++)b[E]=parseFloat(b[E]);for(var I=0;I<S;){var A=void 0,L=void 0,R=void 0,k=void 0,H=void 0,U=void 0,G=void 0,K=s,$=l,ee=void 0,le=void 0;switch(m){case"l":s+=b[I++],l+=b[I++],o.addData(y=f.L,s,l);break;case"L":s=b[I++],l=b[I++],o.addData(y=f.L,s,l);break;case"m":s+=b[I++],l+=b[I++],o.addData(y=f.M,s,l),u=s,h=l,m="l";break;case"M":s=b[I++],l=b[I++],o.addData(y=f.M,s,l),u=s,h=l,m="L";break;case"h":s+=b[I++],o.addData(y=f.L,s,l);break;case"H":s=b[I++],o.addData(y=f.L,s,l);break;case"v":l+=b[I++],o.addData(y=f.L,s,l);break;case"V":l=b[I++],o.addData(y=f.L,s,l);break;case"C":o.addData(y=f.C,b[I++],b[I++],b[I++],b[I++],b[I++],b[I++]),s=b[I-2],l=b[I-1];break;case"c":o.addData(y=f.C,b[I++]+s,b[I++]+l,b[I++]+s,b[I++]+l,b[I++]+s,b[I++]+l),s+=b[I-2],l+=b[I-1];break;case"S":A=s,L=l,ee=o.len(),le=o.data,a===f.C&&(A+=s-le[ee-4],L+=l-le[ee-3]),K=b[I++],$=b[I++],s=b[I++],l=b[I++],o.addData(y=f.C,A,L,K,$,s,l);break;case"s":A=s,L=l,ee=o.len(),le=o.data,a===f.C&&(A+=s-le[ee-4],L+=l-le[ee-3]),K=s+b[I++],$=l+b[I++],s+=b[I++],l+=b[I++],o.addData(y=f.C,A,L,K,$,s,l);break;case"Q":K=b[I++],$=b[I++],s=b[I++],l=b[I++],o.addData(y=f.Q,K,$,s,l);break;case"q":K=b[I++]+s,$=b[I++]+l,s+=b[I++],l+=b[I++],o.addData(y=f.Q,K,$,s,l);break;case"T":A=s,L=l,ee=o.len(),le=o.data,a===f.Q&&(A+=s-le[ee-4],L+=l-le[ee-3]),s=b[I++],l=b[I++],o.addData(y=f.Q,A,L,s,l);break;case"t":A=s,L=l,ee=o.len(),le=o.data,a===f.Q&&(A+=s-le[ee-4],L+=l-le[ee-3]),s+=b[I++],l+=b[I++],o.addData(y=f.Q,A,L,s,l);break;case"A":R=b[I++],k=b[I++],H=b[I++],U=b[I++],G=b[I++],Ii(K=s,$=l,s=b[I++],l=b[I++],U,G,R,k,H,y=f.A,o);break;case"a":R=b[I++],k=b[I++],H=b[I++],U=b[I++],G=b[I++],Ii(K=s,$=l,s+=b[I++],l+=b[I++],U,G,R,k,H,y=f.A,o)}}"z"!==m&&"Z"!==m||(o.addData(y=f.Z),s=u,l=h),a=y}return o.toStatic(),o}(n),i=se({},t);return i.buildPath=function(r){if(mo(r))r.setData(e.data),(o=r.getContext())&&r.rebuildPath(o,1);else{var o=r;e.rebuildPath(o,1)}},i.applyTransform=function(r){Pt(e,r),this.dirtyShape()},i}function yo(n,t){return new Ao(dr(n,t))}function wr(n,t){t=t||{};var e=new Mn;return n.shape&&e.setShape(n.shape),e.setStyle(n.style),t.bakeTransform?Pt(e.path,n.getComputedTransform()):t.toLocal?e.setLocalTransform(n.getComputedTransform()):e.copyTransform(n),e.buildPath=n.buildPath,e.applyTransform=e.applyTransform,e.z=n.z,e.z2=n.z2,e.zlevel=n.zlevel,e}var Tr=function(){this.cx=0,this.cy=0,this.r=0},gi=function(n){function t(e){return n.call(this,e)||this}return ue(t,n),t.prototype.getDefaultShape=function(){return new Tr},t.prototype.buildPath=function(e,i,r){r&&e.moveTo(i.cx+i.r,i.cy),e.arc(i.cx,i.cy,i.r,0,2*Math.PI)},t}(Mn);gi.prototype.type="circle";var ir=function(){this.cx=0,this.cy=0,this.rx=0,this.ry=0},Or=function(n){function t(e){return n.call(this,e)||this}return ue(t,n),t.prototype.getDefaultShape=function(){return new ir},t.prototype.buildPath=function(e,i){var r=.5522848,o=i.cx,a=i.cy,s=i.rx,l=i.ry,u=s*r,h=l*r;e.moveTo(o-s,a),e.bezierCurveTo(o-s,a-h,o-u,a-l,o,a-l),e.bezierCurveTo(o+u,a-l,o+s,a-h,o+s,a),e.bezierCurveTo(o+s,a+h,o+u,a+l,o,a+l),e.bezierCurveTo(o-u,a+l,o-s,a+h,o-s,a),e.closePath()},t}(Mn);Or.prototype.type="ellipse";var Bl=Math.PI,pl=2*Bl,rr=Math.sin,Mo=Math.cos,kr=Math.acos,Qr=Math.atan2,es=Math.abs,Oa=Math.sqrt,Os=Math.max,Pr=Math.min,_o=1e-4;function xu(n,t,e,i,r,o,a){var s=n-e,l=t-i,u=(a?o:-o)/Oa(s*s+l*l),h=u*l,f=-u*s,p=n+h,g=t+f,v=e+h,m=i+f,y=(p+v)/2,b=(g+m)/2,S=v-p,E=m-g,I=S*S+E*E,A=r-o,L=p*m-v*g,R=(E<0?-1:1)*Oa(Os(0,A*A*I-L*L)),k=(L*E-S*R)/I,H=(-L*S-E*R)/I,U=(L*E+S*R)/I,G=(-L*S+E*R)/I,K=k-y,$=H-b,ee=U-y,le=G-b;return K*K+$*$>ee*ee+le*le&&(k=U,H=G),{cx:k,cy:H,x01:-h,y01:-f,x11:k*(r/A-1),y11:H*(r/A-1)}}var aL=function(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0,this.cornerRadius=0,this.innerCornerRadius=0},Bo=function(n){function t(e){return n.call(this,e)||this}return ue(t,n),t.prototype.getDefaultShape=function(){return new aL},t.prototype.buildPath=function(e,i){!function oL(n,t){var e=Os(t.r,0),i=Os(t.r0||0,0),r=e>0;if(r||i>0){if(r||(e=i,i=0),i>e){var o=e;e=i,i=o}var a,s=!!t.clockwise,l=t.startAngle,u=t.endAngle;if(l===u)a=0;else{var h=[l,u];Tp(h,!s),a=es(h[0]-h[1])}var f=t.cx,p=t.cy,g=t.cornerRadius||0,v=t.innerCornerRadius||0;if(e>_o)if(a>pl-_o)n.moveTo(f+e*Mo(l),p+e*rr(l)),n.arc(f,p,e,l,u,!s),i>_o&&(n.moveTo(f+i*Mo(u),p+i*rr(u)),n.arc(f,p,i,u,l,s));else{var m=es(e-i)/2,y=Pr(m,g),b=Pr(m,v),S=b,E=y,I=e*Mo(l),A=e*rr(l),L=i*Mo(u),R=i*rr(u),k=void 0,H=void 0,U=void 0,G=void 0;if((y>_o||b>_o)&&(k=e*Mo(u),H=e*rr(u),U=i*Mo(l),G=i*rr(l),a<Bl)){var K=function(Ge,nt,xt,Je,dt,Dt,Tt,It){var Yt=xt-Ge,Xt=Je-nt,un=Tt-dt,dn=It-Dt,mn=dn*Yt-un*Xt;if(!(mn*mn<_o))return[Ge+(mn=(un*(nt-Dt)-dn*(Ge-dt))/mn)*Yt,nt+mn*Xt]}(I,A,U,G,k,H,L,R);if(K){var $=I-K[0],ee=A-K[1],le=k-K[0],he=H-K[1],ge=1/rr(kr(($*le+ee*he)/(Oa($*$+ee*ee)*Oa(le*le+he*he)))/2),me=Oa(K[0]*K[0]+K[1]*K[1]);S=Pr(b,(i-me)/(ge-1)),E=Pr(y,(e-me)/(ge+1))}}if(a>_o)if(E>_o){var be=xu(U,G,I,A,e,E,s),Le=xu(k,H,L,R,e,E,s);n.moveTo(f+be.cx+be.x01,p+be.cy+be.y01),E<y?n.arc(f+be.cx,p+be.cy,E,Qr(be.y01,be.x01),Qr(Le.y01,Le.x01),!s):(n.arc(f+be.cx,p+be.cy,E,Qr(be.y01,be.x01),Qr(be.y11,be.x11),!s),n.arc(f,p,e,Qr(be.cy+be.y11,be.cx+be.x11),Qr(Le.cy+Le.y11,Le.cx+Le.x11),!s),n.arc(f+Le.cx,p+Le.cy,E,Qr(Le.y11,Le.x11),Qr(Le.y01,Le.x01),!s))}else n.moveTo(f+I,p+A),n.arc(f,p,e,l,u,!s);else n.moveTo(f+I,p+A);i>_o&&a>_o?S>_o?(be=xu(L,R,k,H,i,-S,s),Le=xu(I,A,U,G,i,-S,s),n.lineTo(f+be.cx+be.x01,p+be.cy+be.y01),S<b?n.arc(f+be.cx,p+be.cy,S,Qr(be.y01,be.x01),Qr(Le.y01,Le.x01),!s):(n.arc(f+be.cx,p+be.cy,S,Qr(be.y01,be.x01),Qr(be.y11,be.x11),!s),n.arc(f,p,i,Qr(be.cy+be.y11,be.cx+be.x11),Qr(Le.cy+Le.y11,Le.cx+Le.x11),s),n.arc(f+Le.cx,p+Le.cy,S,Qr(Le.y11,Le.x11),Qr(Le.y01,Le.x01),!s))):(n.lineTo(f+L,p+R),n.arc(f,p,i,u,l,s)):n.lineTo(f+L,p+R)}else n.moveTo(f,p);n.closePath()}}(e,i)},t.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},t}(Mn);Bo.prototype.type="sector";var sL=function(){this.cx=0,this.cy=0,this.r=0,this.r0=0},lh=function(n){function t(e){return n.call(this,e)||this}return ue(t,n),t.prototype.getDefaultShape=function(){return new sL},t.prototype.buildPath=function(e,i){var r=i.cx,o=i.cy,a=2*Math.PI;e.moveTo(r+i.r,o),e.arc(r,o,i.r,0,a,!1),e.moveTo(r+i.r0,o),e.arc(r,o,i.r0,0,a,!0)},t}(Mn);function D1(n,t,e,i,r,o,a){var s=.5*(e-n),l=.5*(i-t);return(2*(t-e)+s+l)*a+(-3*(t-e)-2*s-l)*o+s*r+t}function N1(n,t,e){var i=t.smooth,r=t.points;if(r&&r.length>=2){if(i&&"spline"!==i){var o=function(p,g,v,m){var y,b,S,E,I=[],A=[],L=[],R=[];if(m){S=[1/0,1/0],E=[-1/0,-1/0];for(var k=0,H=p.length;k<H;k++)wt(S,S,p[k]),At(E,E,p[k]);wt(S,S,m[0]),At(E,E,m[1])}for(k=0,H=p.length;k<H;k++){var U=p[k];if(v)y=p[k?k-1:H-1],b=p[(k+1)%H];else{if(0===k||k===H-1){I.push(ae(p[k]));continue}y=p[k-1],b=p[k+1]}Vt(A,b,y),Q(A,A,g);var G=we(U,y),K=we(U,b),$=G+K;0!==$&&(G/=$,K/=$),Q(L,A,-G),Q(R,A,K);var ee=Fe([],U,L),le=Fe([],U,R);m&&(At(ee,ee,S),wt(ee,ee,E),At(le,le,S),wt(le,le,E)),I.push(ee),I.push(le)}return v&&I.push(I.shift()),I}(r,i,e,t.smoothConstraint);n.moveTo(r[0][0],r[0][1]);for(var a=r.length,s=0;s<(e?a:a-1);s++){var l=o[2*s],u=o[2*s+1],h=r[(s+1)%a];n.bezierCurveTo(l[0],l[1],u[0],u[1],h[0],h[1])}}else{"spline"===i&&(r=function(p,g){for(var v=p.length,m=[],y=0,b=1;b<v;b++)y+=we(p[b-1],p[b]);var S=y/2;for(S=S<v?v:S,b=0;b<S;b++){var E=b/(S-1)*(g?v:v-1),I=Math.floor(E),A=E-I,L=void 0,R=p[I%v],k=void 0,H=void 0;g?(L=p[(I-1+v)%v],k=p[(I+1)%v],H=p[(I+2)%v]):(L=p[0===I?I:I-1],k=p[I>v-2?v-1:I+1],H=p[I>v-3?v-1:I+2]);var U=A*A,G=A*U;m.push([D1(L[0],R[0],k[0],H[0],A,U,G),D1(L[1],R[1],k[1],H[1],A,U,G)])}return m}(r,e)),n.moveTo(r[0][0],r[0][1]),s=1;for(var f=r.length;s<f;s++)n.lineTo(r[s][0],r[s][1])}e&&n.closePath()}}lh.prototype.type="ring";var lL=function(){this.points=null,this.smooth=0,this.smoothConstraint=null},Lo=function(n){function t(e){return n.call(this,e)||this}return ue(t,n),t.prototype.getDefaultShape=function(){return new lL},t.prototype.buildPath=function(e,i){N1(e,i,!0)},t}(Mn);Lo.prototype.type="polygon";var uL=function(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null},na=function(n){function t(e){return n.call(this,e)||this}return ue(t,n),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new uL},t.prototype.buildPath=function(e,i){N1(e,i,!1)},t}(Mn);na.prototype.type="polyline";var cL={},hL=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1},$r=function(n){function t(e){return n.call(this,e)||this}return ue(t,n),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new hL},t.prototype.buildPath=function(e,i){var r,o,a,s;if(this.subPixelOptimize){var l=Ip(cL,i,this.style);r=l.x1,o=l.y1,a=l.x2,s=l.y2}else r=i.x1,o=i.y1,a=i.x2,s=i.y2;var u=i.percent;0!==u&&(e.moveTo(r,o),u<1&&(a=r*(1-u)+a*u,s=o*(1-u)+s*u),e.lineTo(a,s))},t.prototype.pointAt=function(e){var i=this.shape;return[i.x1*(1-e)+i.x2*e,i.y1*(1-e)+i.y2*e]},t}(Mn);$r.prototype.type="line";var ga=[],fL=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1};function R1(n,t,e){return null===n.cpx2||null===n.cpy2?[(e?Zr:zi)(n.x1,n.cpx1,n.cpx2,n.x2,t),(e?Zr:zi)(n.y1,n.cpy1,n.cpy2,n.y2,t)]:[(e?Zc:yr)(n.x1,n.cpx1,n.x2,t),(e?Zc:yr)(n.y1,n.cpy1,n.y2,t)]}var uh=function(n){function t(e){return n.call(this,e)||this}return ue(t,n),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new fL},t.prototype.buildPath=function(e,i){var r=i.x1,o=i.y1,a=i.x2,s=i.y2,l=i.cpx1,u=i.cpy1,h=i.cpx2,f=i.cpy2,p=i.percent;0!==p&&(e.moveTo(r,o),null==h||null==f?(p<1&&(cu(r,l,a,p,ga),l=ga[1],a=ga[2],cu(o,u,s,p,ga),u=ga[1],s=ga[2]),e.quadraticCurveTo(l,u,a,s)):(p<1&&(As(r,l,h,a,p,ga),l=ga[1],h=ga[2],a=ga[3],As(o,u,f,s,p,ga),u=ga[1],f=ga[2],s=ga[3]),e.bezierCurveTo(l,u,h,f,a,s)))},t.prototype.pointAt=function(e){return R1(this.shape,e,!1)},t.prototype.tangentAt=function(e){var i=R1(this.shape,e,!0);return ce(i,i)},t}(Mn);uh.prototype.type="bezier-curve";var dL=function(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0},kf=function(n){function t(e){return n.call(this,e)||this}return ue(t,n),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new dL},t.prototype.buildPath=function(e,i){var r=i.cx,o=i.cy,a=Math.max(i.r,0),s=i.startAngle,l=i.endAngle,u=i.clockwise,h=Math.cos(s),f=Math.sin(s);e.moveTo(h*a+r,f*a+o),e.arc(r,o,a,s,l,!u)},t}(Mn);kf.prototype.type="arc";var lm=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type="compound",e}return ue(t,n),t.prototype._updatePathDirty=function(){for(var e=this.shape.paths,i=this.shapeChanged(),r=0;r<e.length;r++)i=i||e[r].shapeChanged();i&&this.dirtyShape()},t.prototype.beforeBrush=function(){this._updatePathDirty();for(var e=this.shape.paths||[],i=this.getGlobalScale(),r=0;r<e.length;r++)e[r].path||e[r].createPathProxy(),e[r].path.setScale(i[0],i[1],e[r].segmentIgnoreThreshold)},t.prototype.buildPath=function(e,i){for(var r=i.paths||[],o=0;o<r.length;o++)r[o].buildPath(e,r[o].shape,!0)},t.prototype.afterBrush=function(){for(var e=this.shape.paths||[],i=0;i<e.length;i++)e[i].pathUpdated()},t.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),Mn.prototype.getBoundingRect.call(this)},t}(Mn),O1=function(){function n(t){this.colorStops=t||[]}return n.prototype.addColorStop=function(t,e){this.colorStops.push({offset:t,color:e})},n}(),ch=function(n){function t(e,i,r,o,a,s){var l=n.call(this,a)||this;return l.x=e??0,l.y=i??0,l.x2=r??1,l.y2=o??0,l.type="linear",l.global=s||!1,l}return ue(t,n),t}(O1),um=function(n){function t(e,i,r,o,a){var s=n.call(this,o)||this;return s.x=e??.5,s.y=i??.5,s.r=r??.5,s.type="radial",s.global=a||!1,s}return ue(t,n),t}(O1),gc=[0,0],vc=[0,0],zp=new gn,Vp=new gn,Gp=function(){function n(t,e){this._corners=[],this._axes=[],this._origin=[0,0];for(var i=0;i<4;i++)this._corners[i]=new gn;for(i=0;i<2;i++)this._axes[i]=new gn;t&&this.fromBoundingRect(t,e)}return n.prototype.fromBoundingRect=function(t,e){var i=this._corners,r=this._axes,o=t.x,a=t.y,s=o+t.width,l=a+t.height;if(i[0].set(o,a),i[1].set(s,a),i[2].set(s,l),i[3].set(o,l),e)for(var u=0;u<4;u++)i[u].transform(e);for(gn.sub(r[0],i[1],i[0]),gn.sub(r[1],i[3],i[0]),r[0].normalize(),r[1].normalize(),u=0;u<2;u++)this._origin[u]=r[u].dot(i[0])},n.prototype.intersect=function(t,e){var i=!0,r=!e;return zp.set(1/0,1/0),Vp.set(0,0),!this._intersectCheckOneSide(this,t,zp,Vp,r,1)&&(i=!1,r)||!this._intersectCheckOneSide(t,this,zp,Vp,r,-1)&&(i=!1,r)||r||gn.copy(e,i?zp:Vp),i},n.prototype._intersectCheckOneSide=function(t,e,i,r,o,a){for(var s=!0,l=0;l<2;l++){var u=this._axes[l];if(this._getProjMinMaxOnAxis(l,t._corners,gc),this._getProjMinMaxOnAxis(l,e._corners,vc),gc[1]<vc[0]||gc[0]>vc[1]){if(s=!1,o)return s;var h=Math.abs(vc[0]-gc[1]),f=Math.abs(gc[0]-vc[1]);Math.min(h,f)>r.len()&&gn.scale(r,u,h<f?-h*a:f*a)}else i&&(h=Math.abs(vc[0]-gc[1]),f=Math.abs(gc[0]-vc[1]),Math.min(h,f)<i.len()&&gn.scale(i,u,h<f?h*a:-f*a))}return s},n.prototype._getProjMinMaxOnAxis=function(t,e,i){for(var r=this._axes[t],o=this._origin,a=e[0].dot(r)+o[t],s=a,l=a,u=1;u<e.length;u++){var h=e[u].dot(r)+o[t];s=Math.min(h,s),l=Math.max(h,l)}i[0]=s,i[1]=l},n}(),pL=[],Pf=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.notClear=!0,e.incremental=!0,e._displayables=[],e._temporaryDisplayables=[],e._cursor=0,e}return ue(t,n),t.prototype.traverse=function(e,i){e.call(i,this)},t.prototype.useStyle=function(){this.style={}},t.prototype.getCursor=function(){return this._cursor},t.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},t.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},t.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},t.prototype.addDisplayable=function(e,i){i?this._temporaryDisplayables.push(e):this._displayables.push(e),this.markRedraw()},t.prototype.addDisplayables=function(e,i){i=i||!1;for(var r=0;r<e.length;r++)this.addDisplayable(e[r],i)},t.prototype.getDisplayables=function(){return this._displayables},t.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},t.prototype.eachPendingDisplayable=function(e){for(var i=this._cursor;i<this._displayables.length;i++)e&&e(this._displayables[i]);for(i=0;i<this._temporaryDisplayables.length;i++)e&&e(this._temporaryDisplayables[i])},t.prototype.update=function(){this.updateTransform();for(var e=this._cursor;e<this._displayables.length;e++)(i=this._displayables[e]).parent=this,i.update(),i.parent=null;for(e=0;e<this._temporaryDisplayables.length;e++){var i;(i=this._temporaryDisplayables[e]).parent=this,i.update(),i.parent=null}},t.prototype.getBoundingRect=function(){if(!this._rect){for(var e=new cn(1/0,1/0,-1/0,-1/0),i=0;i<this._displayables.length;i++){var r=this._displayables[i],o=r.getBoundingRect().clone();r.needLocalTransform()&&o.applyTransform(r.getLocalTransform(pL)),e.union(o)}this._rect=e}return this._rect},t.prototype.contain=function(e,i){var r=this.transformCoordToLocal(e,i);if(this.getBoundingRect().contain(r[0],r[1]))for(var o=0;o<this._displayables.length;o++)if(this._displayables[o].contain(e,i))return!0;return!1},t}(Na),k1=Fn();function Wp(n,t,e,i,r){var o;if(t&&t.ecModel){var a=t.ecModel.getUpdatePayload();o=a&&a.animation}var s="update"===n;if(t&&t.isAnimationEnabled()){var l=void 0,u=void 0,h=void 0;return i?(l=ln(i.duration,200),u=ln(i.easing,"cubicOut"),h=0):(l=t.getShallow(s?"animationDurationUpdate":"animationDuration"),u=t.getShallow(s?"animationEasingUpdate":"animationEasing"),h=t.getShallow(s?"animationDelayUpdate":"animationDelay")),o&&(null!=o.duration&&(l=o.duration),null!=o.easing&&(u=o.easing),null!=o.delay&&(h=o.delay)),"function"==typeof h&&(h=h(e,r)),"function"==typeof l&&(l=l(e)),{duration:l||0,delay:h,easing:u}}return null}function cm(n,t,e,i,r,o,a){var s,l=!1;"function"==typeof r?(a=o,o=r,r=null):Bt(r)&&(o=r.cb,a=r.during,l=r.isFrom,s=r.removeOpt,r=r.dataIndex);var u="remove"===n;u||t.stopAnimation("remove");var h=Wp(n,i,r,u?s||{}:null,i&&i.getAnimationDelayParams?i.getAnimationDelayParams(t,r):null);if(h&&h.duration>0){var f={duration:h.duration,delay:h.delay||0,easing:h.easing,done:o,force:!!o||!!a,setToFinal:!u,scope:n,during:a};l?t.animateFrom(e,f):t.animateTo(e,f)}else t.stopAnimation(),!l&&t.attr(e),a&&a(1),o&&o()}function Un(n,t,e,i,r,o){cm("update",n,t,e,i,r,o)}function Vi(n,t,e,i,r,o){cm("init",n,t,e,i,r,o)}function hh(n){if(!n.__zr)return!0;for(var t=0;t<n.animators.length;t++)if("remove"===n.animators[t].scope)return!0;return!1}function bu(n,t,e,i,r,o){hh(n)||cm("remove",n,t,e,i,r,o)}function P1(n,t,e,i){n.removeTextContent(),n.removeTextGuideLine(),bu(n,{style:{opacity:0}},t,e,i)}function Bf(n,t,e){function i(){n.parent&&n.parent.remove(n)}n.isGroup?n.traverse(function(r){r.isGroup||P1(r,t,e,i)}):P1(n,t,e,i)}function ks(n){k1(n).oldStyle=n.style}var Yp=Math.max,Xp=Math.min,hm={};function B1(n){return Mn.extend(n)}function F1(n,t){return function(n,t){var e=dr(n,t);return function(i){function r(o){var a=i.call(this,o)||this;return a.applyTransform=e.applyTransform,a.buildPath=e.buildPath,a}return ue(r,i),r}(Ao)}(n,t)}function ts(n,t){hm[n]=t}function jp(n){if(hm.hasOwnProperty(n))return hm[n]}function Ff(n,t,e,i){var r=yo(n,t);return e&&("center"===i&&(e=H1(e,r.getBoundingRect())),dm(r,e)),r}function fm(n,t,e){var i=new fr({style:{image:n,x:t.x,y:t.y,width:t.width,height:t.height},onload:function(r){"center"===e&&i.setStyle(H1(t,{width:r.width,height:r.height}))}});return i}function H1(n,t){var e,i=t.width/t.height,r=n.height*i;return e=r<=n.width?n.height:(r=n.width)/i,{x:n.x+n.width/2-r/2,y:n.y+n.height/2-e/2,width:r,height:e}}var ka=function(n,t){for(var e=[],i=n.length,r=0;r<i;r++)e.push(n[r].getUpdatedPathProxy(!0));var a=new Mn(t);return a.createPathProxy(),a.buildPath=function(s){if(mo(s)){s.appendPath(e);var l=s.getContext();l&&s.rebuildPath(l,1)}},a};function dm(n,t){if(n.applyTransform){var e=n.getBoundingRect().calculateTransform(t);n.applyTransform(e)}}var qp=cl;function Su(n,t){for(var e=Ea([]);n&&n!==t;)jr(e,n.getLocalTransform(),e),n=n.parent;return e}function Ps(n,t,e){return t&&!gt(t)&&(t=gr.getLocalTransform(t)),e&&(t=Dr([],t)),pt([],n,t)}function Kp(n,t,e){var i=0===t[4]||0===t[5]||0===t[0]?1:Math.abs(2*t[4]/t[0]),r=0===t[4]||0===t[5]||0===t[2]?1:Math.abs(2*t[4]/t[2]),o=["left"===n?-i:"right"===n?i:0,"top"===n?-r:"bottom"===n?r:0];return o=Ps(o,t,e),Math.abs(o[0])>Math.abs(o[1])?o[0]>0?"right":"left":o[1]>0?"bottom":"top"}function U1(n){return!n.isGroup}function Hf(n,t,e){if(n&&t){var i,r=(i={},n.traverse(function(a){U1(a)&&a.anid&&(i[a.anid]=a)}),i);t.traverse(function(a){if(U1(a)&&a.anid){var s=r[a.anid];if(s){var l=o(a);a.attr(o(s)),Un(a,l,e,pn(a).dataIndex)}}})}function o(a){var s={x:a.x,y:a.y,rotation:a.rotation};return null!=a.shape&&(s.shape=se({},a.shape)),s}}function pm(n,t){return Ve(n,function(e){var i=e[0];i=Yp(i,t.x),i=Xp(i,t.x+t.width);var r=e[1];return r=Yp(r,t.y),[i,r=Xp(r,t.y+t.height)]})}function z1(n,t){var e=Yp(n.x,t.x),i=Xp(n.x+n.width,t.x+t.width),r=Yp(n.y,t.y),o=Xp(n.y+n.height,t.y+t.height);if(i>=e&&o>=r)return{x:e,y:r,width:i-e,height:o-r}}function fh(n,t,e){var i=se({rectHover:!0},t),r=i.style={strokeNoScale:!0};if(e=e||{x:-1,y:-1,width:2,height:2},n)return 0===n.indexOf("image://")?(r.image=n.slice(8),Ee(r,e),new fr(i)):Ff(n.replace("path://",""),i,e,"center")}function Uf(n,t,e,i,r){for(var o=0,a=r[r.length-1];o<r.length;o++){var s=r[o];if(V1(n,t,e,i,s[0],s[1],a[0],a[1]))return!0;a=s}}function V1(n,t,e,i,r,o,a,s){var l,u=e-n,h=i-t,f=a-r,p=s-o,g=gm(f,p,u,h);if((l=g)<=1e-6&&l>=-1e-6)return!1;var v=n-r,m=t-o,y=gm(v,m,u,h)/g;if(y<0||y>1)return!1;var b=gm(v,m,f,p)/g;return!(b<0||b>1)}function gm(n,t,e,i){return n*i-e*t}function dh(n){var t=n.itemTooltipOption,e=n.componentModel,i=n.itemName,r=Jt(t)?{formatter:t}:t,o=e.mainType,a=e.componentIndex,s={componentType:o,name:i,$vars:["name"]};s[o+"Index"]=a;var l=n.formatterParamsExtra;l&&Y(Mt(l),function(h){ut(s,h)||(s[h]=l[h],s.$vars.push(h))});var u=pn(n.el);u.componentMainType=o,u.componentIndex=a,u.tooltipConfig={name:i,option:Ee({content:i,formatterParams:s},r)}}ts("circle",gi),ts("ellipse",Or),ts("sector",Bo),ts("ring",lh),ts("polygon",Lo),ts("polyline",na),ts("rect",kn),ts("line",$r),ts("bezierCurve",uh),ts("arc",kf);var zf=Object.freeze({__proto__:null,updateProps:Un,initProps:Vi,removeElement:bu,removeElementWithFadeOut:Bf,isElementRemoved:hh,extendShape:B1,extendPath:F1,registerShape:ts,getShapeClass:jp,makePath:Ff,makeImage:fm,mergePath:ka,resizePath:dm,subPixelOptimizeLine:function(n){return Ip(n.shape,n.shape,n.style),n},subPixelOptimizeRect:function(n){return nh(n.shape,n.shape,n.style),n},subPixelOptimize:qp,getTransform:Su,applyTransform:Ps,transformDirection:Kp,groupTransition:Hf,clipPointsByRect:pm,clipRectByRect:z1,createIcon:fh,linePolygonIntersect:Uf,lineLineIntersect:V1,setTooltipConfig:dh,Group:Ft,Image:fr,Text:Nn,Circle:gi,Ellipse:Or,Sector:Bo,Ring:lh,Polygon:Lo,Polyline:na,Rect:kn,Line:$r,BezierCurve:uh,Arc:kf,IncrementalDisplayable:Pf,CompoundPath:lm,LinearGradient:ch,RadialGradient:um,BoundingRect:cn,OrientedBoundingRect:Gp,Point:gn,Path:Mn}),Zp={};function G1(n,t){for(var e=0;e<Co.length;e++){var i=Co[e],r=t[i],o=n.ensureState(i);o.style=o.style||{},o.style.text=r}var a=n.currentStates.slice();n.clearStates(!0),n.setStyle({text:t.normal}),n.useStates(a,!0)}function vm(n,t,e){var i,r=n.labelFetcher,o=n.labelDataIndex,a=n.labelDimIndex,s=t.normal;r&&(i=r.getFormattedLabel(o,"normal",null,a,s&&s.get("formatter"),null!=e?{interpolatedValue:e}:null)),null==i&&(i=sn(n.defaultText)?n.defaultText(o,n,e):n.defaultText);for(var l={normal:i},u=0;u<Co.length;u++){var h=Co[u],f=t[h];l[h]=ln(r?r.getFormattedLabel(o,h,null,a,f&&f.get("formatter")):null,i)}return l}function Fo(n,t,e,i){e=e||Zp;for(var r=n instanceof Nn,o=!1,a=0;a<mu.length;a++)if((p=t[mu[a]])&&p.getShallow("show")){o=!0;break}var s=r?n:n.getTextContent();if(o){r||(s||(s=new Nn,n.setTextContent(s)),n.stateProxy&&(s.stateProxy=n.stateProxy));var l=vm(e,t),u=t.normal,h=!!u.getShallow("show"),f=_r(u,i&&i.normal,e,!1,!r);for(f.text=l.normal,r||n.setTextConfig(Jp(u,e,!1)),a=0;a<Co.length;a++){var p,g=Co[a];if(p=t[g]){var v=s.ensureState(g),m=!!ln(p.getShallow("show"),h);m!==h&&(v.ignore=!m),v.style=_r(p,i&&i[g],e,!0,!r),v.style.text=l[g],!r&&(n.ensureState(g).textConfig=Jp(p,e,!0))}}s.silent=!!u.getShallow("silent"),null!=s.style.x&&(f.x=s.style.x),null!=s.style.y&&(f.y=s.style.y),s.ignore=!h,s.useStyle(f),s.dirty(),e.enableTextSetter&&(Vf(s).setLabelText=function(y){var b=vm(e,t,y);G1(s,b)})}else s&&(s.ignore=!0);n.dirty()}function xo(n,t){for(var e={normal:n.getModel(t=t||"label")},i=0;i<Co.length;i++){var r=Co[i];e[r]=n.getModel([r,t])}return e}function _r(n,t,e,i,r){var o={};return function(a,s,l,u,h){l=l||Zp;var f,p=s.ecModel,g=p&&p.option.textStyle,v=function(E){for(var I;E&&E!==E.ecModel;){var A=(E.option||Zp).rich;if(A){I=I||{};for(var L=Mt(A),R=0;R<L.length;R++)I[L[R]]=1}E=E.parentModel}return I}(s);if(v)for(var m in f={},v)if(v.hasOwnProperty(m)){var y=s.getModel(["rich",m]);j1(f[m]={},y,g,l,u,h,!1,!0)}f&&(a.rich=f);var b=s.get("overflow");b&&(a.overflow=b);var S=s.get("minMargin");null!=S&&(a.margin=S),j1(a,s,g,l,u,h,!0,!1)}(o,n,e,i,r),t&&se(o,t),o}function Jp(n,t,e){t=t||{};var i,r={},o=n.getShallow("rotate"),a=ln(n.getShallow("distance"),e?null:5),s=n.getShallow("offset");return"outside"===(i=n.getShallow("position")||(e?null:"inside"))&&(i=t.defaultOutsidePosition||"top"),null!=i&&(r.position=i),null!=s&&(r.offset=s),null!=o&&(o*=Math.PI/180,r.rotation=o),null!=a&&(r.distance=a),r.outsideFill="inherit"===n.get("color")?t.inheritColor||null:"auto",r}var W1=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],Y1=["align","lineHeight","width","height","tag","verticalAlign"],X1=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function j1(n,t,e,i,r,o,a,s){e=!r&&e||Zp;var l=i&&i.inheritColor,u=t.getShallow("color"),h=t.getShallow("textBorderColor"),f=ln(t.getShallow("opacity"),e.opacity);"inherit"!==u&&"auto"!==u||(u=l||null),"inherit"!==h&&"auto"!==h||(h=l||null),o||(u=u||e.color,h=h||e.textBorderColor),null!=u&&(n.fill=u),null!=h&&(n.stroke=h);var p=ln(t.getShallow("textBorderWidth"),e.textBorderWidth);null!=p&&(n.lineWidth=p);var g=ln(t.getShallow("textBorderType"),e.textBorderType);null!=g&&(n.lineDash=g);var v=ln(t.getShallow("textBorderDashOffset"),e.textBorderDashOffset);null!=v&&(n.lineDashOffset=v),r||null!=f||s||(f=i&&i.defaultOpacity),null!=f&&(n.opacity=f),r||o||null==n.fill&&i.inheritColor&&(n.fill=i.inheritColor);for(var m=0;m<W1.length;m++){var y=W1[m];null!=(S=ln(t.getShallow(y),e[y]))&&(n[y]=S)}for(m=0;m<Y1.length;m++)null!=(S=t.getShallow(y=Y1[m]))&&(n[y]=S);if(null==n.verticalAlign){var b=t.getShallow("baseline");null!=b&&(n.verticalAlign=b)}if(!a||!i.disableBox){for(m=0;m<X1.length;m++){var S;null!=(S=t.getShallow(y=X1[m]))&&(n[y]=S)}var E=t.getShallow("borderType");null!=E&&(n.borderDash=E),"auto"!==n.backgroundColor&&"inherit"!==n.backgroundColor||!l||(n.backgroundColor=l),"auto"!==n.borderColor&&"inherit"!==n.borderColor||!l||(n.borderColor=l)}}function q1(n,t){var e=t&&t.getModel("textStyle");return Ji([n.fontStyle||e&&e.getShallow("fontStyle")||"",n.fontWeight||e&&e.getShallow("fontWeight")||"",(n.fontSize||e&&e.getShallow("fontSize")||12)+"px",n.fontFamily||e&&e.getShallow("fontFamily")||"sans-serif"].join(" "))}var Vf=Fn();function K1(n,t,e,i){if(n){var r=Vf(n);r.prevValue=r.value,r.value=e;var o=t.normal;r.valueAnimation=o.get("valueAnimation"),r.valueAnimation&&(r.precision=o.get("precision"),r.defaultInterpolatedText=i,r.statesModels=t)}}function Z1(n,t,e,i,r){var o=Vf(n);if(o.valueAnimation){var a=o.defaultInterpolatedText,s=ln(o.interpolatedValue,o.prevValue),l=o.value;(null==o.prevValue?Vi:Un)(n,{},i,t,null,function(u){var h=hp(e,o.precision,s,l,u);o.interpolatedValue=1===u?null:h;var f=vm({labelDataIndex:t,labelFetcher:r,defaultText:a?a(h):h+""},o.statesModels,h);G1(n,f)})}}var mm,ym,vL=["textStyle","color"],_m=new Nn,mL=function(){function n(){}return n.prototype.getTextColor=function(t){var e=this.ecModel;return this.getShallow("color")||(!t&&e?e.get(vL):null)},n.prototype.getFont=function(){return q1({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},n.prototype.getTextRect=function(t){return _m.useStyle({text:t,fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily"),verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline"),padding:this.getShallow("padding"),lineHeight:this.getShallow("lineHeight"),rich:this.getShallow("rich")}),_m.update(),_m.getBoundingRect()},n}(),J1=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],yL=il(J1),_L=function(){function n(){}return n.prototype.getLineStyle=function(t){return yL(this,t)},n}(),Q1=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],xL=il(Q1),bL=function(){function n(){}return n.prototype.getItemStyle=function(t,e){return xL(this,t,e)},n}(),Qn=function(){function n(t,e,i){this.parentModel=e,this.ecModel=i,this.option=t}return n.prototype.init=function(t,e,i){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o]},n.prototype.mergeOption=function(t,e){Ie(this.option,t,!0)},n.prototype.get=function(t,e){return null==t?this.option:this._doGet(this.parsePath(t),!e&&this.parentModel)},n.prototype.getShallow=function(t,e){var i=this.option,r=null==i?i:i[t];if(null==r&&!e){var o=this.parentModel;o&&(r=o.getShallow(t))}return r},n.prototype.getModel=function(t,e){var i=null!=t,r=i?this.parsePath(t):null;return new n(i?this._doGet(r):this.option,e=e||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(r)),this.ecModel)},n.prototype.isEmpty=function(){return null==this.option},n.prototype.restoreData=function(){},n.prototype.clone=function(){return new this.constructor(Te(this.option))},n.prototype.parsePath=function(t){return"string"==typeof t?t.split("."):t},n.prototype.resolveParentPath=function(t){return t},n.prototype.isAnimationEnabled=function(){if(!ve.node&&this.option){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},n.prototype._doGet=function(t,e){var i=this.option;if(!t)return i;for(var r=0;r<t.length&&(!t[r]||null!=(i=i&&"object"==typeof i?i[t[r]]:null));r++);return null==i&&e&&(i=e._doGet(this.resolveParentPath(t),e.parentModel)),i},n}();Xc(Qn),mm=Qn,ym=["__\0is_clz",Ju++].join("_"),mm.prototype[ym]=!0,mm.isInstance=function(n){return!(!n||!n[ym])},lt(Qn,_L),lt(Qn,bL),lt(Qn,fp),lt(Qn,mL);var SL=Math.round(10*Math.random());function ph(n){return[n||"",SL++].join("_")}function wu(n,t){return Ie(Ie({},n,!0),t,!0)}var $p={},bm={},$1=ve.domSupported&&(document.documentElement.lang||navigator.language||navigator.browserLanguage).toUpperCase().indexOf("ZH")>-1?"ZH":"EN";function Sm(n,t){n=n.toUpperCase(),bm[n]=new Qn(t),$p[n]=t}Sm("EN",{time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}}),Sm("ZH",{time:{month:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"],monthAbbr:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],dayOfWeek:["\u661f\u671f\u65e5","\u661f\u671f\u4e00","\u661f\u671f\u4e8c","\u661f\u671f\u4e09","\u661f\u671f\u56db","\u661f\u671f\u4e94","\u661f\u671f\u516d"],dayOfWeekAbbr:["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"]},legend:{selector:{all:"\u5168\u9009",inverse:"\u53cd\u9009"}},toolbox:{brush:{title:{rect:"\u77e9\u5f62\u9009\u62e9",polygon:"\u5708\u9009",lineX:"\u6a2a\u5411\u9009\u62e9",lineY:"\u7eb5\u5411\u9009\u62e9",keep:"\u4fdd\u6301\u9009\u62e9",clear:"\u6e05\u9664\u9009\u62e9"}},dataView:{title:"\u6570\u636e\u89c6\u56fe",lang:["\u6570\u636e\u89c6\u56fe","\u5173\u95ed","\u5237\u65b0"]},dataZoom:{title:{zoom:"\u533a\u57df\u7f29\u653e",back:"\u533a\u57df\u7f29\u653e\u8fd8\u539f"}},magicType:{title:{line:"\u5207\u6362\u4e3a\u6298\u7ebf\u56fe",bar:"\u5207\u6362\u4e3a\u67f1\u72b6\u56fe",stack:"\u5207\u6362\u4e3a\u5806\u53e0",tiled:"\u5207\u6362\u4e3a\u5e73\u94fa"}},restore:{title:"\u8fd8\u539f"},saveAsImage:{title:"\u4fdd\u5b58\u4e3a\u56fe\u7247",lang:["\u53f3\u952e\u53e6\u5b58\u4e3a\u56fe\u7247"]}},series:{typeNames:{pie:"\u997c\u56fe",bar:"\u67f1\u72b6\u56fe",line:"\u6298\u7ebf\u56fe",scatter:"\u6563\u70b9\u56fe",effectScatter:"\u6d9f\u6f2a\u6563\u70b9\u56fe",radar:"\u96f7\u8fbe\u56fe",tree:"\u6811\u56fe",treemap:"\u77e9\u5f62\u6811\u56fe",boxplot:"\u7bb1\u578b\u56fe",candlestick:"K\u7ebf\u56fe",k:"K\u7ebf\u56fe",heatmap:"\u70ed\u529b\u56fe",map:"\u5730\u56fe",parallel:"\u5e73\u884c\u5750\u6807\u56fe",lines:"\u7ebf\u56fe",graph:"\u5173\u7cfb\u56fe",sankey:"\u6851\u57fa\u56fe",funnel:"\u6f0f\u6597\u56fe",gauge:"\u4eea\u8868\u76d8\u56fe",pictorialBar:"\u8c61\u5f62\u67f1\u56fe",themeRiver:"\u4e3b\u9898\u6cb3\u6d41\u56fe",sunburst:"\u65ed\u65e5\u56fe"}},aria:{general:{withTitle:"\u8fd9\u662f\u4e00\u4e2a\u5173\u4e8e\u201c{title}\u201d\u7684\u56fe\u8868\u3002",withoutTitle:"\u8fd9\u662f\u4e00\u4e2a\u56fe\u8868\uff0c"},series:{single:{prefix:"",withName:"\u56fe\u8868\u7c7b\u578b\u662f{seriesType}\uff0c\u8868\u793a{seriesName}\u3002",withoutName:"\u56fe\u8868\u7c7b\u578b\u662f{seriesType}\u3002"},multiple:{prefix:"\u5b83\u7531{seriesCount}\u4e2a\u56fe\u8868\u7cfb\u5217\u7ec4\u6210\u3002",withName:"\u7b2c{seriesId}\u4e2a\u7cfb\u5217\u662f\u4e00\u4e2a\u8868\u793a{seriesName}\u7684{seriesType}\uff0c",withoutName:"\u7b2c{seriesId}\u4e2a\u7cfb\u5217\u662f\u4e00\u4e2a{seriesType}\uff0c",separator:{middle:"\uff1b",end:"\u3002"}}},data:{allData:"\u5176\u6570\u636e\u662f\u2014\u2014",partialData:"\u5176\u4e2d\uff0c\u524d{displayCnt}\u9879\u662f\u2014\u2014",withName:"{name}\u7684\u6570\u636e\u662f{value}",withoutName:"{value}",separator:{middle:"\uff0c",end:""}}}});var Gf=864e5,ix=31536e6,Wf={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},rx={year:"{yyyy}",month:"{yyyy}-{MM}",day:"{yyyy}-{MM}-{dd}",hour:"{yyyy}-{MM}-{dd} "+Wf.hour,minute:"{yyyy}-{MM}-{dd} "+Wf.minute,second:"{yyyy}-{MM}-{dd} "+Wf.second,millisecond:Wf.none},wm=["year","month","day","hour","minute","second","millisecond"],ox=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function Pa(n,t){return"0000".substr(0,t-(n+="").length)+n}function gh(n){switch(n){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return n}}function EL(n){return n===gh(n)}function Yf(n,t,e,i){var I,r=io(n),o=r[Tm(e)](),a=r[vh(e)]()+1,s=Math.floor((a-1)/4)+1,l=r[eg(e)](),u=r["get"+(e?"UTC":"")+"Day"](),h=r[Xf(e)](),f=(h-1)%12+1,p=r[tg(e)](),g=r[ng(e)](),v=r[ig(e)](),m=(i instanceof Qn?i:(I=i||$1,bm[I]||bm.EN)).getModel("time"),y=m.get("month"),b=m.get("monthAbbr"),S=m.get("dayOfWeek"),E=m.get("dayOfWeekAbbr");return(t||"").replace(/{yyyy}/g,o+"").replace(/{yy}/g,o%100+"").replace(/{Q}/g,s+"").replace(/{MMMM}/g,y[a-1]).replace(/{MMM}/g,b[a-1]).replace(/{MM}/g,Pa(a,2)).replace(/{M}/g,a+"").replace(/{dd}/g,Pa(l,2)).replace(/{d}/g,l+"").replace(/{eeee}/g,S[u]).replace(/{ee}/g,E[u]).replace(/{e}/g,u+"").replace(/{HH}/g,Pa(h,2)).replace(/{H}/g,h+"").replace(/{hh}/g,Pa(f+"",2)).replace(/{h}/g,f+"").replace(/{mm}/g,Pa(p,2)).replace(/{m}/g,p+"").replace(/{ss}/g,Pa(g,2)).replace(/{s}/g,g+"").replace(/{SSS}/g,Pa(v,3)).replace(/{S}/g,v+"")}function ax(n,t){var e=io(n),i=e[vh(t)]()+1,r=e[eg(t)](),o=e[Xf(t)](),a=e[tg(t)](),s=e[ng(t)](),l=0===e[ig(t)](),u=l&&0===s,h=u&&0===a,f=h&&0===o,p=f&&1===r;return p&&1===i?"year":p?"month":f?"day":h?"hour":u?"minute":l?"second":"millisecond"}function sx(n,t,e){var i="number"==typeof n?io(n):n;switch(t=t||ax(n,e)){case"year":return i[Tm(e)]();case"half-year":return i[vh(e)]()>=6?1:0;case"quarter":return Math.floor((i[vh(e)]()+1)/4);case"month":return i[vh(e)]();case"day":return i[eg(e)]();case"half-day":return i[Xf(e)]()/24;case"hour":return i[Xf(e)]();case"minute":return i[tg(e)]();case"second":return i[ng(e)]();case"millisecond":return i[ig(e)]()}}function Tm(n){return n?"getUTCFullYear":"getFullYear"}function vh(n){return n?"getUTCMonth":"getMonth"}function eg(n){return n?"getUTCDate":"getDate"}function Xf(n){return n?"getUTCHours":"getHours"}function tg(n){return n?"getUTCMinutes":"getMinutes"}function ng(n){return n?"getUTCSeconds":"getSeconds"}function ig(n){return n?"getUTCMilliseconds":"getMilliseconds"}function CL(n){return n?"setUTCFullYear":"setFullYear"}function lx(n){return n?"setUTCMonth":"setMonth"}function ux(n){return n?"setUTCDate":"setDate"}function cx(n){return n?"setUTCHours":"setHours"}function hx(n){return n?"setUTCMinutes":"setMinutes"}function fx(n){return n?"setUTCSeconds":"setSeconds"}function dx(n){return n?"setUTCMilliseconds":"setMilliseconds"}function Em(n){if(!Il(n))return Jt(n)?n:"-";var t=(n+"").split(".");return t[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(t.length>1?"."+t[1]:"")}function Cm(n,t){return n=(n||"").toLowerCase().replace(/-(.)/g,function(e,i){return i.toUpperCase()}),t&&n&&(n=n.charAt(0).toUpperCase()+n.slice(1)),n}var mc=Ai,IL=/([&<>"'])/g,AL={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function va(n){return null==n?"":(n+"").replace(IL,function(t,e){return AL[e]})}function rg(n,t,e){function i(u){return u&&Ji(u)?u:"-"}function r(u){return!(null==u||isNaN(u)||!isFinite(u))}var o="time"===t,a=n instanceof Date;if(o||a){var s=o?io(n):n;if(!isNaN(+s))return Yf(s,"{yyyy}-{MM}-{dd} {hh}:{mm}:{ss}",e);if(a)return"-"}if("ordinal"===t)return Pi(n)?i(n):Ci(n)&&r(n)?n+"":"-";var l=po(n);return r(l)?Em(l):Pi(n)?i(n):"-"}var px=["a","b","c","d","e","f","g"],Im=function(n,t){return"{"+n+(t??"")+"}"};function Am(n,t,e){rt(t)||(t=[t]);var i=t.length;if(!i)return"";for(var r=t[0].$vars||[],o=0;o<r.length;o++){var a=px[o];n=n.replace(Im(a),Im(a,0))}for(var s=0;s<i;s++)for(var l=0;l<r.length;l++){var u=t[s][r[l]];n=n.replace(Im(px[l],s),e?va(u):u)}return n}function gx(n,t){var e=Jt(n)?{color:n,extraCssText:t}:n||{},i=e.color,r=e.type;t=e.extraCssText;var o=e.renderMode||"html";return i?"html"===o?"subItem"===r?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+va(i)+";"+(t||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+va(i)+";"+(t||"")+'"></span>':{renderMode:o,content:"{"+(e.markerId||"markerX")+"|}  ",style:"subItem"===r?{width:4,height:4,borderRadius:2,backgroundColor:i}:{width:10,height:10,borderRadius:5,backgroundColor:i}}:""}function yc(n,t){return t=t||"transparent",Jt(n)?n:Bt(n)&&n.colorStops&&(n.colorStops[0]||{}).color||t}function og(n,t){if("_blank"===t||"blank"===t){var e=window.open();e.opener=null,e.location.href=n}else window.open(n,t)}var ag=Y,vx=["left","right","top","bottom","width","height"],_c=[["width","left","right"],["height","top","bottom"]];function Mm(n,t,e,i,r){var o=0,a=0;null==i&&(i=1/0),null==r&&(r=1/0);var s=0;t.eachChild(function(l,u){var h,f,p=l.getBoundingRect(),g=t.childAt(u+1),v=g&&g.getBoundingRect();if("horizontal"===n){var m=p.width+(v?-v.x+p.x:0);(h=o+m)>i||l.newline?(o=0,h=m,a+=s+e,s=p.height):s=Math.max(s,p.height)}else{var y=p.height+(v?-v.y+p.y:0);(f=a+y)>r||l.newline?(o+=s+e,a=0,f=y,s=p.width):s=Math.max(s,p.width)}l.newline||(l.x=o,l.y=a,l.markRedraw(),"horizontal"===n?o=h+e:a=f+e)})}var xc=Mm;function Br(n,t,e){e=mc(e||0);var i=t.width,r=t.height,o=kt(n.left,i),a=kt(n.top,r),s=kt(n.right,i),l=kt(n.bottom,r),u=kt(n.width,i),h=kt(n.height,r),f=e[2]+e[0],p=e[1]+e[3],g=n.aspect;switch(isNaN(u)&&(u=i-s-p-o),isNaN(h)&&(h=r-l-f-a),null!=g&&(isNaN(u)&&isNaN(h)&&(g>i/r?u=.8*i:h=.8*r),isNaN(u)&&(u=g*h),isNaN(h)&&(h=u/g)),isNaN(o)&&(o=i-s-u-p),isNaN(a)&&(a=r-l-h-f),n.left||n.right){case"center":o=i/2-u/2-e[3];break;case"right":o=i-u-p}switch(n.top||n.bottom){case"middle":case"center":a=r/2-h/2-e[0];break;case"bottom":a=r-h-f}o=o||0,a=a||0,isNaN(u)&&(u=i-p-o-(s||0)),isNaN(h)&&(h=r-f-a-(l||0));var v=new cn(o+e[3],a+e[0],u,h);return v.margin=e,v}function sg(n,t,e,i,r){var o=!r||!r.hv||r.hv[0],a=!r||!r.hv||r.hv[1],s=r&&r.boundingMode||"all";if(o||a){var l;if("raw"===s)l="group"===n.type?new cn(0,0,+t.width||0,+t.height||0):n.getBoundingRect();else if(l=n.getBoundingRect(),n.needLocalTransform()){var u=n.getLocalTransform();(l=l.clone()).applyTransform(u)}var h=Br(Ee({width:l.width,height:l.height},t),e,i),f=o?h.x-l.x:0,p=a?h.y-l.y:0;"raw"===s?(n.x=f,n.y=p):(n.x+=f,n.y+=p),n.markRedraw()}}function jf(n){var t=n.layoutMode||n.constructor.layoutMode;return Bt(t)?t:t?{type:t}:null}function Tu(n,t,e){var i=e&&e.ignoreSize;!rt(i)&&(i=[i,i]);var r=a(_c[0],0),o=a(_c[1],1);function a(h,f){var p={},g=0,v={},m=0;if(ag(h,function(S){v[S]=n[S]}),ag(h,function(S){s(t,S)&&(p[S]=v[S]=t[S]),l(p,S)&&g++,l(v,S)&&m++}),i[f])return l(t,h[1])?v[h[2]]=null:l(t,h[2])&&(v[h[1]]=null),v;if(2!==m&&g){if(g>=2)return p;for(var y=0;y<h.length;y++){var b=h[y];if(!s(p,b)&&s(n,b)){p[b]=n[b];break}}return p}return v}function s(h,f){return h.hasOwnProperty(f)}function l(h,f){return null!=h[f]&&"auto"!==h[f]}function u(h,f,p){ag(h,function(g){f[g]=p[g]})}u(_c[0],n,r),u(_c[1],n,o)}function mh(n){return mx({},n)}function mx(n,t){return t&&n&&ag(vx,function(e){t.hasOwnProperty(e)&&(n[e]=t[e])}),n}Lt(Mm,"vertical"),Lt(Mm,"horizontal");var n,t,ML=Fn(),Rn=function(n){function t(e,i,r){var o=n.call(this,e,i,r)||this;return o.uid=ph("ec_cpt_model"),o}return ue(t,n),t.prototype.init=function(e,i,r){this.mergeDefaultAndTheme(e,r)},t.prototype.mergeDefaultAndTheme=function(e,i){var r=jf(this),o=r?mh(e):{};Ie(e,i.getTheme().get(this.mainType)),Ie(e,this.getDefaultOption()),r&&Tu(e,o,r)},t.prototype.mergeOption=function(e,i){Ie(this.option,e,!0);var r=jf(this);r&&Tu(this.option,e,r)},t.prototype.optionUpdated=function(e,i){},t.prototype.getDefaultOption=function(){var u,e=this.constructor;if(!(u=e)||!u[Yc])return e.defaultOption;var i=ML(this);if(!i.defaultOption){for(var r=[],o=e;o;){var a=o.prototype.defaultOption;a&&r.push(a),o=o.superClass}for(var s={},l=r.length-1;l>=0;l--)s=Ie(s,r[l],!0);i.defaultOption=s}return i.defaultOption},t.prototype.getReferringComponents=function(e,i){var o=e+"Id";return Ml(this.ecModel,e,{index:this.get(e+"Index",!0),id:this.get(o,!0)},i)},t.prototype.getBoxLayoutParams=function(){var e=this;return{left:e.get("left"),top:e.get("top"),right:e.get("right"),bottom:e.get("bottom"),width:e.get("width"),height:e.get("height")}},t.protoInitialize=((e=t.prototype).type="component",e.id="",e.name="",e.mainType="",e.subType="",void(e.componentIndex=0)),t;var e}(Qn);cf(Rn,Qn),go(Rn),t={},(n=Rn).registerSubTypeDefaulter=function(e,i){var r=La(e);t[r.main]=i},n.determineSubType=function(e,i){var r=i.type;if(!r){var o=La(e).main;n.hasSubTypes(e)&&t[o]&&(r=t[o](i))}return r},function(n,t){function e(i,r){return i[r]||(i[r]={predecessor:[],successor:[]}),i[r]}n.topologicalTravel=function(i,r,o,a){if(i.length){var s=(b={},S=[],Y(y=r,function(E){var L,R,k,I=e(b,E),A=(L=I.originalDeps=function(n){var t=[];return Y(Rn.getClassesByMainType(n),function(e){t=t.concat(e.dependencies||e.prototype.dependencies||[])}),t=Ve(t,function(e){return La(e).main}),"dataset"!==n&&pe(t,"dataset")<=0&&t.unshift("dataset"),t}(E),R=y,k=[],Y(L,function(H){pe(R,H)>=0&&k.push(H)}),k);I.entryCount=A.length,0===I.entryCount&&S.push(E),Y(A,function(L){pe(I.predecessor,L)<0&&I.predecessor.push(L);var R=e(b,L);pe(R.successor,L)<0&&R.successor.push(E)})}),{graph:b,noEntryList:S}),l=s.graph,u=s.noEntryList,h={};for(Y(i,function(y){h[y]=!0});u.length;){var f=u.pop(),p=l[f],g=!!h[f];g&&(o.call(a,f,p.originalDeps.slice()),delete h[f]),Y(p.successor,g?m:v)}Y(h,function(){throw new Error("")})}var y,b,S;function v(y){l[y].entryCount--,0===l[y].entryCount&&u.push(y)}function m(y){h[y]=!0,v(y)}}}(Rn);var yx="";typeof navigator<"u"&&(yx=navigator.platform||"");var yh="rgba(0, 0, 0, 0.2)",LL={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:yh,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:yh,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:yh,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:yh,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:yh,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:yh,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:yx.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1},_x=Ht(["tooltip","label","itemName","itemId","itemGroupId","seriesName"]),Eu="original",Fl="arrayRows",Cu="objectRows",_h="keyedColumns",xh="typedArray",xx="unknown",bc="column",Lm="row",lg=1,bx=2,Bs=3,Sx=Fn();function Tx(n,t,e){var i={},r=Nm(t);if(!r||!n)return i;var o,a,s=[],l=[],h=Sx(t.ecModel).datasetMap,f=r.uid+"_"+e.seriesLayoutBy;Y(n=n.slice(),function(m,y){var b=Bt(m)?m:n[y]={name:m};"ordinal"===b.type&&null==o&&(o=y,a=v(b)),i[b.name]=[]});var p=h.get(f)||h.set(f,{categoryWayDim:a,valueWayDim:0});function g(m,y,b){for(var S=0;S<b;S++)m.push(y+S)}function v(m){var y=m.dimsDef;return y?y.length:1}return Y(n,function(m,y){var b=m.name,S=v(m);if(null==o){var E=p.valueWayDim;g(i[b],E,S),g(l,E,S),p.valueWayDim+=S}else o===y?(g(i[b],0,S),g(s,0,S)):(g(i[b],E=p.categoryWayDim,S),g(l,E,S),p.categoryWayDim+=S)}),s.length&&(i.itemName=s),l.length&&(i.seriesName=l),i}function Dm(n,t,e){var i={};if(!Nm(n))return i;var r,o=t.sourceFormat,a=t.dimensionsDefine;o!==Cu&&o!==_h||Y(a,function(u,h){"name"===(Bt(u)?u.name:u)&&(r=h)});var s=function(){for(var u={},h={},f=[],p=0,g=Math.min(5,e);p<g;p++){var v=Cx(t.data,o,t.seriesLayoutBy,a,t.startIndex,p);f.push(v);var m=v===Bs;if(m&&null==u.v&&p!==r&&(u.v=p),(null==u.n||u.n===u.v||!m&&f[u.n]===Bs)&&(u.n=p),y(u)&&f[u.n]!==Bs)return u;m||(v===bx&&null==h.v&&p!==r&&(h.v=p),null!=h.n&&h.n!==h.v||(h.n=p))}function y(b){return null!=b.v&&null!=b.n}return y(u)?u:y(h)?h:null}();if(s){i.value=[s.v];var l=r??s.n;i.itemName=[l],i.seriesName=[l]}return i}function Nm(n){if(!n.get("data",!0))return Ml(n.ecModel,"dataset",{index:n.get("datasetIndex",!0),id:n.get("datasetId",!0)},mr).models[0]}function Ex(n,t){return Cx(n.data,n.sourceFormat,n.seriesLayoutBy,n.dimensionsDefine,n.startIndex,t)}function Cx(n,t,e,i,r,o){var a,s,l;if(Pn(n))return Bs;if(i){var u=i[o];Bt(u)?(s=u.name,l=u.type):Jt(u)&&(s=u)}if(null!=l)return"ordinal"===l?lg:Bs;if(t===Fl){var h=n;if(e===Lm){for(var f=h[o],p=0;p<(f||[]).length&&p<5;p++)if(null!=(a=S(f[r+p])))return a}else for(p=0;p<h.length&&p<5;p++){var g=h[r+p];if(g&&null!=(a=S(g[o])))return a}}else if(t===Cu){var v=n;if(!s)return Bs;for(p=0;p<v.length&&p<5;p++)if((y=v[p])&&null!=(a=S(y[s])))return a}else if(t===_h){if(!s||!(f=n[s])||Pn(f))return Bs;for(p=0;p<f.length&&p<5;p++)if(null!=(a=S(f[p])))return a}else if(t===Eu){var m=n;for(p=0;p<m.length&&p<5;p++){var y,b=ru(y=m[p]);if(!rt(b))return Bs;if(null!=(a=S(b[o])))return a}}function S(E){var I=Jt(E);return null!=E&&isFinite(E)&&""!==E?I?bx:Bs:I&&"-"!==E?lg:void 0}return Bs}var ug,qf,Ix,Rm=Ht(),Ax=Fn(),DL=Fn(),Om=function(){function n(){}return n.prototype.getColorFromPalette=function(t,e,i){var r=Yn(this.get("color",!0)),o=this.get("colorLayer",!0);return Mx(this,Ax,r,o,t,e,i)},n.prototype.clearColorPalette=function(){!function(t,e){e(t).paletteIdx=0,e(t).paletteNameMap={}}(this,Ax)},n}();function km(n,t,e,i){var r=Yn(n.get(["aria","decal","decals"]));return Mx(n,DL,r,null,t,e,i)}function Mx(n,t,e,i,r,o,a){var s=t(o=o||n),l=s.paletteIdx||0,u=s.paletteNameMap=s.paletteNameMap||{};if(u.hasOwnProperty(r))return u[r];var h=null!=a&&i?function(p,g){for(var v=p.length,m=0;m<v;m++)if(p[m].length>g)return p[m];return p[v-1]}(i,a):e;if((h=h||e)&&h.length){var f=h[l];return r&&(u[r]=f),s.paletteIdx=(l+1)%h.length,f}}var Pm=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return ue(t,n),t.prototype.init=function(e,i,r,o,a,s){o=o||{},this.option=null,this._theme=new Qn(o),this._locale=new Qn(a),this._optionManager=s},t.prototype.setOption=function(e,i,r){var o=Nx(i);this._optionManager.setOption(e,r,o),this._resetOption(null,o)},t.prototype.resetOption=function(e,i){return this._resetOption(e,Nx(i))},t.prototype._resetOption=function(e,i){var r=!1,o=this._optionManager;if(!e||"recreate"===e){var a=o.mountOption("recreate"===e);this.option&&"recreate"!==e?(this.restoreData(),this._mergeOption(a,i)):Ix(this,a),r=!0}if("timeline"!==e&&"media"!==e||this.restoreData(),!e||"recreate"===e||"timeline"===e){var s=o.getTimelineOption(this);s&&(r=!0,this._mergeOption(s,i))}if(!e||"recreate"===e||"media"===e){var l=o.getMediaOption(this);l.length&&Y(l,function(u){r=!0,this._mergeOption(u,i)},this)}return r},t.prototype.mergeOption=function(e){this._mergeOption(e,null)},t.prototype._mergeOption=function(e,i){var r=this.option,o=this._componentsMap,a=this._componentsCount,s=[],l=Ht(),u=i&&i.replaceMergeMainTypeMap;Sx(this).datasetMap=Ht(),Y(e,function(h,f){null!=h&&(Rn.hasClass(f)?f&&(s.push(f),l.set(f,!0)):r[f]=null==r[f]?Te(h):Ie(r[f],h,!0))}),u&&u.each(function(h,f){Rn.hasClass(f)&&!l.get(f)&&(s.push(f),l.set(f,!0))}),Rn.topologicalTravel(s,Rn.getAllClassMainTypes(),function(h){var E,I,f=function(S,E,I){var A=Rm.get(E);if(!A)return I;var L=A(S);return L?I.concat(L):I}(this,h,Yn(e[h])),p=o.get(h),v=up(p,f,p?u&&u.get(h)?"replaceMerge":"normalMerge":"replaceAll");E=h,I=Rn,Y(v,function(A){var k,H,L=A.newOption;Bt(L)&&(A.keyInfo.mainType=E,A.keyInfo.subType=(H=A.existing,(k=L).type?k.type:H?H.subType:I.determineSubType(E,k)))}),r[h]=null,o.set(h,null),a.set(h,0);var m=[],y=[],b=0;Y(v,function(S,E){var I=S.existing,A=S.newOption;if(A){var R=Rn.getClass(h,S.keyInfo.subType,!("series"===h));if(!R)return;if(I&&I.constructor===R)I.name=S.keyInfo.name,I.mergeOption(A,this),I.optionUpdated(A,!1);else{var k=se({componentIndex:E},S.keyInfo);se(I=new R(A,this,this,k),k),S.brandNew&&(I.__requireNewView=!0),I.init(A,this,this),I.optionUpdated(null,!0)}}else I&&(I.mergeOption({},this),I.optionUpdated({},!1));I?(m.push(I.option),y.push(I),b++):(m.push(void 0),y.push(void 0))},this),r[h]=m,o.set(h,y),a.set(h,b),"series"===h&&ug(this)},this),this._seriesIndices||ug(this)},t.prototype.getOption=function(){var e=Te(this.option);return Y(e,function(i,r){if(Rn.hasClass(r)){for(var o=Yn(i),a=o.length,s=!1,l=a-1;l>=0;l--)o[l]&&!Sr(o[l])?s=!0:(o[l]=null,!s&&a--);o.length=a,e[r]=o}}),delete e["\0_ec_inner"],e},t.prototype.getTheme=function(){return this._theme},t.prototype.getLocaleModel=function(){return this._locale},t.prototype.setUpdatePayload=function(e){this._payload=e},t.prototype.getUpdatePayload=function(){return this._payload},t.prototype.getComponent=function(e,i){var r=this._componentsMap.get(e);if(r){var o=r[i||0];if(o)return o;if(null==i)for(var a=0;a<r.length;a++)if(r[a])return r[a]}},t.prototype.queryComponents=function(e){var i=e.mainType;if(!i)return[];var r,o=e.index,a=e.id,s=e.name,l=this._componentsMap.get(i);return l&&l.length?(null!=o?(r=[],Y(Yn(o),function(u){l[u]&&r.push(l[u])})):r=null!=a?Lx("id",a,l):null!=s?Lx("name",s,l):jt(l,function(u){return!!u}),Dx(r,e)):[]},t.prototype.findComponents=function(e){var i,r,o,a,s,u=e.mainType,h=(r=u+"Index",o=u+"Id",a=u+"Name",!(i=e.query)||null==i[r]&&null==i[o]&&null==i[a]?null:{mainType:u,index:i[r],id:i[o],name:i[a]});return s=Dx(h?this.queryComponents(h):jt(this._componentsMap.get(u),function(p){return!!p}),e),e.filter?jt(s,e.filter):s},t.prototype.eachComponent=function(e,i,r){var o=this._componentsMap;if(sn(e)){var a=i,s=e;o.each(function(f,p){for(var g=0;f&&g<f.length;g++){var v=f[g];v&&s.call(a,p,v,v.componentIndex)}})}else for(var l=Jt(e)?o.get(e):Bt(e)?this.findComponents(e):null,u=0;l&&u<l.length;u++){var h=l[u];h&&i.call(r,h,h.componentIndex)}},t.prototype.getSeriesByName=function(e){var i=ci(e,null);return jt(this._componentsMap.get("series"),function(r){return!!r&&null!=i&&r.name===i})},t.prototype.getSeriesByIndex=function(e){return this._componentsMap.get("series")[e]},t.prototype.getSeriesByType=function(e){return jt(this._componentsMap.get("series"),function(i){return!!i&&i.subType===e})},t.prototype.getSeries=function(){return jt(this._componentsMap.get("series"),function(e){return!!e})},t.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},t.prototype.eachSeries=function(e,i){qf(this),Y(this._seriesIndices,function(r){var o=this._componentsMap.get("series")[r];e.call(i,o,r)},this)},t.prototype.eachRawSeries=function(e,i){Y(this._componentsMap.get("series"),function(r){r&&e.call(i,r,r.componentIndex)})},t.prototype.eachSeriesByType=function(e,i,r){qf(this),Y(this._seriesIndices,function(o){var a=this._componentsMap.get("series")[o];a.subType===e&&i.call(r,a,o)},this)},t.prototype.eachRawSeriesByType=function(e,i,r){return Y(this.getSeriesByType(e),i,r)},t.prototype.isSeriesFiltered=function(e){return qf(this),null==this._seriesIndicesMap.get(e.componentIndex)},t.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},t.prototype.filterSeries=function(e,i){qf(this);var r=[];Y(this._seriesIndices,function(o){var a=this._componentsMap.get("series")[o];e.call(i,a,o)&&r.push(o)},this),this._seriesIndices=r,this._seriesIndicesMap=Ht(r)},t.prototype.restoreData=function(e){ug(this);var i=this._componentsMap,r=[];i.each(function(o,a){Rn.hasClass(a)&&r.push(a)}),Rn.topologicalTravel(r,Rn.getAllClassMainTypes(),function(o){Y(i.get(o),function(a){!a||"series"===o&&function(s,l){if(l){var u=l.seriesIndex,h=l.seriesId,f=l.seriesName;return null!=u&&s.componentIndex!==u||null!=h&&s.id!==h||null!=f&&s.name!==f}}(a,e)||a.restoreData()})})},t.internalField=(ug=function(e){var i=e._seriesIndices=[];Y(e._componentsMap.get("series"),function(r){r&&i.push(r.componentIndex)}),e._seriesIndicesMap=Ht(i)},qf=function(e){},void(Ix=function(e,i){e.option={},e.option["\0_ec_inner"]=1,e._componentsMap=Ht({series:[]}),e._componentsCount=Ht();var o,s,r=i.aria;Bt(r)&&null==r.enabled&&(r.enabled=!0),s=(o=i).color&&!o.colorLayer,Y(e._theme.option,function(l,u){"colorLayer"===u&&s||Rn.hasClass(u)||("object"==typeof l?o[u]=o[u]?Ie(o[u],l,!1):Te(l):null==o[u]&&(o[u]=l))}),Ie(i,LL,!1),e._mergeOption(i,null)})),t}(Qn);function Lx(n,t,e){if(rt(t)){var i=Ht();return Y(t,function(o){null!=o&&null!=ci(o,null)&&i.set(o,!0)}),jt(e,function(o){return o&&i.get(o[n])})}var r=ci(t,null);return jt(e,function(o){return o&&null!=r&&o[n]===r})}function Dx(n,t){return t.hasOwnProperty("subType")?jt(n,function(e){return e&&e.subType===t.subType}):n}function Nx(n){var t=Ht();return n&&Y(Yn(n.replaceMerge),function(e){t.set(e,!0)}),{replaceMergeMainTypeMap:t}}lt(Pm,Om);var NL=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],Rx=function(n){Y(NL,function(t){this[t]=mt(n[t],n)},this)},Bm={},bh=function(){function n(){this._coordinateSystems=[]}return n.prototype.create=function(t,e){var i=[];Y(Bm,function(r,o){var a=r.create(t,e);i=i.concat(a||[])}),this._coordinateSystems=i},n.prototype.update=function(t,e){Y(this._coordinateSystems,function(i){i.update&&i.update(t,e)})},n.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},n.register=function(t,e){Bm[t]=e},n.get=function(t){return Bm[t]},n}(),RL=/^(min|max)?(.+)$/,OL=function(){function n(t){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=t}return n.prototype.setOption=function(t,e,i){t&&(Y(Yn(t.series),function(a){a&&a.data&&Pn(a.data)&&Ar(a.data)}),Y(Yn(t.dataset),function(a){a&&a.source&&Pn(a.source)&&Ar(a.source)})),t=Te(t);var r=this._optionBackup,o=function(a,s,l){var u,h,f=[],p=a.baseOption,g=a.timeline,v=a.options,m=a.media,y=!!a.media,b=!!(v||g||p&&p.timeline);function S(E){Y(s,function(I){I(E,l)})}return p?(h=p).timeline||(h.timeline=g):((b||y)&&(a.options=a.media=null),h=a),y&&rt(m)&&Y(m,function(E){E&&E.option&&(E.query?f.push(E):u||(u=E))}),S(h),Y(v,function(E){return S(E)}),Y(f,function(E){return S(E.option)}),{baseOption:h,timelineOptions:v||[],mediaDefault:u,mediaList:f}}(t,e,!r);this._newBaseOption=o.baseOption,r?(o.timelineOptions.length&&(r.timelineOptions=o.timelineOptions),o.mediaList.length&&(r.mediaList=o.mediaList),o.mediaDefault&&(r.mediaDefault=o.mediaDefault)):this._optionBackup=o},n.prototype.mountOption=function(t){var e=this._optionBackup;return this._timelineOptions=e.timelineOptions,this._mediaList=e.mediaList,this._mediaDefault=e.mediaDefault,this._currentMediaIndices=[],Te(t?e.baseOption:this._newBaseOption)},n.prototype.getTimelineOption=function(t){var e,i=this._timelineOptions;if(i.length){var r=t.getComponent("timeline");r&&(e=Te(i[r.getCurrentIndex()]))}return e},n.prototype.getMediaOption=function(t){var i,r=this._api.getWidth(),o=this._api.getHeight(),a=this._mediaList,s=this._mediaDefault,l=[],u=[];if(!a.length&&!s)return u;for(var h=0,f=a.length;h<f;h++)kL(a[h].query,r,o)&&l.push(h);return!l.length&&s&&(l=[-1]),l.length&&(i=this._currentMediaIndices,l.join(",")!==i.join(","))&&(u=Ve(l,function(p){return Te(-1===p?s.option:a[p].option)})),this._currentMediaIndices=l,u},n}();function kL(n,t,e){var i={width:t,height:e,aspectratio:t/e},r=!0;return Y(n,function(o,a){var h,f,p,s=a.match(RL);if(s&&s[1]&&s[2]){var l=s[1],u=s[2].toLowerCase();h=i[u],f=o,("min"===(p=l)?h>=f:"max"===p?h<=f:h===f)||(r=!1)}}),r}var Fs=Y,Kf=Bt,Ox=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function Fm(n){var t=n&&n.itemStyle;if(t)for(var e=0,i=Ox.length;e<i;e++){var r=Ox[e],o=t.normal,a=t.emphasis;o&&o[r]&&(n[r]=n[r]||{},n[r].normal?Ie(n[r].normal,o[r]):n[r].normal=o[r],o[r]=null),a&&a[r]&&(n[r]=n[r]||{},n[r].emphasis?Ie(n[r].emphasis,a[r]):n[r].emphasis=a[r],a[r]=null)}}function Ho(n,t,e){if(n&&n[t]&&(n[t].normal||n[t].emphasis)){var i=n[t].normal,r=n[t].emphasis;i&&(e?(n[t].normal=n[t].emphasis=null,Ee(n[t],i)):n[t]=i),r&&(n.emphasis=n.emphasis||{},n.emphasis[t]=r,r.focus&&(n.emphasis.focus=r.focus),r.blurScope&&(n.emphasis.blurScope=r.blurScope))}}function Zf(n){Ho(n,"itemStyle"),Ho(n,"lineStyle"),Ho(n,"areaStyle"),Ho(n,"label"),Ho(n,"labelLine"),Ho(n,"upperLabel"),Ho(n,"edgeLabel")}function Fr(n,t){var e=Kf(n)&&n[t],i=Kf(e)&&e.textStyle;if(i)for(var r=0,o=lp.length;r<o;r++){var a=lp[r];i.hasOwnProperty(a)&&(e[a]=i[a])}}function ns(n){n&&(Zf(n),Fr(n,"label"),n.emphasis&&Fr(n.emphasis,"label"))}function Hl(n){return rt(n)?n:n?[n]:[]}function kx(n){return(rt(n)?n[0]:n)||{}}function Px(n){n&&Y(BL,function(t){t[0]in n&&!(t[1]in n)&&(n[t[1]]=n[t[0]])})}var BL=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],FL=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],Hm=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function Jf(n){var t=n&&n.itemStyle;if(t)for(var e=0;e<Hm.length;e++){var i=Hm[e][1];null!=t[i]&&(t[Hm[e][0]]=t[i])}}function Bx(n){n&&"edge"===n.alignTo&&null!=n.margin&&null==n.edgeDistance&&(n.edgeDistance=n.margin)}function Fx(n){n&&n.downplay&&!n.blur&&(n.blur=n.downplay)}function Hx(n,t){if(n)for(var e=0;e<n.length;e++)t(n[e]),n[e]&&Hx(n[e].children,t)}function Ux(n,t){(function PL(n,t){Fs(Hl(n.series),function(i){Kf(i)&&function(r){if(Kf(r)){Fm(r),Zf(r),Fr(r,"label"),Fr(r,"upperLabel"),Fr(r,"edgeLabel"),r.emphasis&&(Fr(r.emphasis,"label"),Fr(r.emphasis,"upperLabel"),Fr(r.emphasis,"edgeLabel"));var o=r.markPoint;o&&(Fm(o),ns(o));var a=r.markLine;a&&(Fm(a),ns(a));var s=r.markArea;s&&ns(s);var l=r.data;if("graph"===r.type){l=l||r.nodes;var u=r.links||r.edges;if(u&&!Pn(u))for(var h=0;h<u.length;h++)ns(u[h]);Y(r.categories,function(g){Zf(g)})}if(l&&!Pn(l))for(h=0;h<l.length;h++)ns(l[h]);if((o=r.markPoint)&&o.data){var f=o.data;for(h=0;h<f.length;h++)ns(f[h])}if((a=r.markLine)&&a.data){var p=a.data;for(h=0;h<p.length;h++)rt(p[h])?(ns(p[h][0]),ns(p[h][1])):ns(p[h])}"gauge"===r.type?(Fr(r,"axisLabel"),Fr(r,"title"),Fr(r,"detail")):"treemap"===r.type?(Ho(r.breadcrumb,"itemStyle"),Y(r.levels,function(g){Zf(g)})):"tree"===r.type&&Zf(r.leaves)}}(i)});var e=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];t&&e.push("valueAxis","categoryAxis","logAxis","timeAxis"),Fs(e,function(i){Fs(Hl(n[i]),function(r){r&&(Fr(r,"axisLabel"),Fr(r.axisPointer,"label"))})}),Fs(Hl(n.parallel),function(i){var r=i&&i.parallelAxisDefault;Fr(r,"axisLabel"),Fr(r&&r.axisPointer,"label")}),Fs(Hl(n.calendar),function(i){Ho(i,"itemStyle"),Fr(i,"dayLabel"),Fr(i,"monthLabel"),Fr(i,"yearLabel")}),Fs(Hl(n.radar),function(i){Fr(i,"name"),i.name&&null==i.axisName&&(i.axisName=i.name,delete i.name),null!=i.nameGap&&null==i.axisNameGap&&(i.axisNameGap=i.nameGap,delete i.nameGap)}),Fs(Hl(n.geo),function(i){Kf(i)&&(ns(i),Fs(Hl(i.regions),function(r){ns(r)}))}),Fs(Hl(n.timeline),function(i){ns(i),Ho(i,"label"),Ho(i,"itemStyle"),Ho(i,"controlStyle",!0);var r=i.data;rt(r)&&Y(r,function(o){Bt(o)&&(Ho(o,"label"),Ho(o,"itemStyle"))})}),Fs(Hl(n.toolbox),function(i){Ho(i,"iconStyle"),Fs(i.feature,function(r){Ho(r,"iconStyle")})}),Fr(kx(n.axisPointer),"label"),Fr(kx(n.tooltip).axisPointer,"label")})(n,t),n.series=Yn(n.series),Y(n.series,function(e){if(Bt(e)){var i=e.type;if("line"===i)null!=e.clipOverflow&&(e.clip=e.clipOverflow);else if("pie"===i||"gauge"===i){if(null!=e.clockWise&&(e.clockwise=e.clockWise),Bx(e.label),(a=e.data)&&!Pn(a))for(var r=0;r<a.length;r++)Bx(a[r]);null!=e.hoverOffset&&(e.emphasis=e.emphasis||{},(e.emphasis.scaleSize=null)&&(e.emphasis.scaleSize=e.hoverOffset))}else if("gauge"===i){var o=function(l,u){for(var h="pointer.color".split(","),f=l,p=0;p<h.length&&null!=(f=f&&f[h[p]]);p++);return f}(e);null!=o&&function(l,u,h,f){for(var p,g="itemStyle.color".split(","),v=l,m=0;m<g.length-1;m++)null==v[p=g[m]]&&(v[p]={}),v=v[p];null==v[g[m]]&&(v[g[m]]=h)}(e,0,o)}else if("bar"===i){var a;if(Jf(e),Jf(e.backgroundStyle),Jf(e.emphasis),(a=e.data)&&!Pn(a))for(r=0;r<a.length;r++)"object"==typeof a[r]&&(Jf(a[r]),Jf(a[r]&&a[r].emphasis))}else if("sunburst"===i){var s=e.highlightPolicy;s&&(e.emphasis=e.emphasis||{},e.emphasis.focus||(e.emphasis.focus=s)),Fx(e),Hx(e.data,Fx)}else"graph"===i||"sankey"===i?(l=e)&&null!=l.focusNodeAdjacency&&(l.emphasis=l.emphasis||{},null==l.emphasis.focus&&(l.emphasis.focus="adjacency")):"map"===i&&(e.mapType&&!e.map&&(e.map=e.mapType),e.mapLocation&&Ee(e,e.mapLocation));null!=e.hoverAnimation&&(e.emphasis=e.emphasis||{},e.emphasis&&null==e.emphasis.scale&&(e.emphasis.scale=e.hoverAnimation)),Px(e)}var l}),n.dataRange&&(n.visualMap=n.dataRange),Y(FL,function(e){var i=n[e];i&&(rt(i)||(i=[i]),Y(i,function(r){Px(r)}))})}function HL(n){Y(n,function(t,e){var i=[],r=[NaN,NaN],a=t.data,s=t.isStackedByIndex;a.modify([t.stackResultDimension,t.stackedOverDimension],function(l,u,h){var f,p,g=a.get(t.stackedDimension,h);if(isNaN(g))return r;s?p=a.getRawIndex(h):f=a.get(t.stackedByDimension,h);for(var v=NaN,m=e-1;m>=0;m--){var y=n[m];if(s||(p=y.data.rawIndexOf(y.stackedByDimension,f)),p>=0){var b=y.data.getByRawIndex(y.stackResultDimension,p);if(g>=0&&b>0||g<=0&&b<0){g=Jv(g,b),v=b;break}}}return i[0]=g,i[1]=v,i})})}var Sh,wh,Th,zx,Vx,cg=function(n){this.data=n.data||(n.sourceFormat===_h?{}:[]),this.sourceFormat=n.sourceFormat||xx,this.seriesLayoutBy=n.seriesLayoutBy||bc,this.startIndex=n.startIndex||0,this.dimensionsDetectedCount=n.dimensionsDetectedCount,this.metaRawOption=n.metaRawOption;var t=this.dimensionsDefine=n.dimensionsDefine;if(t)for(var e=0;e<t.length;e++){var i=t[e];null==i.type&&Ex(this,e)===lg&&(i.type="ordinal")}};function Um(n){return n instanceof cg}function zm(n,t,e){e=e||Gx(n);var i=t.seriesLayoutBy,r=function(o,a,s,l,u){var h,f;if(!o)return{dimensionsDefine:Wx(u),startIndex:f,dimensionsDetectedCount:h};if(a===Fl){var p=o;"auto"===l||null==l?Yx(function(v){null!=v&&"-"!==v&&(Jt(v)?null==f&&(f=1):f=0)},s,p,10):f=Ci(l)?l:l?1:0,u||1!==f||(u=[],Yx(function(v,m){u[m]=null!=v?v+"":""},s,p,1/0)),h=u?u.length:s===Lm?p.length:p[0]?p[0].length:null}else if(a===Cu)u||(u=function(v){for(var m,y=0;y<v.length&&!(m=v[y++]););if(m){var b=[];return Y(m,function(S,E){b.push(E)}),b}}(o));else if(a===_h)u||(u=[],Y(o,function(v,m){u.push(m)}));else if(a===Eu){var g=ru(o[0]);h=rt(g)&&g.length||1}return{startIndex:f,dimensionsDefine:Wx(u),dimensionsDetectedCount:h}}(n,e,i,t.sourceHeader,t.dimensions);return new cg({data:n,sourceFormat:e,seriesLayoutBy:i,dimensionsDefine:r.dimensionsDefine,startIndex:r.startIndex,dimensionsDetectedCount:r.dimensionsDetectedCount,metaRawOption:Te(t)})}function Vm(n){return new cg({data:n,sourceFormat:Pn(n)?xh:Eu})}function Gx(n){var t=xx;if(Pn(n))t=xh;else if(rt(n)){0===n.length&&(t=Fl);for(var e=0,i=n.length;e<i;e++){var r=n[e];if(null!=r){if(rt(r)){t=Fl;break}if(Bt(r)){t=Cu;break}}}}else if(Bt(n))for(var o in n)if(ut(n,o)&&gt(n[o])){t=_h;break}return t}function Wx(n){if(n){var t=Ht();return Ve(n,function(e,i){var r={name:(e=Bt(e)?e:{name:e}).name,displayName:e.displayName,type:e.type};if(null==r.name)return r;r.name+="",null==r.displayName&&(r.displayName=r.name);var o=t.get(r.name);return o?r.name+="-"+o.count++:t.set(r.name,{count:1}),r})}}function Yx(n,t,e,i){if(t===Lm)for(var r=0;r<e.length&&r<i;r++)n(e[r]?e[r][0]:null,r);else{var o=e[0]||[];for(r=0;r<o.length&&r<i;r++)n(o[r],r)}}function Xx(n){var t=n.sourceFormat;return t===Cu||t===_h}var jx=function(){function n(t,e){var i=Um(t)?t:Vm(t);this._source=i;var r=this._data=i.data;i.sourceFormat===xh&&(this._offset=0,this._dimSize=e,this._data=r),Vx(this,r,i)}return n.prototype.getSource=function(){return this._source},n.prototype.count=function(){return 0},n.prototype.getItem=function(t,e){},n.prototype.appendData=function(t){},n.prototype.clean=function(){},n.protoInitialize=function(){var t=n.prototype;t.pure=!1,t.persistent=!0}(),n.internalField=function(){var t;Vx=function(a,s,l){var u=l.sourceFormat,h=l.seriesLayoutBy,f=l.startIndex,p=l.dimensionsDefine;if(se(a,zx[Wm(u,h)]),u===xh)a.getItem=e,a.count=r,a.fillStorage=i;else{var v=Kx(u,h);a.getItem=mt(v,null,s,f,p);var m=Jx(u,h);a.count=mt(m,null,s,f,p)}};var e=function(a,s){s=s||[];for(var l=this._data,u=this._dimSize,h=u*(a-=this._offset),f=0;f<u;f++)s[f]=l[h+f];return s},i=function(a,s,l,u){for(var h=this._data,f=this._dimSize,p=0;p<f;p++){for(var g=u[p],v=null==g[0]?1/0:g[0],m=null==g[1]?-1/0:g[1],y=s-a,b=l[p],S=0;S<y;S++){var E=h[S*f+p];b[a+S]=E,E<v&&(v=E),E>m&&(m=E)}g[0]=v,g[1]=m}},r=function(){return this._data?this._data.length/this._dimSize:0};function o(a){for(var s=0;s<a.length;s++)this._data.push(a[s])}(t={}).arrayRows_column={pure:!0,appendData:o},t.arrayRows_row={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},t.objectRows={pure:!0,appendData:o},t.keyedColumns={pure:!0,appendData:function(a){var s=this._data;Y(a,function(l,u){for(var h=s[u]||(s[u]=[]),f=0;f<(l||[]).length;f++)h.push(l[f])})}},t.original={appendData:o},t.typedArray={persistent:!1,pure:!0,appendData:function(a){this._data=a},clean:function(){this._offset+=this.count(),this._data=null}},zx=t}(),n}(),qx=function(n,t,e,i){return n[i]},UL=((Sh={}).arrayRows_column=function(n,t,e,i){return n[i+t]},Sh.arrayRows_row=function(n,t,e,i,r){i+=t;for(var o=r||[],a=n,s=0;s<a.length;s++){var l=a[s];o[s]=l?l[i]:null}return o},Sh.objectRows=qx,Sh.keyedColumns=function(n,t,e,i,r){for(var o=r||[],a=0;a<e.length;a++){var l=n[e[a].name];o[a]=l?l[i]:null}return o},Sh.original=qx,Sh);function Kx(n,t){return UL[Wm(n,t)]}var Zx=function(n,t,e){return n.length},zL=((wh={}).arrayRows_column=function(n,t,e){return Math.max(0,n.length-t)},wh.arrayRows_row=function(n,t,e){var i=n[0];return i?Math.max(0,i.length-t):0},wh.objectRows=Zx,wh.keyedColumns=function(n,t,e){var r=n[e[0].name];return r?r.length:0},wh.original=Zx,wh);function Jx(n,t){return zL[Wm(n,t)]}var Gm=function(n,t,e){return n[t]},VL=((Th={}).arrayRows=Gm,Th.objectRows=function(n,t,e){return n[e]},Th.keyedColumns=Gm,Th.original=function(n,t,e){var i=ru(n);return i instanceof Array?i[t]:i},Th.typedArray=Gm,Th);function Qx(n){return VL[n]}function Wm(n,t){return n===Fl?n+"_"+t:n}function Sc(n,t,e){if(n){var i=n.getRawDataItem(t);if(null!=i){var r=n.getStore(),o=r.getSource().sourceFormat;if(null!=e){var a=n.getDimensionIndex(e),s=r.getDimensionProperty(a);return Qx(o)(i,a,s)}var l=i;return o===Eu&&(l=ru(i)),l}}}var GL=/\{@(.+?)\}/g,Ym=function(){function n(){}return n.prototype.getDataParams=function(t,e){var i=this.getData(e),r=this.getRawValue(t,e),o=i.getRawIndex(t),a=i.getName(t),s=i.getRawDataItem(t),l=i.getItemVisual(t,"style"),u=l&&l[i.getItemVisual(t,"drawType")||"fill"],h=l&&l.stroke,f=this.mainType,p="series"===f,g=i.userOutput&&i.userOutput.get();return{componentType:f,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:p?this.subType:null,seriesIndex:this.seriesIndex,seriesId:p?this.id:null,seriesName:p?this.name:null,name:a,dataIndex:o,data:s,dataType:e,value:r,color:u,borderColor:h,dimensionNames:g?g.fullDimensions:null,encode:g?g.encode:null,$vars:["seriesName","name","value"]}},n.prototype.getFormattedLabel=function(t,e,i,r,o,a){e=e||"normal";var s=this.getData(i),l=this.getDataParams(t,i);return a&&(l.value=a.interpolatedValue),null!=r&&rt(l.value)&&(l.value=l.value[r]),o||(o=s.getItemModel(t).get("normal"===e?["label","formatter"]:[e,"label","formatter"])),"function"==typeof o?(l.status=e,l.dimensionIndex=r,o(l)):"string"==typeof o?Am(o,l).replace(GL,function(u,h){var f=h.length,p=h;"["===p.charAt(0)&&"]"===p.charAt(f-1)&&(p=+p.slice(1,f-1));var g=Sc(s,t,p);if(a&&rt(a.interpolatedValue)){var v=s.getDimensionIndex(p);v>=0&&(g=a.interpolatedValue[v])}return null!=g?g+"":""}):void 0},n.prototype.getRawValue=function(t,e){return Sc(this.getData(e),t)},n.prototype.formatTooltip=function(t,e,i){},n}();function $x(n){var t,e;return Bt(n)?n.type&&(e=n):t=n,{markupText:t,markupFragment:e}}function Qf(n){return new WL(n)}var WL=function(){function n(t){this._reset=(t=t||{}).reset,this._plan=t.plan,this._count=t.count,this._onDirty=t.onDirty,this._dirty=!0}return n.prototype.perform=function(t){var e,i=this._upstream,r=t&&t.skip;if(this._dirty&&i){var o=this.context;o.data=o.outputData=i.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this),this._plan&&!r&&(e=this._plan(this.context));var a,s=f(this._modBy),l=this._modDataCount||0,u=f(t&&t.modBy),h=t&&t.modDataCount||0;function f(S){return!(S>=1)&&(S=1),S}s===u&&l===h||(e="reset"),(this._dirty||"reset"===e)&&(this._dirty=!1,a=this._doReset(r)),this._modBy=u,this._modDataCount=h;var p=t&&t.step;if(this._dueEnd=i?i._outputDueEnd:this._count?this._count(this.context):1/0,this._progress){var g=this._dueIndex,v=Math.min(null!=p?this._dueIndex+p:1/0,this._dueEnd);if(!r&&(a||g<v)){var m=this._progress;if(rt(m))for(var y=0;y<m.length;y++)this._doProgress(m[y],g,v,u,h);else this._doProgress(m,g,v,u,h)}this._dueIndex=v,this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:v}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()},n.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},n.prototype._doProgress=function(t,e,i,r,o){eb.reset(e,i,r,o),this._callingProgress=t,this._callingProgress({start:e,end:i,count:i-e,next:eb.next},this.context)},n.prototype._doReset=function(t){var e,i;this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null,!t&&this._reset&&((e=this._reset(this.context))&&e.progress&&(i=e.forceFirstProgress,e=e.progress),rt(e)&&!e.length&&(e=null)),this._progress=e,this._modBy=this._modDataCount=null;var r=this._downstream;return r&&r.dirty(),i},n.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},n.prototype.pipe=function(t){(this._downstream!==t||this._dirty)&&(this._downstream=t,t._upstream=this,t.dirty())},n.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},n.prototype.getUpstream=function(){return this._upstream},n.prototype.getDownstream=function(){return this._downstream},n.prototype.setOutputEnd=function(t){this._outputDueEnd=this._settedOutputEnd=t},n}(),eb=function(){var n,t,e,i,r,o={reset:function(l,u,h,f){t=l,n=u,e=h,i=f,r=Math.ceil(i/e),o.next=e>1&&i>0?s:a}};return o;function a(){return t<n?t++:null}function s(){var l=t%r*e+Math.ceil(t/r),u=t>=n?null:l<i?l:t;return t++,u}}();function Iu(n,t){var e=t&&t.type;return"ordinal"===e?n:("time"===e&&"number"!=typeof n&&null!=n&&"-"!==n&&(n=+io(n)),null==n||""===n?NaN:+n)}var YL=Ht({number:function(n){return parseFloat(n)},time:function(n){return+io(n)},trim:function(n){return"string"==typeof n?Ji(n):n}});function tb(n){return YL.get(n)}var nb={lt:function(n,t){return n<t},lte:function(n,t){return n<=t},gt:function(n,t){return n>t},gte:function(n,t){return n>=t}},XL=function(){function n(t,e){"number"!=typeof e&&jn(""),this._opFn=nb[t],this._rvalFloat=po(e)}return n.prototype.evaluate=function(t){return this._opFn("number"==typeof t?t:po(t),this._rvalFloat)},n}(),ib=function(){function n(t,e){var i="desc"===t;this._resultLT=i?1:-1,null==e&&(e=i?"min":"max"),this._incomparable="min"===e?-1/0:1/0}return n.prototype.evaluate=function(t,e){var i=typeof t,r=typeof e,o="number"===i?t:po(t),a="number"===r?e:po(e),s=isNaN(o),l=isNaN(a);if(s&&(o=this._incomparable),l&&(a=this._incomparable),s&&l){var u="string"===i,h="string"===r;u&&(o=h?t:0),h&&(a=u?e:0)}return o<a?this._resultLT:o>a?-this._resultLT:0},n}(),jL=function(){function n(t,e){this._rval=e,this._isEQ=t,this._rvalTypeof=typeof e,this._rvalFloat=po(e)}return n.prototype.evaluate=function(t){var e=t===this._rval;if(!e){var i=typeof t;i===this._rvalTypeof||"number"!==i&&"number"!==this._rvalTypeof||(e=po(t)===this._rvalFloat)}return this._isEQ?e:!e},n}();function qL(n,t){return"eq"===n||"ne"===n?new jL("eq"===n,t):ut(nb,n)?new XL(n,t):null}var KL=function(){function n(){}return n.prototype.getRawData=function(){throw new Error("not supported")},n.prototype.getRawDataItem=function(t){throw new Error("not supported")},n.prototype.cloneRawData=function(){},n.prototype.getDimensionInfo=function(t){},n.prototype.cloneAllDimensionInfo=function(){},n.prototype.count=function(){},n.prototype.retrieveValue=function(t,e){},n.prototype.retrieveValueFromItem=function(t,e){},n.prototype.convertValue=function(t,e){return Iu(t,e)},n}();function ZL(n){return Xm(n.sourceFormat)||jn(""),n.data}function JL(n){var t=n.sourceFormat,e=n.data;if(Xm(t)||jn(""),t===Fl){for(var r=[],o=0,a=e.length;o<a;o++)r.push(e[o].slice());return r}if(t===Cu){for(r=[],o=0,a=e.length;o<a;o++)r.push(se({},e[o]));return r}}function QL(n,t,e){if(null!=e)return"number"==typeof e||!isNaN(e)&&!ut(t,e)?n[e]:ut(t,e)?t[e]:void 0}function $L(n){return Te(n)}var rb=Ht();function eD(n,t,e,i){t.length||jn(""),Bt(n)||jn("");var a=rb.get(n.type);a||jn("");var s=Ve(t,function(u){return function(h,f){var p=new KL,g=h.data,v=p.sourceFormat=h.sourceFormat,m=h.startIndex;h.seriesLayoutBy!==bc&&jn("");var b=[],S={},E=h.dimensionsDefine;if(E)Y(E,function(H,U){var G=H.name,K={index:U,name:G,displayName:H.displayName};b.push(K),null!=G&&(ut(S,G)&&jn(""),S[G]=K)});else for(var I=0;I<h.dimensionsDetectedCount;I++)b.push({index:I});var A=Kx(v,bc);f.__isBuiltIn&&(p.getRawDataItem=function(H){return A(g,m,b,H)},p.getRawData=mt(ZL,null,h)),p.cloneRawData=mt(JL,null,h);var L=Jx(v,bc);p.count=mt(L,null,g,m,b);var R=Qx(v);p.retrieveValue=function(H,U){var G=A(g,m,b,H);return k(G,U)};var k=p.retrieveValueFromItem=function(H,U){if(null!=H){var G=b[U];return G?R(H,U,G.name):void 0}};return p.getDimensionInfo=mt(QL,null,b,S),p.cloneAllDimensionInfo=mt($L,null,b),p}(u,a)});return Ve(Yn(a.transform({upstream:s[0],upstreamList:s,config:Te(n.config)})),function(u,h){var f;Bt(u)||jn(""),u.data||jn(""),Xm(Gx(u.data))||jn("");var g=t[0];if(g&&0===h&&!u.dimensions){var v=g.startIndex;v&&(u.data=g.data.slice(0,v).concat(u.data)),f={seriesLayoutBy:bc,sourceHeader:v,dimensions:g.metaRawOption.dimensions}}else f={seriesLayoutBy:bc,sourceHeader:0,dimensions:u.dimensions};return zm(u.data,f,null)})}function Xm(n){return n===Fl||n===Cu}var jm,hg="undefined",tD=typeof Uint32Array===hg?Array:Uint32Array,nD=typeof Uint16Array===hg?Array:Uint16Array,ob=typeof Int32Array===hg?Array:Int32Array,ab=typeof Float64Array===hg?Array:Float64Array,sb={float:ab,int:ob,ordinal:Array,number:Array,time:ab};function $f(n){return n>65535?tD:nD}function lb(n,t,e,i,r){var o=sb[e||"float"];if(r){var a=n[t],s=a&&a.length;if(s!==i){for(var l=new o(i),u=0;u<s;u++)l[u]=a[u];n[t]=l}}else n[t]=new o(i)}var qm=function(){function n(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=Ht()}return n.prototype.initData=function(t,e,i){this._provider=t,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var r=t.getSource(),o=this.defaultDimValueGetter=jm[r.sourceFormat];this._dimValueGetter=i||o,this._rawExtent=[],Xx(r),this._dimensions=Ve(e,function(a){return{type:a.type,property:a.property}}),this._initDataFromProvider(0,t.count())},n.prototype.getProvider=function(){return this._provider},n.prototype.getSource=function(){return this._provider.getSource()},n.prototype.ensureCalculationDimension=function(t,e){var i=this._calcDimNameToIdx,r=this._dimensions,o=i.get(t);if(null!=o){if(r[o].type===e)return o}else o=r.length;return r[o]={type:e},i.set(t,o),this._chunks[o]=new sb[e||"float"](this._rawCount),this._rawExtent[o]=[1/0,-1/0],o},n.prototype.collectOrdinalMeta=function(t,e){var i=this._chunks[t],r=this._dimensions[t],o=this._rawExtent,a=r.ordinalOffset||0,s=i.length;0===a&&(o[t]=[1/0,-1/0]);for(var l=o[t],u=a;u<s;u++){var h=i[u]=e.parseAndCollect(i[u]);l[0]=Math.min(h,l[0]),l[1]=Math.max(h,l[1])}r.ordinalMeta=e,r.ordinalOffset=s,r.type="ordinal"},n.prototype.getOrdinalMeta=function(t){return this._dimensions[t].ordinalMeta},n.prototype.getDimensionProperty=function(t){var e=this._dimensions[t];return e&&e.property},n.prototype.appendData=function(t){var e=this._provider,i=this.count();e.appendData(t);var r=e.count();return e.persistent||(r+=i),i<r&&this._initDataFromProvider(i,r,!0),[i,r]},n.prototype.appendValues=function(t,e){for(var i=this._chunks,r=this._dimensions,o=r.length,a=this._rawExtent,s=this.count(),l=s+Math.max(t.length,e||0),u=0;u<o;u++)lb(i,u,(v=r[u]).type,l,!0);for(var h=[],f=s;f<l;f++)for(var p=f-s,g=0;g<o;g++){var v=r[g],m=jm.arrayRows.call(this,t[p]||h,v.property,p,g);i[g][f]=m;var y=a[g];m<y[0]&&(y[0]=m),m>y[1]&&(y[1]=m)}return this._rawCount=this._count=l,{start:s,end:l}},n.prototype._initDataFromProvider=function(t,e,i){for(var r=this._provider,o=this._chunks,a=this._dimensions,s=a.length,l=this._rawExtent,u=Ve(a,function(S){return S.property}),h=0;h<s;h++){var f=a[h];l[h]||(l[h]=[1/0,-1/0]),lb(o,h,f.type,e,i)}if(r.fillStorage)r.fillStorage(t,e,o,l);else for(var p=[],g=t;g<e;g++){p=r.getItem(g,p);for(var v=0;v<s;v++){var m=o[v],y=this._dimValueGetter(p,u[v],g,v);m[g]=y;var b=l[v];y<b[0]&&(b[0]=y),y>b[1]&&(b[1]=y)}}!r.persistent&&r.clean&&r.clean(),this._rawCount=this._count=e,this._extent=[]},n.prototype.count=function(){return this._count},n.prototype.get=function(t,e){if(!(e>=0&&e<this._count))return NaN;var i=this._chunks[t];return i?i[this.getRawIndex(e)]:NaN},n.prototype.getValues=function(t,e){var i=[],r=[];if(null==e){e=t,t=[];for(var o=0;o<this._dimensions.length;o++)r.push(o)}else r=t;o=0;for(var a=r.length;o<a;o++)i.push(this.get(r[o],e));return i},n.prototype.getByRawIndex=function(t,e){if(!(e>=0&&e<this._rawCount))return NaN;var i=this._chunks[t];return i?i[e]:NaN},n.prototype.getSum=function(t){var e=0;if(this._chunks[t])for(var i=0,r=this.count();i<r;i++){var o=this.get(t,i);isNaN(o)||(e+=o)}return e},n.prototype.getMedian=function(t){var e=[];this.each([t],function(o){isNaN(o)||e.push(o)});var i=e.sort(function(o,a){return o-a}),r=this.count();return 0===r?0:r%2==1?i[(r-1)/2]:(i[r/2]+i[r/2-1])/2},n.prototype.indexOfRawIndex=function(t){if(t>=this._rawCount||t<0)return-1;if(!this._indices)return t;var e=this._indices,i=e[t];if(null!=i&&i<this._count&&i===t)return t;for(var r=0,o=this._count-1;r<=o;){var a=(r+o)/2|0;if(e[a]<t)r=a+1;else{if(!(e[a]>t))return a;o=a-1}}return-1},n.prototype.indicesOfNearest=function(t,e,i){var r=this._chunks[t],o=[];if(!r)return o;null==i&&(i=1/0);for(var a=1/0,s=-1,l=0,u=0,h=this.count();u<h;u++){var f=e-r[this.getRawIndex(u)],p=Math.abs(f);p<=i&&((p<a||p===a&&f>=0&&s<0)&&(a=p,s=f,l=0),f===s&&(o[l++]=u))}return o.length=l,o},n.prototype.getIndices=function(){var t,e=this._indices;if(e){var i=e.constructor,r=this._count;if(i===Array){t=new i(r);for(var o=0;o<r;o++)t[o]=e[o]}else t=new i(e.buffer,0,r)}else for(t=new(i=$f(this._rawCount))(this.count()),o=0;o<t.length;o++)t[o]=o;return t},n.prototype.filter=function(t,e){if(!this._count)return this;for(var i=this.clone(),r=i.count(),o=new($f(i._rawCount))(r),a=[],s=t.length,l=0,u=t[0],h=i._chunks,f=0;f<r;f++){var p=void 0,g=i.getRawIndex(f);if(0===s)p=e(f);else if(1===s)p=e(h[u][g],f);else{for(var v=0;v<s;v++)a[v]=h[t[v]][g];a[v]=f,p=e.apply(null,a)}p&&(o[l++]=g)}return l<r&&(i._indices=o),i._count=l,i._extent=[],i._updateGetRawIdx(),i},n.prototype.selectRange=function(t){var e=this.clone(),i=e._count;if(!i)return this;var r=Mt(t),o=r.length;if(!o)return this;var a=e.count(),s=new($f(e._rawCount))(a),l=0,u=r[0],h=t[u][0],f=t[u][1],p=e._chunks,g=!1;if(!e._indices){var v=0;if(1===o){for(var m=p[r[0]],y=0;y<i;y++)((I=m[y])>=h&&I<=f||isNaN(I))&&(s[l++]=v),v++;g=!0}else if(2===o){m=p[r[0]];var b=p[r[1]],S=t[r[1]][0],E=t[r[1]][1];for(y=0;y<i;y++){var I=m[y],A=b[y];(I>=h&&I<=f||isNaN(I))&&(A>=S&&A<=E||isNaN(A))&&(s[l++]=v),v++}g=!0}}if(!g)if(1===o)for(y=0;y<a;y++){var L=e.getRawIndex(y);((I=p[r[0]][L])>=h&&I<=f||isNaN(I))&&(s[l++]=L)}else for(y=0;y<a;y++){for(var R=!0,k=(L=e.getRawIndex(y),0);k<o;k++){var H=r[k];((I=p[H][L])<t[H][0]||I>t[H][1])&&(R=!1)}R&&(s[l++]=e.getRawIndex(y))}return l<a&&(e._indices=s),e._count=l,e._extent=[],e._updateGetRawIdx(),e},n.prototype.map=function(t,e){var i=this.clone(t);return this._updateDims(i,t,e),i},n.prototype.modify=function(t,e){this._updateDims(this,t,e)},n.prototype._updateDims=function(t,e,i){for(var r=t._chunks,o=[],a=e.length,s=t.count(),l=[],u=t._rawExtent,h=0;h<e.length;h++)u[e[h]]=[1/0,-1/0];for(var f=0;f<s;f++){for(var p=t.getRawIndex(f),g=0;g<a;g++)l[g]=r[e[g]][p];l[a]=f;var v=i&&i.apply(null,l);if(null!=v)for("object"!=typeof v&&(o[0]=v,v=o),h=0;h<v.length;h++){var m=e[h],y=v[h],b=u[m],S=r[m];S&&(S[p]=y),y<b[0]&&(b[0]=y),y>b[1]&&(b[1]=y)}}},n.prototype.lttbDownSample=function(t,e){var i,r,o,a=this.clone([t],!0),s=a._chunks[t],l=this.count(),u=0,h=Math.floor(1/e),f=this.getRawIndex(0),p=new($f(this._rawCount))(Math.ceil(l/h)+2);p[u++]=f;for(var g=1;g<l-1;g+=h){for(var v=Math.min(g+h,l-1),m=Math.min(g+2*h,l),y=(m+v)/2,b=0,S=v;S<m;S++){var E=s[k=this.getRawIndex(S)];isNaN(E)||(b+=E)}b/=m-v;var I=g,A=Math.min(g+h,l),L=g-1,R=s[f];for(i=-1,o=I,S=I;S<A;S++){var k;E=s[k=this.getRawIndex(S)],isNaN(E)||(r=Math.abs((L-y)*(E-R)-(L-S)*(b-R)))>i&&(i=r,o=k)}p[u++]=o,f=o}return p[u++]=this.getRawIndex(l-1),a._count=u,a._indices=p,a.getRawIndex=this._getRawIdx,a},n.prototype.downSample=function(t,e,i,r){for(var o=this.clone([t],!0),a=o._chunks,s=[],l=Math.floor(1/e),u=a[t],h=this.count(),f=o._rawExtent[t]=[1/0,-1/0],p=new($f(this._rawCount))(Math.ceil(h/l)),g=0,v=0;v<h;v+=l){l>h-v&&(s.length=l=h-v);for(var m=0;m<l;m++){var y=this.getRawIndex(v+m);s[m]=u[y]}var b=i(s),S=this.getRawIndex(Math.min(v+r(s,b)||0,h-1));u[S]=b,b<f[0]&&(f[0]=b),b>f[1]&&(f[1]=b),p[g++]=S}return o._count=g,o._indices=p,o._updateGetRawIdx(),o},n.prototype.each=function(t,e){if(this._count)for(var i=t.length,r=this._chunks,o=0,a=this.count();o<a;o++){var s=this.getRawIndex(o);switch(i){case 0:e(o);break;case 1:e(r[t[0]][s],o);break;case 2:e(r[t[0]][s],r[t[1]][s],o);break;default:for(var l=0,u=[];l<i;l++)u[l]=r[t[l]][s];u[l]=o,e.apply(null,u)}}},n.prototype.getDataExtent=function(t){var e=this._chunks[t],i=[1/0,-1/0];if(!e)return i;var r,o=this.count();if(!this._indices)return this._rawExtent[t].slice();if(r=this._extent[t])return r.slice();for(var a=(r=i)[0],s=r[1],l=0;l<o;l++){var u=e[this.getRawIndex(l)];u<a&&(a=u),u>s&&(s=u)}return this._extent[t]=r=[a,s],r},n.prototype.getRawDataItem=function(t){var e=this.getRawIndex(t);if(this._provider.persistent)return this._provider.getItem(e);for(var i=[],r=this._chunks,o=0;o<r.length;o++)i.push(r[o][e]);return i},n.prototype.clone=function(t,e){var i,r,o=new n,a=this._chunks,s=t&&zt(t,function(u,h){return u[h]=!0,u},{});if(s)for(var l=0;l<a.length;l++)o._chunks[l]=s[l]?(r=void 0,(r=(i=a[l]).constructor)===Array?i.slice():new r(i)):a[l];else o._chunks=a;return this._copyCommonProps(o),e||(o._indices=this._cloneIndices()),o._updateGetRawIdx(),o},n.prototype._copyCommonProps=function(t){t._count=this._count,t._rawCount=this._rawCount,t._provider=this._provider,t._dimensions=this._dimensions,t._extent=Te(this._extent),t._rawExtent=Te(this._rawExtent)},n.prototype._cloneIndices=function(){if(this._indices){var t=this._indices.constructor,e=void 0;if(t===Array){var i=this._indices.length;e=new t(i);for(var r=0;r<i;r++)e[r]=this._indices[r]}else e=new t(this._indices);return e}return null},n.prototype._getRawIdxIdentity=function(t){return t},n.prototype._getRawIdx=function(t){return t<this._count&&t>=0?this._indices[t]:-1},n.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},n.internalField=function(){function t(e,i,r,o){return Iu(e[o],this._dimensions[o])}jm={arrayRows:t,objectRows:function(e,i,r,o){return Iu(e[i],this._dimensions[o])},keyedColumns:t,original:function(e,i,r,o){var a=e&&(null==e.value?e:e.value);return Iu(a instanceof Array?a[o]:a,this._dimensions[o])},typedArray:function(e,i,r,o){return e[o]}}}(),n}(),ub=function(){function n(t){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=t}return n.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},n.prototype._setLocalSource=function(t,e){this._sourceList=t,this._upstreamSignList=e,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},n.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},n.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},n.prototype._createSource=function(){this._setLocalSource([],[]);var t,e,i=this._sourceHost,r=this._getUpstreamSourceManagers(),o=!!r.length;if(fg(i)){var a=i,s=void 0,l=void 0,u=void 0;if(o){var h=r[0];h.prepareSource(),s=(u=h.getSource()).data,l=u.sourceFormat,e=[h._getVersionSign()]}else l=Pn(s=a.get("data",!0))?xh:Eu,e=[];var f=this._getSourceMetaRawOption()||{},p=u&&u.metaRawOption||{},g=ln(f.seriesLayoutBy,p.seriesLayoutBy)||null,v=ln(f.sourceHeader,p.sourceHeader)||null,m=ln(f.dimensions,p.dimensions);t=g!==p.seriesLayoutBy||!!v!=!!p.sourceHeader||m?[zm(s,{seriesLayoutBy:g,sourceHeader:v,dimensions:m},l)]:[]}else{var y=i;if(o){var b=this._applyTransform(r);t=b.sourceList,e=b.upstreamSignList}else t=[zm(y.get("source",!0),this._getSourceMetaRawOption(),null)],e=[]}this._setLocalSource(t,e)},n.prototype._applyTransform=function(t){var e,i=this._sourceHost,r=i.get("transform",!0),o=i.get("fromTransformResult",!0);null!=o&&1!==t.length&&hb("");var s,l=[],u=[];return Y(t,function(h){h.prepareSource();var f=h.getSource(o||0);null==o||f||hb(""),l.push(f),u.push(h._getVersionSign())}),r?e=function(h,f,p){var g=Yn(h),v=g.length;v||jn("");for(var y=0,b=v;y<b;y++)f=eD(g[y],f),y!==b-1&&(f.length=Math.max(f.length,1));return f}(r,l):null!=o&&(e=[(s=l[0],new cg({data:s.data,sourceFormat:s.sourceFormat,seriesLayoutBy:s.seriesLayoutBy,dimensionsDefine:Te(s.dimensionsDefine),startIndex:s.startIndex,dimensionsDetectedCount:s.dimensionsDetectedCount}))]),{sourceList:e,upstreamSignList:u}},n.prototype._isDirty=function(){if(this._dirty)return!0;for(var t=this._getUpstreamSourceManagers(),e=0;e<t.length;e++){var i=t[e];if(i._isDirty()||this._upstreamSignList[e]!==i._getVersionSign())return!0}},n.prototype.getSource=function(t){var e=this._sourceList[t=t||0];if(!e){var i=this._getUpstreamSourceManagers();return i[0]&&i[0].getSource(t)}return e},n.prototype.getSharedDataStore=function(t){var e=t.makeStoreSchema();return this._innerGetDataStore(e.dimensions,t.source,e.hash)},n.prototype._innerGetDataStore=function(t,e,i){var r=this._storeList,o=r[0];o||(o=r[0]={});var a=o[i];if(!a){var s=this._getUpstreamSourceManagers()[0];fg(this._sourceHost)&&s?a=s._innerGetDataStore(t,e,i):(a=new qm).initData(new jx(e,t.length),t),o[i]=a}return a},n.prototype._getUpstreamSourceManagers=function(){var i,t=this._sourceHost;if(fg(t)){var e=Nm(t);return e?[e.getSourceManager()]:[]}return Ve((i=t).get("transform",!0)||i.get("fromTransformResult",!0)?Ml(i.ecModel,"dataset",{index:i.get("fromDatasetIndex",!0),id:i.get("fromDatasetId",!0)},mr).models:[],function(i){return i.getSourceManager()})},n.prototype._getSourceMetaRawOption=function(){var t,e,i,r=this._sourceHost;if(fg(r))t=r.get("seriesLayoutBy",!0),e=r.get("sourceHeader",!0),i=r.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var o=r;t=o.get("seriesLayoutBy",!0),e=o.get("sourceHeader",!0),i=o.get("dimensions",!0)}return{seriesLayoutBy:t,sourceHeader:e,dimensions:i}},n}();function cb(n){n.option.transform&&Ar(n.option.transform)}function fg(n){return"series"===n.mainType}function hb(n){throw new Error(n)}function fb(n,t){var e=n.color||"#6e7079",i=n.fontSize||12,r=n.fontWeight||"400",o=n.color||"#464646",a=n.fontSize||14,s=n.fontWeight||"900";return"html"===t?{nameStyle:"font-size:"+va(i+"")+"px;color:"+va(e)+";font-weight:"+va(r+""),valueStyle:"font-size:"+va(a+"")+"px;color:"+va(o)+";font-weight:"+va(s+"")}:{nameStyle:{fontSize:i,fill:e,fontWeight:r},valueStyle:{fontSize:a,fill:o,fontWeight:s}}}var iD=[0,10,20,30],rD=["","\n","\n\n","\n\n\n"];function ao(n,t){return t.type=n,t}function Km(n){return ut(db,n.type)&&db[n.type]}var db={section:{planLayout:function(n){var t=n.blocks.length,e=t>1||t>0&&!n.noHeader,i=0;Y(n.blocks,function(r){Km(r).planLayout(r);var o=r.__gapLevelBetweenSubBlocks;o>=i&&(i=o+(!e||o&&("section"!==r.type||r.noHeader)?0:1))}),n.__gapLevelBetweenSubBlocks=i},build:function(n,t,e,i){var r=t.noHeader,o=gb(t),a=function(u,h,f,p){var g=[],v=h.blocks||[];ni(!v||rt(v)),v=v||[];var m=u.orderMode;if(h.sortBlocks&&m){v=v.slice();var y={valueAsc:"asc",valueDesc:"desc"};if(ut(y,m)){var b=new ib(y[m],null);v.sort(function(E,I){return b.evaluate(E.sortParam,I.sortParam)})}else"seriesDesc"===m&&v.reverse()}var S=gb(h);if(Y(v,function(E,I){var A=Km(E).build(u,E,I>0?S.html:0,p);null!=A&&g.push(A)}),g.length)return"richText"===u.renderMode?g.join(S.richText):Zm(g.join(""),f)}(n,t,r?e:o.html,i);if(r)return a;var s=rg(t.header,"ordinal",n.useUTC),l=fb(i,n.renderMode).nameStyle;return"richText"===n.renderMode?vb(n,s,l)+o.richText+a:Zm('<div style="'+l+';line-height:1;">'+va(s)+"</div>"+a,e)}},nameValue:{planLayout:function(n){n.__gapLevelBetweenSubBlocks=0},build:function(n,t,e,i){var I,A,H,r=n.renderMode,o=t.noName,a=t.noValue,s=!t.markerType,l=t.name,u=t.value,h=n.useUTC;if(!o||!a){var f=s?"":n.markupStyleCreator.makeTooltipMarker(t.markerType,t.markerColor||"#333",r),p=o?"":rg(l,"ordinal",h),g=t.valueType,v=a?[]:rt(u)?Ve(u,function(I,A){return rg(I,rt(g)?g[A]:g,h)}):[rg(u,rt(g)?g[0]:g,h)],m=!s||!o,y=!s&&o,b=fb(i,r),S=b.nameStyle,E=b.valueStyle;return"richText"===r?(s?"":f)+(o?"":vb(n,p,S))+(a?"":(I=n,A=v,H=[E],m&&H.push({padding:[0,0,0,y?10:20],align:"right"}),I.markupStyleCreator.wrapRichTextStyle(A.join("  "),H))):Zm((s?"":f)+(o?"":function(I,A,L){return'<span style="'+L+";"+(A?"margin-left:2px":"")+'">'+va(I)+"</span>"}(p,!s,S))+(a?"":function(I,A,L,R){return'<span style="'+(A?"float:right;margin-left:"+(L?"10px":"20px"):"")+";"+R+'">'+Ve(I,function(H){return va(H)}).join("&nbsp;&nbsp;")+"</span>"}(v,m,y,E)),e)}}}};function pb(n,t,e,i,r,o){if(n){var a=Km(n);return a.planLayout(n),a.build({useUTC:r,renderMode:e,orderMode:i,markupStyleCreator:t},n,0,o)}}function gb(n){var t=n.__gapLevelBetweenSubBlocks;return{html:iD[t],richText:rD[t]}}function Zm(n,t){return'<div style="margin: '+t+'px 0 0;line-height:1;">'+n+'<div style="clear:both"></div></div>'}function vb(n,t,e){return n.markupStyleCreator.wrapRichTextStyle(t,e)}function mb(n,t){return yc(n.getData().getItemVisual(t,"style")[n.visualDrawType])}function yb(n,t){return n.get("padding")??("richText"===t?[8,10]:10)}var Jm=function(){function n(){this.richTextStyles={},this._nextStyleNameId=tl()}return n.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},n.prototype.makeTooltipMarker=function(t,e,i){var r="richText"===i?this._generateStyleName():null,o=gx({color:e,type:t,renderMode:i,markerId:r});return Jt(o)?o:(this.richTextStyles[r]=o.style,o.content)},n.prototype.wrapRichTextStyle=function(t,e){var i={};rt(e)?Y(e,function(o){return se(i,o)}):se(i,e);var r=this._generateStyleName();return this.richTextStyles[r]=i,"{"+r+"|"+t+"}"},n}();function _b(n){var t,e,i,r,o=n.series,a=n.dataIndex,s=n.multipleSeries,l=o.getData(),u=l.mapDimensionsAll("defaultedTooltip"),h=u.length,f=o.getRawValue(a),p=rt(f),g=mb(o,a);if(h>1||p&&!h){var v=function(I,A,L,R,k){var H=A.getData(),U=zt(I,function(le,he,ge){var me=H.getDimensionInfo(ge);return le||me&&!1!==me.tooltip&&null!=me.displayName},!1),G=[],K=[],$=[];function ee(le,he){var ge=H.getDimensionInfo(he);ge&&!1!==ge.otherDims.tooltip&&(U?$.push(ao("nameValue",{markerType:"subItem",markerColor:k,name:ge.displayName,value:le,valueType:ge.type})):(G.push(le),K.push(ge.type)))}return R.length?Y(R,function(le){ee(Sc(H,L,le),le)}):Y(I,ee),{inlineValues:G,inlineValueTypes:K,blocks:$}}(f,o,a,u,g);t=v.inlineValues,e=v.inlineValueTypes,i=v.blocks,r=v.inlineValues[0]}else if(h){var m=l.getDimensionInfo(u[0]);r=t=Sc(l,a,u[0]),e=m.type}else r=t=p?f[0]:f;var y=vr(o),b=y&&o.name||"",S=l.getName(a),E=s?b:S;return ao("section",{header:b,noHeader:s||!y,sortParam:r,blocks:[ao("nameValue",{markerType:"item",markerColor:g,name:E,noName:!Ji(E),value:t,valueType:e})].concat(i||[])})}var Au=Fn();function dg(n,t){return n.getName(t)||n.getId(t)}var Ei=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e._selectedDataIndicesMap={},e}return ue(t,n),t.prototype.init=function(e,i,r){this.seriesIndex=this.componentIndex,this.dataTask=Qf({count:oD,reset:aD}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(e,r),(Au(this).sourceManager=new ub(this)).prepareSource();var o=this.getInitialData(e,r);bb(o,this),this.dataTask.context.data=o,Au(this).dataBeforeProcessed=o,xb(this),this._initSelectedMapFromData(o)},t.prototype.mergeDefaultAndTheme=function(e,i){var r=jf(this),o=r?mh(e):{},a=this.subType;Rn.hasClass(a)&&(a+="Series"),Ie(e,i.getTheme().get(this.subType)),Ie(e,this.getDefaultOption()),Qo(e,"label",["show"]),this.fillDataTextStyle(e.data),r&&Tu(e,o,r)},t.prototype.mergeOption=function(e,i){e=Ie(this.option,e,!0),this.fillDataTextStyle(e.data);var r=jf(this);r&&Tu(this.option,e,r);var o=Au(this).sourceManager;o.dirty(),o.prepareSource();var a=this.getInitialData(e,i);bb(a,this),this.dataTask.dirty(),this.dataTask.context.data=a,Au(this).dataBeforeProcessed=a,xb(this),this._initSelectedMapFromData(a)},t.prototype.fillDataTextStyle=function(e){if(e&&!Pn(e))for(var i=["show"],r=0;r<e.length;r++)e[r]&&e[r].label&&Qo(e[r],"label",i)},t.prototype.getInitialData=function(e,i){},t.prototype.appendData=function(e){this.getRawData().appendData(e.data)},t.prototype.getData=function(e){var i=Qm(this);if(i){var r=i.context.data;return null==e?r:r.getLinkedData(e)}return Au(this).data},t.prototype.getAllData=function(){var e=this.getData();return e&&e.getLinkedDataAll?e.getLinkedDataAll():[{data:e}]},t.prototype.setData=function(e){var i=Qm(this);if(i){var r=i.context;r.outputData=e,i!==this.dataTask&&(r.data=e)}Au(this).data=e},t.prototype.getEncode=function(){var e=this.get("encode",!0);if(e)return Ht(e)},t.prototype.getSourceManager=function(){return Au(this).sourceManager},t.prototype.getSource=function(){return this.getSourceManager().getSource()},t.prototype.getRawData=function(){return Au(this).dataBeforeProcessed},t.prototype.getColorBy=function(){return this.get("colorBy")||"series"},t.prototype.isColorBySeries=function(){return"series"===this.getColorBy()},t.prototype.getBaseAxis=function(){var e=this.coordinateSystem;return e&&e.getBaseAxis&&e.getBaseAxis()},t.prototype.formatTooltip=function(e,i,r){return _b({series:this,dataIndex:e,multipleSeries:i})},t.prototype.isAnimationEnabled=function(){if(ve.node)return!1;var e=this.getShallow("animation");return e&&this.getData().count()>this.getShallow("animationThreshold")&&(e=!1),!!e},t.prototype.restoreData=function(){this.dataTask.dirty()},t.prototype.getColorFromPalette=function(e,i,r){var o=this.ecModel,a=Om.prototype.getColorFromPalette.call(this,e,i,r);return a||(a=o.getColorFromPalette(e,i,r)),a},t.prototype.coordDimToDataDim=function(e){return this.getRawData().mapDimensionsAll(e)},t.prototype.getProgressive=function(){return this.get("progressive")},t.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},t.prototype.select=function(e,i){this._innerSelect(this.getData(i),e)},t.prototype.unselect=function(e,i){var r=this.option.selectedMap;if(r)for(var o=this.getData(i),a=0;a<e.length;a++){var s=dg(o,e[a]);r[s]=!1,this._selectedDataIndicesMap[s]=-1}},t.prototype.toggleSelect=function(e,i){for(var r=[],o=0;o<e.length;o++)r[0]=e[o],this.isSelected(e[o],i)?this.unselect(r,i):this.select(r,i)},t.prototype.getSelectedDataIndices=function(){for(var e=this._selectedDataIndicesMap,i=Mt(e),r=[],o=0;o<i.length;o++){var a=e[i[o]];a>=0&&r.push(a)}return r},t.prototype.isSelected=function(e,i){var r=this.option.selectedMap;return r&&r[dg(this.getData(i),e)]||!1},t.prototype.isUniversalTransitionEnabled=function(){if(this.__universalTransitionEnabled)return!0;var e=this.option.universalTransition;return!!e&&(!0===e||e&&e.enabled)},t.prototype._innerSelect=function(e,i){var r,o,a=this.option.selectedMode,s=i.length;if(a&&s)if("multiple"===a)for(var l=this.option.selectedMap||(this.option.selectedMap={}),u=0;u<s;u++){var h=i[u];l[p=dg(e,h)]=!0,this._selectedDataIndicesMap[p]=e.getRawIndex(h)}else if("single"===a||!0===a){var f=i[s-1],p=dg(e,f);this.option.selectedMap=((r={})[p]=!0,r),this._selectedDataIndicesMap=((o={})[p]=e.getRawIndex(f),o)}},t.prototype._initSelectedMapFromData=function(e){if(!this.option.selectedMap){var i=[];e.hasItemOption&&e.each(function(r){var o=e.getRawDataItem(r);o&&o.selected&&i.push(r)}),i.length>0&&this._innerSelect(e,i)}},t.registerClass=function(e){return Rn.registerClass(e)},t.protoInitialize=((e=t.prototype).type="series.__base__",e.seriesIndex=0,e.ignoreStyleOnData=!1,e.hasSymbolVisual=!1,e.defaultSymbol="circle",e.visualStyleAccessPath="itemStyle",void(e.visualDrawType="fill")),t;var e}(Rn);function xb(n){var i,r,o,t=n.name;vr(n)||(n.name=(r=(i=n.getRawData()).mapDimensionsAll("seriesName"),o=[],Y(r,function(a){var s=i.getDimensionInfo(a);s.displayName&&o.push(s.displayName)}),o.join(" ")||t))}function oD(n){return n.model.getRawData().count()}function aD(n){var t=n.model;return t.setData(t.getRawData().cloneShallow()),sD}function sD(n,t){t.outputData&&n.end>t.outputData.count()&&t.model.getRawData().cloneShallow(t.outputData)}function bb(n,t){Y(Si(n.CHANGABLE_METHODS,n.DOWNSAMPLE_METHODS),function(e){n.wrapMethod(e,Lt(lD,t))})}function lD(n,t){var e=Qm(n);return e&&e.setOutputEnd((t||this).count()),t}function Qm(n){var t=(n.ecModel||{}).scheduler,e=t&&t.getPipeline(n.uid);if(e){var i=e.currentTask;if(i){var r=i.agentStubMap;r&&(i=r.get(n.uid))}return i}}lt(Ei,Ym),lt(Ei,Om),cf(Ei,Rn);var Ni=function(){function n(){this.group=new Ft,this.uid=ph("viewComponent")}return n.prototype.init=function(t,e){},n.prototype.render=function(t,e,i,r){},n.prototype.dispose=function(t,e){},n.prototype.updateView=function(t,e,i,r){},n.prototype.updateLayout=function(t,e,i,r){},n.prototype.updateVisual=function(t,e,i,r){},n.prototype.blurSeries=function(t,e){},n}();function Eh(){var n=Fn();return function(t){var e=n(t),i=t.pipelineContext,r=!!e.large,o=!!e.progressiveRender,a=e.large=!(!i||!i.large),s=e.progressiveRender=!(!i||!i.progressiveRender);return!(r===a&&o===s)&&"reset"}}Xc(Ni),go(Ni);var Sb=Fn(),uD=Eh(),vi=function(){function n(){this.group=new Ft,this.uid=ph("viewChart"),this.renderTask=Qf({plan:cD,reset:hD}),this.renderTask.context={view:this}}return n.prototype.init=function(t,e){},n.prototype.render=function(t,e,i,r){},n.prototype.highlight=function(t,e,i,r){Tb(t.getData(),r,"emphasis")},n.prototype.downplay=function(t,e,i,r){Tb(t.getData(),r,"normal")},n.prototype.remove=function(t,e){this.group.removeAll()},n.prototype.dispose=function(t,e){},n.prototype.updateView=function(t,e,i,r){this.render(t,e,i,r)},n.prototype.updateLayout=function(t,e,i,r){this.render(t,e,i,r)},n.prototype.updateVisual=function(t,e,i,r){this.render(t,e,i,r)},n.markUpdateMethod=function(t,e){Sb(t).updateMethod=e},n.protoInitialize=void(n.prototype.type="chart"),n}();function wb(n,t,e){n&&("emphasis"===t?$a:Io)(n,e)}function Tb(n,t,e){var o,a,i=Ui(n,t),r=t&&null!=t.highlightKey?(null==(a=rh[o=t.highlightKey])&&Mf<=32&&(a=rh[o]=Mf++),a):null;null!=i?Y(Yn(i),function(o){wb(n.getItemGraphicEl(o),e,r)}):n.eachItemGraphicEl(function(o){wb(o,e,r)})}function cD(n){return uD(n.model)}function hD(n){var t=n.model,e=n.ecModel,i=n.api,r=n.payload,o=t.pipelineContext.progressiveRender,a=n.view,s=r&&Sb(r).updateMethod,l=o?"incrementalPrepareRender":s&&a[s]?s:"render";return"render"!==l&&a[l](t,e,i,r),fD[l]}Xc(vi),go(vi);var fD={incrementalPrepareRender:{progress:function(n,t){t.view.incrementalRender(n,t.model,t.ecModel,t.api,t.payload)}},render:{forceFirstProgress:!0,progress:function(n,t){t.view.render(t.model,t.ecModel,t.api,t.payload)}}},pg="\0__throttleOriginMethod",Eb="\0__throttleRate",Cb="\0__throttleType";function ed(n,t,e){var i,r,o,a,s,l=0,u=0,h=null;function f(){u=(new Date).getTime(),h=null,n.apply(o,a||[])}t=t||0;var p=function(){for(var g=[],v=0;v<arguments.length;v++)g[v]=arguments[v];i=(new Date).getTime(),o=this,a=g;var m=s||t,y=s||e;s=null,r=i-(y?l:u)-m,clearTimeout(h),y?h=setTimeout(f,m):r>=0?f():h=setTimeout(f,-r),l=i};return p.clear=function(){h&&(clearTimeout(h),h=null)},p.debounceNextCall=function(g){s=g},p}function td(n,t,e,i){var r=n[t];if(r){var o=r[pg]||r;if(r[Eb]!==e||r[Cb]!==i){if(null==e||!i)return n[t]=o;(r=n[t]=ed(o,e,"debounce"===i))[pg]=o,r[Cb]=i,r[Eb]=e}return r}}var Ib=Fn(),Ab={itemStyle:il(Q1,!0),lineStyle:il(J1,!0)},dD={lineStyle:"stroke",itemStyle:"fill"};function Mb(n,t){return n.visualStyleMapper||Ab[t]||(console.warn("Unkown style type '"+t+"'."),Ab.itemStyle)}function Lb(n,t){return n.visualDrawType||dD[t]||(console.warn("Unkown style type '"+t+"'."),"fill")}var pD={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,t){var e=n.getData(),i=n.visualStyleAccessPath||"itemStyle",r=n.getModel(i),o=Mb(n,i)(r),a=r.getShallow("decal");a&&(e.setVisual("decal",a),a.dirty=!0);var s=Lb(n,i),l=o[s],u=sn(l)?l:null;if(!o[s]||u||"auto"===o.fill||"auto"===o.stroke){var f=n.getColorFromPalette(n.name,null,t.getSeriesCount());o[s]||(o[s]=f,e.setVisual("colorFromPalette",!0)),o.fill="auto"===o.fill||"function"==typeof o.fill?f:o.fill,o.stroke="auto"===o.stroke||"function"==typeof o.stroke?f:o.stroke}if(e.setVisual("style",o),e.setVisual("drawType",s),!t.isSeriesFiltered(n)&&u)return e.setVisual("colorFromPalette",!1),{dataEach:function(p,g){var v=n.getDataParams(g),m=se({},o);m[s]=u(v),p.setItemVisual(g,"style",m)}}}},nd=new Qn,gD={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,t){if(!n.ignoreStyleOnData&&!t.isSeriesFiltered(n)){var e=n.getData(),i=n.visualStyleAccessPath||"itemStyle",r=Mb(n,i),o=e.getVisual("drawType");return{dataEach:e.hasItemOption?function(a,s){var l=a.getRawDataItem(s);if(l&&l[i]){nd.option=l[i];var u=r(nd);se(a.ensureUniqueItemVisual(s,"style"),u),nd.option.decal&&(a.setItemVisual(s,"decal",nd.option.decal),nd.option.decal.dirty=!0),o in u&&a.setItemVisual(s,"colorFromPalette",!1)}}:null}}}},vD={performRawSeries:!0,overallReset:function(n){var t=Ht();n.eachSeries(function(e){var i=e.getColorBy();if(!e.isColorBySeries()){var r=e.type+"-"+i,o=t.get(r);o||t.set(r,o={}),Ib(e).scope=o}}),n.eachSeries(function(e){if(!e.isColorBySeries()&&!n.isSeriesFiltered(e)){var i=e.getRawData(),r={},o=e.getData(),a=Ib(e).scope,l=Lb(e,e.visualStyleAccessPath||"itemStyle");o.each(function(u){var h=o.getRawIndex(u);r[h]=u}),i.each(function(u){var h=r[u];if(o.getItemVisual(h,"colorFromPalette")){var f=o.ensureUniqueItemVisual(h,"style"),p=i.getName(u)||u+"",g=i.count();f[l]=e.getColorFromPalette(p,a,g)}})}})}},gg=Math.PI,Db=function(){function n(t,e,i,r){this._stageTaskMap=Ht(),this.ecInstance=t,this.api=e,i=this._dataProcessorHandlers=i.slice(),r=this._visualHandlers=r.slice(),this._allHandlers=i.concat(r)}return n.prototype.restoreData=function(t,e){t.restoreData(e),this._stageTaskMap.each(function(i){var r=i.overallTask;r&&r.dirty()})},n.prototype.getPerformArgs=function(t,e){if(t.__pipeline){var i=this._pipelineMap.get(t.__pipeline.id),r=i.context,o=!e&&i.progressiveEnabled&&(!r||r.progressiveRender)&&t.__idxInPipeline>i.blockIndex?i.step:null,a=r&&r.modDataCount;return{step:o,modBy:null!=a?Math.ceil(a/o):null,modDataCount:a}}},n.prototype.getPipeline=function(t){return this._pipelineMap.get(t)},n.prototype.updateStreamModes=function(t,e){var i=this._pipelineMap.get(t.uid),r=t.getData().count(),o=i.progressiveEnabled&&e.incrementalPrepareRender&&r>=i.threshold,a=t.get("large")&&r>=t.get("largeThreshold"),s="mod"===t.get("progressiveChunkMode")?r:null;t.pipelineContext=i.context={progressiveRender:o,modDataCount:s,large:a}},n.prototype.restorePipelines=function(t){var e=this,i=e._pipelineMap=Ht();t.eachSeries(function(r){var o=r.getProgressive(),a=r.uid;i.set(a,{id:a,head:null,tail:null,threshold:r.getProgressiveThreshold(),progressiveEnabled:o&&!(r.preventIncremental&&r.preventIncremental()),blockIndex:-1,step:Math.round(o||700),count:0}),e._pipe(r,r.dataTask)})},n.prototype.prepareStageTasks=function(){var t=this._stageTaskMap,e=this.api.getModel(),i=this.api;Y(this._allHandlers,function(r){var o=t.get(r.uid)||t.set(r.uid,{});ni(!(r.reset&&r.overallReset),""),r.reset&&this._createSeriesStageTask(r,o,e,i),r.overallReset&&this._createOverallStageTask(r,o,e,i)},this)},n.prototype.prepareView=function(t,e,i,r){var o=t.renderTask,a=o.context;a.model=e,a.ecModel=i,a.api=r,o.__block=!t.incrementalPrepareRender,this._pipe(e,o)},n.prototype.performDataProcessorTasks=function(t,e){this._performStageTasks(this._dataProcessorHandlers,t,e,{block:!0})},n.prototype.performVisualTasks=function(t,e,i){this._performStageTasks(this._visualHandlers,t,e,i)},n.prototype._performStageTasks=function(t,e,i,r){r=r||{};var o=!1,a=this;function s(l,u){return l.setDirty&&(!l.dirtyMap||l.dirtyMap.get(u.__pipeline.id))}Y(t,function(l,u){if(!r.visualType||r.visualType===l.visualType){var h=a._stageTaskMap.get(l.uid),f=h.seriesTaskMap,p=h.overallTask;if(p){var g,v=p.agentStubMap;v.each(function(y){s(r,y)&&(y.dirty(),g=!0)}),g&&p.dirty(),a.updatePayload(p,i);var m=a.getPerformArgs(p,r.block);v.each(function(y){y.perform(m)}),p.perform(m)&&(o=!0)}else f&&f.each(function(y,b){s(r,y)&&y.dirty();var S=a.getPerformArgs(y,r.block);S.skip=!l.performRawSeries&&e.isSeriesFiltered(y.context.model),a.updatePayload(y,i),y.perform(S)&&(o=!0)})}}),this.unfinished=o||this.unfinished},n.prototype.performSeriesTasks=function(t){var e;t.eachSeries(function(i){e=i.dataTask.perform()||e}),this.unfinished=e||this.unfinished},n.prototype.plan=function(){this._pipelineMap.each(function(t){var e=t.tail;do{if(e.__block){t.blockIndex=e.__idxInPipeline;break}e=e.getUpstream()}while(e)})},n.prototype.updatePayload=function(t,e){"remain"!==e&&(t.context.payload=e)},n.prototype._createSeriesStageTask=function(t,e,i,r){var o=this,a=e.seriesTaskMap,s=e.seriesTaskMap=Ht(),l=t.seriesType,u=t.getTargetSeries;function h(f){var p=f.uid,g=s.set(p,a&&a.get(p)||Qf({plan:bD,reset:SD,count:TD}));g.context={model:f,ecModel:i,api:r,useClearVisual:t.isVisual&&!t.isLayout,plan:t.plan,reset:t.reset,scheduler:o},o._pipe(f,g)}t.createOnAllSeries?i.eachRawSeries(h):l?i.eachRawSeriesByType(l,h):u&&u(i,r).each(h)},n.prototype._createOverallStageTask=function(t,e,i,r){var o=this,a=e.overallTask=e.overallTask||Qf({reset:mD});a.context={ecModel:i,api:r,overallReset:t.overallReset,scheduler:o};var s=a.agentStubMap,l=a.agentStubMap=Ht(),u=t.seriesType,h=t.getTargetSeries,f=!0,p=!1;function v(m){var y=m.uid,b=l.set(y,s&&s.get(y)||(p=!0,Qf({reset:yD,onDirty:xD})));b.context={model:m,overallProgress:f},b.agent=a,b.__block=f,o._pipe(m,b)}ni(!t.createOnAllSeries,""),u?i.eachRawSeriesByType(u,v):h?h(i,r).each(v):(f=!1,Y(i.getSeries(),v)),p&&a.dirty()},n.prototype._pipe=function(t,e){var r=this._pipelineMap.get(t.uid);!r.head&&(r.head=e),r.tail&&r.tail.pipe(e),r.tail=e,e.__idxInPipeline=r.count++,e.__pipeline=r},n.wrapStageHandler=function(t,e){return sn(t)&&(t={overallReset:t,seriesType:ED(t)}),t.uid=ph("stageHandler"),e&&(t.visualType=e),t},n}();function mD(n){n.overallReset(n.ecModel,n.api,n.payload)}function yD(n){return n.overallProgress&&_D}function _D(){this.agent.dirty(),this.getDownstream().dirty()}function xD(){this.agent&&this.agent.dirty()}function bD(n){return n.plan?n.plan(n.model,n.ecModel,n.api,n.payload):null}function SD(n){n.useClearVisual&&n.data.clearAllVisual();var t=n.resetDefines=Yn(n.reset(n.model,n.ecModel,n.api,n.payload));return t.length>1?Ve(t,function(e,i){return Nb(i)}):wD}var wD=Nb(0);function Nb(n){return function(t,e){var i=e.data,r=e.resetDefines[n];if(r&&r.dataEach)for(var o=t.start;o<t.end;o++)r.dataEach(i,o);else r&&r.progress&&r.progress(t,i)}}function TD(n){return n.data.count()}function ED(n){vg=null;try{n(id,Rb)}catch{}return vg}var vg,id={},Rb={};function Ob(n,t){for(var e in t.prototype)n[e]=Vn}Ob(id,Pm),Ob(Rb,Rx),id.eachSeriesByType=id.eachRawSeriesByType=function(n){vg=n},id.eachComponent=function(n){"series"===n.mainType&&n.subType&&(vg=n.subType)};var kb=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"],CD={color:kb,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],kb]},ia="#B9B8CE",Pb="#100C2A",mg=function(){return{axisLine:{lineStyle:{color:ia}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},Bb=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],Fb={darkMode:!0,color:Bb,backgroundColor:Pb,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:ia}},textStyle:{color:ia},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:ia}},dataZoom:{borderColor:"#71708A",textStyle:{color:ia},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:ia}},timeline:{lineStyle:{color:ia},label:{color:ia},controlStyle:{color:ia,borderColor:ia}},calendar:{itemStyle:{color:Pb},dayLabel:{color:ia},monthLabel:{color:ia},yearLabel:{color:ia}},timeAxis:mg(),logAxis:mg(),valueAxis:mg(),categoryAxis:mg(),line:{symbol:"circle"},graph:{color:Bb},gauge:{title:{color:ia},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:ia},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};Fb.categoryAxis.splitLine.show=!1;var ID=function(){function n(){}return n.prototype.normalizeQuery=function(t){var e={},i={},r={};if(Jt(t)){var o=La(t);e.mainType=o.main||null,e.subType=o.sub||null}else{var a=["Index","Name","Id"],s={name:1,dataIndex:1,dataType:1};Y(t,function(l,u){for(var h=!1,f=0;f<a.length;f++){var p=a[f],g=u.lastIndexOf(p);if(g>0&&g===u.length-p.length){var v=u.slice(0,g);"data"!==v&&(e.mainType=v,e[p.toLowerCase()]=l,h=!0)}}s.hasOwnProperty(u)&&(i[u]=l,h=!0),h||(r[u]=l)})}return{cptQuery:e,dataQuery:i,otherQuery:r}},n.prototype.filter=function(t,e){var i=this.eventInfo;if(!i)return!0;var r=i.targetEl,o=i.packedEvent,a=i.model,s=i.view;if(!a||!s)return!0;var l=e.cptQuery,u=e.dataQuery;return h(l,a,"mainType")&&h(l,a,"subType")&&h(l,a,"index","componentIndex")&&h(l,a,"name")&&h(l,a,"id")&&h(u,o,"name")&&h(u,o,"dataIndex")&&h(u,o,"dataType")&&(!s.filterForExposedEvent||s.filterForExposedEvent(t,e.otherQuery,r,o));function h(f,p,g,v){return null==f[g]||p[v||g]===f[g]}},n.prototype.afterTrigger=function(){this.eventInfo=null},n}(),AD={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,t){var e=n.getData();if(n.legendIcon&&e.setVisual("legendIcon",n.legendIcon),n.hasSymbolVisual){var i=n.get("symbol"),r=n.get("symbolSize"),o=n.get("symbolKeepAspect"),a=n.get("symbolRotate"),s=n.get("symbolOffset"),l=sn(i),u=sn(r),h=sn(a),f=sn(s),p=l||u||h||f,g=!l&&i?i:n.defaultSymbol;if(e.setVisual({legendIcon:n.legendIcon||g,symbol:g,symbolSize:u?null:r,symbolKeepAspect:o,symbolRotate:h?null:a,symbolOffset:f?null:s}),!t.isSeriesFiltered(n))return{dataEach:p?function(b,S){var E=n.getRawValue(S),I=n.getDataParams(S);l&&b.setItemVisual(S,"symbol",i(E,I)),u&&b.setItemVisual(S,"symbolSize",r(E,I)),h&&b.setItemVisual(S,"symbolRotate",a(E,I)),f&&b.setItemVisual(S,"symbolOffset",s(E,I))}:null}}}};function $m(n,t,e){switch(e){case"color":return n.getItemVisual(t,"style")[n.getVisual("drawType")];case"opacity":return n.getItemVisual(t,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return n.getItemVisual(t,e)}}function rd(n,t){switch(t){case"color":return n.getVisual("style")[n.getVisual("drawType")];case"opacity":return n.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return n.getVisual(t)}}function Hb(n,t,e,i){switch(e){case"color":n.ensureUniqueItemVisual(t,"style")[n.getVisual("drawType")]=i,n.setItemVisual(t,"colorFromPalette",!1);break;case"opacity":n.ensureUniqueItemVisual(t,"style").opacity=i;break;case"symbol":case"symbolSize":case"liftZ":n.setItemVisual(t,e,i)}}function Ub(n,t){function e(i,r){var o=[];return i.eachComponent({mainType:"series",subType:n,query:r},function(a){o.push(a.seriesIndex)}),o}Y([[n+"ToggleSelect","toggleSelect"],[n+"Select","select"],[n+"UnSelect","unselect"]],function(i){t(i[0],function(r,o,a){r=se({},r),a.dispatchAction(se(r,{type:i[1],seriesIndex:e(o,r)}))})})}function Ch(n,t,e,i,r){var o=n+t;e.isSilent(o)||i.eachComponent({mainType:"series",subType:"pie"},function(a){for(var s=a.seriesIndex,l=r.selected,u=0;u<l.length;u++)if(l[u].seriesIndex===s){var h=a.getData(),f=Ui(h,r.fromActionPayload);e.trigger(o,{type:o,seriesId:a.id,name:rt(f)?h.getName(f[0]):h.getName(f),selected:se({},a.option.selectedMap)})}})}function Ih(n,t,e){for(var i;n&&(!t(n)||(i=n,!e));)n=n.__hostTarget||n.parent;return i}var MD=Math.round(9*Math.random()),LD="function"==typeof Object.defineProperty,zb=function(){function n(){this._id="__ec_inner_"+MD++}return n.prototype.get=function(t){return this._guard(t)[this._id]},n.prototype.set=function(t,e){var i=this._guard(t);return LD?Object.defineProperty(i,this._id,{value:e,enumerable:!1,configurable:!0}):i[this._id]=e,this},n.prototype.delete=function(t){return!!this.has(t)&&(delete this._guard(t)[this._id],!0)},n.prototype.has=function(t){return!!this._guard(t)[this._id]},n.prototype._guard=function(t){if(t!==Object(t))throw TypeError("Value of WeakMap is not a non-null object.");return t},n}(),DD=Mn.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(n,t){var e=t.cx,i=t.cy,r=t.width/2,o=t.height/2;n.moveTo(e,i-o),n.lineTo(e+r,i+o),n.lineTo(e-r,i+o),n.closePath()}}),ND=Mn.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(n,t){var e=t.cx,i=t.cy,r=t.width/2,o=t.height/2;n.moveTo(e,i-o),n.lineTo(e+r,i),n.lineTo(e,i+o),n.lineTo(e-r,i),n.closePath()}}),RD=Mn.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(n,t){var e=t.x,i=t.y,r=t.width/5*3,o=Math.max(r,t.height),a=r/2,s=a*a/(o-a),l=i-o+a+s,u=Math.asin(s/a),h=Math.cos(u)*a,f=Math.sin(u),p=Math.cos(u),g=.6*a,v=.7*a;n.moveTo(e-h,l+s),n.arc(e,l,a,Math.PI-u,2*Math.PI+u),n.bezierCurveTo(e+h-f*g,l+s+p*g,e,i-v,e,i),n.bezierCurveTo(e,i-v,e-h+f*g,l+s+p*g,e-h,l+s),n.closePath()}}),OD=Mn.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(n,t){var e=t.height,r=t.x,o=t.y,a=t.width/3*2;n.moveTo(r,o),n.lineTo(r+a,o+e),n.lineTo(r,o+e/4*3),n.lineTo(r-a,o+e),n.lineTo(r,o),n.closePath()}}),kD={line:function(n,t,e,i,r){r.x1=n,r.y1=t+i/2,r.x2=n+e,r.y2=t+i/2},rect:function(n,t,e,i,r){r.x=n,r.y=t,r.width=e,r.height=i},roundRect:function(n,t,e,i,r){r.x=n,r.y=t,r.width=e,r.height=i,r.r=Math.min(e,i)/4},square:function(n,t,e,i,r){var o=Math.min(e,i);r.x=n,r.y=t,r.width=o,r.height=o},circle:function(n,t,e,i,r){r.cx=n+e/2,r.cy=t+i/2,r.r=Math.min(e,i)/2},diamond:function(n,t,e,i,r){r.cx=n+e/2,r.cy=t+i/2,r.width=e,r.height=i},pin:function(n,t,e,i,r){r.x=n+e/2,r.y=t+i/2,r.width=e,r.height=i},arrow:function(n,t,e,i,r){r.x=n+e/2,r.y=t+i/2,r.width=e,r.height=i},triangle:function(n,t,e,i,r){r.cx=n+e/2,r.cy=t+i/2,r.width=e,r.height=i}},yg={};Y({line:$r,rect:kn,roundRect:kn,square:kn,circle:gi,diamond:ND,pin:RD,arrow:OD,triangle:DD},function(n,t){yg[t]=new n});var PD=Mn.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(n,t,e){var i=Ut(n,t,e),r=this.shape;return r&&"pin"===r.symbolType&&"inside"===t.position&&(i.y=e.y+.4*e.height),i},buildPath:function(n,t,e){var i=t.symbolType;if("none"!==i){var r=yg[i];r||(r=yg[i="rect"]),kD[i](t.x,t.y,t.width,t.height,r.shape),r.buildPath(n,r.shape,e)}}});function BD(n,t){if("image"!==this.type){var e=this.style;this.__isEmptyBrush?(e.stroke=n,e.fill=t||"#fff",e.lineWidth=2):"line"===this.shape.symbolType?e.stroke=n:e.fill=n,this.markRedraw()}}function Er(n,t,e,i,r,o,a){var s,l=0===n.indexOf("empty");return l&&(n=n.substr(5,1).toLowerCase()+n.substr(6)),(s=0===n.indexOf("image://")?fm(n.slice(8),new cn(t,e,i,r),a?"center":"cover"):0===n.indexOf("path://")?Ff(n.slice(7),{},new cn(t,e,i,r),a?"center":"cover"):new PD({shape:{symbolType:n,x:t,y:e,width:i,height:r}})).__isEmptyBrush=l,s.setColor=BD,o&&s.setColor(o),s}function od(n){return rt(n)||(n=[+n,+n]),[n[0]||0,n[1]||0]}function Ah(n,t){if(null!=n)return rt(n)||(n=[n,n]),[kt(n[0],t[0])||0,kt(ln(n[1],n[0]),t[1])||0]}function ey(n,t,e){for(var i="radial"===t.type?(a=n,s=t,void 0,void 0,void 0,p=void 0,g=void 0,v=void 0,u=(l=e).width,h=l.height,f=Math.min(u,h),p=null==s.x?.5:s.x,g=null==s.y?.5:s.y,v=null==s.r?.5:s.r,s.global||(p=p*u+l.x,g=g*h+l.y,v*=f),a.createRadialGradient(p,g,0,p,g,v)):function(a,s,l){var u=null==s.x?0:s.x,h=null==s.x2?1:s.x2,f=null==s.y?0:s.y,p=null==s.y2?0:s.y2;return s.global||(u=u*l.width+l.x,h=h*l.width+l.x,f=f*l.height+l.y,p=p*l.height+l.y),u=isNaN(u)?0:u,h=isNaN(h)?1:h,f=isNaN(f)?0:f,p=isNaN(p)?0:p,a.createLinearGradient(u,f,h,p)}(n,t,e),r=t.colorStops,o=0;o<r.length;o++)i.addColorStop(r[o].offset,r[o].color);var a,s,l,u,h,f,p,g,v;return i}function Vb(n,t){if(n===t||!n&&!t)return!1;if(!n||!t||n.length!==t.length)return!0;for(var e=0;e<n.length;e++)if(n[e]!==t[e])return!0;return!1}function ty(n,t){return n&&"solid"!==n&&t>0?(t=t||1,"dashed"===n?[4*t,2*t]:"dotted"===n?[t]:Ci(n)?[n]:rt(n)?n:null):null}var FD=new vo(!0);function _g(n){var t=n.stroke;return!(null==t||"none"===t||!(n.lineWidth>0))}function Gb(n){return"string"==typeof n&&"none"!==n}function xg(n){var t=n.fill;return null!=t&&"none"!==t}function Wb(n,t){if(null!=t.fillOpacity&&1!==t.fillOpacity){var e=n.globalAlpha;n.globalAlpha=t.fillOpacity*t.opacity,n.fill(),n.globalAlpha=e}else n.fill()}function Yb(n,t){if(null!=t.strokeOpacity&&1!==t.strokeOpacity){var e=n.globalAlpha;n.globalAlpha=t.strokeOpacity*t.opacity,n.stroke(),n.globalAlpha=e}else n.stroke()}function ny(n,t,e){var i=$o(t.image,t.__image,e);if(Da(i)){var r=n.createPattern(i,t.repeat||"repeat");if("function"==typeof DOMMatrix&&r.setTransform){var o=new DOMMatrix;o.rotateSelf(0,0,(t.rotation||0)/Math.PI*180),o.scaleSelf(t.scaleX||1,t.scaleY||1),o.translateSelf(t.x||0,t.y||0),r.setTransform(o)}return r}}var Xb=["shadowBlur","shadowOffsetX","shadowOffsetY"],jb=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function qb(n,t,e,i,r){var o=!1;if(!i&&t===(e=e||{}))return!1;if(i||t.opacity!==e.opacity){o||(ma(n,r),o=!0);var a=Math.max(Math.min(t.opacity,1),0);n.globalAlpha=isNaN(a)?Cs.opacity:a}(i||t.blend!==e.blend)&&(o||(ma(n,r),o=!0),n.globalCompositeOperation=t.blend||Cs.blend);for(var s=0;s<Xb.length;s++){var l=Xb[s];(i||t[l]!==e[l])&&(o||(ma(n,r),o=!0),n[l]=n.dpr*(t[l]||0))}return(i||t.shadowColor!==e.shadowColor)&&(o||(ma(n,r),o=!0),n.shadowColor=t.shadowColor||Cs.shadowColor),o}function Kb(n,t,e,i,r){var o=ad(t,r.inHover),a=i?null:e&&ad(e,r.inHover)||{};if(o===a)return!1;var s=qb(n,o,a,i,r);if((i||o.fill!==a.fill)&&(s||(ma(n,r),s=!0),Gb(o.fill)&&(n.fillStyle=o.fill)),(i||o.stroke!==a.stroke)&&(s||(ma(n,r),s=!0),Gb(o.stroke)&&(n.strokeStyle=o.stroke)),(i||o.opacity!==a.opacity)&&(s||(ma(n,r),s=!0),n.globalAlpha=null==o.opacity?1:o.opacity),t.hasStroke()){var l=o.lineWidth/(o.strokeNoScale&&t&&t.getLineScale?t.getLineScale():1);n.lineWidth!==l&&(s||(ma(n,r),s=!0),n.lineWidth=l)}for(var u=0;u<jb.length;u++){var h=jb[u],f=h[0];(i||o[f]!==a[f])&&(s||(ma(n,r),s=!0),n[f]=o[f]||h[1])}return s}function Zb(n,t){var e=t.transform,i=n.dpr||1;e?n.setTransform(i*e[0],i*e[1],i*e[2],i*e[3],i*e[4],i*e[5]):n.setTransform(i,0,0,i,0,0)}function ma(n,t){t.batchFill&&n.fill(),t.batchStroke&&n.stroke(),t.batchFill="",t.batchStroke=""}function ad(n,t){return t&&n.__hoverStyle||n.style}function iy(n,t){Mu(n,t,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function Mu(n,t,e,i){var r=t.transform;if(!t.shouldBePainted(e.viewWidth,e.viewHeight,!1,!1))return t.__dirty&=-2,void(t.__isRendered=!1);var v,m,y,o=t.__clipPaths,a=e.prevElClipPaths,s=!1,l=!1;if(a&&!Vb(o,a)||(a&&a.length&&(ma(n,e),n.restore(),l=s=!0,e.prevElClipPaths=null,e.allClipped=!1,e.prevEl=null),o&&o.length&&(ma(n,e),n.save(),function(v,m,y){for(var b=!1,S=0;S<v.length;S++){var E=v[S];b=b||E.isZeroArea(),Zb(m,E),m.beginPath(),E.buildPath(m,E.shape),m.clip()}y.allClipped=b}(o,n,e),s=!0),e.prevElClipPaths=o),e.allClipped)t.__isRendered=!1;else{t.beforeBrush&&t.beforeBrush(),t.innerBeforeBrush();var u=e.prevEl;u||(l=s=!0);var h,f,p=t instanceof Mn&&t.autoBatch&&(m=xg(v=t.style),y=_g(v),!(v.lineDash||!(+m^+y)||m&&"string"!=typeof v.fill||y&&"string"!=typeof v.stroke||v.strokePercent<1||v.strokeOpacity<1||v.fillOpacity<1));s||(f=u.transform,(h=r)&&f?h[0]!==f[0]||h[1]!==f[1]||h[2]!==f[2]||h[3]!==f[3]||h[4]!==f[4]||h[5]!==f[5]:h||f)?(ma(n,e),Zb(n,t)):p||ma(n,e);var g=ad(t,e.inHover);t instanceof Mn?(1!==e.lastDrawType&&(l=!0,e.lastDrawType=1),Kb(n,t,u,l,e),p&&(e.batchFill||e.batchStroke)||n.beginPath(),function(v,m,y,b){var S=_g(y),E=xg(y),I=y.strokePercent,A=I<1,L=!m.path;m.silent&&!A||!L||m.createPathProxy();var R=m.path||FD;if(!b){var k=y.fill,H=y.stroke,U=E&&!!k.colorStops,G=S&&!!H.colorStops,K=E&&!!k.image,$=S&&!!H.image,ee=void 0,le=void 0,he=void 0,ge=void 0,me=void 0;(U||G)&&(me=m.getBoundingRect()),U&&(ee=m.__dirty?ey(v,k,me):m.__canvasFillGradient,m.__canvasFillGradient=ee),G&&(le=m.__dirty?ey(v,H,me):m.__canvasStrokeGradient,m.__canvasStrokeGradient=le),K&&(he=m.__dirty||!m.__canvasFillPattern?ny(v,k,m):m.__canvasFillPattern,m.__canvasFillPattern=he),$&&(ge=m.__dirty||!m.__canvasStrokePattern?ny(v,H,m):m.__canvasStrokePattern,m.__canvasStrokePattern=he),U?v.fillStyle=ee:K&&(he?v.fillStyle=he:E=!1),G?v.strokeStyle=le:$&&(ge?v.strokeStyle=ge:S=!1)}var be=y.lineDash&&y.lineWidth>0&&ty(y.lineDash,y.lineWidth),Le=y.lineDashOffset,Ge=!!v.setLineDash,nt=m.getGlobalScale();if(R.setScale(nt[0],nt[1],m.segmentIgnoreThreshold),be){var xt=y.strokeNoScale&&m.getLineScale?m.getLineScale():1;xt&&1!==xt&&(be=Ve(be,function(dt){return dt/xt}),Le/=xt)}var Je=!0;(L||4&m.__dirty||be&&!Ge&&S)&&(R.setDPR(v.dpr),A?R.setContext(null):(R.setContext(v),Je=!1),R.reset(),be&&!Ge&&(R.setLineDash(be),R.setLineDashOffset(Le)),m.buildPath(R,m.shape,b),R.toStatic(),m.pathUpdated()),Je&&R.rebuildPath(v,A?I:1),be&&Ge&&(v.setLineDash(be),v.lineDashOffset=Le),b||(y.strokeFirst?(S&&Yb(v,y),E&&Wb(v,y)):(E&&Wb(v,y),S&&Yb(v,y))),be&&Ge&&v.setLineDash([])}(n,t,g,p),p&&(e.batchFill=g.fill||"",e.batchStroke=g.stroke||"")):t instanceof Ol?(3!==e.lastDrawType&&(l=!0,e.lastDrawType=3),Kb(n,t,u,l,e),function(v,m,y){var b=y.text;if(null!=b&&(b+=""),b){v.font=y.font||Jo,v.textAlign=y.textAlign,v.textBaseline=y.textBaseline;var S=void 0;if(v.setLineDash){var E=y.lineDash&&y.lineWidth>0&&ty(y.lineDash,y.lineWidth),I=y.lineDashOffset;if(E){var A=y.strokeNoScale&&m.getLineScale?m.getLineScale():1;A&&1!==A&&(E=Ve(E,function(L){return L/A}),I/=A),v.setLineDash(E),v.lineDashOffset=I,S=!0}}y.strokeFirst?(_g(y)&&v.strokeText(b,y.x,y.y),xg(y)&&v.fillText(b,y.x,y.y)):(xg(y)&&v.fillText(b,y.x,y.y),_g(y)&&v.strokeText(b,y.x,y.y)),S&&v.setLineDash([])}}(n,t,g)):t instanceof fr?(2!==e.lastDrawType&&(l=!0,e.lastDrawType=2),function(v,m,y,b,S){qb(v,ad(m,S.inHover),y&&ad(y,S.inHover),b,S)}(n,t,u,l,e),function(v,m,y){var b=m.__image=$o(y.image,m.__image,m,m.onload);if(b&&Da(b)){var S=y.x||0,E=y.y||0,I=m.getWidth(),A=m.getHeight(),L=b.width/b.height;if(null==I&&null!=A?I=A*L:null==A&&null!=I?A=I/L:null==I&&null==A&&(I=b.width,A=b.height),y.sWidth&&y.sHeight){var R=y.sx||0,k=y.sy||0;v.drawImage(b,R,k,y.sWidth,y.sHeight,S,E,I,A)}else if(y.sx&&y.sy){var H=I-(R=y.sx),U=A-(k=y.sy);v.drawImage(b,R,k,H,U,S,E,I,A)}else v.drawImage(b,S,E,I,A)}}(n,t,g)):t instanceof Pf&&(4!==e.lastDrawType&&(l=!0,e.lastDrawType=4),function(v,m,y){var b=m.getDisplayables(),S=m.getTemporalDisplayables();v.save();var E,I,A={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:y.viewWidth,viewHeight:y.viewHeight,inHover:y.inHover};for(E=m.getCursor(),I=b.length;E<I;E++)(k=b[E]).beforeBrush&&k.beforeBrush(),k.innerBeforeBrush(),Mu(v,k,A,E===I-1),k.innerAfterBrush(),k.afterBrush&&k.afterBrush(),A.prevEl=k;for(var L=0,R=S.length;L<R;L++){var k;(k=S[L]).beforeBrush&&k.beforeBrush(),k.innerBeforeBrush(),Mu(v,k,A,L===R-1),k.innerAfterBrush(),k.afterBrush&&k.afterBrush(),A.prevEl=k}m.clearTemporalDisplayables(),m.notClear=!0,v.restore()}(n,t,e)),p&&i&&ma(n,e),t.innerAfterBrush(),t.afterBrush&&t.afterBrush(),e.prevEl=t,t.__dirty=0,t.__isRendered=!0}}var ry,oy=new zb,Jb=new xa(100),Qb=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function sd(n,t){if("none"===n)return null;var e=t.getDevicePixelRatio(),i=t.getZr(),r="svg"===i.painter.type;n.dirty&&oy.delete(n);var o=oy.get(n);if(o)return o;var a=Ee(n,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});"none"===a.backgroundColor&&(a.backgroundColor=null);var s={repeat:"repeat"};return function(l){for(var u,h=[e],f=!0,p=0;p<Qb.length;++p){var g=a[Qb[p]],v=typeof g;if(null!=g&&!rt(g)&&"string"!==v&&"number"!==v&&"boolean"!==v){f=!1;break}h.push(g)}if(f){u=h.join(",")+(r?"-svg":"");var m=Jb.get(u);m&&(r?l.svgElement=m:l.image=m)}var y,b=eS(a.dashArrayX),S=function(U){if(!U||"object"==typeof U&&0===U.length)return[0,0];if("number"==typeof U){var G=Math.ceil(U);return[G,G]}var K=Ve(U,function($){return Math.ceil($)});return U.length%2?K.concat(K):K}(a.dashArrayY),E=$b(a.symbol),I=Ve(b,function(U){return tS(U)}),A=tS(S),L=!r&&ie(),R=r&&i.painter.createSVGElement("g"),k=function(){for(var U=1,G=0,K=I.length;G<K;++G)U=Al(U,I[G]);var $=1;for(G=0,K=E.length;G<K;++G)$=Al($,E[G].length);U*=$;var ee=A*I.length*E.length;return{width:Math.max(1,Math.min(U,a.maxTileWidth)),height:Math.max(1,Math.min(ee,a.maxTileHeight))}}();L&&(L.width=k.width*e,L.height=k.height*e,y=L.getContext("2d")),function(){y&&(y.clearRect(0,0,L.width,L.height),a.backgroundColor&&(y.fillStyle=a.backgroundColor,y.fillRect(0,0,L.width,L.height)));for(var U=0,G=0;G<S.length;++G)U+=S[G];var mn,Zi;if(!(U<=0))for(var K=-A,$=0,ee=0,le=0;K<k.height;){if($%2==0){for(var he=ee/2%E.length,ge=0,me=0,be=0;ge<2*k.width;){var Le=0;for(G=0;G<b[le].length;++G)Le+=b[le][G];if(Le<=0)break;if(me%2==0){var Ge=.5*(1-a.symbolSize);void 0,void 0,Zi=Er(E[he][be/2%E[he].length],(ge+b[le][me]*Ge)*(mn=r?1:e),(K+S[$]*Ge)*mn,b[le][me]*a.symbolSize*mn,S[$]*a.symbolSize*mn,a.color,a.symbolKeepAspect),r?R.appendChild(i.painter.paintOne(Zi)):iy(y,Zi)}ge+=b[le][me],++be,++me===b[le].length&&(me=0)}++le===b.length&&(le=0)}K+=S[$],++ee,++$===S.length&&($=0)}}(),f&&Jb.put(u,L||R),l.image=L,l.svgElement=R,l.svgWidth=k.width,l.svgHeight=k.height}(s),s.rotation=a.rotation,s.scaleX=s.scaleY=r?1:1/e,oy.set(n,s),n.dirty=!1,s}function $b(n){if(!n||0===n.length)return[["rect"]];if("string"==typeof n)return[[n]];for(var t=!0,e=0;e<n.length;++e)if("string"!=typeof n[e]){t=!1;break}if(t)return $b([n]);var i=[];for(e=0;e<n.length;++e)i.push("string"==typeof n[e]?[n[e]]:n[e]);return i}function eS(n){if(!n||0===n.length)return[[0,0]];if("number"==typeof n)return[[r=Math.ceil(n),r]];for(var t=!0,e=0;e<n.length;++e)if("number"!=typeof n[e]){t=!1;break}if(t)return eS([n]);var i=[];for(e=0;e<n.length;++e)if("number"==typeof n[e]){var r=Math.ceil(n[e]);i.push([r,r])}else(r=Ve(n[e],function(o){return Math.ceil(o)})).length%2==1?i.push(r.concat(r)):i.push(r);return i}function tS(n){for(var t=0,e=0;e<n.length;++e)t+=n[e];return n.length%2==1?2*t:t}function nS(n){Jt(n)&&(n=(new DOMParser).parseFromString(n,"text/xml"));var t=n;for(9===t.nodeType&&(t=t.firstChild);"svg"!==t.nodeName.toLowerCase()||1!==t.nodeType;)t=t.nextSibling;return t}var bg={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},iS=Mt(bg),Sg={"alignment-baseline":"textBaseline","stop-color":"stopColor"},rS=Mt(Sg),HD=function(){function n(){this._defs={},this._root=null}return n.prototype.parse=function(t,e){e=e||{};var i=nS(t);if(!i)throw new Error("Illegal svg");this._defsUsePending=[];var r=new Ft;this._root=r;var o=[],a=i.getAttribute("viewBox")||"",s=parseFloat(i.getAttribute("width")||e.width),l=parseFloat(i.getAttribute("height")||e.height);isNaN(s)&&(s=null),isNaN(l)&&(l=null),Ba(i,r,null,!0,!1);for(var u,h,f=i.firstChild;f;)this._parseNode(f,r,o,null,!1,!1),f=f.nextSibling;if(function(v,m){for(var y=0;y<m.length;y++){var b=m[y];b[0].style[b[1]]=v[b[2]]}}(this._defs,this._defsUsePending),this._defsUsePending=[],a){var p=wg(a);p.length>=4&&(u={x:parseFloat(p[0]||0),y:parseFloat(p[1]||0),width:parseFloat(p[2]),height:parseFloat(p[3])})}if(u&&null!=s&&null!=l&&(h=fS(u,{x:0,y:0,width:s,height:l}),!e.ignoreViewBox)){var g=r;(r=new Ft).add(g),g.scaleX=g.scaleY=h.scale,g.x=h.x,g.y=h.y}return e.ignoreRootClip||null==s||null==l||r.setClipPath(new kn({shape:{x:0,y:0,width:s,height:l}})),{root:r,width:s,height:l,viewBoxRect:u,viewBoxTransform:h,named:o}},n.prototype._parseNode=function(t,e,i,r,o,a){var s,l=t.nodeName.toLowerCase(),u=r;if("defs"===l&&(o=!0),"text"===l&&(a=!0),"defs"===l||"switch"===l)s=e;else{if(!o){var h=ry[l];if(h&&ut(ry,l)){s=h.call(this,t,e);var f=t.getAttribute("name");if(f){var p={name:f,namedFrom:null,svgNodeTagLower:l,el:s};i.push(p),"g"===l&&(u=p)}else r&&i.push({name:r.name,namedFrom:r,svgNodeTagLower:l,el:s});e.add(s)}}var g=oS[l];if(g&&ut(oS,l)){var v=g.call(this,t),m=t.getAttribute("id");m&&(this._defs[m]=v)}}if(s&&s.isGroup)for(var y=t.firstChild;y;)1===y.nodeType?this._parseNode(y,s,i,u,o,a):3===y.nodeType&&a&&this._parseText(y,s),y=y.nextSibling},n.prototype._parseText=function(t,e){var i=new Ol({style:{text:t.textContent},silent:!0,x:this._textX||0,y:this._textY||0});is(e,i),Ba(t,i,this._defsUsePending,!1,!1),function(l,u){var h=u.__selfStyle;if(h){var f=h.textBaseline,p=f;f&&"auto"!==f?"baseline"===f?p="alphabetic":"before-edge"===f||"text-before-edge"===f?p="top":"after-edge"===f||"text-after-edge"===f?p="bottom":"central"!==f&&"mathematical"!==f||(p="middle"):p="alphabetic",l.style.textBaseline=p}var g=u.__inheritedStyle;if(g){var v=g.textAlign,m=v;v&&("middle"===v&&(m="center"),l.style.textAlign=m)}}(i,e);var r=i.style,o=r.fontSize;o&&o<9&&(r.fontSize=9,i.scaleX*=o/9,i.scaleY*=o/9);var a=(r.fontSize||r.fontFamily)&&[r.fontStyle,r.fontWeight,(r.fontSize||12)+"px",r.fontFamily||"sans-serif"].join(" ");r.font=a;var s=i.getBoundingRect();return this._textX+=s.width,e.add(i),i},n.internalField=void(ry={g:function(t,e){var i=new Ft;return is(e,i),Ba(t,i,this._defsUsePending,!1,!1),i},rect:function(t,e){var i=new kn;return is(e,i),Ba(t,i,this._defsUsePending,!1,!1),i.setShape({x:parseFloat(t.getAttribute("x")||"0"),y:parseFloat(t.getAttribute("y")||"0"),width:parseFloat(t.getAttribute("width")||"0"),height:parseFloat(t.getAttribute("height")||"0")}),i.silent=!0,i},circle:function(t,e){var i=new gi;return is(e,i),Ba(t,i,this._defsUsePending,!1,!1),i.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),r:parseFloat(t.getAttribute("r")||"0")}),i.silent=!0,i},line:function(t,e){var i=new $r;return is(e,i),Ba(t,i,this._defsUsePending,!1,!1),i.setShape({x1:parseFloat(t.getAttribute("x1")||"0"),y1:parseFloat(t.getAttribute("y1")||"0"),x2:parseFloat(t.getAttribute("x2")||"0"),y2:parseFloat(t.getAttribute("y2")||"0")}),i.silent=!0,i},ellipse:function(t,e){var i=new Or;return is(e,i),Ba(t,i,this._defsUsePending,!1,!1),i.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),rx:parseFloat(t.getAttribute("rx")||"0"),ry:parseFloat(t.getAttribute("ry")||"0")}),i.silent=!0,i},polygon:function(t,e){var i,r=t.getAttribute("points");r&&(i=lS(r));var o=new Lo({shape:{points:i||[]},silent:!0});return is(e,o),Ba(t,o,this._defsUsePending,!1,!1),o},polyline:function(t,e){var i,r=t.getAttribute("points");r&&(i=lS(r));var o=new na({shape:{points:i||[]},silent:!0});return is(e,o),Ba(t,o,this._defsUsePending,!1,!1),o},image:function(t,e){var i=new fr;return is(e,i),Ba(t,i,this._defsUsePending,!1,!1),i.setStyle({image:t.getAttribute("xlink:href")||t.getAttribute("href"),x:+t.getAttribute("x"),y:+t.getAttribute("y"),width:+t.getAttribute("width"),height:+t.getAttribute("height")}),i.silent=!0,i},text:function(t,e){var i=t.getAttribute("x")||"0",r=t.getAttribute("y")||"0",o=t.getAttribute("dx")||"0",a=t.getAttribute("dy")||"0";this._textX=parseFloat(i)+parseFloat(o),this._textY=parseFloat(r)+parseFloat(a);var s=new Ft;return is(e,s),Ba(t,s,this._defsUsePending,!1,!0),s},tspan:function(t,e){var i=t.getAttribute("x"),r=t.getAttribute("y");null!=i&&(this._textX=parseFloat(i)),null!=r&&(this._textY=parseFloat(r));var o=t.getAttribute("dx")||"0",a=t.getAttribute("dy")||"0",s=new Ft;return is(e,s),Ba(t,s,this._defsUsePending,!1,!0),this._textX+=parseFloat(o),this._textY+=parseFloat(a),s},path:function(t,e){var i=yo(t.getAttribute("d")||"");return is(e,i),Ba(t,i,this._defsUsePending,!1,!1),i.silent=!0,i}}),n}(),oS={lineargradient:function(n){var t=parseInt(n.getAttribute("x1")||"0",10),e=parseInt(n.getAttribute("y1")||"0",10),i=parseInt(n.getAttribute("x2")||"10",10),r=parseInt(n.getAttribute("y2")||"0",10),o=new ch(t,e,i,r);return aS(n,o),sS(n,o),o},radialgradient:function(n){var t=parseInt(n.getAttribute("cx")||"0",10),e=parseInt(n.getAttribute("cy")||"0",10),i=parseInt(n.getAttribute("r")||"0",10),r=new um(t,e,i);return aS(n,r),sS(n,r),r}};function aS(n,t){"userSpaceOnUse"===n.getAttribute("gradientUnits")&&(t.global=!0)}function sS(n,t){for(var e=n.firstChild;e;){if(1===e.nodeType&&"stop"===e.nodeName.toLocaleLowerCase()){var r,i=e.getAttribute("offset");r=i&&i.indexOf("%")>0?parseInt(i,10)/100:i?parseFloat(i):0;var o={};hS(e,o,o);var a=o.stopColor||e.getAttribute("stop-color")||"#000000";t.colorStops.push({offset:r,color:a})}e=e.nextSibling}}function is(n,t){n&&n.__inheritedStyle&&(t.__inheritedStyle||(t.__inheritedStyle={}),Ee(t.__inheritedStyle,n.__inheritedStyle))}function lS(n){for(var t=wg(n),e=[],i=0;i<t.length;i+=2){var r=parseFloat(t[i]),o=parseFloat(t[i+1]);e.push([r,o])}return e}function Ba(n,t,e,i,r){var o=t,a=o.__inheritedStyle=o.__inheritedStyle||{},s={};1===n.nodeType&&(function(l,u){var h=l.getAttribute("transform");if(h){h=h.replace(/,/g," ");var f=[],p=null;h.replace(VD,function(b,S,E){return f.push(S,E),""});for(var g=f.length-1;g>0;g-=2){var m=f[g-1],y=wg(f[g]);switch(p=p||[1,0,0,1,0,0],m){case"translate":bo(p,p,[parseFloat(y[0]),parseFloat(y[1]||"0")]);break;case"scale":So(p,p,[parseFloat(y[0]),parseFloat(y[1]||y[0])]);break;case"rotate":Ca(p,p,-parseFloat(y[0])*ay);break;case"skewX":jr(p,[1,0,Math.tan(parseFloat(y[0])*ay),1,0,0],p);break;case"skewY":jr(p,[1,Math.tan(parseFloat(y[0])*ay),0,1,0,0],p);break;case"matrix":p[0]=parseFloat(y[0]),p[1]=parseFloat(y[1]),p[2]=parseFloat(y[2]),p[3]=parseFloat(y[3]),p[4]=parseFloat(y[4]),p[5]=parseFloat(y[5])}}u.setLocalTransform(p)}}(n,t),hS(n,a,s),i||function(l,u,h){for(var f=0;f<iS.length;f++){var p=iS[f];null!=(g=l.getAttribute(p))&&(u[bg[p]]=g)}for(f=0;f<rS.length;f++){var g;null!=(g=l.getAttribute(p=rS[f]))&&(h[Sg[p]]=g)}}(n,a,s)),o.style=o.style||{},null!=a.fill&&(o.style.fill=uS(o,"fill",a.fill,e)),null!=a.stroke&&(o.style.stroke=uS(o,"stroke",a.stroke,e)),Y(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(l){null!=a[l]&&(o.style[l]=parseFloat(a[l]))}),Y(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(l){null!=a[l]&&(o.style[l]=a[l])}),r&&(o.__selfStyle=s),a.lineDash&&(o.style.lineDash=Ve(wg(a.lineDash),function(l){return parseFloat(l)})),"hidden"!==a.visibility&&"collapse"!==a.visibility||(o.invisible=!0),"none"===a.display&&(o.ignore=!0)}var UD=/^url\(\s*#(.*?)\)/;function uS(n,t,e,i){var r=e&&e.match(UD);if(!r)return"none"===e&&(e=null),e;var o=Ji(r[1]);i.push([n,t,o])}var zD=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function wg(n){return n.match(zD)||[]}var VD=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,ay=Math.PI/180,cS=/([^\s:;]+)\s*:\s*([^:;]+)/g;function hS(n,t,e){var i,r=n.getAttribute("style");if(r)for(cS.lastIndex=0;null!=(i=cS.exec(r));){var o=i[1],a=ut(bg,o)?bg[o]:null;a&&(t[a]=i[2]);var s=ut(Sg,o)?Sg[o]:null;s&&(e[s]=i[2])}}function fS(n,t){var r=Math.min(t.width/n.width,t.height/n.height);return{scale:r,x:-(n.x+n.width/2)*r+(t.x+t.width/2),y:-(n.y+n.height/2)*r+(t.y+t.height/2)}}function dS(n,t){return Math.abs(n-t)<1e-8}function wc(n,t,e){var i=0,r=n[0];if(!r)return!1;for(var o=1;o<n.length;o++){var a=n[o];i+=Ja(r[0],r[1],a[0],a[1],t,e),r=a}var s=n[0];return dS(r[0],s[0])&&dS(r[1],s[1])||(i+=Ja(r[0],r[1],s[0],s[1],t,e)),0!==i}var GD=[],pS=function(){function n(t){this.name=t}return n.prototype.getCenter=function(){},n}(),gS=function(n){function t(e,i,r){var o=n.call(this,e)||this;if(o.type="geoJSON",o.geometries=i,r)r=[r[0],r[1]];else{var a=o.getBoundingRect();r=[a.x+a.width/2,a.y+a.height/2]}return o._center=r,o}return ue(t,n),t.prototype.getBoundingRect=function(){var e=this._rect;if(e)return e;for(var i=Number.MAX_VALUE,r=[i,i],o=[-i,-i],a=[],s=[],l=this.geometries,u=0;u<l.length;u++)"polygon"===l[u].type&&(Ms(l[u].exterior,a,s),wt(r,r,a),At(o,o,s));return 0===u&&(r[0]=r[1]=o[0]=o[1]=0),this._rect=new cn(r[0],r[1],o[0]-r[0],o[1]-r[1])},t.prototype.contain=function(e){var i=this.getBoundingRect(),r=this.geometries;if(!i.contain(e[0],e[1]))return!1;e:for(var o=0,a=r.length;o<a;o++)if("polygon"===r[o].type){var l=r[o].interiors;if(wc(r[o].exterior,e[0],e[1])){for(var u=0;u<(l?l.length:0);u++)if(wc(l[u],e[0],e[1]))continue e;return!0}}return!1},t.prototype.transformTo=function(e,i,r,o){var a=this.getBoundingRect(),s=a.width/a.height;r?o||(o=r/s):r=s*o;for(var l=new cn(e,i,r,o),u=a.calculateTransform(l),h=this.geometries,f=0;f<h.length;f++)if("polygon"===h[f].type){for(var p=h[f].exterior,g=h[f].interiors,v=0;v<p.length;v++)pt(p[v],p[v],u);for(var m=0;m<(g?g.length:0);m++)for(v=0;v<g[m].length;v++)pt(g[m][v],g[m][v],u)}(a=this._rect).copy(l),this._center=[a.x+a.width/2,a.y+a.height/2]},t.prototype.cloneShallow=function(e){null==e&&(e=this.name);var i=new t(e,this.geometries,this._center);return i._rect=this._rect,i.transformTo=null,i},t.prototype.getCenter=function(){return this._center},t.prototype.setCenter=function(e){this._center=e},t}(pS),WD=function(n){function t(e,i){var r=n.call(this,e)||this;return r.type="geoSVG",r._elOnlyForCalculate=i,r}return ue(t,n),t.prototype.getCenter=function(){var e=this._center;return e||(e=this._center=this._calculateCenter()),e},t.prototype._calculateCenter=function(){for(var e=this._elOnlyForCalculate,i=e.getBoundingRect(),r=[i.x+i.width/2,i.y+i.height/2],o=Ea(GD),a=e;a&&!a.isGeoSVGGraphicRoot;)jr(o,a.getLocalTransform(),o),a=a.parent;return Dr(o,o),pt(r,r,o),r},t}(pS),YD=Ht(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),XD=function(){function n(t,e){this.type="geoSVG",this._usedGraphicMap=Ht(),this._freedGraphics=[],this._mapName=t,this._parsedXML=nS(e)}return n.prototype.load=function(){var o,a,s,t=this._firstGraphic;if(!t){t=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(t),this._boundingRect=this._firstGraphic.boundingRect.clone();var e=(o=t.named,a=[],s=Ht(),Y(o,function(l){if(null==l.namedFrom){var u=new WD(l.name,l.el);a.push(u),s.set(l.name,u)}}),{regions:a,regionsMap:s}),r=e.regionsMap;this._regions=e.regions,this._regionsMap=r}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},n.prototype._buildGraphic=function(t){var e,i,r,o;try{ni(null!=(i=(e=t&&(r=t,o={ignoreViewBox:!0,ignoreRootClip:!0},(new HD).parse(r,o))||{}).root))}catch(S){throw new Error("Invalid svg format\n"+S.message)}var a=new Ft;a.add(i),a.isGeoSVGGraphicRoot=!0;var s=e.width,l=e.height,u=e.viewBoxRect,h=this._boundingRect;if(!h){var f=void 0,p=void 0,g=void 0,v=void 0;if(null!=s?(f=0,g=s):u&&(f=u.x,g=u.width),null!=l?(p=0,v=l):u&&(p=u.y,v=u.height),null==f||null==p){var m=i.getBoundingRect();null==f&&(f=m.x,g=m.width),null==p&&(p=m.y,v=m.height)}h=this._boundingRect=new cn(f,p,g,v)}if(u){var y=fS(u,h);i.scaleX=i.scaleY=y.scale,i.x=y.x,i.y=y.y}a.setClipPath(new kn({shape:h.plain()}));var b=[];return Y(e.named,function(S){var E;null!=YD.get(S.svgNodeTagLower)&&(b.push(S),(E=S.el).silent=!1,E.isGroup&&E.traverse(function(I){I.silent=!1}))}),{root:a,boundingRect:h,named:b}},n.prototype.useGraphic=function(t){var e=this._usedGraphicMap,i=e.get(t);return i||(i=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),e.set(t,i),i)},n.prototype.freeGraphic=function(t){var e=this._usedGraphicMap,i=e.get(t);i&&(e.removeKey(t),this._freedGraphics.push(i))},n}();function vS(n,t,e){for(var i=[],r=t[0],o=t[1],a=0;a<n.length;a+=2){var s=n.charCodeAt(a)-64,l=n.charCodeAt(a+1)-64;s=s>>1^-(1&s),l=l>>1^-(1&l),r=s+=r,o=l+=o,i.push([s/e,l/e])}return i}function sy(n,t){return Ve(jt((n=function(e){if(!e.UTF8Encoding)return e;var i=e,r=i.UTF8Scale;null==r&&(r=1024);for(var o=i.features,a=0;a<o.length;a++){var s=o[a].geometry;if("Polygon"===s.type)for(var l=s.coordinates,u=0;u<l.length;u++)l[u]=vS(l[u],s.encodeOffsets[u],r);else if("MultiPolygon"===s.type)for(l=s.coordinates,u=0;u<l.length;u++)for(var h=l[u],f=0;f<h.length;f++)h[f]=vS(h[f],s.encodeOffsets[u][f],r)}return i.UTF8Encoding=!1,i}(n)).features,function(e){return e.geometry&&e.properties&&e.geometry.coordinates.length>0}),function(e){var i=e.properties,r=e.geometry,o=[];if("Polygon"===r.type){var a=r.coordinates;o.push({type:"polygon",exterior:a[0],interiors:a.slice(1)})}"MultiPolygon"===r.type&&Y(a=r.coordinates,function(l){l[0]&&o.push({type:"polygon",exterior:l[0],interiors:l.slice(1)})});var s=new gS(i[t||"name"],o,i.cp);return s.properties=i,s})}for(var ly=[126,25],Tc=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],Ec=0;Ec<Tc.length;Ec++)for(var Mh=0;Mh<Tc[Ec].length;Mh++)Tc[Ec][Mh][0]/=10.5,Tc[Ec][Mh][1]/=-14,Tc[Ec][Mh][0]+=ly[0],Tc[Ec][Mh][1]+=ly[1];var jD={\u5357\u6d77\u8bf8\u5c9b:[32,80],\u5e7f\u4e1c:[0,-10],\u9999\u6e2f:[10,5],\u6fb3\u95e8:[-10,10],\u5929\u6d25:[5,5]},qD={Russia:[100,60],"United States":[-99,38],"United States of America":[-99,38]},KD=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]],ZD=function(){function n(t,e,i){var r;this.type="geoJSON",this._parsedMap=Ht(),this._mapName=t,this._specialAreas=i,this._geoJSON=Jt(r=e)?typeof JSON<"u"&&JSON.parse?JSON.parse(r):new Function("return ("+r+");")():r}return n.prototype.load=function(t,e){var i=this._parsedMap.get(e=e||"name");if(!i){var r=this._parseToRegions(e);i=this._parsedMap.set(e,{regions:r,boundingRect:JD(r)})}var o=Ht(),a=[];return Y(i.regions,function(s){var l=s.name;t&&t.hasOwnProperty(l)&&(s=s.cloneShallow(l=t[l])),a.push(s),o.set(l,s)}),{regions:a,boundingRect:i.boundingRect||new cn(0,0,0,0),regionsMap:o}},n.prototype._parseToRegions=function(t){var e,i=this._mapName,r=this._geoJSON;try{e=r?sy(r,t):[]}catch(o){throw new Error("Invalid geoJson format\n"+o.message)}return function(o,a){if("china"===o){for(var s=0;s<a.length;s++)if("\u5357\u6d77\u8bf8\u5c9b"===a[s].name)return;a.push(new gS("\u5357\u6d77\u8bf8\u5c9b",Ve(Tc,function(l){return{type:"polygon",exterior:l}}),ly))}}(i,e),Y(e,function(o){var u,a=o.name;(function(l,u){if("china"===l){var h=jD[u.name];if(h){var f=u.getCenter();f[0]+=h[0]/10.5,f[1]+=-h[1]/14,u.setCenter(f)}}})(i,o),function(l,u){if("world"===l){var h=qD[u.name];h&&u.setCenter([h[0],h[1]])}}(i,o),u=o,"china"===i&&"\u53f0\u6e7e"===u.name&&u.geometries.push({type:"polygon",exterior:KD[0]});var s=this._specialAreas&&this._specialAreas[a];s&&o.transformTo(s.left,s.top,s.width,s.height)},this),e},n.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},n}();function JD(n){for(var t,e=0;e<n.length;e++){var i=n[e].getBoundingRect();(t=t||i.clone()).union(i)}return t}var ld=Ht(),Tg=function(n){return ld.get(n)},uy=function(n,t,e){var i=ld.get(n);if(i)return i.load(t,e)},Hs=new Tn,eN=typeof window<"u",yS={PROCESSOR:{FILTER:1e3,SERIES_FILTER:800,STATISTIC:5e3},VISUAL:{LAYOUT:1e3,PROGRESSIVE_LAYOUT:1100,GLOBAL:2e3,CHART:3e3,POST_CHART_LAYOUT:4600,COMPONENT:4e3,BRUSH:5e3,CHART_ITEM:4500,ARIA:6e3,DECAL:7e3}},_S=/^[a-zA-Z0-9_]+$/,hy="__connectUpdateStatus";function xS(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!this.isDisposed())return SS(this,n,t)}}function bS(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return SS(this,n,t)}}function SS(n,t,e){return e[0]=e[0]&&e[0].toLowerCase(),Tn.prototype[t].apply(n,e)}var Lh,fy,Cg,Lu,dy,py,gy,ud,cd,wS,TS,hd,vy,ES,Ig,CS,IS,rs,AS,MS=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return ue(t,n),t}(Tn),LS=MS.prototype;LS.on=bS("on"),LS.off=bS("off");var Ag=function(n){function t(e,i,r){var o=n.call(this,new ID)||this;o._chartsViews=[],o._chartsMap={},o._componentsViews=[],o._componentsMap={},o._pendingActions=[],r=r||{},"string"==typeof i&&(i=DS[i]),o._dom=e;var l=o._zr=Ts(e,{renderer:r.renderer||"canvas",devicePixelRatio:r.devicePixelRatio,width:r.width,height:r.height,useDirtyRect:null!=r.useDirtyRect&&r.useDirtyRect});o._throttledZrFlush=ed(mt(l.flush,l),17),(i=Te(i))&&Ux(i,!0),o._theme=i,o._locale=function(f){if(Jt(f)){var p=$p[f.toUpperCase()]||{};return"ZH"===f||"EN"===f?Te(p):Ie(Te(p),Te($p.EN),!1)}return Ie(Te(f),Te($p.EN),!1)}(r.locale||$1),o._coordSysMgr=new bh;var u=o._api=CS(o);function h(f,p){return f.__prio-p.__prio}return la(Lg,h),la(yy,h),o._scheduler=new Db(o,u,yy,Lg),o._messageCenter=new MS,o._initEvents(),o.resize=mt(o.resize,o),l.animation.on("frame",o._onframe,o),wS(l,o),TS(l,o),Ar(o),o}return ue(t,n),t.prototype._onframe=function(){if(!this._disposed){AS(this);var e=this._scheduler;if(this.__pendingUpdate){var i=this.__pendingUpdate.silent;this.__flagInMainProcess=!0,Lh(this),Lu.update.call(this,null,this.__pendingUpdate.updateParams),this._zr.flush(),this.__flagInMainProcess=!1,this.__pendingUpdate=null,ud.call(this,i),cd.call(this,i)}else if(e.unfinished){var r=1,o=this._model,a=this._api;e.unfinished=!1;do{var s=+new Date;e.performSeriesTasks(o),e.performDataProcessorTasks(o),py(this,o),e.performVisualTasks(o),Ig(this,this._model,a,"remain",{}),r-=+new Date-s}while(r>0&&e.unfinished);e.unfinished||this._zr.flush()}}},t.prototype.getDom=function(){return this._dom},t.prototype.getId=function(){return this.id},t.prototype.getZr=function(){return this._zr},t.prototype.setOption=function(e,i,r){if(this._disposed);else{var o,a,s;if(Bt(i)&&(r=i.lazyUpdate,o=i.silent,a=i.replaceMerge,s=i.transition,i=i.notMerge),this.__flagInMainProcess=!0,!this._model||i){var l=new OL(this._api),u=this._theme,h=this._model=new Pm;h.scheduler=this._scheduler,h.init(null,null,null,u,this._locale,l)}this._model.setOption(e,{replaceMerge:a},_y);var f={seriesTransition:s,optionChanged:!0};r?(this.__pendingUpdate={silent:o,updateParams:f},this.__flagInMainProcess=!1,this.getZr().wakeUp()):(Lh(this),Lu.update.call(this,null,f),this._zr.flush(),this.__pendingUpdate=null,this.__flagInMainProcess=!1,ud.call(this,o),cd.call(this,o))}},t.prototype.setTheme=function(){console.error("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},t.prototype.getModel=function(){return this._model},t.prototype.getOption=function(){return this._model&&this._model.getOption()},t.prototype.getWidth=function(){return this._zr.getWidth()},t.prototype.getHeight=function(){return this._zr.getHeight()},t.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||eN&&window.devicePixelRatio||1},t.prototype.getRenderedCanvas=function(e){if(ve.canvasSupported)return this._zr.painter.getRenderedCanvas({backgroundColor:(e=e||{}).backgroundColor||this._model.get("backgroundColor"),pixelRatio:e.pixelRatio||this.getDevicePixelRatio()})},t.prototype.getSvgDataURL=function(){if(ve.svgSupported){var e=this._zr;return Y(e.storage.getDisplayList(),function(i){i.stopAnimation(null,!0)}),e.painter.toDataURL()}},t.prototype.getDataURL=function(e){if(!this._disposed){var i=(e=e||{}).excludeComponents,r=this._model,o=[],a=this;Y(i,function(l){r.eachComponent({mainType:l},function(u){var h=a._componentsMap[u.__viewId];h.group.ignore||(o.push(h),h.group.ignore=!0)})});var s="svg"===this._zr.painter.getType()?this.getSvgDataURL():this.getRenderedCanvas(e).toDataURL("image/"+(e&&e.type||"png"));return Y(o,function(l){l.group.ignore=!1}),s}},t.prototype.getConnectedDataURL=function(e){if(this._disposed);else if(ve.canvasSupported){var i="svg"===e.type,r=this.group,o=Math.min,a=Math.max,s=1/0;if(Dg[r]){var l=s,u=s,h=-1/0,f=-1/0,p=[],g=e&&e.pixelRatio||this.getDevicePixelRatio();Y(Cc,function(E,I){if(E.group===r){var A=i?E.getZr().painter.getSvgDom().innerHTML:E.getRenderedCanvas(Te(e)),L=E.getDom().getBoundingClientRect();l=o(L.left,l),u=o(L.top,u),h=a(L.right,h),f=a(L.bottom,f),p.push({dom:A,left:L.left,top:L.top})}});var v=(h*=g)-(l*=g),m=(f*=g)-(u*=g),y=ie(),b=Ts(y,{renderer:i?"svg":"canvas"});if(b.resize({width:v,height:m}),i){var S="";return Y(p,function(E){S+='<g transform="translate('+(E.left-l)+","+(E.top-u)+')">'+E.dom+"</g>"}),b.painter.getSvgRoot().innerHTML=S,e.connectedBackgroundColor&&b.painter.setBackgroundColor(e.connectedBackgroundColor),b.refreshImmediately(),b.painter.toDataURL()}return e.connectedBackgroundColor&&b.add(new kn({shape:{x:0,y:0,width:v,height:m},style:{fill:e.connectedBackgroundColor}})),Y(p,function(E){var I=new fr({style:{x:E.left*g-l,y:E.top*g-u,image:E.dom}});b.add(I)}),b.refreshImmediately(),y.toDataURL("image/"+(e&&e.type||"png"))}return this.getDataURL(e)}},t.prototype.convertToPixel=function(e,i){return dy(this,"convertToPixel",e,i)},t.prototype.convertFromPixel=function(e,i){return dy(this,"convertFromPixel",e,i)},t.prototype.containPixel=function(e,i){var r;if(!this._disposed)return Y(nl(this._model,e),function(o,a){a.indexOf("Models")>=0&&Y(o,function(s){var l=s.coordinateSystem;if(l&&l.containPoint)r=r||!!l.containPoint(i);else if("seriesModels"===a){var u=this._chartsMap[s.__viewId];u&&u.containPoint&&(r=r||u.containPoint(i,s))}},this)},this),!!r},t.prototype.getVisual=function(e,i){var r=nl(this._model,e,{defaultMainType:"series"}),a=r.seriesModel.getData(),s=r.hasOwnProperty("dataIndexInside")?r.dataIndexInside:r.hasOwnProperty("dataIndex")?a.indexOfRawIndex(r.dataIndex):null;return null!=s?$m(a,s,i):rd(a,i)},t.prototype.getViewOfComponentModel=function(e){return this._componentsMap[e.__viewId]},t.prototype.getViewOfSeriesModel=function(e){return this._chartsMap[e.__viewId]},t.prototype._initEvents=function(){var i,r,o=this;Y(tN,function(a){var s=function(l){var u,h=o.getModel(),f=l.target;if("globalout"===a?u={}:f&&Ih(f,function(b){var S=pn(b);if(S&&null!=S.dataIndex){var E=S.dataModel||h.getSeriesByIndex(S.seriesIndex);return u=E&&E.getDataParams(S.dataIndex,S.dataType)||{},!0}if(S.eventData)return u=se({},S.eventData),!0},!0),u){var g=u.componentType,v=u.componentIndex;"markLine"!==g&&"markPoint"!==g&&"markArea"!==g||(g="series",v=u.seriesIndex);var m=g&&null!=v&&h.getComponent(g,v),y=m&&o["series"===m.mainType?"_chartsMap":"_componentsMap"][m.__viewId];u.event=l,u.type=a,o._$eventProcessor.eventInfo={targetEl:f,packedEvent:u,model:m,view:y},o.trigger(a,u)}};s.zrEventfulCallAtLast=!0,o._zr.on(a,s,o)}),Y(fd,function(a,s){o._messageCenter.on(s,function(l){this.trigger(s,l)},o)}),Y(["selectchanged"],function(a){o._messageCenter.on(a,function(s){this.trigger(a,s)},o)}),i=this,r=this._api,this._messageCenter.on("selectchanged",function(a){var s=r.getModel();a.isFromClick?(Ch("map","selectchanged",i,s,a),Ch("pie","selectchanged",i,s,a)):"select"===a.fromAction?(Ch("map","selected",i,s,a),Ch("pie","selected",i,s,a)):"unselect"===a.fromAction&&(Ch("map","unselected",i,s,a),Ch("pie","unselected",i,s,a))})},t.prototype.isDisposed=function(){return this._disposed},t.prototype.clear=function(){this._disposed||this.setOption({series:[]},!0)},t.prototype.dispose=function(){if(this._disposed);else{this._disposed=!0,lf(this.getDom(),by,"");var e=this,i=e._api,r=e._model;Y(e._componentsViews,function(o){o.dispose(r,i)}),Y(e._chartsViews,function(o){o.dispose(r,i)}),e._zr.dispose(),e._dom=e._model=e._chartsMap=e._componentsMap=e._chartsViews=e._componentsViews=e._scheduler=e._api=e._zr=e._throttledZrFlush=e._theme=e._coordSysMgr=e._messageCenter=null,delete Cc[e.id]}},t.prototype.resize=function(e){if(this._disposed);else{this._zr.resize(e);var i=this._model;if(this._loadingFX&&this._loadingFX.resize(),i){var r=i.resetOption("media"),o=e&&e.silent;this.__pendingUpdate&&(null==o&&(o=this.__pendingUpdate.silent),r=!0,this.__pendingUpdate=null),this.__flagInMainProcess=!0,r&&Lh(this),Lu.update.call(this,{type:"resize",animation:se({duration:0},e&&e.animation)}),this.__flagInMainProcess=!1,ud.call(this,o),cd.call(this,o)}}},t.prototype.showLoading=function(e,i){if(this._disposed);else if(Bt(e)&&(i=e,e=""),e=e||"default",this.hideLoading(),xy[e]){var r=xy[e](this._api,i),o=this._zr;this._loadingFX=r,o.add(r)}},t.prototype.hideLoading=function(){this._disposed||(this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null)},t.prototype.makeActionFromEvent=function(e){var i=se({},e);return i.type=fd[e.type],i},t.prototype.dispatchAction=function(e,i){if(this._disposed);else if(Bt(i)||(i={silent:!!i}),Mg[e.type]&&this._model)if(this.__flagInMainProcess)this._pendingActions.push(e);else{var r=i.silent;gy.call(this,e,r);var o=i.flush;o?this._zr.flush():!1!==o&&ve.browser.weChat&&this._throttledZrFlush(),ud.call(this,r),cd.call(this,r)}},t.prototype.updateLabelLayout=function(){Hs.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},t.prototype.appendData=function(e){if(this._disposed);else{var i=e.seriesIndex;this.getModel().getSeriesByIndex(i).appendData(e),this._scheduler.unfinished=!0,this.getZr().wakeUp()}},t.internalField=function(){function e(s){for(var l=[],u=s.currentStates,h=0;h<u.length;h++){var f=u[h];"emphasis"!==f&&"blur"!==f&&"select"!==f&&l.push(f)}s.selected&&s.states.select&&l.push("select"),2===s.hoverState&&s.states.emphasis?l.push("emphasis"):1===s.hoverState&&s.states.blur&&l.push("blur"),s.useStates(l)}function i(s,l){s.preventAutoZ||r(l.group,s.get("z")||0,s.get("zlevel")||0,-1/0)}function r(s,l,u,h){var f=s.getTextContent(),p=s.getTextGuideLine();if(s.isGroup)for(var g=s.childrenRef(),v=0;v<g.length;v++)h=Math.max(r(g[v],l,u,h),h);else s.z=l,s.zlevel=u,h=Math.max(s.z2,h);if(f&&(f.z=l,f.zlevel=u,isFinite(h)&&(f.z2=h+2)),p){var m=s.textGuideLineConfig;p.z=l,p.zlevel=u,isFinite(h)&&(p.z2=h+(m&&m.showAbove?1:-1))}return h}function o(s,l){l.group.traverse(function(u){if(!hh(u)){var h=u.getTextContent(),f=u.getTextGuideLine();u.stateTransition&&(u.stateTransition=null),h&&h.stateTransition&&(h.stateTransition=null),f&&f.stateTransition&&(f.stateTransition=null),u.hasState()?(u.prevStates=u.currentStates,u.clearStates()):u.prevStates&&(u.prevStates=null)}})}function a(s,l){var u=s.getModel("stateAnimation"),h=s.isAnimationEnabled(),f=u.get("duration"),p=f>0?{duration:f,delay:u.get("delay"),easing:u.get("easing")}:null;l.group.traverse(function(g){if(g.states&&g.states.emphasis){if(hh(g))return;if(g instanceof Mn&&function(b){var S=Lf(b);S.normalFill=b.style.fill,S.normalStroke=b.style.stroke;var E=b.states.select||{};S.selectFill=E.style&&E.style.fill||null,S.selectStroke=E.style&&E.style.stroke||null}(g),g.__dirty){var v=g.prevStates;v&&g.useStates(v)}if(h){g.stateTransition=p;var m=g.getTextContent(),y=g.getTextGuideLine();m&&(m.stateTransition=p),y&&(y.stateTransition=p)}g.__dirty&&e(g)}})}Lh=function(s){var l=s._scheduler;l.restorePipelines(s._model),l.prepareStageTasks(),fy(s,!0),fy(s,!1),l.plan()},fy=function(s,l){for(var u=s._model,h=s._scheduler,f=l?s._componentsViews:s._chartsViews,p=l?s._componentsMap:s._chartsMap,g=s._zr,v=s._api,m=0;m<f.length;m++)f[m].__alive=!1;function y(S){var E=S.__requireNewView;S.__requireNewView=!1;var I="_ec_"+S.id+"_"+S.type,A=!E&&p[I];if(!A){var L=La(S.type);(A=new(l?Ni.getClass(L.main,L.sub):vi.getClass(L.sub))).init(u,v),p[I]=A,f.push(A),g.add(A.group)}S.__viewId=A.__id=I,A.__alive=!0,A.__model=S,A.group.__ecComponentInfo={mainType:S.mainType,index:S.componentIndex},!l&&h.prepareView(A,S,u,v)}for(l?u.eachComponent(function(S,E){"series"!==S&&y(E)}):u.eachSeries(y),m=0;m<f.length;){var b=f[m];b.__alive?m++:(!l&&b.renderTask.dispose(),g.remove(b.group),b.dispose(u,v),f.splice(m,1),p[b.__id]===b&&delete p[b.__id],b.__id=b.group.__ecComponentInfo=null)}},Cg=function(s,l,u,h,f){var p=s._model;if(p.setUpdatePayload(u),h){var g={};g[h+"Id"]=u[h+"Id"],g[h+"Index"]=u[h+"Index"],g[h+"Name"]=u[h+"Name"];var v={mainType:h,query:g};f&&(v.subType=f);var m,y=u.excludeSeriesId;null!=y&&(m=Ht(),Y(Yn(y),function(S){var E=ci(S,null);null!=E&&m.set(E,!0)})),Se(u)&&Up(s._api),p&&p.eachComponent(v,function(S){if(!m||null===m.get(S.id))if(Se(u))if(S instanceof Ei)u.type!==hl||u.notBlur||function(L,R,k){var H=L.seriesIndex,U=L.getData(R.dataType),G=Ui(U,R);G=(rt(G)?G[0]:G)||0;var K=U.getItemGraphicEl(G);if(!K)for(var $=U.count(),ee=0;!K&&ee<$;)K=U.getItemGraphicEl(ee++);if(K){var le=pn(K);Of(H,le.focus,le.blurScope,k)}else{var he=L.get(["emphasis","focus"]),ge=L.get(["emphasis","blurScope"]);null!=he&&Of(H,he,ge,k)}}(S,u,s._api);else{var E=c(S.mainType,S.componentIndex,u.name,s._api),A=E.dispatchers;u.type===hl&&E.focusSelf&&!u.notBlur&&_u(S.mainType,S.componentIndex,s._api),A&&Y(A,function(L){u.type===hl?$a(L):Io(L)})}else _e(u)&&S instanceof Ei&&(function(L,R,k){if(_e(R)){var H=R.dataType,U=Ui(L.getData(H),R);rt(U)||(U=[U]),L[R.type===cc?"toggleSelect":R.type===uc?"select":"unselect"](U,H)}}(S,u),d(S),rs(s))},s),p&&p.eachComponent(v,function(S){m&&null!==m.get(S.id)||b(s["series"===h?"_chartsMap":"_componentsMap"][S.__viewId])},s)}else Y([].concat(s._componentsViews).concat(s._chartsViews),b);function b(S){S&&S.__alive&&S[l]&&S[l](S.__model,p,s._api,u)}},Lu={prepareAndUpdate:function(s){Lh(this),Lu.update.call(this,s,{optionChanged:null!=s.newOption})},update:function(s,l){var u=this._model,h=this._api,f=this._zr,p=this._coordSysMgr,g=this._scheduler;if(u){u.setUpdatePayload(s),g.restoreData(u,s),g.performSeriesTasks(u),p.create(u,h),g.performDataProcessorTasks(u,s),py(this,u),p.update(u,h),hd(u),g.performVisualTasks(u,s),vy(this,u,h,s,l);var v=u.get("backgroundColor")||"transparent",m=u.get("darkMode");if(ve.canvasSupported)f.setBackgroundColor(v),null!=m&&"auto"!==m&&f.setDarkMode(m);else{var y=ji(v);v=B(y,"rgb"),0===y[3]&&(v="transparent")}Hs.trigger("afterupdate",u,h)}},updateTransform:function(s){var l=this,u=this._model,h=this._api;if(u){u.setUpdatePayload(s);var f=[];u.eachComponent(function(g,v){if("series"!==g){var m=l.getViewOfComponentModel(v);if(m&&m.__alive)if(m.updateTransform){var y=m.updateTransform(v,u,h,s);y&&y.update&&f.push(m)}else f.push(m)}});var p=Ht();u.eachSeries(function(g){var v=l._chartsMap[g.__viewId];if(v.updateTransform){var m=v.updateTransform(g,u,h,s);m&&m.update&&p.set(g.uid,1)}else p.set(g.uid,1)}),hd(u),this._scheduler.performVisualTasks(u,s,{setDirty:!0,dirtyMap:p}),Ig(this,u,h,s,{},p),Hs.trigger("afterupdate",u,h)}},updateView:function(s){var l=this._model;l&&(l.setUpdatePayload(s),vi.markUpdateMethod(s,"updateView"),hd(l),this._scheduler.performVisualTasks(l,s,{setDirty:!0}),vy(this,l,this._api,s,{}),Hs.trigger("afterupdate",l,this._api))},updateVisual:function(s){var l=this,u=this._model;u&&(u.setUpdatePayload(s),u.eachSeries(function(h){h.getData().clearAllVisual()}),vi.markUpdateMethod(s,"updateVisual"),hd(u),this._scheduler.performVisualTasks(u,s,{visualType:"visual",setDirty:!0}),u.eachComponent(function(h,f){if("series"!==h){var p=l.getViewOfComponentModel(f);p&&p.__alive&&p.updateVisual(f,u,l._api,s)}}),u.eachSeries(function(h){l._chartsMap[h.__viewId].updateVisual(h,u,l._api,s)}),Hs.trigger("afterupdate",u,this._api))},updateLayout:function(s){Lu.update.call(this,s)}},dy=function(s,l,u,h){if(s._disposed);else for(var f,p=s._model,g=s._coordSysMgr.getCoordinateSystems(),v=nl(p,u),m=0;m<g.length;m++){var y=g[m];if(y[l]&&null!=(f=y[l](p,v,h)))return f}},py=function(s,l){var u=s._chartsMap,h=s._scheduler;l.eachSeries(function(f){h.updateStreamModes(f,u[f.__viewId])})},gy=function(s,l){var u=this,h=this.getModel(),f=s.type,p=s.escapeConnect,g=Mg[f],v=g.actionInfo,m=(v.update||"update").split(":"),y=m.pop(),b=null!=m[0]&&La(m[0]);this.__flagInMainProcess=!0;var S=[s],E=!1;s.batch&&(E=!0,S=Ve(s.batch,function(U){return(U=Ee(se({},U),s)).batch=null,U}));var I,A=[],L=_e(s),R=Se(s);if(Y(S,function(U){if((I=(I=g.action(U,u._model,u._api))||se({},U)).type=v.event||I.type,A.push(I),R){var G=sf(s),$=G.mainTypeSpecified?G.queryOptionMap.keys()[0]:"series";Cg(u,y,U,$),rs(u)}else L?(Cg(u,y,U,"series"),rs(u)):b&&Cg(u,y,U,b.main,b.sub)}),"none"===y||R||L||b||(this.__pendingUpdate?(Lh(this),Lu.update.call(this,s),this.__pendingUpdate=null):Lu[y].call(this,s)),I=E?{type:v.event||f,escapeConnect:p,batch:A}:A[0],this.__flagInMainProcess=!1,!l){var k=this._messageCenter;if(k.trigger(I.type,I),L){var H={type:"selectchanged",escapeConnect:p,selected:x(h),isFromClick:s.isFromClick||!1,fromAction:s.type,fromActionPayload:s};k.trigger(H.type,H)}}},ud=function(s){for(var l=this._pendingActions;l.length;){var u=l.shift();gy.call(this,u,s)}},cd=function(s){!s&&this.trigger("updated")},wS=function(s,l){s.on("rendered",function(u){l.trigger("rendered",u),!s.animation.isFinished()||l.__pendingUpdate||l._scheduler.unfinished||l._pendingActions.length||l.trigger("finished")})},TS=function(s,l){s.on("mouseover",function(u){var f,p,g,v,m,y,h=Ih(u.target,J);h&&(p=u,g=l._api,(y=(m=c((v=pn(f=h)).componentMainType,v.componentIndex,v.componentHighDownName,g)).dispatchers)?(m.focusSelf&&_u(v.componentMainType,v.componentIndex,g),Y(y,function(S){return yi(S,p)})):(Of(v.seriesIndex,v.focus,v.blurScope,g),"self"===v.focus&&_u(v.componentMainType,v.componentIndex,g),yi(f,p)),rs(l))}).on("mouseout",function(u){var h=Ih(u.target,J);h&&(function(f,p,g){Up(g);var v=pn(f),m=c(v.componentMainType,v.componentIndex,v.componentHighDownName,g).dispatchers;m?Y(m,function(y){return Rf(y,p)}):Rf(f,p)}(h,u,l._api),rs(l))}).on("click",function(u){var h=Ih(u.target,function(g){return null!=pn(g).dataIndex},!0);if(h){var f=h.selected?"unselect":"select",p=pn(h);l._api.dispatchAction({type:f,dataType:p.dataType,dataIndexInside:p.dataIndex,seriesIndex:p.seriesIndex,isFromClick:!0})}})},hd=function(s){s.clearColorPalette(),s.eachSeries(function(l){l.clearColorPalette()})},vy=function(s,l,u,h,f){ES(s,l,u,h,f),Y(s._chartsViews,function(p){p.__alive=!1}),Ig(s,l,u,h,f),Y(s._chartsViews,function(p){p.__alive||p.remove(l,u)})},ES=function(s,l,u,h,f,p){Y(p||s._componentsViews,function(g){var v=g.__model;o(0,g),g.render(v,l,u,h),i(v,g),a(v,g)})},Ig=function(s,l,u,h,f,p){var g=s._scheduler;f=se(f||{},{updatedSeries:l.getSeries()}),Hs.trigger("series:beforeupdate",l,u,f);var m,y,S,v=!1;l.eachSeries(function(m){var y=s._chartsMap[m.__viewId];y.__alive=!0;var E,I,b=y.renderTask;g.updatePayload(b,h),o(0,y),p&&p.get(m.uid)&&b.dirty(),b.perform(g.getPerformArgs(b))&&(v=!0),y.group.silent=!!m.get("silent"),E=y,I=m.get("blendMode")||null,E.group.traverse(function(A){A.isGroup||(A.style.blend=I),A.eachPendingDisplayable&&A.eachPendingDisplayable(function(L){L.style.blend=I})}),d(m)}),g.unfinished=v||g.unfinished,Hs.trigger("series:layoutlabels",l,u,f),Hs.trigger("series:transition",l,u,f),l.eachSeries(function(m){var y=s._chartsMap[m.__viewId];i(m,y),a(m,y)}),y=l,S=0,(m=s)._zr.storage.traverse(function(E){E.isGroup||S++}),S>y.get("hoverLayerThreshold")&&!ve.node&&!ve.worker&&y.eachSeries(function(E){if(!E.preventUsingHoverLayer){var I=m._chartsMap[E.__viewId];I.__alive&&I.group.traverse(function(A){A.states.emphasis&&(A.states.emphasis.hoverLayer=!0)})}}),Hs.trigger("series:afterupdate",l,u,f)},rs=function(s){s.__needsUpdateStatus=!0,s.getZr().wakeUp()},AS=function(s){s.__needsUpdateStatus&&(s.getZr().storage.traverse(function(l){hh(l)||e(l)}),s.__needsUpdateStatus=!1)},CS=function(s){return new(function(l){function u(){return null!==l&&l.apply(this,arguments)||this}return ue(u,l),u.prototype.getCoordinateSystems=function(){return s._coordSysMgr.getCoordinateSystems()},u.prototype.getComponentByElement=function(h){for(;h;){var f=h.__ecComponentInfo;if(null!=f)return s._model.getComponent(f.mainType,f.index);h=h.parent}},u.prototype.enterEmphasis=function(h,f){$a(h,f),rs(s)},u.prototype.leaveEmphasis=function(h,f){Io(h,f),rs(s)},u.prototype.enterBlur=function(h){Bp(h),rs(s)},u.prototype.leaveBlur=function(h){pc(h),rs(s)},u.prototype.enterSelect=function(h){Fp(h),rs(s)},u.prototype.leaveSelect=function(h){nr(h),rs(s)},u.prototype.getModel=function(){return s.getModel()},u.prototype.getViewOfComponentModel=function(h){return s.getViewOfComponentModel(h)},u.prototype.getViewOfSeriesModel=function(h){return s.getViewOfSeriesModel(h)},u}(Rx))(s)},IS=function(s){function l(u,h){for(var f=0;f<u.length;f++)u[f][hy]=h}Y(fd,function(u,h){s._messageCenter.on(h,function(f){if(Dg[s.group]&&0!==s[hy]){if(f&&f.escapeConnect)return;var p=s.makeActionFromEvent(f),g=[];Y(Cc,function(v){v!==s&&v.group===s.group&&g.push(v)}),l(g,0),Y(g,function(v){1!==v[hy]&&v.dispatchAction(p)}),l(g,2)}})})}}(),t}(Tn),my=Ag.prototype;my.on=xS("on"),my.off=xS("off"),my.one=function(n,t,e){var i=this;this.on.call(this,n,function r(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];t&&t.apply&&t.apply(this,o),i.off(n,r)},e)};var tN=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"],Mg={},fd={},yy=[],_y=[],Lg=[],DS={},xy={},Cc={},Dg={},nN=+new Date-0,iN=+new Date-0,by="_echarts_instance_";function NS(n){Dg[n]=!1}var rN=NS;function Sy(n){return Cc[function(t,e){return t.getAttribute?t.getAttribute(e):t[e]}(n,by)]}function wy(n,t){DS[n]=t}function Ty(n){pe(_y,n)<0&&_y.push(n)}function Ey(n,t){Cy(yy,n,t,2e3)}function RS(n){Ng("afterinit",n)}function OS(n){Ng("afterupdate",n)}function Ng(n,t){Hs.on(n,t)}function Us(n,t,e){"function"==typeof t&&(e=t,t="");var i=Bt(n)?n.type:[n,n={event:t}][0];n.event=(n.event||i).toLowerCase(),fd[t=n.event]||(ni(_S.test(i)&&_S.test(t)),Mg[i]||(Mg[i]={action:e,actionInfo:n}),fd[t]=i)}function kS(n,t){bh.register(n,t)}function PS(n,t){Cy(Lg,n,t,1e3,"layout")}function Du(n,t){Cy(Lg,n,t,3e3,"visual")}var BS=[];function Cy(n,t,e,i,r){if((sn(t)||Bt(t))&&(e=t,t=i),!(pe(BS,e)>=0)){BS.push(e);var o=Db.wrapStageHandler(e,r);o.__prio=t,o.__raw=e,n.push(o)}}function Iy(n,t){xy[n]=t}function FS(n,t,e){!function(n,t,e){if(t.svg){var i=new XD(n,t.svg);ld.set(n,i)}else{var r=t.geoJson||t.geoJSON;r&&!t.features?e=t.specialAreas:r=t,i=new ZD(n,r,e),ld.set(n,i)}}(n,t,e)}var HS=function(n){var t=(n=Te(n)).type;t||jn("");var i=t.split(":");2!==i.length&&jn("");var r=!1;"echarts"===i[0]&&(t=i[1],r=!0),n.__isBuiltIn=r,rb.set(t,n)};Du(2e3,pD),Du(4500,gD),Du(4500,vD),Du(2e3,AD),Du(4500,{createOnAllSeries:!0,performRawSeries:!0,reset:function(n,t){if(n.hasSymbolVisual&&!t.isSeriesFiltered(n))return{dataEach:n.getData().hasItemOption?function(e,i){var r=e.getItemModel(i),o=r.getShallow("symbol",!0),a=r.getShallow("symbolSize",!0),s=r.getShallow("symbolRotate",!0),l=r.getShallow("symbolOffset",!0),u=r.getShallow("symbolKeepAspect",!0);null!=o&&e.setItemVisual(i,"symbol",o),null!=a&&e.setItemVisual(i,"symbolSize",a),null!=s&&e.setItemVisual(i,"symbolRotate",s),null!=l&&e.setItemVisual(i,"symbolOffset",l),null!=u&&e.setItemVisual(i,"symbolKeepAspect",u)}:null}}}),Du(7e3,function(n,t){n.eachRawSeries(function(e){if(!n.isSeriesFiltered(e)){var i=e.getData();i.hasItemVisual()&&i.each(function(o){var a=i.getItemVisual(o,"decal");a&&(i.ensureUniqueItemVisual(o,"style").decal=sd(a,t))});var r=i.getVisual("decal");r&&(i.getVisual("style").decal=sd(r,t))}})}),Ty(Ux),Ey(900,function(n){var t=Ht();n.eachSeries(function(e){var i=e.get("stack");if(i){var r=t.get(i)||t.set(i,[]),o=e.getData(),a={stackResultDimension:o.getCalculationInfo("stackResultDimension"),stackedOverDimension:o.getCalculationInfo("stackedOverDimension"),stackedDimension:o.getCalculationInfo("stackedDimension"),stackedByDimension:o.getCalculationInfo("stackedByDimension"),isStackedByIndex:o.getCalculationInfo("isStackedByIndex"),data:o,seriesModel:e};if(!a.stackedDimension||!a.isStackedByIndex&&!a.stackedByDimension)return;r.length&&o.setCalculationInfo("stackedOnSeries",r[r.length-1].seriesModel),r.push(a)}}),t.each(HL)}),Iy("default",function(n,t){Ee(t=t||{},{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var e=new Ft,i=new kn({style:{fill:t.maskColor},zlevel:t.zlevel,z:1e4});e.add(i);var r,o=new Nn({style:{text:t.text,fill:t.textColor,fontSize:t.fontSize,fontWeight:t.fontWeight,fontStyle:t.fontStyle,fontFamily:t.fontFamily},zlevel:t.zlevel,z:10001}),a=new kn({style:{fill:"none"},textContent:o,textConfig:{position:"right",distance:10},zlevel:t.zlevel,z:10001});return e.add(a),t.showSpinner&&((r=new kf({shape:{startAngle:-gg/2,endAngle:-gg/2+.1,r:t.spinnerRadius},style:{stroke:t.color,lineCap:"round",lineWidth:t.lineWidth},zlevel:t.zlevel,z:10001})).animateShape(!0).when(1e3,{endAngle:3*gg/2}).start("circularInOut"),r.animateShape(!0).when(1e3,{startAngle:3*gg/2}).delay(300).start("circularInOut"),e.add(r)),e.resize=function(){var s=o.getBoundingRect().width,l=t.showSpinner?t.spinnerRadius:0,u=(n.getWidth()-2*l-(t.showSpinner&&s?10:0)-s)/2-(t.showSpinner&&s?0:5+s/2)+(t.showSpinner?0:s/2)+(s?0:l),h=n.getHeight()/2;t.showSpinner&&r.setShape({cx:u,cy:h}),a.setShape({x:u-l,y:h-l,width:2*l,height:2*l}),i.setShape({x:0,y:0,width:n.getWidth(),height:n.getHeight()})},e.resize(),e}),Us({type:hl,event:hl,update:hl},Vn),Us({type:Pl,event:Pl,update:Pl},Vn),Us({type:uc,event:uc,update:uc},Vn),Us({type:oh,event:oh,update:oh},Vn),Us({type:cc,event:cc,update:cc},Vn),wy("light",CD),wy("dark",Fb);var US=[],oN={registerPreprocessor:Ty,registerProcessor:Ey,registerPostInit:RS,registerPostUpdate:OS,registerUpdateLifecycle:Ng,registerAction:Us,registerCoordinateSystem:kS,registerLayout:PS,registerVisual:Du,registerTransform:HS,registerLoading:Iy,registerMap:FS,PRIORITY:yS,ComponentModel:Rn,ComponentView:Ni,SeriesModel:Ei,ChartView:vi,registerComponentModel:function(n){Rn.registerClass(n)},registerComponentView:function(n){Ni.registerClass(n)},registerSeriesModel:function(n){Ei.registerClass(n)},registerChartView:function(n){vi.registerClass(n)},registerSubTypeDefaulter:function(n,t){Rn.registerSubTypeDefaulter(n,t)},registerPainter:function(n,t){$s(n,t)}};function Ln(n){rt(n)?Y(n,function(t){Ln(t)}):pe(US,n)>=0||(US.push(n),sn(n)&&(n={install:n}),n.install(oN))}function dd(n){return null==n?0:n.length||1}function zS(n){return n}var Ul=function(){function n(t,e,i,r,o,a){this._old=t,this._new=e,this._oldKeyGetter=i||zS,this._newKeyGetter=r||zS,this.context=o,this._diffModeMultiple="multiple"===a}return n.prototype.add=function(t){return this._add=t,this},n.prototype.update=function(t){return this._update=t,this},n.prototype.updateManyToOne=function(t){return this._updateManyToOne=t,this},n.prototype.updateOneToMany=function(t){return this._updateOneToMany=t,this},n.prototype.updateManyToMany=function(t){return this._updateManyToMany=t,this},n.prototype.remove=function(t){return this._remove=t,this},n.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},n.prototype._executeOneToOne=function(){var t=this._old,e=this._new,i={},r=new Array(t.length),o=new Array(e.length);this._initIndexMap(t,null,r,"_oldKeyGetter"),this._initIndexMap(e,i,o,"_newKeyGetter");for(var a=0;a<t.length;a++){var s=r[a],l=i[s],u=dd(l);if(u>1){var h=l.shift();1===l.length&&(i[s]=l[0]),this._update&&this._update(h,a)}else 1===u?(i[s]=null,this._update&&this._update(l,a)):this._remove&&this._remove(a)}this._performRestAdd(o,i)},n.prototype._executeMultiple=function(){var e=this._new,i={},r={},o=[],a=[];this._initIndexMap(this._old,i,o,"_oldKeyGetter"),this._initIndexMap(e,r,a,"_newKeyGetter");for(var s=0;s<o.length;s++){var l=o[s],u=i[l],h=r[l],f=dd(u),p=dd(h);if(f>1&&1===p)this._updateManyToOne&&this._updateManyToOne(h,u),r[l]=null;else if(1===f&&p>1)this._updateOneToMany&&this._updateOneToMany(h,u),r[l]=null;else if(1===f&&1===p)this._update&&this._update(h,u),r[l]=null;else if(f>1&&p>1)this._updateManyToMany&&this._updateManyToMany(h,u),r[l]=null;else if(f>1)for(var g=0;g<f;g++)this._remove&&this._remove(u[g]);else this._remove&&this._remove(u)}this._performRestAdd(a,r)},n.prototype._performRestAdd=function(t,e){for(var i=0;i<t.length;i++){var r=t[i],o=e[r],a=dd(o);if(a>1)for(var s=0;s<a;s++)this._add&&this._add(o[s]);else 1===a&&this._add&&this._add(o);e[r]=null}},n.prototype._initIndexMap=function(t,e,i,r){for(var o=this._diffModeMultiple,a=0;a<t.length;a++){var s="_ec_"+this[r](t[a],a);if(o||(i[a]=s),e){var l=e[s],u=dd(l);0===u?(e[s]=a,o&&i.push(s)):1===u?e[s]=[l,a]:l.push(a)}}},n}(),aN=function(){function n(t,e){this._encode=t,this._schema=e}return n.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},n.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},n}();function Ay(n,t){return n.hasOwnProperty(t)||(n[t]=[]),n[t]}function Rg(n){return"category"===n?"ordinal":"time"===n?"time":"float"}var Og=function(n){this.otherDims={},null!=n&&se(this,n)},sN=Fn(),lN={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},VS=function(){function n(t){this.dimensions=t.dimensions,this._dimOmitted=t.dimensionOmitted,this.source=t.source,this._fullDimCount=t.fullDimensionCount,this._updateDimOmitted(t.dimensionOmitted)}return n.prototype.isDimensionOmitted=function(){return this._dimOmitted},n.prototype._updateDimOmitted=function(t){this._dimOmitted=t,t&&(this._dimNameMap||(this._dimNameMap=YS(this.source)))},n.prototype.getSourceDimensionIndex=function(t){return ln(this._dimNameMap.get(t),-1)},n.prototype.getSourceDimension=function(t){var e=this.source.dimensionsDefine;if(e)return e[t]},n.prototype.makeStoreSchema=function(){for(var t=this._fullDimCount,e=Xx(this.source),i=!XS(t),r="",o=[],a=0,s=0;a<t;a++){var l=void 0,u=void 0,h=void 0,f=this.dimensions[s];if(f&&f.storeDimIndex===a)l=e?f.name:null,u=f.type,h=f.ordinalMeta,s++;else{var p=this.getSourceDimension(a);p&&(l=e?p.name:null,u=p.type)}o.push({property:l,type:u,ordinalMeta:h}),!e||null==l||f&&f.isCalculationCoord||(r+=i?l.replace(/\`/g,"`1").replace(/\$/g,"`2"):l),r+="$",r+=lN[u]||"f",h&&(r+=h.uid),r+="$"}var g=this.source;return{dimensions:o,hash:[g.seriesLayoutBy,g.startIndex,r].join("$$")}},n.prototype.makeOutputDimensionNames=function(){for(var t=[],e=0,i=0;e<this._fullDimCount;e++){var r=void 0,o=this.dimensions[i];if(o&&o.storeDimIndex===e)o.isCalculationCoord||(r=o.name),i++;else{var a=this.getSourceDimension(e);a&&(r=a.name)}t.push(r)}return t},n.prototype.appendCalculationDimension=function(t){this.dimensions.push(t),t.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},n}();function GS(n){return n instanceof VS}function WS(n){for(var t=Ht(),e=0;e<(n||[]).length;e++){var i=n[e],r=Bt(i)?i.name:i;null!=r&&null==t.get(r)&&t.set(r,e)}return t}function YS(n){var t=sN(n);return t.dimNameMap||(t.dimNameMap=WS(n.dimensionsDefine))}function XS(n){return n>30}var jS,kg,pd,gd,My,Pg,Ly,vd=Bt,Nu=Ve,uN=typeof Int32Array>"u"?Array:Int32Array,cN=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],hN=["_approximateExtent"],Uo=function(){function n(t,e){var i;this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];var r=!1;GS(t)?(i=t.dimensions,this._dimOmitted=t.isDimensionOmitted(),this._schema=t):(r=!0,i=t),i=i||["x","y"];for(var o={},a=[],s={},l=!1,u={},h=0;h<i.length;h++){var f=i[h],p=Jt(f)?new Og({name:f}):f instanceof Og?f:new Og(f),g=p.name;p.type=p.type||"float",p.coordDim||(p.coordDim=g,p.coordDimIndex=0);var v=p.otherDims=p.otherDims||{};a.push(g),o[g]=p,null!=u[g]&&(l=!0),p.createInvertedIndices&&(s[g]=[]),0===v.itemName&&(this._nameDimIdx=h),0===v.itemId&&(this._idDimIdx=h),r&&(p.storeDimIndex=h)}if(this.dimensions=a,this._dimInfos=o,this._initGetDimensionInfo(l),this.hostModel=e,this._invertedIndicesMap=s,this._dimOmitted){var m=this._dimIdxToName=Ht();Y(a,function(y){m.set(o[y].storeDimIndex,y)})}}return n.prototype.getDimension=function(t){var e=this._recognizeDimIndex(t);if(null==e)return t;if(e=t,!this._dimOmitted)return this.dimensions[e];var i=this._dimIdxToName.get(e);if(null!=i)return i;var r=this._schema.getSourceDimension(e);return r?r.name:void 0},n.prototype.getDimensionIndex=function(t){var e=this._recognizeDimIndex(t);if(null!=e)return e;if(null==t)return-1;var i=this._getDimInfo(t);return i?i.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(t):-1},n.prototype._recognizeDimIndex=function(t){if("number"==typeof t||null!=t&&!isNaN(t)&&!this._getDimInfo(t)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(t)<0))return+t},n.prototype._getStoreDimIndex=function(t){return this.getDimensionIndex(t)},n.prototype.getDimensionInfo=function(t){return this._getDimInfo(this.getDimension(t))},n.prototype._initGetDimensionInfo=function(t){var e=this._dimInfos;this._getDimInfo=t?function(i){return e.hasOwnProperty(i)?e[i]:void 0}:function(i){return e[i]}},n.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},n.prototype.mapDimension=function(t,e){var i=this._dimSummary;if(null==e)return i.encodeFirstDimNotExtra[t];var r=i.encode[t];return r?r[e]:null},n.prototype.mapDimensionsAll=function(t){return(this._dimSummary.encode[t]||[]).slice()},n.prototype.getStore=function(){return this._store},n.prototype.initData=function(t,e,i){var r,o=this;if(t instanceof qm&&(r=t),!r){var a=this.dimensions,s=Um(t)||gt(t)?new jx(t,a.length):t;r=new qm;var l=Nu(a,function(u){return{type:o._dimInfos[u].type,property:u}});r.initData(s,l,i)}this._store=r,this._nameList=(e||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,r.count()),this._dimSummary=function(u,h){var f={},p=f.encode={},g=Ht(),v=[],m=[],y={};Y(u.dimensions,function(A){var L,R=u.getDimensionInfo(A),k=R.coordDim;if(k){var H=R.coordDimIndex;Ay(p,k)[H]=A,R.isExtraCoord||(g.set(k,1),"ordinal"!==(L=R.type)&&"time"!==L&&(v[0]=A),Ay(y,k)[H]=u.getDimensionIndex(R.name)),R.defaultTooltip&&m.push(A)}_x.each(function(U,G){var K=Ay(p,G),$=R.otherDims[G];null!=$&&!1!==$&&(K[$]=R.name)})});var b=[],S={};g.each(function(A,L){var R=p[L];S[L]=R[0],b=b.concat(R)}),f.dataDimsOnCoord=b,f.dataDimIndicesOnCoord=Ve(b,function(A){return u.getDimensionInfo(A).storeDimIndex}),f.encodeFirstDimNotExtra=S;var E=p.label;E&&E.length&&(v=E.slice());var I=p.tooltip;return I&&I.length?m=I.slice():m.length||(m=v.slice()),p.defaultedLabel=v,p.defaultedTooltip=m,f.userOutput=new aN(y,h),f}(this,this._schema),this.userOutput=this._dimSummary.userOutput},n.prototype.appendData=function(t){var e=this._store.appendData(t);this._doInit(e[0],e[1])},n.prototype.appendValues=function(t,e){var i=this._store.appendValues(t,e.length),r=i.start,o=i.end,a=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),e)for(var s=r;s<o;s++)this._nameList[s]=e[s-r],a&&Ly(this,s)},n.prototype._updateOrdinalMeta=function(){for(var t=this._store,e=this.dimensions,i=0;i<e.length;i++){var r=this._dimInfos[e[i]];r.ordinalMeta&&t.collectOrdinalMeta(r.storeDimIndex,r.ordinalMeta)}},n.prototype._shouldMakeIdFromName=function(){var t=this._store.getProvider();return null==this._idDimIdx&&t.getSource().sourceFormat!==xh&&!t.fillStorage},n.prototype._doInit=function(t,e){if(!(t>=e)){var i=this._store.getProvider();this._updateOrdinalMeta();var r=this._nameList,o=this._idList;if(i.getSource().sourceFormat===Eu&&!i.pure)for(var a=[],s=t;s<e;s++){var l=i.getItem(s,a);if(!this.hasItemOption&&$v(l)&&(this.hasItemOption=!0),l){var u=l.name;null==r[s]&&null!=u&&(r[s]=ci(u,null));var h=l.id;null==o[s]&&null!=h&&(o[s]=ci(h,null))}}if(this._shouldMakeIdFromName())for(s=t;s<e;s++)Ly(this,s);jS(this)}},n.prototype.getApproximateExtent=function(t){return this._approximateExtent[t]||this._store.getDataExtent(this._getStoreDimIndex(t))},n.prototype.setApproximateExtent=function(t,e){e=this.getDimension(e),this._approximateExtent[e]=t.slice()},n.prototype.getCalculationInfo=function(t){return this._calculationInfo[t]},n.prototype.setCalculationInfo=function(t,e){vd(t)?se(this._calculationInfo,t):this._calculationInfo[t]=e},n.prototype.getName=function(t){var e=this.getRawIndex(t),i=this._nameList[e];return null==i&&null!=this._nameDimIdx&&(i=pd(this,this._nameDimIdx,e)),null==i&&(i=""),i},n.prototype._getCategory=function(t,e){var i=this._store.get(t,e),r=this._store.getOrdinalMeta(t);return r?r.categories[i]:i},n.prototype.getId=function(t){return kg(this,this.getRawIndex(t))},n.prototype.count=function(){return this._store.count()},n.prototype.get=function(t,e){var r=this._dimInfos[t];if(r)return this._store.get(r.storeDimIndex,e)},n.prototype.getByRawIndex=function(t,e){var r=this._dimInfos[t];if(r)return this._store.getByRawIndex(r.storeDimIndex,e)},n.prototype.getIndices=function(){return this._store.getIndices()},n.prototype.getDataExtent=function(t){return this._store.getDataExtent(this._getStoreDimIndex(t))},n.prototype.getSum=function(t){return this._store.getSum(this._getStoreDimIndex(t))},n.prototype.getMedian=function(t){return this._store.getMedian(this._getStoreDimIndex(t))},n.prototype.getValues=function(t,e){var i=this,r=this._store;return rt(t)?r.getValues(Nu(t,function(o){return i._getStoreDimIndex(o)}),e):r.getValues(t)},n.prototype.hasValue=function(t){for(var e=this._dimSummary.dataDimIndicesOnCoord,i=0,r=e.length;i<r;i++)if(isNaN(this._store.get(e[i],t)))return!1;return!0},n.prototype.indexOfName=function(t){for(var e=0,i=this._store.count();e<i;e++)if(this.getName(e)===t)return e;return-1},n.prototype.getRawIndex=function(t){return this._store.getRawIndex(t)},n.prototype.indexOfRawIndex=function(t){return this._store.indexOfRawIndex(t)},n.prototype.rawIndexOf=function(t,e){var r=(t&&this._invertedIndicesMap[t])[e];return null==r||isNaN(r)?-1:r},n.prototype.indicesOfNearest=function(t,e,i){return this._store.indicesOfNearest(this._getStoreDimIndex(t),e,i)},n.prototype.each=function(t,e,i){"function"==typeof t&&(i=e,e=t,t=[]);var r=i||this,o=Nu(gd(t),this._getStoreDimIndex,this);this._store.each(o,r?mt(e,r):e)},n.prototype.filterSelf=function(t,e,i){"function"==typeof t&&(i=e,e=t,t=[]);var r=i||this,o=Nu(gd(t),this._getStoreDimIndex,this);return this._store=this._store.filter(o,r?mt(e,r):e),this},n.prototype.selectRange=function(t){var e=this,i={};return Y(Mt(t),function(r){var o=e._getStoreDimIndex(r);i[o]=t[r]}),this._store=this._store.selectRange(i),this},n.prototype.mapArray=function(t,e,i){"function"==typeof t&&(i=e,e=t,t=[]);var r=[];return this.each(t,function(){r.push(e&&e.apply(this,arguments))},i=i||this),r},n.prototype.map=function(t,e,i,r){var o=i||r||this,a=Nu(gd(t),this._getStoreDimIndex,this),s=Pg(this);return s._store=this._store.map(a,o?mt(e,o):e),s},n.prototype.modify=function(t,e,i,r){var o=i||r||this,a=Nu(gd(t),this._getStoreDimIndex,this);this._store.modify(a,o?mt(e,o):e)},n.prototype.downSample=function(t,e,i,r){var o=Pg(this);return o._store=this._store.downSample(this._getStoreDimIndex(t),e,i,r),o},n.prototype.lttbDownSample=function(t,e){var i=Pg(this);return i._store=this._store.lttbDownSample(this._getStoreDimIndex(t),e),i},n.prototype.getRawDataItem=function(t){return this._store.getRawDataItem(t)},n.prototype.getItemModel=function(t){var e=this.hostModel,i=this.getRawDataItem(t);return new Qn(i,e,e&&e.ecModel)},n.prototype.diff=function(t){var e=this;return new Ul(t?t.getStore().getIndices():[],this.getStore().getIndices(),function(i){return kg(t,i)},function(i){return kg(e,i)})},n.prototype.getVisual=function(t){var e=this._visual;return e&&e[t]},n.prototype.setVisual=function(t,e){this._visual=this._visual||{},vd(t)?se(this._visual,t):this._visual[t]=e},n.prototype.getItemVisual=function(t,e){var i=this._itemVisuals[t];return(i&&i[e])??this.getVisual(e)},n.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},n.prototype.ensureUniqueItemVisual=function(t,e){var i=this._itemVisuals,r=i[t];r||(r=i[t]={});var o=r[e];return null==o&&(rt(o=this.getVisual(e))?o=o.slice():vd(o)&&(o=se({},o)),r[e]=o),o},n.prototype.setItemVisual=function(t,e,i){var r=this._itemVisuals[t]||{};this._itemVisuals[t]=r,vd(e)?se(r,e):r[e]=i},n.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},n.prototype.setLayout=function(t,e){if(vd(t))for(var i in t)t.hasOwnProperty(i)&&this.setLayout(i,t[i]);else this._layout[t]=e},n.prototype.getLayout=function(t){return this._layout[t]},n.prototype.getItemLayout=function(t){return this._itemLayouts[t]},n.prototype.setItemLayout=function(t,e,i){this._itemLayouts[t]=i?se(this._itemLayouts[t]||{},e):e},n.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},n.prototype.setItemGraphicEl=function(t,e){Af(this.hostModel&&this.hostModel.seriesIndex,this.dataType,t,e),this._graphicEls[t]=e},n.prototype.getItemGraphicEl=function(t){return this._graphicEls[t]},n.prototype.eachItemGraphicEl=function(t,e){Y(this._graphicEls,function(i,r){i&&t&&t.call(e,i,r)})},n.prototype.cloneShallow=function(t){return t||(t=new n(this._schema?this._schema:Nu(this.dimensions,this._getDimInfo,this),this.hostModel)),My(t,this),t._store=this._store,t},n.prototype.wrapMethod=function(t,e){var i=this[t];"function"==typeof i&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var r=i.apply(this,arguments);return e.apply(this,[r].concat(Wi(arguments)))})},n.internalField=(jS=function(t){var e=t._invertedIndicesMap;Y(e,function(i,r){var o=t._dimInfos[r],a=o.ordinalMeta,s=t._store;if(a){i=e[r]=new uN(a.categories.length);for(var l=0;l<i.length;l++)i[l]=-1;for(l=0;l<s.count();l++)i[s.get(o.storeDimIndex,l)]=l}})},pd=function(t,e,i){return ci(t._getCategory(e,i),null)},kg=function(t,e){var i=t._idList[e];return null==i&&null!=t._idDimIdx&&(i=pd(t,t._idDimIdx,e)),null==i&&(i="e\0\0"+e),i},gd=function(t){return rt(t)||(t=null!=t?[t]:[]),t},Pg=function(t){var e=new n(t._schema?t._schema:Nu(t.dimensions,t._getDimInfo,t),t.hostModel);return My(e,t),e},My=function(t,e){Y(cN.concat(e.__wrappedMethods||[]),function(i){e.hasOwnProperty(i)&&(t[i]=e[i])}),t.__wrappedMethods=e.__wrappedMethods,Y(hN,function(i){t[i]=Te(e[i])}),t._calculationInfo=se({},e._calculationInfo)},void(Ly=function(t,e){var i=t._nameList,r=t._idList,o=t._nameDimIdx,a=t._idDimIdx,s=i[e],l=r[e];if(null==s&&null!=o&&(i[e]=s=pd(t,o,e)),null==l&&null!=a&&(r[e]=l=pd(t,a,e)),null==l&&null!=s){var u=t._nameRepeatCount,h=u[s]=(u[s]||0)+1;l=s,h>1&&(l+="__ec__"+h),r[e]=l}})),n}();function Dh(n,t){Um(n)||(n=Vm(n));var H,K,e=(t=t||{}).coordDimensions||[],i=t.dimensionsDefine||n.dimensionsDefine||[],r=Ht(),o=[],a=(H=e,K=Math.max(n.dimensionsDetectedCount||1,H.length,i.length,t.dimensionsCount||0),Y(H,function($){var ee;Bt($)&&(ee=$.dimsDef)&&(K=Math.max(K,ee.length))}),K),s=t.canOmitUnusedDimensions&&XS(a),l=i===n.dimensionsDefine,u=l?YS(n):WS(i),h=t.encodeDefine;!h&&t.encodeDefaulter&&(h=t.encodeDefaulter(n,a));for(var f=Ht(h),p=new ob(a),g=0;g<p.length;g++)p[g]=-1;function v(k){var H=p[k];if(H<0){var U=i[k],G=Bt(U)?U:{name:U},K=new Og,$=G.name;return null!=$&&null!=u.get($)&&(K.name=K.displayName=$),null!=G.type&&(K.type=G.type),null!=G.displayName&&(K.displayName=G.displayName),p[k]=o.length,K.storeDimIndex=k,o.push(K),K}return o[H]}if(!s)for(g=0;g<a;g++)v(g);f.each(function(k,H){var U=Yn(k).slice();if(1===U.length&&!Jt(U[0])&&U[0]<0)f.set(H,!1);else{var G=f.set(H,[]);Y(U,function(K,$){var ee=Jt(K)?u.get(K):K;null!=ee&&ee<a&&(G[$]=ee,y(v(ee),H,$))})}});var m=0;function y(k,H,U){null!=_x.get(H)?k.otherDims[H]=U:(k.coordDim=H,k.coordDimIndex=U,r.set(H,!0))}Y(e,function(k){var H,U,G,K;if(Jt(k))H=k,K={};else{H=(K=k).name;var $=K.ordinalMeta;K.ordinalMeta=null,(K=se({},K)).ordinalMeta=$,U=K.dimsDef,G=K.otherDims,K.name=K.coordDim=K.coordDimIndex=K.dimsDef=K.otherDims=null}var ee=f.get(H);if(!1!==ee){if(!(ee=Yn(ee)).length)for(var le=0;le<(U&&U.length||1);le++){for(;m<a&&null!=v(m).coordDim;)m++;m<a&&ee.push(m++)}Y(ee,function(he,ge){var me=v(he);if(l&&null!=K.type&&(me.type=K.type),y(Ee(me,K),H,ge),null==me.name&&U){var be=U[ge];!Bt(be)&&(be={name:be}),me.name=me.displayName=be.name,me.defaultTooltip=be.defaultTooltip}G&&Ee(me.otherDims,G)})}});var b=t.generateCoord,S=t.generateCoordCount,E=null!=S;S=b?S||1:0;var I=b||"value";function A(k){null==k.name&&(k.name=k.coordDim)}if(s)Y(o,function(k){A(k)}),o.sort(function(k,H){return k.storeDimIndex-H.storeDimIndex});else for(var L=0;L<a;L++){var R=v(L);null==R.coordDim&&(R.coordDim=fN(I,r,E),R.coordDimIndex=0,(!b||S<=0)&&(R.isExtraCoord=!0),S--),A(R),null!=R.type||Ex(n,L)!==lg&&(!R.isExtraCoord||null==R.otherDims.itemName&&null==R.otherDims.seriesName)||(R.type="ordinal")}return function(k){for(var H=Ht(),U=0;U<k.length;U++){var G=k[U],K=G.name,$=H.get(K)||0;$>0&&(G.name=K+($-1)),$++,H.set(K,$)}}(o),new VS({source:n,dimensions:o,fullDimensionCount:a,dimensionOmitted:s})}function fN(n,t,e){var i=t.data;if(e||i.hasOwnProperty(n)){for(var r=0;i.hasOwnProperty(n+r);)r++;n+=r}return t.set(n,!0),n}var dN=function(n){this.coordSysDims=[],this.axisMap=Ht(),this.categoryAxisMap=Ht(),this.coordSysName=n},pN={cartesian2d:function(n,t,e,i){var r=n.getReferringComponents("xAxis",mr).models[0],o=n.getReferringComponents("yAxis",mr).models[0];t.coordSysDims=["x","y"],e.set("x",r),e.set("y",o),Nh(r)&&(i.set("x",r),t.firstCategoryDimIndex=0),Nh(o)&&(i.set("y",o),null==t.firstCategoryDimIndex&&(t.firstCategoryDimIndex=1))},singleAxis:function(n,t,e,i){var r=n.getReferringComponents("singleAxis",mr).models[0];t.coordSysDims=["single"],e.set("single",r),Nh(r)&&(i.set("single",r),t.firstCategoryDimIndex=0)},polar:function(n,t,e,i){var r=n.getReferringComponents("polar",mr).models[0],o=r.findAxisModel("radiusAxis"),a=r.findAxisModel("angleAxis");t.coordSysDims=["radius","angle"],e.set("radius",o),e.set("angle",a),Nh(o)&&(i.set("radius",o),t.firstCategoryDimIndex=0),Nh(a)&&(i.set("angle",a),null==t.firstCategoryDimIndex&&(t.firstCategoryDimIndex=1))},geo:function(n,t,e,i){t.coordSysDims=["lng","lat"]},parallel:function(n,t,e,i){var r=n.ecModel,o=r.getComponent("parallel",n.get("parallelIndex")),a=t.coordSysDims=o.dimensions.slice();Y(o.parallelAxisIndex,function(s,l){var u=r.getComponent("parallelAxis",s),h=a[l];e.set(h,u),Nh(u)&&(i.set(h,u),null==t.firstCategoryDimIndex&&(t.firstCategoryDimIndex=l))})}};function Nh(n){return"category"===n.get("type")}function qS(n,t,e){var i,r,o,a=(e=e||{}).byIndex,s=e.stackedCoordDimension;GS(t.schema)?(i=(r=t.schema).dimensions,o=t.store):i=t;var l,u,h,f,p=!(!n||!n.get("stack"));if(Y(i,function(S,E){Jt(S)&&(i[E]=S={name:S}),p&&!S.isExtraCoord&&(a||l||!S.ordinalMeta||(l=S),u||"ordinal"===S.type||"time"===S.type||s&&s!==S.coordDim||(u=S))}),!u||a||l||(a=!0),u){h="__\0ecstackresult_"+n.id,f="__\0ecstackedover_"+n.id,l&&(l.createInvertedIndices=!0);var g=u.coordDim,v=u.type,m=0;Y(i,function(S){S.coordDim===g&&m++});var y={name:h,coordDim:g,coordDimIndex:m,type:v,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:i.length},b={name:f,coordDim:f,coordDimIndex:m+1,type:v,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:i.length+1};r?(o&&(y.storeDimIndex=o.ensureCalculationDimension(f,v),b.storeDimIndex=o.ensureCalculationDimension(h,v)),r.appendCalculationDimension(y),r.appendCalculationDimension(b)):(i.push(y),i.push(b))}return{stackedDimension:u&&u.name,stackedByDimension:l&&l.name,isStackedByIndex:a,stackedOverDimension:f,stackResultDimension:h}}function zl(n,t){return!!t&&t===n.getCalculationInfo("stackedDimension")}function Dy(n,t){return zl(n,t)?n.getCalculationInfo("stackResultDimension"):t}function gl(n,t,e){e=e||{};var i,r=t.getSourceManager(),o=!1;n?(o=!0,i=Vm(n)):o=(i=r.getSource()).sourceFormat===Eu;var b,S,E,I,a=function(y){var b=y.get("coordinateSystem"),S=new dN(b),E=pN[b];if(E)return E(y,S,S.axisMap,S.categoryAxisMap),S}(t),s=(b=a,E=t.get("coordinateSystem"),I=bh.get(E),b&&b.coordSysDims&&(S=Ve(b.coordSysDims,function(A){var L={name:A},R=b.axisMap.get(A);if(R){var k=R.get("type");L.type=Rg(k)}return L})),S||(S=I&&(I.getDimensionsInfo?I.getDimensionsInfo():I.dimensions.slice())||["x","y"]),S),l=e.useEncodeDefaulter,u=sn(l)?l:l?Lt(Tx,s,t):null,h=Dh(i,{coordDimensions:s,generateCoord:e.generateCoord,encodeDefine:t.getEncode(),encodeDefaulter:u,canOmitUnusedDimensions:!o}),f=function(y,b,S){var E,I;return S&&Y(y,function(A,L){var k=S.categoryAxisMap.get(A.coordDim);k&&(null==E&&(E=L),A.ordinalMeta=k.getOrdinalMeta(),b&&(A.createInvertedIndices=!0)),null!=A.otherDims.itemName&&(I=!0)}),I||null==E||(y[E].otherDims.itemName=0),E}(h.dimensions,e.createInvertedIndices,a),p=o?null:r.getSharedDataStore(h),g=qS(t,{schema:h,store:p}),v=new Uo(h,t);v.setCalculationInfo(g);var m=null!=f&&function(y){if(y.sourceFormat===Eu){var b=function(S){for(var E=0;E<S.length&&null==S[E];)E++;return S[E]}(y.data||[]);return null!=b&&!rt(ru(b))}}(i)?function(y,b,S,E){return E===f?S:this.defaultDimValueGetter(y,b,S,E)}:null;return v.hasItemOption=!1,v.initData(o?i:p,null,m),v}var vl=function(){function n(t){this._setting=t||{},this._extent=[1/0,-1/0]}return n.prototype.getSetting=function(t){return this._setting[t]},n.prototype.unionExtent=function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1])},n.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},n.prototype.getExtent=function(){return this._extent.slice()},n.prototype.setExtent=function(t,e){var i=this._extent;isNaN(t)||(i[0]=t),isNaN(e)||(i[1]=e)},n.prototype.isInExtentRange=function(t){return this._extent[0]<=t&&this._extent[1]>=t},n.prototype.isBlank=function(){return this._isBlank},n.prototype.setBlank=function(t){this._isBlank=t},n}();go(vl);var gN=0,Ny=function(){function n(t){this.categories=t.categories||[],this._needCollect=t.needCollect,this._deduplication=t.deduplication,this.uid=++gN}return n.createByAxisModel=function(t){var e=t.option,i=e.data,r=i&&Ve(i,vN);return new n({categories:r,needCollect:!r,deduplication:!1!==e.dedplication})},n.prototype.getOrdinal=function(t){return this._getOrCreateMap().get(t)},n.prototype.parseAndCollect=function(t){var e,i=this._needCollect;if("string"!=typeof t&&!i)return t;if(i&&!this._deduplication)return this.categories[e=this.categories.length]=t,e;var r=this._getOrCreateMap();return null==(e=r.get(t))&&(i?(this.categories[e=this.categories.length]=t,r.set(t,e)):e=NaN),e},n.prototype._getOrCreateMap=function(){return this._map||(this._map=Ht(this.categories))},n}();function vN(n){return Bt(n)&&null!=n.value?n.value:n+""}var KS=hr;function ZS(n){return Po(n)+2}function JS(n,t,e){n[t]=Math.max(Math.min(n[t],e[1]),e[0])}function Bg(n,t){return n>=t[0]&&n<=t[1]}function Fg(n,t){return t[1]===t[0]?.5:(n-t[0])/(t[1]-t[0])}function Hg(n,t){return n*(t[1]-t[0])+t[0]}var Ug=function(n){function t(e){var i=n.call(this,e)||this;i.type="ordinal";var r=i.getSetting("ordinalMeta");return r||(r=new Ny({})),rt(r)&&(r=new Ny({categories:Ve(r,function(o){return Bt(o)?o.value:o})})),i._ordinalMeta=r,i._extent=i.getSetting("extent")||[0,r.categories.length-1],i}return ue(t,n),t.prototype.parse=function(e){return"string"==typeof e?this._ordinalMeta.getOrdinal(e):Math.round(e)},t.prototype.contain=function(e){return Bg(e=this.parse(e),this._extent)&&null!=this._ordinalMeta.categories[e]},t.prototype.normalize=function(e){return Fg(e=this._getTickNumber(this.parse(e)),this._extent)},t.prototype.scale=function(e){return e=Math.round(Hg(e,this._extent)),this.getRawOrdinalNumber(e)},t.prototype.getTicks=function(){for(var e=[],i=this._extent,r=i[0];r<=i[1];)e.push({value:r}),r++;return e},t.prototype.getMinorTicks=function(e){},t.prototype.setSortInfo=function(e){if(null!=e){for(var i=e.ordinalNumbers,r=this._ordinalNumbersByTick=[],o=this._ticksByOrdinalNumber=[],a=0,s=this._ordinalMeta.categories.length,l=Math.min(s,i.length);a<l;++a){var u=i[a];r[a]=u,o[u]=a}for(var h=0;a<s;++a){for(;null!=o[h];)h++;r.push(h),o[h]=a}}else this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null},t.prototype._getTickNumber=function(e){var i=this._ticksByOrdinalNumber;return i&&e>=0&&e<i.length?i[e]:e},t.prototype.getRawOrdinalNumber=function(e){var i=this._ordinalNumbersByTick;return i&&e>=0&&e<i.length?i[e]:e},t.prototype.getLabel=function(e){if(!this.isBlank()){var i=this.getRawOrdinalNumber(e.value),r=this._ordinalMeta.categories[i];return null==r?"":r+""}},t.prototype.count=function(){return this._extent[1]-this._extent[0]+1},t.prototype.unionExtentFromData=function(e,i){this.unionExtent(e.getApproximateExtent(i))},t.prototype.isInExtentRange=function(e){return e=this._getTickNumber(e),this._extent[0]<=e&&this._extent[1]>=e},t.prototype.getOrdinalMeta=function(){return this._ordinalMeta},t.prototype.niceTicks=function(){},t.prototype.niceExtent=function(){},t.type="ordinal",t}(vl);vl.registerClass(Ug);var Ic=hr,Ac=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type="interval",e._interval=0,e._intervalPrecision=2,e}return ue(t,n),t.prototype.parse=function(e){return e},t.prototype.contain=function(e){return Bg(e,this._extent)},t.prototype.normalize=function(e){return Fg(e,this._extent)},t.prototype.scale=function(e){return Hg(e,this._extent)},t.prototype.setExtent=function(e,i){var r=this._extent;isNaN(e)||(r[0]=parseFloat(e)),isNaN(i)||(r[1]=parseFloat(i))},t.prototype.unionExtent=function(e){var i=this._extent;e[0]<i[0]&&(i[0]=e[0]),e[1]>i[1]&&(i[1]=e[1]),this.setExtent(i[0],i[1])},t.prototype.getInterval=function(){return this._interval},t.prototype.setInterval=function(e){this._interval=e,this._niceExtent=this._extent.slice(),this._intervalPrecision=ZS(e)},t.prototype.getTicks=function(e){var i=this._interval,r=this._extent,o=this._niceExtent,a=this._intervalPrecision,s=[];if(!i)return s;r[0]<o[0]&&s.push(e?{value:Ic(o[0]-i,a)}:{value:r[0]});for(var l=o[0];l<=o[1]&&(s.push({value:l}),(l=Ic(l+i,a))!==s[s.length-1].value);)if(s.length>1e4)return[];var u=s.length?s[s.length-1].value:o[1];return r[1]>u&&s.push(e?{value:Ic(u+i,a)}:{value:r[1]}),s},t.prototype.getMinorTicks=function(e){for(var i=this.getTicks(!0),r=[],o=this.getExtent(),a=1;a<i.length;a++){for(var l=i[a-1],u=0,h=[],f=(i[a].value-l.value)/e;u<e-1;){var p=Ic(l.value+(u+1)*f);p>o[0]&&p<o[1]&&h.push(p),u++}r.push(h)}return r},t.prototype.getLabel=function(e,i){if(null==e)return"";var r=i&&i.precision;return null==r?r=Po(e.value)||0:"auto"===r&&(r=this._intervalPrecision),Em(Ic(e.value,r,!0))},t.prototype.niceTicks=function(e,i,r){e=e||5;var o=this._extent,a=o[1]-o[0];if(isFinite(a)){a<0&&(a=-a,o.reverse());var s=function mN(n,t,e,i){var r={},a=r.interval=Gc((n[1]-n[0])/t,!0);null!=e&&a<e&&(a=r.interval=e),null!=i&&a>i&&(a=r.interval=i);var l,u,s=r.intervalPrecision=ZS(a);return l=r.niceTickExtent=[KS(Math.ceil(n[0]/a)*a,s),KS(Math.floor(n[1]/a)*a,s)],u=n,!isFinite(l[0])&&(l[0]=u[0]),!isFinite(l[1])&&(l[1]=u[1]),JS(l,0,u),JS(l,1,u),l[0]>l[1]&&(l[0]=l[1]),r}(o,e,i,r);this._intervalPrecision=s.intervalPrecision,this._interval=s.interval,this._niceExtent=s.niceTickExtent}},t.prototype.niceExtent=function(e){var i=this._extent;if(i[0]===i[1])if(0!==i[0]){var r=i[0];e.fixMax||(i[1]+=r/2),i[0]-=r/2}else i[1]=1;isFinite(i[1]-i[0])||(i[0]=0,i[1]=1),this.niceTicks(e.splitNumber,e.minInterval,e.maxInterval);var a=this._interval;e.fixMin||(i[0]=Ic(Math.floor(i[0]/a)*a)),e.fixMax||(i[1]=Ic(Math.ceil(i[1]/a)*a))},t.type="interval",t}(vl);vl.registerClass(Ac);var Ry="__ec_stack_",Oy=typeof Float32Array<"u"?Float32Array:Array;function ky(n){return n.get("stack")||Ry+n.seriesIndex}function Py(n){return n.dim+n.index}function QS(n,t){var e=[];return t.eachSeriesByType(n,function(i){nw(i)&&!iw(i)&&e.push(i)}),e}function By(n){var t=function(i){var r={};Y(i,function(f){var p=f.coordinateSystem.getBaseAxis();if("time"===p.type||"value"===p.type)for(var g=f.getData(),v=p.dim+"_"+p.index,m=g.getDimensionIndex(g.mapDimension(p.dim)),y=g.getStore(),b=0,S=y.count();b<S;++b){var E=y.get(m,b);r[v]?r[v].push(E):r[v]=[E]}});var o={};for(var a in r)if(r.hasOwnProperty(a)){var s=r[a];if(s){s.sort(function(f,p){return f-p});for(var l=null,u=1;u<s.length;++u){var h=s[u]-s[u-1];h>0&&(l=null===l?h:Math.min(l,h))}o[a]=l}}return o}(n),e=[];return Y(n,function(i){var r,o=i.coordinateSystem.getBaseAxis(),a=o.getExtent();if("category"===o.type)r=o.getBandWidth();else if("value"===o.type||"time"===o.type){var l=t[o.dim+"_"+o.index],u=Math.abs(a[1]-a[0]),h=o.scale.getExtent(),f=Math.abs(h[1]-h[0]);r=l?u/f*l:u}else{var p=i.getData();r=Math.abs(a[1]-a[0])/p.count()}var g=kt(i.get("barWidth"),r),v=kt(i.get("barMaxWidth"),r),m=kt(i.get("barMinWidth")||1,r),y=i.get("barGap"),b=i.get("barCategoryGap");e.push({bandWidth:r,barWidth:g,barMaxWidth:v,barMinWidth:m,barGap:y,barCategoryGap:b,axisKey:Py(o),stackId:ky(i)})}),$S(e)}function $S(n){var t={};Y(n,function(i,r){var o=i.axisKey,a=i.bandWidth,s=t[o]||{bandWidth:a,remainedWidth:a,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},l=s.stacks;t[o]=s;var u=i.stackId;l[u]||s.autoWidthCount++,l[u]=l[u]||{width:0,maxWidth:0};var h=i.barWidth;h&&!l[u].width&&(l[u].width=h,h=Math.min(s.remainedWidth,h),s.remainedWidth-=h);var f=i.barMaxWidth;f&&(l[u].maxWidth=f);var p=i.barMinWidth;p&&(l[u].minWidth=p);var g=i.barGap;null!=g&&(s.gap=g);var v=i.barCategoryGap;null!=v&&(s.categoryGap=v)});var e={};return Y(t,function(i,r){e[r]={};var o=i.stacks,a=i.bandWidth,s=i.categoryGap;if(null==s){var l=Mt(o).length;s=Math.max(35-4*l,15)+"%"}var u=kt(s,a),h=kt(i.gap,1),f=i.remainedWidth,p=i.autoWidthCount,g=(f-u)/(p+(p-1)*h);g=Math.max(g,0),Y(o,function(b){var S=b.maxWidth,E=b.minWidth;if(b.width)I=b.width,S&&(I=Math.min(I,S)),E&&(I=Math.max(I,E)),b.width=I,f-=I+h*I,p--;else{var I=g;S&&S<I&&(I=Math.min(S,f)),E&&E>I&&(I=E),I!==g&&(b.width=I,f-=I+h*I,p--)}}),g=(f-u)/(p+(p-1)*h),g=Math.max(g,0);var v,m=0;Y(o,function(b,S){b.width||(b.width=g),v=b,m+=b.width*(1+h)}),v&&(m-=v.width*h);var y=-m/2;Y(o,function(b,S){e[r][S]=e[r][S]||{bandWidth:a,offset:y,width:b.width},y+=b.width*(1+h)})}),e}function ew(n,t,e){if(n&&t){var i=n[Py(t)];return null!=i&&null!=e?i[ky(e)]:i}}function tw(n,t){var e=QS(n,t),i=By(e),r={};Y(e,function(o){var a=o.getData(),s=o.coordinateSystem,l=s.getBaseAxis(),u=ky(o),h=i[Py(l)][u],f=h.offset,p=h.width,g=s.getOtherAxis(l),v=o.get("barMinHeight")||0;r[u]=r[u]||[],a.setLayout({bandWidth:h.bandWidth,offset:f,size:p});for(var m=a.mapDimension(g.dim),y=a.mapDimension(l.dim),b=zl(a,m),S=g.isHorizontal(),E=rw(0,g),I=a.getStore(),A=a.getDimensionIndex(m),L=a.getDimensionIndex(y),R=0,k=I.count();R<k;R++){var H=I.get(A,R),U=I.get(L,R),G=H>=0?"p":"n",K=E;b&&(r[u][U]||(r[u][U]={p:E,n:E}),K=r[u][U][G]);var $,ee=void 0,le=void 0,he=void 0,ge=void 0;S?(ee=K,le=($=s.dataToPoint([H,U]))[1]+f,he=$[0]-E,ge=p,Math.abs(he)<v&&(he=(he<0?-1:1)*v),isNaN(he)||b&&(r[u][U][G]+=he)):(ee=($=s.dataToPoint([U,H]))[0]+f,le=K,he=p,ge=$[1]-E,Math.abs(ge)<v&&(ge=(ge<=0?-1:1)*v),isNaN(ge)||b&&(r[u][U][G]+=ge)),a.setItemLayout(R,{x:ee,y:le,width:he,height:ge})}})}var yN={seriesType:"bar",plan:Eh(),reset:function(n){if(nw(n)&&iw(n)){var t=n.getData(),e=n.coordinateSystem,i=e.master.getRect(),r=e.getBaseAxis(),o=e.getOtherAxis(r),a=t.getDimensionIndex(t.mapDimension(o.dim)),s=t.getDimensionIndex(t.mapDimension(r.dim)),l=o.isHorizontal(),u=l?0:1,h=ew(By([n]),r,n).width;return h>.5||(h=.5),{progress:function(f,p){for(var g,v=f.count,m=new Oy(2*v),y=new Oy(2*v),b=new Oy(v),S=[],E=[],I=0,A=0,L=p.getStore();null!=(g=f.next());)E[u]=L.get(a,g),E[1-u]=L.get(s,g),S=e.dataToPoint(E,null),y[I]=l?i.x+i.width:S[0],m[I++]=S[0],y[I]=l?S[1]:i.y+i.height,m[I++]=S[1],b[A++]=g;p.setLayout({largePoints:m,largeDataIndices:b,largeBackgroundPoints:y,barWidth:h,valueAxisStart:rw(0,o),backgroundStart:l?i.x:i.y,valueAxisHorizontal:l})}}}}};function nw(n){return n.coordinateSystem&&"cartesian2d"===n.coordinateSystem.type}function iw(n){return n.pipelineContext&&n.pipelineContext.large}function rw(n,t,e){return t.toGlobalCoord(t.dataToCoord("log"===t.type?1:0))}var Fy=function(n){function t(e){var i=n.call(this,e)||this;return i.type="time",i}return ue(t,n),t.prototype.getLabel=function(e){var i=this.getSetting("useUTC");return Yf(e.value,rx[function(r){switch(r){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}(gh(this._minLevelUnit))]||rx.second,i,this.getSetting("locale"))},t.prototype.getFormattedLabel=function(e,i,r){var o=this.getSetting("useUTC");return function(a,s,l,u,h){var f=null;if("string"==typeof l)f=l;else if("function"==typeof l)f=l(a.value,s,{level:a.level});else{var p=se({},Wf);if(a.level>0)for(var g=0;g<wm.length;++g)p[wm[g]]="{primary|"+p[wm[g]]+"}";var v=l?!1===l.inherit?l:Ee(l,p):p,m=ax(a.value,h);if(v[m])f=v[m];else if(v.inherit){for(g=ox.indexOf(m)-1;g>=0;--g)if(v[m]){f=v[m];break}f=f||p.none}if(rt(f)){var y=null==a.level?0:a.level>=0?a.level:f.length+a.level;f=f[y=Math.min(y,f.length-1)]}}return Yf(new Date(a.value),f,h,u)}(e,i,r,this.getSetting("locale"),o)},t.prototype.getTicks=function(e){var r=this._extent,o=[];if(!this._interval)return o;o.push({value:r[0],level:0});var a=this.getSetting("useUTC"),s=function(l,u,h,f){var g=ox,v=0;function m(ge,me,be,Le,Ge,nt,xt){for(var Je=new Date(me),dt=me,Dt=Je[Le]();dt<be&&dt<=f[1];)xt.push({value:dt}),Je[Ge](Dt+=ge),dt=Je.getTime();xt.push({value:dt,notAdd:!0})}function y(ge,me,be){var Le=[],Ge=!me.length;if(!function(Yt,Xt,un,dn){var mn=io(Xt),Zi=io(un),Gi=function(On){return sx(mn,On,dn)===sx(Zi,On,dn)},Wn=function(){return Gi("year")},Hn=function(){return Wn()&&Gi("month")},ar=function(){return Hn()&&Gi("day")},Oi=function(){return ar()&&Gi("hour")},zo=function(){return Oi()&&Gi("minute")},aa=function(){return zo()&&Gi("second")};switch(Yt){case"year":return Wn();case"month":return Hn();case"day":return ar();case"hour":return Oi();case"minute":return zo();case"second":return aa();case"millisecond":return aa()&&Gi("millisecond")}}(gh(ge),f[0],f[1],h)){Ge&&(me=[{value:wN(new Date(f[0]),ge,h)},{value:f[1]}]);for(var nt=0;nt<me.length-1;nt++){var xt=me[nt].value,Je=me[nt+1].value;if(xt!==Je){var dt=void 0,Dt=void 0,Tt=void 0;switch(ge){case"year":dt=Math.max(1,Math.round(u/Gf/365)),Dt=Tm(h),Tt=CL(h);break;case"half-year":case"quarter":case"month":dt=xN(u),Dt=vh(h),Tt=lx(h);break;case"week":case"half-week":case"day":dt=_N(u),Dt=eg(h),Tt=ux(h);break;case"half-day":case"quarter-day":case"hour":dt=bN(u),Dt=Xf(h),Tt=cx(h);break;case"minute":dt=ow(u,!0),Dt=tg(h),Tt=hx(h);break;case"second":dt=ow(u,!1),Dt=ng(h),Tt=fx(h);break;case"millisecond":dt=SN(u),Dt=ig(h),Tt=dx(h)}m(dt,xt,Je,Dt,Tt,0,Le),"year"===ge&&be.length>1&&0===nt&&be.unshift({value:be[0].value-dt})}}for(nt=0;nt<Le.length;nt++)be.push(Le[nt]);return Le}}for(var b=[],S=[],E=0,I=0,A=0;A<g.length&&v++<1e4;++A){var L=gh(g[A]);if(EL(g[A])&&(y(g[A],b[b.length-1]||[],S),L!==(g[A+1]?gh(g[A+1]):null))){if(S.length){I=E,S.sort(function(ge,me){return ge.value-me.value});for(var R=[],k=0;k<S.length;++k){var H=S[k].value;0!==k&&S[k-1].value===H||(R.push(S[k]),H>=f[0]&&H<=f[1]&&E++)}var U=(f[1]-f[0])/u;if(E>1.5*U&&I>U/1.5||(b.push(R),E>U||l===g[A]))break}S=[]}}var G=jt(Ve(b,function(ge){return jt(ge,function(me){return me.value>=f[0]&&me.value<=f[1]&&!me.notAdd})}),function(ge){return ge.length>0}),K=[],$=G.length-1;for(A=0;A<G.length;++A)for(var ee=G[A],le=0;le<ee.length;++le)K.push({value:ee[le].value,level:$-A});K.sort(function(ge,me){return ge.value-me.value});var he=[];for(A=0;A<K.length;++A)0!==A&&K[A].value===K[A-1].value||he.push(K[A]);return he}(this._minLevelUnit,this._approxInterval,a,r);return(o=o.concat(s)).push({value:r[1],level:0}),o},t.prototype.niceExtent=function(e){var i=this._extent;if(i[0]===i[1]&&(i[0]-=Gf,i[1]+=Gf),i[1]===-1/0&&i[0]===1/0){var r=new Date;i[1]=+new Date(r.getFullYear(),r.getMonth(),r.getDate()),i[0]=i[1]-Gf}this.niceTicks(e.splitNumber,e.minInterval,e.maxInterval)},t.prototype.niceTicks=function(e,i,r){var o=this._extent;this._approxInterval=(o[1]-o[0])/(e=e||10),null!=i&&this._approxInterval<i&&(this._approxInterval=i),null!=r&&this._approxInterval>r&&(this._approxInterval=r);var s=zg.length,l=Math.min(function(u,h,f,p){for(;f<p;){var g=f+p>>>1;u[g][1]<h?f=g+1:p=g}return f}(zg,this._approxInterval,0,s),s-1);this._interval=zg[l][1],this._minLevelUnit=zg[Math.max(l-1,0)][0]},t.prototype.parse=function(e){return"number"==typeof e?e:+io(e)},t.prototype.contain=function(e){return Bg(this.parse(e),this._extent)},t.prototype.normalize=function(e){return Fg(this.parse(e),this._extent)},t.prototype.scale=function(e){return Hg(e,this._extent)},t.type="time",t}(Ac),zg=[["second",1e3],["minute",6e4],["hour",36e5],["quarter-day",216e5],["half-day",432e5],["day",10368e4],["half-week",3024e5],["week",6048e5],["month",26784e5],["quarter",8208e6],["half-year",ix/2],["year",ix]];function _N(n,t){return(n/=Gf)>16?16:n>7.5?7:n>3.5?4:n>1.5?2:1}function xN(n){return(n/=2592e6)>6?6:n>3?3:n>2?2:1}function bN(n){return(n/=36e5)>12?12:n>6?6:n>3.5?4:n>2?2:1}function ow(n,t){return(n/=t?6e4:1e3)>30?30:n>20?20:n>15?15:n>10?10:n>5?5:n>2?2:1}function SN(n){return Gc(n,!0)}function wN(n,t,e){var i=new Date(n);switch(gh(t)){case"year":case"month":i[lx(e)](0);case"day":i[ux(e)](1);case"hour":i[cx(e)](0);case"minute":i[hx(e)](0);case"second":i[fx(e)](0),i[dx(e)](0)}return i.getTime()}vl.registerClass(Fy);var aw=vl.prototype,md=Ac.prototype,TN=hr,EN=Math.floor,CN=Math.ceil,Vg=Math.pow,os=Math.log,Hy=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type="log",e.base=10,e._originalScale=new Ac,e._interval=0,e}return ue(t,n),t.prototype.getTicks=function(e){var r=this._extent,o=this._originalScale.getExtent();return Ve(md.getTicks.call(this,e),function(a){var s=a.value,l=hr(Vg(this.base,s));return l=s===r[0]&&this._fixMin?Gg(l,o[0]):l,{value:l=s===r[1]&&this._fixMax?Gg(l,o[1]):l}},this)},t.prototype.setExtent=function(e,i){var r=this.base;e=os(e)/os(r),i=os(i)/os(r),md.setExtent.call(this,e,i)},t.prototype.getExtent=function(){var e=this.base,i=aw.getExtent.call(this);i[0]=Vg(e,i[0]),i[1]=Vg(e,i[1]);var r=this._originalScale.getExtent();return this._fixMin&&(i[0]=Gg(i[0],r[0])),this._fixMax&&(i[1]=Gg(i[1],r[1])),i},t.prototype.unionExtent=function(e){this._originalScale.unionExtent(e);var i=this.base;e[0]=os(e[0])/os(i),e[1]=os(e[1])/os(i),aw.unionExtent.call(this,e)},t.prototype.unionExtentFromData=function(e,i){this.unionExtent(e.getApproximateExtent(i))},t.prototype.niceTicks=function(e){e=e||10;var i=this._extent,r=i[1]-i[0];if(!(r===1/0||r<=0)){var o=ap(r);for(e/r*o<=.5&&(o*=10);!isNaN(o)&&Math.abs(o)<1&&Math.abs(o)>0;)o*=10;var a=[hr(CN(i[0]/o)*o),hr(EN(i[1]/o)*o)];this._interval=o,this._niceExtent=a}},t.prototype.niceExtent=function(e){md.niceExtent.call(this,e),this._fixMin=e.fixMin,this._fixMax=e.fixMax},t.prototype.parse=function(e){return e},t.prototype.contain=function(e){return Bg(e=os(e)/os(this.base),this._extent)},t.prototype.normalize=function(e){return Fg(e=os(e)/os(this.base),this._extent)},t.prototype.scale=function(e){return e=Hg(e,this._extent),Vg(this.base,e)},t.type="log",t}(vl),sw=Hy.prototype;function Gg(n,t){return TN(n,Po(t))}sw.getMinorTicks=md.getMinorTicks,sw.getLabel=md.getLabel,vl.registerClass(Hy);var IN=function(){function n(t,e,i){this._prepareParams(t,e,i)}return n.prototype._prepareParams=function(t,e,i){i[1]<i[0]&&(i=[NaN,NaN]),this._dataMin=i[0],this._dataMax=i[1];var r=this._isOrdinal="ordinal"===t.type;this._needCrossZero=e.getNeedCrossZero&&e.getNeedCrossZero();var o=this._modelMinRaw=e.get("min",!0);sn(o)?this._modelMinNum=Rh(t,o({min:i[0],max:i[1]})):"dataMin"!==o&&(this._modelMinNum=Rh(t,o));var a=this._modelMaxRaw=e.get("max",!0);if(sn(a)?this._modelMaxNum=Rh(t,a({min:i[0],max:i[1]})):"dataMax"!==a&&(this._modelMaxNum=Rh(t,a)),r)this._axisDataLen=e.getCategories().length;else{var s=e.get("boundaryGap"),l=rt(s)?s:[s||0,s||0];this._boundaryGapInner="boolean"==typeof l[0]||"boolean"==typeof l[1]?[0,0]:[Ct(l[0],1),Ct(l[1],1)]}},n.prototype.calculate=function(){var t=this._isOrdinal,e=this._dataMin,i=this._dataMax,r=this._axisDataLen,o=this._boundaryGapInner,a=t?null:i-e||Math.abs(e),s="dataMin"===this._modelMinRaw?e:this._modelMinNum,l="dataMax"===this._modelMaxRaw?i:this._modelMaxNum,u=null!=s,h=null!=l;null==s&&(s=t?r?0:NaN:e-o[0]*a),null==l&&(l=t?r?r-1:NaN:i+o[1]*a),(null==s||!isFinite(s))&&(s=NaN),(null==l||!isFinite(l))&&(l=NaN),s>l&&(s=NaN,l=NaN);var f=ti(s)||ti(l)||t&&!r;this._needCrossZero&&(s>0&&l>0&&!u&&(s=0),s<0&&l<0&&!h&&(l=0));var p=this._determinedMin,g=this._determinedMax;return null!=p&&(s=p,u=!0),null!=g&&(l=g,h=!0),{min:s,max:l,minFixed:u,maxFixed:h,isBlank:f}},n.prototype.modifyDataMinMax=function(t,e){this[MN[t]]=e},n.prototype.setDeterminedMinMax=function(t,e){this[AN[t]]=e},n.prototype.freeze=function(){this.frozen=!0},n}(),AN={min:"_determinedMin",max:"_determinedMax"},MN={min:"_dataMin",max:"_dataMax"};function lw(n,t,e){var i=n.rawExtentInfo;return i||(i=new IN(n,t,e),n.rawExtentInfo=i,i)}function Rh(n,t){return null==t?null:ti(t)?NaN:n.parse(t)}function uw(n,t){var e=n.type,i=lw(n,t,n.getExtent()).calculate();n.setBlank(i.isBlank);var r=i.min,o=i.max,a=t.ecModel;if(a&&"time"===e){var s=QS("bar",a),l=!1;if(Y(s,function(f){l=l||f.getBaseAxis()===t.axis}),l){var u=By(s),h=function(f,p,g,v){var m=g.axis.getExtent(),y=m[1]-m[0],b=ew(v,g.axis);if(void 0===b)return{min:f,max:p};var S=1/0;Y(b,function(R){S=Math.min(R.offset,S)});var E=-1/0;Y(b,function(R){E=Math.max(R.offset+R.width,E)}),S=Math.abs(S),E=Math.abs(E);var I=S+E,A=p-f,L=A/(1-(S+E)/y)-A;return{min:f-=L*(S/I),max:p+=L*(E/I)}}(r,o,t,u);r=h.min,o=h.max}}return{extent:[r,o],fixMin:i.minFixed,fixMax:i.maxFixed}}function Ru(n,t){var e=t,i=uw(n,e),r=i.extent,o=e.get("splitNumber");n instanceof Hy&&(n.base=e.get("logBase"));var a=n.type;n.setExtent(r[0],r[1]),n.niceExtent({splitNumber:o,fixMin:i.fixMin,fixMax:i.fixMax,minInterval:"interval"===a||"time"===a?e.get("minInterval"):null,maxInterval:"interval"===a||"time"===a?e.get("maxInterval"):null});var s=e.get("interval");null!=s&&n.setInterval&&n.setInterval(s)}function yd(n,t){if(t=t||n.get("type"))switch(t){case"category":return new Ug({ordinalMeta:n.getOrdinalMeta?n.getOrdinalMeta():n.getCategories(),extent:[1/0,-1/0]});case"time":return new Fy({locale:n.ecModel.getLocaleModel(),useUTC:n.ecModel.get("useUTC")});default:return new(vl.getClass(t)||Ac)}}function _d(n){var t,e,o,i=n.getLabelModel().get("formatter"),r="category"===n.type?n.scale.getExtent()[0]:null;return"time"===n.scale.type?(e=i,function(o,a){return n.scale.getFormattedLabel(o,a,e)}):"string"==typeof i?(o=i,function(a){var s=n.scale.getLabel(a);return o.replace("{value}",s??"")}):"function"==typeof i?(t=i,function(o,a){return null!=r&&(a=o.value-r),t(Uy(n,o),a,null!=o.level?{level:o.level}:null)}):function(o){return n.scale.getLabel(o)}}function Uy(n,t){return"category"===n.type?n.scale.getLabel(t):t.value}function LN(n,t){var e=t*Math.PI/180,i=n.width,r=n.height,o=i*Math.abs(Math.cos(e))+Math.abs(r*Math.sin(e)),a=i*Math.abs(Math.sin(e))+Math.abs(r*Math.cos(e));return new cn(n.x,n.y,o,a)}function zy(n){return n.get("interval")??"auto"}function cw(n){return"category"===n.type&&0===zy(n.getLabelModel())}function Wg(n,t){var e={};return Y(n.mapDimensionsAll(t),function(i){e[Dy(n,i)]=!0}),Mt(e)}var Oh=function(){function n(){}return n.prototype.getNeedCrossZero=function(){return!this.option.scale},n.prototype.getCoordSysModel=function(){},n}(),NN=Object.freeze({__proto__:null,createList:function(n){return gl(null,n)},getLayoutRect:Br,dataStack:{isDimensionStacked:zl,enableDataStack:qS,getStackedDimension:Dy},createScale:function(n,t){var e=t;t instanceof Qn||(e=new Qn(t));var i=yd(e);return i.setExtent(n[0],n[1]),Ru(i,e),i},mixinAxisModelCommonMethods:function(n){lt(n,Oh)},getECData:pn,createTextStyle:function(n,t){return _r(n,null,null,"normal"!==(t=t||{}).state)},createDimensions:function(n,t){return Dh(n,t).dimensions},createSymbol:Er,enableHoverEmphasis:_}),RN=Object.freeze({__proto__:null,linearMap:Jn,round:hr,asc:Kr,getPrecision:Po,getPrecisionSafe:rf,getPixelPrecision:eu,getPercentWithPrecision:op,MAX_SAFE_INTEGER:of,remRadian:qu,isRadianAroundZero:Cl,parseDate:io,quantity:ap,quantityExponent:nu,nice:Gc,quantile:el,reformIntervals:Wc,isNumeric:Il,numericToNumber:po}),ON=Object.freeze({__proto__:null,parse:io,format:Yf}),kN=Object.freeze({__proto__:null,extendShape:B1,extendPath:F1,makePath:Ff,makeImage:fm,mergePath:ka,resizePath:dm,createIcon:fh,updateProps:Un,initProps:Vi,getTransform:Su,clipPointsByRect:pm,clipRectByRect:z1,registerShape:ts,getShapeClass:jp,Group:Ft,Image:fr,Text:Nn,Circle:gi,Ellipse:Or,Sector:Bo,Ring:lh,Polygon:Lo,Polyline:na,Rect:kn,Line:$r,BezierCurve:uh,Arc:kf,IncrementalDisplayable:Pf,CompoundPath:lm,LinearGradient:ch,RadialGradient:um,BoundingRect:cn}),PN=Object.freeze({__proto__:null,addCommas:Em,toCamelCase:Cm,normalizeCssArray:mc,encodeHTML:va,formatTpl:Am,getTooltipMarker:gx,formatTime:function(n,t,e){"week"!==n&&"month"!==n&&"quarter"!==n&&"half-year"!==n&&"year"!==n||(n="MM-dd\nyyyy");var i=io(t),r=e?"UTC":"",o=i["get"+r+"FullYear"](),a=i["get"+r+"Month"]()+1,s=i["get"+r+"Date"](),l=i["get"+r+"Hours"](),u=i["get"+r+"Minutes"](),h=i["get"+r+"Seconds"](),f=i["get"+r+"Milliseconds"]();return n.replace("MM",Pa(a,2)).replace("M",a).replace("yyyy",o).replace("yy",o%100+"").replace("dd",Pa(s,2)).replace("d",s).replace("hh",Pa(l,2)).replace("h",l).replace("mm",Pa(u,2)).replace("m",u).replace("ss",Pa(h,2)).replace("s",h).replace("SSS",Pa(f,3))},capitalFirst:function(n){return n&&n.charAt(0).toUpperCase()+n.substr(1)},truncateText:Kc,getTextRect:function(n,t,e,i,r,o,a,s){return new Nn({style:{text:n,font:t,align:e,verticalAlign:i,padding:r,rich:o,overflow:a?"truncate":null,lineHeight:s}}).getBoundingRect()}}),BN=Object.freeze({__proto__:null,map:Ve,each:Y,indexOf:pe,inherits:C,reduce:zt,filter:jt,bind:mt,curry:Lt,isArray:rt,isString:Jt,isObject:Bt,isFunction:sn,extend:se,defaults:Ee,clone:Te,merge:Ie}),xd=Fn();function hw(n,t){var i,s,r=fw(n,"labels"),o=zy(t);return dw(r,o)||pw(r,o,{labels:sn(o)?vw(n,o):gw(n,i="auto"===o?xd(s=n).autoInterval??(xd(s).autoInterval=s.calculateCategoryInterval()):o),labelCategoryInterval:i})}function fw(n,t){return xd(n)[t]||(xd(n)[t]=[])}function dw(n,t){for(var e=0;e<n.length;e++)if(n[e].key===t)return n[e].value}function pw(n,t,e){return n.push({key:t,value:e}),e}function gw(n,t,e){var i=_d(n),r=n.scale,o=r.getExtent(),a=n.getLabelModel(),s=[],l=Math.max((t||0)+1,1),u=o[0],h=r.count();0!==u&&l>1&&h/l>2&&(u=Math.round(Math.ceil(u/l)*l));var f=cw(n),p=a.get("showMinLabel")||f,g=a.get("showMaxLabel")||f;p&&u!==o[0]&&m(o[0]);for(var v=u;v<=o[1];v+=l)m(v);function m(y){var b={value:y};s.push(e?y:{formattedLabel:i(b),rawLabel:r.getLabel(b),tickValue:y})}return g&&v-l!==o[1]&&m(o[1]),s}function vw(n,t,e){var i=n.scale,r=_d(n),o=[];return Y(i.getTicks(),function(a){var s=i.getLabel(a),l=a.value;t(a.value,s)&&o.push(e?l:{formattedLabel:r(a),rawLabel:s,tickValue:l})}),o}var mw=[0,1],as=function(){function n(t,e,i){this.onBand=!1,this.inverse=!1,this.dim=t,this.scale=e,this._extent=i||[0,0]}return n.prototype.contain=function(t){var e=this._extent,i=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]);return t>=i&&t<=r},n.prototype.containData=function(t){return this.scale.contain(t)},n.prototype.getExtent=function(){return this._extent.slice()},n.prototype.getPixelPrecision=function(t){return eu(t||this.scale.getExtent(),this._extent)},n.prototype.setExtent=function(t,e){var i=this._extent;i[0]=t,i[1]=e},n.prototype.dataToCoord=function(t,e){var i=this._extent,r=this.scale;return t=r.normalize(t),this.onBand&&"ordinal"===r.type&&yw(i=i.slice(),r.count()),Jn(t,mw,i,e)},n.prototype.coordToData=function(t,e){var i=this._extent,r=this.scale;this.onBand&&"ordinal"===r.type&&yw(i=i.slice(),r.count());var o=Jn(t,i,mw,e);return this.scale.scale(o)},n.prototype.pointToData=function(t,e){},n.prototype.getTicksCoords=function(t){var e=(t=t||{}).tickModel||this.getTickModel(),i=Ve(function HN(n,t){return"category"===n.type?function(e,i){var r,o,a=fw(e,"ticks"),s=zy(i),l=dw(a,s);if(l)return l;if(i.get("show")&&!e.scale.isBlank()||(r=[]),sn(s))r=vw(e,s,!0);else if("auto"===s){var u=hw(e,e.getLabelModel());o=u.labelCategoryInterval,r=Ve(u.labels,function(h){return h.tickValue})}else r=gw(e,o=s,!0);return pw(a,s,{ticks:r,tickCategoryInterval:o})}(n,t):{ticks:Ve(n.scale.getTicks(),function(e){return e.value})}}(this,e).ticks,function(r){return{coord:this.dataToCoord("ordinal"===this.scale.type?this.scale.getRawOrdinalNumber(r):r),tickValue:r}},this);return function(r,o,a,s){var l=o.length;if(r.onBand&&!a&&l){var u,h,f=r.getExtent();if(1===l)o[0].coord=f[0],u=o[1]={coord:f[0]};else{var g=(o[l-1].coord-o[0].coord)/(o[l-1].tickValue-o[0].tickValue);Y(o,function(y){y.coord-=g/2}),h=1+r.scale.getExtent()[1]-o[l-1].tickValue,o.push(u={coord:o[l-1].coord+g*h})}var v=f[0]>f[1];m(o[0].coord,f[0])&&(s?o[0].coord=f[0]:o.shift()),s&&m(f[0],o[0].coord)&&o.unshift({coord:f[0]}),m(f[1],u.coord)&&(s?u.coord=f[1]:o.pop()),s&&m(u.coord,f[1])&&o.push({coord:f[1]})}function m(y,b){return y=hr(y),b=hr(b),v?y>b:y<b}}(this,i,e.get("alignWithLabel"),t.clamp),i},n.prototype.getMinorTicksCoords=function(){if("ordinal"===this.scale.type)return[];var t=this.model.getModel("minorTick").get("splitNumber");return t>0&&t<100||(t=5),Ve(this.scale.getMinorTicks(t),function(e){return Ve(e,function(i){return{coord:this.dataToCoord(i),tickValue:i}},this)},this)},n.prototype.getViewLabels=function(){return function FN(n){return"category"===n.type?function(t){var e=t.getLabelModel(),i=hw(t,e);return!e.get("show")||t.scale.isBlank()?{labels:[],labelCategoryInterval:i.labelCategoryInterval}:i}(n):function(t){var e=t.scale.getTicks(),i=_d(t);return{labels:Ve(e,function(r,o){return{level:r.level,formattedLabel:i(r,o),rawLabel:t.scale.getLabel(r),tickValue:r.value}})}}(n)}(this).labels},n.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},n.prototype.getTickModel=function(){return this.model.getModel("axisTick")},n.prototype.getBandWidth=function(){var t=this._extent,e=this.scale.getExtent(),i=e[1]-e[0]+(this.onBand?1:0);0===i&&(i=1);var r=Math.abs(t[1]-t[0]);return Math.abs(r)/i},n.prototype.calculateCategoryInterval=function(){return function(t){var H,U,e=(U=(H=t).getLabelModel(),{axisRotate:H.getRotate?H.getRotate():H.isHorizontal&&!H.isHorizontal()?90:0,labelRotate:U.get("rotate")||0,font:U.getFont()}),i=_d(t),r=(e.axisRotate-e.labelRotate)/180*Math.PI,o=t.scale,a=o.getExtent(),s=o.count();if(a[1]-a[0]<1)return 0;var l=1;s>40&&(l=Math.max(1,Math.floor(s/40)));for(var u=a[0],h=t.dataToCoord(u+1)-t.dataToCoord(u),f=Math.abs(h*Math.cos(r)),p=Math.abs(h*Math.sin(r)),g=0,v=0;u<=a[1];u+=l){var y,b=Ue(i({value:u}),e.font,"center","top");y=1.3*b.height,g=Math.max(g,1.3*b.width,7),v=Math.max(v,y,7)}var S=g/f,E=v/p;isNaN(S)&&(S=1/0),isNaN(E)&&(E=1/0);var I=Math.max(0,Math.floor(Math.min(S,E))),A=xd(t.model),L=t.getExtent(),R=A.lastAutoInterval,k=A.lastTickCount;return null!=R&&null!=k&&Math.abs(R-I)<=1&&Math.abs(k-s)<=1&&R>I&&A.axisExtent0===L[0]&&A.axisExtent1===L[1]?I=R:(A.lastTickCount=s,A.lastAutoInterval=I,A.axisExtent0=L[0],A.axisExtent1=L[1]),I}(this)},n}();function yw(n,t){var e=(n[1]-n[0])/t/2;n[0]+=e,n[1]-=e}var bd=2*Math.PI,Mc=vo.CMD,UN=["top","right","bottom","left"];function zN(n,t,e,i,r){var o=e.width,a=e.height;switch(n){case"top":i.set(e.x+o/2,e.y-t),r.set(0,-1);break;case"bottom":i.set(e.x+o/2,e.y+a+t),r.set(0,1);break;case"left":i.set(e.x-t,e.y+a/2),r.set(-1,0);break;case"right":i.set(e.x+o+t,e.y+a/2),r.set(1,0)}}function VN(n,t,e,i,r,o,a,s,l){a-=n,s-=t;var u=Math.sqrt(a*a+s*s),h=(a/=u)*e+n,f=(s/=u)*e+t;if(Math.abs(i-r)%bd<1e-4)return l[0]=h,l[1]=f,u-e;if(o){var p=i;i=ll(r),r=ll(p)}else i=ll(i),r=ll(r);i>r&&(r+=bd);var g=Math.atan2(s,a);if(g<0&&(g+=bd),g>=i&&g<=r||g+bd>=i&&g+bd<=r)return l[0]=h,l[1]=f,u-e;var v=e*Math.cos(i)+n,m=e*Math.sin(i)+t,y=e*Math.cos(r)+n,b=e*Math.sin(r)+t,S=(v-a)*(v-a)+(m-s)*(m-s),E=(y-a)*(y-a)+(b-s)*(b-s);return S<E?(l[0]=v,l[1]=m,Math.sqrt(S)):(l[0]=y,l[1]=b,Math.sqrt(E))}function Yg(n,t,e,i,r,o,a,s){var l=r-n,u=o-t,h=e-n,f=i-t,p=Math.sqrt(h*h+f*f),g=(l*(h/=p)+u*(f/=p))/p;s&&(g=Math.min(Math.max(g,0),1));var v=a[0]=n+(g*=p)*h,m=a[1]=t+g*f;return Math.sqrt((v-r)*(v-r)+(m-o)*(m-o))}function _w(n,t,e,i,r,o,a){e<0&&(n+=e,e=-e),i<0&&(t+=i,i=-i);var s=n+e,l=t+i,u=a[0]=Math.min(Math.max(r,n),s),h=a[1]=Math.min(Math.max(o,t),l);return Math.sqrt((u-r)*(u-r)+(h-o)*(h-o))}var zs=[];function GN(n,t,e){var i=_w(t.x,t.y,t.width,t.height,n.x,n.y,zs);return e.set(zs[0],zs[1]),i}function WN(n,t,e){for(var i,r,o=0,a=0,s=0,l=0,u=1/0,h=t.data,f=n.x,p=n.y,g=0;g<h.length;){var v=h[g++];1===g&&(s=o=h[g],l=a=h[g+1]);var m=u;switch(v){case Mc.M:o=s=h[g++],a=l=h[g++];break;case Mc.L:m=Yg(o,a,h[g],h[g+1],f,p,zs,!0),o=h[g++],a=h[g++];break;case Mc.C:m=yf(o,a,h[g++],h[g++],h[g++],h[g++],h[g],h[g+1],f,p,zs),o=h[g++],a=h[g++];break;case Mc.Q:m=Dl(o,a,h[g++],h[g++],h[g],h[g+1],f,p,zs),o=h[g++],a=h[g++];break;case Mc.A:var y=h[g++],b=h[g++],S=h[g++],E=h[g++],I=h[g++],A=h[g++];g+=1;var L=!!(1-h[g++]);i=Math.cos(I)*S+y,r=Math.sin(I)*E+b,g<=1&&(s=i,l=r),m=VN(y,b,E,I,I+A,L,(f-y)*E/S+y,p,zs),o=Math.cos(I+A)*S+y,a=Math.sin(I+A)*E+b;break;case Mc.R:m=_w(s=o=h[g++],l=a=h[g++],h[g++],h[g++],f,p,zs);break;case Mc.Z:m=Yg(o,a,s,l,f,p,zs,!0),o=s,a=l}m<u&&(u=m,e.set(zs[0],zs[1]))}return u}var Vs=new gn,Ri=new gn,Cr=new gn,ml=new gn,yl=new gn;function xw(n,t){if(n){var e=n.getTextGuideLine(),i=n.getTextContent();if(i&&e){var r=n.textGuideLineConfig||{},o=[[0,0],[0,0],[0,0]],a=r.candidates||UN,s=i.getBoundingRect().clone();s.applyTransform(i.getComputedTransform());var l=1/0,u=r.anchor,h=n.getComputedTransform(),f=h&&Dr([],h),p=t.get("length2")||0;u&&Cr.copy(u);for(var g=0;g<a.length;g++){zN(a[g],0,s,Vs,ml),gn.scaleAndAdd(Ri,Vs,ml,p),Ri.transform(f);var v=n.getBoundingRect(),m=u?u.distance(Ri):n instanceof Mn?WN(Ri,n.path,Cr):GN(Ri,v,Cr);m<l&&(l=m,Ri.transform(h),Cr.transform(h),Cr.toArray(o[0]),Ri.toArray(o[1]),Vs.toArray(o[2]))}bw(o,t.get("minTurnAngle")),e.setShape({points:o})}}}var Xg=[],ra=new gn;function bw(n,t){if(t<=180&&t>0){t=t/180*Math.PI,Vs.fromArray(n[0]),Ri.fromArray(n[1]),Cr.fromArray(n[2]),gn.sub(ml,Vs,Ri),gn.sub(yl,Cr,Ri);var e=ml.len(),i=yl.len();if(!(e<.001||i<.001)){ml.scale(1/e),yl.scale(1/i);var r=ml.dot(yl);if(Math.cos(t)<r){var o=Yg(Ri.x,Ri.y,Cr.x,Cr.y,Vs.x,Vs.y,Xg,!1);ra.fromArray(Xg),ra.scaleAndAdd(yl,o/Math.tan(Math.PI-t));var a=Cr.x!==Ri.x?(ra.x-Ri.x)/(Cr.x-Ri.x):(ra.y-Ri.y)/(Cr.y-Ri.y);if(isNaN(a))return;a<0?gn.copy(ra,Ri):a>1&&gn.copy(ra,Cr),ra.toArray(n[1])}}}}function YN(n,t,e){if(e<=180&&e>0){e=e/180*Math.PI,Vs.fromArray(n[0]),Ri.fromArray(n[1]),Cr.fromArray(n[2]),gn.sub(ml,Ri,Vs),gn.sub(yl,Cr,Ri);var i=ml.len(),r=yl.len();if(!(i<.001||r<.001)&&(ml.scale(1/i),yl.scale(1/r),ml.dot(t)<Math.cos(e))){var o=Yg(Ri.x,Ri.y,Cr.x,Cr.y,Vs.x,Vs.y,Xg,!1);ra.fromArray(Xg);var a=Math.PI/2,s=a+Math.acos(yl.dot(t))-e;if(s>=a)gn.copy(ra,Cr);else{ra.scaleAndAdd(yl,o/Math.tan(Math.PI/2-s));var l=Cr.x!==Ri.x?(ra.x-Ri.x)/(Cr.x-Ri.x):(ra.y-Ri.y)/(Cr.y-Ri.y);if(isNaN(l))return;l<0?gn.copy(ra,Ri):l>1&&gn.copy(ra,Cr)}ra.toArray(n[1])}}}function Sw(n,t,e,i){var r="normal"===e,o=r?n:n.ensureState(e);o.ignore=t;var a=i.get("smooth");a&&!0===a&&(a=.3),o.shape=o.shape||{},a>0&&(o.shape.smooth=a);var s=i.getModel("lineStyle").getLineStyle();r?n.useStyle(s):o.style=s}function XN(n,t){var e=t.smooth,i=t.points;if(i)if(n.moveTo(i[0][0],i[0][1]),e>0&&i.length>=3){var r=Re(i[0],i[1]),o=Re(i[1],i[2]);if(!r||!o)return n.lineTo(i[1][0],i[1][1]),void n.lineTo(i[2][0],i[2][1]);var a=Math.min(r,o)*e,s=$e([],i[1],i[0],a/r),l=$e([],i[1],i[2],a/o),u=$e([],s,l,.5);n.bezierCurveTo(s[0],s[1],s[0],s[1],u[0],u[1]),n.bezierCurveTo(l[0],l[1],l[0],l[1],i[2][0],i[2][1])}else for(var h=1;h<i.length;h++)n.lineTo(i[h][0],i[h][1])}function Vy(n,t,e){var i=n.getTextGuideLine(),r=n.getTextContent();if(r){for(var o=t.normal,a=o.get("show"),s=r.ignore,l=0;l<mu.length;l++){var u=mu[l],h=t[u],f="normal"===u;if(h){var p=h.get("show");if((f?s:ln(r.states[u]&&r.states[u].ignore,s))||!ln(p,a)){var g=f?i:i&&i.states.normal;g&&(g.ignore=!0);continue}i||(i=new na,n.setTextGuideLine(i),f||!s&&a||Sw(i,!0,"normal",t.normal),n.stateProxy&&(i.stateProxy=n.stateProxy)),Sw(i,!1,u,h)}}if(i){Ee(i.style,e),i.style.fill=null;var v=o.get("showAbove");(n.textGuideLineConfig=n.textGuideLineConfig||{}).showAbove=v||!1,i.buildPath=XN}}else i&&n.removeTextGuideLine()}function Gy(n,t){for(var e={normal:n.getModel(t=t||"labelLine")},i=0;i<Co.length;i++){var r=Co[i];e[r]=n.getModel([r,t])}return e}function ww(n){for(var t=[],e=0;e<n.length;e++){var i=n[e];if(!i.defaultAttr.ignore){var r=i.label,o=r.getComputedTransform(),a=r.getBoundingRect(),s=!o||o[1]<1e-5&&o[2]<1e-5,l=r.style.margin||0,u=a.clone();u.applyTransform(o),u.x-=l/2,u.y-=l/2,u.width+=l,u.height+=l;var h=s?new Gp(a,o):null;t.push({label:r,labelLine:i.labelLine,rect:u,localRect:a,obb:h,priority:i.priority,defaultAttr:i.defaultAttr,layoutOption:i.computedLayoutOption,axisAligned:s,transform:o})}}return t}function Tw(n,t,e,i,r,o){var a=n.length;if(!(a<2)){n.sort(function(R,k){return R.rect[t]-k.rect[t]});for(var s,l=0,u=!1,h=0,f=0;f<a;f++){var p=n[f],g=p.rect;(s=g[t]-l)<0&&(g[t]-=s,p.label[t]-=s,u=!0),h+=Math.max(-s,0),l=g[t]+g[e]}h>0&&o&&I(-h/a,0,a);var v,m,y=n[0],b=n[a-1];return S(),v<0&&A(-v,.8),m<0&&A(m,.8),S(),E(v,m,1),E(m,v,-1),S(),v<0&&L(-v),m<0&&L(m),u}function S(){v=y.rect[t]-i,m=r-b.rect[t]-b.rect[e]}function E(R,k,H){if(R<0){var U=Math.min(k,-R);if(U>0){I(U*H,0,a);var G=U+R;G<0&&A(-G*H,1)}else A(-R*H,1)}}function I(R,k,H){0!==R&&(u=!0);for(var U=k;U<H;U++){var G=n[U];G.rect[t]+=R,G.label[t]+=R}}function A(R,k){for(var H=[],U=0,G=1;G<a;G++){var K=n[G-1].rect,$=Math.max(n[G].rect[t]-K[t]-K[e],0);H.push($),U+=$}if(U){var ee=Math.min(Math.abs(R)/U,k);if(R>0)for(G=0;G<a-1;G++)I(H[G]*ee,0,G+1);else for(G=a-1;G>0;G--)I(-H[G-1]*ee,G,a)}}function L(R){var k=R<0?-1:1;R=Math.abs(R);for(var H=Math.ceil(R/(a-1)),U=0;U<a-1;U++)if(k>0?I(H,0,U+1):I(-H,a-U-1,a),(R-=H)<=0)return}}function Ew(n,t,e,i){return Tw(n,"y","height",t,e,i)}function Cw(n){var t=[];n.sort(function(m,y){return y.priority-m.priority});var e=new cn(0,0,0,0);function i(m){if(!m.ignore){var y=m.ensureState("emphasis");null==y.ignore&&(y.ignore=!1)}m.ignore=!0}for(var r=0;r<n.length;r++){var o=n[r],a=o.axisAligned,s=o.localRect,l=o.transform,u=o.label,h=o.labelLine;e.copy(o.rect),e.width-=.1,e.height-=.1,e.x+=.05,e.y+=.05;for(var f=o.obb,p=!1,g=0;g<t.length;g++){var v=t[g];if(e.intersect(v.rect)){if(a&&v.axisAligned){p=!0;break}if(v.obb||(v.obb=new Gp(v.localRect,v.transform)),f||(f=new Gp(s,l)),f.intersect(v.obb)){p=!0;break}}}p?(i(u),h&&i(h)):(u.attr("ignore",o.defaultAttr.ignore),h&&h.attr("ignore",o.defaultAttr.labelGuideIgnore),t.push(o))}}function jN(n){if(n){for(var t=[],e=0;e<n.length;e++)t.push(n[e].slice());return t}}function qN(n,t){var e=n.label,i=t&&t.getTextGuideLine();return{dataIndex:n.dataIndex,dataType:n.dataType,seriesIndex:n.seriesModel.seriesIndex,text:n.label.style.text,rect:n.hostRect,labelRect:n.rect,align:e.style.align,verticalAlign:e.style.verticalAlign,labelLinePoints:jN(i&&i.shape.points)}}var Iw=["align","verticalAlign","width","height","fontSize"],Fa=new gr,Wy=Fn(),KN=Fn();function jg(n,t,e){for(var i=0;i<e.length;i++){var r=e[i];null!=t[r]&&(n[r]=t[r])}}var qg=["x","y","rotation"],ZN=function(){function n(){this._labelList=[],this._chartViewList=[]}return n.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},n.prototype._addLabel=function(t,e,i,r,o){var a=r.style,s=r.__hostTarget.textConfig||{},l=r.getComputedTransform(),u=r.getBoundingRect().plain();cn.applyTransform(u,u,l),l?Fa.setLocalTransform(l):(Fa.x=Fa.y=Fa.rotation=Fa.originX=Fa.originY=0,Fa.scaleX=Fa.scaleY=1);var h,f=r.__hostTarget;if(f){h=f.getBoundingRect().plain();var p=f.getComputedTransform();cn.applyTransform(h,h,p)}var g=h&&f.getTextGuideLine();this._labelList.push({label:r,labelLine:g,seriesModel:i,dataIndex:t,dataType:e,layoutOption:o,computedLayoutOption:null,rect:u,hostRect:h,priority:h?h.width*h.height:0,defaultAttr:{ignore:r.ignore,labelGuideIgnore:g&&g.ignore,x:Fa.x,y:Fa.y,scaleX:Fa.scaleX,scaleY:Fa.scaleY,rotation:Fa.rotation,style:{x:a.x,y:a.y,align:a.align,verticalAlign:a.verticalAlign,width:a.width,height:a.height,fontSize:a.fontSize},cursor:r.cursor,attachedPos:s.position,attachedRot:s.rotation}})},n.prototype.addLabelsOfSeries=function(t){var e=this;this._chartViewList.push(t);var i=t.__model,r=i.get("labelLayout");(sn(r)||Mt(r).length)&&t.group.traverse(function(o){if(o.ignore)return!0;var a=o.getTextContent(),s=pn(o);a&&!a.disableLabelLayout&&e._addLabel(s.dataIndex,s.dataType,i,a,r)})},n.prototype.updateLayoutConfig=function(t){var e=t.getWidth(),i=t.getHeight();function r(b,S){return function(){xw(b,S)}}for(var o=0;o<this._labelList.length;o++){var a=this._labelList[o],s=a.label,l=s.__hostTarget,u=a.defaultAttr,h=void 0;h=(h="function"==typeof a.layoutOption?a.layoutOption(qN(a,l)):a.layoutOption)||{},a.computedLayoutOption=h;var f=Math.PI/180;l&&l.setTextConfig({local:!1,position:null!=h.x||null!=h.y?null:u.attachedPos,rotation:null!=h.rotate?h.rotate*f:u.attachedRot,offset:[h.dx||0,h.dy||0]});var p=!1;if(null!=h.x?(s.x=kt(h.x,e),s.setStyle("x",0),p=!0):(s.x=u.x,s.setStyle("x",u.style.x)),null!=h.y?(s.y=kt(h.y,i),s.setStyle("y",0),p=!0):(s.y=u.y,s.setStyle("y",u.style.y)),h.labelLinePoints){var g=l.getTextGuideLine();g&&(g.setShape({points:h.labelLinePoints}),p=!1)}Wy(s).needsUpdateLabelLine=p,s.rotation=null!=h.rotate?h.rotate*f:u.rotation,s.scaleX=u.scaleX,s.scaleY=u.scaleY;for(var v=0;v<Iw.length;v++){var m=Iw[v];s.setStyle(m,null!=h[m]?h[m]:u.style[m])}if(h.draggable){if(s.draggable=!0,s.cursor="move",l){var y=a.seriesModel;null!=a.dataIndex&&(y=a.seriesModel.getData(a.dataType).getItemModel(a.dataIndex)),s.on("drag",r(l,y.getModel("labelLine")))}}else s.off("drag"),s.cursor=u.cursor}},n.prototype.layout=function(t){var i=t.getWidth(),r=t.getHeight(),o=ww(this._labelList),a=jt(o,function(l){return"shiftX"===l.layoutOption.moveOverlap}),s=jt(o,function(l){return"shiftY"===l.layoutOption.moveOverlap});Tw(a,"x","width",0,i,void 0),Ew(s,0,r),Cw(jt(o,function(l){return l.layoutOption.hideOverlap}))},n.prototype.processLabelsOverall=function(){var t=this;Y(this._chartViewList,function(e){var i=e.__model,r=e.ignoreLabelLineUpdate,o=i.isAnimationEnabled();e.group.traverse(function(a){if(a.ignore)return!0;var s=!r,l=a.getTextContent();!s&&l&&(s=Wy(l).needsUpdateLabelLine),s&&t._updateLabelLine(a,i),o&&t._animateLabels(a,i)})})},n.prototype._updateLabelLine=function(t,e){var i=t.getTextContent(),r=pn(t),o=r.dataIndex;if(i&&null!=o){var a=e.getData(r.dataType),s=a.getItemModel(o),l={},u=a.getItemVisual(o,"style"),h=a.getVisual("drawType");l.stroke=u[h];var f=s.getModel("labelLine");Vy(t,Gy(s),l),xw(t,f)}},n.prototype._animateLabels=function(t,e){var i=t.getTextContent(),r=t.getTextGuideLine();if(i&&!i.ignore&&!i.invisible&&!t.disableLabelAnimation&&!hh(t)){var o=(v=Wy(i)).oldLayout,a=pn(t),s=a.dataIndex,l={x:i.x,y:i.y,rotation:i.rotation},u=e.getData(a.dataType);if(o){i.attr(o);var h=t.prevStates;h&&(pe(h,"select")>=0&&i.attr(v.oldLayoutSelect),pe(h,"emphasis")>=0&&i.attr(v.oldLayoutEmphasis)),Un(i,l,e,s)}else if(i.attr(l),!Vf(i).valueAnimation){var f=ln(i.style.opacity,1);i.style.opacity=0,Vi(i,{style:{opacity:f}},e,s)}if(v.oldLayout=l,i.states.select){var p=v.oldLayoutSelect={};jg(p,l,qg),jg(p,i.states.select,qg)}if(i.states.emphasis){var g=v.oldLayoutEmphasis={};jg(g,l,qg),jg(g,i.states.emphasis,qg)}Z1(i,s,u,e,e)}if(r&&!r.ignore&&!r.invisible){o=(v=KN(r)).oldLayout;var v,m={points:r.shape.points};o?(r.attr({shape:o}),Un(r,{shape:m},e)):(r.setShape(m),r.style.strokePercent=0,Vi(r,{style:{strokePercent:1}},e)),v.oldLayout=m}},n}(),Yy=Fn();function Vl(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function Kg(n){var t;if(n&&"transparent"!==n){if("string"==typeof n&&n.indexOf("rgba")>-1){var e=ji(n);e&&(n="rgb("+e[0]+","+e[1]+","+e[2]+")",t=e[3])}}else n="none";return{color:n,opacity:t??1}}function Aw(n,t,e,i,r){for(var o=t.length,a=e.length,s=n.newPos,l=s-i,u=0;s+1<o&&l+1<a&&r(t[s+1],e[l+1]);)s++,l++,u++;return u&&n.components.push({count:u,added:!1,removed:!1,indices:[]}),n.newPos=s,l}function Mw(n,t,e){var i=n[n.length-1];i&&i.added===t&&i.removed===e?n[n.length-1]={count:i.count+1,added:t,removed:e,indices:[]}:n.push({count:1,added:t,removed:e,indices:[]})}function JN(n){for(var t=0,e=n.length,i=0,r=0;t<e;t++){var o=n[t];if(o.removed){for(s=r;s<r+o.count;s++)o.indices.push(s);r+=o.count}else{for(var a=[],s=i;s<i+o.count;s++)a.push(s);o.indices=a,i+=o.count,o.added||(r+=o.count)}}return n}var Sd="none",Zg=Math.round,Lw=Math.sin,Dw=Math.cos,Nw=Math.PI,Ou=2*Math.PI,Rw=180/Nw;function Jg(n){return Zg(1e3*n)/1e3}function Gl(n){return Zg(1e4*n)/1e4}function Ow(n){return n<1e-4&&n>-1e-4}function Xy(n,t){t&&or(n,"transform","matrix("+Jg(t[0])+","+Jg(t[1])+","+Jg(t[2])+","+Jg(t[3])+","+Gl(t[4])+","+Gl(t[5])+")")}function or(n,t,e){(!e||"linear"!==e.type&&"radial"!==e.type)&&n.setAttribute(t,e)}function jy(n,t,e){var f,i=null==t.opacity?1:t.opacity;if(e instanceof fr)or(n,"opacity",i+"");else{if(null!=(f=t.fill)&&f!==Sd){var r=Kg(t.fill);or(n,"fill",r.color),or(n,"fill-opacity",(null!=t.fillOpacity?t.fillOpacity*r.opacity*i:r.opacity*i)+"")}else or(n,"fill",Sd);if(function(h){var f=h.stroke;return null!=f&&f!==Sd}(t)){var o=Kg(t.stroke);or(n,"stroke",o.color);var a=t.lineWidth,s=t.strokeNoScale?e.getLineScale():1;or(n,"stroke-width",(s?a/s:0)+""),or(n,"paint-order",t.strokeFirst?"stroke":"fill"),or(n,"stroke-opacity",(null!=t.strokeOpacity?t.strokeOpacity*o.opacity*i:o.opacity*i)+"");var l=t.lineDash&&a>0&&ty(t.lineDash,a);if(l){var u=t.lineDashOffset;s&&1!==s&&(l=Ve(l,function(h){return h/s}),u&&(u=Zg(u/=s))),or(n,"stroke-dasharray",l.join(",")),or(n,"stroke-dashoffset",(u||0)+"")}else or(n,"stroke-dasharray",Sd);t.lineCap&&or(n,"stroke-linecap",t.lineCap),t.lineJoin&&or(n,"stroke-linejoin",t.lineJoin),t.miterLimit&&or(n,"stroke-miterlimit",t.miterLimit+"")}else or(n,"stroke",Sd)}}var eR=function(){function n(){}return n.prototype.reset=function(){this._d=[],this._str=""},n.prototype.moveTo=function(t,e){this._add("M",t,e)},n.prototype.lineTo=function(t,e){this._add("L",t,e)},n.prototype.bezierCurveTo=function(t,e,i,r,o,a){this._add("C",t,e,i,r,o,a)},n.prototype.quadraticCurveTo=function(t,e,i,r){this._add("Q",t,e,i,r)},n.prototype.arc=function(t,e,i,r,o,a){this.ellipse(t,e,i,i,0,r,o,a)},n.prototype.ellipse=function(t,e,i,r,o,a,s,l){var u=0===this._d.length,h=s-a,f=!l,p=Math.abs(h),g=Ow(p-Ou)||(f?h>=Ou:-h>=Ou),v=h>0?h%Ou:h%Ou+Ou,m=!1;m=!!g||!Ow(p)&&v>=Nw==!!f;var y=Gl(t+i*Dw(a)),b=Gl(e+r*Lw(a));g&&(h=f?Ou-1e-4:1e-4-Ou,m=!0,u&&this._d.push("M",y,b));var S=Gl(t+i*Dw(a+h)),E=Gl(e+r*Lw(a+h));if(isNaN(y)||isNaN(b)||isNaN(i)||isNaN(r)||isNaN(o)||isNaN(Rw)||isNaN(S)||isNaN(E))return"";this._d.push("A",Gl(i),Gl(r),Zg(o*Rw),+m,+f,S,E)},n.prototype.rect=function(t,e,i,r){this._add("M",t,e),this._add("L",t+i,e),this._add("L",t+i,e+r),this._add("L",t,e+r),this._add("L",t,e),this._add("Z")},n.prototype.closePath=function(){this._d.length>0&&this._add("Z")},n.prototype._add=function(t,e,i,r,o,a,s,l,u){this._d.push(t);for(var h=1;h<arguments.length;h++){var f=arguments[h];if(isNaN(f))return void(this._invalid=!0);this._d.push(Gl(f))}},n.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(" "),this._d=[]},n.prototype.getStr=function(){return this._str},n}(),Qg={brush:function(n){var t=n.style,e=n.__svgEl;e||(e=Vl("path"),n.__svgEl=e),n.path||n.createPathProxy();var i=n.path;n.shapeChanged()&&(i.beginPath(),n.buildPath(i,n.shape),n.pathUpdated());var r=i.getVersion(),o=n,a=o.__svgPathBuilder;(o.__svgPathVersion!==r||!a||n.style.strokePercent<1)&&(a||(a=o.__svgPathBuilder=new eR),a.reset(),i.rebuildPath(a,n.style.strokePercent),a.generateStr(),o.__svgPathVersion=r),or(e,"d",a.getStr()),jy(e,t,n),Xy(e,n.transform)}},kw={brush:function(n){var t=n.style,e=t.image;if(e instanceof HTMLImageElement?e=e.src:e instanceof HTMLCanvasElement&&(e=e.toDataURL()),e){var i=t.x||0,r=t.y||0,o=t.width,a=t.height,s=n.__svgEl;s||(s=Vl("image"),n.__svgEl=s),e!==n.__imageSrc&&(s.setAttributeNS("http://www.w3.org/1999/xlink","href",e),n.__imageSrc=e),or(s,"width",o+""),or(s,"height",a+""),or(s,"x",i+""),or(s,"y",r+""),jy(s,t,n),Xy(s,n.transform)}}},tR={left:"start",right:"end",center:"middle",middle:"middle"},Pw={brush:function(n){var l,u,h,t=n.style,e=t.text;if(null!=e&&(e+=""),e&&!isNaN(t.x)&&!isNaN(t.y)){var i=n.__svgEl;i||((i=Vl("text")).setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),n.__svgEl=i);var r=t.font||Jo;i.style.font=r,i.textContent=e,jy(i,t,n),Xy(i,n.transform);var o=t.x||0,a=(l=t.y||0,u=Nt(r),"top"===(h=t.textBaseline)?l+=u/2:"bottom"===h&&(l-=u/2),l),s=tR[t.textAlign]||t.textAlign;or(i,"dominant-baseline","central"),or(i,"text-anchor",s),or(i,"x",o+""),or(i,"y",a+"")}}},$g=function(){function n(t,e,i,r,o){this.nextId=0,this._domName="_dom",this.createElement=Vl,this._zrId=t,this._svgRoot=e,this._tagNames="string"==typeof i?[i]:i,this._markLabel=r,o&&(this._domName=o)}return n.prototype.getDefs=function(t){var e=this._svgRoot,i=this._svgRoot.getElementsByTagName("defs");if(0===i.length){if(t){var r=e.insertBefore(this.createElement("defs"),e.firstChild);return r.contains||(r.contains=function(o){var a=r.children;if(!a)return!1;for(var s=a.length-1;s>=0;--s)if(a[s]===o)return!0;return!1}),r}return null}return i[0]},n.prototype.doUpdate=function(t,e){if(t){var i=this.getDefs(!1);if(t[this._domName]&&i.contains(t[this._domName]))"function"==typeof e&&e(t);else{var r=this.add(t);r&&(t[this._domName]=r)}}},n.prototype.add=function(t){return null},n.prototype.addDom=function(t){var e=this.getDefs(!0);t.parentNode!==e&&e.appendChild(t)},n.prototype.removeDom=function(t){var e=this.getDefs(!1);e&&t[this._domName]&&(e.removeChild(t[this._domName]),t[this._domName]=null)},n.prototype.getDoms=function(){var t=this.getDefs(!1);if(!t)return[];var e=[];return Y(this._tagNames,function(i){for(var r=t.getElementsByTagName(i),o=0;o<r.length;o++)e.push(r[o])}),e},n.prototype.markAllUnused=function(){var t=this.getDoms(),e=this;Y(t,function(i){i[e._markLabel]="0"})},n.prototype.markDomUsed=function(t){t&&(t[this._markLabel]="1")},n.prototype.markDomUnused=function(t){t&&(t[this._markLabel]="0")},n.prototype.isDomUnused=function(t){return t&&"1"!==t[this._markLabel]},n.prototype.removeUnused=function(){var t=this,e=this.getDefs(!1);e&&Y(this.getDoms(),function(i){t.isDomUnused(i)&&e.removeChild(i)})},n.prototype.getSvgProxy=function(t){return t instanceof Mn?Qg:t instanceof fr?kw:t instanceof Ol?Pw:Qg},n.prototype.getSvgElement=function(t){return t.__svgEl},n}();function Bw(n){return"linear"===n.type}function Fw(n){return"radial"===n.type}function Hw(n){return n&&("linear"===n.type||"radial"===n.type)}var nR=function(n){function t(e,i){return n.call(this,e,i,["linearGradient","radialGradient"],"__gradient_in_use__")||this}return ue(t,n),t.prototype.addWithoutUpdate=function(e,i){if(i&&i.style){var r=this;Y(["fill","stroke"],function(o){var a=i.style[o];if(Hw(a)){var s=a,l=r.getDefs(!0),u=void 0;s.__dom?(u=s.__dom,l.contains(s.__dom)||r.addDom(u)):u=r.add(s),r.markUsed(i);var h=u.getAttribute("id");e.setAttribute(o,"url(#"+h+")")}})}},t.prototype.add=function(e){var i;if(Bw(e))i=this.createElement("linearGradient");else{if(!Fw(e))return tt("Illegal gradient type."),null;i=this.createElement("radialGradient")}return e.id=e.id||this.nextId++,i.setAttribute("id","zr"+this._zrId+"-gradient-"+e.id),this.updateDom(e,i),this.addDom(i),i},t.prototype.update=function(e){if(Hw(e)){var i=this;this.doUpdate(e,function(){var r=e.__dom;if(r){var o=r.tagName,a=e.type;"linear"===a&&"linearGradient"===o||"radial"===a&&"radialGradient"===o?i.updateDom(e,e.__dom):(i.removeDom(e),i.add(e))}})}},t.prototype.updateDom=function(e,i){if(Bw(e))i.setAttribute("x1",e.x+""),i.setAttribute("y1",e.y+""),i.setAttribute("x2",e.x2+""),i.setAttribute("y2",e.y2+"");else{if(!Fw(e))return void tt("Illegal gradient type.");i.setAttribute("cx",e.x+""),i.setAttribute("cy",e.y+""),i.setAttribute("r",e.r+"")}i.setAttribute("gradientUnits",e.global?"userSpaceOnUse":"objectBoundingBox"),i.innerHTML="";for(var r=e.colorStops,o=0,a=r.length;o<a;++o){var s=this.createElement("stop");s.setAttribute("offset",100*r[o].offset+"%");var l=r[o].color;if(l.indexOf("rgba")>-1){var u=ji(l)[3],h=Js(l);s.setAttribute("stop-color","#"+h),s.setAttribute("stop-opacity",u+"")}else s.setAttribute("stop-color",r[o].color);i.appendChild(s)}e.__dom=i},t.prototype.markUsed=function(e){if(e.style){var i=e.style.fill;i&&i.__dom&&n.prototype.markDomUsed.call(this,i.__dom),(i=e.style.stroke)&&i.__dom&&n.prototype.markDomUsed.call(this,i.__dom)}},t}($g);function wd(n){return n&&(!!n.image||!!n.svgElement)}var Td=new zb,iR=function(n){function t(e,i){return n.call(this,e,i,["pattern"],"__pattern_in_use__")||this}return ue(t,n),t.prototype.addWithoutUpdate=function(e,i){if(i&&i.style){var r=this;Y(["fill","stroke"],function(o){var a=i.style[o];if(wd(a)){var s=r.getDefs(!0),l=Td.get(a);l?s.contains(l)||r.addDom(l):l=r.add(a),r.markUsed(i);var u=l.getAttribute("id");e.setAttribute(o,"url(#"+u+")")}})}},t.prototype.add=function(e){if(wd(e)){var i=this.createElement("pattern");return e.id=null==e.id?this.nextId++:e.id,i.setAttribute("id","zr"+this._zrId+"-pattern-"+e.id),i.setAttribute("x","0"),i.setAttribute("y","0"),i.setAttribute("patternUnits","userSpaceOnUse"),this.updateDom(e,i),this.addDom(i),i}},t.prototype.update=function(e){if(wd(e)){var i=this;this.doUpdate(e,function(){var r=Td.get(e);i.updateDom(e,r)})}},t.prototype.updateDom=function(e,i){var r=e.svgElement;if(r instanceof SVGElement)r.parentNode!==i&&(i.innerHTML="",i.appendChild(r),i.setAttribute("width",e.svgWidth+""),i.setAttribute("height",e.svgHeight+""));else{var o=void 0,a=i.getElementsByTagName("image");if(a.length){if(!e.image)return void i.removeChild(a[0]);o=a[0]}else e.image&&(o=this.createElement("image"));if(o){var s=void 0,l=e.image;if("string"==typeof l?s=l:l instanceof HTMLImageElement?s=l.src:l instanceof HTMLCanvasElement&&(s=l.toDataURL()),s){o.setAttribute("href",s),o.setAttribute("x","0"),o.setAttribute("y","0");var u=$o(s,o,{dirty:function(){}},function(f){i.setAttribute("width",f.width+""),i.setAttribute("height",f.height+"")});u&&u.width&&u.height&&(i.setAttribute("width",u.width+""),i.setAttribute("height",u.height+"")),i.appendChild(o)}}}var h="translate("+(e.x||0)+", "+(e.y||0)+") rotate("+(e.rotation||0)/Math.PI*180+") scale("+(e.scaleX||1)+", "+(e.scaleY||1)+")";i.setAttribute("patternTransform",h),Td.set(e,i)},t.prototype.markUsed=function(e){e.style&&(wd(e.style.fill)&&n.prototype.markDomUsed.call(this,Td.get(e.style.fill)),wd(e.style.stroke)&&n.prototype.markDomUsed.call(this,Td.get(e.style.stroke)))},t}($g);function Uw(n){var t=n.__clipPaths;return t&&t.length>0}var rR=function(n){function t(e,i){var r=n.call(this,e,i,"clipPath","__clippath_in_use__")||this;return r._refGroups={},r._keyDuplicateCount={},r}return ue(t,n),t.prototype.markAllUnused=function(){n.prototype.markAllUnused.call(this);var e=this._refGroups;for(var i in e)e.hasOwnProperty(i)&&this.markDomUnused(e[i]);this._keyDuplicateCount={}},t.prototype._getClipPathGroup=function(e,i){if(Uw(e)){var r=e.__clipPaths,o=this._keyDuplicateCount,a=function(s){var l=[];if(s)for(var u=0;u<s.length;u++)l.push(s[u].id);return l.join(",")}(r);return Vb(r,i&&i.__clipPaths)&&(o[a]=o[a]||0,o[a]&&(a+="-"+o[a]),o[a]++),this._refGroups[a]||(this._refGroups[a]=this.createElement("g"))}},t.prototype.update=function(e,i){var r=this._getClipPathGroup(e,i);return r&&(this.markDomUsed(r),this.updateDom(r,e.__clipPaths)),r},t.prototype.updateDom=function(e,i){if(i&&i.length>0){var r=this.getDefs(!0),o=i[0],a=void 0,s=void 0;o._dom?(s=o._dom.getAttribute("id"),r.contains(a=o._dom)||r.appendChild(a)):(s="zr"+this._zrId+"-clip-"+this.nextId,++this.nextId,(a=this.createElement("clipPath")).setAttribute("id",s),r.appendChild(a),o._dom=a),this.getSvgProxy(o).brush(o);var l=this.getSvgElement(o);a.innerHTML="",a.appendChild(l),e.setAttribute("clip-path","url(#"+s+")"),i.length>1&&this.updateDom(a,i.slice(1))}else e&&e.setAttribute("clip-path","none")},t.prototype.markUsed=function(e){var i=this;e.__clipPaths&&Y(e.__clipPaths,function(r){r._dom&&n.prototype.markDomUsed.call(i,r._dom)})},t.prototype.removeUnused=function(){n.prototype.removeUnused.call(this);var e={},i=this._refGroups;for(var r in i)if(i.hasOwnProperty(r)){var o=i[r];this.isDomUnused(o)?o.parentNode&&o.parentNode.removeChild(o):e[r]=o}this._refGroups=e},t}($g),oR=function(n){function t(e,i){var r=n.call(this,e,i,["filter"],"__filter_in_use__","_shadowDom")||this;return r._shadowDomMap={},r._shadowDomPool=[],r}return ue(t,n),t.prototype._getFromPool=function(){var e=this._shadowDomPool.pop();if(!e){(e=this.createElement("filter")).setAttribute("id","zr"+this._zrId+"-shadow-"+this.nextId++);var i=this.createElement("feDropShadow");e.appendChild(i),this.addDom(e)}return e},t.prototype.update=function(e,i){if((a=i.style)&&(a.shadowBlur||a.shadowOffsetX||a.shadowOffsetY)){var r=function(a){var s=a.style,l=a.getGlobalScale();return[s.shadowColor,(s.shadowBlur||0).toFixed(2),(s.shadowOffsetX||0).toFixed(2),(s.shadowOffsetY||0).toFixed(2),l[0],l[1]].join(",")}(i),o=i._shadowDom=this._shadowDomMap[r];o||(o=this._getFromPool(),this._shadowDomMap[r]=o),this.updateDom(e,i,o)}else this.remove(e,i);var a},t.prototype.remove=function(e,i){null!=i._shadowDom&&(i._shadowDom=null,e.removeAttribute("filter"))},t.prototype.updateDom=function(e,i,r){var o=r.children[0],a=i.style,s=i.getGlobalScale(),l=s[0],u=s[1];if(l&&u){var h=a.shadowOffsetX||0,f=a.shadowOffsetY||0,p=a.shadowBlur,g=Kg(a.shadowColor);o.setAttribute("dx",h/l+""),o.setAttribute("dy",f/u+""),o.setAttribute("flood-color",g.color),o.setAttribute("flood-opacity",g.opacity+""),o.setAttribute("stdDeviation",p/2/l+" "+p/2/u),r.setAttribute("x","-100%"),r.setAttribute("y","-100%"),r.setAttribute("width","300%"),r.setAttribute("height","300%"),i._shadowDom=r;var m=r.getAttribute("id");e.setAttribute("filter","url(#"+m+")")}},t.prototype.removeUnused=function(){if(this.getDefs(!1)){var e=this._shadowDomPool,i=this._shadowDomMap;for(var r in i)i.hasOwnProperty(r)&&e.push(i[r]);this._shadowDomMap={}}},t}($g);function ev(n){return parseInt(n,10)}function zw(n){return n instanceof Mn?Qg:n instanceof fr?kw:n instanceof Ol?Pw:Qg}function Vw(n,t){return t&&n&&t.parentNode!==n}function Gw(n,t,e){if(Vw(n,t)&&e){var i=e.nextSibling;i?n.insertBefore(t,i):n.appendChild(t)}}function Ww(n,t){if(Vw(n,t)){var e=n.firstChild;e?n.insertBefore(t,e):n.appendChild(t)}}function aR(n,t){t&&n&&t.parentNode===n&&n.removeChild(t)}function Ed(n){return n.__svgEl}var sR=function(){function n(t,e,i,r){this.type="svg",this.refreshHover=qy("refreshHover"),this.pathToImage=qy("pathToImage"),this.configLayer=qy("configLayer"),this.root=t,this.storage=e,this._opts=i=se({},i||{});var o=Vl("svg");o.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns","http://www.w3.org/2000/svg"),o.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),o.setAttribute("version","1.1"),o.setAttribute("baseProfile","full"),o.style.cssText="user-select:none;position:absolute;left:0;top:0;";var a=Vl("g");o.appendChild(a);var s=Vl("g");o.appendChild(s),this._gradientManager=new nR(r,s),this._patternManager=new iR(r,s),this._clipPathManager=new rR(r,s),this._shadowManager=new oR(r,s);var l=document.createElement("div");l.style.cssText="overflow:hidden;position:relative",this._svgDom=o,this._svgRoot=s,this._backgroundRoot=a,this._viewport=l,t.appendChild(l),l.appendChild(o),this.resize(i.width,i.height),this._visibleList=[]}return n.prototype.getType=function(){return"svg"},n.prototype.getViewportRoot=function(){return this._viewport},n.prototype.getSvgDom=function(){return this._svgDom},n.prototype.getSvgRoot=function(){return this._svgRoot},n.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},n.prototype.refresh=function(){var t=this.storage.getDisplayList(!0);this._paintList(t)},n.prototype.setBackgroundColor=function(t){this._backgroundRoot&&this._backgroundNode&&this._backgroundRoot.removeChild(this._backgroundNode);var e=Vl("rect");e.setAttribute("width",this.getWidth()),e.setAttribute("height",this.getHeight()),e.setAttribute("x",0),e.setAttribute("y",0),e.setAttribute("id",0);var i=Kg(t),o=i.opacity;e.setAttribute("fill",i.color),e.setAttribute("fill-opacity",o),this._backgroundRoot.appendChild(e),this._backgroundNode=e},n.prototype.createSVGElement=function(t){return Vl(t)},n.prototype.paintOne=function(t){var e=zw(t);return e&&e.brush(t),Ed(t)},n.prototype._paintList=function(t){var e=this._gradientManager,i=this._patternManager,r=this._clipPathManager,o=this._shadowManager;e.markAllUnused(),i.markAllUnused(),r.markAllUnused(),o.markAllUnused();for(var a=this._svgRoot,s=this._visibleList,l=t.length,u=[],h=0;h<l;h++){var f=zw(A=t[h]),p=Ed(A);A.invisible||(!A.__dirty&&p||(f&&f.brush(A),(p=Ed(A))&&A.style&&(e.update(A.style.fill),e.update(A.style.stroke),i.update(A.style.fill),i.update(A.style.stroke),o.update(p,A)),A.__dirty=0),p&&u.push(A))}var g,v,m,y,b,S=function QN(n,t,e){return function(i,r,o){o||(o=function(y,b){return y===b}),i=i.slice();var a=(r=r.slice()).length,s=i.length,l=1,u=a+s,h=[{newPos:-1,components:[]}],f=Aw(h[0],r,i,0,o);if(h[0].newPos+1>=a&&f+1>=s){for(var p=[],g=0;g<r.length;g++)p.push(g);return[{indices:p,count:r.length,added:!1,removed:!1}]}function v(){for(var y=-1*l;y<=l;y+=2){var b,S=h[y-1],E=h[y+1],I=(E?E.newPos:0)-y;S&&(h[y-1]=void 0);var A=S&&S.newPos+1<a,L=E&&0<=I&&I<s;if(A||L){if(!A||L&&S.newPos<E.newPos?Mw((b={newPos:(R=E).newPos,components:R.components.slice(0)}).components,!1,!0):((b=S).newPos++,Mw(b.components,!0,!1)),I=Aw(b,r,i,y,o),b.newPos+1>=a&&I+1>=s)return JN(b.components);h[y]=b}else h[y]=void 0}var R;l++}for(;l<=u;){var m=v();if(m)return m}}(n,t,e)}(s,u);for(h=0;h<S.length;h++)if((I=S[h]).removed)for(var E=0;E<I.count;E++)p=Ed(A=s[I.indices[E]]),Uw(A)?(m=p)&&m.parentNode&&m.parentNode.removeChild(m):aR(a,p);for(h=0;h<S.length;h++){var I;if(!(I=S[h]).removed)for(E=0;E<I.count;E++){var A=u[I.indices[E]],L=r.update(A,y);L!==b&&(g=v,L&&(g?Gw(a,L,g):Ww(a,L),v=L,g=null),b=L),p=Ed(A),g?Gw(b||a,p,g):Ww(b||a,p),g=p||g,b||(v=g),e.markUsed(A),e.addWithoutUpdate(p,A),i.markUsed(A),i.addWithoutUpdate(p,A),r.markUsed(A),y=A}}e.removeUnused(),i.removeUnused(),r.removeUnused(),o.removeUnused(),this._visibleList=u},n.prototype.resize=function(t,e){var i=this._viewport;i.style.display="none";var r=this._opts;if(null!=t&&(r.width=t),null!=e&&(r.height=e),t=this._getSize(0),e=this._getSize(1),i.style.display="",this._width!==t||this._height!==e){this._width=t,this._height=e;var o=i.style;o.width=t+"px",o.height=e+"px";var a=this._svgDom;a.setAttribute("width",t+""),a.setAttribute("height",e+"")}this._backgroundNode&&(this._backgroundNode.setAttribute("width",t),this._backgroundNode.setAttribute("height",e))},n.prototype.getWidth=function(){return this._width},n.prototype.getHeight=function(){return this._height},n.prototype._getSize=function(t){var e=this._opts,i=["width","height"][t],r=["clientWidth","clientHeight"][t],o=["paddingLeft","paddingTop"][t],a=["paddingRight","paddingBottom"][t];if(null!=e[i]&&"auto"!==e[i])return parseFloat(e[i]);var s=this.root,l=document.defaultView.getComputedStyle(s);return(s[r]||ev(l[i])||ev(s.style[i]))-(ev(l[o])||0)-(ev(l[a])||0)|0},n.prototype.dispose=function(){this.root.innerHTML="",this._svgRoot=this._backgroundRoot=this._svgDom=this._backgroundNode=this._viewport=this.storage=null},n.prototype.clear=function(){var t=this._viewport;t&&t.parentNode&&t.parentNode.removeChild(t)},n.prototype.toDataURL=function(){this.refresh();var t=this._svgDom;return"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent((t.outerHTML||(t.parentNode&&t.parentNode).innerHTML).replace(/></g,">\n\r<"))},n}();function qy(n){return function(){tt('In SVG mode painter not support method "'+n+'"')}}function lR(){return!1}function Yw(n,t,e){var i=ie(),r=t.getWidth(),o=t.getHeight(),a=i.style;return a&&(a.position="absolute",a.left="0",a.top="0",a.width=r+"px",a.height=o+"px",i.setAttribute("data-zr-dom-id",n)),i.width=r*e,i.height=o*e,i}var Ky=function(n){function t(e,i,r){var o,a=n.call(this)||this;a.motionBlur=!1,a.lastFrameAlpha=.7,a.dpr=1,a.virtual=!1,a.config={},a.incremental=!1,a.zlevel=0,a.maxRepaintRectCount=5,a.__dirty=!0,a.__firstTimePaint=!0,a.__used=!1,a.__drawIndex=0,a.__startIndex=0,a.__endIndex=0,a.__prevStartIndex=null,a.__prevEndIndex=null,r=r||Xr,"string"==typeof e?o=Yw(e,i,r):Bt(e)&&(e=(o=e).id),a.id=e,a.dom=o;var s=o.style;return s&&(o.onselectstart=lR,s.webkitUserSelect="none",s.userSelect="none",s.webkitTapHighlightColor="rgba(0,0,0,0)",s["-webkit-touch-callout"]="none",s.padding="0",s.margin="0",s.borderWidth="0"),a.domBack=null,a.ctxBack=null,a.painter=i,a.config=null,a.dpr=r,a}return ue(t,n),t.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},t.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},t.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},t.prototype.setUnpainted=function(){this.__firstTimePaint=!0},t.prototype.createBackBuffer=function(){var e=this.dpr;this.domBack=Yw("back-"+this.id,this.painter,e),this.ctxBack=this.domBack.getContext("2d"),1!==e&&this.ctxBack.scale(e,e)},t.prototype.createRepaintRects=function(e,i,r,o){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var a,s=[],l=this.maxRepaintRectCount,u=!1,h=new cn(0,0,0,0);function f(S){if(S.isFinite()&&!S.isZero())if(0===s.length)(E=new cn(0,0,0,0)).copy(S),s.push(E);else{for(var E,I=!1,A=1/0,L=0,R=0;R<s.length;++R){var k=s[R];if(k.intersect(S)){var H=new cn(0,0,0,0);H.copy(k),H.union(S),s[R]=H,I=!0;break}if(u){h.copy(S),h.union(k);var K=h.width*h.height-S.width*S.height-k.width*k.height;K<A&&(A=K,L=R)}}u&&(s[L].union(S),I=!0),!I&&((E=new cn(0,0,0,0)).copy(S),s.push(E)),u||(u=s.length>=l)}}for(var p=this.__startIndex;p<this.__endIndex;++p)if(m=e[p]){var g=m.shouldBePainted(r,o,!0,!0);(y=m.__isRendered&&(1&m.__dirty||!g)?m.getPrevPaintRect():null)&&f(y);var v=g&&(1&m.__dirty||!m.__isRendered)?m.getPaintRect():null;v&&f(v)}for(p=this.__prevStartIndex;p<this.__prevEndIndex;++p){var m,y;g=(m=i[p]).shouldBePainted(r,o,!0,!0),m&&(!g||!m.__zr)&&m.__isRendered&&(y=m.getPrevPaintRect())&&f(y)}do{for(a=!1,p=0;p<s.length;)if(s[p].isZero())s.splice(p,1);else{for(var b=p+1;b<s.length;)s[p].intersect(s[b])?(a=!0,s[p].union(s[b]),s.splice(b,1)):b++;p++}}while(a);return this._paintRects=s,s},t.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},t.prototype.resize=function(e,i){var r=this.dpr,o=this.dom,a=o.style,s=this.domBack;a&&(a.width=e+"px",a.height=i+"px"),o.width=e*r,o.height=i*r,s&&(s.width=e*r,s.height=i*r,1!==r&&this.ctxBack.scale(r,r))},t.prototype.clear=function(e,i,r){var o=this.dom,a=this.ctx,s=o.width,l=o.height;i=i||this.clearColor;var u=this.motionBlur&&!e,h=this.lastFrameAlpha,f=this.dpr,p=this;u&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(o,0,0,s/f,l/f));var g=this.domBack;function v(m,y,b,S){if(a.clearRect(m,y,b,S),i&&"transparent"!==i){var E=void 0;ei(i)?(E=i.__canvasGradient||ey(a,i,{x:0,y:0,width:b,height:S}),i.__canvasGradient=E):Bi(i)&&(E=ny(a,i,{dirty:function(){p.setUnpainted(),p.__painter.refresh()}})),a.save(),a.fillStyle=E||i,a.fillRect(m,y,b,S),a.restore()}u&&(a.save(),a.globalAlpha=h,a.drawImage(g,m,y,b,S),a.restore())}!r||u?v(0,0,s,l):r.length&&Y(r,function(m){v(m.x*f,m.y*f,m.width*f,m.height*f)})},t}(Tn),Cd=314159;function nv(n){return parseInt(n,10)}var uR=function(){function n(t,e,i,r){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var o=!t.nodeName||"CANVAS"===t.nodeName.toUpperCase();this._opts=i=se({},i||{}),this.dpr=i.devicePixelRatio||Xr,this._singleCanvas=o,this.root=t;var a=t.style;a&&(a.webkitTapHighlightColor="transparent",a.webkitUserSelect="none",a.userSelect="none",a["-webkit-touch-callout"]="none",t.innerHTML=""),this.storage=e;var s=this._zlevelList;this._prevDisplayList=[];var v,m,y,l=this._layers;if(o){var u=t,h=u.width,f=u.height;null!=i.width&&(h=i.width),null!=i.height&&(f=i.height),this.dpr=i.devicePixelRatio||1,u.width=h*this.dpr,u.height=f*this.dpr,this._width=h,this._height=f;var p=new Ky(u,this,this.dpr);p.__builtin__=!0,p.initContext(),l[314159]=p,p.zlevel=Cd,s.push(Cd),this._domRoot=t}else{this._width=this._getSize(0),this._height=this._getSize(1);var g=this._domRoot=(v=this._width,m=this._height,(y=document.createElement("div")).style.cssText=["position:relative","width:"+v+"px","height:"+m+"px","padding:0","margin:0","border-width:0"].join(";")+";",y);t.appendChild(g)}}return n.prototype.getType=function(){return"canvas"},n.prototype.isSingleCanvas=function(){return this._singleCanvas},n.prototype.getViewportRoot=function(){return this._domRoot},n.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},n.prototype.refresh=function(t){var e=this.storage.getDisplayList(!0),i=this._prevDisplayList,r=this._zlevelList;this._redrawId=Math.random(),this._paintList(e,i,t,this._redrawId);for(var o=0;o<r.length;o++){var s=this._layers[r[o]];!s.__builtin__&&s.refresh&&s.refresh(0===o?this._backgroundColor:null)}return this._opts.useDirtyRect&&(this._prevDisplayList=e.slice()),this},n.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},n.prototype._paintHoverList=function(t){var e=t.length,i=this._hoverlayer;if(i&&i.clear(),e){for(var r,o={inHover:!0,viewWidth:this._width,viewHeight:this._height},a=0;a<e;a++){var s=t[a];s.__inHover&&(i||(i=this._hoverlayer=this.getLayer(1e5)),r||(r=i.ctx).save(),Mu(r,s,o,a===e-1))}r&&r.restore()}},n.prototype.getHoverLayer=function(){return this.getLayer(1e5)},n.prototype.paintOne=function(t,e){iy(t,e)},n.prototype._paintList=function(t,e,i,r){if(this._redrawId===r){i=i||!1,this._updateLayerStatus(t);var o=this._doPaintList(t,e,i),a=o.finished,s=o.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),s&&this._paintHoverList(t),a)this.eachLayer(function(u){u.afterBrush&&u.afterBrush()});else{var l=this;js(function(){l._paintList(t,e,i,r)})}}},n.prototype._compositeManually=function(){var t=this.getLayer(Cd).ctx,e=this._domRoot.width,i=this._domRoot.height;t.clearRect(0,0,e,i),this.eachBuiltinLayer(function(r){r.virtual&&t.drawImage(r.dom,0,0,e,i)})},n.prototype._doPaintList=function(t,e,i){for(var r=this,o=[],a=this._opts.useDirtyRect,s=0;s<this._zlevelList.length;s++){var u=this._layers[this._zlevelList[s]];u.__builtin__&&u!==this._hoverlayer&&(u.__dirty||i)&&o.push(u)}for(var h=!0,f=!1,p=function(m){var y,b=o[m],S=b.ctx,E=a&&b.createRepaintRects(t,e,g._width,g._height),I=i?b.__startIndex:b.__drawIndex,A=!i&&b.incremental&&Date.now,L=A&&Date.now(),R=b.zlevel===g._zlevelList[0]?g._backgroundColor:null;if(b.__startIndex===b.__endIndex)b.clear(!1,R,E);else if(I===b.__startIndex){var k=t[I];k.incremental&&k.notClear&&!i||b.clear(!1,R,E)}-1===I&&(console.error("For some unknown reason. drawIndex is -1"),I=b.__startIndex);var H=function($){var ee={inHover:!1,allClipped:!1,prevEl:null,viewWidth:r._width,viewHeight:r._height};for(y=I;y<b.__endIndex;y++){var le=t[y];if(le.__inHover&&(f=!0),r._doPaintEl(le,b,a,$,ee,y===b.__endIndex-1),A&&Date.now()-L>15)break}ee.prevElClipPaths&&S.restore()};if(E)if(0===E.length)y=b.__endIndex;else for(var U=g.dpr,G=0;G<E.length;++G){var K=E[G];S.save(),S.beginPath(),S.rect(K.x*U,K.y*U,K.width*U,K.height*U),S.clip(),H(K),S.restore()}else S.save(),H(),S.restore();b.__drawIndex=y,b.__drawIndex<b.__endIndex&&(h=!1)},g=this,v=0;v<o.length;v++)p(v);return ve.wxa&&Y(this._layers,function(m){m&&m.ctx&&m.ctx.draw&&m.ctx.draw()}),{finished:h,needsRefreshHover:f}},n.prototype._doPaintEl=function(t,e,i,r,o,a){var s=e.ctx;if(i){var l=t.getPaintRect();(!r||l&&l.intersect(r))&&(Mu(s,t,o,a),t.setPrevPaintRect(l))}else Mu(s,t,o,a)},n.prototype.getLayer=function(t,e){this._singleCanvas&&!this._needsManuallyCompositing&&(t=Cd);var i=this._layers[t];return i||((i=new Ky("zr_"+t,this,this.dpr)).zlevel=t,i.__builtin__=!0,this._layerConfig[t]?Ie(i,this._layerConfig[t],!0):this._layerConfig[t-.01]&&Ie(i,this._layerConfig[t-.01],!0),e&&(i.virtual=e),this.insertLayer(t,i),i.initContext()),i},n.prototype.insertLayer=function(t,e){var h,i=this._layers,r=this._zlevelList,o=r.length,a=this._domRoot,s=null,l=-1;if(i[t])tt("ZLevel "+t+" has been used already");else if((h=e)&&(h.__builtin__||"function"==typeof h.resize&&"function"==typeof h.refresh)){if(o>0&&t>r[0]){for(l=0;l<o-1&&!(r[l]<t&&r[l+1]>t);l++);s=i[r[l]]}if(r.splice(l+1,0,t),i[t]=e,!e.virtual)if(s){var u=s.dom;u.nextSibling?a.insertBefore(e.dom,u.nextSibling):a.appendChild(e.dom)}else a.firstChild?a.insertBefore(e.dom,a.firstChild):a.appendChild(e.dom);e.__painter=this}else tt("Layer of zlevel "+t+" is not valid")},n.prototype.eachLayer=function(t,e){for(var i=this._zlevelList,r=0;r<i.length;r++){var o=i[r];t.call(e,this._layers[o],o)}},n.prototype.eachBuiltinLayer=function(t,e){for(var i=this._zlevelList,r=0;r<i.length;r++){var o=i[r],a=this._layers[o];a.__builtin__&&t.call(e,a,o)}},n.prototype.eachOtherLayer=function(t,e){for(var i=this._zlevelList,r=0;r<i.length;r++){var o=i[r],a=this._layers[o];a.__builtin__||t.call(e,a,o)}},n.prototype.getLayers=function(){return this._layers},n.prototype._updateLayerStatus=function(t){function e(f){a&&(a.__endIndex!==f&&(a.__dirty=!0),a.__endIndex=f)}if(this.eachBuiltinLayer(function(f,p){f.__dirty=f.__used=!1}),this._singleCanvas)for(var i=1;i<t.length;i++)if((l=t[i]).zlevel!==t[i-1].zlevel||l.incremental){this._needsManuallyCompositing=!0;break}var r,o,a=null,s=0;for(o=0;o<t.length;o++){var l,u=(l=t[o]).zlevel,h=void 0;r!==u&&(r=u,s=0),l.incremental?((h=this.getLayer(u+.001,this._needsManuallyCompositing)).incremental=!0,s=1):h=this.getLayer(u+(s>0?.01:0),this._needsManuallyCompositing),h.__builtin__||tt("ZLevel "+u+" has been used by unkown layer "+h.id),h!==a&&(h.__used=!0,h.__startIndex!==o&&(h.__dirty=!0),h.__startIndex=o,h.__drawIndex=h.incremental?-1:o,e(o),a=h),1&l.__dirty&&!l.__inHover&&(h.__dirty=!0,h.incremental&&h.__drawIndex<0&&(h.__drawIndex=o))}e(o),this.eachBuiltinLayer(function(f,p){!f.__used&&f.getElementCount()>0&&(f.__dirty=!0,f.__startIndex=f.__endIndex=f.__drawIndex=0),f.__dirty&&f.__drawIndex<0&&(f.__drawIndex=f.__startIndex)})},n.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},n.prototype._clearLayer=function(t){t.clear()},n.prototype.setBackgroundColor=function(t){this._backgroundColor=t,Y(this._layers,function(e){e.setUnpainted()})},n.prototype.configLayer=function(t,e){if(e){var i=this._layerConfig;i[t]?Ie(i[t],e,!0):i[t]=e;for(var r=0;r<this._zlevelList.length;r++){var o=this._zlevelList[r];(o===t||o===t+.01)&&Ie(this._layers[o],i[t],!0)}}},n.prototype.delLayer=function(t){var e=this._layers,i=this._zlevelList,r=e[t];r&&(r.dom.parentNode.removeChild(r.dom),delete e[t],i.splice(pe(i,t),1))},n.prototype.resize=function(t,e){if(this._domRoot.style){var i=this._domRoot;i.style.display="none";var r=this._opts;if(null!=t&&(r.width=t),null!=e&&(r.height=e),t=this._getSize(0),e=this._getSize(1),i.style.display="",this._width!==t||e!==this._height){for(var o in i.style.width=t+"px",i.style.height=e+"px",this._layers)this._layers.hasOwnProperty(o)&&this._layers[o].resize(t,e);this.refresh(!0)}this._width=t,this._height=e}else{if(null==t||null==e)return;this._width=t,this._height=e,this.getLayer(Cd).resize(t,e)}return this},n.prototype.clearLayer=function(t){var e=this._layers[t];e&&e.clear()},n.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},n.prototype.getRenderedCanvas=function(t){if(this._singleCanvas&&!this._compositeManually)return this._layers[314159].dom;var e=new Ky("image",this,(t=t||{}).pixelRatio||this.dpr);e.initContext(),e.clear(!1,t.backgroundColor||this._backgroundColor);var i=e.ctx;if(t.pixelRatio<=this.dpr){this.refresh();var r=e.dom.width,o=e.dom.height;this.eachLayer(function(f){f.__builtin__?i.drawImage(f.dom,0,0,r,o):f.renderToCanvas&&(i.save(),f.renderToCanvas(i),i.restore())})}else for(var a={inHover:!1,viewWidth:this._width,viewHeight:this._height},s=this.storage.getDisplayList(!0),l=0,u=s.length;l<u;l++)Mu(i,s[l],a,l===u-1);return e.dom},n.prototype.getWidth=function(){return this._width},n.prototype.getHeight=function(){return this._height},n.prototype._getSize=function(t){var e=this._opts,i=["width","height"][t],r=["clientWidth","clientHeight"][t],o=["paddingLeft","paddingTop"][t],a=["paddingRight","paddingBottom"][t];if(null!=e[i]&&"auto"!==e[i])return parseFloat(e[i]);var s=this.root,l=document.defaultView.getComputedStyle(s);return(s[r]||nv(l[i])||nv(s.style[i]))-(nv(l[o])||0)-(nv(l[a])||0)|0},n.prototype.pathToImage=function(t,e){e=e||this.dpr;var i=document.createElement("canvas"),r=i.getContext("2d"),o=t.getBoundingRect(),a=t.style,s=a.shadowBlur*e,l=a.shadowOffsetX*e,u=a.shadowOffsetY*e,h=t.hasStroke()?a.lineWidth:0,f=Math.max(h/2,-l+s),p=Math.max(h/2,l+s),g=Math.max(h/2,-u+s),v=Math.max(h/2,u+s),m=o.width+f+p,y=o.height+g+v;i.width=m*e,i.height=y*e,r.scale(e,e),r.clearRect(0,0,m,y),r.dpr=e;var b={x:t.x,y:t.y,scaleX:t.scaleX,scaleY:t.scaleY,rotation:t.rotation,originX:t.originX,originY:t.originY};t.x=f-o.x,t.y=g-o.y,t.rotation=0,t.scaleX=1,t.scaleY=1,t.updateTransform(),t&&Mu(r,t,{inHover:!1,viewWidth:this._width,viewHeight:this._height},!0);var S=new fr({style:{x:0,y:0,image:i}});return se(t,b),S},n}(),cR=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return ue(t,n),t.prototype.getInitialData=function(e){return gl(null,this,{useEncodeDefaulter:!0})},t.prototype.getLegendIcon=function(e){var i=new Ft,r=Er("line",0,e.itemHeight/2,e.itemWidth,0,e.lineStyle.stroke,!1);i.add(r),r.setStyle(e.lineStyle);var o=this.getData().getVisual("symbol"),a=this.getData().getVisual("symbolRotate"),s="none"===o?"circle":o,l=.8*e.itemHeight,u=Er(s,(e.itemWidth-l)/2,(e.itemHeight-l)/2,l,l,e.itemStyle.fill);return i.add(u),u.setStyle(e.itemStyle),u.rotation=("inherit"===e.iconRotate?a:e.iconRotate||0)*Math.PI/180,u.setOrigin([e.itemWidth/2,e.itemHeight/2]),s.indexOf("empty")>-1&&(u.style.stroke=u.style.fill,u.style.fill="#fff",u.style.lineWidth=2),i},t.type="series.line",t.dependencies=["grid","polar"],t.defaultOption={zlevel:0,z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0,lineStyle:{width:"bolder"}},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"}},t}(Ei);function kh(n,t){var e=n.mapDimensionsAll("defaultedLabel"),i=e.length;if(1===i){var r=Sc(n,t,e[0]);return null!=r?r+"":null}if(i){for(var o=[],a=0;a<e.length;a++)o.push(Sc(n,t,e[a]));return o.join(" ")}}function jw(n,t){var e=n.mapDimensionsAll("defaultedLabel");if(!rt(t))return t+"";for(var i=[],r=0;r<e.length;r++){var o=n.getDimensionIndex(e[r]);o>=0&&i.push(t[o])}return i.join(" ")}var Id=function(n){function t(e,i,r,o){var a=n.call(this)||this;return a.updateData(e,i,r,o),a}return ue(t,n),t.prototype._createSymbol=function(e,i,r,o,a){this.removeAll();var s=Er(e,-1,-1,2,2,null,a);s.attr({z2:100,culling:!0,scaleX:o[0]/2,scaleY:o[1]/2}),s.drift=hR,this._symbolType=e,this.add(s)},t.prototype.stopSymbolAnimation=function(e){this.childAt(0).stopAnimation(null,e)},t.prototype.getSymbolType=function(){return this._symbolType},t.prototype.getSymbolPath=function(){return this.childAt(0)},t.prototype.highlight=function(){$a(this.childAt(0))},t.prototype.downplay=function(){Io(this.childAt(0))},t.prototype.setZ=function(e,i){var r=this.childAt(0);r.zlevel=e,r.z=i},t.prototype.setDraggable=function(e){var i=this.childAt(0);i.draggable=e,i.cursor=e?"move":i.cursor},t.prototype.updateData=function(e,i,r,o){this.silent=!1;var a=e.getItemVisual(i,"symbol")||"circle",s=e.hostModel,l=t.getSymbolSize(e,i),u=a!==this._symbolType,h=o&&o.disableAnimation;if(u){var f=e.getItemVisual(i,"symbolKeepAspect");this._createSymbol(a,e,i,l,f)}else{(g=this.childAt(0)).silent=!1;var p={scaleX:l[0]/2,scaleY:l[1]/2};h?g.attr(p):Un(g,p,s,i),ks(g)}if(this._updateCommon(e,i,l,r,o),u){var g=this.childAt(0);h||(p={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:g.style.opacity}},g.scaleX=g.scaleY=0,g.style.opacity=0,Vi(g,p,s,i))}h&&this.childAt(0).stopAnimation("remove"),this._seriesModel=s},t.prototype._updateCommon=function(e,i,r,o,a){var s,l,u,h,f,p,g,v,m=this.childAt(0),y=e.hostModel;if(o&&(s=o.emphasisItemStyle,l=o.blurItemStyle,u=o.selectItemStyle,h=o.focus,f=o.blurScope,p=o.labelStatesModels,g=o.hoverScale,v=o.cursorStyle),!o||e.hasItemOption){var b=o&&o.itemModel?o.itemModel:e.getItemModel(i),S=b.getModel("emphasis");s=S.getModel("itemStyle").getItemStyle(),u=b.getModel(["select","itemStyle"]).getItemStyle(),l=b.getModel(["blur","itemStyle"]).getItemStyle(),h=S.get("focus"),f=S.get("blurScope"),p=xo(b),g=S.getShallow("scale"),v=b.getShallow("cursor")}var E=e.getItemVisual(i,"symbolRotate");m.attr("rotation",(E||0)*Math.PI/180||0);var I=Ah(e.getItemVisual(i,"symbolOffset"),r);I&&(m.x=I[0],m.y=I[1]),v&&m.attr("cursor",v);var A=e.getItemVisual(i,"style"),L=A.fill;if(m instanceof fr){var R=m.style;m.useStyle(se({image:R.image,x:R.x,y:R.y,width:R.width,height:R.height},A))}else m.useStyle(m.__isEmptyBrush?se({},A):A),m.style.decal=null,m.setColor(L,a&&a.symbolInnerColor),m.style.strokeNoScale=!0;var k=e.getItemVisual(i,"liftZ"),H=this._z2;null!=k?null==H&&(this._z2=m.z2,m.z2+=k):null!=H&&(m.z2=H,this._z2=null);var U=a&&a.useNameLabel;Fo(m,p,{labelFetcher:y,labelDataIndex:i,defaultText:function($){return U?e.getName($):kh(e,$)},inheritColor:L,defaultOpacity:A.opacity}),this._sizeX=r[0]/2,this._sizeY=r[1]/2;var G=m.ensureState("emphasis");if(G.style=s,m.ensureState("select").style=u,m.ensureState("blur").style=l,g){var K=Math.max(1.1,3/this._sizeY);G.scaleX=this._sizeX*K,G.scaleY=this._sizeY*K}this.setSymbolScale(1),_(this,h,f)},t.prototype.setSymbolScale=function(e){this.scaleX=this.scaleY=e},t.prototype.fadeOut=function(e,i){var r=this.childAt(0),o=this._seriesModel,a=pn(this).dataIndex,s=i&&i.animation;if(this.silent=r.silent=!0,i&&i.fadeLabel){var l=r.getTextContent();l&&bu(l,{style:{opacity:0}},o,{dataIndex:a,removeOpt:s,cb:function(){r.removeTextContent()}})}else r.removeTextContent();bu(r,{style:{opacity:0},scaleX:0,scaleY:0},o,{dataIndex:a,cb:e,removeOpt:s})},t.getSymbolSize=function(e,i){return od(e.getItemVisual(i,"symbolSize"))},t}(Ft);function hR(n,t){this.parent.drift(n,t)}function Zy(n,t,e,i){return t&&!isNaN(t[0])&&!isNaN(t[1])&&!(i.isIgnore&&i.isIgnore(e))&&!(i.clipShape&&!i.clipShape.contain(t[0],t[1]))&&"none"!==n.getItemVisual(e,"symbol")}function qw(n){return null==n||Bt(n)||(n={isIgnore:n}),n||{}}function Kw(n){var t=n.hostModel,e=t.getModel("emphasis");return{emphasisItemStyle:e.getModel("itemStyle").getItemStyle(),blurItemStyle:t.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:t.getModel(["select","itemStyle"]).getItemStyle(),focus:e.get("focus"),blurScope:e.get("blurScope"),hoverScale:e.get("scale"),labelStatesModels:xo(t),cursorStyle:t.get("cursor")}}var Ad=function(){function n(t){this.group=new Ft,this._SymbolCtor=t||Id}return n.prototype.updateData=function(t,e){e=qw(e);var i=this.group,r=t.hostModel,o=this._data,a=this._SymbolCtor,s=e.disableAnimation,l=Kw(t),u={disableAnimation:s},h=e.getSymbolPoint||function(f){return t.getItemLayout(f)};o||i.removeAll(),t.diff(o).add(function(f){var p=h(f);if(Zy(t,p,f,e)){var g=new a(t,f,l,u);g.setPosition(p),t.setItemGraphicEl(f,g),i.add(g)}}).update(function(f,p){var g=o.getItemGraphicEl(p),v=h(f);if(Zy(t,v,f,e)){var m=t.getItemVisual(f,"symbol")||"circle",y=g&&g.getSymbolType&&g.getSymbolType();if(!g||y&&y!==m)i.remove(g),(g=new a(t,f,l,u)).setPosition(v);else{g.updateData(t,f,l,u);var b={x:v[0],y:v[1]};s?g.attr(b):Un(g,b,r)}i.add(g),t.setItemGraphicEl(f,g)}else i.remove(g)}).remove(function(f){var p=o.getItemGraphicEl(f);p&&p.fadeOut(function(){i.remove(p)})}).execute(),this._getSymbolPoint=h,this._data=t},n.prototype.isPersistent=function(){return!0},n.prototype.updateLayout=function(){var t=this,e=this._data;e&&e.eachItemGraphicEl(function(i,r){var o=t._getSymbolPoint(r);i.setPosition(o),i.markRedraw()})},n.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=Kw(t),this._data=null,this.group.removeAll()},n.prototype.incrementalUpdate=function(t,e,i){function r(l){l.isGroup||(l.incremental=!0,l.ensureState("emphasis").hoverLayer=!0)}i=qw(i);for(var o=t.start;o<t.end;o++){var a=e.getItemLayout(o);if(Zy(e,a,o,i)){var s=new this._SymbolCtor(e,o,this._seriesScope);s.traverse(r),s.setPosition(a),this.group.add(s),e.setItemGraphicEl(o,s)}}},n.prototype.remove=function(t){var e=this.group,i=this._data;i&&t?i.eachItemGraphicEl(function(r){r.fadeOut(function(){e.remove(r)})}):e.removeAll()},n}();function Zw(n,t,e){var m,y,b,i=n.getBaseAxis(),r=n.getOtherAxis(i),o=(m=e,y=0,b=r.scale.getExtent(),"start"===m?y=b[0]:"end"===m?y=b[1]:b[0]>0?y=b[0]:b[1]<0&&(y=b[1]),y),a=i.dim,s=r.dim,l=t.mapDimension(s),u=t.mapDimension(a),h="x"===s||"radius"===s?1:0,f=Ve(n.dimensions,function(v){return t.mapDimension(v)}),p=!1,g=t.getCalculationInfo("stackResultDimension");return zl(t,f[0])&&(p=!0,f[0]=g),zl(t,f[1])&&(p=!0,f[1]=g),{dataDimsForPoint:f,valueStart:o,valueAxisDim:s,baseAxisDim:a,stacked:!!p,valueDim:l,baseDim:u,baseDataOffset:h,stackedOverDimension:t.getCalculationInfo("stackedOverDimension")}}function Jw(n,t,e,i){var r=NaN;n.stacked&&(r=e.get(e.getCalculationInfo("stackedOverDimension"),i)),isNaN(r)&&(r=n.valueStart);var o=n.baseDataOffset,a=[];return a[o]=e.get(n.baseDim,i),a[1-o]=r,t.dataToPoint(a)}var Qw=typeof Float32Array<"u",fR=Qw?Float32Array:Array;function Ph(n){return rt(n)?Qw?new Float32Array(n):n:new fR(n)}var ku=Math.min,Pu=Math.max;function Lc(n,t){return isNaN(n)||isNaN(t)}function Jy(n,t,e,i,r,o,a,s,l){for(var u,h,f,p,g,v,m=e,y=0;y<i;y++){var b=t[2*m],S=t[2*m+1];if(m>=r||m<0)break;if(Lc(b,S)){if(l){m+=o;continue}break}if(m===e)n[o>0?"moveTo":"lineTo"](b,S),f=b,p=S;else{var E=b-u,I=S-h;if(E*E+I*I<.5){m+=o;continue}if(a>0){var A=m+o,L=t[2*A],R=t[2*A+1],k=y+1;if(l)for(;Lc(L,R)&&k<i;)k++,L=t[2*(A+=o)],R=t[2*A+1];var H=.5,U=0,G=0,K=void 0,$=void 0;if(k>=i||Lc(L,R))g=b,v=S;else{U=L-u,G=R-h;var ee=b-u,le=L-b,he=S-h,ge=R-S,me=void 0,be=void 0;"x"===s?(me=Math.abs(ee),be=Math.abs(le),g=b-me*a,v=S,K=b+me*a,$=S):"y"===s?(me=Math.abs(he),be=Math.abs(ge),g=b,v=S-me*a,K=b,$=S+me*a):(me=Math.sqrt(ee*ee+he*he),g=b-U*a*(1-(H=(be=Math.sqrt(le*le+ge*ge))/(be+me))),v=S-G*a*(1-H),$=S+G*a*H,K=ku(K=b+U*a*H,Pu(L,b)),$=ku($,Pu(R,S)),K=Pu(K,ku(L,b)),v=S-(G=($=Pu($,ku(R,S)))-S)*me/be,g=ku(g=b-(U=K-b)*me/be,Pu(u,b)),v=ku(v,Pu(h,S)),K=b+(U=b-(g=Pu(g,ku(u,b))))*be/me,$=S+(G=S-(v=Pu(v,ku(h,S))))*be/me)}n.bezierCurveTo(f,p,g,v,b,S),f=K,p=$}else n.lineTo(b,S)}u=b,h=S,m+=o}return y}var $w=function(){this.smooth=0,this.smoothConstraint=!0},dR=function(n){function t(e){var i=n.call(this,e)||this;return i.type="ec-polyline",i}return ue(t,n),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new $w},t.prototype.buildPath=function(e,i){var r=i.points,o=0,a=r.length/2;if(i.connectNulls){for(;a>0&&Lc(r[2*a-2],r[2*a-1]);a--);for(;o<a&&Lc(r[2*o],r[2*o+1]);o++);}for(;o<a;)o+=Jy(e,r,o,a,a,1,i.smooth,i.smoothMonotone,i.connectNulls)+1},t.prototype.getPointOn=function(e,i){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var r,o,a=this.path.data,s=vo.CMD,l="x"===i,u=[],h=0;h<a.length;){var f=void 0,p=void 0,g=void 0,v=void 0,m=void 0,y=void 0,b=void 0;switch(a[h++]){case s.M:r=a[h++],o=a[h++];break;case s.L:if(f=a[h++],p=a[h++],(b=l?(e-r)/(f-r):(e-o)/(p-o))<=1&&b>=0){var S=l?(p-o)*b+o:(f-r)*b+r;return l?[e,S]:[S,e]}r=f,o=p;break;case s.C:f=a[h++],p=a[h++],g=a[h++],v=a[h++],m=a[h++],y=a[h++];var E=l?lu(r,f,g,m,e,u):lu(o,p,v,y,e,u);if(E>0)for(var I=0;I<E;I++){var A=u[I];if(A<=1&&A>=0)return S=l?zi(o,p,v,y,A):zi(r,f,g,m,A),l?[e,S]:[S,e]}r=m,o=y}}},t}(Mn),pR=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return ue(t,n),t}($w),eT=function(n){function t(e){var i=n.call(this,e)||this;return i.type="ec-polygon",i}return ue(t,n),t.prototype.getDefaultShape=function(){return new pR},t.prototype.buildPath=function(e,i){var r=i.points,o=i.stackedOnPoints,a=0,s=r.length/2,l=i.smoothMonotone;if(i.connectNulls){for(;s>0&&Lc(r[2*s-2],r[2*s-1]);s--);for(;a<s&&Lc(r[2*a],r[2*a+1]);a++);}for(;a<s;){var u=Jy(e,r,a,s,s,1,i.smooth,l,i.connectNulls);Jy(e,o,a+u-1,u,s,-1,i.stackedOnSmooth,l,i.connectNulls),a+=u+1,e.closePath()}},t}(Mn);function tT(n,t,e,i,r){var o=n.getArea(),a=o.x,s=o.y,l=o.width,u=o.height,h=e.get(["lineStyle","width"])||2;a-=h/2,s-=h/2,l+=h,u+=h,a=Math.floor(a),l=Math.round(l);var f=new kn({shape:{x:a,y:s,width:l,height:u}});if(t){var p=n.getBaseAxis(),g=p.isHorizontal(),v=p.inverse;g?(v&&(f.shape.x+=l),f.shape.width=0):(v||(f.shape.y+=u),f.shape.height=0),Vi(f,{shape:{width:l,height:u,x:a,y:s}},e,null,i,"function"==typeof r?function(m){r(m,f)}:null)}return f}function nT(n,t,e){var i=n.getArea(),r=hr(i.r0,1),o=hr(i.r,1),a=new Bo({shape:{cx:hr(n.cx,1),cy:hr(n.cy,1),r0:r,r:o,startAngle:i.startAngle,endAngle:i.endAngle,clockwise:i.clockwise}});return t&&("angle"===n.getBaseAxis().dim?a.shape.endAngle=i.startAngle:a.shape.r=r,Vi(a,{shape:{endAngle:i.endAngle,r:o}},e)),a}function iv(n,t,e,i,r){return n?"polar"===n.type?nT(n,t,e):"cartesian2d"===n.type?tT(n,t,e,i,r):null:null}function Wl(n,t){return n.type===t}function iT(n,t){if(n.length===t.length){for(var e=0;e<n.length;e++)if(n[e]!==t[e])return;return!0}}function rT(n){for(var t=1/0,e=1/0,i=-1/0,r=-1/0,o=0;o<n.length;){var a=n[o++],s=n[o++];isNaN(a)||(t=Math.min(a,t),i=Math.max(a,i)),isNaN(s)||(e=Math.min(s,e),r=Math.max(s,r))}return[[t,e],[i,r]]}function oT(n,t){var e=rT(n),i=e[0],r=e[1],o=rT(t),a=o[0],s=o[1];return Math.max(Math.abs(i[0]-a[0]),Math.abs(i[1]-a[1]),Math.abs(r[0]-s[0]),Math.abs(r[1]-s[1]))}function aT(n){return"number"==typeof n?n:n?.5:0}function Bu(n,t,e){for(var i=t.getBaseAxis(),r="x"===i.dim||"radius"===i.dim?0:1,o=[],a=0,s=[],l=[],u=[];a<n.length-2;a+=2)switch(u[0]=n[a+2],u[1]=n[a+3],l[0]=n[a],l[1]=n[a+1],o.push(l[0],l[1]),e){case"end":s[r]=u[r],s[1-r]=l[1-r],o.push(s[0],s[1]);break;case"middle":var f=[];s[r]=f[r]=(l[r]+u[r])/2,s[1-r]=l[1-r],f[1-r]=u[1-r],o.push(s[0],s[1]),o.push(f[0],f[1]);break;default:s[r]=l[r],s[1-r]=u[1-r],o.push(s[0],s[1])}return o.push(n[a++],n[a++]),o}function sT(n,t){return[n[2*t],n[2*t+1]]}function lT(n){if(n.get(["endLabel","show"]))return!0;for(var t=0;t<Co.length;t++)if(n.get([Co[t],"endLabel","show"]))return!0;return!1}function Qy(n,t,e,i){if(Wl(t,"cartesian2d")){var r=i.getModel("endLabel"),o=r.get("valueAnimation"),a=i.getData(),s={lastFrameIndex:0},l=lT(i)?function(g,v){n._endLabelOnDuring(g,v,a,s,o,r,t)}:null,u=t.getBaseAxis().isHorizontal(),h=tT(t,e,i,function(){var g=n._endLabel;g&&e&&null!=s.originalX&&g.attr({x:s.originalX,y:s.originalY})},l);if(!i.get("clip",!0)){var f=h.shape,p=Math.max(f.width,f.height);u?(f.y-=p,f.height+=2*p):(f.x-=p,f.width+=2*p)}return l&&l(1,h),h}return nT(t,e,i)}var mR=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return ue(t,n),t.prototype.init=function(){var e=new Ft,i=new Ad;this.group.add(i.group),this._symbolDraw=i,this._lineGroup=e},t.prototype.render=function(e,i,r){var o=this,a=e.coordinateSystem,s=this.group,l=e.getData(),u=e.getModel("lineStyle"),h=e.getModel("areaStyle"),f=l.getLayout("points")||[],p="polar"===a.type,g=this._coordSys,v=this._symbolDraw,m=this._polyline,y=this._polygon,b=this._lineGroup,S=e.get("animation"),E=!h.isEmpty(),I=h.get("origin"),A=Zw(a,l,I),L=E&&function(nt,xt,Je){if(!Je.valueDim)return[];for(var dt=xt.count(),Dt=Ph(2*dt),Tt=0;Tt<dt;Tt++){var It=Jw(Je,nt,xt,Tt);Dt[2*Tt]=It[0],Dt[2*Tt+1]=It[1]}return Dt}(a,l,A),R=e.get("showSymbol"),k=R&&!p&&function vR(n,t,e){var i=n.get("showAllSymbol"),r="auto"===i;if(!i||r){var o=e.getAxesByScale("ordinal")[0];if(o&&(!r||!function(l,u){var h=l.getExtent(),f=Math.abs(h[1]-h[0])/l.scale.count();isNaN(f)&&(f=0);for(var p=u.count(),g=Math.max(1,Math.round(p/5)),v=0;v<p;v+=g)if(1.5*Id.getSymbolSize(u,v)[l.isHorizontal()?1:0]>f)return!1;return!0}(o,t))){var a=t.mapDimension(o.dim),s={};return Y(o.getViewLabels(),function(l){var u=o.scale.getRawOrdinalNumber(l.tickValue);s[u]=1}),function(l){return!s.hasOwnProperty(t.get(a,l))}}}}(e,l,a),H=this._data;H&&H.eachItemGraphicEl(function(nt,xt){nt.__temp&&(s.remove(nt),H.setItemGraphicEl(xt,null))}),R||v.remove(),s.add(b);var U,G=!p&&e.get("step");a&&a.getArea&&e.get("clip",!0)&&(null!=(U=a.getArea()).width?(U.x-=.1,U.y-=.1,U.width+=.2,U.height+=.2):U.r0&&(U.r0-=.5,U.r+=.5)),this._clipShapeForSymbol=U;var K=function gR(n,t,e){var i=n.getVisual("visualMeta");if(i&&i.length&&n.count()&&"cartesian2d"===t.type){for(var r,o,a=i.length-1;a>=0;a--){var s=n.getDimensionInfo(i[a].dimension);if("x"===(r=s&&s.coordDim)||"y"===r){o=i[a];break}}if(o){var l=t.getAxis(r),u=Ve(o.stops,function(S){return{coord:l.toGlobalCoord(l.dataToCoord(S.value)),color:S.color}}),h=u.length,f=o.outerColors.slice();h&&u[0].coord>u[h-1].coord&&(u.reverse(),f.reverse());var p=function(S,E){var I,A,L=[],R=S.length;function k(K,$,ee){var le=K.coord;return{coord:ee,color:T((ee-le)/($.coord-le),[K.color,$.color])}}for(var H=0;H<R;H++){var U=S[H],G=U.coord;if(G<0)I=U;else{if(G>E){A&&L.push(k(A,U,E));break}I&&(L.push(k(I,U,0)),I=null),L.push(U),A=U}}return L}(u,"x"===r?e.getWidth():e.getHeight()),g=p.length;if(!g&&h)return u[0].coord<0?f[1]?f[1]:u[h-1].color:f[0]?f[0]:u[0].color;var v=p[0].coord-0,m=p[g-1].coord+0,y=m-v;if(y<.001)return"transparent";Y(p,function(S){S.offset=(S.coord-v)/y}),p.push({offset:g?p[g-1].offset:.5,color:f[1]||"transparent"}),p.unshift({offset:g?p[0].offset:.5,color:f[0]||"transparent"});var b=new ch(0,0,0,0,p,!0);return b[r]=v,b[r+"2"]=m,b}}}(l,a,r)||l.getVisual("style")[l.getVisual("drawType")];if(m&&g.type===a.type&&G===this._step){E&&!y?y=this._newPolygon(f,L):y&&!E&&(b.remove(y),y=this._polygon=null),p||this._initOrUpdateEndLabel(e,a,yc(K));var $=b.getClipPath();$?Vi($,{shape:Qy(this,a,!1,e).shape},e):b.setClipPath(Qy(this,a,!0,e)),R&&v.updateData(l,{isIgnore:k,clipShape:U,disableAnimation:!0,getSymbolPoint:function(nt){return[f[2*nt],f[2*nt+1]]}}),iT(this._stackedOnPoints,L)&&iT(this._points,f)||(S?this._doUpdateAnimation(l,L,a,r,G,I):(G&&(f=Bu(f,a,G),L&&(L=Bu(L,a,G))),m.setShape({points:f}),y&&y.setShape({points:f,stackedOnPoints:L})))}else R&&v.updateData(l,{isIgnore:k,clipShape:U,disableAnimation:!0,getSymbolPoint:function(nt){return[f[2*nt],f[2*nt+1]]}}),S&&this._initSymbolLabelAnimation(l,a,U),G&&(f=Bu(f,a,G),L&&(L=Bu(L,a,G))),m=this._newPolyline(f),E&&(y=this._newPolygon(f,L)),p||this._initOrUpdateEndLabel(e,a,yc(K)),b.setClipPath(Qy(this,a,!0,e));var ee=e.get(["emphasis","focus"]),le=e.get(["emphasis","blurScope"]);m.useStyle(Ee(u.getLineStyle(),{fill:"none",stroke:K,lineJoin:"bevel"})),W(m,e,"lineStyle"),m.style.lineWidth>0&&"bolder"===e.get(["emphasis","lineStyle","width"])&&(m.getState("emphasis").style.lineWidth=+m.style.lineWidth+1),pn(m).seriesIndex=e.seriesIndex,_(m,ee,le);var he=aT(e.get("smooth")),ge=e.get("smoothMonotone"),me=e.get("connectNulls");if(m.setShape({smooth:he,smoothMonotone:ge,connectNulls:me}),y){var be=l.getCalculationInfo("stackedOnSeries"),Le=0;y.useStyle(Ee(h.getAreaStyle(),{fill:K,opacity:.7,lineJoin:"bevel",decal:l.getVisual("style").decal})),be&&(Le=aT(be.get("smooth"))),y.setShape({smooth:he,stackedOnSmooth:Le,smoothMonotone:ge,connectNulls:me}),W(y,e,"areaStyle"),pn(y).seriesIndex=e.seriesIndex,_(y,ee,le)}var Ge=function(nt){o._changePolyState(nt)};l.eachItemGraphicEl(function(nt){nt&&(nt.onHoverStateChange=Ge)}),this._polyline.onHoverStateChange=Ge,this._data=l,this._coordSys=a,this._stackedOnPoints=L,this._points=f,this._step=G,this._valueOrigin=I},t.prototype.dispose=function(){},t.prototype.highlight=function(e,i,r,o){var a=e.getData(),s=Ui(a,o);if(this._changePolyState("emphasis"),!(s instanceof Array)&&null!=s&&s>=0){var l=a.getLayout("points"),u=a.getItemGraphicEl(s);if(!u){var h=l[2*s],f=l[2*s+1];if(isNaN(h)||isNaN(f)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(h,f))return;var p=e.get("zlevel"),g=e.get("z");(u=new Id(a,s)).x=h,u.y=f,u.setZ(p,g);var v=u.getSymbolPath().getTextContent();v&&(v.zlevel=p,v.z=g,v.z2=this._polyline.z2+1),u.__temp=!0,a.setItemGraphicEl(s,u),u.stopSymbolAnimation(!0),this.group.add(u)}u.highlight()}else vi.prototype.highlight.call(this,e,i,r,o)},t.prototype.downplay=function(e,i,r,o){var a=e.getData(),s=Ui(a,o);if(this._changePolyState("normal"),null!=s&&s>=0){var l=a.getItemGraphicEl(s);l&&(l.__temp?(a.setItemGraphicEl(s,null),this.group.remove(l)):l.downplay())}else vi.prototype.downplay.call(this,e,i,r,o)},t.prototype._changePolyState=function(e){var i=this._polygon;sh(this._polyline,e),i&&sh(i,e)},t.prototype._newPolyline=function(e){var i=this._polyline;return i&&this._lineGroup.remove(i),i=new dR({shape:{points:e},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(i),this._polyline=i,i},t.prototype._newPolygon=function(e,i){var r=this._polygon;return r&&this._lineGroup.remove(r),r=new eT({shape:{points:e,stackedOnPoints:i},segmentIgnoreThreshold:2}),this._lineGroup.add(r),this._polygon=r,r},t.prototype._initSymbolLabelAnimation=function(e,i,r){var o,a,s=i.getBaseAxis(),l=s.inverse;"cartesian2d"===i.type?(o=s.isHorizontal(),a=!1):"polar"===i.type&&(o="angle"===s.dim,a=!0);var u=e.hostModel,h=u.get("animationDuration");"function"==typeof h&&(h=h(null));var f=u.get("animationDelay")||0,p="function"==typeof f?f(null):f;e.eachItemGraphicEl(function(g,v){var m=g;if(m){var b=void 0,S=void 0,E=void 0;if(r)if(a){var I=r,A=i.pointToCoord([g.x,g.y]);o?(b=I.startAngle,S=I.endAngle,E=-A[1]/180*Math.PI):(b=I.r0,S=I.r,E=A[0])}else o?(b=r.x,S=r.x+r.width,E=g.x):(b=r.y+r.height,S=r.y,E=g.y);var R=S===b?0:(E-b)/(S-b);l&&(R=1-R);var k="function"==typeof f?f(v):h*R+p,H=m.getSymbolPath(),U=H.getTextContent();m.attr({scaleX:0,scaleY:0}),m.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:k}),U&&U.animateFrom({style:{opacity:0}},{duration:300,delay:k}),H.disableLabelAnimation=!0}})},t.prototype._initOrUpdateEndLabel=function(e,i,r){var h,p,g,v,m,y,o=e.getModel("endLabel");if(lT(e)){var a=e.getData(),s=this._polyline,l=this._endLabel;l||((l=this._endLabel=new Nn({z2:200})).ignoreClip=!0,s.setTextContent(this._endLabel),s.disableLabelAnimation=!0);var u=function(h){for(var p,g=h.length/2;g>0&&(p=h[2*g-1],isNaN(h[2*g-2])||isNaN(p));g--);return g-1}(a.getLayout("points"));u>=0&&(Fo(s,xo(e,"endLabel"),{inheritColor:r,labelFetcher:e,labelDataIndex:u,defaultText:function(h,f,p){return null!=p?jw(a,p):kh(a,h)},enableTextSetter:!0},(h=o,g=(p=i.getBaseAxis()).isHorizontal(),v=p.inverse,m=g?v?"right":"left":"center",y=g?"middle":v?"top":"bottom",{normal:{align:h.get("align")||m,verticalAlign:h.get("verticalAlign")||y}})),s.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},t.prototype._endLabelOnDuring=function(e,i,r,o,a,s,l){var u=this._endLabel,h=this._polyline;if(u){e<1&&null==o.originalX&&(o.originalX=u.x,o.originalY=u.y);var f=r.getLayout("points"),p=r.hostModel,g=p.get("connectNulls"),v=s.get("precision"),m=s.get("distance")||0,y=l.getBaseAxis(),b=y.isHorizontal(),S=y.inverse,E=i.shape,I=S?b?E.x:E.y+E.height:b?E.x+E.width:E.y,A=(b?m:0)*(S?-1:1),L=(b?0:-m)*(S?-1:1),R=b?"x":"y",k=function(he,ge,me){for(var be,Le,Ge=he.length/2,nt="x"===me?0:1,xt=0,Je=-1,dt=0;dt<Ge;dt++)if(Le=he[2*dt+nt],!isNaN(Le)&&!isNaN(he[2*dt+1-nt]))if(0!==dt){if(be<=ge&&Le>=ge||be>=ge&&Le<=ge){Je=dt;break}xt=dt,be=Le}else be=Le;return{range:[xt,Je],t:(ge-be)/(Le-be)}}(f,I,R),H=k.range,U=H[1]-H[0],G=void 0;if(U>=1){if(U>1&&!g){var K=sT(f,H[0]);u.attr({x:K[0]+A,y:K[1]+L}),a&&(G=p.getRawValue(H[0]))}else{(K=h.getPointOn(I,R))&&u.attr({x:K[0]+A,y:K[1]+L});var $=p.getRawValue(H[0]),ee=p.getRawValue(H[1]);a&&(G=hp(r,v,$,ee,k.t))}o.lastFrameIndex=H[0]}else{var le=1===e||o.lastFrameIndex>0?H[0]:0;K=sT(f,le),a&&(G=p.getRawValue(le)),u.attr({x:K[0]+A,y:K[1]+L})}a&&Vf(u).setLabelText(G)}},t.prototype._doUpdateAnimation=function(e,i,r,o,a,s){var l=this._polyline,u=this._polygon,h=e.hostModel,f=function(A,L,R,k,H,U,G,K){for(var $=function(_n,eo){var Hr=[];return eo.diff(_n).add(function(ki){Hr.push({cmd:"+",idx:ki})}).update(function(ki,Vo){Hr.push({cmd:"=",idx:Vo,idx1:ki})}).remove(function(ki){Hr.push({cmd:"-",idx:ki})}).execute(),Hr}(A,L),ee=[],le=[],he=[],ge=[],me=[],be=[],Le=[],Ge=Zw(H,L,G),nt=A.getLayout("points")||[],xt=L.getLayout("points")||[],Je=0;Je<$.length;Je++){var dt=$[Je],Dt=!0,Tt=void 0,It=void 0;switch(dt.cmd){case"=":var Yt=nt[Tt=2*dt.idx],Xt=nt[Tt+1],un=xt[It=2*dt.idx1],dn=xt[It+1];(isNaN(Yt)||isNaN(Xt))&&(Yt=un,Xt=dn),ee.push(Yt,Xt),le.push(un,dn),he.push(R[Tt],R[Tt+1]),ge.push(k[It],k[It+1]),Le.push(L.getRawIndex(dt.idx1));break;case"+":var mn=dt.idx,Zi=Ge.dataDimsForPoint,Gi=H.dataToPoint([L.get(Zi[0],mn),L.get(Zi[1],mn)]);It=2*mn,ee.push(Gi[0],Gi[1]),le.push(xt[It],xt[It+1]);var Wn=Jw(Ge,H,L,mn);he.push(Wn[0],Wn[1]),ge.push(k[It],k[It+1]),Le.push(L.getRawIndex(mn));break;case"-":Dt=!1}Dt&&(me.push(dt),be.push(be.length))}be.sort(function(_n,eo){return Le[_n]-Le[eo]});var Hn=ee.length,ar=Ph(Hn),Oi=Ph(Hn),zo=Ph(Hn),aa=Ph(Hn),_i=[];for(Je=0;Je<be.length;Je++){var On=be[Je],mi=2*Je,$n=2*On;ar[mi]=ee[$n],ar[mi+1]=ee[$n+1],Oi[mi]=le[$n],Oi[mi+1]=le[$n+1],zo[mi]=he[$n],zo[mi+1]=he[$n+1],aa[mi]=ge[$n],aa[mi+1]=ge[$n+1],_i[Je]=me[On]}return{current:ar,next:Oi,stackedOnCurrent:zo,stackedOnNext:aa,status:_i}}(this._data,e,this._stackedOnPoints,i,this._coordSys,0,this._valueOrigin),p=f.current,g=f.stackedOnCurrent,v=f.next,m=f.stackedOnNext;if(a&&(p=Bu(f.current,r,a),g=Bu(f.stackedOnCurrent,r,a),v=Bu(f.next,r,a),m=Bu(f.stackedOnNext,r,a)),oT(p,v)>3e3||u&&oT(g,m)>3e3)return l.stopAnimation(),l.setShape({points:v}),void(u&&(u.stopAnimation(),u.setShape({points:v,stackedOnPoints:m})));l.shape.__points=f.current,l.shape.points=p;var y={shape:{points:v}};f.current!==p&&(y.shape.__points=f.next),l.stopAnimation(),Un(l,y,h),u&&(u.setShape({points:p,stackedOnPoints:g}),u.stopAnimation(),Un(u,{shape:{stackedOnPoints:m}},h),l.shape.points!==u.shape.points&&(u.shape.points=l.shape.points));for(var b=[],S=f.status,E=0;E<S.length;E++)if("="===S[E].cmd){var I=e.getItemGraphicEl(S[E].idx1);I&&b.push({el:I,ptIdx:E})}l.animators&&l.animators.length&&l.animators[0].during(function(){u&&u.dirtyShape();for(var A=l.shape.__points,L=0;L<b.length;L++){var R=b[L].el,k=2*b[L].ptIdx;R.x=A[k],R.y=A[k+1],R.markRedraw()}})},t.prototype.remove=function(e){var i=this.group,r=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),r&&r.eachItemGraphicEl(function(o,a){o.__temp&&(i.remove(o),r.setItemGraphicEl(a,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},t.type="line",t}(vi);function Md(n,t){return{seriesType:n,plan:Eh(),reset:function(e){var i=e.getData(),r=e.coordinateSystem,a=t||e.pipelineContext.large;if(r){var s=Ve(r.dimensions,function(g){return i.mapDimension(g)}).slice(0,2),l=s.length,u=i.getCalculationInfo("stackResultDimension");zl(i,s[0])&&(s[0]=u),zl(i,s[1])&&(s[1]=u);var h=i.getStore(),f=i.getDimensionIndex(s[0]),p=i.getDimensionIndex(s[1]);return l&&{progress:function(g,v){for(var y=a&&Ph((g.end-g.start)*l),b=[],S=[],E=g.start,I=0;E<g.end;E++){var A=void 0;if(1===l){var L=h.get(f,E);A=r.dataToPoint(L,null,S)}else b[0]=h.get(f,E),b[1]=h.get(p,E),A=r.dataToPoint(b,null,S);a?(y[I++]=A[0],y[I++]=A[1]):v.setItemLayout(E,A.slice())}a&&v.setLayout("points",y)}}}}}}var yR={average:function(n){for(var t=0,e=0,i=0;i<n.length;i++)isNaN(n[i])||(t+=n[i],e++);return 0===e?NaN:t/e},sum:function(n){for(var t=0,e=0;e<n.length;e++)t+=n[e]||0;return t},max:function(n){for(var t=-1/0,e=0;e<n.length;e++)n[e]>t&&(t=n[e]);return isFinite(t)?t:NaN},min:function(n){for(var t=1/0,e=0;e<n.length;e++)n[e]<t&&(t=n[e]);return isFinite(t)?t:NaN},nearest:function(n){return n[0]}},_R=function(n){return Math.round(n.length/2)};function uT(n){return{seriesType:n,reset:function(t,e,i){var r=t.getData(),o=t.get("sampling"),a=t.coordinateSystem,s=r.count();if(s>10&&"cartesian2d"===a.type&&o){var l=a.getBaseAxis(),u=a.getOtherAxis(l),h=l.getExtent(),f=i.getDevicePixelRatio(),p=Math.abs(h[1]-h[0])*(f||1),g=Math.round(s/p);if(g>1){"lttb"===o&&t.setData(r.lttbDownSample(r.mapDimension(u.dim),1/g));var v=void 0;"string"==typeof o?v=yR[o]:"function"==typeof o&&(v=o),v&&t.setData(r.downSample(r.mapDimension(u.dim),1/g,v,_R))}}}}}var Ld=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return ue(t,n),t.prototype.getInitialData=function(e,i){return gl(null,this,{useEncodeDefaulter:!0})},t.prototype.getMarkerPosition=function(e){var i=this.coordinateSystem;if(i&&i.clampData){var r=i.dataToPoint(i.clampData(e)),o=this.getData(),a=o.getLayout("offset"),s=o.getLayout("size");return r[i.getBaseAxis().isHorizontal()?0:1]+=a+s/2,r}return[NaN,NaN]},t.type="series.__base_bar__",t.defaultOption={zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},t}(Ei);Ei.registerClass(Ld);var xR=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return ue(t,n),t.prototype.getInitialData=function(){return gl(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},t.prototype.getProgressive=function(){return!!this.get("large")&&this.get("progressive")},t.prototype.getProgressiveThreshold=function(){var e=this.get("progressiveThreshold"),i=this.get("largeThreshold");return i>e&&(e=i),e},t.prototype.brushSelector=function(e,i,r){return r.rect(i.getItemLayout(e))},t.type="series.bar",t.dependencies=["grid","polar"],t.defaultOption=wu(Ld.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),t}(Ld),bR=function(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0},rv=function(n){function t(e){var i=n.call(this,e)||this;return i.type="sausage",i}return ue(t,n),t.prototype.getDefaultShape=function(){return new bR},t.prototype.buildPath=function(e,i){var r=i.cx,o=i.cy,a=Math.max(i.r0||0,0),s=Math.max(i.r,0),l=.5*(s-a),u=a+l,h=i.startAngle,f=i.endAngle,p=i.clockwise,g=Math.cos(h),v=Math.sin(h),m=Math.cos(f),y=Math.sin(f);(p?f-h<2*Math.PI:h-f<2*Math.PI)&&(e.moveTo(g*a+r,v*a+o),e.arc(g*u+r,v*u+o,l,-Math.PI+h,h,!p)),e.arc(r,o,s,h,f,!p),e.moveTo(m*s+r,y*s+o),e.arc(m*u+r,y*u+o,l,f-2*Math.PI,f-Math.PI,!p),0!==a&&(e.arc(r,o,a,f,h,p),e.moveTo(g*a+r,y*a+o)),e.closePath()},t}(Mn);function ov(n,t,e){return t*Math.sin(n)*(e?-1:1)}function av(n,t,e){return t*Math.cos(n)*(e?1:-1)}var sv=[0,0],$y=Math.max,e0=Math.min,SR=function(n){function t(){var e=n.call(this)||this;return e.type=t.type,e._isFirstFrame=!0,e}return ue(t,n),t.prototype.render=function(e,i,r,o){this._model=e,this._removeOnRenderedListener(r),this._updateDrawMode(e);var a=e.get("coordinateSystem");("cartesian2d"===a||"polar"===a)&&(this._isLargeDraw?this._renderLarge(e,i,r):this._renderNormal(e,i,r,o))},t.prototype.incrementalPrepareRender=function(e){this._clear(),this._updateDrawMode(e),this._updateLargeClip(e)},t.prototype.incrementalRender=function(e,i){this._incrementalRenderLarge(e,i)},t.prototype._updateDrawMode=function(e){var i=e.pipelineContext.large;null!=this._isLargeDraw&&i===this._isLargeDraw||(this._isLargeDraw=i,this._clear())},t.prototype._renderNormal=function(e,i,r,o){var a,s=this.group,l=e.getData(),u=this._data,h=e.coordinateSystem,f=h.getBaseAxis();"cartesian2d"===h.type?a=f.isHorizontal():"polar"===h.type&&(a="angle"===f.dim);var p=e.isAnimationEnabled()?e:null,g=function(G,K){var $=G.get("realtimeSort",!0),ee=K.getBaseAxis();if($&&"category"===ee.type&&"cartesian2d"===K.type)return{baseAxis:ee,otherAxis:K.getOtherAxis(ee)}}(e,h);g&&this._enableRealtimeSort(g,l,r);var v=e.get("clip",!0)||g,m=function(G,K){var $=G.getArea&&G.getArea();if(Wl(G,"cartesian2d")){var ee=G.getBaseAxis();if("category"!==ee.type||!ee.onBand){var le=K.getLayout("bandWidth");ee.isHorizontal()?($.x-=le,$.width+=2*le):($.y-=le,$.height+=2*le)}}return $}(h,l);s.removeClipPath();var y=e.get("roundCap",!0),b=e.get("showBackground",!0),S=e.getModel("backgroundStyle"),E=S.get("borderRadius")||0,I=[],A=this._backgroundEls,L=o&&o.isInitSort,R=o&&"changeAxisOrder"===o.type;function k(G){var ee,K=lv[h.type](l,G),$=new("polar"===(ee=h).type?Bo:kn)({shape:xT(a,K,ee),silent:!0,z2:0});return $.useStyle(S.getItemStyle()),"cartesian2d"===h.type&&$.setShape("r",E),I[G]=$,$}l.diff(u).add(function(G){var K=l.getItemModel(G),$=lv[h.type](l,G,K);if(b&&k(G),l.hasValue(G)&&pT[h.type]($)){var ee=!1;v&&(ee=cT[h.type](m,$));var le=hT[h.type](e,l,G,$,a,p,f.model,!1,y);vT(le,l,G,K,$,e,a,"polar"===h.type),L?le.attr({shape:$}):g?fT(g,p,le,$,G,a,!1,!1):Vi(le,{shape:$},e,G),l.setItemGraphicEl(G,le),s.add(le),le.ignore=ee}}).update(function(G,K){var $=l.getItemModel(G),ee=lv[h.type](l,G,$);if(b){var le=void 0;0===A.length?le=k(K):((le=A[K]).useStyle(S.getItemStyle()),"cartesian2d"===h.type&&le.setShape("r",E),I[G]=le);var he=lv[h.type](l,G);Un(le,{shape:xT(a,he,h)},p,G)}var ge=u.getItemGraphicEl(K);if(l.hasValue(G)&&pT[h.type](ee)){var me=!1;v&&(me=cT[h.type](m,ee))&&s.remove(ge),ge?ks(ge):ge=hT[h.type](e,l,G,ee,a,p,f.model,!!ge,y),R||vT(ge,l,G,$,ee,e,a,"polar"===h.type),L?ge.attr({shape:ee}):g?fT(g,p,ge,ee,G,a,!0,R):Un(ge,{shape:ee},e,G,null),l.setItemGraphicEl(G,ge),ge.ignore=me,s.add(ge)}else s.remove(ge)}).remove(function(G){var K=u.getItemGraphicEl(G);K&&Bf(K,e,G)}).execute();var H=this._backgroundGroup||(this._backgroundGroup=new Ft);H.removeAll();for(var U=0;U<I.length;++U)H.add(I[U]);s.add(H),this._backgroundEls=I,this._data=l},t.prototype._renderLarge=function(e,i,r){this._clear(),yT(e,this.group),this._updateLargeClip(e)},t.prototype._incrementalRenderLarge=function(e,i){this._removeBackground(),yT(i,this.group,!0)},t.prototype._updateLargeClip=function(e){var i=e.get("clip",!0)?iv(e.coordinateSystem,!1,e):null;i?this.group.setClipPath(i):this.group.removeClipPath()},t.prototype._enableRealtimeSort=function(e,i,r){var o=this;if(i.count()){var a=e.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(i,e,r),this._isFirstFrame=!1;else{var s=function(l){var u=i.getItemGraphicEl(l);if(u){var h=u.shape;return(a.isHorizontal()?Math.abs(h.height):Math.abs(h.width))||0}return 0};this._onRendered=function(){o._updateSortWithinSameData(i,s,a,r)},r.getZr().on("rendered",this._onRendered)}}},t.prototype._dataSort=function(e,i,r){var o=[];return e.each(e.mapDimension(i.dim),function(a,s){var l=r(s);o.push({dataIndex:s,mappedValue:l=l??NaN,ordinalNumber:a})}),o.sort(function(a,s){return s.mappedValue-a.mappedValue}),{ordinalNumbers:Ve(o,function(a){return a.ordinalNumber})}},t.prototype._isOrderChangedWithinSameData=function(e,i,r){for(var o=r.scale,a=e.mapDimension(r.dim),s=Number.MAX_VALUE,l=0,u=o.getOrdinalMeta().categories.length;l<u;++l){var h=e.rawIndexOf(a,o.getRawOrdinalNumber(l)),f=h<0?Number.MIN_VALUE:i(e.indexOfRawIndex(h));if(f>s)return!0;s=f}return!1},t.prototype._isOrderDifferentInView=function(e,i){for(var r=i.scale,o=r.getExtent(),a=Math.max(0,o[0]),s=Math.min(o[1],r.getOrdinalMeta().categories.length-1);a<=s;++a)if(e.ordinalNumbers[a]!==r.getRawOrdinalNumber(a))return!0},t.prototype._updateSortWithinSameData=function(e,i,r,o){if(this._isOrderChangedWithinSameData(e,i,r)){var a=this._dataSort(e,r,i);this._isOrderDifferentInView(a,r)&&(this._removeOnRenderedListener(o),o.dispatchAction({type:"changeAxisOrder",componentType:r.dim+"Axis",axisId:r.index,sortInfo:a}))}},t.prototype._dispatchInitSort=function(e,i,r){var o=i.baseAxis,a=this._dataSort(e,o,function(s){return e.get(e.mapDimension(i.otherAxis.dim),s)});r.dispatchAction({type:"changeAxisOrder",componentType:o.dim+"Axis",isInitSort:!0,axisId:o.index,sortInfo:a})},t.prototype.remove=function(e,i){this._clear(this._model),this._removeOnRenderedListener(i)},t.prototype.dispose=function(e,i){this._removeOnRenderedListener(i)},t.prototype._removeOnRenderedListener=function(e){this._onRendered&&(e.getZr().off("rendered",this._onRendered),this._onRendered=null)},t.prototype._clear=function(e){var i=this.group,r=this._data;e&&e.isAnimationEnabled()&&r&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],r.eachItemGraphicEl(function(o){Bf(o,e,pn(o).dataIndex)})):i.removeAll(),this._data=null,this._isFirstFrame=!0},t.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},t.type="bar",t}(vi),cT={cartesian2d:function(n,t){var e=t.width<0?-1:1,i=t.height<0?-1:1;e<0&&(t.x+=t.width,t.width=-t.width),i<0&&(t.y+=t.height,t.height=-t.height);var r=n.x+n.width,o=n.y+n.height,a=$y(t.x,n.x),s=e0(t.x+t.width,r),l=$y(t.y,n.y),u=e0(t.y+t.height,o),h=s<a,f=u<l;return t.x=h&&a>r?s:a,t.y=f&&l>o?u:l,t.width=h?0:s-a,t.height=f?0:u-l,e<0&&(t.x+=t.width,t.width=-t.width),i<0&&(t.y+=t.height,t.height=-t.height),h||f},polar:function(n,t){var e=t.r0<=t.r?1:-1;if(e<0){var i=t.r;t.r=t.r0,t.r0=i}var r=e0(t.r,n.r),o=$y(t.r0,n.r0);t.r=r,t.r0=o;var a=r-o<0;return e<0&&(i=t.r,t.r=t.r0,t.r0=i),a}},hT={cartesian2d:function(n,t,e,i,r,o,a,s,l){var u=new kn({shape:se({},i),z2:1});return u.__dataIndex=e,u.name="item",o&&(u.shape[r?"height":"width"]=0),u},polar:function(n,t,e,i,r,o,a,s,l){var u=!r&&l?rv:Bo,h=new u({shape:i,z2:1});h.name="item";var f,p,g=gT(r);if(h.calculateTextPosition=(f=g,p=u===rv,function(y,b,S){var E=b.position;if(!E||E instanceof Array)return Ut(y,b,S);var I=f(E),A=null!=b.distance?b.distance:5,L=this.shape,R=L.cx,k=L.cy,H=L.r,U=L.r0,G=(H+U)/2,K=L.startAngle,$=L.endAngle,ee=(K+$)/2,le=p?Math.abs(H-U)/2:0,he=Math.cos,ge=Math.sin,me=R+H*he(K),be=k+H*ge(K),Le="left",Ge="top";switch(I){case"startArc":me=R+(U-A)*he(ee),be=k+(U-A)*ge(ee),Le="center",Ge="top";break;case"insideStartArc":me=R+(U+A)*he(ee),be=k+(U+A)*ge(ee),Le="center",Ge="bottom";break;case"startAngle":me=R+G*he(K)+ov(K,A+le,!1),be=k+G*ge(K)+av(K,A+le,!1),Le="right",Ge="middle";break;case"insideStartAngle":me=R+G*he(K)+ov(K,-A+le,!1),be=k+G*ge(K)+av(K,-A+le,!1),Le="left",Ge="middle";break;case"middle":me=R+G*he(ee),be=k+G*ge(ee),Le="center",Ge="middle";break;case"endArc":me=R+(H+A)*he(ee),be=k+(H+A)*ge(ee),Le="center",Ge="bottom";break;case"insideEndArc":me=R+(H-A)*he(ee),be=k+(H-A)*ge(ee),Le="center",Ge="top";break;case"endAngle":me=R+G*he($)+ov($,A+le,!0),be=k+G*ge($)+av($,A+le,!0),Le="left",Ge="middle";break;case"insideEndAngle":me=R+G*he($)+ov($,-A+le,!0),be=k+G*ge($)+av($,-A+le,!0),Le="right",Ge="middle";break;default:return Ut(y,b,S)}return(y=y||{}).x=me,y.y=be,y.align=Le,y.verticalAlign=Ge,y}),o){var v=r?"r":"endAngle",m={};h.shape[v]=r?0:i.startAngle,m[v]=i[v],(s?Un:Vi)(h,{shape:m},o)}return h}};function fT(n,t,e,i,r,o,a,s){var l,u;o?(u={x:i.x,width:i.width},l={y:i.y,height:i.height}):(u={y:i.y,height:i.height},l={x:i.x,width:i.width}),s||(a?Un:Vi)(e,{shape:l},t,r,null),(a?Un:Vi)(e,{shape:u},t?n.baseAxis.model:null,r)}function dT(n,t){for(var e=0;e<t.length;e++)if(!isFinite(n[t[e]]))return!0;return!1}var wR=["x","y","width","height"],TR=["cx","cy","r","startAngle","endAngle"],pT={cartesian2d:function(n){return!dT(n,wR)},polar:function(n){return!dT(n,TR)}},lv={cartesian2d:function(n,t,e){var i=n.getItemLayout(t),r=e?function(s,l){var u=s.get(["itemStyle","borderColor"]);if(!u||"none"===u)return 0;var h=s.get(["itemStyle","borderWidth"])||0,f=isNaN(l.width)?Number.MAX_VALUE:Math.abs(l.width),p=isNaN(l.height)?Number.MAX_VALUE:Math.abs(l.height);return Math.min(h,f,p)}(e,i):0,o=i.width>0?1:-1,a=i.height>0?1:-1;return{x:i.x+o*r/2,y:i.y+a*r/2,width:i.width-o*r,height:i.height-a*r}},polar:function(n,t,e){var i=n.getItemLayout(t);return{cx:i.cx,cy:i.cy,r0:i.r0,r:i.r,startAngle:i.startAngle,endAngle:i.endAngle,clockwise:i.clockwise}}};function gT(n){return function(t){var e=t?"Arc":"Angle";return function(i){switch(i){case"start":case"insideStart":case"end":case"insideEnd":return i+e;default:return i}}}(n)}function vT(n,t,e,i,r,o,a,s){var l=t.getItemVisual(e,"style");s||n.setShape("r",i.get(["itemStyle","borderRadius"])||0),n.useStyle(l);var u=i.getShallow("cursor");u&&n.attr("cursor",u);var h=s?a?r.r>=r.r0?"endArc":"startArc":r.endAngle>=r.startAngle?"endAngle":"startAngle":a?r.height>=0?"bottom":"top":r.width>=0?"right":"left",f=xo(i);Fo(n,f,{labelFetcher:o,labelDataIndex:e,defaultText:kh(o.getData(),e),inheritColor:l.fill,defaultOpacity:l.opacity,defaultOutsidePosition:h});var p=n.getTextContent();if(s&&p){var g=i.get(["label","position"]);n.textConfig.inside="middle"===g||null,function(m,y,b,S){if("number"!=typeof S)if(rt(y))m.setTextConfig({rotation:0});else{var E,I=m.shape,A=I.clockwise?I.startAngle:I.endAngle,L=I.clockwise?I.endAngle:I.startAngle,R=(A+L)/2,k=b(y);switch(k){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":E=R;break;case"startAngle":case"insideStartAngle":E=A;break;case"endAngle":case"insideEndAngle":E=L;break;default:return void m.setTextConfig({rotation:0})}var H=1.5*Math.PI-E;"middle"===k&&H>Math.PI/2&&H<1.5*Math.PI&&(H-=Math.PI),m.setTextConfig({rotation:H})}else m.setTextConfig({rotation:S})}(n,"outside"===g?h:g,gT(a),i.get(["label","rotate"]))}K1(p,f,o.getRawValue(e),function(m){return jw(t,m)});var m,v=i.getModel(["emphasis"]);_(n,v.get("focus"),v.get("blurScope")),W(n,i),null!=(m=r).startAngle&&null!=m.endAngle&&m.startAngle===m.endAngle&&(n.style.fill="none",n.style.stroke="none",Y(n.states,function(m){m.style&&(m.style.fill=m.style.stroke="none")}))}var ER=function(){},mT=function(n){function t(e){var i=n.call(this,e)||this;return i.type="largeBar",i}return ue(t,n),t.prototype.getDefaultShape=function(){return new ER},t.prototype.buildPath=function(e,i){for(var r=i.points,o=this.__startPoint,a=this.__baseDimIdx,s=0;s<r.length;s+=2)o[a]=r[s+a],e.moveTo(o[0],o[1]),e.lineTo(r[s],r[s+1])},t}(Mn);function yT(n,t,e){var i=n.getData(),r=[],o=i.getLayout("valueAxisHorizontal")?1:0;r[1-o]=i.getLayout("valueAxisStart");var g,v,m,y,b,a=i.getLayout("largeDataIndices"),s=i.getLayout("barWidth"),l=n.getModel("backgroundStyle");if(n.get("showBackground",!0)){var u=i.getLayout("largeBackgroundPoints"),h=[];h[1-o]=i.getLayout("backgroundStart");var f=new mT({shape:{points:u},incremental:!!e,silent:!0,z2:0});f.__startPoint=h,f.__baseDimIdx=o,f.__largeDataIndices=a,f.__barWidth=s,g=f,m=i,y=(v=l).get("borderColor")||v.get("color"),b=v.getItemStyle(),g.useStyle(b),g.style.fill=null,g.style.stroke=y,g.style.lineWidth=m.getLayout("barWidth"),t.add(f)}var p=new mT({shape:{points:i.getLayout("largePoints")},incremental:!!e});p.__startPoint=r,p.__baseDimIdx=o,p.__largeDataIndices=a,p.__barWidth=s,t.add(p),function(g,v,m){var y=m.getVisual("style");g.useStyle(se({},y)),g.style.fill=null,g.style.stroke=y.fill,g.style.lineWidth=m.getLayout("barWidth")}(p,0,i),pn(p).seriesIndex=n.seriesIndex,n.get("silent")||(p.on("mousedown",_T),p.on("mousemove",_T))}var _T=ed(function(n){var t=function(e,i,r){var o=e.__baseDimIdx,a=1-o,s=e.shape.points,l=e.__largeDataIndices,u=Math.abs(e.__barWidth/2),h=e.__startPoint[a];sv[0]=i,sv[1]=r;for(var f=sv[o],p=sv[1-o],g=f-u,v=f+u,m=0,y=s.length/2;m<y;m++){var b=2*m,S=s[b+o],E=s[b+a];if(S>=g&&S<=v&&(h<=E?p>=h&&p<=E:p>=E&&p<=h))return l[m]}return-1}(this,n.offsetX,n.offsetY);pn(this).dataIndex=t>=0?t:null},30,!1);function xT(n,t,e){if(Wl(e,"cartesian2d")){var i=t,r=e.getArea();return{x:n?i.x:r.x,y:n?r.y:i.y,width:n?i.width:r.width,height:n?r.height:i.height}}var o=t;return{cx:(r=e.getArea()).cx,cy:r.cy,r0:n?r.r0:o.r0,r:n?r.r:o.r,startAngle:n?o.startAngle:0,endAngle:n?o.endAngle:2*Math.PI}}var uv=2*Math.PI,bT=Math.PI/180;function ST(n,t){return Br(n.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function wT(n,t){var e=ST(n,t),i=n.get("center"),r=n.get("radius");rt(r)||(r=[0,r]),rt(i)||(i=[i,i]);var o=kt(e.width,t.getWidth()),a=kt(e.height,t.getHeight()),s=Math.min(o,a);return{cx:kt(i[0],o)+e.x,cy:kt(i[1],a)+e.y,r0:kt(r[0],s/2),r:kt(r[1],s/2)}}function CR(n,t,e){t.eachSeriesByType(n,function(i){var r=i.getData(),o=r.mapDimension("value"),a=ST(i,e),s=wT(i,e),l=s.cx,u=s.cy,h=s.r,f=s.r0,p=-i.get("startAngle")*bT,g=i.get("minAngle")*bT,v=0;r.each(o,function(U){!isNaN(U)&&v++});var m=r.getSum(o),y=Math.PI/(m||v)*2,b=i.get("clockwise"),S=i.get("roseType"),E=i.get("stillShowZeroSum"),I=r.getDataExtent(o);I[0]=0;var A=uv,L=0,R=p,k=b?1:-1;if(r.setLayout({viewRect:a,r:h}),r.each(o,function(U,G){var K;if(isNaN(U))r.setItemLayout(G,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:b,cx:l,cy:u,r0:f,r:S?NaN:h});else{(K="area"!==S?0===m&&E?y:U*y:uv/v)<g?(K=g,A-=g):L+=U;var $=R+k*K;r.setItemLayout(G,{angle:K,startAngle:R,endAngle:$,clockwise:b,cx:l,cy:u,r0:f,r:S?Jn(U,I,[f,h]):h}),R=$}}),A<uv&&v)if(A<=.001){var H=uv/v;r.each(o,function(U,G){if(!isNaN(U)){var K=r.getItemLayout(G);K.angle=H,K.startAngle=p+k*G*H,K.endAngle=p+k*(G+1)*H}})}else y=A/L,R=p,r.each(o,function(U,G){if(!isNaN(U)){var K=r.getItemLayout(G),$=K.angle===g?g:U*y;K.startAngle=R,K.endAngle=R+k*$,R+=k*$}})})}function Dd(n){return{seriesType:n,reset:function(t,e){var i=e.findComponents({mainType:"legend"});if(i&&i.length){var r=t.getData();r.filterSelf(function(o){for(var a=r.getName(o),s=0;s<i.length;s++)if(!i[s].isSelected(a))return!1;return!0})}}}}var IR=Math.PI/180;function TT(n,t,e,i,r,o,a,s,l,u){if(!(n.length<2)){for(var h=n.length,f=0;f<h;f++)"outer"===n[f].position&&"labelLine"===n[f].labelAlignTo&&(n[f].linePoints[1][0]+=n[f].label.x-u,n[f].label.x=u);Ew(n,l,l+a)&&function(v){for(var m={list:[],maxY:0},y={list:[],maxY:0},b=0;b<v.length;b++)if("none"===v[b].labelAlignTo){var S=v[b],E=S.label.y>e?y:m,I=Math.abs(S.label.y-e);if(I>E.maxY){var A=S.label.x-t-S.len2*r,L=i+S.len,R=Math.abs(A)<L?Math.sqrt(I*I/(1-A*A/L/L)):L;E.rB=R,E.maxY=I}E.list.push(S)}g(m),g(y)}(n)}function g(v){for(var m=v.rB,y=m*m,b=0;b<v.list.length;b++){var S=v.list[b],E=Math.abs(S.label.y-e),I=i+S.len,A=I*I,L=Math.sqrt((1-Math.abs(E*E/y))*A);S.label.x=t+(L+S.len2)*r}}}function ET(n){return"center"===n.position}function Bh(n,t,e){var i=n.get("borderRadius");return null==i?e?{innerCornerRadius:0,cornerRadius:0}:null:(rt(i)||(i=[i,i]),{innerCornerRadius:Ct(i[0],t.r0),cornerRadius:Ct(i[1],t.r)})}var MR=function(n){function t(e,i,r){var o=n.call(this)||this;o.z2=2;var a=new Nn;return o.setTextContent(a),o.updateData(e,i,r,!0),o}return ue(t,n),t.prototype.updateData=function(e,i,r,o){var a=this,s=e.hostModel,l=e.getItemModel(i),u=l.getModel("emphasis"),h=e.getItemLayout(i),f=se(Bh(l.getModel("itemStyle"),h,!0),h);if(isNaN(f.startAngle))a.setShape(f);else{o?(a.setShape(f),"scale"===s.getShallow("animationType")?(a.shape.r=h.r0,Vi(a,{shape:{r:h.r}},s,i)):null!=r?(a.setShape({startAngle:r,endAngle:r}),Vi(a,{shape:{startAngle:h.startAngle,endAngle:h.endAngle}},s,i)):(a.shape.endAngle=h.startAngle,Un(a,{shape:{endAngle:h.endAngle}},s,i))):(ks(a),Un(a,{shape:f},s,i)),a.useStyle(e.getItemVisual(i,"style")),W(a,l);var p=(h.startAngle+h.endAngle)/2,g=s.get("selectedOffset"),v=Math.cos(p)*g,m=Math.sin(p)*g,y=l.getShallow("cursor");y&&a.attr("cursor",y),this._updateLabel(s,e,i),a.ensureState("emphasis").shape=qe({r:h.r+(u.get("scale")&&u.get("scaleSize")||0)},Bh(u.getModel("itemStyle"),h)),se(a.ensureState("select"),{x:v,y:m,shape:Bh(l.getModel(["select","itemStyle"]),h)}),se(a.ensureState("blur"),{shape:Bh(l.getModel(["blur","itemStyle"]),h)});var b=a.getTextGuideLine(),S=a.getTextContent();b&&se(b.ensureState("select"),{x:v,y:m}),se(S.ensureState("select"),{x:v,y:m}),_(this,u.get("focus"),u.get("blurScope"))}},t.prototype._updateLabel=function(e,i,r){var o=this,a=i.getItemModel(r),s=a.getModel("labelLine"),l=i.getItemVisual(r,"style"),u=l&&l.fill,h=l&&l.opacity;Fo(o,xo(a),{labelFetcher:i.hostModel,labelDataIndex:r,inheritColor:u,defaultOpacity:h,defaultText:e.getFormattedLabel(r,"normal")||i.getName(r)});var f=o.getTextContent();o.setTextConfig({position:null,rotation:null}),f.attr({z2:10});var p=e.get(["label","position"]);if("outside"!==p&&"outer"!==p)o.removeTextGuideLine();else{var g=this.getTextGuideLine();g||(g=new na,this.setTextGuideLine(g)),Vy(this,Gy(a),{stroke:u,opacity:ui(s.get(["lineStyle","opacity"]),h,1)})}},t}(Bo),LR=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.ignoreLabelLineUpdate=!0,e}return ue(t,n),t.prototype.init=function(){var e=new Ft;this._sectorGroup=e},t.prototype.render=function(e,i,r,o){var a,s=e.getData(),l=this._data,u=this.group;if(!l&&s.count()>0){for(var h=s.getItemLayout(0),f=1;isNaN(h&&h.startAngle)&&f<s.count();++f)h=s.getItemLayout(f);h&&(a=h.startAngle)}if(this._emptyCircleSector&&u.remove(this._emptyCircleSector),0===s.count()&&e.get("showEmptyCircle")){var p=new Bo({shape:wT(e,r)});p.useStyle(e.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=p,u.add(p)}s.diff(l).add(function(g){var v=new MR(s,g,a);s.setItemGraphicEl(g,v),u.add(v)}).update(function(g,v){var m=l.getItemGraphicEl(v);m.updateData(s,g,a),m.off("click"),u.add(m),s.setItemGraphicEl(g,m)}).remove(function(g){Bf(l.getItemGraphicEl(g),e,g)}).execute(),function AR(n){var t,e,i=n.getData(),r=[],o=!1,a=(n.get("minShowLabelAngle")||0)*IR,s=i.getLayout("viewRect"),l=i.getLayout("r"),u=s.width,h=s.x,f=s.y,p=s.height;function g(A){A.ignore=!0}i.each(function(A){var L=i.getItemGraphicEl(A),R=L.shape,k=L.getTextContent(),H=L.getTextGuideLine(),U=i.getItemModel(A),G=U.getModel("label"),K=G.get("position")||U.get(["emphasis","label","position"]),$=G.get("distanceToLabelLine"),ee=G.get("alignTo"),le=kt(G.get("edgeDistance"),u),he=G.get("bleedMargin"),ge=U.getModel("labelLine"),me=ge.get("length");me=kt(me,u);var be=ge.get("length2");if(be=kt(be,u),Math.abs(R.endAngle-R.startAngle)<a)return Y(k.states,g),void(k.ignore=!0);if(function(Oi){if(!Oi.ignore)return!0;for(var zo in Oi.states)if(!1===Oi.states[zo].ignore)return!0;return!1}(k)){var Le,Ge,nt,xt,Je=(R.startAngle+R.endAngle)/2,dt=Math.cos(Je),Dt=Math.sin(Je);t=R.cx,e=R.cy;var Tt,It="inside"===K||"inner"===K;if("center"===K)Le=R.cx,Ge=R.cy,xt="center";else{var Yt=(It?(R.r+R.r0)/2*dt:R.r*dt)+t,Xt=(It?(R.r+R.r0)/2*Dt:R.r*Dt)+e;if(Le=Yt+3*dt,Ge=Xt+3*Dt,!It){var un=Yt+dt*(me+l-R.r),dn=Xt+Dt*(me+l-R.r),mn=un+(dt<0?-1:1)*be;Le="edge"===ee?dt<0?h+le:h+u-le:mn+(dt<0?-$:$),Ge=dn,nt=[[Yt,Xt],[un,dn],[mn,dn]]}xt=It?"center":"edge"===ee?dt>0?"right":"left":dt>0?"left":"right"}var Zi=G.get("rotate");if("number"==typeof Zi)Tt=Zi*(Math.PI/180);else if("center"===K)Tt=0;else{var Gi=dt<0?-Je+Math.PI:-Je;"radial"===Zi||!0===Zi?Tt=Gi:"tangential"===Zi&&"outside"!==K&&"outer"!==K?(Tt=Gi+Math.PI/2)>Math.PI/2&&(Tt-=Math.PI):Tt=0}if(o=!!Tt,k.x=Le,k.y=Ge,k.rotation=Tt,k.setStyle({verticalAlign:"middle"}),It){k.setStyle({align:xt});var Wn=k.states.select;Wn&&(Wn.x+=k.x,Wn.y+=k.y)}else{var Hn=k.getBoundingRect().clone();Hn.applyTransform(k.getComputedTransform());var ar=(k.style.margin||0)+2.1;Hn.y-=ar/2,Hn.height+=ar,r.push({label:k,labelLine:H,position:K,len:me,len2:be,minTurnAngle:ge.get("minTurnAngle"),maxSurfaceAngle:ge.get("maxSurfaceAngle"),surfaceNormal:new gn(dt,Dt),linePoints:nt,textAlign:xt,labelDistance:$,labelAlignTo:ee,edgeDistance:le,bleedMargin:he,rect:Hn})}L.setTextConfig({inside:It})}}),!o&&n.get("avoidLabelOverlap")&&function(A,L,R,k,H,U,G,K){for(var $=[],ee=[],le=Number.MAX_VALUE,he=-Number.MAX_VALUE,ge=0;ge<A.length;ge++){var me=A[ge].label;ET(A[ge])||(me.x<L?(le=Math.min(le,me.x),$.push(A[ge])):(he=Math.max(he,me.x),ee.push(A[ge])))}for(TT(ee,L,R,k,1,0,U,0,K,he),TT($,L,R,k,-1,0,U,0,K,le),ge=0;ge<A.length;ge++){var be=A[ge];if(me=be.label,!ET(be)){var Le=be.linePoints;if(Le){var xt,Ge="edge"===be.labelAlignTo,nt=be.rect.width;(xt=Ge?me.x<L?Le[2][0]-be.labelDistance-G-be.edgeDistance:G+H-be.edgeDistance-Le[2][0]-be.labelDistance:me.x<L?me.x-G-be.bleedMargin:G+H-me.x-be.bleedMargin)<be.rect.width&&(be.label.style.width=xt,"edge"===be.labelAlignTo&&(nt=xt));var Je=Le[1][0]-Le[2][0];Ge?Le[2][0]=me.x<L?G+be.edgeDistance+nt+be.labelDistance:G+H-be.edgeDistance-nt-be.labelDistance:(Le[2][0]=me.x<L?me.x+be.labelDistance:me.x-be.labelDistance,Le[1][0]=Le[2][0]+Je),Le[1][1]=Le[2][1]=me.y}}}}(r,t,e,l,u,p,h,f);for(var v=0;v<r.length;v++){var m=r[v],y=m.label,b=m.labelLine,S=isNaN(y.x)||isNaN(y.y);if(y){y.setStyle({align:m.textAlign}),S&&(Y(y.states,g),y.ignore=!0);var E=y.states.select;E&&(E.x+=y.x,E.y+=y.y)}if(b){var I=m.linePoints;S||!I?(Y(b.states,g),b.ignore=!0):(bw(I,m.minTurnAngle),YN(I,m.surfaceNormal,m.maxSurfaceAngle),b.setShape({points:I}),y.__hostTarget.textGuideLineConfig={anchor:new gn(I[0][0],I[0][1])})}}}(e),"expansion"!==e.get("animationTypeUpdate")&&(this._data=s)},t.prototype.dispose=function(){},t.prototype.containPoint=function(e,i){var r=i.getData().getItemLayout(0);if(r){var o=e[0]-r.cx,a=e[1]-r.cy,s=Math.sqrt(o*o+a*a);return s<=r.r&&s>=r.r0}},t.type="pie",t}(vi);function Fh(n,t,e){t=rt(t)&&{coordDimensions:t}||se({encodeDefine:n.getEncode()},t);var i=n.getSource(),r=Dh(i,t).dimensions,o=new Uo(r,n);return o.initData(i,e),o}var Nd=function(){function n(t,e){this._getDataWithEncodedVisual=t,this._getRawData=e}return n.prototype.getAllNames=function(){var t=this._getRawData();return t.mapArray(t.getName)},n.prototype.containName=function(t){return this._getRawData().indexOfName(t)>=0},n.prototype.indexOfName=function(t){return this._getDataWithEncodedVisual().indexOfName(t)},n.prototype.getItemVisual=function(t,e){return this._getDataWithEncodedVisual().getItemVisual(t,e)},n}(),DR=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return ue(t,n),t.prototype.init=function(e){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new Nd(mt(this.getData,this),mt(this.getRawData,this)),this._defaultLabelLine(e)},t.prototype.mergeOption=function(){n.prototype.mergeOption.apply(this,arguments)},t.prototype.getInitialData=function(){return Fh(this,{coordDimensions:["value"],encodeDefaulter:Lt(Dm,this)})},t.prototype.getDataParams=function(e){var i=this.getData(),r=n.prototype.getDataParams.call(this,e),o=[];return i.each(i.mapDimension("value"),function(a){o.push(a)}),r.percent=op(o,e,i.hostModel.get("percentPrecision")),r.$vars.push("percent"),r},t.prototype._defaultLabelLine=function(e){Qo(e,"labelLine",["show"]);var i=e.labelLine,r=e.emphasis.labelLine;i.show=i.show&&e.label.show,r.show=r.show&&e.emphasis.label.show},t.type="series.pie",t.defaultOption={zlevel:0,z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},t}(Ei),NR=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return ue(t,n),t.prototype.getInitialData=function(e,i){return gl(null,this,{useEncodeDefaulter:!0})},t.prototype.getProgressive=function(){return this.option.progressive??(this.option.large?5e3:this.get("progressive"))},t.prototype.getProgressiveThreshold=function(){return this.option.progressiveThreshold??(this.option.large?1e4:this.get("progressiveThreshold"))},t.prototype.brushSelector=function(e,i,r){return r.point(i.getItemLayout(e))},t.type="series.scatter",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},t}(Ei),RR=function(){},t0=function(n){function t(e){return n.call(this,e)||this}return ue(t,n),t.prototype.getDefaultShape=function(){return new RR},t.prototype.buildPath=function(e,i){var r=i.points,o=i.size,a=this.symbolProxy,s=a.shape,l=e.getContext?e.getContext():e;if(l&&o[0]<4)this._ctx=l;else{this._ctx=null;for(var u=0;u<r.length;){var h=r[u++],f=r[u++];isNaN(h)||isNaN(f)||this.softClipShape&&!this.softClipShape.contain(h,f)||(s.x=h-o[0]/2,s.y=f-o[1]/2,s.width=o[0],s.height=o[1],a.buildPath(e,s,!0))}}},t.prototype.afterBrush=function(){var e=this.shape,i=e.points,r=e.size,o=this._ctx;if(o)for(var a=0;a<i.length;){var s=i[a++],l=i[a++];isNaN(s)||isNaN(l)||this.softClipShape&&!this.softClipShape.contain(s,l)||o.fillRect(s-r[0]/2,l-r[1]/2,r[0],r[1])}},t.prototype.findDataIndex=function(e,i){for(var r=this.shape,o=r.points,a=r.size,s=Math.max(a[0],4),l=Math.max(a[1],4),u=o.length/2-1;u>=0;u--){var h=2*u,f=o[h]-s/2,p=o[h+1]-l/2;if(e>=f&&i>=p&&e<=f+s&&i<=p+l)return u}return-1},t}(Mn),OR=function(){function n(){this.group=new Ft}return n.prototype.isPersistent=function(){return!this._incremental},n.prototype.updateData=function(t,e){this.group.removeAll();var i=new t0({rectHover:!0,cursor:"default"});i.setShape({points:t.getLayout("points")}),this._setCommon(i,t,!1,e),this.group.add(i),this._incremental=null},n.prototype.updateLayout=function(t){if(!this._incremental){var e=t.getLayout("points");this.group.eachChild(function(i){null!=i.startIndex&&(e=new Float32Array(e.buffer,4*i.startIndex*2,2*(i.endIndex-i.startIndex))),i.setShape("points",e)})}},n.prototype.incrementalPrepareUpdate=function(t){this.group.removeAll(),this._clearIncremental(),t.count()>2e6?(this._incremental||(this._incremental=new Pf({silent:!0})),this.group.add(this._incremental)):this._incremental=null},n.prototype.incrementalUpdate=function(t,e,i){var r;this._incremental?(r=new t0,this._incremental.addDisplayable(r,!0)):((r=new t0({rectHover:!0,cursor:"default",startIndex:t.start,endIndex:t.end})).incremental=!0,this.group.add(r)),r.setShape({points:e.getLayout("points")}),this._setCommon(r,e,!!this._incremental,i)},n.prototype._setCommon=function(t,e,i,r){var o=e.hostModel;r=r||{};var a=e.getVisual("symbolSize");t.setShape("size",a instanceof Array?a:[a,a]),t.softClipShape=r.clipShape||null,t.symbolProxy=Er(e.getVisual("symbol"),0,0,0,0),t.setColor=t.symbolProxy.setColor;var s=t.shape.size[0]<4;t.useStyle(o.getModel("itemStyle").getItemStyle(s?["color","shadowBlur","shadowColor"]:["color"]));var l=e.getVisual("style"),u=l&&l.fill;if(u&&t.setColor(u),!i){var h=pn(t);h.seriesIndex=o.seriesIndex,t.on("mousemove",function(f){h.dataIndex=null;var p=t.findDataIndex(f.offsetX,f.offsetY);p>=0&&(h.dataIndex=p+(t.startIndex||0))})}},n.prototype.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},n.prototype._clearIncremental=function(){var t=this._incremental;t&&t.clearDisplaybles()},n}(),kR=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return ue(t,n),t.prototype.render=function(e,i,r){var o=e.getData();this._updateSymbolDraw(o,e).updateData(o,{clipShape:this._getClipShape(e)}),this._finished=!0},t.prototype.incrementalPrepareRender=function(e,i,r){var o=e.getData();this._updateSymbolDraw(o,e).incrementalPrepareUpdate(o),this._finished=!1},t.prototype.incrementalRender=function(e,i,r){this._symbolDraw.incrementalUpdate(e,i.getData(),{clipShape:this._getClipShape(i)}),this._finished=e.end===i.getData().count()},t.prototype.updateTransform=function(e,i,r){var o=e.getData();if(this.group.dirty(),!this._finished||o.count()>1e4||!this._symbolDraw.isPersistent())return{update:!0};var a=Md("").reset(e,i,r);a.progress&&a.progress({start:0,end:o.count(),count:o.count()},o),this._symbolDraw.updateLayout(o)},t.prototype._getClipShape=function(e){var i=e.coordinateSystem,r=i&&i.getArea&&i.getArea();return e.get("clip",!0)?r:null},t.prototype._updateSymbolDraw=function(e,i){var r=this._symbolDraw,o=i.pipelineContext.large;return r&&o===this._isLargeDraw||(r&&r.remove(),r=this._symbolDraw=o?new OR:new Ad,this._isLargeDraw=o,this.group.removeAll()),this.group.add(r.group),r},t.prototype.remove=function(e,i){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},t.prototype.dispose=function(){},t.type="scatter",t}(vi),PR=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return ue(t,n),t.type="grid",t.dependencies=["xAxis","yAxis"],t.layoutMode="box",t.defaultOption={show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},t}(Rn),n0=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return ue(t,n),t.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",mr).models[0]},t.type="cartesian2dAxis",t}(Rn);lt(n0,Oh);var CT={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},BR=Ie({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},CT),i0=Ie({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},CT),IT={category:BR,value:i0,time:Ie({scale:!0,splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},i0),log:Ee({scale:!0,logBase:10},i0)},FR={value:1,category:1,time:1,log:1};function Hh(n,t,e,i){Y(FR,function(r,o){var a=Ie(Ie({},IT[o],!0),i,!0),s=function(l){function u(){var h=null!==l&&l.apply(this,arguments)||this;return h.type=t+"Axis."+o,h}return ue(u,l),u.prototype.mergeDefaultAndTheme=function(h,f){var p=jf(this),g=p?mh(h):{};Ie(h,f.getTheme().get(o+"Axis")),Ie(h,this.getDefaultOption()),h.type=AT(h),p&&Tu(h,g,p)},u.prototype.optionUpdated=function(){"category"===this.option.type&&(this.__ordinalMeta=Ny.createByAxisModel(this))},u.prototype.getCategories=function(h){var f=this.option;if("category"===f.type)return h?f.data:this.__ordinalMeta.categories},u.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},u.type=t+"Axis."+o,u.defaultOption=a,u}(e);n.registerComponentModel(s)}),n.registerSubTypeDefaulter(t+"Axis",AT)}function AT(n){return n.type||(n.data?"category":"value")}var HR=function(){function n(t){this.type="cartesian",this._dimList=[],this._axes={},this.name=t||""}return n.prototype.getAxis=function(t){return this._axes[t]},n.prototype.getAxes=function(){return Ve(this._dimList,function(t){return this._axes[t]},this)},n.prototype.getAxesByScale=function(t){return t=t.toLowerCase(),jt(this.getAxes(),function(e){return e.scale.type===t})},n.prototype.addAxis=function(t){var e=t.dim;this._axes[e]=t,this._dimList.push(e)},n}(),r0=["x","y"];function MT(n){return"interval"===n.type||"time"===n.type}var UR=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type="cartesian2d",e.dimensions=r0,e}return ue(t,n),t.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var e=this.getAxis("x").scale,i=this.getAxis("y").scale;if(MT(e)&&MT(i)){var r=e.getExtent(),o=i.getExtent(),a=this.dataToPoint([r[0],o[0]]),s=this.dataToPoint([r[1],o[1]]),l=r[1]-r[0],u=o[1]-o[0];if(l&&u){var h=(s[0]-a[0])/l,f=(s[1]-a[1])/u,v=this._transform=[h,0,0,f,a[0]-r[0]*h,a[1]-o[0]*f];this._invTransform=Dr([],v)}}},t.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},t.prototype.containPoint=function(e){var i=this.getAxis("x"),r=this.getAxis("y");return i.contain(i.toLocalCoord(e[0]))&&r.contain(r.toLocalCoord(e[1]))},t.prototype.containData=function(e){return this.getAxis("x").containData(e[0])&&this.getAxis("y").containData(e[1])},t.prototype.dataToPoint=function(e,i,r){r=r||[];var o=e[0],a=e[1];if(this._transform&&null!=o&&isFinite(o)&&null!=a&&isFinite(a))return pt(r,e,this._transform);var s=this.getAxis("x"),l=this.getAxis("y");return r[0]=s.toGlobalCoord(s.dataToCoord(o,i)),r[1]=l.toGlobalCoord(l.dataToCoord(a,i)),r},t.prototype.clampData=function(e,i){var r=this.getAxis("x").scale,o=this.getAxis("y").scale,a=r.getExtent(),s=o.getExtent(),l=r.parse(e[0]),u=o.parse(e[1]);return(i=i||[])[0]=Math.min(Math.max(Math.min(a[0],a[1]),l),Math.max(a[0],a[1])),i[1]=Math.min(Math.max(Math.min(s[0],s[1]),u),Math.max(s[0],s[1])),i},t.prototype.pointToData=function(e,i){var r=[];if(this._invTransform)return pt(r,e,this._invTransform);var o=this.getAxis("x"),a=this.getAxis("y");return r[0]=o.coordToData(o.toLocalCoord(e[0]),i),r[1]=a.coordToData(a.toLocalCoord(e[1]),i),r},t.prototype.getOtherAxis=function(e){return this.getAxis("x"===e.dim?"y":"x")},t.prototype.getArea=function(){var e=this.getAxis("x").getGlobalExtent(),i=this.getAxis("y").getGlobalExtent(),r=Math.min(e[0],e[1]),o=Math.min(i[0],i[1]),a=Math.max(e[0],e[1])-r,s=Math.max(i[0],i[1])-o;return new cn(r,o,a,s)},t}(HR),zR=function(n){function t(e,i,r,o,a){var s=n.call(this,e,i,r)||this;return s.index=0,s.type=o||"value",s.position=a||"bottom",s}return ue(t,n),t.prototype.isHorizontal=function(){var e=this.position;return"top"===e||"bottom"===e},t.prototype.getGlobalExtent=function(e){var i=this.getExtent();return i[0]=this.toGlobalCoord(i[0]),i[1]=this.toGlobalCoord(i[1]),e&&i[0]>i[1]&&i.reverse(),i},t.prototype.pointToData=function(e,i){return this.coordToData(this.toLocalCoord(e["x"===this.dim?0:1]),i)},t.prototype.setCategorySortInfo=function(e){if("category"!==this.type)return!1;this.model.option.categorySortInfo=e,this.scale.setSortInfo(e)},t}(as);function o0(n,t,e){e=e||{};var i=n.coordinateSystem,r=t.axis,o={},a=r.getAxesOnZeroOf()[0],s=r.position,l=a?"onZero":s,u=r.dim,h=i.getRect(),f=[h.x,h.x+h.width,h.y,h.y+h.height],p={left:0,right:1,top:0,bottom:1,onZero:2},g=t.get("offset")||0,v="x"===u?[f[2]-g,f[3]+g]:[f[0]-g,f[1]+g];if(a){var m=a.toGlobalCoord(a.dataToCoord(0));v[p.onZero]=Math.max(Math.min(m,v[1]),v[0])}o.position=["y"===u?v[p[l]]:f[0],"x"===u?v[p[l]]:f[3]],o.rotation=Math.PI/2*("x"===u?0:1),o.labelDirection=o.tickDirection=o.nameDirection={top:-1,bottom:1,left:-1,right:1}[s],o.labelOffset=a?v[p[s]]-v[p.onZero]:0,t.get(["axisTick","inside"])&&(o.tickDirection=-o.tickDirection),zn(e.labelInside,t.get(["axisLabel","inside"]))&&(o.labelDirection=-o.labelDirection);var y=t.get(["axisLabel","rotate"]);return o.labelRotate="top"===l?-y:y,o.z2=1,o}function LT(n){return"cartesian2d"===n.get("coordinateSystem")}function DT(n){var t={xAxisModel:null,yAxisModel:null};return Y(t,function(e,i){var r=i.replace(/Model$/,""),o=n.getReferringComponents(r,mr).models[0];t[i]=o}),t}var VR=function(){function n(t,e,i){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=r0,this._initCartesian(t,e,i),this.model=t}return n.prototype.getRect=function(){return this._rect},n.prototype.update=function(t,e){var i=this._axesMap;this._updateScale(t,this.model),Y(i.x,function(o){Ru(o.scale,o.model)}),Y(i.y,function(o){Ru(o.scale,o.model)});var r={};Y(i.x,function(o){NT(i,"y",o,r)}),Y(i.y,function(o){NT(i,"x",o,r)}),this.resize(this.model,e)},n.prototype.resize=function(t,e,i){var r=t.getBoxLayoutParams(),o=!i&&t.get("containLabel"),a=Br(r,{width:e.getWidth(),height:e.getHeight()});this._rect=a;var s=this._axesList;function l(){Y(s,function(u){var g,v,m,y,h=u.isHorizontal(),f=h?[0,a.width]:[0,a.height],p=u.inverse?1:0;u.setExtent(f[p],f[1-p]),v=h?a.x:a.y,m=(g=u).getExtent(),y=m[0]+m[1],g.toGlobalCoord="x"===g.dim?function(b){return b+v}:function(b){return y-b+v},g.toLocalCoord="x"===g.dim?function(b){return b-v}:function(b){return y-b+v}})}l(),o&&(Y(s,function(u){if(!u.model.get(["axisLabel","inside"])){var h=function(g){var m=g.scale;if(g.model.get(["axisLabel","show"])&&!m.isBlank()){var y,b,S=m.getExtent();b=m instanceof Ug?m.count():(y=m.getTicks()).length;var E,I=g.getLabelModel(),A=_d(g),L=1;b>40&&(L=Math.ceil(b/40));for(var R=0;R<b;R+=L){var k=A(y?y[R]:{value:S[0]+R},R),H=LN(I.getTextRect(k),I.get("rotate")||0);E?E.union(H):E=H}return E}}(u);if(h){var f=u.isHorizontal()?"height":"width",p=u.model.get(["axisLabel","margin"]);a[f]-=h[f]+p,"top"===u.position?a.y+=h.height+p:"left"===u.position&&(a.x+=h.width+p)}}}),l()),Y(this._coordsList,function(u){u.calcAffineTransform()})},n.prototype.getAxis=function(t,e){var i=this._axesMap[t];if(null!=i)return i[e||0]},n.prototype.getAxes=function(){return this._axesList.slice()},n.prototype.getCartesian=function(t,e){if(null!=t&&null!=e)return this._coordsMap["x"+t+"y"+e];Bt(t)&&(e=t.yAxisIndex,t=t.xAxisIndex);for(var r=0,o=this._coordsList;r<o.length;r++)if(o[r].getAxis("x").index===t||o[r].getAxis("y").index===e)return o[r]},n.prototype.getCartesians=function(){return this._coordsList.slice()},n.prototype.convertToPixel=function(t,e,i){var r=this._findConvertTarget(e);return r.cartesian?r.cartesian.dataToPoint(i):r.axis?r.axis.toGlobalCoord(r.axis.dataToCoord(i)):null},n.prototype.convertFromPixel=function(t,e,i){var r=this._findConvertTarget(e);return r.cartesian?r.cartesian.pointToData(i):r.axis?r.axis.coordToData(r.axis.toLocalCoord(i)):null},n.prototype._findConvertTarget=function(t){var e,i,r=t.seriesModel,o=t.xAxisModel||r&&r.getReferringComponents("xAxis",mr).models[0],a=t.yAxisModel||r&&r.getReferringComponents("yAxis",mr).models[0],s=t.gridModel;return r?pe(this._coordsList,e=r.coordinateSystem)<0&&(e=null):o&&a?e=this.getCartesian(o.componentIndex,a.componentIndex):o?i=this.getAxis("x",o.componentIndex):a?i=this.getAxis("y",a.componentIndex):s&&s.coordinateSystem===this&&(e=this._coordsList[0]),{cartesian:e,axis:i}},n.prototype.containPoint=function(t){var e=this._coordsList[0];if(e)return e.containPoint(t)},n.prototype._initCartesian=function(t,e,i){var r=this,o=this,a={left:!1,right:!1,top:!1,bottom:!1},s={x:{},y:{}},l={x:0,y:0};if(e.eachComponent("xAxis",u("x"),this),e.eachComponent("yAxis",u("y"),this),!l.x||!l.y)return this._axesMap={},void(this._axesList=[]);function u(h){return function(f,p){if(a0(f,t)){var g=f.get("position");"x"===h?"top"!==g&&"bottom"!==g&&(g=a.bottom?"top":"bottom"):"left"!==g&&"right"!==g&&(g=a.left?"right":"left"),a[g]=!0;var v=new zR(h,yd(f),[0,0],f.get("type"),g);v.onBand="category"===v.type&&f.get("boundaryGap"),v.inverse=f.get("inverse"),f.axis=v,v.model=f,v.grid=o,v.index=p,o._axesList.push(v),s[h][p]=v,l[h]++}}}this._axesMap=s,Y(s.x,function(h,f){Y(s.y,function(p,g){var v="x"+f+"y"+g,m=new UR(v);m.master=r,m.model=t,r._coordsMap[v]=m,r._coordsList.push(m),m.addAxis(h),m.addAxis(p)})})},n.prototype._updateScale=function(t,e){function i(r,o){Y(Wg(r,o.dim),function(a){o.scale.unionExtentFromData(r,a)})}Y(this._axesList,function(r){if(r.scale.setExtent(1/0,-1/0),"category"===r.type){var o=r.model.get("categorySortInfo");r.scale.setSortInfo(o)}}),t.eachSeries(function(r){if(LT(r)){var o=DT(r),a=o.xAxisModel,s=o.yAxisModel;if(!a0(a,e)||!a0(s,e))return;var l=this.getCartesian(a.componentIndex,s.componentIndex),u=r.getData(),h=l.getAxis("x"),f=l.getAxis("y");"list"===u.type&&(i(u,h),i(u,f))}},this)},n.prototype.getTooltipAxes=function(t){var e=[],i=[];return Y(this.getCartesians(),function(r){var o=null!=t&&"auto"!==t?r.getAxis(t):r.getBaseAxis(),a=r.getOtherAxis(o);pe(e,o)<0&&e.push(o),pe(i,a)<0&&i.push(a)}),{baseAxes:e,otherAxes:i}},n.create=function(t,e){var i=[];return t.eachComponent("grid",function(r,o){var a=new n(r,t,e);a.name="grid_"+o,a.resize(r,e,!0),r.coordinateSystem=a,i.push(a)}),t.eachSeries(function(r){if(LT(r)){var o=DT(r),a=o.xAxisModel,s=o.yAxisModel,l=a.getCoordSysModel();r.coordinateSystem=l.coordinateSystem.getCartesian(a.componentIndex,s.componentIndex)}}),i},n.dimensions=r0,n}();function a0(n,t){return n.getCoordSysModel()===t}function NT(n,t,e,i){e.getAxesOnZeroOf=function(){return r?[r]:[]};var r,o=n[t],a=e.model,s=a.get(["axisLine","onZero"]),l=a.get(["axisLine","onZeroAxisIndex"]);if(s){if(null!=l)RT(o[l])&&(r=o[l]);else for(var u in o)if(o.hasOwnProperty(u)&&RT(o[u])&&!i[h(o[u])]){r=o[u];break}r&&(i[h(r)]=!0)}function h(f){return f.dim+"_"+f.index}}function RT(n){return n&&"category"!==n.type&&"time"!==n.type&&function(t){var e=t.scale.getExtent(),i=e[0],r=e[1];return!(i>0&&r>0||i<0&&r<0)}(n)}var Fu=Math.PI,oa=function(){function n(t,e){this.group=new Ft,this.opt=e,this.axisModel=t,Ee(e,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var i=new Ft({x:e.position[0],y:e.position[1],rotation:e.rotation});i.updateTransform(),this._transformGroup=i}return n.prototype.hasBuilder=function(t){return!!OT[t]},n.prototype.add=function(t){OT[t](this.opt,this.axisModel,this.group,this._transformGroup)},n.prototype.getGroup=function(){return this.group},n.innerTextLayout=function(t,e,i){var r,o,a=qu(e-t);return Cl(a)?(o=i>0?"top":"bottom",r="center"):Cl(a-Fu)?(o=i>0?"bottom":"top",r="center"):(o="middle",r=a>0&&a<Fu?i>0?"right":"left":i>0?"left":"right"),{rotation:a,textAlign:r,textVerticalAlign:o}},n.makeAxisEventDataBase=function(t){var e={componentType:t.mainType,componentIndex:t.componentIndex};return e[t.mainType+"Index"]=t.componentIndex,e},n.isLabelSilent=function(t){var e=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||e&&e.show)},n}(),OT={axisLine:function(n,t,e,i){var r=t.get(["axisLine","show"]);if("auto"===r&&n.handleAutoShown&&(r=n.handleAutoShown("axisLine")),r){var o=t.axis.getExtent(),a=i.transform,s=[o[0],0],l=[o[1],0];a&&(pt(s,s,a),pt(l,l,a));var u=se({lineCap:"round"},t.getModel(["axisLine","lineStyle"]).getLineStyle()),h=new $r({subPixelOptimize:!0,shape:{x1:s[0],y1:s[1],x2:l[0],y2:l[1]},style:u,strokeContainThreshold:n.strokeContainThreshold||5,silent:!0,z2:1});h.anid="line",e.add(h);var f=t.get(["axisLine","symbol"]);if(null!=f){var p=t.get(["axisLine","symbolSize"]);"string"==typeof f&&(f=[f,f]),"string"!=typeof p&&"number"!=typeof p||(p=[p,p]);var g=Ah(t.get(["axisLine","symbolOffset"])||0,p),v=p[0],m=p[1];Y([{rotate:n.rotation+Math.PI/2,offset:g[0],r:0},{rotate:n.rotation-Math.PI/2,offset:g[1],r:Math.sqrt((s[0]-l[0])*(s[0]-l[0])+(s[1]-l[1])*(s[1]-l[1]))}],function(y,b){if("none"!==f[b]&&null!=f[b]){var S=Er(f[b],-v/2,-m/2,v,m,u.stroke,!0),E=y.r+y.offset;S.attr({rotation:y.rotate,x:s[0]+E*Math.cos(n.rotation),y:s[1]-E*Math.sin(n.rotation),silent:!0,z2:11}),e.add(S)}})}}},axisTickLabel:function(n,t,e,i){var r=function(a,s,l,u){var h=l.axis,f=l.getModel("axisTick"),p=f.get("show");if("auto"===p&&u.handleAutoShown&&(p=u.handleAutoShown("axisTick")),p&&!h.scale.isBlank()){for(var g=f.getModel("lineStyle"),v=u.tickDirection*f.get("length"),m=BT(h.getTicksCoords(),s.transform,v,Ee(g.getLineStyle(),{stroke:l.get(["axisLine","lineStyle","color"])}),"ticks"),y=0;y<m.length;y++)a.add(m[y]);return m}}(e,i,t,n),o=function(a,s,l,u){var h=l.axis;if(zn(u.axisLabelShow,l.get(["axisLabel","show"]))&&!h.scale.isBlank()){var f=l.getModel("axisLabel"),p=f.get("margin"),g=h.getViewLabels(),v=(zn(u.labelRotate,f.get("rotate"))||0)*Fu/180,m=oa.innerTextLayout(u.rotation,v,u.labelDirection),y=l.getCategories&&l.getCategories(!0),b=[],S=oa.isLabelSilent(l),E=l.get("triggerEvent");return Y(g,function(I,A){var L="ordinal"===h.scale.type?h.scale.getRawOrdinalNumber(I.tickValue):I.tickValue,R=I.formattedLabel,k=I.rawLabel,H=f;if(y&&y[L]){var U=y[L];Bt(U)&&U.textStyle&&(H=new Qn(U.textStyle,f,l.ecModel))}var G=H.getTextColor()||l.get(["axisLine","lineStyle","color"]),K=h.dataToCoord(L),$=new Nn({x:K,y:u.labelOffset+u.labelDirection*p,rotation:m.rotation,silent:S,z2:10+(I.level||0),style:_r(H,{text:R,align:H.getShallow("align",!0)||m.textAlign,verticalAlign:H.getShallow("verticalAlign",!0)||H.getShallow("baseline",!0)||m.textVerticalAlign,fill:"function"==typeof G?G("category"===h.type?k:"value"===h.type?L+"":L,A):G})});if($.anid="label_"+L,E){var ee=oa.makeAxisEventDataBase(l);ee.targetType="axisLabel",ee.value=k,pn($).eventData=ee}s.add($),$.updateTransform(),b.push($),a.add($),$.decomposeTransform()}),b}}(e,i,t,n);(function(a,s,l){if(!cw(a.axis)){var u=a.get(["axisLabel","showMinLabel"]),h=a.get(["axisLabel","showMaxLabel"]),f=(s=s||[])[0],p=s[1],g=s[s.length-1],v=s[s.length-2],m=(l=l||[])[0],y=l[1],b=l[l.length-1],S=l[l.length-2];!1===u?(ss(f),ss(m)):kT(f,p)&&(u?(ss(p),ss(y)):(ss(f),ss(m))),!1===h?(ss(g),ss(b)):kT(v,g)&&(h?(ss(v),ss(S)):(ss(g),ss(b)))}})(t,o,r),function(a,s,l,u){var h=l.axis,f=l.getModel("minorTick");if(f.get("show")&&!h.scale.isBlank()){var p=h.getMinorTicksCoords();if(p.length)for(var g=f.getModel("lineStyle"),v=u*f.get("length"),m=Ee(g.getLineStyle(),Ee(l.getModel("axisTick").getLineStyle(),{stroke:l.get(["axisLine","lineStyle","color"])})),y=0;y<p.length;y++)for(var b=BT(p[y],s.transform,v,m,"minorticks_"+y),S=0;S<b.length;S++)a.add(b[S])}}(e,i,t,n.tickDirection),t.get(["axisLabel","hideOverlap"])&&Cw(ww(Ve(o,function(a){return{label:a,priority:a.z2,defaultAttr:{ignore:a.ignore}}})))},axisName:function(n,t,e,i){var L,k,H,U,G,K,$,r=zn(n.axisName,t.get("name"));if(r){var o,a,s=t.get("nameLocation"),l=n.nameDirection,u=t.getModel("nameTextStyle"),h=t.get("nameGap")||0,f=t.axis.getExtent(),p=f[0]>f[1]?-1:1,g=["start"===s?f[0]-p*h:"end"===s?f[1]+p*h:(f[0]+f[1])/2,PT(s)?n.labelOffset+l*h:0],v=t.get("nameRotate");null!=v&&(v=v*Fu/180),PT(s)?o=oa.innerTextLayout(n.rotation,v??n.rotation,l):(L=s,k=f,G=qu((v||0)-n.rotation),K=k[0]>k[1],$="start"===L&&!K||"start"!==L&&K,Cl(G-Fu/2)?(U=$?"bottom":"top",H="center"):Cl(G-1.5*Fu)?(U=$?"top":"bottom",H="center"):(U="middle",H=G<1.5*Fu&&G>Fu/2?$?"left":"right":$?"right":"left"),o={rotation:G,textAlign:H,textVerticalAlign:U},null!=(a=n.axisNameAvailableWidth)&&(a=Math.abs(a/Math.sin(o.rotation)),!isFinite(a)&&(a=null)));var m=u.getFont(),y=t.get("nameTruncate",!0)||{},b=y.ellipsis,S=zn(n.nameTruncateMaxWidth,y.maxWidth,a),E=new Nn({x:g[0],y:g[1],rotation:o.rotation,silent:oa.isLabelSilent(t),style:_r(u,{text:r,font:m,overflow:"truncate",width:S,ellipsis:b,fill:u.getTextColor()||t.get(["axisLine","lineStyle","color"]),align:u.get("align")||o.textAlign,verticalAlign:u.get("verticalAlign")||o.textVerticalAlign}),z2:1});if(dh({el:E,componentModel:t,itemName:r}),E.__fullText=r,E.anid="name",t.get("triggerEvent")){var I=oa.makeAxisEventDataBase(t);I.targetType="axisName",I.name=r,pn(E).eventData=I}i.add(E),E.updateTransform(),e.add(E),E.decomposeTransform()}}};function ss(n){n&&(n.ignore=!0)}function kT(n,t){var e=n&&n.getBoundingRect().clone(),i=t&&t.getBoundingRect().clone();if(e&&i){var r=Ea([]);return Ca(r,r,-n.rotation),e.applyTransform(jr([],r,n.getLocalTransform())),i.applyTransform(jr([],r,t.getLocalTransform())),e.intersect(i)}}function PT(n){return"middle"===n||"center"===n}function BT(n,t,e,i,r){for(var o=[],a=[],s=[],l=0;l<n.length;l++){var u=n[l].coord;a[0]=u,a[1]=0,s[0]=u,s[1]=e,t&&(pt(a,a,t),pt(s,s,t));var h=new $r({subPixelOptimize:!0,shape:{x1:a[0],y1:a[1],x2:s[0],y2:s[1]},style:i,z2:2,autoBatch:!0,silent:!0});h.anid=r+"_"+n[l].tickValue,o.push(h)}return o}function s0(n,t){return"all"===n||rt(n)&&pe(n,t)>=0||n===t}function l0(n){var t=(n.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return t&&t.axesInfo[Rd(n)]}function u0(n){return!!n.get(["handle","show"])}function Rd(n){return n.type+"||"+n.id}var FT={},Dc=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return ue(t,n),t.prototype.render=function(e,i,r,o){this.axisPointerClass&&function WR(n){var t=l0(n);if(t){var e=t.axisPointerModel,i=t.axis.scale,r=e.option,o=e.get("status"),a=e.get("value");null!=a&&(a=i.parse(a));var s=u0(e);null==o&&(r.status=s?"show":"hide");var l=i.getExtent().slice();l[0]>l[1]&&l.reverse(),(null==a||a>l[1])&&(a=l[1]),a<l[0]&&(a=l[0]),r.value=a,s&&(r.status=t.axis.scale.isBlank()?"hide":"show")}}(e),n.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(e,r,!0)},t.prototype.updateAxisPointer=function(e,i,r,o){this._doUpdateAxisPointerClass(e,r,!1)},t.prototype.remove=function(e,i){var r=this._axisPointer;r&&r.remove(i)},t.prototype.dispose=function(e,i){this._disposeAxisPointer(i),n.prototype.dispose.apply(this,arguments)},t.prototype._doUpdateAxisPointerClass=function(e,i,r){var l,o=t.getAxisPointerClass(this.axisPointerClass);if(o){var a=(l=l0(e))&&l.axisPointerModel;a?(this._axisPointer||(this._axisPointer=new o)).render(e,a,i,r):this._disposeAxisPointer(i)}},t.prototype._disposeAxisPointer=function(e){this._axisPointer&&this._axisPointer.dispose(e),this._axisPointer=null},t.registerAxisPointerClass=function(e,i){FT[e]=i},t.getAxisPointerClass=function(e){return e&&FT[e]},t.type="axis",t}(Ni),c0=Fn();function HT(n,t,e,i){var r=e.axis;if(!r.scale.isBlank()){var o=e.getModel("splitArea"),a=o.getModel("areaStyle"),s=a.get("color"),l=i.coordinateSystem.getRect(),u=r.getTicksCoords({tickModel:o,clamp:!0});if(u.length){var h=s.length,f=c0(n).splitAreaColors,p=Ht(),g=0;if(f)for(var v=0;v<u.length;v++){var m=f.get(u[v].tickValue);if(null!=m){g=(m+(h-1)*v)%h;break}}var y=r.toGlobalCoord(u[0].coord),b=a.getAreaStyle();for(s=rt(s)?s:[s],v=1;v<u.length;v++){var S=r.toGlobalCoord(u[v].coord),E=void 0,I=void 0,A=void 0,L=void 0;r.isHorizontal()?(I=l.y,L=l.height,y=(E=y)+(A=S-E)):(E=l.x,A=l.width,y=(I=y)+(L=S-I));var R=u[v-1].tickValue;null!=R&&p.set(R,g),t.add(new kn({anid:null!=R?"area_"+R:null,shape:{x:E,y:I,width:A,height:L},style:Ee({fill:s[g]},b),autoBatch:!0,silent:!0})),g=(g+1)%h}c0(n).splitAreaColors=p}}}function UT(n){c0(n).splitAreaColors=null}var YR=["axisLine","axisTickLabel","axisName"],XR=["splitArea","splitLine","minorSplitLine"],zT=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.axisPointerClass="CartesianAxisPointer",e}return ue(t,n),t.prototype.render=function(e,i,r,o){this.group.removeAll();var a=this._axisGroup;if(this._axisGroup=new Ft,this.group.add(this._axisGroup),e.get("show")){var s=e.getCoordSysModel(),l=o0(s,e),u=new oa(e,se({handleAutoShown:function(h){for(var f=s.coordinateSystem.getCartesians(),p=0;p<f.length;p++){var g=f[p].getOtherAxis(e.axis).type;if("value"===g||"log"===g)return!0}return!1}},l));Y(YR,u.add,u),this._axisGroup.add(u.getGroup()),Y(XR,function(h){e.get([h,"show"])&&jR[h](this,this._axisGroup,e,s)},this),o&&"changeAxisOrder"===o.type&&o.isInitSort||Hf(a,this._axisGroup,e),n.prototype.render.call(this,e,i,r,o)}},t.prototype.remove=function(){UT(this)},t.type="cartesianAxis",t}(Dc),jR={splitLine:function(n,t,e,i){var r=e.axis;if(!r.scale.isBlank()){var o=e.getModel("splitLine"),a=o.getModel("lineStyle"),s=a.get("color");s=rt(s)?s:[s];for(var l=i.coordinateSystem.getRect(),u=r.isHorizontal(),h=0,f=r.getTicksCoords({tickModel:o}),p=[],g=[],v=a.getLineStyle(),m=0;m<f.length;m++){var y=r.toGlobalCoord(f[m].coord);u?(p[0]=y,p[1]=l.y,g[0]=y,g[1]=l.y+l.height):(p[0]=l.x,p[1]=y,g[0]=l.x+l.width,g[1]=y);var b=h++%s.length;t.add(new $r({anid:null!=f[m].tickValue?"line_"+f[m].tickValue:null,subPixelOptimize:!0,autoBatch:!0,shape:{x1:p[0],y1:p[1],x2:g[0],y2:g[1]},style:Ee({stroke:s[b]},v),silent:!0}))}}},minorSplitLine:function(n,t,e,i){var r=e.axis,o=e.getModel("minorSplitLine").getModel("lineStyle"),a=i.coordinateSystem.getRect(),s=r.isHorizontal(),l=r.getMinorTicksCoords();if(l.length)for(var u=[],h=[],f=o.getLineStyle(),p=0;p<l.length;p++)for(var g=0;g<l[p].length;g++){var v=r.toGlobalCoord(l[p][g].coord);s?(u[0]=v,u[1]=a.y,h[0]=v,h[1]=a.y+a.height):(u[0]=a.x,u[1]=v,h[0]=a.x+a.width,h[1]=v),t.add(new $r({anid:"minor_line_"+l[p][g].tickValue,subPixelOptimize:!0,autoBatch:!0,shape:{x1:u[0],y1:u[1],x2:h[0],y2:h[1]},style:f,silent:!0}))}},splitArea:function(n,t,e,i){HT(n,t,e,i)}},VT=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return ue(t,n),t.type="xAxis",t}(zT),qR=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=VT.type,e}return ue(t,n),t.type="yAxis",t}(zT),KR=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type="grid",e}return ue(t,n),t.prototype.render=function(e,i){this.group.removeAll(),e.get("show")&&this.group.add(new kn({shape:e.coordinateSystem.getRect(),style:Ee({fill:e.get("backgroundColor")},e.getItemStyle()),silent:!0,z2:-1}))},t.type="grid",t}(Ni),GT={offset:0};function WT(n){n.registerComponentView(KR),n.registerComponentModel(PR),n.registerCoordinateSystem("cartesian2d",VR),Hh(n,"x",n0,GT),Hh(n,"y",n0,GT),n.registerComponentView(VT),n.registerComponentView(qR),n.registerPreprocessor(function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})})}function ZR(n){n.eachSeriesByType("radar",function(t){var e=t.getData(),i=[],r=t.coordinateSystem;if(r){var o=r.getIndicatorAxes();Y(o,function(a,s){e.each(e.mapDimension(o[s].dim),function(l,u){i[u]=i[u]||[];var h=r.dataToPoint(l,s);i[u][s]=YT(h)?h:XT(r)})}),e.each(function(a){var s=rn(i[a],function(l){return YT(l)})||XT(r);i[a].push(s.slice()),e.setItemLayout(a,i[a])})}})}function YT(n){return!isNaN(n[0])&&!isNaN(n[1])}function XT(n){return[n.cx,n.cy]}function JR(n){var t=n.polar;if(t){rt(t)||(t=[t]);var e=[];Y(t,function(i,r){i.indicator?(i.type&&!i.shape&&(i.shape=i.type),n.radar=n.radar||[],rt(n.radar)||(n.radar=[n.radar]),n.radar.push(i)):e.push(i)}),n.polar=e}Y(n.series,function(i){i&&"radar"===i.type&&i.polarIndex&&(i.radarIndex=i.polarIndex)})}var QR=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return ue(t,n),t.prototype.render=function(e,i,r){var o=e.coordinateSystem,a=this.group,s=e.getData(),l=this._data;function u(p,g){var v=p.getItemVisual(g,"symbol")||"circle";if("none"!==v){var m=od(p.getItemVisual(g,"symbolSize")),y=Er(v,-1,-1,2,2),b=p.getItemVisual(g,"symbolRotate")||0;return y.attr({style:{strokeNoScale:!0},z2:100,scaleX:m[0]/2,scaleY:m[1]/2,rotation:b*Math.PI/180||0}),y}}function h(p,g,v,m,y,b){v.removeAll();for(var S=0;S<g.length-1;S++){var E=u(m,y);E&&(E.__dimIdx=S,p[S]?(E.setPosition(p[S]),zf[b?"initProps":"updateProps"](E,{x:g[S][0],y:g[S][1]},e,y)):E.setPosition(g[S]),v.add(E))}}function f(p){return Ve(p,function(g){return[o.cx,o.cy]})}s.diff(l).add(function(p){var g=s.getItemLayout(p);if(g){var v=new Lo,m=new na,y={shape:{points:g}};v.shape.points=f(g),m.shape.points=f(g),Vi(v,y,e,p),Vi(m,y,e,p);var b=new Ft,S=new Ft;b.add(m),b.add(v),b.add(S),h(m.shape.points,g,S,s,p,!0),s.setItemGraphicEl(p,b)}}).update(function(p,g){var v=l.getItemGraphicEl(g),m=v.childAt(0),y=v.childAt(1),b=v.childAt(2),S={shape:{points:s.getItemLayout(p)}};S.shape.points&&(h(m.shape.points,S.shape.points,b,s,p,!1),ks(y),ks(m),Un(m,S,e),Un(y,S,e),s.setItemGraphicEl(p,v))}).remove(function(p){a.remove(l.getItemGraphicEl(p))}).execute(),s.eachItemGraphicEl(function(p,g){var v=s.getItemModel(g),m=p.childAt(0),y=p.childAt(1),b=p.childAt(2),S=s.getItemVisual(g,"style"),E=S.fill;a.add(p),m.useStyle(Ee(v.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:E})),W(m,v,"lineStyle"),W(y,v,"areaStyle");var I=v.getModel("areaStyle"),A=I.isEmpty()&&I.parentModel.isEmpty();y.ignore=A,Y(["emphasis","select","blur"],function(k){var H=v.getModel([k,"areaStyle"]),U=H.isEmpty()&&H.parentModel.isEmpty();y.ensureState(k).ignore=U&&A}),y.useStyle(Ee(I.getAreaStyle(),{fill:E,opacity:.7,decal:S.decal}));var L=v.getModel("emphasis"),R=L.getModel("itemStyle").getItemStyle();b.eachChild(function(k){if(k instanceof fr){var H=k.style;k.useStyle(se({image:H.image,x:H.x,y:H.y,width:H.width,height:H.height},S))}else k.useStyle(S),k.setColor(E),k.style.strokeNoScale=!0;k.ensureState("emphasis").style=Te(R);var U=s.getStore().get(s.getDimensionIndex(k.__dimIdx),g);(null==U||isNaN(U))&&(U=""),Fo(k,xo(v),{labelFetcher:s.hostModel,labelDataIndex:g,labelDimIndex:k.__dimIdx,defaultText:U,inheritColor:E,defaultOpacity:S.opacity})}),_(p,L.get("focus"),L.get("blurScope"))}),this._data=s},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.type="radar",t}(vi),$R=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return ue(t,n),t.prototype.init=function(e){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new Nd(mt(this.getData,this),mt(this.getRawData,this))},t.prototype.getInitialData=function(e,i){return Fh(this,{generateCoord:"indicator_",generateCoordCount:1/0})},t.prototype.formatTooltip=function(e,i,r){var o=this.getData(),a=this.coordinateSystem.getIndicatorAxes(),s=this.getData().getName(e),l=""===s?this.name:s,u=mb(this,e);return ao("section",{header:l,sortBlocks:!0,blocks:Ve(a,function(h){var f=o.get(o.mapDimension(h.dim),e);return ao("nameValue",{markerType:"subItem",markerColor:u,name:h.name,value:f,sortParam:f})})})},t.prototype.getTooltipPosition=function(e){if(null!=e)for(var i=this.getData(),r=this.coordinateSystem,o=i.getValues(Ve(r.dimensions,function(u){return i.mapDimension(u)}),e),a=0,s=o.length;a<s;a++)if(!isNaN(o[a])){var l=r.getIndicatorAxes();return r.coordToPoint(l[a].dataToCoord(o[a]),a)}},t.type="series.radar",t.dependencies=["radar"],t.defaultOption={zlevel:0,z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},t}(Ei),Od=IT.value;function cv(n,t){return Ee({show:t},n)}var eO=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return ue(t,n),t.prototype.optionUpdated=function(){var e=this.get("boundaryGap"),i=this.get("splitNumber"),r=this.get("scale"),o=this.get("axisLine"),a=this.get("axisTick"),s=this.get("axisLabel"),l=this.get("axisName"),u=this.get(["axisName","show"]),h=this.get(["axisName","formatter"]),f=this.get("axisNameGap"),p=this.get("triggerEvent"),g=Ve(this.get("indicator")||[],function(v){null!=v.max&&v.max>0&&!v.min?v.min=0:null!=v.min&&v.min<0&&!v.max&&(v.max=0);var m=l;null!=v.color&&(m=Ee({color:v.color},l));var y=Ie(Te(v),{boundaryGap:e,splitNumber:i,scale:r,axisLine:o,axisTick:a,axisLabel:s,name:v.text,nameLocation:"end",nameGap:f,nameTextStyle:m,triggerEvent:p},!1);u||(y.name=""),"string"==typeof h?y.name=h.replace("{value}",y.name??""):"function"==typeof h&&(y.name=h(y.name,y));var S=new Qn(y,null,this.ecModel);return lt(S,Oh.prototype),S.mainType="radar",S.componentIndex=this.componentIndex,S},this);this._indicatorModels=g},t.prototype.getIndicatorModels=function(){return this._indicatorModels},t.type="radar",t.defaultOption={zlevel:0,z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:Ie({lineStyle:{color:"#bbb"}},Od.axisLine),axisLabel:cv(Od.axisLabel,!1),axisTick:cv(Od.axisTick,!1),splitLine:cv(Od.splitLine,!0),splitArea:cv(Od.splitArea,!0),indicator:[]},t}(Rn),tO=["axisLine","axisTickLabel","axisName"],nO=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return ue(t,n),t.prototype.render=function(e,i,r){this.group.removeAll(),this._buildAxes(e),this._buildSplitLineAndArea(e)},t.prototype._buildAxes=function(e){var i=e.coordinateSystem;Y(Ve(i.getIndicatorAxes(),function(r){return new oa(r.model,{position:[i.cx,i.cy],rotation:r.angle,labelDirection:-1,tickDirection:-1,nameDirection:1})}),function(r){Y(tO,r.add,r),this.group.add(r.getGroup())},this)},t.prototype._buildSplitLineAndArea=function(e){var i=e.coordinateSystem,r=i.getIndicatorAxes();if(r.length){var o=e.get("shape"),a=e.getModel("splitLine"),s=e.getModel("splitArea"),l=a.getModel("lineStyle"),u=s.getModel("areaStyle"),h=a.get("show"),f=s.get("show"),p=l.get("color"),g=u.get("color"),v=rt(p)?p:[p],m=rt(g)?g:[g],y=[],b=[];if("circle"===o)for(var S=r[0].getTicksCoords(),E=i.cx,I=i.cy,A=0;A<S.length;A++)h&&y[$(y,v,A)].push(new gi({shape:{cx:E,cy:I,r:S[A].coord}})),f&&A<S.length-1&&b[$(b,m,A)].push(new lh({shape:{cx:E,cy:I,r0:S[A].coord,r:S[A+1].coord}}));else{var L,R=Ve(r,function(ee,le){var he=ee.getTicksCoords();return L=null==L?he.length-1:Math.min(he.length-1,L),Ve(he,function(ge){return i.coordToPoint(ge.coord,le)})}),k=[];for(A=0;A<=L;A++){for(var H=[],U=0;U<r.length;U++)H.push(R[U][A]);H[0]&&H.push(H[0].slice()),h&&y[$(y,v,A)].push(new na({shape:{points:H}})),f&&k&&b[$(b,m,A-1)].push(new Lo({shape:{points:H.concat(k)}})),k=H.slice().reverse()}}var G=l.getLineStyle(),K=u.getAreaStyle();Y(b,function(ee,le){this.group.add(ka(ee,{style:Ee({stroke:"none",fill:m[le%m.length]},K),silent:!0}))},this),Y(y,function(ee,le){this.group.add(ka(ee,{style:Ee({fill:"none",stroke:v[le%v.length]},G),silent:!0}))},this)}function $(ee,le,he){var ge=he%le.length;return ee[ge]=ee[ge]||[],ge}},t.type="radar",t}(Ni),iO=function(n){function t(e,i,r){var o=n.call(this,e,i,r)||this;return o.type="value",o.angle=0,o.name="",o}return ue(t,n),t}(as),rO=function(){function n(t,e,i){this.dimensions=[],this._model=t,this._indicatorAxes=Ve(t.getIndicatorModels(),function(r,o){var a="indicator_"+o,s=new iO(a,new Ac);return s.name=r.get("name"),s.model=r,r.axis=s,this.dimensions.push(a),s},this),this.resize(t,i)}return n.prototype.getIndicatorAxes=function(){return this._indicatorAxes},n.prototype.dataToPoint=function(t,e){return this.coordToPoint(this._indicatorAxes[e].dataToCoord(t),e)},n.prototype.coordToPoint=function(t,e){var i=this._indicatorAxes[e].angle;return[this.cx+t*Math.cos(i),this.cy-t*Math.sin(i)]},n.prototype.pointToData=function(t){var e=t[0]-this.cx,i=t[1]-this.cy,r=Math.sqrt(e*e+i*i);e/=r,i/=r;for(var o,a=Math.atan2(-i,e),s=1/0,l=-1,u=0;u<this._indicatorAxes.length;u++){var h=this._indicatorAxes[u],f=Math.abs(a-h.angle);f<s&&(o=h,l=u,s=f)}return[l,+(o&&o.coordToData(r))]},n.prototype.resize=function(t,e){var i=t.get("center"),r=e.getWidth(),o=e.getHeight(),a=Math.min(r,o)/2;this.cx=kt(i[0],r),this.cy=kt(i[1],o),this.startAngle=t.get("startAngle")*Math.PI/180;var s=t.get("radius");"string"!=typeof s&&"number"!=typeof s||(s=[0,s]),this.r0=kt(s[0],a),this.r=kt(s[1],a),Y(this._indicatorAxes,function(l,u){l.setExtent(this.r0,this.r);var h=this.startAngle+u*Math.PI*2/this._indicatorAxes.length;h=Math.atan2(Math.sin(h),Math.cos(h)),l.angle=h},this)},n.prototype.update=function(t,e){var i=this._indicatorAxes,r=this._model;Y(i,function(s){s.scale.setExtent(1/0,-1/0)}),t.eachSeriesByType("radar",function(s,l){if("radar"===s.get("coordinateSystem")&&t.getComponent("radar",s.get("radarIndex"))===r){var u=s.getData();Y(i,function(h){h.scale.unionExtentFromData(u,u.mapDimension(h.dim))})}},this);var o=r.get("splitNumber");function a(s){var l=Math.pow(10,Math.floor(Math.log(s)/Math.LN10)),u=s/l;return 2===u?u=5:u*=2,u*l}Y(i,function(s,l){var u=uw(s.scale,s.model).extent;Ru(s.scale,s.model);var h=s.model,f=s.scale,p=Rh(f,h.get("min",!0)),g=Rh(f,h.get("max",!0)),v=f.getInterval();if(null!=p&&null!=g)f.setExtent(+p,+g),f.setInterval((g-p)/o);else if(null!=p){var m=void 0;do{f.setExtent(+p,m=p+v*o),f.setInterval(v),v=a(v)}while(m<u[1]&&isFinite(m)&&isFinite(u[1]))}else if(null!=g){var y=void 0;do{f.setExtent(y=g-v*o,+g),f.setInterval(v),v=a(v)}while(y>u[0]&&isFinite(y)&&isFinite(u[0]))}else f.getTicks().length-1>o&&(v=a(v)),y=hr((m=Math.ceil(u[1]/v)*v)-v*o),f.setExtent(y,m),f.setInterval(v)})},n.prototype.convertToPixel=function(t,e,i){return console.warn("Not implemented."),null},n.prototype.convertFromPixel=function(t,e,i){return console.warn("Not implemented."),null},n.prototype.containPoint=function(t){return console.warn("Not implemented."),!1},n.create=function(t,e){var i=[];return t.eachComponent("radar",function(r){var o=new n(r,t,e);i.push(o),r.coordinateSystem=o}),t.eachSeriesByType("radar",function(r){"radar"===r.get("coordinateSystem")&&(r.coordinateSystem=i[r.get("radarIndex")||0])}),i},n.dimensions=[],n}();function oO(n){n.registerCoordinateSystem("radar",rO),n.registerComponentModel(eO),n.registerComponentView(nO),n.registerVisual({seriesType:"radar",reset:function(t){var e=t.getData();e.each(function(i){e.setItemVisual(i,"legendIcon","roundRect")}),e.setVisual("legendIcon","roundRect")}})}var jT="\0_ec_interaction_mutex";function qT(n,t){return!!h0(n)[t]}function h0(n){return n[jT]||(n[jT]={})}Us({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},function(){});var kd=function(n){function t(e){var i=n.call(this)||this;i._zr=e;var r=mt(i._mousedownHandler,i),o=mt(i._mousemoveHandler,i),a=mt(i._mouseupHandler,i),s=mt(i._mousewheelHandler,i),l=mt(i._pinchHandler,i);return i.enable=function(u,h){this.disable(),this._opt=Ee(Te(h)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),null==u&&(u=!0),!0!==u&&"move"!==u&&"pan"!==u||(e.on("mousedown",r),e.on("mousemove",o),e.on("mouseup",a)),!0!==u&&"scale"!==u&&"zoom"!==u||(e.on("mousewheel",s),e.on("pinch",l))},i.disable=function(){e.off("mousedown",r),e.off("mousemove",o),e.off("mouseup",a),e.off("mousewheel",s),e.off("pinch",l)},i}return ue(t,n),t.prototype.isDragging=function(){return this._dragging},t.prototype.isPinching=function(){return this._pinching},t.prototype.setPointerChecker=function(e){this.pointerChecker=e},t.prototype.dispose=function(){this.disable()},t.prototype._mousedownHandler=function(e){if(!(hs(e)||e.target&&e.target.draggable)){var i=e.offsetX,r=e.offsetY;this.pointerChecker&&this.pointerChecker(e,i,r)&&(this._x=i,this._y=r,this._dragging=!0)}},t.prototype._mousemoveHandler=function(e){if(this._dragging&&hv("moveOnMouseMove",e,this._opt)&&"pinch"!==e.gestureEvent&&!qT(this._zr,"globalPan")){var i=e.offsetX,r=e.offsetY,o=this._x,a=this._y,s=i-o,l=r-a;this._x=i,this._y=r,this._opt.preventDefaultMouseMove&&Mr(e.event),KT(this,"pan","moveOnMouseMove",e,{dx:s,dy:l,oldX:o,oldY:a,newX:i,newY:r,isAvailableBehavior:null})}},t.prototype._mouseupHandler=function(e){hs(e)||(this._dragging=!1)},t.prototype._mousewheelHandler=function(e){var i=hv("zoomOnMouseWheel",e,this._opt),r=hv("moveOnMouseWheel",e,this._opt),o=e.wheelDelta,a=Math.abs(o),s=e.offsetX,l=e.offsetY;if(0!==o&&(i||r)){if(i){var u=a>3?1.4:a>1?1.2:1.1;f0(this,"zoom","zoomOnMouseWheel",e,{scale:o>0?u:1/u,originX:s,originY:l,isAvailableBehavior:null})}if(r){var h=Math.abs(o);f0(this,"scrollMove","moveOnMouseWheel",e,{scrollDelta:(o>0?1:-1)*(h>3?.4:h>1?.15:.05),originX:s,originY:l,isAvailableBehavior:null})}}},t.prototype._pinchHandler=function(e){qT(this._zr,"globalPan")||f0(this,"zoom",null,e,{scale:e.pinchScale>1?1.1:1/1.1,originX:e.pinchX,originY:e.pinchY,isAvailableBehavior:null})},t}(Tn);function f0(n,t,e,i,r){n.pointerChecker&&n.pointerChecker(i,r.originX,r.originY)&&(Mr(i.event),KT(n,t,e,i,r))}function KT(n,t,e,i,r){r.isAvailableBehavior=mt(hv,null,e,i),n.trigger(t,r)}function hv(n,t,e){var i=e[n];return!n||i&&(!Jt(i)||t.event[i+"Key"])}function d0(n,t,e){var i=n.target;i.x+=t,i.y+=e,i.dirty()}function p0(n,t,e,i){var r=n.target,o=n.zoomLimit,a=n.zoom=n.zoom||1;if(a*=t,o){var s=o.min||0;a=Math.max(Math.min(o.max||1/0,a),s)}var u=a/n.zoom;n.zoom=a,r.x-=(e-r.x)*(u-1),r.y-=(i-r.y)*(u-1),r.scaleX*=u,r.scaleY*=u,r.dirty()}var aO={axisPointer:1,tooltip:1,brush:1};function fv(n,t,e){var i=t.getComponentByElement(n.topTarget),r=i&&i.coordinateSystem;return i&&i!==e&&!aO.hasOwnProperty(i.mainType)&&r&&r.model!==e}var g0=["rect","circle","line","ellipse","polygon","polyline","path"],sO=Ht(g0),lO=Ht(g0.concat(["g"])),uO=Ht(g0.concat(["g"])),ZT=Fn();function dv(n){var t=n.getItemStyle(),e=n.get("areaColor");return null!=e&&(t.fill=e),t}var JT=function(){function n(t){var e=new Ft;this.uid=ph("ec_map_draw"),this._controller=new kd(t.getZr()),this._controllerHost={target:e},this.group=e,e.add(this._regionsGroup=new Ft),e.add(this._svgGroup=new Ft)}return n.prototype.draw=function(t,e,i,r,o){var a="geo"===t.mainType,s=t.getData&&t.getData();a&&e.eachComponent({mainType:"series",subType:"map"},function(y){s||y.getHostGeoModel()!==t||(s=y.getData())});var l=t.coordinateSystem,u=this._regionsGroup,h=this.group,f=l.getTransformInfo(),p=f.raw,g=f.roam;!u.childAt(0)||o?(h.x=g.x,h.y=g.y,h.scaleX=g.scaleX,h.scaleY=g.scaleY,h.dirty()):Un(h,g,t);var v=s&&s.getVisual("visualMeta")&&s.getVisual("visualMeta").length>0,m={api:i,geo:l,mapOrGeoModel:t,data:s,isVisualEncodedByVisualMap:v,isGeo:a,transformInfoRaw:p};"geoJSON"===l.resourceType?this._buildGeoJSON(m):"geoSVG"===l.resourceType&&this._buildSVG(m),this._updateController(t,e,i),this._updateMapSelectHandler(t,u,i,r)},n.prototype._buildGeoJSON=function(t){var e=this._regionsGroupByName=Ht(),i=Ht(),r=this._regionsGroup,o=t.transformInfoRaw,a=t.mapOrGeoModel,s=t.data,l=function(u){return[u[0]*o.scaleX+o.x,u[1]*o.scaleY+o.y]};r.removeAll(),Y(t.geo.regions,function(u){var h=u.name,f=e.get(h),p=i.get(h)||{},g=p.dataIdx,v=p.regionModel;f||(f=e.set(h,new Ft),r.add(f),g=s?s.indexOfName(h):null,v=t.isGeo?a.getRegionModel(h):s?s.getItemModel(g):null,i.set(h,{dataIdx:g,regionModel:v}));var m=new lm({segmentIgnoreThreshold:1,shape:{paths:[]}});f.add(m),Y(u.geometries,function(b){if("polygon"===b.type){for(var S=[],E=0;E<b.exterior.length;++E)S.push(l(b.exterior[E]));for(m.shape.paths.push(new Lo({segmentIgnoreThreshold:1,shape:{points:S}})),E=0;E<(b.interiors?b.interiors.length:0);++E){for(var I=b.interiors[E],A=[],L=0;L<I.length;++L)A.push(l(I[L]));m.shape.paths.push(new Lo({segmentIgnoreThreshold:1,shape:{points:A}}))}}}),QT(t,m,g,v),m instanceof Na&&(m.culling=!0);var y=l(u.getCenter());$T(t,m,h,v,a,g,y)}),e.each(function(u,h){var f=i.get(h),g=f.regionModel;eE(t,u,h,g,a,f.dataIdx),tE(t,u,h,g,a),nE(t,u,h,g,a)},this)},n.prototype._buildSVG=function(t){var e=t.geo.map,i=t.transformInfoRaw;this._svgGroup.x=i.x,this._svgGroup.y=i.y,this._svgGroup.scaleX=i.scaleX,this._svgGroup.scaleY=i.scaleY,this._svgResourceChanged(e)&&(this._freeSVG(),this._useSVG(e));var r=this._svgDispatcherMap=Ht(),o=!1;Y(this._svgGraphicRecord.named,function(a){var s=a.name,l=t.mapOrGeoModel,u=t.data,h=a.svgNodeTagLower,f=a.el,p=u?u.indexOfName(s):null,g=l.getRegionModel(s);null!=sO.get(h)&&f instanceof Na&&QT(t,f,p,g),f instanceof Na&&(f.culling=!0),f.z2EmphasisLift=0,a.namedFrom||(null!=uO.get(h)&&$T(t,f,s,g,l,p,null),eE(t,f,s,g,l,p),tE(t,f,s,g,l),null!=lO.get(h)&&("self"===nE(t,f,s,g,l)&&(o=!0),(r.get(s)||r.set(s,[])).push(f)))},this),this._enableBlurEntireSVG(o,t)},n.prototype._enableBlurEntireSVG=function(t,e){if(t&&e.isGeo){var i=e.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle().opacity;this._svgGraphicRecord.root.traverse(function(r){if(!r.isGroup){dl(r);var o=r.ensureState("blur").style||{};null==o.opacity&&null!=i&&(o.opacity=i),r.ensureState("emphasis")}})}},n.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},n.prototype.findHighDownDispatchers=function(t,e){if(null==t)return[];var i=e.coordinateSystem;if("geoJSON"===i.resourceType){var r=this._regionsGroupByName;if(r){var o=r.get(t);return o?[o]:[]}}else if("geoSVG"===i.resourceType)return this._svgDispatcherMap&&this._svgDispatcherMap.get(t)||[]},n.prototype._svgResourceChanged=function(t){return this._svgMapName!==t},n.prototype._useSVG=function(t){var e=Tg(t);if(e&&"geoSVG"===e.type){var i=e.useGraphic(this.uid);this._svgGroup.add(i.root),this._svgGraphicRecord=i,this._svgMapName=t}},n.prototype._freeSVG=function(){var t=this._svgMapName;if(null!=t){var e=Tg(t);e&&"geoSVG"===e.type&&e.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},n.prototype._updateController=function(t,e,i){var r=t.coordinateSystem,o=this._controller,a=this._controllerHost;a.zoomLimit=t.get("scaleLimit"),a.zoom=r.getZoom(),o.enable(t.get("roam")||!1);var s=t.mainType;function l(){var u={type:"geoRoam",componentType:s};return u[s+"Id"]=t.id,u}o.off("pan").on("pan",function(u){this._mouseDownFlag=!1,d0(a,u.dx,u.dy),i.dispatchAction(se(l(),{dx:u.dx,dy:u.dy}))},this),o.off("zoom").on("zoom",function(u){this._mouseDownFlag=!1,p0(a,u.scale,u.originX,u.originY),i.dispatchAction(se(l(),{zoom:u.scale,originX:u.originX,originY:u.originY}))},this),o.setPointerChecker(function(u,h,f){return r.containPoint([h,f])&&!fv(u,i,t)})},n.prototype.resetForLabelLayout=function(){this.group.traverse(function(t){var e=t.getTextContent();e&&(e.ignore=ZT(e).ignore)})},n.prototype._updateMapSelectHandler=function(t,e,i,r){var o=this;e.off("mousedown"),e.off("click"),t.get("selectedMode")&&(e.on("mousedown",function(){o._mouseDownFlag=!0}),e.on("click",function(a){o._mouseDownFlag&&(o._mouseDownFlag=!1)}))},n}();function QT(n,t,e,i){var r=i.getModel("itemStyle"),o=i.getModel(["emphasis","itemStyle"]),a=i.getModel(["blur","itemStyle"]),s=i.getModel(["select","itemStyle"]),l=dv(r),u=dv(o),h=dv(s),f=dv(a),p=n.data;if(p){var g=p.getItemVisual(e,"style"),v=p.getItemVisual(e,"decal");n.isVisualEncodedByVisualMap&&g.fill&&(l.fill=g.fill),v&&(l.decal=sd(v,n.api))}t.setStyle(l),t.style.strokeNoScale=!0,t.ensureState("emphasis").style=u,t.ensureState("select").style=h,t.ensureState("blur").style=f,dl(t)}function $T(n,t,e,i,r,o,a){var s=n.data,l=n.isGeo,u=s&&isNaN(s.get(s.mapDimension("value"),o)),h=s&&s.getItemLayout(o);if(l||u||h&&h.showLabel){var f=l?e:o,p=void 0;(!s||o>=0)&&(p=r);var g=a?{normal:{align:"center",verticalAlign:"middle"}}:null;Fo(t,xo(i),{labelFetcher:p,labelDataIndex:f,defaultText:e},g);var v=t.getTextContent();if(v&&(ZT(v).ignore=v.ignore,t.textConfig&&a)){var m=t.getBoundingRect().clone();t.textConfig.layoutRect=m,t.textConfig.position=[(a[0]-m.x)/m.width*100+"%",(a[1]-m.y)/m.height*100+"%"]}t.disableLabelAnimation=!0}else t.removeTextContent(),t.removeTextConfig(),t.disableLabelAnimation=null}function eE(n,t,e,i,r,o){n.data?n.data.setItemGraphicEl(o,t):pn(t).eventData={componentType:"geo",componentIndex:r.componentIndex,geoIndex:r.componentIndex,name:e,region:i&&i.option||{}}}function tE(n,t,e,i,r){n.data||dh({el:t,componentModel:r,itemName:e,itemTooltipOption:i.get("tooltip")})}function nE(n,t,e,i,r){t.highDownSilentOnTouch=!!r.get("selectedMode");var l,u,h,o=i.getModel("emphasis"),a=o.get("focus");return _(t,a,o.get("blurScope")),n.isGeo&&(l=r,u=e,(h=pn(t)).componentMainType=l.mainType,h.componentIndex=l.componentIndex,h.componentHighDownName=u),a}var cO=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return ue(t,n),t.prototype.render=function(e,i,r,o){if(!o||"mapToggleSelect"!==o.type||o.from!==this.uid){var a=this.group;if(a.removeAll(),!e.getHostGeoModel()){if(this._mapDraw&&o&&"geoRoam"===o.type&&this._mapDraw.resetForLabelLayout(),o&&"geoRoam"===o.type&&"series"===o.componentType&&o.seriesId===e.id)(s=this._mapDraw)&&a.add(s.group);else if(e.needsDrawMap){var s=this._mapDraw||new JT(r);a.add(s.group),s.draw(e,i,r,this,o),this._mapDraw=s}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;e.get("showLegendSymbol")&&i.getComponent("legend")&&this._renderSymbols(e,i,r)}}},t.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},t.prototype._renderSymbols=function(e,i,r){var o=e.originalData,a=this.group;o.each(o.mapDimension("value"),function(s,l){if(!isNaN(s)){var u=o.getItemLayout(l);if(u&&u.point){var h=u.point,f=u.offset,p=new gi({style:{fill:e.getData().getVisual("style").fill},shape:{cx:h[0]+9*f,cy:h[1],r:3},silent:!0,z2:8+(f?0:11)});if(!f){var g=e.mainSeries.getData(),v=o.getName(l),m=g.indexOfName(v),y=o.getItemModel(l),b=y.getModel("label"),S=g.getItemGraphicEl(m);Fo(p,xo(y),{labelFetcher:{getFormattedLabel:function(E,I){return e.getFormattedLabel(m,I)}}}),p.disableLabelAnimation=!0,b.get("position")||p.setTextConfig({position:"bottom"}),S.onHoverStateChange=function(E){sh(p,E)}}a.add(p)}}})},t.type="map",t}(vi),hO=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.needsDrawMap=!1,e.seriesGroup=[],e.getTooltipPosition=function(i){if(null!=i){var r=this.getData().getName(i),o=this.coordinateSystem,a=o.getRegion(r);return a&&o.dataToPoint(a.getCenter())}},e}return ue(t,n),t.prototype.getInitialData=function(e){for(var i=Fh(this,{coordDimensions:["value"],encodeDefaulter:Lt(Dm,this)}),r=Ht(),o=[],a=0,s=i.count();a<s;a++){var l=i.getName(a);r.set(l,!0)}return Y(uy(this.getMapType(),this.option.nameMap,this.option.nameProperty).regions,function(u){var h=u.name;r.get(h)||o.push(h)}),i.appendValues([],o),i},t.prototype.getHostGeoModel=function(){var e=this.option.geoIndex;return null!=e?this.ecModel.getComponent("geo",e):null},t.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},t.prototype.getRawValue=function(e){var i=this.getData();return i.get(i.mapDimension("value"),e)},t.prototype.getRegionModel=function(e){var i=this.getData();return i.getItemModel(i.indexOfName(e))},t.prototype.formatTooltip=function(e,i,r){for(var o=this.getData(),a=this.getRawValue(e),s=o.getName(e),l=this.seriesGroup,u=[],h=0;h<l.length;h++){var f=l[h].originalData.indexOfName(s),p=o.mapDimension("value");isNaN(l[h].originalData.get(p,f))||u.push(l[h].name)}return ao("section",{header:u.join(", "),noHeader:!u.length,blocks:[ao("nameValue",{name:s,value:a})]})},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.getLegendIcon=function(e){var i=e.icon||"roundRect",r=Er(i,0,0,e.itemWidth,e.itemHeight,e.itemStyle.fill);return r.setStyle(e.itemStyle),r.style.stroke="none",i.indexOf("empty")>-1&&(r.style.stroke=r.style.fill,r.style.fill="#fff",r.style.lineWidth=2),r},t.type="series.map",t.dependencies=["geo"],t.layoutMode="box",t.defaultOption={zlevel:0,z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},t}(Ei);function fO(n){var t={};n.eachSeriesByType("map",function(e){var i=e.getHostGeoModel(),r=i?"o"+i.id:"i"+e.getMapType();(t[r]=t[r]||[]).push(e)}),Y(t,function(e,i){for(var r,o,a,s=(r=Ve(e,function(u){return u.getData()}),o=e[0].get("mapValueCalculation"),a={},Y(r,function(u){u.each(u.mapDimension("value"),function(h,f){var p="ec-"+u.getName(f);a[p]=a[p]||[],isNaN(h)||a[p].push(h)})}),r[0].map(r[0].mapDimension("value"),function(u,h){for(var f="ec-"+r[0].getName(h),p=0,g=1/0,v=-1/0,m=a[f].length,y=0;y<m;y++)g=Math.min(g,a[f][y]),v=Math.max(v,a[f][y]),p+=a[f][y];return 0===m?NaN:"min"===o?g:"max"===o?v:"average"===o?p/m:p})),l=0;l<e.length;l++)e[l].originalData=e[l].getData();for(l=0;l<e.length;l++)e[l].seriesGroup=e,e[l].needsDrawMap=0===l&&!e[l].getHostGeoModel(),e[l].setData(s.cloneShallow()),e[l].mainSeries=e[0]})}function dO(n){var t={};n.eachSeriesByType("map",function(e){var i=e.getMapType();if(!e.getHostGeoModel()&&!t[i]){var r={};Y(e.seriesGroup,function(a){var s=a.coordinateSystem,l=a.originalData;a.get("showLegendSymbol")&&n.getComponent("legend")&&l.each(l.mapDimension("value"),function(u,h){var f=l.getName(h),p=s.getRegion(f);if(p&&!isNaN(u)){var g=r[f]||0,v=s.dataToPoint(p.getCenter());r[f]=g+1,l.setItemLayout(h,{point:v,offset:g})}})});var o=e.getData();o.each(function(a){var s=o.getName(a),l=o.getItemLayout(a)||{};l.showLabel=!r[s],o.setItemLayout(a,l)}),t[i]=!0}})}var iE=pt,Uh=function(n){function t(e){var i=n.call(this)||this;return i.type="view",i.dimensions=["x","y"],i._roamTransformable=new gr,i._rawTransformable=new gr,i.name=e,i}return ue(t,n),t.prototype.setBoundingRect=function(e,i,r,o){return this._rect=new cn(e,i,r,o),this._rect},t.prototype.getBoundingRect=function(){return this._rect},t.prototype.setViewRect=function(e,i,r,o){this._transformTo(e,i,r,o),this._viewRect=new cn(e,i,r,o)},t.prototype._transformTo=function(e,i,r,o){var a=this.getBoundingRect(),s=this._rawTransformable;s.transform=a.calculateTransform(new cn(e,i,r,o));var l=s.parent;s.parent=null,s.decomposeTransform(),s.parent=l,this._updateTransform()},t.prototype.setCenter=function(e){e&&(this._center=e,this._updateCenterAndZoom())},t.prototype.setZoom=function(e){e=e||1;var i=this.zoomLimit;i&&(null!=i.max&&(e=Math.min(i.max,e)),null!=i.min&&(e=Math.max(i.min,e))),this._zoom=e,this._updateCenterAndZoom()},t.prototype.getDefaultCenter=function(){var e=this.getBoundingRect();return[e.x+e.width/2,e.y+e.height/2]},t.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},t.prototype.getZoom=function(){return this._zoom||1},t.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},t.prototype._updateCenterAndZoom=function(){var e=this._rawTransformable.getLocalTransform(),i=this._roamTransformable,r=this.getDefaultCenter(),o=this.getCenter(),a=this.getZoom();o=pt([],o,e),r=pt([],r,e),i.originX=o[0],i.originY=o[1],i.x=r[0]-o[0],i.y=r[1]-o[1],i.scaleX=i.scaleY=a,this._updateTransform()},t.prototype._updateTransform=function(){var e=this._roamTransformable,i=this._rawTransformable;i.parent=e,e.updateTransform(),i.updateTransform(),Oo(this.transform||(this.transform=[]),i.transform||[1,0,0,1,0,0]),this._rawTransform=i.getLocalTransform(),this.invTransform=this.invTransform||[],Dr(this.invTransform,this.transform),this.decomposeTransform()},t.prototype.getTransformInfo=function(){var e=this._rawTransformable,i=this._roamTransformable,r=new gr;return r.transform=i.transform,r.decomposeTransform(),{roam:{x:r.x,y:r.y,scaleX:r.scaleX,scaleY:r.scaleY},raw:{x:e.x,y:e.y,scaleX:e.scaleX,scaleY:e.scaleY}}},t.prototype.getViewRect=function(){return this._viewRect},t.prototype.getViewRectAfterRoam=function(){var e=this.getBoundingRect().clone();return e.applyTransform(this.transform),e},t.prototype.dataToPoint=function(e,i,r){var o=i?this._rawTransform:this.transform;return r=r||[],o?iE(r,e,o):z(r,e)},t.prototype.pointToData=function(e){var i=this.invTransform;return i?iE([],e,i):[e[0],e[1]]},t.prototype.convertToPixel=function(e,i,r){var o=rE(i);return o===this?o.dataToPoint(r):null},t.prototype.convertFromPixel=function(e,i,r){var o=rE(i);return o===this?o.pointToData(r):null},t.prototype.containPoint=function(e){return this.getViewRectAfterRoam().contain(e[0],e[1])},t.dimensions=["x","y"],t}(gr);function rE(n){var t=n.seriesModel;return t?t.coordinateSystem:null}var pO={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},oE=["lng","lat"],v0=function(n){function t(e,i,r){var o=n.call(this,e)||this;o.dimensions=oE,o.type="geo",o._nameCoordMap=Ht(),o.map=i;var a=uy(i,r.nameMap,r.nameProperty),s=Tg(i);o.resourceType=s?s.type:null;var l=pO[s.type];o._regionsMap=a.regionsMap,o._invertLongitute=l.invertLongitute,o.regions=a.regions,o.aspectScale=ln(r.aspectScale,l.aspectScale);var u=a.boundingRect;return o.setBoundingRect(u.x,u.y,u.width,u.height),o}return ue(t,n),t.prototype._transformTo=function(e,i,r,o){var a=this.getBoundingRect(),s=this._invertLongitute;a=a.clone(),s&&(a.y=-a.y-a.height);var l=this._rawTransformable;l.transform=a.calculateTransform(new cn(e,i,r,o));var u=l.parent;l.parent=null,l.decomposeTransform(),l.parent=u,s&&(l.scaleY=-l.scaleY),this._updateTransform()},t.prototype.getRegion=function(e){return this._regionsMap.get(e)},t.prototype.getRegionByCoord=function(e){for(var i=this.regions,r=0;r<i.length;r++){var o=i[r];if("geoJSON"===o.type&&o.contain(e))return i[r]}},t.prototype.addGeoCoord=function(e,i){this._nameCoordMap.set(e,i)},t.prototype.getGeoCoord=function(e){var i=this._regionsMap.get(e);return this._nameCoordMap.get(e)||i&&i.getCenter()},t.prototype.dataToPoint=function(e,i,r){if("string"==typeof e&&(e=this.getGeoCoord(e)),e)return Uh.prototype.dataToPoint.call(this,e,i,r)},t.prototype.convertToPixel=function(e,i,r){var o=aE(i);return o===this?o.dataToPoint(r):null},t.prototype.convertFromPixel=function(e,i,r){var o=aE(i);return o===this?o.pointToData(r):null},t}(Uh);function aE(n){var t=n.geoModel,e=n.seriesModel;return t?t.coordinateSystem:e?e.coordinateSystem||(e.getReferringComponents("geo",mr).models[0]||{}).coordinateSystem:null}function sE(n,t){var e=n.get("boundingCoords");if(null!=e){var i=e[0],r=e[1];isNaN(i[0])||isNaN(i[1])||isNaN(r[0])||isNaN(r[1])||this.setBoundingRect(i[0],i[1],r[0]-i[0],r[1]-i[1])}var o,a,s,l=this.getBoundingRect(),u=n.get("layoutCenter"),h=n.get("layoutSize"),f=t.getWidth(),p=t.getHeight(),g=l.width/l.height*this.aspectScale,v=!1;if(u&&h&&(o=[kt(u[0],f),kt(u[1],p)],a=kt(h,Math.min(f,p)),isNaN(o[0])||isNaN(o[1])||isNaN(a)||(v=!0)),v)s={},g>1?(s.width=a,s.height=a/g):(s.height=a,s.width=a*g),s.y=o[1]-s.height/2,s.x=o[0]-s.width/2;else{var m=n.getBoxLayoutParams();m.aspect=g,s=Br(m,{width:f,height:p})}this.setViewRect(s.x,s.y,s.width,s.height),this.setCenter(n.get("center")),this.setZoom(n.get("zoom"))}lt(v0,Uh);var lE=new(function(){function n(){this.dimensions=oE}return n.prototype.create=function(t,e){var i=[];t.eachComponent("geo",function(o,a){var s=o.get("map"),l=new v0(s+a,s,{nameMap:o.get("nameMap"),nameProperty:o.get("nameProperty"),aspectScale:o.get("aspectScale")});l.zoomLimit=o.get("scaleLimit"),i.push(l),o.coordinateSystem=l,l.model=o,l.resize=sE,l.resize(o,e)}),t.eachSeries(function(o){if("geo"===o.get("coordinateSystem")){var a=o.get("geoIndex")||0;o.coordinateSystem=i[a]}});var r={};return t.eachSeriesByType("map",function(o){if(!o.getHostGeoModel()){var a=o.getMapType();r[a]=r[a]||[],r[a].push(o)}}),Y(r,function(o,a){var s=Ve(o,function(u){return u.get("nameMap")}),l=new v0(a,a,{nameMap:et(s),nameProperty:o[0].get("nameProperty"),aspectScale:o[0].get("aspectScale")});l.zoomLimit=zn.apply(null,Ve(o,function(u){return u.get("scaleLimit")})),i.push(l),l.resize=sE,l.resize(o[0],e),Y(o,function(u){var h;u.coordinateSystem=l,h=l,Y(u.get("geoCoord"),function(p,g){h.addGeoCoord(g,p)})})}),i},n.prototype.getFilledRegions=function(t,e,i,r){for(var o=(t||[]).slice(),a=Ht(),s=0;s<o.length;s++)a.set(o[s].name,o[s]);return Y(uy(e,i,r).regions,function(l){var u=l.name;!a.get(u)&&o.push({name:u})}),o},n}()),gO=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return ue(t,n),t.prototype.init=function(e,i,r){var o=Tg(e.map);if(o&&"geoJSON"===o.type){var a=e.itemStyle=e.itemStyle||{};"color"in a||(a.color="#eee")}this.mergeDefaultAndTheme(e,r),Qo(e,"label",["show"])},t.prototype.optionUpdated=function(){var e=this,i=this.option;i.regions=lE.getFilledRegions(i.regions,i.map,i.nameMap,i.nameProperty);var r={};this._optionModelMap=zt(i.regions||[],function(o,a){var s=a.name;return s&&(o.set(s,new Qn(a,e,e.ecModel)),a.selected&&(r[s]=!0)),o},Ht()),i.selectedMap||(i.selectedMap=r)},t.prototype.getRegionModel=function(e){return this._optionModelMap.get(e)||new Qn(null,this,this.ecModel)},t.prototype.getFormattedLabel=function(e,i){var o=this.getRegionModel(e).get("normal"===i?["label","formatter"]:["emphasis","label","formatter"]),a={name:e};return"function"==typeof o?(a.status=i,o(a)):"string"==typeof o?o.replace("{a}",e??""):void 0},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.select=function(e){var i=this.option,r=i.selectedMode;r&&("multiple"!==r&&(i.selectedMap=null),(i.selectedMap||(i.selectedMap={}))[e]=!0)},t.prototype.unSelect=function(e){var i=this.option.selectedMap;i&&(i[e]=!1)},t.prototype.toggleSelected=function(e){this[this.isSelected(e)?"unSelect":"select"](e)},t.prototype.isSelected=function(e){var i=this.option.selectedMap;return!(!i||!i[e])},t.type="geo",t.layoutMode="box",t.defaultOption={zlevel:0,z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},t}(Rn);function m0(n,t,e){var i=n.getZoom(),r=n.getCenter(),o=t.zoom,a=n.dataToPoint(r);if(null!=t.dx&&null!=t.dy&&(a[0]-=t.dx,a[1]-=t.dy,n.setCenter(n.pointToData(a))),null!=o){if(e){var s=e.min||0;o=Math.max(Math.min(i*o,e.max||1/0),s)/i}n.scaleX*=o,n.scaleY*=o;var h=(t.originY-n.y)*(o-1);n.x-=(t.originX-n.x)*(o-1),n.y-=h,n.updateTransform(),n.setCenter(n.pointToData(a)),n.setZoom(o*i)}return{center:n.getCenter(),zoom:n.getZoom()}}var vO=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.focusBlurEnabled=!0,e}return ue(t,n),t.prototype.init=function(e,i){this._api=i},t.prototype.render=function(e,i,r,o){if(this._model=e,!e.get("show"))return this._mapDraw&&this._mapDraw.remove(),void(this._mapDraw=null);this._mapDraw||(this._mapDraw=new JT(r));var a=this._mapDraw;a.draw(e,i,r,this,o),a.group.on("click",this._handleRegionClick,this),a.group.silent=e.get("silent"),this.group.add(a.group),this.updateSelectStatus(e,i,r)},t.prototype._handleRegionClick=function(e){var i;Ih(e.target,function(r){return null!=(i=pn(r).eventData)},!0),i&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:i.name})},t.prototype.updateSelectStatus=function(e,i,r){var o=this;this._mapDraw.group.traverse(function(a){var s=pn(a).eventData;if(s)return o._model.isSelected(s.name)?r.enterSelect(a):r.leaveSelect(a),!0})},t.prototype.findHighDownDispatchers=function(e){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(e,this._model)},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},t.type="geo",t}(Ni);function uE(n){function t(e,i){i.update="geo:updateSelectStatus",n.registerAction(i,function(r,o){var a={},s=[];return o.eachComponent({mainType:"geo",query:r},function(l){l[e](r.name),Y(l.coordinateSystem.regions,function(h){a[h.name]=l.isSelected(h.name)||!1});var u=[];Y(a,function(h,f){a[f]&&u.push(f)}),s.push({geoIndex:l.componentIndex,name:u})}),{selected:a,allSelected:s,name:r.name}})}n.registerCoordinateSystem("geo",lE),n.registerComponentModel(gO),n.registerComponentView(vO),t("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),t("select",{type:"geoSelect",event:"geoselected"}),t("unSelect",{type:"geoUnSelect",event:"geounselected"}),n.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(e,i){var r=e.componentType||"series";i.eachComponent({mainType:r,query:e},function(o){var a=o.coordinateSystem;if("geo"===a.type){var s=m0(a,e,o.get("scaleLimit"));o.setCenter&&o.setCenter(s.center),o.setZoom&&o.setZoom(s.zoom),"series"===r&&Y(o.seriesGroup,function(l){l.setCenter(s.center),l.setZoom(s.zoom)})}})})}function mO(n,t){var e=n.isExpand?n.children:[],i=n.parentNode.children,r=n.hierNode.i?i[n.hierNode.i-1]:null;if(e.length){!function(a){for(var s=a.children,l=s.length,u=0,h=0;--l>=0;){var f=s[l];f.hierNode.prelim+=u,f.hierNode.modifier+=u,u+=f.hierNode.shift+(h+=f.hierNode.change)}}(n);var o=(e[0].hierNode.prelim+e[e.length-1].hierNode.prelim)/2;r?(n.hierNode.prelim=r.hierNode.prelim+t(n,r),n.hierNode.modifier=n.hierNode.prelim-o):n.hierNode.prelim=o}else r&&(n.hierNode.prelim=r.hierNode.prelim+t(n,r));n.parentNode.hierNode.defaultAncestor=function(a,s,l,u){if(s){for(var h=a,f=a,p=f.parentNode.children[0],g=s,v=h.hierNode.modifier,m=f.hierNode.modifier,y=p.hierNode.modifier,b=g.hierNode.modifier;g=y0(g),f=_0(f),g&&f;){h=y0(h),p=_0(p),h.hierNode.ancestor=a;var S=g.hierNode.prelim+b-f.hierNode.prelim-m+u(g,f);S>0&&(xO(_O(g,a,l),a,S),m+=S,v+=S),b+=g.hierNode.modifier,m+=f.hierNode.modifier,v+=h.hierNode.modifier,y+=p.hierNode.modifier}g&&!y0(h)&&(h.hierNode.thread=g,h.hierNode.modifier+=b-v),f&&!_0(p)&&(p.hierNode.thread=f,p.hierNode.modifier+=m-y,l=a)}return l}(n,r,n.parentNode.hierNode.defaultAncestor||i[0],t)}function yO(n){n.setLayout({x:n.hierNode.prelim+n.parentNode.hierNode.modifier},!0),n.hierNode.modifier+=n.parentNode.hierNode.modifier}function cE(n){return arguments.length?n:bO}function Pd(n,t){return n-=Math.PI/2,{x:t*Math.cos(n),y:t*Math.sin(n)}}function y0(n){var t=n.children;return t.length&&n.isExpand?t[t.length-1]:n.hierNode.thread}function _0(n){var t=n.children;return t.length&&n.isExpand?t[0]:n.hierNode.thread}function _O(n,t,e){return n.hierNode.ancestor.parentNode===t.parentNode?n.hierNode.ancestor:e}function xO(n,t,e){var i=e/(t.hierNode.i-n.hierNode.i);t.hierNode.change-=i,t.hierNode.shift+=e,t.hierNode.modifier+=e,t.hierNode.prelim+=e,n.hierNode.change+=i}function bO(n,t){return n.parentNode===t.parentNode?1:2}var SO=function(){this.parentPoint=[],this.childPoints=[]},wO=function(n){function t(e){return n.call(this,e)||this}return ue(t,n),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new SO},t.prototype.buildPath=function(e,i){var r=i.childPoints,o=r.length,a=i.parentPoint,s=r[0],l=r[o-1];if(1===o)return e.moveTo(a[0],a[1]),void e.lineTo(s[0],s[1]);var u=i.orient,h="TB"===u||"BT"===u?0:1,f=1-h,p=kt(i.forkPosition,1),g=[];g[h]=a[h],g[f]=a[f]+(l[f]-a[f])*p,e.moveTo(a[0],a[1]),e.lineTo(g[0],g[1]),e.moveTo(s[0],s[1]),g[h]=s[h],e.lineTo(g[0],g[1]),g[h]=l[h],e.lineTo(g[0],g[1]),e.lineTo(l[0],l[1]);for(var v=1;v<o-1;v++){var m=r[v];e.moveTo(m[0],m[1]),g[h]=m[h],e.lineTo(g[0],g[1])}},t}(Mn),TO=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e._mainGroup=new Ft,e}return ue(t,n),t.prototype.init=function(e,i){this._controller=new kd(i.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},t.prototype.render=function(e,i,r){var o=e.getData(),a=e.layoutInfo,s=this._mainGroup;"radial"===e.get("layout")?(s.x=a.x+a.width/2,s.y=a.y+a.height/2):(s.x=a.x,s.y=a.y),this._updateViewCoordSys(e),this._updateController(e,i,r);var l=this._data;o.diff(l).add(function(u){hE(o,u)&&fE(o,u,null,s,e)}).update(function(u,h){var f=l.getItemGraphicEl(h);hE(o,u)?fE(o,u,f,s,e):f&&gE(l,h,f,s,e)}).remove(function(u){var h=l.getItemGraphicEl(u);h&&gE(l,u,h,s,e)}).execute(),this._nodeScaleRatio=e.get("nodeScaleRatio"),this._updateNodeAndLinkScale(e),!0===e.get("expandAndCollapse")&&o.eachItemGraphicEl(function(u,h){u.off("click").on("click",function(){r.dispatchAction({type:"treeExpandAndCollapse",seriesId:e.id,dataIndex:h})})}),this._data=o},t.prototype._updateViewCoordSys=function(e){var i=e.getData(),r=[];i.each(function(h){var f=i.getItemLayout(h);!f||isNaN(f.x)||isNaN(f.y)||r.push([+f.x,+f.y])});var o=[],a=[];Ms(r,o,a);var s=this._min,l=this._max;a[0]-o[0]==0&&(o[0]=s?s[0]:o[0]-1,a[0]=l?l[0]:a[0]+1),a[1]-o[1]==0&&(o[1]=s?s[1]:o[1]-1,a[1]=l?l[1]:a[1]+1);var u=e.coordinateSystem=new Uh;u.zoomLimit=e.get("scaleLimit"),u.setBoundingRect(o[0],o[1],a[0]-o[0],a[1]-o[1]),u.setCenter(e.get("center")),u.setZoom(e.get("zoom")),this.group.attr({x:u.x,y:u.y,scaleX:u.scaleX,scaleY:u.scaleY}),this._min=o,this._max=a},t.prototype._updateController=function(e,i,r){var o=this,a=this._controller,s=this._controllerHost,l=this.group;a.setPointerChecker(function(u,h,f){var p=l.getBoundingRect();return p.applyTransform(l.transform),p.contain(h,f)&&!fv(u,r,e)}),a.enable(e.get("roam")),s.zoomLimit=e.get("scaleLimit"),s.zoom=e.coordinateSystem.getZoom(),a.off("pan").off("zoom").on("pan",function(u){d0(s,u.dx,u.dy),r.dispatchAction({seriesId:e.id,type:"treeRoam",dx:u.dx,dy:u.dy})}).on("zoom",function(u){p0(s,u.scale,u.originX,u.originY),r.dispatchAction({seriesId:e.id,type:"treeRoam",zoom:u.scale,originX:u.originX,originY:u.originY}),o._updateNodeAndLinkScale(e),r.updateLabelLayout()})},t.prototype._updateNodeAndLinkScale=function(e){var i=e.getData(),r=this._getNodeGlobalScale(e);i.eachItemGraphicEl(function(o,a){o.setSymbolScale(r)})},t.prototype._getNodeGlobalScale=function(e){var i=e.coordinateSystem;if("view"!==i.type)return 1;var r=this._nodeScaleRatio,o=i.scaleX||1;return((i.getZoom()-1)*r+1)/o},t.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},t.type="tree",t}(vi);function hE(n,t){var e=n.getItemLayout(t);return e&&!isNaN(e.x)&&!isNaN(e.y)}function fE(n,t,e,i,r){var o=!e,a=n.tree.getNodeByDataIndex(t),s=a.getModel(),l=a.getVisual("style").fill,u=!1===a.isExpand&&0!==a.children.length?l:"#fff",h=n.tree.root,f=a.parentNode===h?a:a.parentNode||a,p=n.getItemGraphicEl(f.dataIndex),g=f.getLayout(),v=p?{x:p.__oldX,y:p.__oldY,rawX:p.__radialOldRawX,rawY:p.__radialOldRawY}:g,m=a.getLayout();o?((e=new Id(n,t,null,{symbolInnerColor:u,useNameLabel:!0})).x=v.x,e.y=v.y):e.updateData(n,t,null,{symbolInnerColor:u,useNameLabel:!0}),e.__radialOldRawX=e.__radialRawX,e.__radialOldRawY=e.__radialRawY,e.__radialRawX=m.rawX,e.__radialRawY=m.rawY,i.add(e),n.setItemGraphicEl(t,e),e.__oldX=e.x,e.__oldY=e.y,Un(e,{x:m.x,y:m.y},r);var y=e.getSymbolPath();if("radial"===r.get("layout")){var b=h.children[0],S=b.getLayout(),E=b.children.length,I=void 0,A=void 0;if(m.x===S.x&&!0===a.isExpand){var L={x:(b.children[0].getLayout().x+b.children[E-1].getLayout().x)/2,y:(b.children[0].getLayout().y+b.children[E-1].getLayout().y)/2};(I=Math.atan2(L.y-S.y,L.x-S.x))<0&&(I=2*Math.PI+I),(A=L.x<S.x)&&(I-=Math.PI)}else(I=Math.atan2(m.y-S.y,m.x-S.x))<0&&(I=2*Math.PI+I),0===a.children.length||0!==a.children.length&&!1===a.isExpand?(A=m.x<S.x)&&(I-=Math.PI):(A=m.x>S.x)||(I-=Math.PI);var R=A?"left":"right",k=s.getModel("label"),H=k.get("rotate"),U=H*(Math.PI/180),G=y.getTextContent();G&&(y.setTextConfig({position:k.get("position")||R,rotation:null==H?-I:U,origin:"center"}),G.setStyle("verticalAlign","middle"))}var K=s.get(["emphasis","focus"]),$="ancestor"===K?a.getAncestorsIndices():"descendant"===K?a.getDescendantIndices():null;$&&(pn(e).focus=$),function(ee,le,he,ge,me,be,Le,Ge){var nt=le.getModel(),xt=ee.get("edgeShape"),Je=ee.get("layout"),dt=ee.getOrient(),Dt=ee.get(["lineStyle","curveness"]),Tt=ee.get("edgeForkPosition"),It=nt.getModel("lineStyle").getLineStyle(),Yt=ge.__edge;if("curve"===xt)le.parentNode&&le.parentNode!==he&&(Yt||(Yt=ge.__edge=new uh({shape:x0(Je,dt,Dt,me,me)})),Un(Yt,{shape:x0(Je,dt,Dt,be,Le)},ee));else if("polyline"===xt&&"orthogonal"===Je&&le!==he&&le.children&&0!==le.children.length&&!0===le.isExpand){for(var Xt=le.children,un=[],dn=0;dn<Xt.length;dn++){var mn=Xt[dn].getLayout();un.push([mn.x,mn.y])}Yt||(Yt=ge.__edge=new wO({shape:{parentPoint:[Le.x,Le.y],childPoints:[[Le.x,Le.y]],orient:dt,forkPosition:Tt}})),Un(Yt,{shape:{parentPoint:[Le.x,Le.y],childPoints:un}},ee)}Yt&&(Yt.useStyle(Ee({strokeNoScale:!0,fill:null},It)),W(Yt,nt,"lineStyle"),dl(Yt),Ge.add(Yt))}(r,a,h,e,v,g,m,i),e.__edge&&(e.onHoverStateChange=function(ee){if("blur"!==ee){var le=a.parentNode&&n.getItemGraphicEl(a.parentNode.dataIndex);le&&1===le.hoverState||sh(e.__edge,ee)}})}function dE(n,t,e,i,r){var o=pE(t.tree.root,n),a=o.source,s=o.sourceLayout,l=t.getItemGraphicEl(n.dataIndex);if(l){var u=t.getItemGraphicEl(a.dataIndex).__edge,h=l.__edge||(!1===a.isExpand||1===a.children.length?u:void 0),f=i.get("edgeShape"),p=i.get("layout"),g=i.get("orient"),v=i.get(["lineStyle","curveness"]);h&&("curve"===f?bu(h,{shape:x0(p,g,v,s,s),style:{opacity:0}},i,{cb:function(){e.remove(h)},removeOpt:r}):"polyline"===f&&"orthogonal"===i.get("layout")&&bu(h,{shape:{parentPoint:[s.x,s.y],childPoints:[[s.x,s.y]]},style:{opacity:0}},i,{cb:function(){e.remove(h)},removeOpt:r}))}}function pE(n,t){for(var e,i=t.parentNode===n?t:t.parentNode||t;null==(e=i.getLayout());)i=i.parentNode===n?i:i.parentNode||i;return{source:i,sourceLayout:e}}function gE(n,t,e,i,r){var o=n.tree.getNodeByDataIndex(t),a=pE(n.tree.root,o).sourceLayout,s={duration:r.get("animationDurationUpdate"),easing:r.get("animationEasingUpdate")};bu(e,{x:a.x+1,y:a.y+1},r,{cb:function(){i.remove(e),n.setItemGraphicEl(t,null)},removeOpt:s}),e.fadeOut(null,{fadeLabel:!0,animation:s}),o.children.forEach(function(l){dE(l,n,i,r,s)}),dE(o,n,i,r,s)}function x0(n,t,e,i,r){var o,a,s,l,u,h,f,p;if("radial"===n){h=r.rawX,p=r.rawY;var g=Pd(u=i.rawX,f=i.rawY),v=Pd(u,f+(p-f)*e),m=Pd(h,p+(f-p)*e),y=Pd(h,p);return{x1:g.x||0,y1:g.y||0,x2:y.x||0,y2:y.y||0,cpx1:v.x||0,cpy1:v.y||0,cpx2:m.x||0,cpy2:m.y||0}}return u=i.x,f=i.y,h=r.x,p=r.y,"LR"!==t&&"RL"!==t||(o=u+(h-u)*e,a=f,s=h+(u-h)*e,l=p),"TB"!==t&&"BT"!==t||(o=u,a=f+(p-f)*e,s=h,l=p+(f-p)*e),{x1:u,y1:f,x2:h,y2:p,cpx1:o,cpy1:a,cpx2:s,cpy2:l}}var ls=Fn();function vE(n){var t=n.mainData,e=n.datas;e||(e={main:t},n.datasAttr={main:"data"}),n.datas=n.mainData=null,mE(t,e,n),Y(e,function(i){Y(t.TRANSFERABLE_METHODS,function(r){i.wrapMethod(r,Lt(EO,n))})}),t.wrapMethod("cloneShallow",Lt(IO,n)),Y(t.CHANGABLE_METHODS,function(i){t.wrapMethod(i,Lt(CO,n))}),ni(e[t.dataType]===t)}function EO(n,t){if(ls(this).mainData===this){var e=se({},ls(this).datas);e[this.dataType]=t,mE(t,e,n)}else b0(t,this.dataType,ls(this).mainData,n);return t}function CO(n,t){return n.struct&&n.struct.update(),t}function IO(n,t){return Y(ls(t).datas,function(e,i){e!==t&&b0(e.cloneShallow(),i,t,n)}),t}function AO(n){var t=ls(this).mainData;return null==n||null==t?t:ls(t).datas[n]}function MO(){var n=ls(this).mainData;return null==n?[{data:n}]:Ve(Mt(ls(n).datas),function(t){return{type:t,data:ls(n).datas[t]}})}function mE(n,t,e){ls(n).datas={},Y(t,function(i,r){b0(i,r,n,e)})}function b0(n,t,e,i){ls(e).datas[t]=n,ls(n).mainData=e,n.dataType=t,i.struct&&(n[i.structAttr]=i.struct,i.struct[i.datasAttr[t]]=n),n.getLinkedData=AO,n.getLinkedDataAll=MO}var LO=function(){function n(t,e){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=t||"",this.hostTree=e}return n.prototype.isRemoved=function(){return this.dataIndex<0},n.prototype.eachNode=function(t,e,i){"function"==typeof t&&(i=e,e=t,t=null),Jt(t=t||{})&&(t={order:t});var r,o=t.order||"preorder",a=this[t.attr||"children"];"preorder"===o&&(r=e.call(i,this));for(var s=0;!r&&s<a.length;s++)a[s].eachNode(t,e,i);"postorder"===o&&e.call(i,this)},n.prototype.updateDepthAndHeight=function(t){var e=0;this.depth=t;for(var i=0;i<this.children.length;i++){var r=this.children[i];r.updateDepthAndHeight(t+1),r.height>e&&(e=r.height)}this.height=e+1},n.prototype.getNodeById=function(t){if(this.getId()===t)return this;for(var e=0,i=this.children,r=i.length;e<r;e++){var o=i[e].getNodeById(t);if(o)return o}},n.prototype.contains=function(t){if(t===this)return!0;for(var e=0,i=this.children,r=i.length;e<r;e++){var o=i[e].contains(t);if(o)return o}},n.prototype.getAncestors=function(t){for(var e=[],i=t?this:this.parentNode;i;)e.push(i),i=i.parentNode;return e.reverse(),e},n.prototype.getAncestorsIndices=function(){for(var t=[],e=this;e;)t.push(e.dataIndex),e=e.parentNode;return t.reverse(),t},n.prototype.getDescendantIndices=function(){var t=[];return this.eachNode(function(e){t.push(e.dataIndex)}),t},n.prototype.getValue=function(t){var e=this.hostTree.data;return e.getStore().get(e.getDimensionIndex(t||"value"),this.dataIndex)},n.prototype.setLayout=function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,t,e)},n.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},n.prototype.getModel=function(t){if(!(this.dataIndex<0))return this.hostTree.data.getItemModel(this.dataIndex).getModel(t)},n.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},n.prototype.setVisual=function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,t,e)},n.prototype.getVisual=function(t){return this.hostTree.data.getItemVisual(this.dataIndex,t)},n.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},n.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},n.prototype.getChildIndex=function(){if(this.parentNode){for(var t=this.parentNode.children,e=0;e<t.length;++e)if(t[e]===this)return e;return-1}return-1},n.prototype.isAncestorOf=function(t){for(var e=t.parentNode;e;){if(e===this)return!0;e=e.parentNode}return!1},n.prototype.isDescendantOf=function(t){return t!==this&&t.isAncestorOf(this)},n}(),S0=function(){function n(t){this.type="tree",this._nodes=[],this.hostModel=t}return n.prototype.eachNode=function(t,e,i){this.root.eachNode(t,e,i)},n.prototype.getNodeByDataIndex=function(t){var e=this.data.getRawIndex(t);return this._nodes[e]},n.prototype.getNodeById=function(t){return this.root.getNodeById(t)},n.prototype.update=function(){for(var t=this.data,e=this._nodes,i=0,r=e.length;i<r;i++)e[i].dataIndex=-1;for(i=0,r=t.count();i<r;i++)e[t.getRawIndex(i)].dataIndex=i},n.prototype.clearLayouts=function(){this.data.clearItemLayouts()},n.createTree=function(t,e,i){var r=new n(e),o=[],a=1;(function u(h,f){var p=h.value;a=Math.max(a,rt(p)?p.length:1),o.push(h);var y,b,g=new LO(ci(h.name,""),r);f?(y=g).parentNode!==(b=f)&&(b.children.push(y),y.parentNode=b):r.root=g,r._nodes.push(g);var v=h.children;if(v)for(var m=0;m<v.length;m++)u(v[m],g)})(t),r.root.updateDepthAndHeight(0);var s=Dh(o,{coordDimensions:["value"],dimensionsCount:a}).dimensions,l=new Uo(s,e);return l.initData(o),i&&i(l),vE({mainData:l,struct:r,structAttr:"tree"}),r.update(),r},n}();function Bd(n,t,e){if(n&&pe(t,n.type)>=0){var i=e.getData().tree.root,r=n.targetNode;if("string"==typeof r&&(r=i.getNodeById(r)),r&&i.contains(r))return{node:r};var o=n.targetNodeId;if(null!=o&&(r=i.getNodeById(o)))return{node:r}}}function yE(n){for(var t=[];n;)(n=n.parentNode)&&t.push(n);return t.reverse()}function w0(n,t){return pe(yE(n),t)>=0}function pv(n,t){for(var e=[];n;){var i=n.dataIndex;e.push({name:n.name,dataIndex:i,value:t.getRawValue(i)}),n=n.parentNode}return e.reverse(),e}var DO=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.hasSymbolVisual=!0,e.ignoreStyleOnData=!0,e}return ue(t,n),t.prototype.getInitialData=function(e){var i={name:e.name,children:e.data},o=new Qn(e.leaves||{},this,this.ecModel),a=S0.createTree(i,this,function(u){u.wrapMethod("getItemModel",function(h,f){var p=a.getNodeByDataIndex(f);return p&&p.children.length&&p.isExpand||(h.parentModel=o),h})}),s=0;a.eachNode("preorder",function(u){u.depth>s&&(s=u.depth)});var l=e.expandAndCollapse&&e.initialTreeDepth>=0?e.initialTreeDepth:s;return a.root.eachNode("preorder",function(u){var h=u.hostTree.data.getRawDataItem(u.dataIndex);u.isExpand=h&&null!=h.collapsed?!h.collapsed:u.depth<=l}),a.data},t.prototype.getOrient=function(){var e=this.get("orient");return"horizontal"===e?e="LR":"vertical"===e&&(e="TB"),e},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.formatTooltip=function(e,i,r){for(var o=this.getData().tree,a=o.root.children[0],s=o.getNodeByDataIndex(e),l=s.getValue(),u=s.name;s&&s!==a;)u=s.parentNode.name+"."+u,s=s.parentNode;return ao("nameValue",{name:u,value:l,noValue:isNaN(l)||null==l})},t.prototype.getDataParams=function(e){var i=n.prototype.getDataParams.apply(this,arguments),r=this.getData().tree.getNodeByDataIndex(e);return i.treeAncestors=pv(r,this),i},t.type="series.tree",t.layoutMode="box",t.defaultOption={zlevel:0,z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},t}(Ei);function Fd(n,t){for(var e,i=[n];e=i.pop();)if(t(e),e.isExpand){var r=e.children;if(r.length)for(var o=r.length-1;o>=0;o--)i.push(r[o])}}function NO(n,t){n.eachSeriesByType("tree",function(e){!function(i,r){var R,o=(R=r,Br(i.getBoxLayoutParams(),{width:R.getWidth(),height:R.getHeight()}));i.layoutInfo=o;var a=i.get("layout"),s=0,l=0,u=null;"radial"===a?(s=2*Math.PI,l=Math.min(o.height,o.width)/2,u=cE(function(L,R){return(L.parentNode===R.parentNode?1:2)/L.depth})):(s=o.width,l=o.height,u=cE());var h=i.getData().tree.root,f=h.children[0];if(f){(function(L){var R=L;R.hierNode={defaultAncestor:null,ancestor:R,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var k,H,U=[R];k=U.pop();)if(H=k.children,k.isExpand&&H.length)for(var G=H.length-1;G>=0;G--){var K=H[G];K.hierNode={defaultAncestor:null,ancestor:K,prelim:0,modifier:0,change:0,shift:0,i:G,thread:null},U.push(K)}})(h),function(L,R,k){for(var H,U=[L],G=[];H=U.pop();)if(G.push(H),H.isExpand){var K=H.children;if(K.length)for(var $=0;$<K.length;$++)U.push(K[$])}for(;H=G.pop();)R(H,k)}(f,mO,u),h.hierNode.modifier=-f.hierNode.prelim,Fd(f,yO);var p=f,g=f,v=f;Fd(f,function(L){var R=L.getLayout().x;R<p.getLayout().x&&(p=L),R>g.getLayout().x&&(g=L),L.depth>v.depth&&(v=L)});var m=p===g?1:u(p,g)/2,y=m-p.getLayout().x,b=0,S=0,E=0,I=0;if("radial"===a)b=s/(g.getLayout().x+m+y),S=l/(v.depth-1||1),Fd(f,function(L){var R=Pd(E=(L.getLayout().x+y)*b,I=(L.depth-1)*S);L.setLayout({x:R.x,y:R.y,rawX:E,rawY:I},!0)});else{var A=i.getOrient();"RL"===A||"LR"===A?(S=l/(g.getLayout().x+m+y),b=s/(v.depth-1||1),Fd(f,function(L){I=(L.getLayout().x+y)*S,L.setLayout({x:E="LR"===A?(L.depth-1)*b:s-(L.depth-1)*b,y:I},!0)})):"TB"!==A&&"BT"!==A||(b=s/(g.getLayout().x+m+y),S=l/(v.depth-1||1),Fd(f,function(L){E=(L.getLayout().x+y)*b,L.setLayout({x:E,y:I="TB"===A?(L.depth-1)*S:l-(L.depth-1)*S},!0)}))}}}(e,t)})}function RO(n){n.eachSeriesByType("tree",function(t){var e=t.getData();e.tree.eachNode(function(i){var r=i.getModel().getModel("itemStyle").getItemStyle();se(e.ensureUniqueItemVisual(i.dataIndex,"style"),r)})})}var OO=function(){},_E=["treemapZoomToNode","treemapRender","treemapMove"];function xE(n){var t=n.getData().tree,e={};t.eachNode(function(i){for(var r=i;r&&r.depth>1;)r=r.parentNode;var o=km(n.ecModel,r.name||r.dataIndex+"",e);i.setVisual("decal",o)})}var kO=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.preventUsingHoverLayer=!0,e}return ue(t,n),t.prototype.getInitialData=function(e,i){var r={name:e.name,children:e.data};bE(r);var o=e.levels||[],a=this.designatedVisualItemStyle={},s=new Qn({itemStyle:a},this,i),l=Ve((o=e.levels=function(h,f){var p,g,v=Yn(f.get("color")),m=Yn(f.get(["aria","decal","decals"]));if(v){Y(h=h||[],function(b){var S=new Qn(b),E=S.get("color"),I=S.get("decal");(S.get(["itemStyle","color"])||E&&"none"!==E)&&(p=!0),(S.get(["itemStyle","decal"])||I&&"none"!==I)&&(g=!0)});var y=h[0]||(h[0]={});return p||(y.color=v.slice()),!g&&m&&(y.decal=m.slice()),h}}(o,i))||[],function(h){return new Qn(h,s,i)},this),u=S0.createTree(r,this,function(h){h.wrapMethod("getItemModel",function(f,p){var g=u.getNodeByDataIndex(p);return f.parentModel=(g?l[g.depth]:null)||s,f})});return u.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.formatTooltip=function(e,i,r){var o=this.getData(),a=this.getRawValue(e);return ao("nameValue",{name:o.getName(e),value:a})},t.prototype.getDataParams=function(e){var i=n.prototype.getDataParams.apply(this,arguments),r=this.getData().tree.getNodeByDataIndex(e);return i.treeAncestors=pv(r,this),i.treePathInfo=i.treeAncestors,i},t.prototype.setLayoutInfo=function(e){this.layoutInfo=this.layoutInfo||{},se(this.layoutInfo,e)},t.prototype.mapIdToIndex=function(e){var i=this._idIndexMap;i||(i=this._idIndexMap=Ht(),this._idIndexMapCount=0);var r=i.get(e);return null==r&&i.set(e,r=this._idIndexMapCount++),r},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var i=this.getRawData().tree.root;e&&(e===i||i.contains(e))||(this._viewRoot=i)},t.prototype.enableAriaDecal=function(){xE(this)},t.type="series.treemap",t.layoutMode="box",t.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"\u25b6",zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],ellipsis:!0,verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},t}(Ei);function bE(n){var t=0;Y(n.children,function(i){bE(i);var r=i.value;rt(r)&&(r=r[0]),t+=r});var e=n.value;rt(e)&&(e=e[0]),(null==e||isNaN(e))&&(e=t),e<0&&(e=0),rt(n.value)?n.value[0]=e:n.value=e}var PO=function(){function n(t){this.group=new Ft,t.add(this.group)}return n.prototype.render=function(t,e,i,r){var o=t.getModel("breadcrumb"),a=this.group;if(a.removeAll(),o.get("show")&&i){var s=o.getModel("itemStyle"),l=s.getModel("textStyle"),u={pos:{left:o.get("left"),right:o.get("right"),top:o.get("top"),bottom:o.get("bottom")},box:{width:e.getWidth(),height:e.getHeight()},emptyItemWidth:o.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(i,u,l),this._renderContent(t,u,s,l,r),sg(a,u.pos,u.box)}},n.prototype._prepare=function(t,e,i){for(var r=t;r;r=r.parentNode){var o=ci(r.getModel().get("name"),""),a=i.getTextRect(o),s=Math.max(a.width+16,e.emptyItemWidth);e.totalWidth+=s+8,e.renderList.push({node:r,text:o,width:s})}},n.prototype._renderContent=function(t,e,i,r,o){for(var a,s,l,u,h,f,p,g,v,m=0,y=e.emptyItemWidth,b=t.get(["breadcrumb","height"]),S=(h=(s=e.box).height,f=kt((a=e.pos).left,u=s.width),p=kt(a.top,h),g=kt(a.right,u),v=kt(a.bottom,h),(isNaN(f)||isNaN(parseFloat(a.left)))&&(f=0),(isNaN(g)||isNaN(parseFloat(a.right)))&&(g=u),(isNaN(p)||isNaN(parseFloat(a.top)))&&(p=0),(isNaN(v)||isNaN(parseFloat(a.bottom)))&&(v=h),l=mc(l||0),{width:Math.max(g-f-l[1]-l[3],0),height:Math.max(v-p-l[0]-l[2],0)}),E=e.totalWidth,I=e.renderList,A=I.length-1;A>=0;A--){var L=I[A],R=L.node,k=L.width,H=L.text;E>S.width&&(E-=k-y,k=y,H=null);var U=new Lo({shape:{points:BO(m,0,k,b,A===I.length-1,0===A)},style:Ee(i.getItemStyle(),{lineJoin:"bevel"}),textContent:new Nn({style:{text:H,fill:r.getTextColor(),font:r.getFont()}}),textConfig:{position:"inside"},z2:1e5,onclick:Lt(o,R)});U.disableLabelAnimation=!0,this.group.add(U),FO(U,t,R),m+=k+8}},n.prototype.remove=function(){this.group.removeAll()},n}();function BO(n,t,e,i,r,o){var a=[[r?n:n-5,t],[n+e,t],[n+e,t+i],[r?n:n-5,t+i]];return!o&&a.splice(2,0,[n+e+5,t+i/2]),!r&&a.push([n,t+i/2]),a}function FO(n,t,e){pn(n).eventData={componentType:"series",componentSubType:"treemap",componentIndex:t.componentIndex,seriesIndex:t.componentIndex,seriesName:t.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:e&&e.dataIndex,name:e&&e.name},treePathInfo:e&&pv(e,t)}}var HO=function(){function n(){this._storage=[],this._elExistsMap={}}return n.prototype.add=function(t,e,i,r,o){return!this._elExistsMap[t.id]&&(this._elExistsMap[t.id]=!0,this._storage.push({el:t,target:e,duration:i,delay:r,easing:o}),!0)},n.prototype.finished=function(t){return this._finishedCallback=t,this},n.prototype.start=function(){for(var t=this,e=this._storage.length,i=function(){--e<=0&&(t._storage.length=0,t._elExistsMap={},t._finishedCallback&&t._finishedCallback())},r=0,o=this._storage.length;r<o;r++){var a=this._storage[r];a.el.animateTo(a.target,{duration:a.duration,delay:a.delay,easing:a.easing,setToFinal:!0,done:i,aborted:i})}return this},n}(),T0=Ft,SE=kn,TE="upperLabel",Nc=il([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),EE=function(n){var t=Nc(n);return t.stroke=t.fill=t.lineWidth=null,t},gv=Fn(),UO=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e._state="ready",e._storage={nodeGroup:[],background:[],content:[]},e}return ue(t,n),t.prototype.render=function(e,i,r,o){if(!(pe(i.findComponents({mainType:"series",subType:"treemap",query:o}),e)<0)){this.seriesModel=e,this.api=r,this.ecModel=i;var a=Bd(o,["treemapZoomToNode","treemapRootToNode"],e),s=o&&o.type,l=e.layoutInfo,u=!this._oldTree,h=this._storage,f="treemapRootToNode"===s&&a&&h?{rootNodeGroup:h.nodeGroup[a.node.getRawIndex()],direction:o.direction}:null,p=this._giveContainerGroup(l),g=e.get("animation"),v=this._doRender(p,e,f);!g||u||s&&"treemapZoomToNode"!==s&&"treemapRootToNode"!==s?v.renderFinally():this._doAnimation(p,v,e,f),this._resetController(r),this._renderBreadcrumb(e,r,a)}},t.prototype._giveContainerGroup=function(e){var i=this._containerGroup;return i||(i=this._containerGroup=new T0,this._initEvents(i),this.group.add(i)),i.x=e.x,i.y=e.y,i},t.prototype._doRender=function(e,i,r){var o=i.getData().tree,a=this._oldTree,s={nodeGroup:[],background:[],content:[]},l={nodeGroup:[],background:[],content:[]},u=this._storage,h=[];!function g(v,m,y,b,S){function E(A){return A.getId()}function I(A,L){var R=null!=A?v[A]:null,k=null!=L?m[L]:null,H=function f(g,v,m,y){return function(b,S,E,I,A,L,R,k,H,U){if(R){var G=R.getLayout(),K=b.getData(),$=R.getModel();if(K.setItemGraphicEl(R.dataIndex,null),G&&G.isInView){var ee=G.width,le=G.height,he=G.borderWidth,ge=G.invisible,me=R.getRawIndex(),be=k&&k.getRawIndex(),Le=R.viewChildren,Ge=G.upperHeight,nt=Le&&Le.length,xt=$.getModel("itemStyle"),Je=$.getModel(["emphasis","itemStyle"]),dt=$.getModel(["blur","itemStyle"]),Dt=$.getModel(["select","itemStyle"]),Tt=xt.get("borderRadius")||0,It=Oi("nodeGroup",T0);if(It){if(H.add(It),It.x=G.x||0,It.y=G.y||0,It.markRedraw(),gv(It).nodeWidth=ee,gv(It).nodeHeight=le,G.isAboveViewRoot)return It;var Yt=Oi("background",SE,U,20);Yt&&function Zi(_i,On,mi){var $n=pn(On);if($n.dataIndex=R.dataIndex,$n.seriesIndex=b.seriesIndex,On.setShape({x:0,y:0,width:ee,height:le,r:Tt}),ge)Wn(On);else{On.invisible=!1;var _n=R.getVisual("style"),eo=_n.stroke,Hr=EE(xt);Hr.fill=eo;var ki=Nc(Je);ki.fill=Je.get("borderColor");var Vo=Nc(dt);Vo.fill=dt.get("borderColor");var Kl=Nc(Dt);Kl.fill=Dt.get("borderColor"),mi?Hn(On,eo,_n.opacity,{x:he,y:0,width:ee-2*he,height:Ge}):On.removeTextContent(),On.setStyle(Hr),On.ensureState("emphasis").style=ki,On.ensureState("blur").style=Vo,On.ensureState("select").style=Kl,dl(On)}_i.add(On)}(It,Yt,nt&&G.upperLabelHeight);var Xt=$.get(["emphasis","focus"]),un=$.get(["emphasis","blurScope"]),dn="ancestor"===Xt?R.getAncestorsIndices():"descendant"===Xt?R.getDescendantIndices():Xt;if(nt)J(It)&&q(It,!1),Yt&&(q(Yt,!0),K.setItemGraphicEl(R.dataIndex,Yt),w(Yt,dn,un));else{var mn=Oi("content",SE,U,30);mn&&function Gi(_i,On){var mi=pn(On);mi.dataIndex=R.dataIndex,mi.seriesIndex=b.seriesIndex;var $n=Math.max(ee-2*he,0),_n=Math.max(le-2*he,0);if(On.culling=!0,On.setShape({x:he,y:he,width:$n,height:_n,r:Tt}),ge)Wn(On);else{On.invisible=!1;var eo=R.getVisual("style"),Hr=eo.fill,ki=EE(xt);ki.fill=Hr,ki.decal=eo.decal;var Vo=Nc(Je),Kl=Nc(dt),tf=Nc(Dt);Hn(On,Hr,eo.opacity,null),On.setStyle(ki),On.ensureState("emphasis").style=Vo,On.ensureState("blur").style=Kl,On.ensureState("select").style=tf,dl(On)}_i.add(On)}(It,mn),Yt.disableMorphing=!0,Yt&&J(Yt)&&q(Yt,!1),q(It,!0),K.setItemGraphicEl(R.dataIndex,It),w(It,dn,un)}return It}}}function Wn(_i){!_i.invisible&&L.push(_i)}function Hn(_i,On,mi,$n){var _n=$.getModel($n?TE:"label"),eo=ci($.get("name"),null),Hr=_n.getShallow("show");Fo(_i,xo($,$n?TE:"label"),{defaultText:Hr?eo:null,inheritColor:On,defaultOpacity:mi,labelFetcher:b,labelDataIndex:R.dataIndex});var ki=_i.getTextContent();if(ki){var Vo=ki.style,Kl=Ai(Vo.padding||0);$n&&(_i.setTextConfig({layoutRect:$n}),ki.disableLabelLayout=!0),ki.beforeUpdate=function(){var iL=Math.max(($n?$n.width:_i.shape.width)-Kl[1]-Kl[3],0),rL=Math.max(($n?$n.height:_i.shape.height)-Kl[0]-Kl[2],0);Vo.width===iL&&Vo.height===rL||ki.setStyle({width:iL,height:rL})},Vo.truncateMinChar=2,Vo.lineOverflow="truncate",ar(Vo,$n,G);var tf=ki.getState("emphasis");ar(tf?tf.style:null,$n,G)}}function ar(_i,On,mi){var $n=_i?_i.text:null;if(!On&&mi.isLeafRoot&&null!=$n){var _n=b.get("drillDownIcon",!0);_i.text=_n?_n+" "+$n:$n}}function Oi(_i,On,mi,$n){var _n=null!=be&&E[_i][be],eo=A[_i];return _n?(E[_i][be]=null,function zo(_i,On){var mi=_i[me]={};On instanceof T0?(mi.oldX=On.x,mi.oldY=On.y):mi.oldShape=se({},On.shape)}(eo,_n)):ge||((_n=new On)instanceof Na&&(_n.z2=100*mi+$n),function aa(_i,On){var mi=_i[me]={},$n=R.parentNode,_n=On instanceof Ft;if($n&&(!I||"drillDown"===I.direction)){var eo=0,Hr=0,ki=A.background[$n.getRawIndex()];!I&&ki&&ki.oldShape&&(eo=ki.oldShape.width,Hr=ki.oldShape.height),_n?(mi.oldX=0,mi.oldY=Hr):mi.oldShape={x:eo,y:Hr,width:0,height:0}}mi.fadein=!_n}(eo,_n)),S[_i][me]=_n}}(i,l,u,r,s,h,g,v,m,y)}(R,k,y,S);H&&g(R&&R.viewChildren||[],k&&k.viewChildren||[],H,b,S+1)}b?(m=v,Y(v,function(A,L){!A.isRemoved()&&I(L,L)})):new Ul(m,v,E,E).add(I).update(I).remove(Lt(I,null)).execute()}(o.root?[o.root]:[],a&&a.root?[a.root]:[],e,o===a||!a,0);var g,v,p=(v={nodeGroup:[],background:[],content:[]},(g=u)&&Y(g,function(m,y){var b=v[y];Y(m,function(S){S&&(b.push(S),gv(S).willDelete=!0)})}),v);return this._oldTree=o,this._storage=l,{lastsForAnimation:s,willDeleteEls:p,renderFinally:function(){Y(p,function(g){Y(g,function(v){v.parent&&v.parent.remove(v)})}),Y(h,function(g){g.invisible=!0,g.dirty()})}}},t.prototype._doAnimation=function(e,i,r,o){var a=r.get("animationDurationUpdate"),s=r.get("animationEasing"),l=(sn(a)?0:a)||0,u=(sn(s)?null:s)||"cubicOut",h=new HO;Y(i.willDeleteEls,function(f,p){Y(f,function(g,v){if(!g.invisible){var m,y=g.parent,b=gv(y);if(o&&"drillDown"===o.direction)m=y===o.rootNodeGroup?{shape:{x:0,y:0,width:b.nodeWidth,height:b.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var S=0,E=0;b.willDelete||(S=b.nodeWidth/2,E=b.nodeHeight/2),m="nodeGroup"===p?{x:S,y:E,style:{opacity:0}}:{shape:{x:S,y:E,width:0,height:0},style:{opacity:0}}}m&&h.add(g,m,l,0,u)}})}),Y(this._storage,function(f,p){Y(f,function(g,v){var m=i.lastsForAnimation[p][v],y={};m&&(g instanceof Ft?null!=m.oldX&&(y.x=g.x,y.y=g.y,g.x=m.oldX,g.y=m.oldY):(m.oldShape&&(y.shape=se({},g.shape),g.setShape(m.oldShape)),m.fadein?(g.setStyle("opacity",0),y.style={opacity:1}):1!==g.style.opacity&&(y.style={opacity:1})),h.add(g,y,l,0,u))})},this),this._state="animating",h.finished(mt(function(){this._state="ready",i.renderFinally()},this)).start()},t.prototype._resetController=function(e){var i=this._controller;i||((i=this._controller=new kd(e.getZr())).enable(this.seriesModel.get("roam")),i.on("pan",mt(this._onPan,this)),i.on("zoom",mt(this._onZoom,this)));var r=new cn(0,0,e.getWidth(),e.getHeight());i.setPointerChecker(function(o,a,s){return r.contain(a,s)})},t.prototype._clearController=function(){var e=this._controller;e&&(e.dispose(),e=null)},t.prototype._onPan=function(e){if("animating"!==this._state&&(Math.abs(e.dx)>3||Math.abs(e.dy)>3)){var i=this.seriesModel.getData().tree.root;if(!i)return;var r=i.getLayout();if(!r)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:r.x+e.dx,y:r.y+e.dy,width:r.width,height:r.height}})}},t.prototype._onZoom=function(e){var i=e.originX,r=e.originY;if("animating"!==this._state){var o=this.seriesModel.getData().tree.root;if(!o)return;var a=o.getLayout();if(!a)return;var s=new cn(a.x,a.y,a.width,a.height),l=this.seriesModel.layoutInfo,u=[1,0,0,1,0,0];bo(u,u,[-(i-=l.x),-(r-=l.y)]),So(u,u,[e.scale,e.scale]),bo(u,u,[i,r]),s.applyTransform(u),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:s.x,y:s.y,width:s.width,height:s.height}})}},t.prototype._initEvents=function(e){var i=this;e.on("click",function(r){if("ready"===i._state){var o=i.seriesModel.get("nodeClick",!0);if(o){var a=i.findTarget(r.offsetX,r.offsetY);if(a){var s=a.node;if(s.getLayout().isLeafRoot)i._rootToNode(a);else if("zoomToNode"===o)i._zoomToNode(a);else if("link"===o){var l=s.hostTree.data.getItemModel(s.dataIndex),u=l.get("link",!0),h=l.get("target",!0)||"blank";u&&og(u,h)}}}}},this)},t.prototype._renderBreadcrumb=function(e,i,r){var o=this;r||(r=null!=e.get("leafDepth",!0)?{node:e.getViewRoot()}:this.findTarget(i.getWidth()/2,i.getHeight()/2))||(r={node:e.getData().tree.root}),(this._breadcrumb||(this._breadcrumb=new PO(this.group))).render(e,i,r.node,function(a){"animating"!==o._state&&(w0(e.getViewRoot(),a)?o._rootToNode({node:a}):o._zoomToNode({node:a}))})},t.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage={nodeGroup:[],background:[],content:[]},this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},t.prototype.dispose=function(){this._clearController()},t.prototype._zoomToNode=function(e){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},t.prototype._rootToNode=function(e){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},t.prototype.findTarget=function(e,i){var r;return this.seriesModel.getViewRoot().eachNode({attr:"viewChildren",order:"preorder"},function(o){var a=this._storage.background[o.getRawIndex()];if(a){var s=a.transformCoordToLocal(e,i),l=a.shape;if(!(l.x<=s[0]&&s[0]<=l.x+l.width&&l.y<=s[1]&&s[1]<=l.y+l.height))return!1;r={node:o,offsetX:s[0],offsetY:s[1]}}},this),r},t.type="treemap",t}(vi),Hd=Y,zO=Bt,E0=-1,so=function(){function n(t){var e=t.mappingMethod,i=t.type,r=this.option=Te(t);this.type=i,this.mappingMethod=e,this._normalizeData=VO[e];var a,s,o=n.visualHandlers[i];this.applyVisual=o.applyVisual,this.getColorMapper=o.getColorMapper,this._normalizedToVisual=o._normalizedToVisual[e],"piecewise"===e?(C0(r),s=(a=r).pieceList,a.hasSpecialVisual=!1,Y(s,function(l,u){l.originIndex=u,null!=l.visual&&(a.hasSpecialVisual=!0)})):"category"===e?r.categories?function(a){var s=a.categories,l=a.categoryMap={},u=a.visual;if(Hd(s,function(p,g){l[p]=g}),!rt(u)){var h=[];Bt(u)?Hd(u,function(p,g){h[l[g]??E0]=p}):h[-1]=u,u=IE(a,h)}for(var f=s.length-1;f>=0;f--)null==u[f]&&(delete l[s[f]],s.pop())}(r):C0(r,!0):(ni("linear"!==e||r.dataExtent),C0(r))}return n.prototype.mapValueToVisual=function(t){var e=this._normalizeData(t);return this._normalizedToVisual(e,t)},n.prototype.getNormalizer=function(){return mt(this._normalizeData,this)},n.listVisualTypes=function(){return Mt(n.visualHandlers)},n.isValidType=function(t){return n.visualHandlers.hasOwnProperty(t)},n.eachVisual=function(t,e,i){Bt(t)?Y(t,e,i):e.call(i,t)},n.mapVisual=function(t,e,i){var r,o=rt(t)?[]:Bt(t)?{}:(r=!0,null);return n.eachVisual(t,function(a,s){var l=e.call(i,a,s);r?o=l:o[s]=l}),o},n.retrieveVisuals=function(t){var e,i={};return t&&Hd(n.visualHandlers,function(r,o){t.hasOwnProperty(o)&&(i[o]=t[o],e=!0)}),e?i:null},n.prepareVisualTypes=function(t){if(rt(t))t=t.slice();else{if(!zO(t))return[];var e=[];Hd(t,function(i,r){e.push(r)}),t=e}return t.sort(function(i,r){return"color"===r&&"color"!==i&&0===i.indexOf("color")?1:-1}),t},n.dependsOn=function(t,e){return"color"===e?!(!t||0!==t.indexOf(e)):t===e},n.findPieceIndex=function(t,e,i){for(var r,o=1/0,a=0,s=e.length;a<s;a++){var l=e[a].value;if(null!=l){if(l===t||"string"==typeof l&&l===t+"")return a;i&&p(l,a)}}for(a=0,s=e.length;a<s;a++){var u=e[a],h=u.interval,f=u.close;if(h){if(h[0]===-1/0){if(mv(f[1],t,h[1]))return a}else if(h[1]===1/0){if(mv(f[0],h[0],t))return a}else if(mv(f[0],h[0],t)&&mv(f[1],t,h[1]))return a;i&&p(h[0],a),i&&p(h[1],a)}}if(i)return t===1/0?e.length-1:t===-1/0?0:r;function p(g,v){var m=Math.abs(g-t);m<o&&(o=m,r=v)}},n.visualHandlers={color:{applyVisual:Ud("color"),getColorMapper:function(){var t=this.option;return mt("category"===t.mappingMethod?function(e,i){return!i&&(e=this._normalizeData(e)),zd.call(this,e)}:function(e,i,r){var o=!!r;return!i&&(e=this._normalizeData(e)),r=wa(e,t.parsedVisual,r),o?r:B(r,"rgba")},this)},_normalizedToVisual:{linear:function(t){return B(wa(t,this.option.parsedVisual),"rgba")},category:zd,piecewise:function(t,e){var i=A0.call(this,e);return null==i&&(i=B(wa(t,this.option.parsedVisual),"rgba")),i},fixed:Rc}},colorHue:vv(function(t,e){return N(t,e)}),colorSaturation:vv(function(t,e){return N(t,null,e)}),colorLightness:vv(function(t,e){return N(t,null,null,e)}),colorAlpha:vv(function(t,e){return M(t,e)}),decal:{applyVisual:Ud("decal"),_normalizedToVisual:{linear:null,category:zd,piecewise:null,fixed:null}},opacity:{applyVisual:Ud("opacity"),_normalizedToVisual:I0([0,1])},liftZ:{applyVisual:Ud("liftZ"),_normalizedToVisual:{linear:Rc,category:Rc,piecewise:Rc,fixed:Rc}},symbol:{applyVisual:function(t,e,i){i("symbol",this.mapValueToVisual(t))},_normalizedToVisual:{linear:CE,category:zd,piecewise:function(t,e){var i=A0.call(this,e);return null==i&&(i=CE.call(this,t)),i},fixed:Rc}},symbolSize:{applyVisual:Ud("symbolSize"),_normalizedToVisual:I0([0,1])}},n}();function C0(n,t){var e=n.visual,i=[];Bt(e)?Hd(e,function(r){i.push(r)}):null!=e&&i.push(e),t||1!==i.length||{color:1,symbol:1}.hasOwnProperty(n.type)||(i[1]=i[0]),IE(n,i)}function vv(n){return{applyVisual:function(t,e,i){var r=this.mapValueToVisual(t);i("color",n(e("color"),r))},_normalizedToVisual:I0([0,1])}}function CE(n){var t=this.option.visual;return t[Math.round(Jn(n,[0,1],[0,t.length-1],!0))]||{}}function Ud(n){return function(t,e,i){i(n,this.mapValueToVisual(t))}}function zd(n){var t=this.option.visual;return t[this.option.loop&&n!==E0?n%t.length:n]}function Rc(){return this.option.visual[0]}function I0(n){return{linear:function(t){return Jn(t,n,this.option.visual,!0)},category:zd,piecewise:function(t,e){var i=A0.call(this,e);return null==i&&(i=Jn(t,n,this.option.visual,!0)),i},fixed:Rc}}function A0(n){var t=this.option,e=t.pieceList;if(t.hasSpecialVisual){var i=e[so.findPieceIndex(n,e)];if(i&&i.visual)return i.visual[this.type]}}function IE(n,t){return n.visual=t,"color"===n.type&&(n.parsedVisual=Ve(t,function(e){return ji(e)})),t}var VO={linear:function(n){return Jn(n,this.option.dataExtent,[0,1],!0)},piecewise:function(n){var t=this.option.pieceList,e=so.findPieceIndex(n,t,!0);if(null!=e)return Jn(e,[0,t.length-1],[0,1],!0)},category:function(n){return(this.option.categories?this.option.categoryMap[n]:n)??E0},fixed:Vn};function mv(n,t,e){return n?t<=e:t<e}var AE=Fn(),GO={seriesType:"treemap",reset:function(n){var t=n.getData().tree.root;t.isRemoved()||ME(t,{},n.getViewRoot().getAncestors(),n)}};function ME(n,t,e,i){var m,y,b,S,E,r=n.getModel(),o=n.getLayout(),a=n.hostTree.data;if(o&&!o.invisible&&o.isInView){var s,l=r.getModel("itemStyle"),u=(m=l,b=i,S=se({},y=t),E=b.designatedVisualItemStyle,Y(["color","colorAlpha","colorSaturation"],function(I){E[I]=y[I];var A=m.get(I);E[I]=null,null!=A&&(S[I]=A)}),S),h=a.ensureUniqueItemVisual(n.dataIndex,"style"),f=l.get("borderColor"),p=l.get("borderColorSaturation");null!=p&&(f=function(m,y){return null!=y?N(y,null,null,m):null}(p,s=LE(u))),h.stroke=f;var g=n.viewChildren;if(g&&g.length){var v=function(m,y,b,S,E,I){if(I&&I.length){var A=L0(y,"color")||null!=E.color&&"none"!==E.color&&(L0(y,"colorAlpha")||L0(y,"colorSaturation"));if(A){var L=y.get("visualMin"),R=y.get("visualMax"),k=b.dataExtent.slice();null!=L&&L<k[0]&&(k[0]=L),null!=R&&R>k[1]&&(k[1]=R);var H=y.get("colorMappingBy"),U={type:A.name,dataExtent:k,visual:A.range};"color"!==U.type||"index"!==H&&"id"!==H?U.mappingMethod="linear":(U.mappingMethod="category",U.loop=!0);var G=new so(U);return AE(G).drColorMappingBy=H,G}}}(0,r,o,0,u,g);Y(g,function(m,y){if(m.depth>=e.length||m===e[m.depth]){var b=function(S,E,I,A,L,R){var k=se({},E);if(L){var H=L.type,U="color"===H&&AE(L).drColorMappingBy,G="index"===U?A:"id"===U?R.mapIdToIndex(I.getId()):I.getValue(S.get("visualDimension"));k[H]=L.mapValueToVisual(G)}return k}(r,u,m,y,v,i);ME(m,b,e,i)}})}else s=LE(u),h.fill=s}}function LE(n){var t=M0(n,"color");if(t){var e=M0(n,"colorAlpha"),i=M0(n,"colorSaturation");return i&&(t=N(t,null,null,i)),e&&(t=M(t,e)),t}}function M0(n,t){var e=n[t];if(null!=e&&"none"!==e)return e}function L0(n,t){var e=n.get(t);return rt(e)&&e.length?{name:t,range:e}:null}var Vd=Math.max,yv=Math.min,DE=zn,D0=Y,NE=["itemStyle","borderWidth"],WO=["itemStyle","gapWidth"],YO=["upperLabel","show"],XO=["upperLabel","height"],jO={seriesType:"treemap",reset:function(n,t,e,i){var r=e.getWidth(),o=e.getHeight(),a=n.option,s=Br(n.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()}),l=a.size||[],u=kt(DE(s.width,l[0]),r),h=kt(DE(s.height,l[1]),o),f=i&&i.type,p=Bd(i,["treemapZoomToNode","treemapRootToNode"],n),g="treemapRender"===f||"treemapMove"===f?i.rootRect:null,v=n.getViewRoot(),m=yE(v);if("treemapMove"!==f){var y="treemapZoomToNode"===f?function(A,L,R,k,H){var U,G=(L||{}).node,K=[k,H];if(!G||G===R)return K;for(var $=k*H,ee=$*A.option.zoomToNodeRatio;U=G.parentNode;){for(var le=0,he=U.children,ge=0,me=he.length;ge<me;ge++)le+=he[ge].getValue();var be=G.getValue();if(0===be)return K;ee*=le/be;var Le=U.getModel(),Ge=Le.get(NE);(ee+=4*Ge*Ge+(3*Ge+Math.max(Ge,PE(Le)))*Math.pow(ee,.5))>of&&(ee=of),G=U}ee<$&&(ee=$);var nt=Math.pow(ee/$,.5);return[k*nt,H*nt]}(n,p,v,u,h):g?[g.width,g.height]:[u,h],b=a.sort;b&&"asc"!==b&&"desc"!==b&&(b="desc");var S={squareRatio:a.squareRatio,sort:b,leafDepth:a.leafDepth};v.hostTree.clearLayouts();var E={x:0,y:0,width:y[0],height:y[1],area:y[0]*y[1]};v.setLayout(E),RE(v,S,!1,0),E=v.getLayout(),D0(m,function(A,L){var R=(m[L+1]||v).getValue();A.setLayout(se({dataExtent:[R,R],borderWidth:0,upperHeight:0},E))})}var I=n.getData().tree.root;I.setLayout(function(A,L,R){if(L)return{x:L.x,y:L.y};var k={x:0,y:0};if(!R)return k;var H=R.node,U=H.getLayout();if(!U)return k;for(var G=[U.width/2,U.height/2],K=H;K;){var $=K.getLayout();G[0]+=$.x,G[1]+=$.y,K=K.parentNode}return{x:A.width/2-G[0],y:A.height/2-G[1]}}(s,g,p),!0),n.setLayoutInfo(s),kE(I,new cn(-s.x,-s.y,r,o),m,v,0)}};function RE(n,t,e,i){var r,o;if(!n.isRemoved()){var a=n.getLayout();r=a.width,o=a.height;var s=n.getModel(),l=s.get(NE),u=s.get(WO)/2,h=PE(s),f=Math.max(l,h),p=l-u,g=f-u;n.setLayout({borderWidth:l,upperHeight:f,upperLabelHeight:h},!0);var v=(r=Vd(r-2*p,0))*(o=Vd(o-p-g,0)),m=function(H,U,G,K,$,ee){var le=H.children||[],he=K.sort;"asc"!==he&&"desc"!==he&&(he=null);var nt,xt,ge=null!=K.leafDepth&&K.leafDepth<=ee;if($&&!ge)return H.viewChildren=[];nt=le=jt(le,function(nt){return!nt.isRemoved()}),(xt=he)&&nt.sort(function(Je,dt){var Dt="asc"===xt?Je.getValue()-dt.getValue():dt.getValue()-Je.getValue();return 0===Dt?"asc"===xt?Je.dataIndex-dt.dataIndex:dt.dataIndex-Je.dataIndex:Dt});var me=function(nt,xt,Je){for(var dt=0,Dt=0,Tt=xt.length;Dt<Tt;Dt++)dt+=xt[Dt].getValue();var It,Yt=nt.get("visualDimension");return xt&&xt.length?"value"===Yt&&Je?(It=[xt[xt.length-1].getValue(),xt[0].getValue()],"asc"===Je&&It.reverse()):(It=[1/0,-1/0],D0(xt,function(Xt){var un=Xt.getValue(Yt);un<It[0]&&(It[0]=un),un>It[1]&&(It[1]=un)})):It=[NaN,NaN],{sum:dt,dataExtent:It}}(U,le,he);if(0===me.sum)return H.viewChildren=[];if(me.sum=function(nt,xt,Je,dt,Dt){if(!dt)return Je;for(var Tt=nt.get("visibleMin"),It=Dt.length,Yt=It,Xt=It-1;Xt>=0;Xt--){var un=Dt["asc"===dt?It-Xt-1:Xt].getValue();un/Je*xt<Tt&&(Yt=Xt,Je-=un)}return Dt.splice("asc"===dt?0:Yt,It-Yt),Je}(U,G,me.sum,he,le),0===me.sum)return H.viewChildren=[];for(var be=0,Le=le.length;be<Le;be++){var Ge=le[be].getValue()/me.sum*G;le[be].setLayout({area:Ge})}return ge&&(le.length&&H.setLayout({isLeafRoot:!0},!0),le.length=0),H.viewChildren=le,H.setLayout({dataExtent:me.dataExtent},!0),le}(n,s,v,t,e,i);if(m.length){var y={x:p,y:g,width:r,height:o},b=yv(r,o),S=1/0,E=[];E.area=0;for(var I=0,A=m.length;I<A;){var L=m[I];E.push(L),E.area+=L.getLayout().area;var R=qO(E,b,t.squareRatio);R<=S?(I++,S=R):(E.area-=E.pop().getLayout().area,OE(E,b,y,u,!1),b=yv(y.width,y.height),E.length=E.area=0,S=1/0)}if(E.length&&OE(E,b,y,u,!0),!e){var k=s.get("childrenVisibleMin");null!=k&&v<k&&(e=!0)}for(I=0,A=m.length;I<A;I++)RE(m[I],t,e,i+1)}}}function qO(n,t,e){for(var i=0,r=1/0,o=0,a=void 0,s=n.length;o<s;o++)(a=n[o].getLayout().area)&&(a<r&&(r=a),a>i&&(i=a));var l=n.area*n.area,u=t*t*e;return l?Vd(u*i/l,l/(u*r)):1/0}function OE(n,t,e,i,r){var o=t===e.width?0:1,a=1-o,s=["x","y"],l=["width","height"],u=e[s[o]],h=t?n.area/t:0;(r||h>e[l[a]])&&(h=e[l[a]]);for(var f=0,p=n.length;f<p;f++){var g=n[f],v={},m=h?g.getLayout().area/h:0,y=v[l[a]]=Vd(h-2*i,0),b=e[s[o]]+e[l[o]]-u,S=f===p-1||b<m?b:m,E=v[l[o]]=Vd(S-2*i,0);v[s[a]]=e[s[a]]+yv(i,y/2),v[s[o]]=u+yv(i,E/2),u+=S,g.setLayout(v,!0)}e[s[a]]+=h,e[l[a]]-=h}function kE(n,t,e,i,r){var o=n.getLayout(),a=e[r],s=a&&a===n;if(!(a&&!s||r===e.length&&n!==i)){n.setLayout({isInView:!0,invisible:!s&&!t.intersect(o),isAboveViewRoot:s},!0);var l=new cn(t.x-o.x,t.y-o.y,t.width,t.height);D0(n.viewChildren||[],function(u){kE(u,l,e,i,r+1)})}}function PE(n){return n.get(YO)?n.get(XO):0}function KO(n){var t=n.findComponents({mainType:"legend"});t&&t.length&&n.eachSeriesByType("graph",function(e){var i=e.getCategoriesData(),r=e.getGraph().data,o=i.mapArray(i.getName);r.filterSelf(function(a){var s=r.getItemModel(a).getShallow("category");if(null!=s){"number"==typeof s&&(s=o[s]);for(var l=0;l<t.length;l++)if(!t[l].isSelected(s))return!1}return!0})})}function ZO(n){var t={};n.eachSeriesByType("graph",function(e){var i=e.getCategoriesData(),r=e.getData(),o={};i.each(function(a){var s=i.getName(a);o["ec-"+s]=a;var l=i.getItemModel(a),u=l.getModel("itemStyle").getItemStyle();u.fill||(u.fill=e.getColorFromPalette(s,t)),i.setItemVisual(a,"style",u);for(var h=["symbol","symbolSize","symbolKeepAspect"],f=0;f<h.length;f++){var p=l.getShallow(h[f],!0);null!=p&&i.setItemVisual(a,h[f],p)}}),i.count()&&r.each(function(a){var s=r.getItemModel(a).getShallow("category");if(null!=s){"string"==typeof s&&(s=o["ec-"+s]);var l=i.getItemVisual(s,"style");se(r.ensureUniqueItemVisual(a,"style"),l);for(var u=["symbol","symbolSize","symbolKeepAspect"],h=0;h<u.length;h++)r.setItemVisual(a,u[h],i.getItemVisual(s,u[h]))}})})}function _v(n){return n instanceof Array||(n=[n,n]),n}function JO(n){n.eachSeriesByType("graph",function(t){var e=t.getGraph(),i=t.getEdgeData(),r=_v(t.get("edgeSymbol")),o=_v(t.get("edgeSymbolSize"));i.setVisual("fromSymbol",r&&r[0]),i.setVisual("toSymbol",r&&r[1]),i.setVisual("fromSymbolSize",o&&o[0]),i.setVisual("toSymbolSize",o&&o[1]),i.setVisual("style",t.getModel("lineStyle").getLineStyle()),i.each(function(a){var s=i.getItemModel(a),l=e.getEdgeByIndex(a),u=_v(s.getShallow("symbol",!0)),h=_v(s.getShallow("symbolSize",!0)),f=s.getModel("lineStyle").getLineStyle(),p=i.ensureUniqueItemVisual(a,"style");switch(se(p,f),p.stroke){case"source":var g=l.node1.getVisual("style");p.stroke=g&&g.fill;break;case"target":g=l.node2.getVisual("style"),p.stroke=g&&g.fill}u[0]&&l.setVisual("fromSymbol",u[0]),u[1]&&l.setVisual("toSymbol",u[1]),h[0]&&l.setVisual("fromSymbolSize",h[0]),h[1]&&l.setVisual("toSymbolSize",h[1])})})}var xv=function(n){return n.get("autoCurveness")||null},BE=function(n,t){var e=xv(n),i=20,r=[];if("number"==typeof e)i=e;else if(rt(e))return void(n.__curvenessList=e);t>i&&(i=t);var o=i%2?i+2:i+3;r=[];for(var a=0;a<o;a++)r.push((a%2?a+1:a)/10*(a%2?-1:1));n.__curvenessList=r},Gd=function(n,t,e){var i=[n.id,n.dataIndex].join("."),r=[t.id,t.dataIndex].join(".");return[e.uid,i,r].join("--\x3e")},FE=function(n){var t=n.split("--\x3e");return[t[0],t[2],t[1]].join("--\x3e")},R0=function(n,t){var e=t.__edgeMap;return e[n]?e[n].length:0};function O0(n,t,e,i){var r=xv(t),o=rt(r);if(!r)return null;var y,b,S,a=(S=Gd((y=n).node1,y.node2,b=t),b.__edgeMap[S]);if(!a)return null;for(var s=-1,l=0;l<a.length;l++)if(a[l]===e){s=l;break}var u=function(y,b){return R0(Gd(y.node1,y.node2,b),b)+R0(Gd(y.node2,y.node1,b),b)}(n,t);BE(t,u),n.lineStyle=n.lineStyle||{};var h=Gd(n.node1,n.node2,t),f=t.__curvenessList,p=o||u%2?0:1;if(a.isForward)return f[p+s];var g=FE(h),v=R0(g,t),m=f[s+v+p];return i?o?r&&0===r[0]?(v+p)%2?m:-m:((v%2?0:1)+p)%2?m:-m:(v+p)%2?m:-m:f[s+v+p]}function HE(n){var t=n.coordinateSystem;if(!t||"view"===t.type){var e=n.getGraph();e.eachNode(function(i){var r=i.getModel();i.setLayout([+r.get("x"),+r.get("y")])}),UE(e,n)}}function UE(n,t){n.eachEdge(function(e,i){var r=ui(e.getModel().get(["lineStyle","curveness"]),-O0(e,t,i,!0),0),o=ae(e.node1.getLayout()),a=ae(e.node2.getLayout()),s=[o,a];+r&&s.push([(o[0]+a[0])/2-(o[1]-a[1])*r,(o[1]+a[1])/2-(a[0]-o[0])*r]),e.setLayout(s)})}function QO(n,t){n.eachSeriesByType("graph",function(e){var i=e.get("layout"),r=e.coordinateSystem;if(r&&"view"!==r.type){var o=e.getData(),a=[];Y(r.dimensions,function(p){a=a.concat(o.mapDimensionsAll(p))});for(var s=0;s<o.count();s++){for(var l=[],u=!1,h=0;h<a.length;h++){var f=o.get(a[h],s);isNaN(f)||(u=!0),l.push(f)}o.setItemLayout(s,u?r.dataToPoint(l):[NaN,NaN])}UE(o.graph,e)}else i&&"none"!==i||HE(e)})}function Wd(n){var t=n.coordinateSystem;if("view"!==t.type)return 1;var e=n.option.nodeScaleRatio,i=t.scaleX;return((t.getZoom()-1)*e+1)/i}function Yd(n){var t=n.getVisual("symbolSize");return t instanceof Array&&(t=(t[0]+t[1])/2),+t}var zE=Math.PI,k0=[];function VE(n,t){var e=n.coordinateSystem;if(!e||"view"===e.type){var i=e.getBoundingRect(),r=n.getData(),o=r.graph,a=i.width/2+i.x,s=i.height/2+i.y,l=Math.min(i.width,i.height)/2,u=r.count();r.setLayout({cx:a,cy:s}),u&&($O[t](n,o,r,l,a,s,u),o.eachEdge(function(h,f){var p,g=ui(h.getModel().get(["lineStyle","curveness"]),O0(h,n,f),0),v=ae(h.node1.getLayout()),m=ae(h.node2.getLayout());+g&&(p=[a*(g*=3)+(v[0]+m[0])/2*(1-g),s*g+(v[1]+m[1])/2*(1-g)]),h.setLayout([v,m,p])}))}}var $O={value:function(n,t,e,i,r,o,a){var s=0,l=e.getSum("value"),u=2*Math.PI/(l||a);t.eachNode(function(h){var f=h.getValue("value"),p=u*(l?f:1)/2;s+=p,h.setLayout([i*Math.cos(s)+r,i*Math.sin(s)+o]),s+=p})},symbolSize:function(n,t,e,i,r,o,a){var s=0;k0.length=a;var l=Wd(n);t.eachNode(function(f){var p=Yd(f);isNaN(p)&&(p=2),p<0&&(p=0),p*=l;var g=Math.asin(p/2/i);isNaN(g)&&(g=zE/2),k0[f.dataIndex]=g,s+=2*g});var u=(2*zE-s)/a/2,h=0;t.eachNode(function(f){var p=u+k0[f.dataIndex];h+=p,f.setLayout([i*Math.cos(h)+r,i*Math.sin(h)+o]),h+=p})}};function ek(n){n.eachSeriesByType("graph",function(t){"circular"===t.get("layout")&&VE(t,"symbolSize")})}var zh=Xe;function tk(n){n.eachSeriesByType("graph",function(t){var e=t.coordinateSystem;if(!e||"view"===e.type)if("force"===t.get("layout")){var i=t.preservedPoints||{},r=t.getGraph(),o=r.data,a=r.edgeData,s=t.getModel("force"),l=s.get("initLayout");t.preservedPoints?o.each(function(E){var I=o.getId(E);o.setItemLayout(E,i[I]||[NaN,NaN])}):l&&"none"!==l?"circular"===l&&VE(t,"value"):HE(t);var u=o.getDataExtent("value"),h=a.getDataExtent("value"),f=s.get("repulsion"),p=s.get("edgeLength"),g=rt(f)?f:[f,f],v=rt(p)?p:[p,p];v=[v[1],v[0]];var m=o.mapArray("value",function(E,I){var A=o.getItemLayout(I),L=Jn(E,u,g);return isNaN(L)&&(L=(g[0]+g[1])/2),{w:L,rep:L,fixed:o.getItemModel(I).get("fixed"),p:!A||isNaN(A[0])||isNaN(A[1])?null:A}}),y=a.mapArray("value",function(E,I){var A=r.getEdgeByIndex(I),L=Jn(E,h,v);isNaN(L)&&(L=(v[0]+v[1])/2);var R=A.getModel(),k=ui(A.getModel().get(["lineStyle","curveness"]),-O0(A,t,I,!0),0);return{n1:m[A.node1.dataIndex],n2:m[A.node2.dataIndex],d:L,curveness:k,ignoreForceLayout:R.get("ignoreForceLayout")}}),b=e.getBoundingRect(),S=function(E,I,A){for(var L=E,R=I,k=A.rect,H=k.width,U=k.height,G=[k.x+H/2,k.y+U/2],K=null==A.gravity?.1:A.gravity,$=0;$<L.length;$++){var ee=L[$];ee.p||(ee.p=Ae(H*(Math.random()-.5)+G[0],U*(Math.random()-.5)+G[1])),ee.pp=ae(ee.p),ee.edges=null}var le,he,ge=null==A.friction?.6:A.friction,me=ge;return{warmUp:function(){me=.8*ge},setFixed:function(be){L[be].fixed=!0},setUnfixed:function(be){L[be].fixed=!1},beforeStep:function(be){le=be},afterStep:function(be){he=be},step:function(be){le&&le(L,R);for(var Le=[],Ge=L.length,nt=0;nt<R.length;nt++){var xt=R[nt];if(!xt.ignoreForceLayout){var Je=xt.n1;Vt(Le,(It=xt.n2).p,Je.p);var dt=tn(Le)-xt.d,Dt=It.w/(Je.w+It.w);isNaN(Dt)&&(Dt=0),ce(Le,Le),!Je.fixed&&zh(Je.p,Je.p,Le,Dt*dt*me),!It.fixed&&zh(It.p,It.p,Le,-(1-Dt)*dt*me)}}for(nt=0;nt<Ge;nt++)(un=L[nt]).fixed||(Vt(Le,G,un.p),zh(un.p,un.p,Le,K*me));for(nt=0;nt<Ge;nt++){Je=L[nt];for(var Tt=nt+1;Tt<Ge;Tt++){var It;Vt(Le,(It=L[Tt]).p,Je.p),0===(dt=tn(Le))&&(ye(Le,Math.random()-.5,Math.random()-.5),dt=1);var Yt=(Je.rep+It.rep)/dt/dt;!Je.fixed&&zh(Je.pp,Je.pp,Le,Yt),!It.fixed&&zh(It.pp,It.pp,Le,-Yt)}}var Xt=[];for(nt=0;nt<Ge;nt++){var un;(un=L[nt]).fixed||(Vt(Xt,un.p,un.pp),zh(un.p,un.p,Xt,me),z(un.pp,un.p))}var dn=(me*=.992)<.01;he&&he(L,R,dn),be&&be(dn)}}}(m,y,{rect:b,gravity:s.get("gravity"),friction:s.get("friction")});S.beforeStep(function(E,I){for(var A=0,L=E.length;A<L;A++)E[A].fixed&&z(E[A].p,r.getNodeByIndex(A).getLayout())}),S.afterStep(function(E,I,A){for(var L=0,R=E.length;L<R;L++)E[L].fixed||r.getNodeByIndex(L).setLayout(E[L].p),i[o.getId(L)]=E[L].p;for(L=0,R=I.length;L<R;L++){var k=I[L],H=r.getEdgeByIndex(L),U=k.n1.p,G=k.n2.p,K=H.getLayout();(K=K?K.slice():[])[0]=K[0]||[],K[1]=K[1]||[],z(K[0],U),z(K[1],G),+k.curveness&&(K[2]=[(U[0]+G[0])/2-(U[1]-G[1])*k.curveness,(U[1]+G[1])/2-(G[0]-U[0])*k.curveness]),H.setLayout(K)}}),t.forceLayout=S,t.preservedPoints=i,S.step()}else t.forceLayout=null})}function nk(n,t){var e=[];return n.eachSeriesByType("graph",function(i){var y,b,r=i.get("coordinateSystem");if(!r||"view"===r){var o=i.getData(),a=[],s=[];Ms(o.mapArray(function(m){var y=o.getItemModel(m);return[+y.get("x"),+y.get("y")]}),a,s),s[0]-a[0]==0&&(s[0]+=1,a[0]-=1),s[1]-a[1]==0&&(s[1]+=1,a[1]-=1);var l=(s[0]-a[0])/(s[1]-a[1]),u=(y=t,b=l,Br(se(i.getBoxLayoutParams(),{aspect:b}),{width:y.getWidth(),height:y.getHeight()}));isNaN(l)&&(a=[u.x,u.y],s=[u.x+u.width,u.y+u.height]);var h=s[0]-a[0],f=s[1]-a[1],p=u.width,g=u.height,v=i.coordinateSystem=new Uh;v.zoomLimit=i.get("scaleLimit"),v.setBoundingRect(a[0],a[1],h,f),v.setViewRect(u.x,u.y,p,g),v.setCenter(i.get("center")),v.setZoom(i.get("zoom")),e.push(v)}}),e}var GE=$r.prototype,P0=uh.prototype,WE=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1};function B0(n){return isNaN(+n.cpx1)||isNaN(+n.cpy1)}!function(n){ue(function t(){return null!==n&&n.apply(this,arguments)||this},n)}(WE);var ik=function(n){function t(e){var i=n.call(this,e)||this;return i.type="ec-line",i}return ue(t,n),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new WE},t.prototype.buildPath=function(e,i){B0(i)?GE.buildPath.call(this,e,i):P0.buildPath.call(this,e,i)},t.prototype.pointAt=function(e){return B0(this.shape)?GE.pointAt.call(this,e):P0.pointAt.call(this,e)},t.prototype.tangentAt=function(e){var i=this.shape,r=B0(i)?[i.x2-i.x1,i.y2-i.y1]:P0.tangentAt.call(this,e);return ce(r,r)},t}(Mn),F0=["fromSymbol","toSymbol"];function YE(n){return"_"+n+"Type"}function XE(n,t,e){var i=t.getItemVisual(e,n);if(i&&"none"!==i){var r=t.getItemVisual(e,n+"Size"),o=t.getItemVisual(e,n+"Rotate"),a=t.getItemVisual(e,n+"Offset"),s=t.getItemVisual(e,n+"KeepAspect"),l=od(r),u=Ah(a||0,l),h=Er(i,-l[0]/2+u[0],-l[1]/2+u[1],l[0],l[1],null,s);return h.__specifiedRotation=null==o||isNaN(o)?void 0:+o*Math.PI/180||0,h.name=n,h}}function H0(n,t){n.x1=t[0][0],n.y1=t[0][1],n.x2=t[1][0],n.y2=t[1][1],n.percent=1;var e=t[2];e?(n.cpx1=e[0],n.cpy1=e[1]):(n.cpx1=NaN,n.cpy1=NaN)}var U0=function(n){function t(e,i,r){var o=n.call(this)||this;return o._createLine(e,i,r),o}return ue(t,n),t.prototype._createLine=function(e,i,r){var s,l,o=e.hostModel,a=(s=e.getItemLayout(i),H0((l=new ik({name:"line",subPixelOptimize:!0})).shape,s),l);a.shape.percent=0,Vi(a,{shape:{percent:1}},o,i),this.add(a),Y(F0,function(s){var l=XE(s,e,i);this.add(l),this[YE(s)]=e.getItemVisual(i,s)},this),this._updateCommonStl(e,i,r)},t.prototype.updateData=function(e,i,r){var o=e.hostModel,a=this.childOfName("line"),s=e.getItemLayout(i),l={shape:{}};H0(l.shape,s),Un(a,l,o,i),Y(F0,function(u){var h=e.getItemVisual(i,u),f=YE(u);if(this[f]!==h){this.remove(this.childOfName(u));var p=XE(u,e,i);this.add(p)}this[f]=h},this),this._updateCommonStl(e,i,r)},t.prototype.getLinePath=function(){return this.childAt(0)},t.prototype._updateCommonStl=function(e,i,r){var o=e.hostModel,a=this.childOfName("line"),s=r&&r.emphasisLineStyle,l=r&&r.blurLineStyle,u=r&&r.selectLineStyle,h=r&&r.labelStatesModels;if(!r||e.hasItemOption){var f=e.getItemModel(i);s=f.getModel(["emphasis","lineStyle"]).getLineStyle(),l=f.getModel(["blur","lineStyle"]).getLineStyle(),u=f.getModel(["select","lineStyle"]).getLineStyle(),h=xo(f)}var p=e.getItemVisual(i,"style"),g=p.stroke;a.useStyle(p),a.style.fill=null,a.style.strokeNoScale=!0,a.ensureState("emphasis").style=s,a.ensureState("blur").style=l,a.ensureState("select").style=u,Y(F0,function(S){var E=this.childOfName(S);if(E){E.setColor(g),E.style.opacity=p.opacity;for(var I=0;I<Co.length;I++){var A=Co[I],L=a.getState(A);if(L){var R=L.style||{},k=E.ensureState(A),H=k.style||(k.style={});null!=R.stroke&&(H[E.__isEmptyBrush?"stroke":"fill"]=R.stroke),null!=R.opacity&&(H.opacity=R.opacity)}}E.markRedraw()}},this);var v=o.getRawValue(i);Fo(this,h,{labelDataIndex:i,labelFetcher:{getFormattedLabel:function(S,E){return o.getFormattedLabel(S,E,e.dataType)}},inheritColor:g||"#000",defaultOpacity:p.opacity,defaultText:(null==v?e.getName(i):isFinite(v)?hr(v):v)+""});var m=this.getTextContent();if(m){var y=h.normal;m.__align=m.style.align,m.__verticalAlign=m.style.verticalAlign,m.__position=y.get("position")||"middle";var b=y.get("distance");rt(b)||(b=[b,b]),m.__labelDistance=b}this.setTextConfig({position:null,local:!0,inside:!1}),_(this)},t.prototype.highlight=function(){$a(this)},t.prototype.downplay=function(){Io(this)},t.prototype.updateLayout=function(e,i){this.setLinePoints(e.getItemLayout(i))},t.prototype.setLinePoints=function(e){var i=this.childOfName("line");H0(i.shape,e),i.dirty()},t.prototype.beforeUpdate=function(){var e=this,i=e.childOfName("fromSymbol"),r=e.childOfName("toSymbol"),o=e.getTextContent();if(i||r||o&&!o.ignore){for(var a=1,s=this.parent;s;)s.scaleX&&(a/=s.scaleX),s=s.parent;var l=e.childOfName("line");if(this.__dirty||l.__dirty){var u=l.shape.percent,h=l.pointAt(0),f=l.pointAt(u),p=Vt([],f,h);if(ce(p,p),i&&(i.setPosition(h),H(i,0),i.scaleX=i.scaleY=a*u,i.markRedraw()),r&&(r.setPosition(f),H(r,1),r.scaleX=r.scaleY=a*u,r.markRedraw()),o&&!o.ignore){o.x=o.y=0,o.originX=o.originY=0;var g=void 0,v=void 0,m=o.__labelDistance,y=m[0]*a,b=m[1]*a,S=u/2,E=l.tangentAt(S),I=[E[1],-E[0]],A=l.pointAt(S);I[1]>0&&(I[0]=-I[0],I[1]=-I[1]);var L=E[0]<0?-1:1;if("start"!==o.__position&&"end"!==o.__position){var R=-Math.atan2(E[1],E[0]);f[0]<h[0]&&(R=Math.PI+R),o.rotation=R}var k=void 0;switch(o.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":k=-b,v="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":k=b,v="top";break;default:k=0,v="middle"}switch(o.__position){case"end":o.x=p[0]*y+f[0],o.y=p[1]*b+f[1],g=p[0]>.8?"left":p[0]<-.8?"right":"center",v=p[1]>.8?"top":p[1]<-.8?"bottom":"middle";break;case"start":o.x=-p[0]*y+h[0],o.y=-p[1]*b+h[1],g=p[0]>.8?"right":p[0]<-.8?"left":"center",v=p[1]>.8?"bottom":p[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":o.x=y*L+h[0],o.y=h[1]+k,g=E[0]<0?"right":"left",o.originX=-y*L,o.originY=-k;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":o.x=A[0],o.y=A[1]+k,g="center",o.originY=-k;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":o.x=-y*L+f[0],o.y=f[1]+k,g=E[0]>=0?"right":"left",o.originX=y*L,o.originY=-k}o.scaleX=o.scaleY=a,o.setStyle({verticalAlign:o.__verticalAlign||v,align:o.__align||g})}}}function H(U,G){var K=U.__specifiedRotation;if(null==K){var $=l.tangentAt(G);U.attr("rotation",(1===G?-1:1)*Math.PI/2-Math.atan2($[1],$[0]))}else U.attr("rotation",K)}},t}(Ft),z0=function(){function n(t){this.group=new Ft,this._LineCtor=t||U0}return n.prototype.isPersistent=function(){return!0},n.prototype.updateData=function(t){var e=this,i=this,r=i.group,o=i._lineData;i._lineData=t,o||r.removeAll();var a=jE(t);t.diff(o).add(function(s){e._doAdd(t,s,a)}).update(function(s,l){e._doUpdate(o,t,l,s,a)}).remove(function(s){r.remove(o.getItemGraphicEl(s))}).execute()},n.prototype.updateLayout=function(){var t=this._lineData;t&&t.eachItemGraphicEl(function(e,i){e.updateLayout(t,i)},this)},n.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=jE(t),this._lineData=null,this.group.removeAll()},n.prototype.incrementalUpdate=function(t,e){function i(a){var s;a.isGroup||(s=a).animators&&s.animators.length>0||(a.incremental=!0,a.ensureState("emphasis").hoverLayer=!0)}for(var r=t.start;r<t.end;r++)if(V0(e.getItemLayout(r))){var o=new this._LineCtor(e,r,this._seriesScope);o.traverse(i),this.group.add(o),e.setItemGraphicEl(r,o)}},n.prototype.remove=function(){this.group.removeAll()},n.prototype._doAdd=function(t,e,i){if(V0(t.getItemLayout(e))){var r=new this._LineCtor(t,e,i);t.setItemGraphicEl(e,r),this.group.add(r)}},n.prototype._doUpdate=function(t,e,i,r,o){var a=t.getItemGraphicEl(i);V0(e.getItemLayout(r))?(a?a.updateData(e,r,o):a=new this._LineCtor(e,r,o),e.setItemGraphicEl(r,a),this.group.add(a)):this.group.remove(a)},n}();function jE(n){var t=n.hostModel;return{lineStyle:t.getModel("lineStyle").getLineStyle(),emphasisLineStyle:t.getModel(["emphasis","lineStyle"]).getLineStyle(),blurLineStyle:t.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:t.getModel(["select","lineStyle"]).getLineStyle(),labelStatesModels:xo(t)}}function qE(n){return isNaN(n[0])||isNaN(n[1])}function V0(n){return!qE(n[0])&&!qE(n[1])}var G0=[],W0=[],Y0=[],Vh=yr,X0=ot,KE=Math.abs;function ZE(n,t,e){for(var i,r=n[0],o=n[1],a=n[2],s=1/0,l=e*e,u=.1,h=.1;h<=.9;h+=.1)G0[0]=Vh(r[0],o[0],a[0],h),G0[1]=Vh(r[1],o[1],a[1],h),(g=KE(X0(G0,t)-l))<s&&(s=g,i=h);for(var f=0;f<32;f++){var p=i+u;W0[0]=Vh(r[0],o[0],a[0],i),W0[1]=Vh(r[1],o[1],a[1],i),Y0[0]=Vh(r[0],o[0],a[0],p),Y0[1]=Vh(r[1],o[1],a[1],p);var g=X0(W0,t)-l;if(KE(g)<.01)break;var v=X0(Y0,t)-l;u/=2,g<0?v>=0?i+=u:i-=u:v>=0?i-=u:i+=u}return i}function j0(n,t){var e=[],i=cu,r=[[],[],[]],o=[[],[]],a=[];t/=2,n.eachEdge(function(s,l){var u=s.getLayout(),h=s.getVisual("fromSymbol"),f=s.getVisual("toSymbol");u.__original||(u.__original=[ae(u[0]),ae(u[1])],u[2]&&u.__original.push(ae(u[2])));var p=u.__original;if(null!=u[2]){if(z(r[0],p[0]),z(r[1],p[2]),z(r[2],p[1]),h&&"none"!==h){var g=Yd(s.node1),v=ZE(r,p[0],g*t);i(r[0][0],r[1][0],r[2][0],v,e),r[0][0]=e[3],r[1][0]=e[4],i(r[0][1],r[1][1],r[2][1],v,e),r[0][1]=e[3],r[1][1]=e[4]}f&&"none"!==f&&(g=Yd(s.node2),v=ZE(r,p[1],g*t),i(r[0][0],r[1][0],r[2][0],v,e),r[1][0]=e[1],r[2][0]=e[2],i(r[0][1],r[1][1],r[2][1],v,e),r[1][1]=e[1],r[2][1]=e[2]),z(u[0],r[0]),z(u[1],r[2]),z(u[2],r[1])}else z(o[0],p[0]),z(o[1],p[1]),Vt(a,o[1],o[0]),ce(a,a),h&&"none"!==h&&(g=Yd(s.node1),Xe(o[0],o[0],a,g*t)),f&&"none"!==f&&(g=Yd(s.node2),Xe(o[1],o[1],a,-g*t)),z(u[0],o[0]),z(u[1],o[1])})}function JE(n){return"view"===n.type}var rk=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return ue(t,n),t.prototype.init=function(e,i){var r=new Ad,o=new z0,a=this.group;this._controller=new kd(i.getZr()),this._controllerHost={target:a},a.add(r.group),a.add(o.group),this._symbolDraw=r,this._lineDraw=o,this._firstRender=!0},t.prototype.render=function(e,i,r){var o=this,a=e.coordinateSystem;this._model=e;var s=this._symbolDraw,l=this._lineDraw,u=this.group;if(JE(a)){var h={x:a.x,y:a.y,scaleX:a.scaleX,scaleY:a.scaleY};this._firstRender?u.attr(h):Un(u,h,e)}j0(e.getGraph(),Wd(e));var f=e.getData();s.updateData(f);var p=e.getEdgeData();l.updateData(p),this._updateNodeAndLinkScale(),this._updateController(e,i,r),clearTimeout(this._layoutTimeout);var g=e.forceLayout,v=e.get(["force","layoutAnimation"]);g&&this._startForceLayoutIteration(g,v),f.graph.eachNode(function(S){var E=S.dataIndex,I=S.getGraphicEl(),A=S.getModel();I.off("drag").off("dragend");var L=A.get("draggable");L&&I.on("drag",function(){g&&(g.warmUp(),!o._layouting&&o._startForceLayoutIteration(g,v),g.setFixed(E),f.setItemLayout(E,[I.x,I.y]))}).on("dragend",function(){g&&g.setUnfixed(E)}),I.setDraggable(L&&!!g),"adjacency"===A.get(["emphasis","focus"])&&(pn(I).focus=S.getAdjacentDataIndices())}),f.graph.eachEdge(function(S){var E=S.getGraphicEl();"adjacency"===S.getModel().get(["emphasis","focus"])&&(pn(E).focus={edge:[S.dataIndex],node:[S.node1.dataIndex,S.node2.dataIndex]})});var m="circular"===e.get("layout")&&e.get(["circular","rotateLabel"]),y=f.getLayout("cx"),b=f.getLayout("cy");f.eachItemGraphicEl(function(S,E){var I=f.getItemModel(E).get(["label","rotate"])||0,A=S.getSymbolPath();if(m){var L=f.getItemLayout(E),R=Math.atan2(L[1]-b,L[0]-y);R<0&&(R=2*Math.PI+R);var k=L[0]<y;k&&(R-=Math.PI);var H=k?"left":"right";A.setTextConfig({rotation:-R,position:H,origin:"center"});var U=A.ensureState("emphasis");se(U.textConfig||(U.textConfig={}),{position:H})}else A.setTextConfig({rotation:I*=Math.PI/180})}),this._firstRender=!1},t.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype._startForceLayoutIteration=function(e,i){var r=this;!function o(){e.step(function(a){r.updateLayout(r._model),(r._layouting=!a)&&(i?r._layoutTimeout=setTimeout(o,16):o())})}()},t.prototype._updateController=function(e,i,r){var o=this,a=this._controller,s=this._controllerHost,l=this.group;a.setPointerChecker(function(u,h,f){var p=l.getBoundingRect();return p.applyTransform(l.transform),p.contain(h,f)&&!fv(u,r,e)}),JE(e.coordinateSystem)?(a.enable(e.get("roam")),s.zoomLimit=e.get("scaleLimit"),s.zoom=e.coordinateSystem.getZoom(),a.off("pan").off("zoom").on("pan",function(u){d0(s,u.dx,u.dy),r.dispatchAction({seriesId:e.id,type:"graphRoam",dx:u.dx,dy:u.dy})}).on("zoom",function(u){p0(s,u.scale,u.originX,u.originY),r.dispatchAction({seriesId:e.id,type:"graphRoam",zoom:u.scale,originX:u.originX,originY:u.originY}),o._updateNodeAndLinkScale(),j0(e.getGraph(),Wd(e)),o._lineDraw.updateLayout(),r.updateLabelLayout()})):a.disable()},t.prototype._updateNodeAndLinkScale=function(){var e=this._model,i=e.getData(),r=Wd(e);i.eachItemGraphicEl(function(o,a){o.setSymbolScale(r)})},t.prototype.updateLayout=function(e){j0(e.getGraph(),Wd(e)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},t.prototype.remove=function(e,i){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},t.type="graph",t}(vi);function Gh(n){return"_EC_"+n}var ok=function(){function n(t){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=t||!1}return n.prototype.isDirected=function(){return this._directed},n.prototype.addNode=function(t,e){var i=this._nodesMap;if(!i[Gh(t=null==t?""+e:""+t)]){var r=new Oc(t,e);return r.hostGraph=this,this.nodes.push(r),i[Gh(t)]=r,r}},n.prototype.getNodeByIndex=function(t){var e=this.data.getRawIndex(t);return this.nodes[e]},n.prototype.getNodeById=function(t){return this._nodesMap[Gh(t)]},n.prototype.addEdge=function(t,e,i){var r=this._nodesMap,o=this._edgesMap;if("number"==typeof t&&(t=this.nodes[t]),"number"==typeof e&&(e=this.nodes[e]),t instanceof Oc||(t=r[Gh(t)]),e instanceof Oc||(e=r[Gh(e)]),t&&e){var a=t.id+"-"+e.id,s=new QE(t,e,i);return s.hostGraph=this,this._directed&&(t.outEdges.push(s),e.inEdges.push(s)),t.edges.push(s),t!==e&&e.edges.push(s),this.edges.push(s),o[a]=s,s}},n.prototype.getEdgeByIndex=function(t){var e=this.edgeData.getRawIndex(t);return this.edges[e]},n.prototype.getEdge=function(t,e){t instanceof Oc&&(t=t.id),e instanceof Oc&&(e=e.id);var i=this._edgesMap;return this._directed?i[t+"-"+e]:i[t+"-"+e]||i[e+"-"+t]},n.prototype.eachNode=function(t,e){for(var i=this.nodes,r=i.length,o=0;o<r;o++)i[o].dataIndex>=0&&t.call(e,i[o],o)},n.prototype.eachEdge=function(t,e){for(var i=this.edges,r=i.length,o=0;o<r;o++)i[o].dataIndex>=0&&i[o].node1.dataIndex>=0&&i[o].node2.dataIndex>=0&&t.call(e,i[o],o)},n.prototype.breadthFirstTraverse=function(t,e,i,r){if(e instanceof Oc||(e=this._nodesMap[Gh(e)]),e){for(var o="out"===i?"outEdges":"in"===i?"inEdges":"edges",a=0;a<this.nodes.length;a++)this.nodes[a].__visited=!1;if(!t.call(r,e,null))for(var s=[e];s.length;){var l=s.shift(),u=l[o];for(a=0;a<u.length;a++){var h=u[a],f=h.node1===l?h.node2:h.node1;if(!f.__visited){if(t.call(r,f,l))return;s.push(f),f.__visited=!0}}}}},n.prototype.update=function(){for(var t=this.data,e=this.edgeData,i=this.nodes,r=this.edges,o=0,a=i.length;o<a;o++)i[o].dataIndex=-1;for(o=0,a=t.count();o<a;o++)i[t.getRawIndex(o)].dataIndex=o;for(e.filterSelf(function(s){var l=r[e.getRawIndex(s)];return l.node1.dataIndex>=0&&l.node2.dataIndex>=0}),o=0,a=r.length;o<a;o++)r[o].dataIndex=-1;for(o=0,a=e.count();o<a;o++)r[e.getRawIndex(o)].dataIndex=o},n.prototype.clone=function(){for(var t=new n(this._directed),e=this.nodes,i=this.edges,r=0;r<e.length;r++)t.addNode(e[r].id,e[r].dataIndex);for(r=0;r<i.length;r++){var o=i[r];t.addEdge(o.node1.id,o.node2.id,o.dataIndex)}return t},n}(),Oc=function(){function n(t,e){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=t??"",this.dataIndex=e??-1}return n.prototype.degree=function(){return this.edges.length},n.prototype.inDegree=function(){return this.inEdges.length},n.prototype.outDegree=function(){return this.outEdges.length},n.prototype.getModel=function(t){if(!(this.dataIndex<0))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(t)},n.prototype.getAdjacentDataIndices=function(){for(var t={edge:[],node:[]},e=0;e<this.edges.length;e++){var i=this.edges[e];i.dataIndex<0||(t.edge.push(i.dataIndex),t.node.push(i.node1.dataIndex,i.node2.dataIndex))}return t},n}(),QE=function(){function n(t,e,i){this.dataIndex=-1,this.node1=t,this.node2=e,this.dataIndex=i??-1}return n.prototype.getModel=function(t){if(!(this.dataIndex<0))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(t)},n.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},n}();function $E(n,t){return{getValue:function(e){var i=this[n][t];return i.getStore().get(i.getDimensionIndex(e||"value"),this.dataIndex)},setVisual:function(e,i){this.dataIndex>=0&&this[n][t].setItemVisual(this.dataIndex,e,i)},getVisual:function(e){return this[n][t].getItemVisual(this.dataIndex,e)},setLayout:function(e,i){this.dataIndex>=0&&this[n][t].setItemLayout(this.dataIndex,e,i)},getLayout:function(){return this[n][t].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[n][t].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[n][t].getRawIndex(this.dataIndex)}}}function eC(n,t,e,i,r){for(var o=new ok(i),a=0;a<n.length;a++)o.addNode(zn(n[a].id,n[a].name,a),a);var s=[],l=[],u=0;for(a=0;a<t.length;a++){var h=t[a],f=h.source,p=h.target;o.addEdge(f,p,u)&&(l.push(h),s.push(zn(ci(h.id,null),f+" > "+p)),u++)}var g,v=e.get("coordinateSystem");if("cartesian2d"===v||"polar"===v)g=gl(n,e);else{var m=bh.get(v),y=m&&m.dimensions||[];pe(y,"value")<0&&y.concat(["value"]);var b=Dh(n,{coordDimensions:y,encodeDefine:e.getEncode()}).dimensions;(g=new Uo(b,e)).initData(n)}var S=new Uo(["value"],e);return S.initData(l,s),r&&r(g,S),vE({mainData:g,struct:o,structAttr:"graph",datas:{node:g,edge:S},datasAttr:{node:"data",edge:"edgeData"}}),o.update(),o}lt(Oc,$E("hostGraph","data")),lt(QE,$E("hostGraph","edgeData"));var ak=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return ue(t,n),t.prototype.init=function(e){n.prototype.init.apply(this,arguments);var i=this;function r(){return i._categoriesData}this.legendVisualProvider=new Nd(r,r),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},t.prototype.mergeOption=function(e){n.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},t.prototype.mergeDefaultAndTheme=function(e){n.prototype.mergeDefaultAndTheme.apply(this,arguments),Qo(e,"edgeLabel",["show"])},t.prototype.getInitialData=function(e,i){var r,o=e.edges||e.links||[],a=e.data||e.nodes||[],s=this;if(a&&o){xv(r=this)&&(r.__curvenessList=[],r.__edgeMap={},BE(r));var l=eC(a,o,this,!0,function(u,h){u.wrapMethod("getItemModel",function(v){var m=s._categoriesModels[v.getShallow("category")];return m&&(m.parentModel=v.parentModel,v.parentModel=m),v});var f=Qn.prototype.getModel;function p(v,m){var y=f.call(this,v,m);return y.resolveParentPath=g,y}function g(v){if(v&&("label"===v[0]||"label"===v[1])){var m=v.slice();return"label"===v[0]?m[0]="edgeLabel":"label"===v[1]&&(m[1]="edgeLabel"),m}return v}h.wrapMethod("getItemModel",function(v){return v.resolveParentPath=g,v.getModel=p,v})});return Y(l.edges,function(u){!function(h,f,p,g){if(xv(p)){var v=Gd(h,f,p),m=p.__edgeMap,y=m[FE(v)];m[v]&&!y?m[v].isForward=!0:y&&m[v]&&(y.isForward=!0,m[v].isForward=!1),m[v]=m[v]||[],m[v].push(g)}}(u.node1,u.node2,this,u.dataIndex)},this),l.data}},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.getCategoriesData=function(){return this._categoriesData},t.prototype.formatTooltip=function(e,i,r){if("edge"===r){var o=this.getData(),a=this.getDataParams(e,r),s=o.graph.getEdgeByIndex(e),l=o.getName(s.node1.dataIndex),u=o.getName(s.node2.dataIndex),h=[];return null!=l&&h.push(l),null!=u&&h.push(u),ao("nameValue",{name:h.join(" > "),value:a.value,noValue:null==a.value})}return _b({series:this,dataIndex:e,multipleSeries:i})},t.prototype._updateCategoriesData=function(){var e=Ve(this.option.categories||[],function(r){return null!=r.value?r:se({value:0},r)}),i=new Uo(["value"],this);i.initData(e),this._categoriesData=i,this._categoriesModels=i.mapArray(function(r){return i.getItemModel(r)})},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.isAnimationEnabled=function(){return n.prototype.isAnimationEnabled.call(this)&&!("force"===this.get("layout")&&this.get(["force","layoutAnimation"]))},t.type="series.graph",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={zlevel:0,z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},t}(Ei),sk={type:"graphRoam",event:"graphRoam",update:"none"},lk=function(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0},uk=function(n){function t(e){var i=n.call(this,e)||this;return i.type="pointer",i}return ue(t,n),t.prototype.getDefaultShape=function(){return new lk},t.prototype.buildPath=function(e,i){var r=Math.cos,o=Math.sin,a=i.r,s=i.width,l=i.angle,u=i.x-r(l)*s*(s>=a/3?1:2),h=i.y-o(l)*s*(s>=a/3?1:2);l=i.angle-Math.PI/2,e.moveTo(u,h),e.lineTo(i.x+r(l)*s,i.y+o(l)*s),e.lineTo(i.x+r(i.angle)*a,i.y+o(i.angle)*a),e.lineTo(i.x-r(l)*s,i.y-o(l)*s),e.lineTo(u,h)},t}(Mn);function bv(n,t){var e=null==n?"":n+"";return t&&("string"==typeof t?e=t.replace("{value}",e):"function"==typeof t&&(e=t(n))),e}var q0=2*Math.PI,ck=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return ue(t,n),t.prototype.render=function(e,i,r){this.group.removeAll();var s,l,u,h,f,p,o=e.get(["axisLine","lineStyle","color"]),a=(l=r,u=(s=e).get("center"),h=l.getWidth(),f=l.getHeight(),p=Math.min(h,f),{cx:kt(u[0],l.getWidth()),cy:kt(u[1],l.getHeight()),r:kt(s.get("radius"),p/2)});this._renderMain(e,i,r,o,a),this._data=e.getData()},t.prototype.dispose=function(){},t.prototype._renderMain=function(e,i,r,o,a){for(var s=this.group,l=e.get("clockwise"),u=-e.get("startAngle")/180*Math.PI,h=-e.get("endAngle")/180*Math.PI,f=e.getModel("axisLine"),p=f.get("roundCap")?rv:Bo,g=f.get("show"),v=f.getModel("lineStyle"),m=v.get("width"),y=(h-u)%q0||h===u?(h-u)%q0:q0,b=u,S=0;g&&S<o.length;S++){var E=new p({shape:{startAngle:b,endAngle:h=u+y*Math.min(Math.max(o[S][0],0),1),cx:a.cx,cy:a.cy,clockwise:l,r0:a.r-m,r:a.r},silent:!0});E.setStyle({fill:o[S][1]}),E.setStyle(v.getLineStyle(["color","width"])),s.add(E),b=h}var I=function(L){if(L<=0)return o[0][1];var R;for(R=0;R<o.length;R++)if(o[R][0]>=L&&(0===R?0:o[R-1][0])<L)return o[R][1];return o[R-1][1]};if(!l){var A=u;u=h,h=A}this._renderTicks(e,i,r,I,a,u,h,l,m),this._renderTitleAndDetail(e,i,r,I,a),this._renderAnchor(e,a),this._renderPointer(e,i,r,I,a,u,h,l,m)},t.prototype._renderTicks=function(e,i,r,o,a,s,l,u,h){for(var f,p,g=this.group,v=a.cx,m=a.cy,y=a.r,b=+e.get("min"),S=+e.get("max"),E=e.getModel("splitLine"),I=e.getModel("axisTick"),A=e.getModel("axisLabel"),L=e.get("splitNumber"),R=I.get("splitNumber"),k=kt(E.get("length"),y),H=kt(I.get("length"),y),U=s,G=(l-s)/L,K=G/R,$=E.getModel("lineStyle").getLineStyle(),ee=I.getModel("lineStyle").getLineStyle(),le=E.get("distance"),he=0;he<=L;he++){if(f=Math.cos(U),p=Math.sin(U),E.get("show")){var ge=new $r({shape:{x1:f*(y-(me=le?le+h:h))+v,y1:p*(y-me)+m,x2:f*(y-k-me)+v,y2:p*(y-k-me)+m},style:$,silent:!0});"auto"===$.stroke&&ge.setStyle({stroke:o(he/L)}),g.add(ge)}if(A.get("show")){var me=A.get("distance")+le,be=bv(hr(he/L*(S-b)+b),A.get("formatter")),Le=o(he/L);g.add(new Nn({style:_r(A,{text:be,x:f*(y-k-me)+v,y:p*(y-k-me)+m,verticalAlign:p<-.8?"top":p>.8?"bottom":"middle",align:f<-.4?"left":f>.4?"right":"center"},{inheritColor:Le}),silent:!0}))}if(I.get("show")&&he!==L){me=(me=I.get("distance"))?me+h:h;for(var Ge=0;Ge<=R;Ge++){f=Math.cos(U),p=Math.sin(U);var nt=new $r({shape:{x1:f*(y-me)+v,y1:p*(y-me)+m,x2:f*(y-H-me)+v,y2:p*(y-H-me)+m},silent:!0,style:ee});"auto"===ee.stroke&&nt.setStyle({stroke:o((he+Ge/R)/L)}),g.add(nt),U+=K}U-=K}else U+=G}},t.prototype._renderPointer=function(e,i,r,o,a,s,l,u,h){var f=this.group,p=this._data,g=this._progressEls,v=[],m=e.get(["pointer","show"]),y=e.getModel("progress"),b=y.get("show"),S=e.getData(),E=S.mapDimension("value"),I=+e.get("min"),A=+e.get("max"),L=[I,A],R=[s,l];function k(U,G){var K,$=S.getItemModel(U).getModel("pointer"),ee=kt($.get("width"),a.r),le=kt($.get("length"),a.r),he=e.get(["pointer","icon"]),ge=$.get("offsetCenter"),me=kt(ge[0],a.r),be=kt(ge[1],a.r),Le=$.get("keepAspect");return(K=he?Er(he,me-ee/2,be-le,ee,le,null,Le):new uk({shape:{angle:-Math.PI/2,width:ee,r:le,x:me,y:be}})).rotation=-(G+Math.PI/2),K.x=a.cx,K.y=a.cy,K}function H(U,G){var K=y.get("roundCap")?rv:Bo,$=y.get("overlap"),ee=$?y.get("width"):h/S.count(),ge=new K({shape:{startAngle:s,endAngle:G,cx:a.cx,cy:a.cy,clockwise:u,r0:$?a.r-ee:a.r-(U+1)*ee,r:$?a.r:a.r-U*ee}});return $&&(ge.z2=A-S.get(E,U)%A),ge}(b||m)&&(S.diff(p).add(function(U){if(m){var G=k(U,s);Vi(G,{rotation:-(Jn(S.get(E,U),L,R,!0)+Math.PI/2)},e),f.add(G),S.setItemGraphicEl(U,G)}if(b){var K=H(U,s),$=y.get("clip");Vi(K,{shape:{endAngle:Jn(S.get(E,U),L,R,$)}},e),f.add(K),Af(e.seriesIndex,S.dataType,U,K),v[U]=K}}).update(function(U,G){if(m){var K=p.getItemGraphicEl(G),$=K?K.rotation:s,ee=k(U,$);ee.rotation=$,Un(ee,{rotation:-(Jn(S.get(E,U),L,R,!0)+Math.PI/2)},e),f.add(ee),S.setItemGraphicEl(U,ee)}if(b){var le=g[G],he=H(U,le?le.shape.endAngle:s),ge=y.get("clip");Un(he,{shape:{endAngle:Jn(S.get(E,U),L,R,ge)}},e),f.add(he),Af(e.seriesIndex,S.dataType,U,he),v[U]=he}}).execute(),S.each(function(U){var G=S.getItemModel(U),K=G.getModel("emphasis");if(m){var $=S.getItemGraphicEl(U),ee=S.getItemVisual(U,"style"),le=ee.fill;if($ instanceof fr){var he=$.style;$.useStyle(se({image:he.image,x:he.x,y:he.y,width:he.width,height:he.height},ee))}else $.useStyle(ee),"pointer"!==$.type&&$.setColor(le);$.setStyle(G.getModel(["pointer","itemStyle"]).getItemStyle()),"auto"===$.style.fill&&$.setStyle("fill",o(Jn(S.get(E,U),L,[0,1],!0))),$.z2EmphasisLift=0,W($,G),_($,K.get("focus"),K.get("blurScope"))}if(b){var ge=v[U];ge.useStyle(S.getItemVisual(U,"style")),ge.setStyle(G.getModel(["progress","itemStyle"]).getItemStyle()),ge.z2EmphasisLift=0,W(ge,G),_(ge,K.get("focus"),K.get("blurScope"))}}),this._progressEls=v)},t.prototype._renderAnchor=function(e,i){var r=e.getModel("anchor");if(r.get("show")){var o=r.get("size"),a=r.get("icon"),s=r.get("offsetCenter"),l=r.get("keepAspect"),u=Er(a,i.cx-o/2+kt(s[0],i.r),i.cy-o/2+kt(s[1],i.r),o,o,null,l);u.z2=r.get("showAbove")?1:0,u.setStyle(r.getModel("itemStyle").getItemStyle()),this.group.add(u)}},t.prototype._renderTitleAndDetail=function(e,i,r,o,a){var s=this,l=e.getData(),u=l.mapDimension("value"),h=+e.get("min"),f=+e.get("max"),p=new Ft,g=[],v=[],m=e.isAnimationEnabled(),y=e.get(["pointer","showAbove"]);l.diff(this._data).add(function(b){g[b]=new Nn({silent:!0}),v[b]=new Nn({silent:!0})}).update(function(b,S){g[b]=s._titleEls[S],v[b]=s._detailEls[S]}).execute(),l.each(function(b){var S=l.getItemModel(b),E=l.get(u,b),I=new Ft,A=o(Jn(E,[h,f],[0,1],!0)),L=S.getModel("title");if(L.get("show")){var R=L.get("offsetCenter"),k=a.cx+kt(R[0],a.r),H=a.cy+kt(R[1],a.r);(ge=g[b]).attr({z2:y?0:2,style:_r(L,{x:k,y:H,text:l.getName(b),align:"center",verticalAlign:"middle"},{inheritColor:A})}),I.add(ge)}var U=S.getModel("detail");if(U.get("show")){var G=U.get("offsetCenter"),K=a.cx+kt(G[0],a.r),$=a.cy+kt(G[1],a.r),ee=kt(U.get("width"),a.r),le=kt(U.get("height"),a.r),he=e.get(["progress","show"])?l.getItemVisual(b,"style").fill:A,ge=v[b],me=U.get("formatter");ge.attr({z2:y?0:2,style:_r(U,{x:K,y:$,text:bv(E,me),width:isNaN(ee)?null:ee,height:isNaN(le)?null:le,align:"center",verticalAlign:"middle"},{inheritColor:he})}),K1(ge,{normal:U},E,function(be){return bv(be,me)}),m&&Z1(ge,b,l,e,{getFormattedLabel:function(be,Le,Ge,nt,xt,Je){return bv(Je?Je.interpolatedValue:E,me)}}),I.add(ge)}p.add(I)}),this.group.add(p),this._titleEls=g,this._detailEls=v},t.type="gauge",t}(vi),hk=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.visualStyleAccessPath="itemStyle",e}return ue(t,n),t.prototype.getInitialData=function(e,i){return Fh(this,["value"])},t.type="series.gauge",t.defaultOption={zlevel:0,z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},t}(Ei),fk=["itemStyle","opacity"],dk=function(n){function t(e,i){var r=n.call(this)||this,o=r,a=new na,s=new Nn;return o.setTextContent(s),r.setTextGuideLine(a),r.updateData(e,i,!0),r}return ue(t,n),t.prototype.updateData=function(e,i,r){var o=this,a=e.hostModel,s=e.getItemModel(i),l=e.getItemLayout(i),u=s.getModel("emphasis"),h=s.get(fk);h=h??1,r||ks(o),o.useStyle(e.getItemVisual(i,"style")),o.style.lineJoin="round",r?(o.setShape({points:l.points}),o.style.opacity=0,Vi(o,{style:{opacity:h}},a,i)):Un(o,{style:{opacity:h},shape:{points:l.points}},a,i),W(o,s),this._updateLabel(e,i),_(this,u.get("focus"),u.get("blurScope"))},t.prototype._updateLabel=function(e,i){var r=this,o=this.getTextGuideLine(),a=r.getTextContent(),s=e.hostModel,l=e.getItemModel(i),u=e.getItemLayout(i).label,h=e.getItemVisual(i,"style"),f=h.fill;Fo(a,xo(l),{labelFetcher:e.hostModel,labelDataIndex:i,defaultOpacity:h.opacity,defaultText:e.getName(i)},{normal:{align:u.textAlign,verticalAlign:u.verticalAlign}}),r.setTextConfig({local:!0,inside:!!u.inside,insideStroke:f,outsideFill:f});var p=u.linePoints;o.setShape({points:p}),r.textGuideLineConfig={anchor:p?new gn(p[0][0],p[0][1]):null},Un(a,{style:{x:u.x,y:u.y}},s,i),a.attr({rotation:u.rotation,originX:u.x,originY:u.y,z2:10}),Vy(r,Gy(l),{stroke:f})},t}(Lo),pk=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.ignoreLabelLineUpdate=!0,e}return ue(t,n),t.prototype.render=function(e,i,r){var o=e.getData(),a=this._data,s=this.group;o.diff(a).add(function(l){var u=new dk(o,l);o.setItemGraphicEl(l,u),s.add(u)}).update(function(l,u){var h=a.getItemGraphicEl(u);h.updateData(o,l),s.add(h),o.setItemGraphicEl(l,h)}).remove(function(l){Bf(a.getItemGraphicEl(l),e,l)}).execute(),this._data=o},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.prototype.dispose=function(){},t.type="funnel",t}(vi),gk=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return ue(t,n),t.prototype.init=function(e){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new Nd(mt(this.getData,this),mt(this.getRawData,this)),this._defaultLabelLine(e)},t.prototype.getInitialData=function(e,i){return Fh(this,{coordDimensions:["value"],encodeDefaulter:Lt(Dm,this)})},t.prototype._defaultLabelLine=function(e){Qo(e,"labelLine",["show"]);var i=e.labelLine,r=e.emphasis.labelLine;i.show=i.show&&e.label.show,r.show=r.show&&e.emphasis.label.show},t.prototype.getDataParams=function(e){var i=this.getData(),r=n.prototype.getDataParams.call(this,e),o=i.mapDimension("value"),a=i.getSum(o);return r.percent=a?+(i.get(o,e)/a*100).toFixed(2):0,r.$vars.push("percent"),r},t.type="series.funnel",t.defaultOption={zlevel:0,z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},t}(Ei);function vk(n,t){n.eachSeriesByType("funnel",function(e){var ee,i=e.getData(),r=i.mapDimension("value"),o=e.get("sort"),a=(ee=t,Br(e.getBoxLayoutParams(),{width:ee.getWidth(),height:ee.getHeight()})),s=e.get("orient"),l=a.width,u=a.height,h=function($,ee){for(var le=$.mapDimension("value"),he=$.mapArray(le,function(Ge){return Ge}),ge=[],me="ascending"===ee,be=0,Le=$.count();be<Le;be++)ge[be]=be;return"function"==typeof ee?ge.sort(ee):"none"!==ee&&ge.sort(function(Ge,nt){return me?he[Ge]-he[nt]:he[nt]-he[Ge]}),ge}(i,o),f=a.x,p=a.y,g="horizontal"===s?[kt(e.get("minSize"),u),kt(e.get("maxSize"),u)]:[kt(e.get("minSize"),l),kt(e.get("maxSize"),l)],v=i.getDataExtent(r),m=e.get("min"),y=e.get("max");null==m&&(m=Math.min(v[0],0)),null==y&&(y=v[1]);var b=e.get("funnelAlign"),S=e.get("gap"),E=(("horizontal"===s?l:u)-S*(i.count()-1))/i.count(),I=function($,ee){if("horizontal"===s){var le=Jn(i.get(r,$)||0,[m,y],g,!0),he=void 0;switch(b){case"top":he=p;break;case"center":he=p+(u-le)/2;break;case"bottom":he=p+(u-le)}return[[ee,he],[ee,he+le]]}var ge,me=Jn(i.get(r,$)||0,[m,y],g,!0);switch(b){case"left":ge=f;break;case"center":ge=f+(l-me)/2;break;case"right":ge=f+l-me}return[[ge,ee],[ge+me,ee]]};"ascending"===o&&(E=-E,S=-S,"horizontal"===s?f+=l:p+=u,h=h.reverse());for(var A=0;A<h.length;A++){var L=h[A],R=h[A+1],k=i.getItemModel(L);if("horizontal"===s){var H=k.get(["itemStyle","width"]);null==H?H=E:(H=kt(H,l),"ascending"===o&&(H=-H));var U=I(L,f),G=I(R,f+H);f+=H+S,i.setItemLayout(L,{points:U.concat(G.slice().reverse())})}else{var K=k.get(["itemStyle","height"]);null==K?K=E:(K=kt(K,u),"ascending"===o&&(K=-K)),U=I(L,p),G=I(R,p+K),p+=K+S,i.setItemLayout(L,{points:U.concat(G.slice().reverse())})}}!function($){var ee=$.hostModel.get("orient");$.each(function(le){var he,ge,me,be,Le=$.getItemModel(le),Ge=Le.getModel("label").get("position"),nt=Le.getModel("labelLine"),xt=$.getItemLayout(le),Je=xt.points,dt="inner"===Ge||"inside"===Ge||"center"===Ge||"insideLeft"===Ge||"insideRight"===Ge;if(dt)"insideLeft"===Ge?(ge=(Je[0][0]+Je[3][0])/2+5,me=(Je[0][1]+Je[3][1])/2,he="left"):"insideRight"===Ge?(ge=(Je[1][0]+Je[2][0])/2-5,me=(Je[1][1]+Je[2][1])/2,he="right"):(ge=(Je[0][0]+Je[1][0]+Je[2][0]+Je[3][0])/4,me=(Je[0][1]+Je[1][1]+Je[2][1]+Je[3][1])/4,he="center"),be=[[ge,me],[ge,me]];else{var Dt=void 0,Tt=void 0,It=void 0,Yt=void 0,Xt=nt.get("length");"left"===Ge?(Tt=(Je[3][1]+Je[0][1])/2,ge=(It=(Dt=(Je[3][0]+Je[0][0])/2)-Xt)-5,he="right"):"right"===Ge?(Tt=(Je[1][1]+Je[2][1])/2,ge=(It=(Dt=(Je[1][0]+Je[2][0])/2)+Xt)+5,he="left"):"top"===Ge?(Dt=(Je[3][0]+Je[0][0])/2,me=(Yt=(Tt=(Je[3][1]+Je[0][1])/2)-Xt)-5,he="center"):"bottom"===Ge?(Dt=(Je[1][0]+Je[2][0])/2,me=(Yt=(Tt=(Je[1][1]+Je[2][1])/2)+Xt)+5,he="center"):"rightTop"===Ge?(Dt="horizontal"===ee?Je[3][0]:Je[1][0],Tt="horizontal"===ee?Je[3][1]:Je[1][1],"horizontal"===ee?(me=(Yt=Tt-Xt)-5,he="center"):(ge=(It=Dt+Xt)+5,he="top")):"rightBottom"===Ge?(Dt=Je[2][0],Tt=Je[2][1],"horizontal"===ee?(me=(Yt=Tt+Xt)+5,he="center"):(ge=(It=Dt+Xt)+5,he="bottom")):"leftTop"===Ge?(Dt=Je[0][0],Tt="horizontal"===ee?Je[0][1]:Je[1][1],"horizontal"===ee?(me=(Yt=Tt-Xt)-5,he="center"):(ge=(It=Dt-Xt)-5,he="right")):"leftBottom"===Ge?(Dt="horizontal"===ee?Je[1][0]:Je[3][0],Tt="horizontal"===ee?Je[1][1]:Je[2][1],"horizontal"===ee?(me=(Yt=Tt+Xt)+5,he="center"):(ge=(It=Dt-Xt)-5,he="right")):(Dt=(Je[1][0]+Je[2][0])/2,Tt=(Je[1][1]+Je[2][1])/2,"horizontal"===ee?(me=(Yt=Tt+Xt)+5,he="center"):(ge=(It=Dt+Xt)+5,he="left")),"horizontal"===ee?ge=It=Dt:me=Yt=Tt,be=[[Dt,Tt],[It,Yt]]}xt.label={linePoints:be,x:ge,y:me,verticalAlign:"middle",textAlign:he,inside:dt}})}(i)})}var mk=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e._dataGroup=new Ft,e._initialized=!1,e}return ue(t,n),t.prototype.init=function(){this.group.add(this._dataGroup)},t.prototype.render=function(e,i,r,o){var g,v,y,b,S,E,a=this._dataGroup,s=e.getData(),l=this._data,u=e.coordinateSystem,h=u.dimensions,f=iC(e);if(s.diff(l).add(function(g){K0(nC(s,a,g,h,u),s,g,f)}).update(function(g,v){var m=l.getItemGraphicEl(v),y=tC(s,g,h,u);s.setItemGraphicEl(g,m),Un(m,{shape:{points:y}},e,g),ks(m),K0(m,s,g,f)}).remove(function(g){var v=l.getItemGraphicEl(g);a.remove(v)}).execute(),!this._initialized){this._initialized=!0;var p=(v=e,y=(g=u).model,b=g.getRect(),S=new kn({shape:{x:b.x,y:b.y,width:b.width,height:b.height}}),E="horizontal"===y.get("layout")?"width":"height",S.setShape(E,0),Vi(S,{shape:{width:b.width,height:b.height}},v,function(){setTimeout(function(){a.removeClipPath()})}),S);a.setClipPath(p)}this._data=s},t.prototype.incrementalPrepareRender=function(e,i,r){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},t.prototype.incrementalRender=function(e,i,r){for(var o=i.getData(),a=i.coordinateSystem,s=a.dimensions,l=iC(i),u=e.start;u<e.end;u++){var h=nC(o,this._dataGroup,u,s,a);h.incremental=!0,K0(h,o,u,l)}},t.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},t.type="parallel",t}(vi);function tC(n,t,e,i){for(var r,o=[],a=0;a<e.length;a++){var s=e[a],l=n.get(n.mapDimension(s),t);r=l,("category"===i.getAxis(s).type?null==r:null==r||isNaN(r))||o.push(i.dataToPoint(l,s))}return o}function nC(n,t,e,i,r){var o=tC(n,e,i,r),a=new na({shape:{points:o},z2:10});return t.add(a),n.setItemGraphicEl(e,a),a}function iC(n){var t=n.get("smooth",!0);return!0===t&&(t=.3),ti(t=po(t))&&(t=0),{smooth:t}}function K0(n,t,e,i){n.useStyle(t.getItemVisual(e,"style")),n.style.fill=null,n.setShape("smooth",i.smooth);var r=t.getItemModel(e),o=r.getModel("emphasis");W(n,r,"lineStyle"),_(n,o.get("focus"),o.get("blurScope"))}var yk=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.visualStyleAccessPath="lineStyle",e.visualDrawType="stroke",e}return ue(t,n),t.prototype.getInitialData=function(e,i){return gl(null,this,{useEncodeDefaulter:mt(_k,null,this)})},t.prototype.getRawIndicesByActiveState=function(e){var i=this.coordinateSystem,r=this.getData(),o=[];return i.eachActiveState(r,function(a,s){e===a&&o.push(r.getRawIndex(s))}),o},t.type="series.parallel",t.dependencies=["parallel"],t.defaultOption={zlevel:0,z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},t}(Ei);function _k(n){var t=n.ecModel.getComponent("parallel",n.get("parallelIndex"));if(t){var e={};return Y(t.dimensions,function(i){var r=+i.replace("dim","");e[i]=r}),e}}var xk=["lineStyle","opacity"],bk={seriesType:"parallel",reset:function(n,t){var e=n.coordinateSystem,i={normal:n.get(["lineStyle","opacity"]),active:n.get("activeOpacity"),inactive:n.get("inactiveOpacity")};return{progress:function(r,o){e.eachActiveState(o,function(a,s){var l=i[a];if("normal"===a&&o.hasItemOption){var u=o.getItemModel(s).get(xk,!0);null!=u&&(l=u)}o.ensureUniqueItemVisual(s,"style").opacity=l},r.start,r.end)}}}};function Sk(n){(function(t){if(!t.parallel){var e=!1;Y(t.series,function(i){i&&"parallel"===i.type&&(e=!0)}),e&&(t.parallel=[{}])}})(n),function(t){Y(Yn(t.parallelAxis),function(e){if(Bt(e)){var i=e.parallelIndex||0,r=Yn(t.parallel)[i];r&&r.parallelAxisDefault&&Ie(e,r.parallelAxisDefault,!1)}})}(n)}var wk=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return ue(t,n),t.prototype.render=function(e,i,r){this._model=e,this._api=r,this._handlers||(this._handlers={},Y(Tk,function(o,a){r.getZr().on(a,this._handlers[a]=mt(o,this))},this)),td(this,"_throttledDispatchExpand",e.get("axisExpandRate"),"fixRate")},t.prototype.dispose=function(e,i){Y(this._handlers,function(r,o){i.getZr().off(o,r)}),this._handlers=null},t.prototype._throttledDispatchExpand=function(e){this._dispatchExpand(e)},t.prototype._dispatchExpand=function(e){e&&this._api.dispatchAction(se({type:"parallelAxisExpand"},e))},t.type="parallel",t}(Ni),Tk={mousedown:function(n){Z0(this,"click")&&(this._mouseDownPoint=[n.offsetX,n.offsetY])},mouseup:function(n){var t=this._mouseDownPoint;if(Z0(this,"click")&&t){var e=[n.offsetX,n.offsetY];if(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)>5)return;var i=this._model.coordinateSystem.getSlidedAxisExpandWindow([n.offsetX,n.offsetY]);"none"!==i.behavior&&this._dispatchExpand({axisExpandWindow:i.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(n){if(!this._mouseDownPoint&&Z0(this,"mousemove")){var t=this._model,e=t.coordinateSystem.getSlidedAxisExpandWindow([n.offsetX,n.offsetY]),i=e.behavior;"jump"===i&&this._throttledDispatchExpand.debounceNextCall(t.get("axisExpandDebounce")),this._throttledDispatchExpand("none"===i?null:{axisExpandWindow:e.axisExpandWindow,animation:"jump"===i?null:{duration:0}})}}};function Z0(n,t){var e=n._model;return e.get("axisExpandable")&&e.get("axisExpandTriggerOn")===t}var Ek=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return ue(t,n),t.prototype.init=function(){n.prototype.init.apply(this,arguments),this.mergeOption({})},t.prototype.mergeOption=function(e){e&&Ie(this.option,e,!0),this._initDimensions()},t.prototype.contains=function(e,i){var r=e.get("parallelIndex");return null!=r&&i.getComponent("parallel",r)===this},t.prototype.setAxisExpand=function(e){Y(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(i){e.hasOwnProperty(i)&&(this.option[i]=e[i])},this)},t.prototype._initDimensions=function(){var e=this.dimensions=[],i=this.parallelAxisIndex=[];Y(jt(this.ecModel.queryComponents({mainType:"parallelAxis"}),function(r){return(r.get("parallelIndex")||0)===this.componentIndex},this),function(r){e.push("dim"+r.get("dim")),i.push(r.componentIndex)})},t.type="parallel",t.dependencies=["parallelAxis"],t.layoutMode="box",t.defaultOption={zlevel:0,z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},t}(Rn),Ck=function(n){function t(e,i,r,o,a){var s=n.call(this,e,i,r)||this;return s.type=o||"value",s.axisIndex=a,s}return ue(t,n),t.prototype.isHorizontal=function(){return"horizontal"!==this.coordinateSystem.getModel().get("layout")},t}(as);function kc(n,t,e,i,r,o){n=n||0;var a=e[1]-e[0];if(null!=r&&(r=Wh(r,[0,a])),null!=o&&(o=Math.max(o,r??0)),"all"===i){var s=Math.abs(t[1]-t[0]);s=Wh(s,[0,a]),r=o=Wh(s,[r,o]),i=0}t[0]=Wh(t[0],e),t[1]=Wh(t[1],e);var l=J0(t,i);t[i]+=n;var u,h=r||0,f=e.slice();return l.sign<0?f[0]+=h:f[1]-=h,t[i]=Wh(t[i],f),u=J0(t,i),null!=r&&(u.sign!==l.sign||u.span<r)&&(t[1-i]=t[i]+l.sign*r),u=J0(t,i),null!=o&&u.span>o&&(t[1-i]=t[i]+u.sign*o),t}function J0(n,t){var e=n[t]-n[1-t];return{span:Math.abs(e),sign:e>0?-1:e<0?1:t?-1:1}}function Wh(n,t){return Math.min(null!=t[1]?t[1]:1/0,Math.max(null!=t[0]?t[0]:-1/0,n))}var Q0=Y,rC=Math.min,oC=Math.max,aC=Math.floor,Ik=Math.ceil,sC=hr,Ak=Math.PI,Mk=function(){function n(t,e,i){this.type="parallel",this._axesMap=Ht(),this._axesLayout={},this.dimensions=t.dimensions,this._model=t,this._init(t,e,i)}return n.prototype._init=function(t,e,i){var o=t.parallelAxisIndex;Q0(t.dimensions,function(a,s){var l=o[s],u=e.getComponent("parallelAxis",l),h=this._axesMap.set(a,new Ck(a,yd(u),[0,0],u.get("type"),l));h.onBand="category"===h.type&&u.get("boundaryGap"),h.inverse=u.get("inverse"),u.axis=h,h.model=u,h.coordinateSystem=u.coordinateSystem=this},this)},n.prototype.update=function(t,e){this._updateAxesFromSeries(this._model,t)},n.prototype.containPoint=function(t){var e=this._makeLayoutInfo(),i=e.axisBase,r=e.layoutBase,o=e.pixelDimIndex,a=t[1-o],s=t[o];return a>=i&&a<=i+e.axisLength&&s>=r&&s<=r+e.layoutLength},n.prototype.getModel=function(){return this._model},n.prototype._updateAxesFromSeries=function(t,e){e.eachSeries(function(i){if(t.contains(i,e)){var r=i.getData();Q0(this.dimensions,function(o){var a=this._axesMap.get(o);a.scale.unionExtentFromData(r,r.mapDimension(o)),Ru(a.scale,a.model)},this)}},this)},n.prototype.resize=function(t,e){this._rect=Br(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()}),this._layoutAxes()},n.prototype.getRect=function(){return this._rect},n.prototype._makeLayoutInfo=function(){var t,e=this._model,i=this._rect,r=["x","y"],o=["width","height"],a=e.get("layout"),s="horizontal"===a?0:1,l=i[o[s]],u=[0,l],h=this.dimensions.length,f=Sv(e.get("axisExpandWidth"),u),p=Sv(e.get("axisExpandCount")||0,[0,h]),g=e.get("axisExpandable")&&h>3&&h>p&&p>1&&f>0&&l>0,v=e.get("axisExpandWindow");v?(t=Sv(v[1]-v[0],u),v[1]=v[0]+t):(t=Sv(f*(p-1),u),(v=[f*(e.get("axisExpandCenter")||aC(h/2))-t/2])[1]=v[0]+t);var m=(l-t)/(h-p);m<3&&(m=0);var y=[aC(sC(v[0]/f,1))+1,Ik(sC(v[1]/f,1))-1];return{layout:a,pixelDimIndex:s,layoutBase:i[r[s]],layoutLength:l,axisBase:i[r[1-s]],axisLength:i[o[1-s]],axisExpandable:g,axisExpandWidth:f,axisCollapseWidth:m,axisExpandWindow:v,axisCount:h,winInnerIndices:y,axisExpandWindow0Pos:m/f*v[0]}},n.prototype._layoutAxes=function(){var t=this._rect,e=this._axesMap,i=this.dimensions,r=this._makeLayoutInfo(),o=r.layout;e.each(function(a){var s=[0,r.axisLength],l=a.inverse?1:0;a.setExtent(s[l],s[1-l])}),Q0(i,function(a,s){var l=(r.axisExpandable?Dk:Lk)(s,r),u={horizontal:{x:l.position,y:r.axisLength},vertical:{x:0,y:l.position}},f=[u[o].x+t.x,u[o].y+t.y],p={horizontal:Ak/2,vertical:0}[o],g=[1,0,0,1,0,0];Ca(g,g,p),bo(g,g,f),this._axesLayout[a]={position:f,rotation:p,transform:g,axisNameAvailableWidth:l.axisNameAvailableWidth,axisLabelShow:l.axisLabelShow,nameTruncateMaxWidth:l.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},n.prototype.getAxis=function(t){return this._axesMap.get(t)},n.prototype.dataToPoint=function(t,e){return this.axisCoordToPoint(this._axesMap.get(e).dataToCoord(t),e)},n.prototype.eachActiveState=function(t,e,i,r){null==i&&(i=0),null==r&&(r=t.count());var o=this._axesMap,a=this.dimensions,s=[],l=[];Y(a,function(m){s.push(t.mapDimension(m)),l.push(o.get(m).model)});for(var u=this.hasAxisBrushed(),h=i;h<r;h++){var f=void 0;if(u){f="active";for(var p=t.getValues(s,h),g=0,v=a.length;g<v;g++)if("inactive"===l[g].getActiveState(p[g])){f="inactive";break}}else f="normal";e(f,h)}},n.prototype.hasAxisBrushed=function(){for(var t=this.dimensions,e=this._axesMap,i=!1,r=0,o=t.length;r<o;r++)"normal"!==e.get(t[r]).model.getActiveState()&&(i=!0);return i},n.prototype.axisCoordToPoint=function(t,e){return Ps([t,0],this._axesLayout[e].transform)},n.prototype.getAxisLayout=function(t){return Te(this._axesLayout[t])},n.prototype.getSlidedAxisExpandWindow=function(t){var e=this._makeLayoutInfo(),i=e.pixelDimIndex,r=e.axisExpandWindow.slice(),o=r[1]-r[0],a=[0,e.axisExpandWidth*(e.axisCount-1)];if(!this.containPoint(t))return{behavior:"none",axisExpandWindow:r};var s,l=t[i]-e.layoutBase-e.axisExpandWindow0Pos,u="slide",h=e.axisCollapseWidth,f=this._model.get("axisExpandSlideTriggerArea"),p=null!=f[0];if(h)p&&h&&l<o*f[0]?(u="jump",s=l-o*f[2]):p&&h&&l>o*(1-f[0])?(u="jump",s=l-o*(1-f[2])):(s=l-o*f[1])>=0&&(s=l-o*(1-f[1]))<=0&&(s=0),(s*=e.axisExpandWidth/h)?kc(s,r,a,"all"):u="none";else{var g=r[1]-r[0];(r=[oC(0,a[1]*l/g-g/2)])[1]=rC(a[1],r[0]+g),r[0]=r[1]-g}return{axisExpandWindow:r,behavior:u}},n}();function Sv(n,t){return rC(oC(n,t[0]),t[1])}function Lk(n,t){var e=t.layoutLength/(t.axisCount-1);return{position:e*n,axisNameAvailableWidth:e,axisLabelShow:!0}}function Dk(n,t){var e,i,o=t.axisExpandWidth,s=t.axisCollapseWidth,l=t.winInnerIndices,u=s,h=!1;return n<l[0]?(e=n*s,i=s):n<=l[1]?(e=t.axisExpandWindow0Pos+n*o-t.axisExpandWindow[0],u=o,h=!0):(e=t.layoutLength-(t.axisCount-1-n)*s,i=s),{position:e,axisNameAvailableWidth:u,axisLabelShow:h,nameTruncateMaxWidth:i}}var Nk={create:function(n,t){var e=[];return n.eachComponent("parallel",function(i,r){var o=new Mk(i,n,t);o.name="parallel_"+r,o.resize(i,t),i.coordinateSystem=o,o.model=i,e.push(o)}),n.eachSeries(function(i){if("parallel"===i.get("coordinateSystem")){var r=i.getReferringComponents("parallel",mr).models[0];i.coordinateSystem=r.coordinateSystem}}),e}},$0=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.activeIntervals=[],e}return ue(t,n),t.prototype.getAreaSelectStyle=function(){return il([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},t.prototype.setActiveIntervals=function(e){var i=this.activeIntervals=Te(e);if(i)for(var r=i.length-1;r>=0;r--)Kr(i[r])},t.prototype.getActiveState=function(e){var i=this.activeIntervals;if(!i.length)return"normal";if(null==e||isNaN(+e))return"inactive";if(1===i.length){var r=i[0];if(r[0]<=e&&e<=r[1])return"active"}else for(var o=0,a=i.length;o<a;o++)if(i[o][0]<=e&&e<=i[o][1])return"active";return"inactive"},t}(Rn);lt($0,Oh);var Pc=!0,Xd=Math.min,Yh=Math.max,Rk=Math.pow,lC="globalPan",Ok={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},kk={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},uC={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},Pk=0,e_=function(n){function t(e){var i=n.call(this)||this;return i._track=[],i._covers=[],i._handlers={},i._zr=e,i.group=new Ft,i._uid="brushController_"+Pk++,Y(Fk,function(r,o){this._handlers[o]=mt(r,this)},i),i}return ue(t,n),t.prototype.enableBrush=function(e){return this._brushType&&this._doDisableBrush(),e.brushType&&this._doEnableBrush(e),this},t.prototype._doEnableBrush=function(e){var o,a,i=this._zr;this._enableGlobalPan||(o=lC,a=this._uid,h0(i)[o]=a),Y(this._handlers,function(r,o){i.on(o,r)}),this._brushType=e.brushType,this._brushOption=Ie(Te(uC),e,!0)},t.prototype._doDisableBrush=function(){var r,o,a,e=this._zr;r=lC,o=this._uid,(a=h0(e))[r]===o&&(a[r]=null),Y(this._handlers,function(i,r){e.off(r,i)}),this._brushType=this._brushOption=null},t.prototype.setPanels=function(e){if(e&&e.length){var i=this._panels={};Y(e,function(r){i[r.panelId]=Te(r)})}else this._panels=null;return this},t.prototype.mount=function(e){this._enableGlobalPan=(e=e||{}).enableGlobalPan;var i=this.group;return this._zr.add(i),i.attr({x:e.x||0,y:e.y||0,rotation:e.rotation||0,scaleX:e.scaleX||1,scaleY:e.scaleY||1}),this._transform=i.getLocalTransform(),this},t.prototype.updateCovers=function(e){e=Ve(e,function(u){return Ie(Te(uC),u,!0)});var i=this._covers,r=this._covers=[],o=this,a=this._creatingCover;return new Ul(i,e,function(u,h){return s(u.__brushOption,h)},s).add(l).update(l).remove(function(u){i[u]!==a&&o.group.remove(i[u])}).execute(),this;function s(u,h){return(null!=u.id?u.id:"\0-brush-index-"+h)+"-"+u.brushType}function l(u,h){var f=e[u];if(null!=h&&i[h]===a)r[u]=i[h];else{var p=r[u]=null!=h?(i[h].__brushOption=f,i[h]):hC(o,cC(o,f));t_(o,p)}}},t.prototype.unmount=function(){return this.enableBrush(!1),r_(this),this._zr.remove(this.group),this},t.prototype.dispose=function(){this.unmount(),this.off()},t}(Tn);function cC(n,t){var e=wv[t.brushType].createCover(n,t);return e.__brushOption=t,dC(e,t),n.group.add(e),e}function hC(n,t){var e=n_(t);return e.endCreating&&(e.endCreating(n,t),dC(t,t.__brushOption)),t}function fC(n,t){var e=t.__brushOption;n_(t).updateCoverShape(n,t,e.range,e)}function dC(n,t){var e=t.z;null==e&&(e=1e4),n.traverse(function(i){i.z=e,i.z2=e})}function t_(n,t){n_(t).updateCommon(n,t),fC(n,t)}function n_(n){return wv[n.__brushOption.brushType]}function i_(n,t,e){var i,r=n._panels;if(!r)return Pc;var o=n._transform;return Y(r,function(a){a.isTargetByCursor(t,e,o)&&(i=a)}),i}function pC(n,t){var e=n._panels;if(!e)return Pc;var i=t.__brushOption.panelId;return null!=i?e[i]:Pc}function r_(n){var t=n._covers,e=t.length;return Y(t,function(i){n.group.remove(i)},n),t.length=0,!!e}function Bc(n,t){var e=Ve(n._covers,function(i){var r=i.__brushOption,o=Te(r.range);return{brushType:r.brushType,panelId:r.panelId,range:o}});n.trigger("brush",{areas:e,isEnd:!!t.isEnd,removeOnClick:!!t.removeOnClick})}function gC(n){var t=n.length-1;return t<0&&(t=0),[n[0],n[t]]}function vC(n,t,e,i){var r=new Ft;return r.add(new kn({name:"main",style:a_(e),silent:!0,draggable:!0,cursor:"move",drift:Lt(_C,n,t,r,["n","s","w","e"]),ondragend:Lt(Bc,t,{isEnd:!0})})),Y(i,function(o){r.add(new kn({name:o.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:Lt(_C,n,t,r,o),ondragend:Lt(Bc,t,{isEnd:!0})}))}),r}function mC(n,t,e,i){var r=i.brushStyle.lineWidth||0,o=Yh(r,6),a=e[0][0],s=e[1][0],l=a-r/2,u=s-r/2,h=e[0][1],f=e[1][1],p=h-o+r/2,g=f-o+r/2,v=h-a,m=f-s,y=v+r,b=m+r;Yl(n,t,"main",a,s,v,m),i.transformable&&(Yl(n,t,"w",l,u,o,b),Yl(n,t,"e",p,u,o,b),Yl(n,t,"n",l,u,y,o),Yl(n,t,"s",l,g,y,o),Yl(n,t,"nw",l,u,o,o),Yl(n,t,"ne",p,u,o,o),Yl(n,t,"sw",l,g,o,o),Yl(n,t,"se",p,g,o,o))}function o_(n,t){var e=t.__brushOption,i=e.transformable,r=t.childAt(0);r.useStyle(a_(e)),r.attr({silent:!i,cursor:i?"move":"default"}),Y([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(o){var l,u,h,a=t.childOfName(o.join("")),s=1===o.length?s_(n,o[0]):(("e"===(h=[s_(l=n,(u=o)[0]),s_(l,u[1])])[0]||"w"===h[0])&&h.reverse(),h.join(""));a&&a.attr({silent:!i,invisible:!i,cursor:i?kk[s]+"-resize":null})})}function Yl(n,t,e,i,r,o,a){var l,u,h,s=t.childOfName(e);s&&s.setShape((l=l_(n,t,[[i,r],[i+o,r+a]]),{x:u=Xd(l[0][0],l[1][0]),y:h=Xd(l[0][1],l[1][1]),width:Yh(l[0][0],l[1][0])-u,height:Yh(l[0][1],l[1][1])-h}))}function a_(n){return Ee({strokeNoScale:!0},n.brushStyle)}function yC(n,t,e,i){var r=[Xd(n,e),Xd(t,i)],o=[Yh(n,e),Yh(t,i)];return[[r[0],o[0]],[r[1],o[1]]]}function s_(n,t){return{left:"w",right:"e",top:"n",bottom:"s"}[Kp({w:"left",e:"right",n:"top",s:"bottom"}[t],(e=n,Su(e.group)))];var e}function _C(n,t,e,i,r,o){var a=e.__brushOption,s=n.toRectRange(a.range),l=xC(t,r,o);Y(i,function(u){var h=Ok[u];s[h[0]][h[1]]+=l[h[0]]}),a.range=n.fromRectRange(yC(s[0][0],s[1][0],s[0][1],s[1][1])),t_(t,e),Bc(t,{isEnd:!1})}function Bk(n,t,e,i){var r=t.__brushOption.range,o=xC(n,e,i);Y(r,function(a){a[0]+=o[0],a[1]+=o[1]}),t_(n,t),Bc(n,{isEnd:!1})}function xC(n,t,e){var i=n.group,r=i.transformCoordToLocal(t,e),o=i.transformCoordToLocal(0,0);return[r[0]-o[0],r[1]-o[1]]}function l_(n,t,e){var i=pC(n,t);return i&&i!==Pc?i.clipPath(e,n._transform):Te(e)}function u_(n){var t=n.event;t.preventDefault&&t.preventDefault()}function c_(n,t,e){return n.childOfName("main").contain(t,e)}function bC(n,t,e,i){var r,o=n._creatingCover,a=n._creatingPanel,s=n._brushOption;if(n._track.push(e.slice()),function(h){var f=h._track;if(!f.length)return!1;var p=f[f.length-1],g=f[0],v=p[0]-g[0],m=p[1]-g[1];return Rk(v*v+m*m,.5)>6}(n)||o){if(a&&!o){"single"===s.brushMode&&r_(n);var l=Te(s);l.brushType=SC(l.brushType,a),l.panelId=a===Pc?null:a.panelId,o=n._creatingCover=cC(n,l),n._covers.push(o)}if(o){var u=wv[SC(n._brushType,a)];o.__brushOption.range=u.getCreatingRange(l_(n,o,n._track)),i&&(hC(n,o),u.updateCommon(n,o)),fC(n,o),r={isEnd:i}}}else i&&"single"===s.brushMode&&s.removeOnClick&&i_(n,t,e)&&r_(n)&&(r={isEnd:i,removeOnClick:!0});return r}function SC(n,t){return"auto"===n?t.defaultBrushType:n}var Fk={mousedown:function(n){if(this._dragging)wC(this,n);else if(!n.target||!n.target.draggable){u_(n);var t=this.group.transformCoordToLocal(n.offsetX,n.offsetY);this._creatingCover=null,(this._creatingPanel=i_(this,n,t))&&(this._dragging=!0,this._track=[t.slice()])}},mousemove:function(n){var i=this.group.transformCoordToLocal(n.offsetX,n.offsetY);if(function(o,a,s){if(o._brushType&&(m=a.offsetY,y=o._zr,!((v=a.offsetX)<0||v>y.getWidth()||m<0||m>y.getHeight()))){var l=o._zr,u=o._covers,h=i_(o,a,s);if(!o._dragging)for(var f=0;f<u.length;f++){var p=u[f].__brushOption;if(h&&(h===Pc||p.panelId===h.panelId)&&wv[p.brushType].contain(u[f],s[0],s[1]))return}h&&l.setCursorStyle("crosshair")}var v,m,y}(this,n,i),this._dragging){u_(n);var r=bC(this,n,i,!1);r&&Bc(this,r)}},mouseup:function(n){wC(this,n)}};function wC(n,t){if(n._dragging){u_(t);var r=n.group.transformCoordToLocal(t.offsetX,t.offsetY),o=bC(n,t,r,!0);n._dragging=!1,n._track=[],n._creatingCover=null,o&&Bc(n,o)}}var wv={lineX:TC(0),lineY:TC(1),rect:{createCover:function(n,t){function e(i){return i}return vC({toRectRange:e,fromRectRange:e},n,t,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(n){var t=gC(n);return yC(t[1][0],t[1][1],t[0][0],t[0][1])},updateCoverShape:function(n,t,e,i){mC(n,t,e,i)},updateCommon:o_,contain:c_},polygon:{createCover:function(n,t){var e=new Ft;return e.add(new na({name:"main",style:a_(t),silent:!0})),e},getCreatingRange:function(n){return n},endCreating:function(n,t){t.remove(t.childAt(0)),t.add(new Lo({name:"main",draggable:!0,drift:Lt(Bk,n,t),ondragend:Lt(Bc,n,{isEnd:!0})}))},updateCoverShape:function(n,t,e,i){t.childAt(0).setShape({points:l_(n,t,e)})},updateCommon:o_,contain:c_}};function TC(n){return{createCover:function(t,e){return vC({toRectRange:function(i){var r=[i,[0,100]];return n&&r.reverse(),r},fromRectRange:function(i){return i[n]}},t,e,[[["w"],["e"]],[["n"],["s"]]][n])},getCreatingRange:function(t){var e=gC(t);return[Xd(e[0][n],e[1][n]),Yh(e[0][n],e[1][n])]},updateCoverShape:function(t,e,i,r){var o,a=pC(t,e);if(a!==Pc&&a.getLinearBrushOtherExtent)o=a.getLinearBrushOtherExtent(n);else{var s=t._zr;o=[0,[s.getWidth(),s.getHeight()][1-n]]}var l=[i,o];n&&l.reverse(),mC(t,e,l,r)},updateCommon:o_,contain:c_}}function EC(n){return n=h_(n),function(t){return pm(t,n)}}function CC(n,t){return n=h_(n),function(e){var i=t??e,o=i?n.x:n.y;return[o,o+((i?n.width:n.height)||0)]}}function IC(n,t,e){var i=h_(n);return function(r,o){return i.contain(o[0],o[1])&&!fv(r,t,e)}}function h_(n){return cn.create(n)}var Hk=["axisLine","axisTickLabel","axisName"],Uk=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return ue(t,n),t.prototype.init=function(e,i){n.prototype.init.apply(this,arguments),(this._brushController=new e_(i.getZr())).on("brush",mt(this._onBrush,this))},t.prototype.render=function(e,i,r,o){if(v=e,!(y=o)||"axisAreaSelect"!==y.type||i.findComponents({mainType:"parallelAxis",query:y})[0]!==v){this.axisModel=e,this.api=r,this.group.removeAll();var a=this._axisGroup;if(this._axisGroup=new Ft,this.group.add(this._axisGroup),e.get("show")){var s=function(v,m){return m.getComponent("parallel",v.get("parallelIndex"))}(e,i),l=s.coordinateSystem,u=e.getAreaSelectStyle(),h=u.width,p=se({strokeContainThreshold:h},l.getAxisLayout(e.axis.dim)),g=new oa(e,p);Y(Hk,g.add,g),this._axisGroup.add(g.getGroup()),this._refreshBrushController(p,u,e,s,h,r),Hf(a,this._axisGroup,e)}}var v,y},t.prototype._refreshBrushController=function(e,i,r,o,a,s){var p,g,l=r.axis.getExtent(),u=l[1]-l[0],h=Math.min(30,.1*Math.abs(u)),f=cn.create({x:l[0],y:-a/2,width:u,height:a});f.x-=h,f.width+=2*h,this._brushController.mount({enableGlobalPan:!0,rotation:e.rotation,x:e.position[0],y:e.position[1]}).setPanels([{panelId:"pl",clipPath:EC(f),isTargetByCursor:IC(f,s,o),getLinearBrushOtherExtent:CC(f,0)}]).enableBrush({brushType:"lineX",brushStyle:i,removeOnClick:!0}).updateCovers((g=(p=r).axis,Ve(p.activeIntervals,function(v){return{brushType:"lineX",panelId:"pl",range:[g.dataToCoord(v[0],!0),g.dataToCoord(v[1],!0)]}})))},t.prototype._onBrush=function(e){var r=this.axisModel,o=r.axis,a=Ve(e.areas,function(s){return[o.coordToData(s.range[0],!0),o.coordToData(s.range[1],!0)]});(!r.option.realtime===e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:r.id,intervals:a})},t.prototype.dispose=function(){this._brushController.dispose()},t.type="parallelAxis",t}(Ni),zk={type:"axisAreaSelect",event:"axisAreaSelected"},Vk={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function AC(n){n.registerComponentView(wk),n.registerComponentModel(Ek),n.registerCoordinateSystem("parallel",Nk),n.registerPreprocessor(Sk),n.registerComponentModel($0),n.registerComponentView(Uk),Hh(n,"parallel",$0,Vk),function(t){t.registerAction(zk,function(e,i){i.eachComponent({mainType:"parallelAxis",query:e},function(r){r.axis.model.setActiveIntervals(e.intervals)})}),t.registerAction("parallelAxisExpand",function(e,i){i.eachComponent({mainType:"parallel",query:e},function(r){r.setAxisExpand(e)})})}(n)}var Gk=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0},Wk=function(n){function t(e){return n.call(this,e)||this}return ue(t,n),t.prototype.getDefaultShape=function(){return new Gk},t.prototype.buildPath=function(e,i){var r=i.extent;e.moveTo(i.x1,i.y1),e.bezierCurveTo(i.cpx1,i.cpy1,i.cpx2,i.cpy2,i.x2,i.y2),"vertical"===i.orient?(e.lineTo(i.x2+r,i.y2),e.bezierCurveTo(i.cpx2+r,i.cpy2,i.cpx1+r,i.cpy1,i.x1+r,i.y1)):(e.lineTo(i.x2,i.y2+r),e.bezierCurveTo(i.cpx2,i.cpy2+r,i.cpx1,i.cpy1+r,i.x1,i.y1+r)),e.closePath()},t.prototype.highlight=function(){$a(this)},t.prototype.downplay=function(){Io(this)},t}(Mn),Yk=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e._focusAdjacencyDisabled=!1,e}return ue(t,n),t.prototype.render=function(e,i,r){var v,m,b,o=this,a=e.getGraph(),s=this.group,l=e.layoutInfo,u=l.width,h=l.height,f=e.getData(),p=e.getData("edge"),g=e.get("orient");this._model=e,s.removeAll(),s.x=l.x,s.y=l.y,a.eachEdge(function(v){var m=new Wk,y=pn(m);y.dataIndex=v.dataIndex,y.seriesIndex=e.seriesIndex,y.dataType="edge";var b,S,E,I,A,L,R,k,H=v.getModel(),U=H.getModel("lineStyle"),G=U.get("curveness"),K=v.node1.getLayout(),$=v.node1.getModel(),ee=$.get("localX"),le=$.get("localY"),he=v.node2.getLayout(),ge=v.node2.getModel(),me=ge.get("localX"),be=ge.get("localY"),Le=v.getLayout();switch(m.shape.extent=Math.max(1,Le.dy),m.shape.orient=g,"vertical"===g?(A=b=(null!=ee?ee*u:K.x)+Le.sy,L=(S=(null!=le?le*h:K.y)+K.dy)*(1-G)+(I=null!=be?be*h:he.y)*G,R=E=(null!=me?me*u:he.x)+Le.ty,k=S*G+I*(1-G)):(A=(b=(null!=ee?ee*u:K.x)+K.dx)*(1-G)+(E=null!=me?me*u:he.x)*G,L=S=(null!=le?le*h:K.y)+Le.sy,R=b*G+E*(1-G),k=I=(null!=be?be*h:he.y)+Le.ty),m.setShape({x1:b,y1:S,x2:E,y2:I,cpx1:A,cpy1:L,cpx2:R,cpy2:k}),m.useStyle(U.getItemStyle()),m.style.fill){case"source":m.style.fill=v.node1.getVisual("color"),m.style.decal=v.node1.getVisual("style").decal;break;case"target":m.style.fill=v.node2.getVisual("color"),m.style.decal=v.node2.getVisual("style").decal;break;case"gradient":var Ge=v.node1.getVisual("color"),nt=v.node2.getVisual("color");"string"==typeof Ge&&"string"==typeof nt&&(m.style.fill=new ch(0,0,+("horizontal"===g),+("vertical"===g),[{color:Ge,offset:0},{color:nt,offset:1}]))}var xt=H.getModel("emphasis");W(m,H,"lineStyle",function(dt){return dt.getItemStyle()}),s.add(m),p.setItemGraphicEl(v.dataIndex,m);var Je=xt.get("focus");_(m,"adjacency"===Je?v.getAdjacentDataIndices():Je,xt.get("blurScope")),pn(m).dataType="edge"}),a.eachNode(function(v){var m=v.getLayout(),y=v.getModel(),b=y.get("localX"),S=y.get("localY"),E=y.getModel("emphasis"),I=new kn({shape:{x:null!=b?b*u:m.x,y:null!=S?S*h:m.y,width:m.dx,height:m.dy},style:y.getModel("itemStyle").getItemStyle(),z2:10});Fo(I,xo(y),{labelFetcher:e,labelDataIndex:v.dataIndex,defaultText:v.id}),I.disableLabelAnimation=!0,I.setStyle("fill",v.getVisual("color")),I.setStyle("decal",v.getVisual("style").decal),W(I,y),s.add(I),f.setItemGraphicEl(v.dataIndex,I),pn(I).dataType="node";var A=E.get("focus");_(I,"adjacency"===A?v.getAdjacentDataIndices():A,E.get("blurScope"))}),f.eachItemGraphicEl(function(v,m){f.getItemModel(m).get("draggable")&&(v.drift=function(y,b){o._focusAdjacencyDisabled=!0,this.shape.x+=y,this.shape.y+=b,this.dirty(),r.dispatchAction({type:"dragNode",seriesId:e.id,dataIndex:f.getRawIndex(m),localX:this.shape.x/u,localY:this.shape.y/h})},v.ondragend=function(){o._focusAdjacencyDisabled=!1},v.draggable=!0,v.cursor="move")}),!this._data&&e.isAnimationEnabled()&&s.setClipPath((v=s.getBoundingRect(),m=e,Vi(b=new kn({shape:{x:v.x-10,y:v.y-10,width:0,height:v.height+20}}),{shape:{width:v.width+20}},m,function(){s.removeClipPath()}),b)),this._data=e.getData()},t.prototype.dispose=function(){},t.type="sankey",t}(vi),Xk=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return ue(t,n),t.prototype.getInitialData=function(e,i){var r=e.edges||e.links,o=e.data||e.nodes,a=e.levels;this.levelModels=[];for(var s=this.levelModels,l=0;l<a.length;l++)null!=a[l].depth&&a[l].depth>=0&&(s[a[l].depth]=new Qn(a[l],this,i));if(o&&r)return eC(o,r,this,!0,function(u,h){u.wrapMethod("getItemModel",function(f,p){var g=f.parentModel,v=g.getData().getItemLayout(p);if(v){var y=g.levelModels[v.depth];y&&(f.parentModel=y)}return f}),h.wrapMethod("getItemModel",function(f,p){var g=f.parentModel,v=g.getGraph().getEdgeByIndex(p).node1.getLayout();if(v){var y=g.levelModels[v.depth];y&&(f.parentModel=y)}return f})}).data},t.prototype.setNodePosition=function(e,i){var r=(this.option.data||this.option.nodes)[e];r.localX=i[0],r.localY=i[1]},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.formatTooltip=function(e,i,r){function o(f){return isNaN(f)||null==f}if("edge"===r){var a=this.getDataParams(e,r),s=a.data,l=a.value;return ao("nameValue",{name:s.source+" -- "+s.target,value:l,noValue:o(l)})}var u=this.getGraph().getNodeByIndex(e).getLayout().value,h=this.getDataParams(e,r).data.name;return ao("nameValue",{name:null!=h?h+"":null,value:u,noValue:o(u)})},t.prototype.optionUpdated=function(){},t.prototype.getDataParams=function(e,i){var r=n.prototype.getDataParams.call(this,e,i);if(null==r.value&&"node"===i){var o=this.getGraph().getNodeByIndex(e).getLayout().value;r.value=o}return r},t.type="series.sankey",t.defaultOption={zlevel:0,z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},t}(Ei);function jk(n,t){n.eachSeriesByType("sankey",function(e){var p,i=e.get("nodeWidth"),r=e.get("nodeGap"),o=(p=t,Br(e.getBoxLayoutParams(),{width:p.getWidth(),height:p.getHeight()}));e.layoutInfo=o;var a=o.width,s=o.height,l=e.getGraph(),u=l.nodes,h=l.edges;Y(u,function(p){var g=Uu(p.outEdges,Tv),v=Uu(p.inEdges,Tv),m=p.getValue()||0,y=Math.max(g,v,m);p.setLayout({value:y},!0)}),function(f,p,g,v,m,y,b,S,E){var I,L;(function(I,A,L,R,k,H,U){for(var G=[],K=[],$=[],ee=[],le=0,he=0;he<A.length;he++)G[he]=1;for(he=0;he<I.length;he++)K[he]=I[he].inEdges.length,0===K[he]&&$.push(I[he]);for(var ge=-1;$.length;){for(var me=0;me<$.length;me++){var be=$[me],Le=be.hostGraph.data.getRawDataItem(be.dataIndex),Ge=null!=Le.depth&&Le.depth>=0;Ge&&Le.depth>ge&&(ge=Le.depth),be.setLayout({depth:Ge?Le.depth:le},!0),be.setLayout("vertical"===H?{dy:L}:{dx:L},!0);for(var nt=0;nt<be.outEdges.length;nt++){var xt=be.outEdges[nt];G[A.indexOf(xt)]=0;var Je=xt.node2;0==--K[I.indexOf(Je)]&&ee.indexOf(Je)<0&&ee.push(Je)}}++le,$=ee,ee=[]}for(he=0;he<G.length;he++)if(1===G[he])throw new Error("Sankey is a DAG, the original data has cycle!");var Tt,It,dt=ge>le-1?ge:le-1;U&&"left"!==U&&function(Dt,Tt,It,Yt){if("right"===Tt){for(var Xt=[],un=Dt,dn=0;un.length;){for(var mn=0;mn<un.length;mn++){var Zi=un[mn];Zi.setLayout({skNodeHeight:dn},!0);for(var Gi=0;Gi<Zi.inEdges.length;Gi++){var Wn=Zi.inEdges[Gi];Xt.indexOf(Wn.node1)<0&&Xt.push(Wn.node1)}}un=Xt,Xt=[],++dn}Y(Dt,function(Hn){MC(Hn)||Hn.setLayout({depth:Math.max(0,Yt-Hn.getLayout().skNodeHeight)},!0)})}else"justify"===Tt&&(ar=Yt,Y(Dt,function(Oi){MC(Oi)||Oi.outEdges.length||Oi.setLayout({depth:ar},!0)}));var ar}(I,U,0,dt),Tt="vertical"===H?(k-L)/dt:(R-L)/dt,It=H,Y(I,function(Yt){var Xt=Yt.getLayout().depth*Tt;Yt.setLayout("vertical"===It?{y:Xt}:{x:Xt},!0)})})(f,p,g,m,y,S,E),function(I,A,L,R,k,H,U){var le,he,ge,G=(le=[],he="vertical"===U?"y":"x",(ge=Zu(I,function(me){return me.getLayout()[he]})).keys.sort(function(me,be){return me-be}),Y(ge.keys,function(me){le.push(ge.buckets.get(me))}),le);(function($,ee,le,he,ge,me){var be=1/0;Y($,function(Le){var Ge=Le.length,nt=0;Y(Le,function(Je){nt+=Je.getLayout().value});var xt="vertical"===me?(he-(Ge-1)*ge)/nt:(le-(Ge-1)*ge)/nt;xt<be&&(be=xt)}),Y($,function(Le){Y(Le,function(Ge,nt){var xt=Ge.getLayout().value*be;"vertical"===me?(Ge.setLayout({x:nt},!0),Ge.setLayout({dx:xt},!0)):(Ge.setLayout({y:nt},!0),Ge.setLayout({dy:xt},!0))})}),Y(ee,function(Le){var Ge=+Le.getValue()*be;Le.setLayout({dy:Ge},!0)})})(G,A,L,R,k,U),f_(G,k,L,R,U);for(var K=1;H>0;H--)qk(G,K*=.99,U),f_(G,k,L,R,U),$k(G,K,U),f_(G,k,L,R,U)}(f,p,y,m,v,b,S),L="vertical"===S?"x":"y",Y(I=f,function(R){R.outEdges.sort(function(k,H){return k.node2.getLayout()[L]-H.node2.getLayout()[L]}),R.inEdges.sort(function(k,H){return k.node1.getLayout()[L]-H.node1.getLayout()[L]})}),Y(I,function(R){var k=0,H=0;Y(R.outEdges,function(U){U.setLayout({sy:k},!0),k+=U.getLayout().dy}),Y(R.inEdges,function(U){U.setLayout({ty:H},!0),H+=U.getLayout().dy})})}(u,h,i,r,a,s,0!==jt(u,function(f){return 0===f.getLayout().value}).length?0:e.get("layoutIterations"),e.get("orient"),e.get("nodeAlign"))})}function MC(n){var t=n.hostGraph.data.getRawDataItem(n.dataIndex);return null!=t.depth&&t.depth>=0}function f_(n,t,e,i,r){var o="vertical"===r?"x":"y";Y(n,function(a){var s,l,u;a.sort(function(v,m){return v.getLayout()[o]-m.getLayout()[o]});for(var h=0,f=a.length,p="vertical"===r?"dx":"dy",g=0;g<f;g++)(u=h-(l=a[g]).getLayout()[o])>0&&(s=l.getLayout()[o]+u,l.setLayout("vertical"===r?{x:s}:{y:s},!0)),h=l.getLayout()[o]+l.getLayout()[p]+t;if((u=h-t-("vertical"===r?i:e))>0)for(s=l.getLayout()[o]-u,l.setLayout("vertical"===r?{x:s}:{y:s},!0),h=s,g=f-2;g>=0;--g)(u=(l=a[g]).getLayout()[o]+l.getLayout()[p]+t-h)>0&&(s=l.getLayout()[o]-u,l.setLayout("vertical"===r?{x:s}:{y:s},!0)),h=l.getLayout()[o]})}function qk(n,t,e){Y(n.slice().reverse(),function(i){Y(i,function(r){if(r.outEdges.length){var o=Uu(r.outEdges,Kk,e)/Uu(r.outEdges,Tv);if(isNaN(o)){var a=r.outEdges.length;o=a?Uu(r.outEdges,Zk,e)/a:0}if("vertical"===e){var s=r.getLayout().x+(o-Hu(r,e))*t;r.setLayout({x:s},!0)}else{var l=r.getLayout().y+(o-Hu(r,e))*t;r.setLayout({y:l},!0)}}})})}function Kk(n,t){return Hu(n.node2,t)*n.getValue()}function Zk(n,t){return Hu(n.node2,t)}function Jk(n,t){return Hu(n.node1,t)*n.getValue()}function Qk(n,t){return Hu(n.node1,t)}function Hu(n,t){return"vertical"===t?n.getLayout().x+n.getLayout().dx/2:n.getLayout().y+n.getLayout().dy/2}function Tv(n){return n.getValue()}function Uu(n,t,e){for(var i=0,r=n.length,o=-1;++o<r;){var a=+t(n[o],e);isNaN(a)||(i+=a)}return i}function $k(n,t,e){Y(n,function(i){Y(i,function(r){if(r.inEdges.length){var o=Uu(r.inEdges,Jk,e)/Uu(r.inEdges,Tv);if(isNaN(o)){var a=r.inEdges.length;o=a?Uu(r.inEdges,Qk,e)/a:0}if("vertical"===e){var s=r.getLayout().x+(o-Hu(r,e))*t;r.setLayout({x:s},!0)}else{var l=r.getLayout().y+(o-Hu(r,e))*t;r.setLayout({y:l},!0)}}})})}function eP(n){n.eachSeriesByType("sankey",function(t){var e=t.getGraph().nodes;if(e.length){var i=1/0,r=-1/0;Y(e,function(o){var a=o.getLayout().value;a<i&&(i=a),a>r&&(r=a)}),Y(e,function(o){var a=new so({type:"color",mappingMethod:"linear",dataExtent:[i,r],visual:t.get("color")}).mapValueToVisual(o.getLayout().value),s=o.getModel().get(["itemStyle","color"]);null!=s?(o.setVisual("color",s),o.setVisual("style",{fill:s})):(o.setVisual("color",a),o.setVisual("style",{fill:a}))})}})}var LC=function(){function n(){}return n.prototype.getInitialData=function(t,e){var i,r,o=e.getComponent("xAxis",this.get("xAxisIndex")),a=e.getComponent("yAxis",this.get("yAxisIndex")),s=o.get("type"),l=a.get("type");"category"===s?(t.layout="horizontal",i=o.getOrdinalMeta(),r=!0):"category"===l?(t.layout="vertical",i=a.getOrdinalMeta(),r=!0):t.layout=t.layout||"horizontal";var u=["x","y"],h="horizontal"===t.layout?0:1,f=this._baseAxisDim=u[h],p=u[1-h],g=[o,a],v=g[h].get("type"),m=g[1-h].get("type"),y=t.data;if(y&&r){var b=[];Y(y,function(I,A){var L;rt(I)?(L=I.slice(),I.unshift(A)):rt(I.value)?((L=se({},I)).value=L.value.slice(),I.value.unshift(A)):L=I,b.push(L)}),t.data=b}var S=this.defaultValueDimensions,E=[{name:f,type:Rg(v),ordinalMeta:i,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:p,type:Rg(m),dimsDef:S.slice()}];return Fh(this,{coordDimensions:E,dimensionsCount:S.length+1,encodeDefaulter:Lt(Tx,E,this)})},n.prototype.getBaseAxis=function(){var t=this._baseAxisDim;return this.ecModel.getComponent(t+"Axis",this.get(t+"AxisIndex")).axis},n}(),DC=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],e.visualDrawType="stroke",e}return ue(t,n),t.type="series.boxplot",t.dependencies=["xAxis","yAxis","grid"],t.defaultOption={zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},t}(Ei);lt(DC,LC,!0);var tP=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return ue(t,n),t.prototype.render=function(e,i,r){var o=e.getData(),a=this.group,s=this._data;this._data||a.removeAll();var l="horizontal"===e.get("layout")?1:0;o.diff(s).add(function(u){if(o.hasValue(u)){var h=NC(o.getItemLayout(u),o,u,l,!0);o.setItemGraphicEl(u,h),a.add(h)}}).update(function(u,h){var f=s.getItemGraphicEl(h);if(o.hasValue(u)){var p=o.getItemLayout(u);f?(ks(f),RC(p,f,o,u)):f=NC(p,o,u,l),a.add(f),o.setItemGraphicEl(u,f)}else a.remove(f)}).remove(function(u){var h=s.getItemGraphicEl(u);h&&a.remove(h)}).execute(),this._data=o},t.prototype.remove=function(e){var i=this.group,r=this._data;this._data=null,r&&r.eachItemGraphicEl(function(o){o&&i.remove(o)})},t.type="boxplot",t}(vi),nP=function(){},iP=function(n){function t(e){var i=n.call(this,e)||this;return i.type="boxplotBoxPath",i}return ue(t,n),t.prototype.getDefaultShape=function(){return new nP},t.prototype.buildPath=function(e,i){var r=i.points,o=0;for(e.moveTo(r[o][0],r[o][1]),o++;o<4;o++)e.lineTo(r[o][0],r[o][1]);for(e.closePath();o<r.length;o++)e.moveTo(r[o][0],r[o][1]),o++,e.lineTo(r[o][0],r[o][1])},t}(Mn);function NC(n,t,e,i,r){var o=n.ends,a=new iP({shape:{points:r?rP(o,i,n):o}});return RC(n,a,t,e,r),a}function RC(n,t,e,i,r){(0,zf[r?"initProps":"updateProps"])(t,{shape:{points:n.ends}},e.hostModel,i),t.useStyle(e.getItemVisual(i,"style")),t.style.strokeNoScale=!0,t.z2=100;var a=e.getItemModel(i);W(t,a),_(t,a.get(["emphasis","focus"]),a.get(["emphasis","blurScope"]))}function rP(n,t,e){return Ve(n,function(i){return(i=i.slice())[t]=e.initBaseline,i})}function oP(n,t){}var jd=Y;function aP(n){var i,r,t=(i=[],r=[],n.eachSeriesByType("boxplot",function(o){var a=o.getBaseAxis(),s=pe(r,a);s<0&&(r[s=r.length]=a,i[s]={axis:a,seriesModels:[]}),i[s].seriesModels.push(o)}),i);jd(t,function(e){var i=e.seriesModels;i.length&&(function(r){var o,a,s=r.axis,l=r.seriesModels,u=l.length,h=r.boxWidthList=[],f=r.boxOffsetList=[],p=[];if("category"===s.type)a=s.getBandWidth();else{var g=0;jd(l,function(S){g=Math.max(g,S.getData().count())}),o=s.getExtent(),Math.abs(o[1]-o[0])}jd(l,function(S){var E=S.get("boxWidth");rt(E)||(E=[E,E]),p.push([kt(E[0],a)||0,kt(E[1],a)||0])});var v=.8*a-2,m=v/u*.3,y=(v-m*(u-1))/u,b=y/2-v/2;jd(l,function(S,E){f.push(b),b+=m+y,h.push(Math.min(Math.max(y,p[E][0]),p[E][1]))})}(e),jd(i,function(r,o){!function(a,s,l){var u=a.coordinateSystem,h=a.getData(),f=l/2,p="horizontal"===a.get("layout")?0:1,g=1-p,v=["x","y"],m=h.mapDimension(v[p]),y=h.mapDimensionsAll(v[g]);if(!(null==m||y.length<5))for(var b=0;b<h.count();b++){var S=h.get(m,b),E=H(S,y[2],b),I=H(S,y[0],b),A=H(S,y[1],b),L=H(S,y[3],b),R=H(S,y[4],b),k=[];U(k,A,!1),U(k,L,!0),k.push(I,A,R,L),G(k,I),G(k,R),G(k,E),h.setItemLayout(b,{initBaseline:E[g],ends:k})}function H(K,$,ee){var le,he=h.get($,ee),ge=[];return ge[p]=K,ge[g]=he,isNaN(K)||isNaN(he)?le=[NaN,NaN]:(le=u.dataToPoint(ge))[p]+=s,le}function U(K,$,ee){var le=$.slice(),he=$.slice();le[p]+=f,he[p]-=f,ee?K.push(le,he):K.push(he,le)}function G(K,$){var ee=$.slice(),le=$.slice();ee[p]-=f,le[p]+=f,K.push(ee,le)}}(r,e.boxOffsetList[o],e.boxWidthList[o])}))})}var sP={type:"echarts:boxplot",transform:function(n){var t=n.upstream;t.sourceFormat!==Fl&&jn("");var i=function(r,o){for(var a=[],s=[],l=(o=o||{}).boundIQR,u="none"===l||0===l,h=0;h<r.length;h++){var f=Kr(r[h].slice()),p=el(f,.25),g=el(f,.5),v=el(f,.75),m=f[0],y=f[f.length-1],b=(l??1.5)*(v-p),S=u?m:Math.max(m,p-b),E=u?y:Math.min(y,v+b),I=o.itemNameFormatter,A=sn(I)?I({value:h}):Jt(I)?I.replace("{value}",h+""):h+"";a.push([A,S,p,g,v,E]);for(var L=0;L<f.length;L++){var R=f[L];(R<S||R>E)&&s.push([A,R])}}return{boxData:a,outliers:s}}(t.getRawData(),n.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:i.boxData},{data:i.outliers}]}},lP=["color","borderColor"],uP=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return ue(t,n),t.prototype.render=function(e,i,r){this.group.removeClipPath(),this._updateDrawMode(e),this._isLargeDraw?this._renderLarge(e):this._renderNormal(e)},t.prototype.incrementalPrepareRender=function(e,i,r){this._clear(),this._updateDrawMode(e)},t.prototype.incrementalRender=function(e,i,r,o){this._isLargeDraw?this._incrementalRenderLarge(e,i):this._incrementalRenderNormal(e,i)},t.prototype._updateDrawMode=function(e){var i=e.pipelineContext.large;null!=this._isLargeDraw&&i===this._isLargeDraw||(this._isLargeDraw=i,this._clear())},t.prototype._renderNormal=function(e){var i=e.getData(),r=this._data,o=this.group,a=i.getLayout("isSimpleBox"),s=e.get("clip",!0),l=e.coordinateSystem,u=l.getArea&&l.getArea();this._data||o.removeAll(),i.diff(r).add(function(h){if(i.hasValue(h)){var f=i.getItemLayout(h);if(s&&OC(u,f))return;var p=d_(f,0,!0);Vi(p,{shape:{points:f.ends}},e,h),p_(p,i,h,a),o.add(p),i.setItemGraphicEl(h,p)}}).update(function(h,f){var p=r.getItemGraphicEl(f);if(i.hasValue(h)){var g=i.getItemLayout(h);s&&OC(u,g)?o.remove(p):(p?(Un(p,{shape:{points:g.ends}},e,h),ks(p)):p=d_(g),p_(p,i,h,a),o.add(p),i.setItemGraphicEl(h,p))}else o.remove(p)}).remove(function(h){var f=r.getItemGraphicEl(h);f&&o.remove(f)}).execute(),this._data=i},t.prototype._renderLarge=function(e){this._clear(),PC(e,this.group);var i=e.get("clip",!0)?iv(e.coordinateSystem,!1,e):null;i?this.group.setClipPath(i):this.group.removeClipPath()},t.prototype._incrementalRenderNormal=function(e,i){for(var r,o=i.getData(),a=o.getLayout("isSimpleBox");null!=(r=e.next());){var s=d_(o.getItemLayout(r));p_(s,o,r,a),s.incremental=!0,this.group.add(s)}},t.prototype._incrementalRenderLarge=function(e,i){PC(i,this.group,!0)},t.prototype.remove=function(e){this._clear()},t.prototype._clear=function(){this.group.removeAll(),this._data=null},t.type="candlestick",t}(vi),cP=function(){},hP=function(n){function t(e){var i=n.call(this,e)||this;return i.type="normalCandlestickBox",i}return ue(t,n),t.prototype.getDefaultShape=function(){return new cP},t.prototype.buildPath=function(e,i){var r=i.points;this.__simpleBox?(e.moveTo(r[4][0],r[4][1]),e.lineTo(r[6][0],r[6][1])):(e.moveTo(r[0][0],r[0][1]),e.lineTo(r[1][0],r[1][1]),e.lineTo(r[2][0],r[2][1]),e.lineTo(r[3][0],r[3][1]),e.closePath(),e.moveTo(r[4][0],r[4][1]),e.lineTo(r[5][0],r[5][1]),e.moveTo(r[6][0],r[6][1]),e.lineTo(r[7][0],r[7][1]))},t}(Mn);function d_(n,t,e){var i=n.ends;return new hP({shape:{points:e?fP(i,n):i},z2:100})}function OC(n,t){for(var e=!0,i=0;i<t.ends.length;i++)if(n.contain(t.ends[i][0],t.ends[i][1])){e=!1;break}return e}function p_(n,t,e,i){var r=t.getItemModel(e);n.useStyle(t.getItemVisual(e,"style")),n.style.strokeNoScale=!0,n.__simpleBox=i,W(n,r)}function fP(n,t){return Ve(n,function(e){return(e=e.slice())[1]=t.initBaseline,e})}var dP=function(){},kC=function(n){function t(e){var i=n.call(this,e)||this;return i.type="largeCandlestickBox",i}return ue(t,n),t.prototype.getDefaultShape=function(){return new dP},t.prototype.buildPath=function(e,i){for(var r=i.points,o=0;o<r.length;)if(this.__sign===r[o++]){var a=r[o++];e.moveTo(a,r[o++]),e.lineTo(a,r[o++])}else o+=3},t}(Mn);function PC(n,t,e){var i=n.getData().getLayout("largePoints"),r=new kC({shape:{points:i},__sign:1});t.add(r);var o=new kC({shape:{points:i},__sign:-1});t.add(o),BC(1,r,n),BC(-1,o,n),e&&(r.incremental=!0,o.incremental=!0)}function BC(n,t,e,i){var r=e.get(["itemStyle",n>0?"borderColor":"borderColor0"])||e.get(["itemStyle",n>0?"color":"color0"]),o=e.getModel("itemStyle").getItemStyle(lP);t.useStyle(o),t.style.fill=null,t.style.stroke=r}var FC=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],e}return ue(t,n),t.prototype.getShadowDim=function(){return"open"},t.prototype.brushSelector=function(e,i,r){var o=i.getItemLayout(e);return o&&r.rect(o.brushRect)},t.type="series.candlestick",t.dependencies=["xAxis","yAxis","grid"],t.defaultOption={zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},t}(Ei);function pP(n){n&&rt(n.series)&&Y(n.series,function(t){Bt(t)&&"k"===t.type&&(t.type="candlestick")})}lt(FC,LC,!0);var gP=["itemStyle","borderColor"],vP=["itemStyle","borderColor0"],mP=["itemStyle","color"],yP=["itemStyle","color0"],_P={seriesType:"candlestick",plan:Eh(),performRawSeries:!0,reset:function(n,t){function e(r,o){return o.get(r>0?mP:yP)}function i(r,o){return o.get(r>0?gP:vP)}if(!t.isSeriesFiltered(n))return!n.pipelineContext.large&&{progress:function(r,o){for(var a;null!=(a=r.next());){var s=o.getItemModel(a),l=o.getItemLayout(a).sign,u=s.getItemStyle();u.fill=e(l,s),u.stroke=i(l,s)||u.fill,se(o.ensureUniqueItemVisual(a,"style"),u)}}}}},xP=typeof Float32Array<"u"?Float32Array:Array,bP={seriesType:"candlestick",plan:Eh(),reset:function(n){var f,p,g,v,m,y,b,S,t=n.coordinateSystem,e=n.getData(),i=(p=e,m="category"===(v=(f=n).getBaseAxis()).type?v.getBandWidth():(g=v.getExtent(),Math.abs(g[1]-g[0])/p.count()),y=kt(ln(f.get("barMaxWidth"),m),m),b=kt(ln(f.get("barMinWidth"),1),m),null!=(S=f.get("barWidth"))?kt(S,m):Math.max(Math.min(m/2,y),b)),r=["x","y"],o=e.getDimensionIndex(e.mapDimension(r[0])),a=Ve(e.mapDimensionsAll(r[1]),e.getDimensionIndex,e),s=a[0],l=a[1],u=a[2],h=a[3];if(e.setLayout({candleWidth:i,isSimpleBox:i<=1.3}),!(o<0||a.length<4))return{progress:n.pipelineContext.large?function(f,p){for(var g,v,m=new xP(4*f.count),y=0,b=[],S=[],E=p.getStore();null!=(v=f.next());){var I=E.get(o,v),A=E.get(s,v),L=E.get(l,v),R=E.get(u,v),k=E.get(h,v);isNaN(I)||isNaN(R)||isNaN(k)?(m[y++]=NaN,y+=3):(m[y++]=HC(E,v,A,L,l),b[0]=I,b[1]=R,g=t.dataToPoint(b,null,S),m[y++]=g?g[0]:NaN,m[y++]=g?g[1]:NaN,b[1]=k,g=t.dataToPoint(b,null,S),m[y++]=g?g[1]:NaN)}p.setLayout("largePoints",m)}:function(f,p){for(var g,v=p.getStore();null!=(g=f.next());){var m=v.get(o,g),y=v.get(s,g),b=v.get(l,g),S=v.get(u,g),E=v.get(h,g),I=Math.min(y,b),A=Math.max(y,b),L=G(I,m),R=G(A,m),k=G(S,m),H=G(E,m),U=[];K(U,R,0),K(U,L,1),U.push(ee(H),ee(R),ee(k),ee(L)),p.setItemLayout(g,{sign:HC(v,g,y,b,l),initBaseline:y>b?R[1]:L[1],ends:U,brushRect:(le=S,he=E,ge=m,me=void 0,be=void 0,me=G(le,ge),be=G(he,ge),me[0]-=i/2,be[0]-=i/2,{x:me[0],y:me[1],width:i,height:be[1]-me[1]})})}var le,he,ge,me,be;function G(le,he){var ge=[];return ge[0]=he,ge[1]=le,isNaN(he)||isNaN(le)?[NaN,NaN]:t.dataToPoint(ge)}function K(le,he,ge){var me=he.slice(),be=he.slice();me[0]=qp(me[0]+i/2,1,!1),be[0]=qp(be[0]-i/2,1,!0),ge?le.push(me,be):le.push(be,me)}function ee(le){return le[0]=qp(le[0],1),le}}}}};function HC(n,t,e,i,r){return e>i?-1:e<i?1:t>0?n.get(r,t-1)<=i?1:-1:1}function UC(n,t){var e=t.rippleEffectColor||t.color;n.eachChild(function(i){i.attr({z:t.z,zlevel:t.zlevel,style:{stroke:"stroke"===t.brushType?e:null,fill:"fill"===t.brushType?e:null}})})}var SP=function(n){function t(e,i){var r=n.call(this)||this,o=new Id(e,i),a=new Ft;return r.add(o),r.add(a),r.updateData(e,i),r}return ue(t,n),t.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},t.prototype.startEffectAnimation=function(e){for(var i=e.symbolType,r=e.color,o=e.rippleNumber,a=this.childAt(1),s=0;s<o;s++){var l=Er(i,-1,-1,2,2,r);l.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var u=-s/o*e.period+e.effectOffset;l.animate("",!0).when(e.period,{scaleX:e.rippleScale/2,scaleY:e.rippleScale/2}).delay(u).start(),l.animateStyle(!0).when(e.period,{opacity:0}).delay(u).start(),a.add(l)}UC(a,e)},t.prototype.updateEffectAnimation=function(e){for(var i=this._effectCfg,r=this.childAt(1),o=["symbolType","period","rippleScale","rippleNumber"],a=0;a<o.length;a++){var s=o[a];if(i[s]!==e[s])return this.stopEffectAnimation(),void this.startEffectAnimation(e)}UC(r,e)},t.prototype.highlight=function(){$a(this)},t.prototype.downplay=function(){Io(this)},t.prototype.getSymbolType=function(){var e=this.childAt(0);return e&&e.getSymbolType()},t.prototype.updateData=function(e,i){var r=this,o=e.hostModel;this.childAt(0).updateData(e,i);var a=this.childAt(1),s=e.getItemModel(i),l=e.getItemVisual(i,"symbol"),u=od(e.getItemVisual(i,"symbolSize")),h=e.getItemVisual(i,"style"),f=h&&h.fill;a.setScale(u),a.traverse(function(m){m.setStyle("fill",f)});var p=Ah(e.getItemVisual(i,"symbolOffset"),u);p&&(a.x=p[0],a.y=p[1]);var g=e.getItemVisual(i,"symbolRotate");a.rotation=(g||0)*Math.PI/180||0;var v={};v.showEffectOn=o.get("showEffectOn"),v.rippleScale=s.get(["rippleEffect","scale"]),v.brushType=s.get(["rippleEffect","brushType"]),v.period=1e3*s.get(["rippleEffect","period"]),v.effectOffset=i/e.count(),v.z=o.getShallow("z")||0,v.zlevel=o.getShallow("zlevel")||0,v.symbolType=l,v.color=f,v.rippleEffectColor=s.get(["rippleEffect","color"]),v.rippleNumber=s.get(["rippleEffect","number"]),this.off("mouseover").off("mouseout").off("emphasis").off("normal"),"render"===v.showEffectOn?(this._effectCfg?this.updateEffectAnimation(v):this.startEffectAnimation(v),this._effectCfg=v):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(m){"emphasis"===m?"render"!==v.showEffectOn&&r.startEffectAnimation(v):"normal"===m&&"render"!==v.showEffectOn&&r.stopEffectAnimation()}),this._effectCfg=v,_(this)},t.prototype.fadeOut=function(e){this.off("mouseover").off("mouseout"),e&&e()},t}(Ft),wP=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return ue(t,n),t.prototype.init=function(){this._symbolDraw=new Ad(SP)},t.prototype.render=function(e,i,r){var o=e.getData(),a=this._symbolDraw;a.updateData(o,{clipShape:this._getClipShape(e)}),this.group.add(a.group)},t.prototype._getClipShape=function(e){var i=e.coordinateSystem,r=i&&i.getArea&&i.getArea();return e.get("clip",!0)?r:null},t.prototype.updateTransform=function(e,i,r){var o=e.getData();this.group.dirty();var a=Md("").reset(e,i,r);a.progress&&a.progress({start:0,end:o.count(),count:o.count()},o),this._symbolDraw.updateLayout()},t.prototype._updateGroupTransform=function(e){var i=e.coordinateSystem;i&&i.getRoamTransform&&(this.group.transform=Ql(i.getRoamTransform()),this.group.decomposeTransform())},t.prototype.remove=function(e,i){this._symbolDraw&&this._symbolDraw.remove(!0)},t.type="effectScatter",t}(vi),TP=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return ue(t,n),t.prototype.getInitialData=function(e,i){return gl(null,this,{useEncodeDefaulter:!0})},t.prototype.brushSelector=function(e,i,r){return r.point(i.getItemLayout(e))},t.type="series.effectScatter",t.dependencies=["grid","polar"],t.defaultOption={coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},t}(Ei),zC=function(n){function t(e,i,r){var o=n.call(this)||this;return o.add(o.createLine(e,i,r)),o._updateEffectSymbol(e,i),o}return ue(t,n),t.prototype.createLine=function(e,i,r){return new U0(e,i,r)},t.prototype._updateEffectSymbol=function(e,i){var r=e.getItemModel(i).getModel("effect"),o=r.get("symbolSize"),a=r.get("symbol");rt(o)||(o=[o,o]);var s=e.getItemVisual(i,"style"),l=r.get("color")||s&&s.stroke,u=this.childAt(1);this._symbolType!==a&&(this.remove(u),(u=Er(a,-.5,-.5,1,1,l)).z2=100,u.culling=!0,this.add(u)),u&&(u.setStyle("shadowColor",l),u.setStyle(r.getItemStyle(["color"])),u.scaleX=o[0],u.scaleY=o[1],u.setColor(l),this._symbolType=a,this._symbolScale=o,this._updateEffectAnimation(e,r,i))},t.prototype._updateEffectAnimation=function(e,i,r){var o=this.childAt(1);if(o){var a=this,s=e.getItemLayout(r),l=1e3*i.get("period"),u=i.get("loop"),h=i.get("constantSpeed"),f=zn(i.get("delay"),function(v){return v/e.count()*l/3});if(o.ignore=!0,this._updateAnimationPoints(o,s),h>0&&(l=this._getLineLength(o)/h*1e3),(l!==this._period||u!==this._loop)&&(o.stopAnimation(),l>0)){var p=void 0;p="function"==typeof f?f(r):f,o.__t>0&&(p=-l*o.__t),o.__t=0;var g=o.animate("",u).when(l,{__t:1}).delay(p).during(function(){a._updateSymbolPosition(o)});u||g.done(function(){a.remove(o)}),g.start()}this._period=l,this._loop=u}},t.prototype._getLineLength=function(e){return Re(e.__p1,e.__cp1)+Re(e.__cp1,e.__p2)},t.prototype._updateAnimationPoints=function(e,i){e.__p1=i[0],e.__p2=i[1],e.__cp1=i[2]||[(i[0][0]+i[1][0])/2,(i[0][1]+i[1][1])/2]},t.prototype.updateData=function(e,i,r){this.childAt(0).updateData(e,i,r),this._updateEffectSymbol(e,i)},t.prototype._updateSymbolPosition=function(e){var i=e.__p1,r=e.__p2,o=e.__cp1,a=e.__t,s=[e.x,e.y],l=s.slice(),u=yr,h=Zc;s[0]=u(i[0],o[0],r[0],a),s[1]=u(i[1],o[1],r[1],a);var f=h(i[0],o[0],r[0],a),p=h(i[1],o[1],r[1],a);e.rotation=-Math.atan2(p,f)-Math.PI/2,"line"!==this._symbolType&&"rect"!==this._symbolType&&"roundRect"!==this._symbolType||(void 0!==e.__lastT&&e.__lastT<e.__t?(e.scaleY=1.05*Re(l,s),1===a&&(s[0]=l[0]+(s[0]-l[0])/2,s[1]=l[1]+(s[1]-l[1])/2)):e.scaleY=1===e.__lastT?2*Re(i,s):this._symbolScale[1]),e.__lastT=e.__t,e.ignore=!1,e.x=s[0],e.y=s[1]},t.prototype.updateLayout=function(e,i){this.childAt(0).updateLayout(e,i);var r=e.getItemModel(i).getModel("effect");this._updateEffectAnimation(e,r,i)},t}(Ft),VC=function(n){function t(e,i,r){var o=n.call(this)||this;return o._createPolyline(e,i,r),o}return ue(t,n),t.prototype._createPolyline=function(e,i,r){var o=e.getItemLayout(i),a=new na({shape:{points:o}});this.add(a),this._updateCommonStl(e,i,r)},t.prototype.updateData=function(e,i,r){var o=e.hostModel;Un(this.childAt(0),{shape:{points:e.getItemLayout(i)}},o,i),this._updateCommonStl(e,i,r)},t.prototype._updateCommonStl=function(e,i,r){var o=this.childAt(0),a=e.getItemModel(i),s=r&&r.emphasisLineStyle;r&&!e.hasItemOption||(s=a.getModel(["emphasis","lineStyle"]).getLineStyle()),o.useStyle(e.getItemVisual(i,"style")),o.style.fill=null,o.style.strokeNoScale=!0,o.ensureState("emphasis").style=s,_(this)},t.prototype.updateLayout=function(e,i){this.childAt(0).setShape("points",e.getItemLayout(i))},t}(Ft),EP=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e._lastFrame=0,e._lastFramePercent=0,e}return ue(t,n),t.prototype.createLine=function(e,i,r){return new VC(e,i,r)},t.prototype._updateAnimationPoints=function(e,i){this._points=i;for(var r=[0],o=0,a=1;a<i.length;a++)o+=Re(i[a-1],i[a]),r.push(o);if(0!==o){for(a=0;a<r.length;a++)r[a]/=o;this._offsets=r,this._length=o}else this._length=0},t.prototype._getLineLength=function(){return this._length},t.prototype._updateSymbolPosition=function(e){var i=e.__t,r=this._points,o=this._offsets,a=r.length;if(o){var s,l=this._lastFrame;if(i<this._lastFramePercent){for(s=Math.min(l+1,a-1);s>=0&&!(o[s]<=i);s--);s=Math.min(s,a-2)}else{for(s=l;s<a&&!(o[s]>i);s++);s=Math.min(s-1,a-2)}var u=(i-o[s])/(o[s+1]-o[s]),h=r[s],f=r[s+1];e.x=h[0]*(1-u)+u*f[0],e.y=h[1]*(1-u)+u*f[1],e.rotation=-Math.atan2(f[1]-h[1],f[0]-h[0])-Math.PI/2,this._lastFrame=s,this._lastFramePercent=i,e.ignore=!1}},t}(zC),CP=function(){this.polyline=!1,this.curveness=0,this.segs=[]},GC=function(n){function t(e){return n.call(this,e)||this}return ue(t,n),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new CP},t.prototype.buildPath=function(e,i){var r=i.segs,o=i.curveness;if(i.polyline)for(var a=0;a<r.length;){var s=r[a++];if(s>0){e.moveTo(r[a++],r[a++]);for(var l=1;l<s;l++)e.lineTo(r[a++],r[a++])}}else for(a=0;a<r.length;){var u=r[a++],h=r[a++],f=r[a++],p=r[a++];e.moveTo(u,h),o>0?e.quadraticCurveTo((u+f)/2-(h-p)*o,(h+p)/2-(f-u)*o,f,p):e.lineTo(f,p)}},t.prototype.findDataIndex=function(e,i){var r=this.shape,o=r.segs,a=r.curveness,s=this.style.lineWidth;if(r.polyline)for(var l=0,u=0;u<o.length;){var h=o[u++];if(h>0)for(var f=o[u++],p=o[u++],g=1;g<h;g++)if(da(f,p,v=o[u++],m=o[u++],s,e,i))return l;l++}else for(l=0,u=0;u<o.length;){f=o[u++],p=o[u++];var v=o[u++],m=o[u++];if(a>0){if(pu(f,p,(f+v)/2-(p-m)*a,(p+m)/2-(v-f)*a,v,m,s,e,i))return l}else if(da(f,p,v,m,s,e,i))return l;l++}return-1},t}(Mn),IP=function(){function n(){this.group=new Ft}return n.prototype.isPersistent=function(){return!this._incremental},n.prototype.updateData=function(t){this.group.removeAll();var e=new GC({rectHover:!0,cursor:"default"});e.setShape({segs:t.getLayout("linesPoints")}),this._setCommon(e,t),this.group.add(e),this._incremental=null},n.prototype.incrementalPrepareUpdate=function(t){this.group.removeAll(),this._clearIncremental(),t.count()>5e5?(this._incremental||(this._incremental=new Pf({silent:!0})),this.group.add(this._incremental)):this._incremental=null},n.prototype.incrementalUpdate=function(t,e){var i=new GC;i.setShape({segs:e.getLayout("linesPoints")}),this._setCommon(i,e,!!this._incremental),this._incremental?this._incremental.addDisplayable(i,!0):(i.rectHover=!0,i.cursor="default",i.__startIndex=t.start,this.group.add(i))},n.prototype.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},n.prototype._setCommon=function(t,e,i){var r=e.hostModel;t.setShape({polyline:r.get("polyline"),curveness:r.get(["lineStyle","curveness"])}),t.useStyle(r.getModel("lineStyle").getLineStyle()),t.style.strokeNoScale=!0;var o=e.getVisual("style");if(o&&o.stroke&&t.setStyle("stroke",o.stroke),t.setStyle("fill",null),!i){var a=pn(t);a.seriesIndex=r.seriesIndex,t.on("mousemove",function(s){a.dataIndex=null;var l=t.findDataIndex(s.offsetX,s.offsetY);l>0&&(a.dataIndex=l+t.__startIndex)})}},n.prototype._clearIncremental=function(){var t=this._incremental;t&&t.clearDisplaybles()},n}(),WC={seriesType:"lines",plan:Eh(),reset:function(n){var t=n.coordinateSystem,e=n.get("polyline"),i=n.pipelineContext.large;return{progress:function(r,o){var a=[];if(i){var s=void 0,l=r.end-r.start;if(e){for(var u=0,h=r.start;h<r.end;h++)u+=n.getLineCoordsCount(h);s=new Float32Array(l+2*u)}else s=new Float32Array(4*l);var f=0,p=[];for(h=r.start;h<r.end;h++){var g=n.getLineCoords(h,a);e&&(s[f++]=g);for(var v=0;v<g;v++)p=t.dataToPoint(a[v],!1,p),s[f++]=p[0],s[f++]=p[1]}o.setLayout("linesPoints",s)}else for(h=r.start;h<r.end;h++){var m=o.getItemModel(h),y=(g=n.getLineCoords(h,a),[]);if(e)for(var b=0;b<g;b++)y.push(t.dataToPoint(a[b]));else{y[0]=t.dataToPoint(a[0]),y[1]=t.dataToPoint(a[1]);var S=m.get(["lineStyle","curveness"]);+S&&(y[2]=[(y[0][0]+y[1][0])/2-(y[0][1]-y[1][1])*S,(y[0][1]+y[1][1])/2-(y[1][0]-y[0][0])*S])}o.setItemLayout(h,y)}}}}},AP=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return ue(t,n),t.prototype.render=function(e,i,r){var o=e.getData(),a=this._updateLineDraw(o,e),s=e.get("zlevel"),l=e.get(["effect","trailLength"]),u=r.getZr(),h="svg"===u.painter.getType();h||u.painter.getLayer(s).clear(!0),null==this._lastZlevel||h||u.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(e)&&l&&(h||u.configLayer(s,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(l/10+.9,1),0)})),a.updateData(o);var f=e.get("clip",!0)&&iv(e.coordinateSystem,!1,e);f?this.group.setClipPath(f):this.group.removeClipPath(),this._lastZlevel=s,this._finished=!0},t.prototype.incrementalPrepareRender=function(e,i,r){var o=e.getData();this._updateLineDraw(o,e).incrementalPrepareUpdate(o),this._clearLayer(r),this._finished=!1},t.prototype.incrementalRender=function(e,i,r){this._lineDraw.incrementalUpdate(e,i.getData()),this._finished=e.end===i.getData().count()},t.prototype.updateTransform=function(e,i,r){var o=e.getData(),a=e.pipelineContext;if(!this._finished||a.large||a.progressiveRender)return{update:!0};var s=WC.reset(e,i,r);s.progress&&s.progress({start:0,end:o.count(),count:o.count()},o),this._lineDraw.updateLayout(),this._clearLayer(r)},t.prototype._updateLineDraw=function(e,i){var r=this._lineDraw,o=this._showEffect(i),a=!!i.get("polyline"),s=i.pipelineContext.large;return r&&o===this._hasEffet&&a===this._isPolyline&&s===this._isLargeDraw||(r&&r.remove(),r=this._lineDraw=s?new IP:new z0(a?o?EP:VC:o?zC:U0),this._hasEffet=o,this._isPolyline=a,this._isLargeDraw=s),this.group.add(r.group),r},t.prototype._showEffect=function(e){return!!e.get(["effect","show"])},t.prototype._clearLayer=function(e){var i=e.getZr();"svg"===i.painter.getType()||null==this._lastZlevel||i.painter.getLayer(this._lastZlevel).clear(!0)},t.prototype.remove=function(e,i){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(i)},t.prototype.dispose=function(e,i){this.remove(e,i)},t.type="lines",t}(vi),MP=typeof Uint32Array>"u"?Array:Uint32Array,LP=typeof Float64Array>"u"?Array:Float64Array;function YC(n){var t=n.data;t&&t[0]&&t[0][0]&&t[0][0].coord&&(n.data=Ve(t,function(e){var i={coords:[e[0].coord,e[1].coord]};return e[0].name&&(i.fromName=e[0].name),e[1].name&&(i.toName=e[1].name),et([i,e[0],e[1]])}))}var DP=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.visualStyleAccessPath="lineStyle",e.visualDrawType="stroke",e}return ue(t,n),t.prototype.init=function(e){e.data=e.data||[],YC(e);var i=this._processFlatCoordsArray(e.data);this._flatCoords=i.flatCoords,this._flatCoordsOffset=i.flatCoordsOffset,i.flatCoords&&(e.data=new Float32Array(i.count)),n.prototype.init.apply(this,arguments)},t.prototype.mergeOption=function(e){if(YC(e),e.data){var i=this._processFlatCoordsArray(e.data);this._flatCoords=i.flatCoords,this._flatCoordsOffset=i.flatCoordsOffset,i.flatCoords&&(e.data=new Float32Array(i.count))}n.prototype.mergeOption.apply(this,arguments)},t.prototype.appendData=function(e){var i=this._processFlatCoordsArray(e.data);i.flatCoords&&(this._flatCoords?(this._flatCoords=Si(this._flatCoords,i.flatCoords),this._flatCoordsOffset=Si(this._flatCoordsOffset,i.flatCoordsOffset)):(this._flatCoords=i.flatCoords,this._flatCoordsOffset=i.flatCoordsOffset),e.data=new Float32Array(i.count)),this.getRawData().appendData(e.data)},t.prototype._getCoordsFromItemModel=function(e){var i=this.getData().getItemModel(e);return i.option instanceof Array?i.option:i.getShallow("coords")},t.prototype.getLineCoordsCount=function(e){return this._flatCoordsOffset?this._flatCoordsOffset[2*e+1]:this._getCoordsFromItemModel(e).length},t.prototype.getLineCoords=function(e,i){if(this._flatCoordsOffset){for(var r=this._flatCoordsOffset[2*e],o=this._flatCoordsOffset[2*e+1],a=0;a<o;a++)i[a]=i[a]||[],i[a][0]=this._flatCoords[r+2*a],i[a][1]=this._flatCoords[r+2*a+1];return o}var s=this._getCoordsFromItemModel(e);for(a=0;a<s.length;a++)i[a]=i[a]||[],i[a][0]=s[a][0],i[a][1]=s[a][1];return s.length},t.prototype._processFlatCoordsArray=function(e){var i=0;if(this._flatCoords&&(i=this._flatCoords.length),"number"==typeof e[0]){for(var r=e.length,o=new MP(r),a=new LP(r),s=0,l=0,u=0,h=0;h<r;){u++;var f=e[h++];o[l++]=s+i,o[l++]=f;for(var p=0;p<f;p++){var g=e[h++],v=e[h++];a[s++]=g,a[s++]=v}}return{flatCoordsOffset:new Uint32Array(o.buffer,0,l),flatCoords:a,count:u}}return{flatCoordsOffset:null,flatCoords:null,count:e.length}},t.prototype.getInitialData=function(e,i){var r=new Uo(["value"],this);return r.hasItemOption=!1,r.initData(e.data,[],function(o,a,s,l){if(o instanceof Array)return NaN;r.hasItemOption=!0;var u=o.value;return null!=u?u instanceof Array?u[l]:u:void 0}),r},t.prototype.formatTooltip=function(e,i,r){var o=this.getData().getItemModel(e),a=o.get("name");if(a)return a;var s=o.get("fromName"),l=o.get("toName"),u=[];return null!=s&&u.push(s),null!=l&&u.push(l),ao("nameValue",{name:u.join(" > ")})},t.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},t.prototype.getProgressive=function(){return this.option.progressive??(this.option.large?1e4:this.get("progressive"))},t.prototype.getProgressiveThreshold=function(){return this.option.progressiveThreshold??(this.option.large?2e4:this.get("progressiveThreshold"))},t.type="series.lines",t.dependencies=["grid","polar","geo","calendar"],t.defaultOption={coordinateSystem:"geo",zlevel:0,z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},t}(Ei);function Ev(n){return n instanceof Array||(n=[n,n]),n}var NP={seriesType:"lines",reset:function(n){var t=Ev(n.get("symbol")),e=Ev(n.get("symbolSize")),i=n.getData();return i.setVisual("fromSymbol",t&&t[0]),i.setVisual("toSymbol",t&&t[1]),i.setVisual("fromSymbolSize",e&&e[0]),i.setVisual("toSymbolSize",e&&e[1]),{dataEach:i.hasItemOption?function(r,o){var a=r.getItemModel(o),s=Ev(a.getShallow("symbol",!0)),l=Ev(a.getShallow("symbolSize",!0));s[0]&&r.setItemVisual(o,"fromSymbol",s[0]),s[1]&&r.setItemVisual(o,"toSymbol",s[1]),l[0]&&r.setItemVisual(o,"fromSymbolSize",l[0]),l[1]&&r.setItemVisual(o,"toSymbolSize",l[1])}:null}}},RP=function(){function n(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var t=ie();this.canvas=t}return n.prototype.update=function(t,e,i,r,o,a){var s=this._getBrush(),l=this._getGradient(o,"inRange"),u=this._getGradient(o,"outOfRange"),h=this.pointSize+this.blurSize,f=this.canvas,p=f.getContext("2d"),g=t.length;f.width=e,f.height=i;for(var v=0;v<g;++v){var m=t[v],y=m[0],b=m[1],S=r(m[2]);p.globalAlpha=S,p.drawImage(s,y-h,b-h)}if(!f.width||!f.height)return f;for(var E=p.getImageData(0,0,f.width,f.height),I=E.data,A=0,L=I.length,R=this.minOpacity,k=this.maxOpacity-R;A<L;){S=I[A+3]/256;var H=4*Math.floor(255*S);if(S>0){var U=a(S)?l:u;S>0&&(S=S*k+R),I[A++]=U[H],I[A++]=U[H+1],I[A++]=U[H+2],I[A++]=U[H+3]*S*256}else A+=4}return p.putImageData(E,0,0),f},n.prototype._getBrush=function(){var t=this._brushCanvas||(this._brushCanvas=ie()),e=this.pointSize+this.blurSize,i=2*e;t.width=i,t.height=i;var r=t.getContext("2d");return r.clearRect(0,0,i,i),r.shadowOffsetX=i,r.shadowBlur=this.blurSize,r.shadowColor="#000",r.beginPath(),r.arc(-e,e,this.pointSize,0,2*Math.PI,!0),r.closePath(),r.fill(),t},n.prototype._getGradient=function(t,e){for(var i=this._gradientPixels,r=i[e]||(i[e]=new Uint8ClampedArray(1024)),o=[0,0,0,0],a=0,s=0;s<256;s++)t[e](s/255,!0,o),r[a++]=o[0],r[a++]=o[1],r[a++]=o[2],r[a++]=o[3];return r},n}();function XC(n){var t=n.dimensions;return"lng"===t[0]&&"lat"===t[1]}var OP=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return ue(t,n),t.prototype.render=function(e,i,r){var o;i.eachComponent("visualMap",function(s){s.eachTargetSeries(function(l){l===e&&(o=s)})}),this.group.removeAll(),this._incrementalDisplayable=null;var a=e.coordinateSystem;"cartesian2d"===a.type||"calendar"===a.type?this._renderOnCartesianAndCalendar(e,r,0,e.getData().count()):XC(a)&&this._renderOnGeo(a,e,o,r)},t.prototype.incrementalPrepareRender=function(e,i,r){this.group.removeAll()},t.prototype.incrementalRender=function(e,i,r,o){var a=i.coordinateSystem;a&&(XC(a)?this.render(i,r,o):this._renderOnCartesianAndCalendar(i,o,e.start,e.end,!0))},t.prototype._renderOnCartesianAndCalendar=function(e,i,r,o,a){var s,l,u,h,f=e.coordinateSystem;if(Wl(f,"cartesian2d")){var p=f.getAxis("x"),g=f.getAxis("y");s=p.getBandWidth(),l=g.getBandWidth(),u=p.scale.getExtent(),h=g.scale.getExtent()}for(var v=this.group,m=e.getData(),y=e.getModel(["emphasis","itemStyle"]).getItemStyle(),b=e.getModel(["blur","itemStyle"]).getItemStyle(),S=e.getModel(["select","itemStyle"]).getItemStyle(),E=xo(e),I=e.get(["emphasis","focus"]),A=e.get(["emphasis","blurScope"]),L=Wl(f,"cartesian2d")?[m.mapDimension("x"),m.mapDimension("y"),m.mapDimension("value")]:[m.mapDimension("time"),m.mapDimension("value")],R=r;R<o;R++){var k=void 0,H=m.getItemVisual(R,"style");if(Wl(f,"cartesian2d")){var U=m.get(L[0],R),G=m.get(L[1],R);if(isNaN(m.get(L[2],R))||U<u[0]||U>u[1]||G<h[0]||G>h[1])continue;var K=f.dataToPoint([U,G]);k=new kn({shape:{x:Math.floor(Math.round(K[0])-s/2),y:Math.floor(Math.round(K[1])-l/2),width:Math.ceil(s),height:Math.ceil(l)},style:H})}else{if(isNaN(m.get(L[1],R)))continue;k=new kn({z2:1,shape:f.dataToRect([m.get(L[0],R)]).contentShape,style:H})}var $=m.getItemModel(R);if(m.hasItemOption){var ee=$.getModel("emphasis");y=ee.getModel("itemStyle").getItemStyle(),b=$.getModel(["blur","itemStyle"]).getItemStyle(),S=$.getModel(["select","itemStyle"]).getItemStyle(),I=ee.get("focus"),A=ee.get("blurScope"),E=xo($)}var le=e.getRawValue(R),he="-";le&&null!=le[2]&&(he=le[2]+""),Fo(k,E,{labelFetcher:e,labelDataIndex:R,defaultOpacity:H.opacity,defaultText:he}),k.ensureState("emphasis").style=y,k.ensureState("blur").style=b,k.ensureState("select").style=S,_(k,I,A),k.incremental=a,a&&(k.states.emphasis.hoverLayer=!0),v.add(k),m.setItemGraphicEl(R,k)}},t.prototype._renderOnGeo=function(e,i,r,o){var a=r.targetVisuals.inRange,s=r.targetVisuals.outOfRange,l=i.getData(),u=this._hmLayer||this._hmLayer||new RP;u.blurSize=i.get("blurSize"),u.pointSize=i.get("pointSize"),u.minOpacity=i.get("minOpacity"),u.maxOpacity=i.get("maxOpacity");var h=e.getViewRect().clone(),f=e.getRoamTransform();h.applyTransform(f);var R,k,H,p=Math.max(h.x,0),g=Math.max(h.y,0),v=Math.min(h.width+h.x,o.getWidth()),m=Math.min(h.height+h.y,o.getHeight()),y=v-p,b=m-g,S=[l.mapDimension("lng"),l.mapDimension("lat"),l.mapDimension("value")],E=l.mapArray(S,function(R,k,H){var U=e.dataToPoint([R,k]);return U[0]-=p,U[1]-=g,U.push(H),U}),I=r.getExtent(),A="visualMap.continuous"===r.type?(k=[((k=r.option.range)[0]-(R=I)[0])/(H=R[1]-R[0]),(k[1]-R[0])/H],function(U){return U>=k[0]&&U<=k[1]}):function(R,k,H){var U=R[1]-R[0],G=(k=Ve(k,function($){return{interval:[($.interval[0]-R[0])/U,($.interval[1]-R[0])/U]}})).length,K=0;return function($){var ee;for(ee=K;ee<G;ee++)if((le=k[ee].interval)[0]<=$&&$<=le[1]){K=ee;break}if(ee===G)for(ee=K-1;ee>=0;ee--){var le;if((le=k[ee].interval)[0]<=$&&$<=le[1]){K=ee;break}}return ee>=0&&ee<G&&H[ee]}}(I,r.getPieceList(),r.option.selected);u.update(E,y,b,a.color.getNormalizer(),{inRange:a.color.getColorMapper(),outOfRange:s.color.getColorMapper()},A);var L=new fr({style:{width:y,height:b,x:p,y:g,image:u.canvas},silent:!0});this.group.add(L)},t.type="heatmap",t}(vi),kP=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return ue(t,n),t.prototype.getInitialData=function(e,i){return gl(null,this,{generateCoord:"value"})},t.prototype.preventIncremental=function(){var e=bh.get(this.get("coordinateSystem"));if(e&&e.dimensions)return"lng"===e.dimensions[0]&&"lat"===e.dimensions[1]},t.type="series.heatmap",t.dependencies=["grid","geo","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",zlevel:0,z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},t}(Ei),PP=["itemStyle","borderWidth"],jC=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],g_=new gi,BP=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return ue(t,n),t.prototype.render=function(e,i,r){var o=this.group,a=e.getData(),s=this._data,l=e.coordinateSystem,u=l.getBaseAxis().isHorizontal(),h=l.master.getRect(),f={ecSize:{width:r.getWidth(),height:r.getHeight()},seriesModel:e,coordSys:l,coordSysExtent:[[h.x,h.x+h.width],[h.y,h.y+h.height]],isHorizontal:u,valueDim:jC[+u],categoryDim:jC[1-+u]};return a.diff(s).add(function(p){if(a.hasValue(p)){var g=eI(a,p),v=qC(a,p,g,f),m=tI(a,f,v);a.setItemGraphicEl(p,m),o.add(m),rI(m,f,v)}}).update(function(p,g){var S,E,I,v=s.getItemGraphicEl(g);if(a.hasValue(p)){var m=eI(a,p),y=qC(a,p,m,f),b=iI(a,y);v&&b!==v.__pictorialShapeStr&&(o.remove(v),a.setItemGraphicEl(p,null),v=null),v?(E=f,Un((S=v).__pictorialBundle,{x:(I=y).bundlePosition[0],y:I.bundlePosition[1]},I.animationModel,I.dataIndex),I.symbolRepeat?ZC(S,E,I,!0):JC(S,0,I,!0),QC(S,I,!0),$C(S,E,I,!0)):v=tI(a,f,y,!0),a.setItemGraphicEl(p,v),v.__pictorialSymbolMeta=y,o.add(v),rI(v,f,y)}else o.remove(v)}).remove(function(p){var g=s.getItemGraphicEl(p);g&&nI(s,p,g.__pictorialSymbolMeta.animationModel,g)}).execute(),this._data=a,this.group},t.prototype.remove=function(e,i){var r=this.group,o=this._data;e.get("animation")?o&&o.eachItemGraphicEl(function(a){nI(o,pn(a).dataIndex,e,a)}):r.removeAll()},t.type="pictorialBar",t}(vi);function qC(n,t,e,i){var v,m,b,E,I,A,L,R,k,H,U,G,K,r=n.getItemLayout(t),o=e.get("symbolRepeat"),a=e.get("symbolClip"),s=e.get("symbolPosition")||"start",l=(e.get("symbolRotate")||0)*Math.PI/180||0,u=e.get("symbolPatternSize")||2,h=e.isAnimationEnabled(),f={dataIndex:t,layout:r,itemModel:e,symbolType:n.getItemVisual(t,"symbol")||"circle",style:n.getItemVisual(t,"style"),symbolClip:a,symbolRepeat:o,symbolRepeatDirection:e.get("symbolRepeatDirection"),symbolPatternSize:u,rotation:l,animationModel:h?e:null,hoverScale:h&&e.get(["emphasis","scale"]),z2:e.getShallow("z",!0)||0};(function(v,m,y,b,S){var E,I=b.valueDim,A=v.get("symbolBoundingData"),L=b.coordSys.getOtherAxis(b.coordSys.getBaseAxis()),R=L.toGlobalCoord(L.dataToCoord(0)),k=1-+(y[I.wh]<=0);if(rt(A)){var H=[v_(L,A[0])-R,v_(L,A[1])-R];H[1]<H[0]&&H.reverse(),E=H[k]}else E=null!=A?v_(L,A)-R:m?b.coordSysExtent[I.index][k]-R:y[I.wh];S.boundingLength=E,m&&(S.repeatCutLength=y[I.wh]),S.pxSign=E>0?1:E<0?-1:0})(e,o,r,i,f),v=n,m=t,b=o,E=f.boundingLength,I=f.pxSign,A=u,R=f,H=(L=i).valueDim,U=L.categoryDim,G=Math.abs(r[U.wh]),(k=rt(K=v.getItemVisual(m,"symbolSize"))?K.slice():null==K?["100%","100%"]:[K,K])[U.index]=kt(k[U.index],G),k[H.index]=kt(k[H.index],b?G:Math.abs(E)),R.symbolSize=k,(R.symbolScale=[k[0]/A,k[1]/A])[H.index]*=(L.isHorizontal?-1:1)*I,function(v,m,y,b,S){var E=v.get(PP)||0;E&&(g_.attr({scaleX:m[0],scaleY:m[1],rotation:y}),g_.updateTransform(),E/=g_.getLineScale(),E*=m[b.valueDim.index]),S.valueLineWidth=E}(e,f.symbolScale,l,i,f);var p=f.symbolSize,g=Ah(e.get("symbolOffset"),p);return function(v,m,y,b,S,E,I,A,L,R,k,H){var U=k.categoryDim,G=k.valueDim,K=H.pxSign,$=Math.max(m[G.index]+A,0),ee=$;if(b){var le=Math.abs(L),he=zn(v.get("symbolMargin"),"15%")+"",ge=!1;he.lastIndexOf("!")===he.length-1&&(ge=!0,he=he.slice(0,he.length-1));var me=kt(he,m[G.index]),be=Math.max($+2*me,0),Le=ge?0:2*me,Ge=Il(b),nt=Ge?b:oI((le+Le)/be);be=$+2*(me=(le-nt*$)/2/(ge?nt:Math.max(nt-1,1))),Le=ge?0:2*me,Ge||"fixed"===b||(nt=R?oI((Math.abs(R)+Le)/be):0),ee=nt*be-Le,H.repeatTimes=nt,H.symbolMargin=me}var xt=K*(ee/2),Je=H.pathPosition=[];Je[U.index]=y[U.wh]/2,Je[G.index]="start"===I?xt:"end"===I?L-xt:L/2,E&&(Je[0]+=E[0],Je[1]+=E[1]);var dt=H.bundlePosition=[];dt[U.index]=y[U.xy],dt[G.index]=y[G.xy];var Dt=H.barRectShape=se({},y);Dt[G.wh]=K*Math.max(Math.abs(y[G.wh]),Math.abs(Je[G.index]+xt)),Dt[U.wh]=y[U.wh];var Tt=H.clipShape={};Tt[U.xy]=-y[U.xy],Tt[U.wh]=k.ecSize[U.wh],Tt[G.xy]=0,Tt[G.wh]=y[G.wh]}(e,p,r,o,0,g,s,f.valueLineWidth,f.boundingLength,f.repeatCutLength,i,f),f}function v_(n,t){return n.toGlobalCoord(n.dataToCoord(n.scale.parse(t)))}function KC(n){var t=n.symbolPatternSize,e=Er(n.symbolType,-t/2,-t/2,t,t);return e.attr({culling:!0}),"image"!==e.type&&e.setStyle({strokeNoScale:!0}),e}function ZC(n,t,e,i){var r=n.__pictorialBundle,s=e.pathPosition,l=t.valueDim,u=e.repeatTimes||0,h=0,f=e.symbolSize[t.valueDim.index]+e.valueLineWidth+2*e.symbolMargin;for(m_(n,function(m){m.__pictorialAnimationIndex=h,m.__pictorialRepeatTimes=u,h<u?Xh(m,null,v(h),e,i):Xh(m,null,{scaleX:0,scaleY:0},e,i,function(){r.remove(m)}),h++});h<u;h++){var p=KC(e);p.__pictorialAnimationIndex=h,p.__pictorialRepeatTimes=u,r.add(p);var g=v(h);Xh(p,{x:g.x,y:g.y,scaleX:0,scaleY:0},{scaleX:g.scaleX,scaleY:g.scaleY,rotation:g.rotation},e,i)}function v(m){var y=s.slice(),b=e.pxSign,S=m;return("start"===e.symbolRepeatDirection?b>0:b<0)&&(S=u-1-m),y[l.index]=f*(S-u/2+.5)+s[l.index],{x:y[0],y:y[1],scaleX:e.symbolScale[0],scaleY:e.symbolScale[1],rotation:e.rotation}}}function JC(n,t,e,i){var r=n.__pictorialBundle,o=n.__pictorialMainPath;o?Xh(o,null,{x:e.pathPosition[0],y:e.pathPosition[1],scaleX:e.symbolScale[0],scaleY:e.symbolScale[1],rotation:e.rotation},e,i):(o=n.__pictorialMainPath=KC(e),r.add(o),Xh(o,{x:e.pathPosition[0],y:e.pathPosition[1],scaleX:0,scaleY:0,rotation:e.rotation},{scaleX:e.symbolScale[0],scaleY:e.symbolScale[1]},e,i))}function QC(n,t,e){var i=se({},t.barRectShape),r=n.__pictorialBarRect;r?Xh(r,null,{shape:i},t,e):((r=n.__pictorialBarRect=new kn({z2:2,shape:i,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}})).disableMorphing=!0,n.add(r))}function $C(n,t,e,i){if(e.symbolClip){var r=n.__pictorialClipPath,o=se({},e.clipShape),a=t.valueDim,s=e.animationModel,l=e.dataIndex;if(r)Un(r,{shape:o},s,l);else{o[a.wh]=0,r=new kn({shape:o}),n.__pictorialBundle.setClipPath(r),n.__pictorialClipPath=r;var u={};u[a.wh]=e.clipShape[a.wh],zf[i?"updateProps":"initProps"](r,{shape:u},s,l)}}}function eI(n,t){var e=n.getItemModel(t);return e.getAnimationDelayParams=FP,e.isAnimationEnabled=HP,e}function FP(n){return{index:n.__pictorialAnimationIndex,count:n.__pictorialRepeatTimes}}function HP(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function tI(n,t,e,i){var r=new Ft,o=new Ft;return r.add(o),r.__pictorialBundle=o,o.x=e.bundlePosition[0],o.y=e.bundlePosition[1],e.symbolRepeat?ZC(r,t,e):JC(r,0,e),QC(r,e,i),$C(r,t,e,i),r.__pictorialShapeStr=iI(n,e),r.__pictorialSymbolMeta=e,r}function nI(n,t,e,i){var r=i.__pictorialBarRect;r&&r.removeTextContent();var o=[];m_(i,function(a){o.push(a)}),i.__pictorialMainPath&&o.push(i.__pictorialMainPath),i.__pictorialClipPath&&(e=null),Y(o,function(a){bu(a,{scaleX:0,scaleY:0},e,t,function(){i.parent&&i.parent.remove(i)})}),n.setItemGraphicEl(t,null)}function iI(n,t){return[n.getItemVisual(t.dataIndex,"symbol")||"none",!!t.symbolRepeat,!!t.symbolClip].join(":")}function m_(n,t,e){Y(n.__pictorialBundle.children(),function(i){i!==n.__pictorialBarRect&&t.call(e,i)})}function Xh(n,t,e,i,r,o){t&&n.attr(t),i.symbolClip&&!r?e&&n.attr(e):e&&zf[r?"updateProps":"initProps"](n,e,i.animationModel,i.dataIndex,o)}function rI(n,t,e){var i=e.dataIndex,r=e.itemModel,o=r.getModel("emphasis"),a=o.getModel("itemStyle").getItemStyle(),s=r.getModel(["blur","itemStyle"]).getItemStyle(),l=r.getModel(["select","itemStyle"]).getItemStyle(),u=r.getShallow("cursor"),h=o.get("focus"),f=o.get("blurScope"),p=o.get("scale");m_(n,function(v){if(v instanceof fr){var m=v.style;v.useStyle(se({image:m.image,x:m.x,y:m.y,width:m.width,height:m.height},e.style))}else v.useStyle(e.style);var y=v.ensureState("emphasis");y.style=a,p&&(y.scaleX=1.1*v.scaleX,y.scaleY=1.1*v.scaleY),v.ensureState("blur").style=s,v.ensureState("select").style=l,u&&(v.cursor=u),v.z2=e.z2});var g=t.valueDim.posDesc[+(e.boundingLength>0)];Fo(n.__pictorialBarRect,xo(r),{labelFetcher:t.seriesModel,labelDataIndex:i,defaultText:kh(t.seriesModel.getData(),i),inheritColor:e.style.fill,defaultOpacity:e.style.opacity,defaultOutsidePosition:g}),_(n,h,f)}function oI(n){var t=Math.round(n);return Math.abs(n-t)<1e-4?t:Math.ceil(n)}var UP=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e.defaultSymbol="roundRect",e}return ue(t,n),t.prototype.getInitialData=function(e){return e.stack=null,n.prototype.getInitialData.apply(this,arguments)},t.type="series.pictorialBar",t.dependencies=["grid"],t.defaultOption=wu(Ld.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),t}(Ld),zP=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e._layers=[],e}return ue(t,n),t.prototype.render=function(e,i,r){var o=e.getData(),a=this,s=this.group,l=e.getLayerSeries(),u=o.getLayout("layoutInfo"),h=u.rect,f=u.boundaryGap;function p(y){return y.name}s.x=0,s.y=h.y+f[0];var g=new Ul(this._layersSeries||[],l,p,p),v=[];function m(y,b,S){var be,Le,nt,E=a._layers;if("remove"!==y){for(var I,A,L=[],R=[],k=l[b].indices,H=0;H<k.length;H++){var U=o.getItemLayout(k[H]),G=U.x,K=U.y0,$=U.y;L.push(G,K),R.push(G,K+$),I=o.getItemVisual(k[H],"style")}var ee=o.getItemLayout(k[0]),le=e.getModel("label").get("margin"),he=e.getModel("emphasis");if("add"===y){var ge=v[b]=new Ft;A=new eT({shape:{points:L,stackedOnPoints:R,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),ge.add(A),s.add(ge),e.isAnimationEnabled()&&A.setClipPath((be=A.getBoundingRect(),Le=e,Vi(nt=new kn({shape:{x:be.x-10,y:be.y-10,width:0,height:be.height+20}}),{shape:{x:be.x-50,width:be.width+100,height:be.height+20}},Le,function(){A.removeClipPath()}),nt))}else A=(ge=E[S]).childAt(0),s.add(ge),v[b]=ge,Un(A,{shape:{points:L,stackedOnPoints:R}},e),ks(A);Fo(A,xo(e),{labelDataIndex:k[H-1],defaultText:o.getName(k[H-1]),inheritColor:I.fill},{normal:{verticalAlign:"middle"}}),A.setTextConfig({position:null,local:!0});var me=A.getTextContent();me&&(me.x=ee.x-le,me.y=ee.y0+ee.y/2),A.useStyle(I),o.setItemGraphicEl(b,A),W(A,e),_(A,he.get("focus"),he.get("blurScope"))}else s.remove(E[b])}g.add(mt(m,this,"add")).update(mt(m,this,"update")).remove(mt(m,this,"remove")).execute(),this._layersSeries=l,this._layers=v},t.type="themeRiver",t}(vi),VP=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return ue(t,n),t.prototype.init=function(e){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new Nd(mt(this.getData,this),mt(this.getRawData,this))},t.prototype.fixData=function(e){var i=e.length,r={},o=Zu(e,function(p){return r.hasOwnProperty(p[0]+"")||(r[p[0]+""]=-1),p[2]}),a=[];o.buckets.each(function(p,g){a.push({name:g,dataList:p})});for(var s=a.length,l=0;l<s;++l){for(var u=a[l].name,h=0;h<a[l].dataList.length;++h)r[f=a[l].dataList[h][0]+""]=l;for(var f in r)r.hasOwnProperty(f)&&r[f]!==l&&(r[f]=l,e[i]=[f,0,u],i++)}return e},t.prototype.getInitialData=function(e,i){for(var r=this.getReferringComponents("singleAxis",mr).models[0].get("type"),o=jt(e.data,function(g){return void 0!==g[2]}),a=this.fixData(o||[]),s=[],l=this.nameMap=Ht(),u=0,h=0;h<a.length;++h)s.push(a[h][2]),l.get(a[h][2])||(l.set(a[h][2],u),u++);var f=Dh(a,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:Rg(r)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,p=new Uo(f,this);return p.initData(a),p},t.prototype.getLayerSeries=function(){for(var e=this.getData(),i=e.count(),r=[],o=0;o<i;++o)r[o]=o;var a=e.mapDimension("single"),s=Zu(r,function(u){return e.get("name",u)}),l=[];return s.buckets.each(function(u,h){u.sort(function(f,p){return e.get(a,f)-e.get(a,p)}),l.push({name:h,indices:u})}),l},t.prototype.getAxisTooltipData=function(e,i,r){rt(e)||(e=e?[e]:[]);for(var o,a=this.getData(),s=this.getLayerSeries(),l=[],u=s.length,h=0;h<u;++h){for(var f=Number.MAX_VALUE,p=-1,g=s[h].indices.length,v=0;v<g;++v){var m=a.get(e[0],s[h].indices[v]),y=Math.abs(m-i);y<=f&&(o=m,f=y,p=s[h].indices[v])}l.push(p)}return{dataIndices:l,nestestValue:o}},t.prototype.formatTooltip=function(e,i,r){var o=this.getData();return ao("nameValue",{name:o.getName(e),value:o.get(o.mapDimension("value"),e)})},t.type="series.themeRiver",t.dependencies=["singleAxis"],t.defaultOption={zlevel:0,z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},t}(Ei);function GP(n,t){n.eachSeriesByType("themeRiver",function(e){var i=e.getData(),r=e.coordinateSystem,o={},a=r.getRect();o.rect=a;var s=e.get("boundaryGap"),l=r.getAxis();o.boundaryGap=s,"horizontal"===l.orient?(s[0]=kt(s[0],a.height),s[1]=kt(s[1],a.height),aI(i,e,a.height-s[0]-s[1])):(s[0]=kt(s[0],a.width),s[1]=kt(s[1],a.width),aI(i,e,a.width-s[0]-s[1])),i.setLayout("layoutInfo",o)})}function aI(n,t,e){if(n.count())for(var i,r=t.coordinateSystem,o=t.getLayerSeries(),a=n.mapDimension("single"),s=n.mapDimension("value"),l=Ve(o,function(y){return Ve(y.indices,function(b){var S=r.dataToPoint(n.get(a,b));return S[1]=n.get(s,b),S})}),u=function(y){for(var b=y.length,S=y[0].length,E=[],I=[],A=0,L=0;L<S;++L){for(var R=0,k=0;k<b;++k)R+=y[k][L][1];R>A&&(A=R),E.push(R)}for(var H=0;H<S;++H)I[H]=(A-E[H])/2;A=0;for(var U=0;U<S;++U){var G=E[U]+I[U];G>A&&(A=G)}return{y0:I,max:A}}(l),h=u.y0,f=e/u.max,p=o.length,g=o[0].indices.length,v=0;v<g;++v){n.setItemLayout(o[0].indices[v],{layerIndex:0,x:l[0][v][0],y0:i=h[v]*f,y:l[0][v][1]*f});for(var m=1;m<p;++m)n.setItemLayout(o[m].indices[v],{layerIndex:m,x:l[m][v][0],y0:i+=l[m-1][v][1]*f,y:l[m][v][1]*f})}}var sI=function(n){function t(e,i,r,o){var a=n.call(this)||this;a.z2=2,a.textConfig={inside:!0},pn(a).seriesIndex=i.seriesIndex;var s=new Nn({z2:4,silent:e.getModel().get(["label","silent"])});return a.setTextContent(s),a.updateData(!0,e,i,r,o),a}return ue(t,n),t.prototype.updateData=function(e,i,r,o,a){this.node=i,i.piece=this,r=r||this._seriesModel,o=o||this._ecModel;var s=this;pn(s).dataIndex=i.dataIndex;var l=i.getModel(),u=l.getModel("emphasis"),h=i.getLayout(),f=se({},h);f.label=null;var p=i.getVisual("style");p.lineJoin="bevel";var g=i.getVisual("decal");g&&(p.decal=sd(g,a));var v=Bh(l.getModel("itemStyle"),f,!0);se(f,v),Y(Co,function(b){var S=s.ensureState(b),E=l.getModel([b,"itemStyle"]);S.style=E.getItemStyle();var I=Bh(E,f);I&&(S.shape=I)}),e?(s.setShape(f),s.shape.r=h.r0,Un(s,{shape:{r:h.r}},r,i.dataIndex)):(Un(s,{shape:f},r),ks(s)),s.useStyle(p),this._updateLabel(r);var m=l.getShallow("cursor");m&&s.attr("cursor",m),this._seriesModel=r||this._seriesModel,this._ecModel=o||this._ecModel;var y=u.get("focus");_(this,"ancestor"===y?i.getAncestorsIndices():"descendant"===y?i.getDescendantIndices():y,u.get("blurScope"))},t.prototype._updateLabel=function(e){var i=this,r=this.node.getModel(),o=r.getModel("label"),a=this.node.getLayout(),s=a.endAngle-a.startAngle,l=(a.startAngle+a.endAngle)/2,u=Math.cos(l),h=Math.sin(l),f=this,p=f.getTextContent(),g=this.node.dataIndex,v=o.get("minAngle")/180*Math.PI,m=o.get("show")&&!(null!=v&&Math.abs(s)<v);function y(b,S){return b.get(S)??o.get(S)}p.ignore=!m,Y(mu,function(b){var S=r.getModel("normal"===b?"label":[b,"label"]),E="normal"===b,I=E?p:p.ensureState(b),A=e.getFormattedLabel(g,b);E&&(A=A||i.node.name),I.style=_r(S,{},null,"normal"!==b,!0),A&&(I.style.text=A);var L=S.get("show");null==L||E||(I.ignore=!L);var R,k=y(S,"position"),H=E?f:f.states[b],U=H.style.fill;H.textConfig={outsideFill:"inherit"===S.get("color")?U:null,inside:"outside"!==k};var G=y(S,"distance")||0,K=y(S,"align");"outside"===k?(R=a.r+G,K=l>Math.PI/2?"right":"left"):K&&"center"!==K?"left"===K?(R=a.r0+G,l>Math.PI/2&&(K="right")):"right"===K&&(R=a.r-G,l>Math.PI/2&&(K="left")):(R=(a.r+a.r0)/2,K="center"),I.style.align=K,I.style.verticalAlign=y(S,"verticalAlign")||"middle",I.x=R*u+a.cx,I.y=R*h+a.cy;var $=y(S,"rotate"),ee=0;"radial"===$?(ee=-l)<-Math.PI/2&&(ee+=Math.PI):"tangential"===$?(ee=Math.PI/2-l)>Math.PI/2?ee-=Math.PI:ee<-Math.PI/2&&(ee+=Math.PI):"number"==typeof $&&(ee=$*Math.PI/180),I.rotation=ee}),p.dirtyStyle()},t}(Bo),y_="sunburstRootToNode",lI="sunburstHighlight",WP=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return ue(t,n),t.prototype.render=function(e,i,r,o){var a=this;this.seriesModel=e,this.api=r,this.ecModel=i;var v,m,s=e.getData(),l=s.tree.root,u=e.getViewRoot(),h=this.group,f=e.get("renderLabelForZeroData"),p=[];u.eachNode(function(v){p.push(v)}),function(v,m){function y(S){return S.getId()}function b(S,E){!function(I,A){if(f||!I||I.getValue()||(I=null),I!==l&&A!==l)if(A&&A.piece)I?(A.piece.updateData(!1,I,e,i,r),s.setItemGraphicEl(I.dataIndex,A.piece)):(R=A)&&R.piece&&(h.remove(R.piece),R.piece=null);else if(I){var L=new sI(I,e,i,r);h.add(L),s.setItemGraphicEl(I.dataIndex,L)}var R}(null==S?null:v[S],null==E?null:m[E])}0===v.length&&0===m.length||new Ul(m,v,y,y).add(b).update(b).remove(Lt(b,null)).execute()}(p,this._oldChildren||[]),v=l,(m=u).depth>0?(a.virtualPiece?a.virtualPiece.updateData(!1,v,e,i,r):(a.virtualPiece=new sI(v,e,i,r),h.add(a.virtualPiece)),m.piece.off("click"),a.virtualPiece.on("click",function(y){a._rootToNode(m.parentNode)})):a.virtualPiece&&(h.remove(a.virtualPiece),a.virtualPiece=null),this._initEvents(),this._oldChildren=p},t.prototype._initEvents=function(){var e=this;this.group.off("click"),this.group.on("click",function(i){var r=!1;e.seriesModel.getViewRoot().eachNode(function(o){if(!r&&o.piece&&o.piece===i.target){var a=o.getModel().get("nodeClick");if("rootToNode"===a)e._rootToNode(o);else if("link"===a){var s=o.getModel(),l=s.get("link");l&&og(l,s.get("target",!0)||"_blank")}r=!0}})})},t.prototype._rootToNode=function(e){e!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:y_,from:this.uid,seriesId:this.seriesModel.id,targetNode:e})},t.prototype.containPoint=function(e,i){var r=i.getData().getItemLayout(0);if(r){var o=e[0]-r.cx,a=e[1]-r.cy,s=Math.sqrt(o*o+a*a);return s<=r.r&&s>=r.r0}},t.type="sunburst",t}(vi),YP=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.ignoreStyleOnData=!0,e}return ue(t,n),t.prototype.getInitialData=function(e,i){var r={name:e.name,children:e.data};uI(r);var o=this._levelModels=Ve(e.levels||[],function(s){return new Qn(s,this,i)},this),a=S0.createTree(r,this,function(s){s.wrapMethod("getItemModel",function(l,u){var h=a.getNodeByDataIndex(u),f=o[h.depth];return f&&(l.parentModel=f),l})});return a.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.getDataParams=function(e){var i=n.prototype.getDataParams.apply(this,arguments),r=this.getData().tree.getNodeByDataIndex(e);return i.treePathInfo=pv(r,this),i},t.prototype.getLevelModel=function(e){return this._levelModels&&this._levelModels[e.depth]},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var i=this.getRawData().tree.root;e&&(e===i||i.contains(e))||(this._viewRoot=i)},t.prototype.enableAriaDecal=function(){xE(this)},t.type="series.sunburst",t.defaultOption={zlevel:0,z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},t}(Ei);function uI(n){var t=0;Y(n.children,function(i){uI(i);var r=i.value;rt(r)&&(r=r[0]),t+=r});var e=n.value;rt(e)&&(e=e[0]),(null==e||isNaN(e))&&(e=t),e<0&&(e=0),rt(n.value)?n.value[0]=e:n.value=e}var cI=Math.PI/180;function XP(n,t,e){t.eachSeriesByType(n,function(i){var r=i.get("center"),o=i.get("radius");rt(o)||(o=[0,o]),rt(r)||(r=[r,r]);var a=e.getWidth(),s=e.getHeight(),l=Math.min(a,s),u=kt(r[0],a),h=kt(r[1],s),f=kt(o[0],l/2),p=kt(o[1],l/2),g=-i.get("startAngle")*cI,v=i.get("minAngle")*cI,m=i.getData().tree.root,y=i.getViewRoot(),b=y.depth,S=i.get("sort");null!=S&&hI(y,S);var E=0;Y(y.children,function(he){!isNaN(he.getValue())&&E++});var I=y.getValue(),A=Math.PI/(I||E)*2,L=y.depth>0,k=(p-f)/(y.height-(L?-1:1)||1),H=i.get("clockwise"),U=i.get("stillShowZeroSum"),G=H?1:-1,K=function(he,ge){if(he){var me=ge;if(he!==m){var be=he.getValue(),Le=0===I&&U?A:be*A;Le<v&&(Le=v),me=ge+G*Le;var Ge=he.depth-b-(L?-1:1),nt=f+k*Ge,xt=f+k*(Ge+1),Je=i.getLevelModel(he);if(Je){var dt=Je.get("r0",!0),Dt=Je.get("r",!0),Tt=Je.get("radius",!0);null!=Tt&&(dt=Tt[0],Dt=Tt[1]),null!=dt&&(nt=kt(dt,l/2)),null!=Dt&&(xt=kt(Dt,l/2))}he.setLayout({angle:Le,startAngle:ge,endAngle:me,clockwise:H,cx:u,cy:h,r0:nt,r:xt})}if(he.children&&he.children.length){var It=0;Y(he.children,function(Yt){It+=K(Yt,ge+It)})}return me-ge}};if(L){var le=2*Math.PI;m.setLayout({angle:le,startAngle:g,endAngle:g+le,clockwise:H,cx:u,cy:h,r0:f,r:f+k})}K(y,g)})}function hI(n,t){var e=n.children||[];n.children=function(i,r){if("function"==typeof r){var o=Ve(i,function(s,l){var u=s.getValue();return{params:{depth:s.depth,height:s.height,dataIndex:s.dataIndex,getValue:function(){return u}},index:l}});return o.sort(function(s,l){return r(s.params,l.params)}),Ve(o,function(s){return i[s.index]})}var a="asc"===r;return i.sort(function(s,l){var u=(s.getValue()-l.getValue())*(a?1:-1);return 0===u?(s.dataIndex-l.dataIndex)*(a?-1:1):u})}(e,t),e.length&&Y(n.children,function(i){hI(i,t)})}function jP(n){var t={};n.eachSeriesByType("sunburst",function(e){var i=e.getData(),r=i.tree;r.eachNode(function(o){var a=o.getModel().getModel("itemStyle").getItemStyle();a.fill||(a.fill=function(s,l,u){for(var h=s;h&&h.depth>1;)h=h.parentNode;var f=l.getColorFromPalette(h.name||h.dataIndex+"",t);return s.depth>1&&"string"==typeof f&&(f=Sa(f,(s.depth-1)/(u-1)*.5)),f}(o,e,r.root.height)),se(i.ensureUniqueItemVisual(o.dataIndex,"style"),a)})})}var fI={color:"fill",borderColor:"stroke"},KP={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},Gs=Fn(),ZP=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return ue(t,n),t.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},t.prototype.getInitialData=function(e,i){return gl(null,this)},t.prototype.getDataParams=function(e,i,r){var o=n.prototype.getDataParams.call(this,e,i);return r&&(o.info=Gs(r).info),o},t.type="series.custom",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,clip:!1},t}(Ei);function JP(n,t){return t=t||[0,0],Ve(["x","y"],function(e,i){var r=this.getAxis(e),o=t[i],a=n[i]/2;return"category"===r.type?r.getBandWidth():Math.abs(r.dataToCoord(o-a)-r.dataToCoord(o+a))},this)}function QP(n,t){return t=t||[0,0],Ve([0,1],function(e){var i=t[e],r=n[e]/2,o=[],a=[];return o[e]=i-r,a[e]=i+r,o[1-e]=a[1-e]=t[1-e],Math.abs(this.dataToPoint(o)[e]-this.dataToPoint(a)[e])},this)}function $P(n,t){var e=this.getAxis(),i=t instanceof Array?t[0]:t,r=(n instanceof Array?n[0]:n)/2;return"category"===e.type?e.getBandWidth():Math.abs(e.dataToCoord(i-r)-e.dataToCoord(i+r))}function e2(n,t){return t=t||[0,0],Ve(["Radius","Angle"],function(e,i){var r=this["get"+e+"Axis"](),o=t[i],a=n[i]/2,s="category"===r.type?r.getBandWidth():Math.abs(r.dataToCoord(o-a)-r.dataToCoord(o+a));return"Angle"===e&&(s=s*Math.PI/180),s},this)}function dI(n,t,e,i){return n&&(n.legacy||!1!==n.legacy&&!e&&!i&&"tspan"!==t&&("text"===t||ut(n,"text")))}function pI(n,t,e){var i,r,o,a=n;if("text"===t)o=a;else{o={},ut(a,"text")&&(o.text=a.text),ut(a,"rich")&&(o.rich=a.rich),ut(a,"textFill")&&(o.fill=a.textFill),ut(a,"textStroke")&&(o.stroke=a.textStroke),ut(a,"fontFamily")&&(o.fontFamily=a.fontFamily),ut(a,"fontSize")&&(o.fontSize=a.fontSize),ut(a,"fontStyle")&&(o.fontStyle=a.fontStyle),ut(a,"fontWeight")&&(o.fontWeight=a.fontWeight),r={type:"text",style:o,silent:!0},i={};var s=ut(a,"textPosition");e?i.position=s?a.textPosition:"inside":s&&(i.position=a.textPosition),ut(a,"textPosition")&&(i.position=a.textPosition),ut(a,"textOffset")&&(i.offset=a.textOffset),ut(a,"textRotation")&&(i.rotation=a.textRotation),ut(a,"textDistance")&&(i.distance=a.textDistance)}return gI(o,n),Y(o.rich,function(l){gI(l,l)}),{textConfig:i,textContent:r}}function gI(n,t){t&&(t.font=t.textFont||t.font,ut(t,"textStrokeWidth")&&(n.lineWidth=t.textStrokeWidth),ut(t,"textAlign")&&(n.align=t.textAlign),ut(t,"textVerticalAlign")&&(n.verticalAlign=t.textVerticalAlign),ut(t,"textLineHeight")&&(n.lineHeight=t.textLineHeight),ut(t,"textWidth")&&(n.width=t.textWidth),ut(t,"textHeight")&&(n.height=t.textHeight),ut(t,"textBackgroundColor")&&(n.backgroundColor=t.textBackgroundColor),ut(t,"textPadding")&&(n.padding=t.textPadding),ut(t,"textBorderColor")&&(n.borderColor=t.textBorderColor),ut(t,"textBorderWidth")&&(n.borderWidth=t.textBorderWidth),ut(t,"textBorderRadius")&&(n.borderRadius=t.textBorderRadius),ut(t,"textBoxShadowColor")&&(n.shadowColor=t.textBoxShadowColor),ut(t,"textBoxShadowBlur")&&(n.shadowBlur=t.textBoxShadowBlur),ut(t,"textBoxShadowOffsetX")&&(n.shadowOffsetX=t.textBoxShadowOffsetX),ut(t,"textBoxShadowOffsetY")&&(n.shadowOffsetY=t.textBoxShadowOffsetY))}function vI(n,t,e){var i=n;i.textPosition=i.textPosition||e.position||"inside",null!=e.offset&&(i.textOffset=e.offset),null!=e.rotation&&(i.textRotation=e.rotation),null!=e.distance&&(i.textDistance=e.distance);var r=i.textPosition.indexOf("inside")>=0,o=n.fill||"#000";mI(i,t);var a=null==i.textFill;return r?a&&(i.textFill=e.insideFill||"#fff",!i.textStroke&&e.insideStroke&&(i.textStroke=e.insideStroke),!i.textStroke&&(i.textStroke=o),null==i.textStrokeWidth&&(i.textStrokeWidth=2)):(a&&(i.textFill=n.fill||e.outsideFill||"#000"),!i.textStroke&&e.outsideStroke&&(i.textStroke=e.outsideStroke)),i.text=t.text,i.rich=t.rich,Y(t.rich,function(s){mI(s,s)}),i}function mI(n,t){t&&(ut(t,"fill")&&(n.textFill=t.fill),ut(t,"stroke")&&(n.textStroke=t.fill),ut(t,"lineWidth")&&(n.textStrokeWidth=t.lineWidth),ut(t,"font")&&(n.font=t.font),ut(t,"fontStyle")&&(n.fontStyle=t.fontStyle),ut(t,"fontWeight")&&(n.fontWeight=t.fontWeight),ut(t,"fontSize")&&(n.fontSize=t.fontSize),ut(t,"fontFamily")&&(n.fontFamily=t.fontFamily),ut(t,"align")&&(n.textAlign=t.align),ut(t,"verticalAlign")&&(n.textVerticalAlign=t.verticalAlign),ut(t,"lineHeight")&&(n.textLineHeight=t.lineHeight),ut(t,"width")&&(n.textWidth=t.width),ut(t,"height")&&(n.textHeight=t.height),ut(t,"backgroundColor")&&(n.textBackgroundColor=t.backgroundColor),ut(t,"padding")&&(n.textPadding=t.padding),ut(t,"borderColor")&&(n.textBorderColor=t.borderColor),ut(t,"borderWidth")&&(n.textBorderWidth=t.borderWidth),ut(t,"borderRadius")&&(n.textBorderRadius=t.borderRadius),ut(t,"shadowColor")&&(n.textBoxShadowColor=t.shadowColor),ut(t,"shadowBlur")&&(n.textBoxShadowBlur=t.shadowBlur),ut(t,"shadowOffsetX")&&(n.textBoxShadowOffsetX=t.shadowOffsetX),ut(t,"shadowOffsetY")&&(n.textBoxShadowOffsetY=t.shadowOffsetY),ut(t,"textShadowColor")&&(n.textShadowColor=t.textShadowColor),ut(t,"textShadowBlur")&&(n.textShadowBlur=t.textShadowBlur),ut(t,"textShadowOffsetX")&&(n.textShadowOffsetX=t.textShadowOffsetX),ut(t,"textShadowOffsetY")&&(n.textShadowOffsetY=t.textShadowOffsetY))}var t2={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]};function __(n,t,e){var i=n[e],r=t2[e];i&&(t[r[0]]=i[0],t[r[1]]=i[1])}function Fc(n,t,e){null!=n[e]&&(t[e]=n[e])}function yI(n,t,e){e&&(n[t]=e[t])}function _I(n,t,e,i,r){var o=e[n];if(o){var a,s=t[n],l=o.enterFrom;if(r&&l){!a&&(a=i[n]={});for(var u=Mt(l),h=0;h<u.length;h++)a[S=u[h]]=l[S]}if(!r&&s)if(o.transition){!a&&(a=i[n]={});var f=Yn(o.transition);for(h=0;h<f.length;h++){var p=s[S=f[h]];a[S]=p}}else if(pe(e.transition,n)>=0){!a&&(a=i[n]={});var g=Mt(s);for(h=0;h<g.length;h++)p=s[S=g[h]],n2(o[S],p)&&(a[S]=p)}var v=o.leaveTo;if(v){var m=x_(t),y=m[n]||(m[n]={}),b=Mt(v);for(h=0;h<b.length;h++){var S;y[S=b[h]]=v[S]}}}}function xI(n,t,e){var i=t[n];if(i)for(var r=e[n]={},o=Mt(i),a=0;a<o.length;a++){var s=o[a];r[s]=an(i[s])}}function n2(n,t){return gt(n)?n!==t:null!=n&&isFinite(n)}function x_(n){var t=Gs(n);return t.leaveToProps||(t.leaveToProps={})}Mt({x:1,y:1,scaleX:1,scaleY:1,originX:1,originY:1,rotation:1}).join(", ");var Xl="emphasis",zu="normal",b_="blur",S_="select",Vu=[zu,Xl,b_,S_],w_={normal:["itemStyle"],emphasis:[Xl,"itemStyle"],blur:[b_,"itemStyle"],select:[S_,"itemStyle"]},T_={normal:["label"],emphasis:[Xl,"label"],blur:[b_,"label"],select:[S_,"label"]},us={normal:{},emphasis:{},blur:{},select:{}},i2={cartesian2d:function(n){var t=n.master.getRect();return{coordSys:{type:"cartesian2d",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(e){return n.dataToPoint(e)},size:mt(JP,n)}}},geo:function(n){var t=n.getBoundingRect();return{coordSys:{type:"geo",x:t.x,y:t.y,width:t.width,height:t.height,zoom:n.getZoom()},api:{coord:function(e){return n.dataToPoint(e)},size:mt(QP,n)}}},singleAxis:function(n){var t=n.getRect();return{coordSys:{type:"singleAxis",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(e){return n.dataToPoint(e)},size:mt($P,n)}}},polar:function(n){var t=n.getRadiusAxis(),e=n.getAngleAxis(),i=t.getExtent();return i[0]>i[1]&&i.reverse(),{coordSys:{type:"polar",cx:n.cx,cy:n.cy,r:i[1],r0:i[0]},api:{coord:function(r){var o=t.dataToRadius(r[0]),a=e.dataToAngle(r[1]),s=n.coordToPoint([o,a]);return s.push(o,a*Math.PI/180),s},size:mt(e2,n)}}},calendar:function(n){var t=n.getRect(),e=n.getRangeInfo();return{coordSys:{type:"calendar",x:t.x,y:t.y,width:t.width,height:t.height,cellWidth:n.getCellWidth(),cellHeight:n.getCellHeight(),rangeInfo:{start:e.start,end:e.end,weeks:e.weeks,dayCount:e.allDay}},api:{coord:function(i,r){return n.dataToPoint(i,r)}}}}};function Cv(n){return n instanceof Mn}function E_(n){return n instanceof Na}var r2=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return ue(t,n),t.prototype.render=function(e,i,r,o){var a=this._data,s=e.getData(),l=this.group,u=SI(e,s,i,r);a||l.removeAll(),s.diff(a).add(function(f){A_(r,null,f,u(f,o),e,l,s)}).remove(function(f){D_(a.getItemGraphicEl(f),e,l)}).update(function(f,p){var g=a.getItemGraphicEl(p);A_(r,g,f,u(f,o),e,l,s)}).execute();var h=e.get("clip",!0)?iv(e.coordinateSystem,!1,e):null;h?l.setClipPath(h):l.removeClipPath(),this._data=s},t.prototype.incrementalPrepareRender=function(e,i,r){this.group.removeAll(),this._data=null},t.prototype.incrementalRender=function(e,i,r,o,a){var s=i.getData(),l=SI(i,s,r,o);function u(p){p.isGroup||(p.incremental=!0,p.ensureState("emphasis").hoverLayer=!0)}for(var h=e.start;h<e.end;h++){var f=A_(null,null,h,l(h,a),i,this.group,s);f&&f.traverse(u)}},t.prototype.filterForExposedEvent=function(e,i,r,o){var a=i.element;if(null==a||r.name===a)return!0;for(;(r=r.__hostTarget||r.parent)&&r!==this.group;)if(r.name===a)return!0;return!1},t.type="custom",t}(vi);function C_(n){var t,e=n.type;if("path"===e){var i=n.shape,r=null!=i.width&&null!=i.height?{x:i.x||0,y:i.y||0,width:i.width,height:i.height}:null,o=II(i);t=Ff(o,null,r,i.layout||"center"),Gs(t).customPathData=o}else if("image"===e)t=new fr({}),Gs(t).customImagePath=n.style.image;else if("text"===e)t=new Nn({});else if("group"===e)t=new Ft;else{if("compoundPath"===e)throw new Error('"compoundPath" is not supported yet.');var a=jp(e);a||jn(""),t=new a}return Gs(t).customGraphicType=e,t.name=n.name,t.z2EmphasisLift=1,t.z2SelectLift=1,t}function I_(n,t,e,i,r,o,a,s){var l=r&&r.normal.cfg;l&&t.setTextConfig(l);var u=i&&i.style;if(u){if("text"===t.type){var h=u;ut(h,"textFill")&&(h.fill=h.textFill),ut(h,"textStroke")&&(h.stroke=h.textStroke)}var f=void 0,p=Cv(t)?u.decal:null;n&&p&&(p.dirty=!0,f=sd(p,n)),u.__decalPattern=f}Gs(t).userDuring=i.during;var y,b,g={},v={};_I("shape",t,i,g,a),xI("shape",i,v),function(m,y,b,S){var E=y.enterFrom;if(S&&E)for(var I=Mt(E),A=0;A<I.length;A++)b[G=I[A]]=E[G];if(!S)if(y.transition){var L=Yn(y.transition);for(A=0;A<L.length;A++)"style"!==(G=L[A])&&"shape"!==G&&"extra"!==G&&(b[G]=m[G])}else yI(b,"x",m),yI(b,"y",m);var k=y.leaveTo;if(k){var H=x_(m),U=Mt(k);for(A=0;A<U.length;A++){var G;H[G=U[A]]=k[G]}}}(t,i,g,a),__(y=i,b=v,"position"),__(y,b,"scale"),__(y,b,"origin"),Fc(y,b,"x"),Fc(y,b,"y"),Fc(y,b,"scaleX"),Fc(y,b,"scaleY"),Fc(y,b,"originX"),Fc(y,b,"originY"),Fc(y,b,"rotation"),_I("extra",t,i,g,a),xI("extra",i,v),function(m,y,b,S,E){if(b){var I,A=m.style,L=b.enterFrom;if(E&&L){var R=Mt(L);!I&&(I=S.style={});for(var k=0;k<R.length;k++)I[me=R[k]]=L[me]}if(!E&&A)if(b.transition){var H=Yn(b.transition);for(!I&&(I=S.style={}),k=0;k<H.length;k++){var U=A[me=H[k]];I[me]=U}}else if(m.getAnimationStyleProps&&pe(y.transition,"style")>=0){var G=m.getAnimationStyleProps(),K=G?G.style:null;if(K){!I&&(I=S.style={});var $=Mt(b);for(k=0;k<$.length;k++)K[me=$[k]]&&(I[me]=U=A[me])}}var ee=b.leaveTo;if(ee){var le=Mt(ee),he=x_(m),ge=he.style||(he.style={});for(k=0;k<le.length;k++){var me;ge[me=le[k]]=ee[me]}}}}(t,i,u,g,a),v.style=u,function(m,y){var b=m.isGroup?null:m,S=y.style;if(b&&S){b.useStyle(S);var E=S.__decalPattern;E&&(b.style.decal=E);for(var I=b.animators,A=0;A<I.length;A++){var L=I[A];"style"===L.targetName&&L.changeTarget(b.style)}}y&&(y.style=null,y&&m.attr(y),y.style=S)}(t,v),function(m,y,b,S,E){if(S){var I=Gs(m).userDuring,A={dataIndex:y,isFrom:!0,during:I?mt(a2,{el:m,userDuring:I}):null};E?Vi(m,S,b,A):Un(m,S,b,A)}}(t,e,o,g,a),function(m,y,b){ut(y,"silent")&&(m.silent=y.silent),ut(y,"ignore")&&(m.ignore=y.ignore),E_(m)&&ut(y,"invisible")&&(m.invisible=y.invisible),Cv(m)&&ut(y,"autoBatch")&&(m.autoBatch=y.autoBatch),b||ut(y,"info")&&(Gs(m).info=y.info)}(t,i,s),u?t.dirty():t.markRedraw()}var Do={},o2={setTransform:function(n,t){return Do.el[n]=t,this},getTransform:function(n){return Do.el[n]},setShape:function(n,t){return(Do.el.shape||(Do.el.shape={}))[n]=t,Do.isShapeDirty=!0,this},getShape:function(n){var t=Do.el.shape;if(t)return t[n]},setStyle:function(n,t){var e=Do.el.style;return e&&(e[n]=t,Do.isStyleDirty=!0),this},getStyle:function(n){var t=Do.el.style;if(t)return t[n]},setExtra:function(n,t){return(Do.el.extra||(Do.el.extra={}))[n]=t,this},getExtra:function(n){var t=Do.el.extra;if(t)return t[n]}};function a2(){var n=this,t=n.el;if(t){var e=Gs(t).userDuring,i=n.userDuring;e===i?(Do.el=t,Do.isShapeDirty=!1,Do.isStyleDirty=!1,i(o2),Do.isShapeDirty&&t.dirtyShape&&t.dirtyShape(),Do.isStyleDirty&&t.dirtyStyle&&t.dirtyStyle()):n.el=n.userDuring=null}}function bI(n,t,e,i,r,o,a){var s=t.isGroup?null:t,l=r&&r[n].cfg;if(s){var u=s.ensureState(n);if(!1===i){var h=s.getState(n);h&&(h.style=null)}else u.style=i||null;l&&(u.textConfig=l),dl(s)}}function s2(n,t,e){var i=e===zu,r=i?t:Iv(t,e),o=r?r.z2:null;null!=o&&((i?n:n.ensureState(e)).z2=o||0)}function SI(n,t,e,i){var r=n.get("renderItem"),o=n.coordinateSystem,a={};o&&(a=o.prepareCustoms?o.prepareCustoms(o):i2[o.type](o));for(var s,l,u=Ee({getWidth:i.getWidth,getHeight:i.getHeight,getZr:i.getZr,getDevicePixelRatio:i.getDevicePixelRatio,value:function(L,R){return null==R&&(R=s),t.getStore().get(t.getDimensionIndex(L||0),R)},style:function(L,R){null==R&&(R=s);var k=t.getItemVisual(R,"style"),H=k&&k.fill,U=k&&k.opacity,G=S(R,zu).getItemStyle();null!=H&&(G.fill=H),null!=U&&(G.opacity=U);var K={inheritColor:Jt(H)?H:"#000"},$=E(R,zu),ee=_r($,null,K,!1,!0);ee.text=$.getShallow("show")?ln(n.getFormattedLabel(R,zu),kh(t,R)):null;var le=Jp($,K,!1);return A(L,G),G=vI(G,ee,le),L&&I(G,L),G.legacy=!0,G},ordinalRawValue:function(L,R){null==R&&(R=s);var k=t.getDimensionInfo(L=L||0);if(!k){var H=t.getDimensionIndex(L);return H>=0?t.getStore().get(H,R):void 0}var U=t.get(k.name,R),G=k&&k.ordinalMeta;return G?G.categories[U]:U},styleEmphasis:function(L,R){null==R&&(R=s);var k=S(R,Xl).getItemStyle(),H=E(R,Xl),U=_r(H,null,null,!0,!0);U.text=H.getShallow("show")?ui(n.getFormattedLabel(R,Xl),n.getFormattedLabel(R,zu),kh(t,R)):null;var G=Jp(H,null,!0);return A(L,k),k=vI(k,U,G),L&&I(k,L),k.legacy=!0,k},visual:function(L,R){if(null==R&&(R=s),ut(fI,L)){var k=t.getItemVisual(R,"style");return k?k[fI[L]]:null}if(ut(KP,L))return t.getItemVisual(R,L)},barLayout:function(L){if("cartesian2d"===o.type)return function(R){var k=[],H=R.axis;if("category"===H.type){for(var G=H.getBandWidth(),K=0;K<R.count;K++)k.push(Ee({bandWidth:G,axisKey:"axis0",stackId:Ry+K},R));var $=$S(k),ee=[];for(K=0;K<R.count;K++){var le=$.axis0[Ry+K];le.offsetCenter=le.offset+le.width/2,ee.push(le)}return ee}}(Ee({axis:o.getBaseAxis()},L))},currentSeriesIndices:function(){return e.getCurrentSeriesIndices()},font:function(L){return q1(L,e)}},a.api||{}),h={context:{},seriesId:n.id,seriesName:n.name,seriesIndex:n.seriesIndex,coordSys:a.coordSys,dataInsideLength:t.count(),encode:l2(n.getData())},f={},p={},g={},v={},m=0;m<Vu.length;m++){var y=Vu[m];g[y]=n.getModel(w_[y]),v[y]=n.getModel(T_[y])}function b(L){return L===s?l||(l=t.getItemModel(L)):t.getItemModel(L)}function S(L,R){return t.hasItemOption?L===s?f[R]||(f[R]=b(L).getModel(w_[R])):b(L).getModel(w_[R]):g[R]}function E(L,R){return t.hasItemOption?L===s?p[R]||(p[R]=b(L).getModel(T_[R])):b(L).getModel(T_[R]):v[R]}return function(L,R){return s=L,l=null,f={},p={},r&&r(Ee({dataIndexInside:L,dataIndex:t.getRawIndex(L),actionType:R?R.type:null},h),u)};function I(L,R){for(var k in R)ut(R,k)&&(L[k]=R[k])}function A(L,R){L&&(L.textFill&&(R.textFill=L.textFill),L.textPosition&&(R.textPosition=L.textPosition))}}function l2(n){var t={};return Y(n.dimensions,function(e){var i=n.getDimensionInfo(e);if(!i.isExtraCoord){var r=i.coordDim;(t[r]=t[r]||[])[i.coordDimIndex]=n.getDimensionIndex(e)}}),t}function A_(n,t,e,i,r,o,a){if(i){var s=M_(n,t,e,i,r,o);return s&&a.setItemGraphicEl(e,s),s&&_(s,i.focus,i.blurScope),s}o.remove(t)}function M_(n,t,e,i,r,o,a){var s=-1,l=t;t&&wI(t,i,r)&&(s=pe(o.childrenRef(),t),t=null);var u,h,f=!t,p=t;p?p.clearStates():(p=C_(i),l&&((h=p).copyTransform(u=l),E_(h)&&E_(u)&&(h.setStyle(u.style),h.z=u.z,h.z2=u.z2,h.zlevel=u.zlevel,h.invisible=u.invisible,h.ignore=u.ignore,Cv(h)&&Cv(u)&&h.setShape(u.shape)))),!1===i.morph?p.disableMorphing=!0:p.disableMorphing&&(p.disableMorphing=!1),us.normal.cfg=us.normal.conOpt=us.emphasis.cfg=us.emphasis.conOpt=us.blur.cfg=us.blur.conOpt=us.select.cfg=us.select.conOpt=null,us.isLegacy=!1,function(y,b,S,E,I,A){if(!y.isGroup){TI(S,null,A),TI(S,Xl,A);var L=A.normal.conOpt;if(null!=L||null!=A.emphasis.conOpt||null!=A.select.conOpt||null!=A.blur.conOpt){var U=y.getTextContent();if(!1===L)U&&y.removeTextContent();else{L=A.normal.conOpt=L||{type:"text"},U?U.clearStates():(U=C_(L),y.setTextContent(U)),I_(null,U,b,L,null,E,I,!0);for(var G=L&&L.style,K=0;K<Vu.length;K++){var $=Vu[K];$!==zu&&bI($,U,0,L_(L,A[$].conOpt,$),null)}G?U.dirty():U.markRedraw()}}}}(p,e,i,r,f,us),function(y,b,S,E,I){var A=S.clipPath;if(!1===A)y&&y.getClipPath()&&y.removeClipPath();else if(A){var L=y.getClipPath();L&&wI(L,A,E)&&(L=null),L||(L=C_(A),y.setClipPath(L)),I_(null,L,b,A,null,E,I,!1)}}(p,e,i,r,f),I_(n,p,e,i,us,r,f,!1);for(var g=0;g<Vu.length;g++){var v=Vu[g];v!==zu&&bI(v,p,0,L_(i,Iv(i,v),v),us)}return function(y,b,S){if(!y.isGroup){var E=y,A=S.currentZLevel;E.z=S.currentZ,E.zlevel=A;var L=b.z2;null!=L&&(E.z2=L||0);for(var R=0;R<Vu.length;R++)s2(E,b,Vu[R])}}(p,i,r),"group"===i.type&&function(y,b,S,E,I){var A=E.children,L=A?A.length:0,R=E.$mergeChildren,k="byName"===R||E.diffChildrenByName,H=!1===R;if(L||k||H){if(k)return U={api:y,oldChildren:b.children()||[],newChildren:A||[],dataIndex:S,seriesModel:I,group:b},void new Ul(U.oldChildren,U.newChildren,EI,EI,U).add(CI).update(CI).remove(u2).execute();var U;H&&b.removeAll();for(var G=0;G<L;G++)A[G]&&M_(y,b.childAt(G),S,A[G],I,b);for(var K=b.childCount()-1;K>=G;K--)D_(b.childAt(K),I,b)}}(n,p,e,i,r),s>=0?o.replaceAt(p,s):o.add(p),p}function wI(n,t,e){var i,r=Gs(n),o=t.type,a=t.shape,s=t.style;return e.isUniversalTransitionEnabled()||null!=o&&o!==r.customGraphicType||"path"===o&&(i=a)&&(ut(i,"pathData")||ut(i,"d"))&&II(a)!==r.customPathData||"image"===o&&ut(s,"image")&&s.image!==r.customImagePath}function TI(n,t,e){var i=t?Iv(n,t):n,r=t?L_(n,i,Xl):n.style,o=n.type,a=i?i.textConfig:null,s=n.textContent,l=s?t?Iv(s,t):s:null;if(r&&(e.isLegacy||dI(r,o,!!a,!!l))){e.isLegacy=!0;var u=pI(r,o,!t);!a&&u.textConfig&&(a=u.textConfig),!l&&u.textContent&&(l=u.textContent)}!t&&l&&!l.type&&(l.type="text");var f=t?e[t]:e.normal;f.cfg=a,f.conOpt=l}function Iv(n,t){return t?n?n[t]:null:n}function L_(n,t,e){var i=t&&t.style;return null==i&&e===Xl&&n&&(i=n.styleEmphasis),i}function EI(n,t){return(n&&n.name)??"e\0\0"+t}function CI(n,t){var e=this.context;M_(e.api,null!=t?e.oldChildren[t]:null,e.dataIndex,null!=n?e.newChildren[n]:null,e.seriesModel,e.group)}function u2(n){var t=this.context;D_(t.oldChildren[n],t.seriesModel,t.group)}function D_(n,t,e){if(n){var i=Gs(n).leaveToProps;i?Un(n,i,t,{cb:function(){e.remove(n)}}):e.remove(n)}}function II(n){return n&&(n.pathData||n.d)}var Hc=Fn(),AI=Te,N_=mt,R_=function(){function n(){this._dragging=!1,this.animationThreshold=15}return n.prototype.render=function(t,e,i,r){var o=e.get("value"),a=e.get("status");if(this._axisModel=t,this._axisPointerModel=e,this._api=i,r||this._lastValue!==o||this._lastStatus!==a){this._lastValue=o,this._lastStatus=a;var s=this._group,l=this._handle;if(!a||"hide"===a)return s&&s.hide(),void(l&&l.hide());s&&s.show(),l&&l.show();var u={};this.makeElOption(u,o,t,e,i);var h=u.graphicKey;h!==this._lastGraphicKey&&this.clear(i),this._lastGraphicKey=h;var f=this._moveAnimation=this.determineAnimation(t,e);if(s){var p=Lt(MI,e,f);this.updatePointerEl(s,u,p),this.updateLabelEl(s,u,p,e)}else s=this._group=new Ft,this.createPointerEl(s,u,t,e),this.createLabelEl(s,u,t,e),i.getZr().add(s);NI(s,e,!0),this._renderHandle(o)}},n.prototype.remove=function(t){this.clear(t)},n.prototype.dispose=function(t){this.clear(t)},n.prototype.determineAnimation=function(t,e){var i=e.get("animation"),r=t.axis,o="category"===r.type,a=e.get("snap");if(!a&&!o)return!1;if("auto"===i||null==i){var s=this.animationThreshold;if(o&&r.getBandWidth()>s)return!0;if(a){var l=l0(t).seriesDataCount,u=r.getExtent();return Math.abs(u[0]-u[1])/l>s}return!1}return!0===i},n.prototype.makeElOption=function(t,e,i,r,o){},n.prototype.createPointerEl=function(t,e,i,r){var o=e.pointer;if(o){var a=Hc(t).pointerEl=new zf[o.type](AI(e.pointer));t.add(a)}},n.prototype.createLabelEl=function(t,e,i,r){if(e.label){var o=Hc(t).labelEl=new Nn(AI(e.label));t.add(o),DI(o,r)}},n.prototype.updatePointerEl=function(t,e,i){var r=Hc(t).pointerEl;r&&e.pointer&&(r.setStyle(e.pointer.style),i(r,{shape:e.pointer.shape}))},n.prototype.updateLabelEl=function(t,e,i,r){var o=Hc(t).labelEl;o&&(o.setStyle(e.label.style),i(o,{x:e.label.x,y:e.label.y}),DI(o,r))},n.prototype._renderHandle=function(t){if(!this._dragging&&this.updateHandleTransform){var e,i=this._axisPointerModel,r=this._api.getZr(),o=this._handle,a=i.getModel("handle"),s=i.get("status");if(!a.get("show")||!s||"hide"===s)return o&&r.remove(o),void(this._handle=null);this._handle||(e=!0,o=this._handle=fh(a.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(u){Mr(u.event)},onmousedown:N_(this._onHandleDragMove,this,0,0),drift:N_(this._onHandleDragMove,this),ondragend:N_(this._onHandleDragEnd,this)}),r.add(o)),NI(o,i,!1),o.setStyle(a.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var l=a.get("size");rt(l)||(l=[l,l]),o.scaleX=l[0]/2,o.scaleY=l[1]/2,td(this,"_doDispatchAxisPointer",a.get("throttle")||0,"fixRate"),this._moveHandleToValue(t,e)}},n.prototype._moveHandleToValue=function(t,e){MI(this._axisPointerModel,!e&&this._moveAnimation,this._handle,O_(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))},n.prototype._onHandleDragMove=function(t,e){var i=this._handle;if(i){this._dragging=!0;var r=this.updateHandleTransform(O_(i),[t,e],this._axisModel,this._axisPointerModel);this._payloadInfo=r,i.stopAnimation(),i.attr(O_(r)),Hc(i).lastProp=null,this._doDispatchAxisPointer()}},n.prototype._doDispatchAxisPointer=function(){if(this._handle){var t=this._payloadInfo,e=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:e.axis.dim,axisIndex:e.componentIndex}]})}},n.prototype._onHandleDragEnd=function(){if(this._dragging=!1,this._handle){var t=this._axisPointerModel.get("value");this._moveHandleToValue(t),this._api.dispatchAction({type:"hideTip"})}},n.prototype.clear=function(t){this._lastValue=null,this._lastStatus=null;var e=t.getZr(),i=this._group,r=this._handle;e&&i&&(this._lastGraphicKey=null,i&&e.remove(i),r&&e.remove(r),this._group=null,this._handle=null,this._payloadInfo=null)},n.prototype.doClear=function(){},n.prototype.buildLabel=function(t,e,i){return{x:t[i=i||0],y:t[1-i],width:e[i],height:e[1-i]}},n}();function MI(n,t,e,i){LI(Hc(e).lastProp,i)||(Hc(e).lastProp=i,t?Un(e,i,n):(e.stopAnimation(),e.attr(i)))}function LI(n,t){if(Bt(n)&&Bt(t)){var e=!0;return Y(t,function(i,r){e=e&&LI(n[r],i)}),!!e}return n===t}function DI(n,t){n[t.get(["label","show"])?"show":"hide"]()}function O_(n){return{x:n.x||0,y:n.y||0,rotation:n.rotation||0}}function NI(n,t,e){var i=t.get("z"),r=t.get("zlevel");n&&n.traverse(function(o){"group"!==o.type&&(null!=i&&(o.z=i),null!=r&&(o.zlevel=r),o.silent=e)})}function k_(n){var t,e=n.get("type"),i=n.getModel(e+"Style");return"line"===e?(t=i.getLineStyle()).fill=null:"shadow"===e&&((t=i.getAreaStyle()).stroke=null),t}function RI(n,t,e,i,r){var o=OI(e.get("value"),t.axis,t.ecModel,e.get("seriesDataIndices"),{precision:e.get(["label","precision"]),formatter:e.get(["label","formatter"])}),a=e.getModel("label"),s=mc(a.get("padding")||0),l=a.getFont(),u=Ue(o,l),h=r.position,f=u.width+s[1]+s[3],p=u.height+s[0]+s[2],g=r.align;"right"===g&&(h[0]-=f),"center"===g&&(h[0]-=f/2);var y,b,S,E,I,A,v=r.verticalAlign;"bottom"===v&&(h[1]-=p),"middle"===v&&(h[1]-=p/2),y=h,b=f,S=p,I=(E=i).getWidth(),A=E.getHeight(),y[0]=Math.min(y[0]+b,I)-b,y[1]=Math.min(y[1]+S,A)-S,y[0]=Math.max(y[0],0),y[1]=Math.max(y[1],0);var m=a.get("backgroundColor");m&&"auto"!==m||(m=t.get(["axisLine","lineStyle","color"])),n.label={x:h[0],y:h[1],style:_r(a,{text:o,font:l,fill:a.getTextColor(),padding:s,backgroundColor:m}),z2:10}}function OI(n,t,e,i,r){n=t.scale.parse(n);var o=t.scale.getLabel({value:n},{precision:r.precision}),a=r.formatter;if(a){var s={value:Uy(t,{value:n}),axisDimension:t.dim,axisIndex:t.index,seriesData:[]};Y(i,function(l){var u=e.getSeriesByIndex(l.seriesIndex),f=u&&u.getDataParams(l.dataIndexInside);f&&s.seriesData.push(f)}),Jt(a)?o=a.replace("{value}",o):sn(a)&&(o=a(s))}return o}function P_(n,t,e){var i=[1,0,0,1,0,0];return Ca(i,i,e.rotation),bo(i,i,e.position),Ps([n.dataToCoord(t),(e.labelOffset||0)+(e.labelDirection||1)*(e.labelMargin||0)],i)}function kI(n,t,e,i,r,o){var a=oa.innerTextLayout(e.rotation,0,e.labelDirection);e.labelMargin=r.get(["label","margin"]),RI(t,i,r,o,{position:P_(i.axis,n,e),align:a.textAlign,verticalAlign:a.textVerticalAlign})}function B_(n,t,e){return{x1:n[e=e||0],y1:n[1-e],x2:t[e],y2:t[1-e]}}function PI(n,t,e){return{x:n[e=e||0],y:n[1-e],width:t[e],height:t[1-e]}}function BI(n,t,e,i,r,o){return{cx:n,cy:t,r0:e,r:i,startAngle:r,endAngle:o,clockwise:!0}}var c2=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return ue(t,n),t.prototype.makeElOption=function(e,i,r,o,a){var s=r.axis,l=s.grid,u=o.get("type"),h=FI(l,s).getOtherAxis(s).getGlobalExtent(),f=s.toGlobalCoord(s.dataToCoord(i,!0));if(u&&"none"!==u){var p=k_(o),g=h2[u](s,f,h);g.style=p,e.graphicKey=g.type,e.pointer=g}kI(i,e,o0(l.model,r),r,o,a)},t.prototype.getHandleTransform=function(e,i,r){var o=o0(i.axis.grid.model,i,{labelInside:!1});o.labelMargin=r.get(["handle","margin"]);var a=P_(i.axis,e,o);return{x:a[0],y:a[1],rotation:o.rotation+(o.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(e,i,r,o){var a=r.axis,s=a.grid,l=a.getGlobalExtent(!0),u=FI(s,a).getOtherAxis(a).getGlobalExtent(),h="x"===a.dim?0:1,f=[e.x,e.y];f[h]+=i[h],f[h]=Math.min(l[1],f[h]),f[h]=Math.max(l[0],f[h]);var p=(u[1]+u[0])/2,g=[p,p];return g[h]=f[h],{x:f[0],y:f[1],rotation:e.rotation,cursorPoint:g,tooltipOption:[{verticalAlign:"middle"},{align:"center"}][h]}},t}(R_);function FI(n,t){var e={};return e[t.dim+"AxisIndex"]=t.index,n.getCartesian(e)}var h2={line:function(n,t,e){return{type:"Line",subPixelOptimize:!0,shape:B_([t,e[0]],[t,e[1]],HI(n))}},shadow:function(n,t,e){var i=Math.max(1,n.getBandWidth());return{type:"Rect",shape:PI([t-i/2,e[0]],[i,e[1]-e[0]],HI(n))}}};function HI(n){return"x"===n.dim?0:1}var f2=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return ue(t,n),t.type="axisPointer",t.defaultOption={show:"auto",zlevel:0,z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},t}(Rn),jl=Fn(),d2=Y;function UI(n,t,e){if(!ve.node){var i=t.getZr();jl(i).records||(jl(i).records={}),function(r,o){function a(s,l){r.on(s,function(u){var f,p,g,h=(f=o,{dispatchAction:g=function(v){var m=p[v.type];m?m.push(v):(v.dispatchAction=g,f.dispatchAction(v))},pendings:p={showTip:[],hideTip:[]}});d2(jl(r).records,function(f){f&&l(f,u,h.dispatchAction)}),function(f,p){var g,v=f.showTip.length,m=f.hideTip.length;v?g=f.showTip[v-1]:m&&(g=f.hideTip[m-1]),g&&(g.dispatchAction=null,p.dispatchAction(g))}(h.pendings,o)})}jl(r).initialized||(jl(r).initialized=!0,a("click",Lt(zI,"click")),a("mousemove",Lt(zI,"mousemove")),a("globalout",p2))}(i,t),(jl(i).records[n]||(jl(i).records[n]={})).handler=e}}function p2(n,t,e){n.handler("leave",null,e)}function zI(n,t,e,i){t.handler(n,e,i)}function F_(n,t){if(!ve.node){var e=t.getZr();(jl(e).records||{})[n]&&(jl(e).records[n]=null)}}var g2=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return ue(t,n),t.prototype.render=function(e,i,r){var o=i.getComponent("tooltip"),a=e.get("triggerOn")||o&&o.get("triggerOn")||"mousemove|click";UI("axisPointer",r,function(s,l,u){"none"!==a&&("leave"===s||a.indexOf(s)>=0)&&u({type:"updateAxisPointer",currTrigger:s,x:l&&l.offsetX,y:l&&l.offsetY})})},t.prototype.remove=function(e,i){F_("axisPointer",i)},t.prototype.dispose=function(e,i){F_("axisPointer",i)},t.type="axisPointer",t}(Ni);function VI(n,t){var e,i=[],r=n.seriesIndex;if(null==r||!(e=t.getSeriesByIndex(r)))return{point:[]};var o=e.getData(),a=Ui(o,n);if(null==a||a<0||rt(a))return{point:[]};var s=o.getItemGraphicEl(a),l=e.coordinateSystem;if(e.getTooltipPosition)i=e.getTooltipPosition(a)||[];else if(l&&l.dataToPoint)if(n.isStacked){var u=l.getBaseAxis(),h=l.getOtherAxis(u).dim,p="x"===h||"radius"===h?1:0,g=o.mapDimension(u.dim),v=[];v[p]=o.get(g,a),v[1-p]=o.get(o.getCalculationInfo("stackResultDimension"),a),i=l.dataToPoint(v)||[]}else i=l.dataToPoint(o.getValues(Ve(l.dimensions,function(y){return o.mapDimension(y)}),a))||[];else if(s){var m=s.getBoundingRect().clone();m.applyTransform(s.transform),i=[m.x+m.width/2,m.y+m.height/2]}return{point:i,el:s}}var GI=Fn();function v2(n,t,e){var b,S,I,i=n.currTrigger,r=[n.x,n.y],o=n,a=n.dispatchAction||mt(e.dispatchAction,e),s=t.getComponent("axisPointer").coordSysAxesInfo;if(s){Av(r)&&(r=VI({seriesIndex:o.seriesIndex,dataIndex:o.dataIndex},t).point);var l=Av(r),u=o.axesInfo,h=s.axesInfo,f="leave"===i||Av(r),p={},g={},v={list:[],map:{}},m={showPointer:Lt(m2,g),showTooltip:Lt(y2,v)};Y(s.coordSysMap,function(b,S){var E=l||b.containPoint(r);Y(s.coordSysAxesInfo[S],function(I,A){var L=I.axis,R=function(H,U){for(var G=0;G<(H||[]).length;G++){var K=H[G];if(U.axis.dim===K.axisDim&&U.axis.model.componentIndex===K.axisIndex)return K}}(u,I);if(!f&&E&&(!u||R)){var k=R&&R.value;null!=k||l||(k=L.pointToData(r)),null!=k&&WI(I,k,m,!1,p)}})});var y={};return Y(h,function(b,S){var E=b.linkGroup;E&&!g[S]&&Y(E.axesInfo,function(I,A){var L=g[A];if(I!==b&&L){var R=L.value;E.mapper&&(R=b.axis.scale.parse(E.mapper(R,YI(I),YI(b)))),y[b.key]=R}})}),Y(y,function(b,S){WI(h[S],b,m,!0,p)}),b=g,S=h,I=p.axesInfo=[],Y(S,function(A,L){var R=A.axisPointerModel.option,k=b[L];k?(!A.useHandle&&(R.status="show"),R.value=k.value,R.seriesDataIndices=(k.payloadBatch||[]).slice()):!A.useHandle&&(R.status="hide"),"show"===R.status&&I.push({axisDim:A.axis.dim,axisIndex:A.axis.model.componentIndex,value:R.value})}),function(b,S,E,I){if(!Av(S)&&b.list.length){var A=((b.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};I({type:"showTip",escapeConnect:!0,x:S[0],y:S[1],tooltipOption:E.tooltipOption,position:E.position,dataIndexInside:A.dataIndexInside,dataIndex:A.dataIndex,seriesIndex:A.seriesIndex,dataByCoordSys:b.list})}else I({type:"hideTip"})}(v,r,n,a),function(b,S,E){var I=E.getZr(),A="axisPointerLastHighlights",L=GI(I)[A]||{},R=GI(I)[A]={};Y(b,function(U,G){var K=U.axisPointerModel.option;"show"===K.status&&Y(K.seriesDataIndices,function($){R[$.seriesIndex+" | "+$.dataIndex]=$})});var k=[],H=[];Y(L,function(U,G){!R[G]&&H.push(U)}),Y(R,function(U,G){!L[G]&&k.push(U)}),H.length&&E.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:H}),k.length&&E.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:k})}(h,0,e),p}}function WI(n,t,e,i,r){var u,h,f,p,g,v,m,y,o=n.axis;if(!o.scale.isBlank()&&o.containData(t))if(n.involveSeries){var a=(p=(f=(h=n).axis).dim,g=u=t,v=[],m=Number.MAX_VALUE,y=-1,Y(h.seriesModels,function(b,S){var E,I,A=b.getData().mapDimensionsAll(p);if(b.getAxisTooltipData){var L=b.getAxisTooltipData(A,u,f);I=L.dataIndices,E=L.nestestValue}else{if(!(I=b.getData().indicesOfNearest(A[0],u,"category"===f.type?.5:null)).length)return;E=b.getData().get(A[0],I[0])}if(null!=E&&isFinite(E)){var R=u-E,k=Math.abs(R);k<=m&&((k<m||R>=0&&y<0)&&(m=k,y=R,g=E,v.length=0),Y(I,function(H){v.push({seriesIndex:b.seriesIndex,dataIndexInside:H,dataIndex:b.getData().getRawIndex(H)})}))}}),{payloadBatch:v,snapToValue:g}),s=a.payloadBatch,l=a.snapToValue;s[0]&&null==r.seriesIndex&&se(r,s[0]),!i&&n.snap&&o.containData(l)&&null!=l&&(t=l),e.showPointer(n,t,s),e.showTooltip(n,a,l)}else e.showPointer(n,t)}function m2(n,t,e,i){n[t.key]={value:e,payloadBatch:i}}function y2(n,t,e,i){var r=e.payloadBatch,o=t.axis,a=o.model,s=t.axisPointerModel;if(t.triggerTooltip&&r.length){var l=t.coordSys.model,u=Rd(l),h=n.map[u];h||(h=n.map[u]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},n.list.push(h)),h.dataByAxis.push({axisDim:o.dim,axisIndex:a.componentIndex,axisType:a.type,axisId:a.id,value:i,valueLabelOpt:{precision:s.get(["label","precision"]),formatter:s.get(["label","formatter"])},seriesDataIndices:r.slice()})}}function YI(n){var t=n.axis.model,e={},i=e.axisDim=n.axis.dim;return e.axisIndex=e[i+"AxisIndex"]=t.componentIndex,e.axisName=e[i+"AxisName"]=t.name,e.axisId=e[i+"AxisId"]=t.id,e}function Av(n){return!n||null==n[0]||isNaN(n[0])||null==n[1]||isNaN(n[1])}function qd(n){Dc.registerAxisPointerClass("CartesianAxisPointer",c2),n.registerComponentModel(f2),n.registerComponentView(g2),n.registerPreprocessor(function(t){if(t){(!t.axisPointer||0===t.axisPointer.length)&&(t.axisPointer={});var e=t.axisPointer.link;e&&!rt(e)&&(t.axisPointer.link=[e])}}),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,function(t,e){t.getComponent("axisPointer").coordSysAxesInfo=function GR(n,t){var i,r,o,a,s,l,u,e={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return i=e,o=t,a=(r=n).getComponent("tooltip"),s=r.getComponent("axisPointer"),l=s.get("link",!0)||[],u=[],Y(o.getCoordinateSystems(),function(h){if(h.axisPointerEnabled){var f=Rd(h.model),p=i.coordSysAxesInfo[f]={};i.coordSysMap[f]=h;var g=h.model.getModel("tooltip",a);if(Y(h.getAxes(),Lt(b,!1,null)),h.getTooltipAxes&&a&&g.get("show")){var v="axis"===g.get("trigger"),m="cross"===g.get(["axisPointer","type"]),y=h.getTooltipAxes(g.get(["axisPointer","axis"]));(v||m)&&Y(y.baseAxes,Lt(b,!m||"cross",v)),m&&Y(y.otherAxes,Lt(b,"cross",!1))}}function b(S,E,I){var A=I.model.getModel("axisPointer",s),L=A.get("show");if(L&&("auto"!==L||S||u0(A))){null==E&&(E=A.get("triggerTooltip"));var R=(A=S?function($,ee,le,he,ge,me){var be=ee.getModel("axisPointer"),Le={};Y(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],function(Je){Le[Je]=Te(be.get(Je))}),Le.snap="category"!==$.type&&!!me,"cross"===be.get("type")&&(Le.type="line");var Ge=Le.label||(Le.label={});if(null==Ge.show&&(Ge.show=!1),"cross"===ge){var nt=be.get(["label","show"]);if(Ge.show=null==nt||nt,!me){var xt=Le.lineStyle=be.get("crossStyle");xt&&Ee(Ge,xt.textStyle)}}return $.model.getModel("axisPointer",new Qn(Le,le,he))}(I,g,s,r,S,E):A).get("snap"),k=Rd(I.model),H=E||R||"category"===I.type,U=i.axesInfo[k]={key:k,axis:I,coordSys:h,axisPointerModel:A,triggerTooltip:E,involveSeries:H,snap:R,useHandle:u0(A),seriesModels:[],linkGroup:null};p[k]=U,i.seriesInvolved=i.seriesInvolved||H;var G=function($,ee){for(var le=ee.model,he=ee.dim,ge=0;ge<$.length;ge++){var me=$[ge]||{};if(s0(me[he+"AxisId"],le.id)||s0(me[he+"AxisIndex"],le.componentIndex)||s0(me[he+"AxisName"],le.name))return ge}}(l,I);if(null!=G){var K=u[G]||(u[G]={axesInfo:{}});K.axesInfo[k]=U,K.mapper=l[G].mapper,U.linkGroup=K}}}}),e.seriesInvolved&&function(i,r){r.eachSeries(function(o){var a=o.coordinateSystem,s=o.get(["tooltip","trigger"],!0),l=o.get(["tooltip","show"],!0);a&&"none"!==s&&!1!==s&&"item"!==s&&!1!==l&&!1!==o.get(["axisPointer","show"],!0)&&Y(i.coordSysAxesInfo[Rd(a.model)],function(u){var h=u.axis;a.getAxis(h.dim)===h&&(u.seriesModels.push(o),null==u.seriesDataCount&&(u.seriesDataCount=0),u.seriesDataCount+=o.getData().count())})})}(e,n),e}(t,e)}),n.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},v2)}var _2=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return ue(t,n),t.prototype.makeElOption=function(e,i,r,o,a){var s=r.axis;"angle"===s.dim&&(this.animationThreshold=Math.PI/18);var l=s.polar,u=l.getOtherAxis(s).getExtent(),h=s.dataToCoord(i),f=o.get("type");if(f&&"none"!==f){var p=k_(o),g=x2[f](s,l,h,u);g.style=p,e.graphicKey=g.type,e.pointer=g}var v=function(m,y,b,S,E){var I=y.axis,A=I.dataToCoord(m),L=S.getAngleAxis().getExtent()[0];L=L/180*Math.PI;var R,k,H,U=S.getRadiusAxis().getExtent();if("radius"===I.dim){var G=[1,0,0,1,0,0];Ca(G,G,L),bo(G,G,[S.cx,S.cy]),R=Ps([A,-E],G);var K=y.getModel("axisLabel").get("rotate")||0,$=oa.innerTextLayout(L,K*Math.PI/180,-1);k=$.textAlign,H=$.textVerticalAlign}else{var ee=U[1];R=S.coordToPoint([ee+E,A]);var le=S.cx,he=S.cy;k=Math.abs(R[0]-le)/ee<.3?"center":R[0]>le?"left":"right",H=Math.abs(R[1]-he)/ee<.3?"middle":R[1]>he?"top":"bottom"}return{position:R,align:k,verticalAlign:H}}(i,r,0,l,o.get(["label","margin"]));RI(e,r,o,a,v)},t}(R_),x2={line:function(n,t,e,i){return"angle"===n.dim?{type:"Line",shape:B_(t.coordToPoint([i[0],e]),t.coordToPoint([i[1],e]))}:{type:"Circle",shape:{cx:t.cx,cy:t.cy,r:e}}},shadow:function(n,t,e,i){var r=Math.max(1,n.getBandWidth()),o=Math.PI/180;return"angle"===n.dim?{type:"Sector",shape:BI(t.cx,t.cy,i[0],i[1],(-e-r/2)*o,(r/2-e)*o)}:{type:"Sector",shape:BI(t.cx,t.cy,e-r/2,e+r/2,0,2*Math.PI)}}},b2=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return ue(t,n),t.prototype.findAxisModel=function(e){var i;return this.ecModel.eachComponent(e,function(r){r.getCoordSysModel()===this&&(i=r)},this),i},t.type="polar",t.dependencies=["radiusAxis","angleAxis"],t.defaultOption={zlevel:0,z:0,center:["50%","50%"],radius:"80%"},t}(Rn),H_=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return ue(t,n),t.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",mr).models[0]},t.type="polarAxis",t}(Rn);lt(H_,Oh);var S2=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return ue(t,n),t.type="angleAxis",t}(H_),w2=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return ue(t,n),t.type="radiusAxis",t}(H_),U_=function(n){function t(e,i){return n.call(this,"radius",e,i)||this}return ue(t,n),t.prototype.pointToData=function(e,i){return this.polar.pointToData(e,i)["radius"===this.dim?0:1]},t}(as);U_.prototype.dataToRadius=as.prototype.dataToCoord,U_.prototype.radiusToData=as.prototype.coordToData;var T2=Fn(),z_=function(n){function t(e,i){return n.call(this,"angle",e,i||[0,360])||this}return ue(t,n),t.prototype.pointToData=function(e,i){return this.polar.pointToData(e,i)["radius"===this.dim?0:1]},t.prototype.calculateCategoryInterval=function(){var e=this,i=e.getLabelModel(),r=e.scale,o=r.getExtent(),a=r.count();if(o[1]-o[0]<1)return 0;var s=o[0],l=e.dataToCoord(s+1)-e.dataToCoord(s),u=Math.abs(l),h=Ue(null==s?"":s+"",i.getFont(),"center","top"),f=Math.max(h.height,7)/u;isNaN(f)&&(f=1/0);var p=Math.max(0,Math.floor(f)),g=T2(e.model),v=g.lastAutoInterval,m=g.lastTickCount;return null!=v&&null!=m&&Math.abs(v-p)<=1&&Math.abs(m-a)<=1&&v>p?p=v:(g.lastTickCount=a,g.lastAutoInterval=p),p},t}(as);z_.prototype.dataToAngle=as.prototype.dataToCoord,z_.prototype.angleToData=as.prototype.coordToData;var XI=["radius","angle"],E2=function(){function n(t){this.dimensions=XI,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new U_,this._angleAxis=new z_,this.axisPointerEnabled=!0,this.name=t||"",this._radiusAxis.polar=this._angleAxis.polar=this}return n.prototype.containPoint=function(t){var e=this.pointToCoord(t);return this._radiusAxis.contain(e[0])&&this._angleAxis.contain(e[1])},n.prototype.containData=function(t){return this._radiusAxis.containData(t[0])&&this._angleAxis.containData(t[1])},n.prototype.getAxis=function(t){return this["_"+t+"Axis"]},n.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},n.prototype.getAxesByScale=function(t){var e=[],i=this._angleAxis,r=this._radiusAxis;return i.scale.type===t&&e.push(i),r.scale.type===t&&e.push(r),e},n.prototype.getAngleAxis=function(){return this._angleAxis},n.prototype.getRadiusAxis=function(){return this._radiusAxis},n.prototype.getOtherAxis=function(t){var e=this._angleAxis;return t===e?this._radiusAxis:e},n.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},n.prototype.getTooltipAxes=function(t){var e=null!=t&&"auto"!==t?this.getAxis(t):this.getBaseAxis();return{baseAxes:[e],otherAxes:[this.getOtherAxis(e)]}},n.prototype.dataToPoint=function(t,e){return this.coordToPoint([this._radiusAxis.dataToRadius(t[0],e),this._angleAxis.dataToAngle(t[1],e)])},n.prototype.pointToData=function(t,e){var i=this.pointToCoord(t);return[this._radiusAxis.radiusToData(i[0],e),this._angleAxis.angleToData(i[1],e)]},n.prototype.pointToCoord=function(t){var e=t[0]-this.cx,i=t[1]-this.cy,r=this.getAngleAxis(),o=r.getExtent(),a=Math.min(o[0],o[1]),s=Math.max(o[0],o[1]);r.inverse?a=s-360:s=a+360;var l=Math.sqrt(e*e+i*i);e/=l,i/=l;for(var u=Math.atan2(-i,e)/Math.PI*180,h=u<a?1:-1;u<a||u>s;)u+=360*h;return[l,u]},n.prototype.coordToPoint=function(t){var e=t[0],i=t[1]/180*Math.PI;return[Math.cos(i)*e+this.cx,-Math.sin(i)*e+this.cy]},n.prototype.getArea=function(){var t=this.getAngleAxis(),e=this.getRadiusAxis().getExtent().slice();e[0]>e[1]&&e.reverse();var i=t.getExtent(),r=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:e[0],r:e[1],startAngle:-i[0]*r,endAngle:-i[1]*r,clockwise:t.inverse,contain:function(o,a){var s=o-this.cx,l=a-this.cy,u=s*s+l*l,h=this.r,f=this.r0;return u<=h*h&&u>=f*f}}},n.prototype.convertToPixel=function(t,e,i){return jI(e)===this?this.dataToPoint(i):null},n.prototype.convertFromPixel=function(t,e,i){return jI(e)===this?this.pointToData(i):null},n}();function jI(n){var t=n.seriesModel,e=n.polarModel;return e&&e.coordinateSystem||t&&t.coordinateSystem}function C2(n,t){var e=this,i=e.getAngleAxis(),r=e.getRadiusAxis();if(i.scale.setExtent(1/0,-1/0),r.scale.setExtent(1/0,-1/0),n.eachSeries(function(s){if(s.coordinateSystem===e){var l=s.getData();Y(Wg(l,"radius"),function(u){r.scale.unionExtentFromData(l,u)}),Y(Wg(l,"angle"),function(u){i.scale.unionExtentFromData(l,u)})}}),Ru(i.scale,i.model),Ru(r.scale,r.model),"category"===i.type&&!i.onBand){var o=i.getExtent(),a=360/i.scale.count();i.inverse?o[1]+=a:o[1]-=a,i.setExtent(o[0],o[1])}}function qI(n,t){if(n.type=t.get("type"),n.scale=yd(t),n.onBand=t.get("boundaryGap")&&"category"===n.type,n.inverse=t.get("inverse"),"angleAxis"===t.mainType){n.inverse=n.inverse!==t.get("clockwise");var e=t.get("startAngle");n.setExtent(e,e+(n.inverse?-360:360))}t.axis=n,n.model=t}var I2={dimensions:XI,create:function(n,t){var e=[];return n.eachComponent("polar",function(i,r){var o=new E2(r+"");o.update=C2;var a=o.getRadiusAxis(),s=o.getAngleAxis(),l=i.findAxisModel("radiusAxis"),u=i.findAxisModel("angleAxis");qI(a,l),qI(s,u),function(h,f,p){var g=f.get("center"),v=p.getWidth(),m=p.getHeight();h.cx=kt(g[0],v),h.cy=kt(g[1],m);var y=h.getRadiusAxis(),b=Math.min(v,m)/2,S=f.get("radius");null==S?S=[0,"100%"]:rt(S)||(S=[0,S]);var E=[kt(S[0],b),kt(S[1],b)];y.inverse?y.setExtent(E[1],E[0]):y.setExtent(E[0],E[1])}(o,i,t),e.push(o),i.coordinateSystem=o,o.model=i}),n.eachSeries(function(i){if("polar"===i.get("coordinateSystem")){var r=i.getReferringComponents("polar",mr).models[0];i.coordinateSystem=r.coordinateSystem}}),e}},A2=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function Mv(n,t,e){t[1]>t[0]&&(t=t.slice().reverse());var i=n.coordToPoint([t[0],e]),r=n.coordToPoint([t[1],e]);return{x1:i[0],y1:i[1],x2:r[0],y2:r[1]}}function Lv(n){return n.getRadiusAxis().inverse?0:1}function KI(n){var t=n[0],e=n[n.length-1];t&&e&&Math.abs(Math.abs(t.coord-e.coord)-360)<1e-4&&n.pop()}var M2=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.axisPointerClass="PolarAxisPointer",e}return ue(t,n),t.prototype.render=function(e,i){if(this.group.removeAll(),e.get("show")){var r=e.axis,o=r.polar,a=o.getRadiusAxis().getExtent(),s=r.getTicksCoords(),l=r.getMinorTicksCoords(),u=Ve(r.getViewLabels(),function(h){h=Te(h);var f=r.scale,p="ordinal"===f.type?f.getRawOrdinalNumber(h.tickValue):h.tickValue;return h.coord=r.dataToCoord(p),h});KI(u),KI(s),Y(A2,function(h){!e.get([h,"show"])||r.scale.isBlank()&&"axisLine"!==h||L2[h](this.group,e,o,s,l,a,u)},this)}},t.type="angleAxis",t}(Dc),L2={axisLine:function(n,t,e,i,r,o){var a,s=t.getModel(["axisLine","lineStyle"]),l=Lv(e),u=l?0:1;(a=0===o[u]?new gi({shape:{cx:e.cx,cy:e.cy,r:o[l]},style:s.getLineStyle(),z2:1,silent:!0}):new lh({shape:{cx:e.cx,cy:e.cy,r:o[l],r0:o[u]},style:s.getLineStyle(),z2:1,silent:!0})).style.fill=null,n.add(a)},axisTick:function(n,t,e,i,r,o){var a=t.getModel("axisTick"),s=(a.get("inside")?-1:1)*a.get("length"),l=o[Lv(e)],u=Ve(i,function(h){return new $r({shape:Mv(e,[l,l+s],h.coord)})});n.add(ka(u,{style:Ee(a.getModel("lineStyle").getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])})}))},minorTick:function(n,t,e,i,r,o){if(r.length){for(var a=t.getModel("axisTick"),s=t.getModel("minorTick"),l=(a.get("inside")?-1:1)*s.get("length"),u=o[Lv(e)],h=[],f=0;f<r.length;f++)for(var p=0;p<r[f].length;p++)h.push(new $r({shape:Mv(e,[u,u+l],r[f][p].coord)}));n.add(ka(h,{style:Ee(s.getModel("lineStyle").getLineStyle(),Ee(a.getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(n,t,e,i,r,o,a){var s=t.getCategories(!0),l=t.getModel("axisLabel"),u=l.get("margin"),h=t.get("triggerEvent");Y(a,function(f,p){var g=l,v=f.tickValue,m=o[Lv(e)],y=e.coordToPoint([m+u,f.coord]),b=e.cx,S=e.cy,E=Math.abs(y[0]-b)/m<.3?"center":y[0]>b?"left":"right",I=Math.abs(y[1]-S)/m<.3?"middle":y[1]>S?"top":"bottom";if(s&&s[v]){var A=s[v];Bt(A)&&A.textStyle&&(g=new Qn(A.textStyle,l,l.ecModel))}var L=new Nn({silent:oa.isLabelSilent(t),style:_r(g,{x:y[0],y:y[1],fill:g.getTextColor()||t.get(["axisLine","lineStyle","color"]),text:f.formattedLabel,align:E,verticalAlign:I})});if(n.add(L),h){var R=oa.makeAxisEventDataBase(t);R.targetType="axisLabel",R.value=f.rawLabel,pn(L).eventData=R}},this)},splitLine:function(n,t,e,i,r,o){var a=t.getModel("splitLine").getModel("lineStyle"),s=a.get("color"),l=0;s=s instanceof Array?s:[s];for(var u=[],h=0;h<i.length;h++){var f=l++%s.length;u[f]=u[f]||[],u[f].push(new $r({shape:Mv(e,o,i[h].coord)}))}for(h=0;h<u.length;h++)n.add(ka(u[h],{style:Ee({stroke:s[h%s.length]},a.getLineStyle()),silent:!0,z:t.get("z")}))},minorSplitLine:function(n,t,e,i,r,o){if(r.length){for(var a=t.getModel("minorSplitLine").getModel("lineStyle"),s=[],l=0;l<r.length;l++)for(var u=0;u<r[l].length;u++)s.push(new $r({shape:Mv(e,o,r[l][u].coord)}));n.add(ka(s,{style:a.getLineStyle(),silent:!0,z:t.get("z")}))}},splitArea:function(n,t,e,i,r,o){if(i.length){var a=t.getModel("splitArea").getModel("areaStyle"),s=a.get("color"),l=0;s=s instanceof Array?s:[s];for(var u=[],h=Math.PI/180,f=-i[0].coord*h,p=Math.min(o[0],o[1]),g=Math.max(o[0],o[1]),v=t.get("clockwise"),m=1,y=i.length;m<=y;m++){var b=m===y?i[0].coord:i[m].coord,S=l++%s.length;u[S]=u[S]||[],u[S].push(new Bo({shape:{cx:e.cx,cy:e.cy,r0:p,r:g,startAngle:f,endAngle:-b*h,clockwise:v},silent:!0})),f=-b*h}for(m=0;m<u.length;m++)n.add(ka(u[m],{style:Ee({fill:s[m%s.length]},a.getAreaStyle()),silent:!0}))}}},D2=["axisLine","axisTickLabel","axisName"],N2=["splitLine","splitArea","minorSplitLine"],R2=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.axisPointerClass="PolarAxisPointer",e}return ue(t,n),t.prototype.render=function(e,i){if(this.group.removeAll(),e.get("show")){var r=this._axisGroup,o=this._axisGroup=new Ft;this.group.add(o);var a=e.axis,s=a.polar,l=s.getAngleAxis(),u=a.getTicksCoords(),h=a.getMinorTicksCoords(),f=l.getExtent()[0],p=a.getExtent(),g={position:[(m=s).cx,m.cy],rotation:f/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:e.getModel("axisLabel").get("rotate"),z2:1},v=new oa(e,g);Y(D2,v.add,v),o.add(v.getGroup()),Hf(r,o,e),Y(N2,function(m){e.get([m,"show"])&&!a.scale.isBlank()&&O2[m](this.group,e,s,f,p,u,h)},this)}var m},t.type="radiusAxis",t}(Dc),O2={splitLine:function(n,t,e,i,r,o){var a=t.getModel("splitLine").getModel("lineStyle"),s=a.get("color"),l=0;s=s instanceof Array?s:[s];for(var u=[],h=0;h<o.length;h++){var f=l++%s.length;u[f]=u[f]||[],u[f].push(new gi({shape:{cx:e.cx,cy:e.cy,r:o[h].coord}}))}for(h=0;h<u.length;h++)n.add(ka(u[h],{style:Ee({stroke:s[h%s.length],fill:null},a.getLineStyle()),silent:!0}))},minorSplitLine:function(n,t,e,i,r,o,a){if(a.length){for(var s=t.getModel("minorSplitLine").getModel("lineStyle"),l=[],u=0;u<a.length;u++)for(var h=0;h<a[u].length;h++)l.push(new gi({shape:{cx:e.cx,cy:e.cy,r:a[u][h].coord}}));n.add(ka(l,{style:Ee({fill:null},s.getLineStyle()),silent:!0}))}},splitArea:function(n,t,e,i,r,o){if(o.length){var a=t.getModel("splitArea").getModel("areaStyle"),s=a.get("color"),l=0;s=s instanceof Array?s:[s];for(var u=[],h=o[0].coord,f=1;f<o.length;f++){var p=l++%s.length;u[p]=u[p]||[],u[p].push(new Bo({shape:{cx:e.cx,cy:e.cy,r0:h,r:o[f].coord,startAngle:0,endAngle:2*Math.PI},silent:!0})),h=o[f].coord}for(f=0;f<u.length;f++)n.add(ka(u[f],{style:Ee({fill:s[f%s.length]},a.getAreaStyle()),silent:!0}))}}};function ZI(n){return n.get("stack")||"__ec_stack_"+n.seriesIndex}function JI(n,t){return t.dim+n.model.componentIndex}function k2(n,t,e){var i={},r=function(o){var a={};Y(o,function(l,u){var h=l.getData(),f=l.coordinateSystem,p=f.getBaseAxis(),g=JI(f,p),v=p.getExtent(),m="category"===p.type?p.getBandWidth():Math.abs(v[1]-v[0])/h.count(),y=a[g]||{bandWidth:m,remainedWidth:m,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},b=y.stacks;a[g]=y;var S=ZI(l);b[S]||y.autoWidthCount++,b[S]=b[S]||{width:0,maxWidth:0};var E=kt(l.get("barWidth"),m),I=kt(l.get("barMaxWidth"),m),A=l.get("barGap"),L=l.get("barCategoryGap");E&&!b[S].width&&(E=Math.min(y.remainedWidth,E),b[S].width=E,y.remainedWidth-=E),I&&(b[S].maxWidth=I),null!=A&&(y.gap=A),null!=L&&(y.categoryGap=L)});var s={};return Y(a,function(l,u){s[u]={};var h=l.stacks,p=kt(l.categoryGap,l.bandWidth),g=kt(l.gap,1),v=l.remainedWidth,m=l.autoWidthCount,y=(v-p)/(m+(m-1)*g);y=Math.max(y,0),Y(h,function(I,A){var L=I.maxWidth;L&&L<y&&(L=Math.min(L,v),I.width&&(L=Math.min(L,I.width)),v-=L,I.width=L,m--)}),y=(v-p)/(m+(m-1)*g),y=Math.max(y,0);var b,S=0;Y(h,function(I,A){I.width||(I.width=y),b=I,S+=I.width*(1+g)}),b&&(S-=b.width*g);var E=-S/2;Y(h,function(I,A){s[u][A]=s[u][A]||{offset:E,width:I.width},E+=I.width*(1+g)})}),s}(jt(t.getSeriesByType(n),function(o){return!t.isSeriesFiltered(o)&&o.coordinateSystem&&"polar"===o.coordinateSystem.type}));t.eachSeriesByType(n,function(o){if("polar"===o.coordinateSystem.type){var a=o.getData(),s=o.coordinateSystem,l=s.getBaseAxis(),u=JI(s,l),h=ZI(o),f=r[u][h],p=f.offset,g=f.width,v=s.getOtherAxis(l),m=o.coordinateSystem.cx,y=o.coordinateSystem.cy,b=o.get("barMinHeight")||0,S=o.get("barMinAngle")||0;i[h]=i[h]||[];for(var E=a.mapDimension(v.dim),I=a.mapDimension(l.dim),A=zl(a,E),L="radius"!==l.dim||!o.get("roundCap",!0),R=v.dataToCoord(0),k=0,H=a.count();k<H;k++){var U=a.get(E,k),G=a.get(I,k),K=U>=0?"p":"n",$=R;A&&(i[h][G]||(i[h][G]={p:R,n:R}),$=i[h][G][K]);var ee=void 0,le=void 0,he=void 0,ge=void 0;if("radius"===v.dim){var me=v.dataToCoord(U)-R,be=l.dataToCoord(G);Math.abs(me)<b&&(me=(me<0?-1:1)*b),ee=$,le=$+me,ge=(he=be-p)-g,A&&(i[h][G][K]=le)}else{var Le=v.dataToCoord(U,L)-R,Ge=l.dataToCoord(G);Math.abs(Le)<S&&(Le=(Le<0?-1:1)*S),le=(ee=Ge+p)+g,he=$,ge=$+Le,A&&(i[h][G][K]=ge)}a.setItemLayout(k,{cx:m,cy:y,r0:ee,r:le,startAngle:-he*Math.PI/180,endAngle:-ge*Math.PI/180,clockwise:he>=ge})}}})}var P2={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},B2={splitNumber:5},F2=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return ue(t,n),t.type="polar",t}(Ni);function V_(n,t){t=t||{};var i=n.axis,r={},o=i.position,a=i.orient,s=n.coordinateSystem.getRect(),l=[s.x,s.x+s.width,s.y,s.y+s.height],u={horizontal:{top:l[2],bottom:l[3]},vertical:{left:l[0],right:l[1]}};r.position=["vertical"===a?u.vertical[o]:l[0],"horizontal"===a?u.horizontal[o]:l[3]],r.rotation=Math.PI/2*{horizontal:0,vertical:1}[a],r.labelDirection=r.tickDirection=r.nameDirection={top:-1,bottom:1,right:1,left:-1}[o],n.get(["axisTick","inside"])&&(r.tickDirection=-r.tickDirection),zn(t.labelInside,n.get(["axisLabel","inside"]))&&(r.labelDirection=-r.labelDirection);var h=t.rotate;return null==h&&(h=n.get(["axisLabel","rotate"])),r.labelRotation="top"===o?-h:h,r.z2=1,r}var H2=["axisLine","axisTickLabel","axisName"],U2=["splitArea","splitLine"],z2=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.axisPointerClass="SingleAxisPointer",e}return ue(t,n),t.prototype.render=function(e,i,r,o){var a=this.group;a.removeAll();var s=this._axisGroup;this._axisGroup=new Ft;var l=V_(e),u=new oa(e,l);Y(H2,u.add,u),a.add(this._axisGroup),a.add(u.getGroup()),Y(U2,function(h){e.get([h,"show"])&&V2[h](this,this.group,this._axisGroup,e)},this),Hf(s,this._axisGroup,e),n.prototype.render.call(this,e,i,r,o)},t.prototype.remove=function(){UT(this)},t.type="singleAxis",t}(Dc),V2={splitLine:function(n,t,e,i){var r=i.axis;if(!r.scale.isBlank()){var o=i.getModel("splitLine"),a=o.getModel("lineStyle"),s=a.get("color");s=s instanceof Array?s:[s];for(var l=i.coordinateSystem.getRect(),u=r.isHorizontal(),h=[],f=0,p=r.getTicksCoords({tickModel:o}),g=[],v=[],m=0;m<p.length;++m){var y=r.toGlobalCoord(p[m].coord);u?(g[0]=y,g[1]=l.y,v[0]=y,v[1]=l.y+l.height):(g[0]=l.x,g[1]=y,v[0]=l.x+l.width,v[1]=y);var b=f++%s.length;h[b]=h[b]||[],h[b].push(new $r({subPixelOptimize:!0,shape:{x1:g[0],y1:g[1],x2:v[0],y2:v[1]},silent:!0}))}var S=a.getLineStyle(["color"]);for(m=0;m<h.length;++m)t.add(ka(h[m],{style:Ee({stroke:s[m%s.length]},S),silent:!0}))}},splitArea:function(n,t,e,i){HT(n,e,i,i)}},Dv=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return ue(t,n),t.prototype.getCoordSysModel=function(){return this},t.type="singleAxis",t.layoutMode="box",t.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}},t}(Rn);lt(Dv,Oh.prototype);var G2=function(n){function t(e,i,r,o,a){var s=n.call(this,e,i,r)||this;return s.type=o||"value",s.position=a||"bottom",s}return ue(t,n),t.prototype.isHorizontal=function(){var e=this.position;return"top"===e||"bottom"===e},t.prototype.pointToData=function(e,i){return this.coordinateSystem.pointToData(e)[0]},t}(as),QI=["single"],W2=function(){function n(t,e,i){this.type="single",this.dimension="single",this.dimensions=QI,this.axisPointerEnabled=!0,this.model=t,this._init(t,e,i)}return n.prototype._init=function(t,e,i){var o=new G2(this.dimension,yd(t),[0,0],t.get("type"),t.get("position"));o.onBand="category"===o.type&&t.get("boundaryGap"),o.inverse=t.get("inverse"),o.orient=t.get("orient"),t.axis=o,o.model=t,o.coordinateSystem=this,this._axis=o},n.prototype.update=function(t,e){t.eachSeries(function(i){if(i.coordinateSystem===this){var r=i.getData();Y(r.mapDimensionsAll(this.dimension),function(o){this._axis.scale.unionExtentFromData(r,o)},this),Ru(this._axis.scale,this._axis.model)}},this)},n.prototype.resize=function(t,e){this._rect=Br({left:t.get("left"),top:t.get("top"),right:t.get("right"),bottom:t.get("bottom"),width:t.get("width"),height:t.get("height")},{width:e.getWidth(),height:e.getHeight()}),this._adjustAxis()},n.prototype.getRect=function(){return this._rect},n.prototype._adjustAxis=function(){var t=this._rect,e=this._axis,i=e.isHorizontal(),r=i?[0,t.width]:[0,t.height],o=e.reverse?1:0;e.setExtent(r[o],r[1-o]),this._updateAxisTransform(e,i?t.x:t.y)},n.prototype._updateAxisTransform=function(t,e){var i=t.getExtent(),r=i[0]+i[1],o=t.isHorizontal();t.toGlobalCoord=o?function(a){return a+e}:function(a){return r-a+e},t.toLocalCoord=o?function(a){return a-e}:function(a){return r-a+e}},n.prototype.getAxis=function(){return this._axis},n.prototype.getBaseAxis=function(){return this._axis},n.prototype.getAxes=function(){return[this._axis]},n.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},n.prototype.containPoint=function(t){var e=this.getRect(),i=this.getAxis();return"horizontal"===i.orient?i.contain(i.toLocalCoord(t[0]))&&t[1]>=e.y&&t[1]<=e.y+e.height:i.contain(i.toLocalCoord(t[1]))&&t[0]>=e.y&&t[0]<=e.y+e.height},n.prototype.pointToData=function(t){var e=this.getAxis();return[e.coordToData(e.toLocalCoord(t["horizontal"===e.orient?0:1]))]},n.prototype.dataToPoint=function(t){var e=this.getAxis(),i=this.getRect(),r=[],o="horizontal"===e.orient?0:1;return t instanceof Array&&(t=t[0]),r[o]=e.toGlobalCoord(e.dataToCoord(+t)),r[1-o]=0===o?i.y+i.height/2:i.x+i.width/2,r},n.prototype.convertToPixel=function(t,e,i){return $I(e)===this?this.dataToPoint(i):null},n.prototype.convertFromPixel=function(t,e,i){return $I(e)===this?this.pointToData(i):null},n}();function $I(n){var t=n.seriesModel,e=n.singleAxisModel;return e&&e.coordinateSystem||t&&t.coordinateSystem}var Y2={create:function(n,t){var e=[];return n.eachComponent("singleAxis",function(i,r){var o=new W2(i,n,t);o.name="single_"+r,o.resize(i,t),i.coordinateSystem=o,e.push(o)}),n.eachSeries(function(i){if("singleAxis"===i.get("coordinateSystem")){var r=i.getReferringComponents("singleAxis",mr).models[0];i.coordinateSystem=r&&r.coordinateSystem}}),e},dimensions:QI},eA=["x","y"],X2=["width","height"],j2=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return ue(t,n),t.prototype.makeElOption=function(e,i,r,o,a){var s=r.axis,l=s.coordinateSystem,u=G_(l,1-Nv(s)),h=l.dataToPoint(i)[0],f=o.get("type");if(f&&"none"!==f){var p=k_(o),g=q2[f](s,h,u);g.style=p,e.graphicKey=g.type,e.pointer=g}kI(i,e,V_(r),r,o,a)},t.prototype.getHandleTransform=function(e,i,r){var o=V_(i,{labelInside:!1});o.labelMargin=r.get(["handle","margin"]);var a=P_(i.axis,e,o);return{x:a[0],y:a[1],rotation:o.rotation+(o.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(e,i,r,o){var a=r.axis,s=a.coordinateSystem,l=Nv(a),u=G_(s,l),h=[e.x,e.y];h[l]+=i[l],h[l]=Math.min(u[1],h[l]),h[l]=Math.max(u[0],h[l]);var f=G_(s,1-l),p=(f[1]+f[0])/2,g=[p,p];return g[l]=h[l],{x:h[0],y:h[1],rotation:e.rotation,cursorPoint:g,tooltipOption:{verticalAlign:"middle"}}},t}(R_),q2={line:function(n,t,e){return{type:"Line",subPixelOptimize:!0,shape:B_([t,e[0]],[t,e[1]],Nv(n))}},shadow:function(n,t,e){var i=n.getBandWidth();return{type:"Rect",shape:PI([t-i/2,e[0]],[i,e[1]-e[0]],Nv(n))}}};function Nv(n){return n.isHorizontal()?0:1}function G_(n,t){var e=n.getRect();return[e[eA[t]],e[eA[t]]+e[X2[t]]]}var K2=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return ue(t,n),t.type="single",t}(Ni),Z2=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return ue(t,n),t.prototype.init=function(e,i,r){var o=mh(e);n.prototype.init.apply(this,arguments),tA(e,o)},t.prototype.mergeOption=function(e){n.prototype.mergeOption.apply(this,arguments),tA(this.option,e)},t.prototype.getCellSize=function(){return this.option.cellSize},t.type="calendar",t.defaultOption={zlevel:0,z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",nameMap:"en",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",nameMap:"en",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},t}(Rn);function tA(n,t){var e,i=n.cellSize;1===(e=rt(i)?i:n.cellSize=[i,i]).length&&(e[1]=e[0]);var r=Ve([0,1],function(o){return(null!=(a=t)[_c[s=o][0]]||null!=a[_c[s][1]]&&null!=a[_c[s][2]])&&(e[o]="auto"),null!=e[o]&&"auto"!==e[o];var a,s});Tu(n,t,{type:"box",ignoreSize:r})}var J2={EN:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],CN:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"]},Q2={EN:["S","M","T","W","T","F","S"],CN:["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"]},$2=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return ue(t,n),t.prototype.render=function(e,i,r){var o=this.group;o.removeAll();var a=e.coordinateSystem,s=a.getRangeInfo(),l=a.getOrient();this._renderDayRect(e,s,o),this._renderLines(e,s,l,o),this._renderYearText(e,s,l,o),this._renderMonthText(e,l,o),this._renderWeekText(e,s,l,o)},t.prototype._renderDayRect=function(e,i,r){for(var o=e.coordinateSystem,a=e.getModel("itemStyle").getItemStyle(),s=o.getCellWidth(),l=o.getCellHeight(),u=i.start.time;u<=i.end.time;u=o.getNextNDay(u,1).time){var h=o.dataToRect([u],!1).tl,f=new kn({shape:{x:h[0],y:h[1],width:s,height:l},cursor:"default",style:a});r.add(f)}},t.prototype._renderLines=function(e,i,r,o){var a=this,s=e.coordinateSystem,l=e.getModel(["splitLine","lineStyle"]).getLineStyle(),u=e.get(["splitLine","show"]),h=l.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var f=i.start,p=0;f.time<=i.end.time;p++){v(f.formatedDate),0===p&&(f=s.getDateInfo(i.start.y+"-"+i.start.m));var g=f.date;g.setMonth(g.getMonth()+1),f=s.getDateInfo(g)}function v(m){a._firstDayOfMonth.push(s.getDateInfo(m)),a._firstDayPoints.push(s.dataToRect([m],!1).tl);var y=a._getLinePointsOfOneWeek(e,m,r);a._tlpoints.push(y[0]),a._blpoints.push(y[y.length-1]),u&&a._drawSplitline(y,l,o)}v(s.getNextNDay(i.end.time,1).formatedDate),u&&this._drawSplitline(a._getEdgesPoints(a._tlpoints,h,r),l,o),u&&this._drawSplitline(a._getEdgesPoints(a._blpoints,h,r),l,o)},t.prototype._getEdgesPoints=function(e,i,r){var o=[e[0].slice(),e[e.length-1].slice()],a="horizontal"===r?0:1;return o[0][a]=o[0][a]-i/2,o[1][a]=o[1][a]+i/2,o},t.prototype._drawSplitline=function(e,i,r){var o=new na({z2:20,shape:{points:e},style:i});r.add(o)},t.prototype._getLinePointsOfOneWeek=function(e,i,r){for(var o=e.coordinateSystem,a=o.getDateInfo(i),s=[],l=0;l<7;l++){var u=o.getNextNDay(a.time,l),h=o.dataToRect([u.time],!1);s[2*u.day]=h.tl,s[2*u.day+1]=h["horizontal"===r?"bl":"tr"]}return s},t.prototype._formatterLabel=function(e,i){return"string"==typeof e&&e?(r=e,Y(i,function(a,s){r=r.replace("{"+s+"}",a)}),r):"function"==typeof e?e(i):i.nameMap;var r},t.prototype._yearTextPositionControl=function(e,i,r,o,a){var s=i[0],l=i[1],u=["center","bottom"];"bottom"===o?(l+=a,u=["center","top"]):"left"===o?s-=a:"right"===o?(s+=a,u=["center","top"]):l-=a;var h=0;return"left"!==o&&"right"!==o||(h=Math.PI/2),{rotation:h,x:s,y:l,style:{align:u[0],verticalAlign:u[1]}}},t.prototype._renderYearText=function(e,i,r,o){var a=e.getModel("yearLabel");if(a.get("show")){var s=a.get("margin"),l=a.get("position");l||(l="horizontal"!==r?"top":"left");var u=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],h=(u[0][0]+u[1][0])/2,f=(u[0][1]+u[1][1])/2,p="horizontal"===r?0:1,g={top:[h,u[p][1]],bottom:[h,u[1-p][1]],left:[u[1-p][0],f],right:[u[p][0],f]},v=i.start.y;+i.end.y>+i.start.y&&(v=v+"-"+i.end.y);var m=a.get("formatter"),b=this._formatterLabel(m,{start:i.start.y,end:i.end.y,nameMap:v}),S=new Nn({z2:30,style:_r(a,{text:b})});S.attr(this._yearTextPositionControl(S,g[l],r,l,s)),o.add(S)}},t.prototype._monthTextPositionControl=function(e,i,r,o,a){var s="left",l="top",u=e[0],h=e[1];return"horizontal"===r?(h+=a,i&&(s="center"),"start"===o&&(l="bottom")):(u+=a,i&&(l="middle"),"start"===o&&(s="right")),{x:u,y:h,align:s,verticalAlign:l}},t.prototype._renderMonthText=function(e,i,r){var o=e.getModel("monthLabel");if(o.get("show")){var a=o.get("nameMap"),s=o.get("margin"),l=o.get("position"),u=o.get("align"),h=[this._tlpoints,this._blpoints];Jt(a)&&(a=J2[a.toUpperCase()]||[]);var f="start"===l?0:1,p="horizontal"===i?0:1;s="start"===l?-s:s;for(var g="center"===u,v=0;v<h[f].length-1;v++){var m=h[f][v].slice(),y=this._firstDayOfMonth[v];g&&(m[p]=(this._firstDayPoints[v][p]+h[0][v+1][p])/2);var S=o.get("formatter"),E=a[+y.m-1],I={yyyy:y.y,yy:(y.y+"").slice(2),MM:y.m,M:+y.m,nameMap:E},A=this._formatterLabel(S,I),L=new Nn({z2:30,style:se(_r(o,{text:A}),this._monthTextPositionControl(m,g,i,l,s))});r.add(L)}}},t.prototype._weekTextPositionControl=function(e,i,r,o,a){var s="center",l="middle",u=e[0],h=e[1],f="start"===r;return"horizontal"===i?(u=u+o+(f?1:-1)*a[0]/2,s=f?"right":"left"):(h=h+o+(f?1:-1)*a[1]/2,l=f?"bottom":"top"),{x:u,y:h,align:s,verticalAlign:l}},t.prototype._renderWeekText=function(e,i,r,o){var a=e.getModel("dayLabel");if(a.get("show")){var s=e.coordinateSystem,l=a.get("position"),u=a.get("nameMap"),h=a.get("margin"),f=s.getFirstDayOfWeek();Jt(u)&&(u=Q2[u.toUpperCase()]||[]);var p=s.getNextNDay(i.end.time,7-i.lweek).time,g=[s.getCellWidth(),s.getCellHeight()];h=kt(h,Math.min(g[1],g[0])),"start"===l&&(p=s.getNextNDay(i.start.time,-(7+i.fweek)).time,h=-h);for(var v=0;v<7;v++){var m,y=s.getNextNDay(p,v),b=s.dataToRect([y.time],!1).center;m=Math.abs((v+f)%7);var S=new Nn({z2:30,style:se(_r(a,{text:u[m]}),this._weekTextPositionControl(b,r,l,h,g))});o.add(S)}}},t.type="calendar",t}(Ni),W_=864e5,eB=function(){function n(t,e,i){this.type="calendar",this.dimensions=n.dimensions,this.getDimensionsInfo=n.getDimensionsInfo,this._model=t}return n.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},n.prototype.getRangeInfo=function(){return this._rangeInfo},n.prototype.getModel=function(){return this._model},n.prototype.getRect=function(){return this._rect},n.prototype.getCellWidth=function(){return this._sw},n.prototype.getCellHeight=function(){return this._sh},n.prototype.getOrient=function(){return this._orient},n.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},n.prototype.getDateInfo=function(t){var e=(t=io(t)).getFullYear(),i=t.getMonth()+1,r=i<10?"0"+i:""+i,o=t.getDate(),a=o<10?"0"+o:""+o,s=t.getDay();return{y:e+"",m:r,d:a,day:s=Math.abs((s+7-this.getFirstDayOfWeek())%7),time:t.getTime(),formatedDate:e+"-"+r+"-"+a,date:t}},n.prototype.getNextNDay=function(t,e){return 0===(e=e||0)||(t=new Date(this.getDateInfo(t).time)).setDate(t.getDate()+e),this.getDateInfo(t)},n.prototype.update=function(t,e){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var i=this._rangeInfo.weeks||1,r=["width","height"],o=this._model.getCellSize().slice(),a=this._model.getBoxLayoutParams(),s="horizontal"===this._orient?[i,7]:[7,i];Y([0,1],function(f){h(o,f)&&(a[r[f]]=o[f]*s[f])});var l={width:e.getWidth(),height:e.getHeight()},u=this._rect=Br(a,l);function h(f,p){return null!=f[p]&&"auto"!==f[p]}Y([0,1],function(f){h(o,f)||(o[f]=u[r[f]]/s[f])}),this._sw=o[0],this._sh=o[1]},n.prototype.dataToPoint=function(t,e){rt(t)&&(t=t[0]),null==e&&(e=!0);var i=this.getDateInfo(t),r=this._rangeInfo;if(e&&!(i.time>=r.start.time&&i.time<r.end.time+W_))return[NaN,NaN];var a=i.day,s=this._getRangeInfo([r.start.time,i.formatedDate]).nthWeek;return"vertical"===this._orient?[this._rect.x+a*this._sw+this._sw/2,this._rect.y+s*this._sh+this._sh/2]:[this._rect.x+s*this._sw+this._sw/2,this._rect.y+a*this._sh+this._sh/2]},n.prototype.pointToData=function(t){var e=this.pointToDate(t);return e&&e.time},n.prototype.dataToRect=function(t,e){var i=this.dataToPoint(t,e);return{contentShape:{x:i[0]-(this._sw-this._lineWidth)/2,y:i[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:i,tl:[i[0]-this._sw/2,i[1]-this._sh/2],tr:[i[0]+this._sw/2,i[1]-this._sh/2],br:[i[0]+this._sw/2,i[1]+this._sh/2],bl:[i[0]-this._sw/2,i[1]+this._sh/2]}},n.prototype.pointToDate=function(t){var e=Math.floor((t[0]-this._rect.x)/this._sw)+1,i=Math.floor((t[1]-this._rect.y)/this._sh)+1,r=this._rangeInfo.range;return"vertical"===this._orient?this._getDateByWeeksAndDay(i,e-1,r):this._getDateByWeeksAndDay(e,i-1,r)},n.prototype.convertToPixel=function(t,e,i){var r=nA(e);return r===this?r.dataToPoint(i):null},n.prototype.convertFromPixel=function(t,e,i){var r=nA(e);return r===this?r.pointToData(i):null},n.prototype.containPoint=function(t){return console.warn("Not implemented."),!1},n.prototype._initRangeOption=function(){var t,e=this._model.get("range");if(rt(e)&&1===e.length&&(e=e[0]),rt(e))t=e;else{var i=e.toString();if(/^\d{4}$/.test(i)&&(t=[i+"-01-01",i+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(i)){var r=this.getDateInfo(i),o=r.date;o.setMonth(o.getMonth()+1);var a=this.getNextNDay(o,-1);t=[r.formatedDate,a.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(i)&&(t=[i,i])}if(!t)return e;var s=this._getRangeInfo(t);return s.start.time>s.end.time&&t.reverse(),t},n.prototype._getRangeInfo=function(t){var e,i=[this.getDateInfo(t[0]),this.getDateInfo(t[1])];i[0].time>i[1].time&&(e=!0,i.reverse());var r=Math.floor(i[1].time/W_)-Math.floor(i[0].time/W_)+1,o=new Date(i[0].time),a=o.getDate(),s=i[1].date.getDate();o.setDate(a+r-1);var l=o.getDate();if(l!==s)for(var u=o.getTime()-i[1].time>0?1:-1;(l=o.getDate())!==s&&(o.getTime()-i[1].time)*u>0;)r-=u,o.setDate(l-u);var h=Math.floor((r+i[0].day+6)/7),f=e?1-h:h-1;return e&&i.reverse(),{range:[i[0].formatedDate,i[1].formatedDate],start:i[0],end:i[1],allDay:r,weeks:h,nthWeek:f,fweek:i[0].day,lweek:i[1].day}},n.prototype._getDateByWeeksAndDay=function(t,e,i){var r=this._getRangeInfo(i);if(t>r.weeks||0===t&&e<r.fweek||t===r.weeks&&e>r.lweek)return null;var o=7*(t-1)-r.fweek+e,a=new Date(r.start.time);return a.setDate(+r.start.d+o),this.getDateInfo(a)},n.create=function(t,e){var i=[];return t.eachComponent("calendar",function(r){var o=new n(r,t,e);i.push(o),r.coordinateSystem=o}),t.eachSeries(function(r){"calendar"===r.get("coordinateSystem")&&(r.coordinateSystem=i[r.get("calendarIndex")||0])}),i},n.dimensions=["time","value"],n}();function nA(n){var t=n.calendarModel,e=n.seriesModel;return t?t.coordinateSystem:e?e.coordinateSystem:null}var jh=Fn(),iA={path:null,compoundPath:null,group:Ft,image:fr,text:Nn},tB=function(n){var t=n.graphic;rt(t)?n.graphic=t[0]&&t[0].elements?[n.graphic[0]]:[{elements:t}]:t&&!t.elements&&(n.graphic=[{elements:[t]}])},nB=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.preventAutoZ=!0,e}return ue(t,n),t.prototype.mergeOption=function(e,i){var r=this.option.elements;this.option.elements=null,n.prototype.mergeOption.call(this,e,i),this.option.elements=r},t.prototype.optionUpdated=function(e,i){var r=this.option,o=(i?r:e).elements,a=r.elements=i?[]:r.elements,s=[];this._flatten(o,s,null);var l=up(a,s,"normalMerge"),u=this._elOptionsToUpdate=[];Y(l,function(f,p){var v,m,y,b,S,E,g=f.newOption;g&&(u.push(g),function(v,m){var y=v.existing;if(m.id=v.keyInfo.id,!m.type&&y&&(m.type=y.type),null==m.parentId){var b=m.parentOption;b?m.parentId=b.id:y&&(m.parentId=y.parentId)}m.parentOption=null}(f,g),v=a,m=p,b=se({},y=g),S=v[m],"merge"===(E=y.$action||"merge")?S?(Ie(S,b,!0),Tu(S,b,{ignoreSize:!0}),mx(y,S)):v[m]=b:"replace"===E?v[m]=b:"remove"===E&&S&&(v[m]=null),function(v,m){if(v&&(v.hv=m.hv=[oA(m,["left","right"]),oA(m,["top","bottom"])],"group"===v.type)){var y=v,b=m;null==y.width&&(y.width=b.width=0),null==y.height&&(y.height=b.height=0)}}(a[p],g))},this);for(var h=a.length-1;h>=0;h--)null==a[h]?a.splice(h,1):delete a[h].$action},t.prototype._flatten=function(e,i,r){Y(e,function(o){if(o){r&&(o.parentOption=r),i.push(o);var a=o.children;"group"===o.type&&a&&this._flatten(a,i,o),delete o.children}},this)},t.prototype.useElOptionsToUpdate=function(){var e=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,e},t.type="graphic",t.defaultOption={elements:[]},t}(Rn),iB=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return ue(t,n),t.prototype.init=function(){this._elMap=Ht()},t.prototype.render=function(e,i,r){e!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=e,this._updateElements(e),this._relocate(e,r)},t.prototype._updateElements=function(e){var i=e.useElOptionsToUpdate();if(i){var r=this._elMap,o=this.group;Y(i,function(a){var s=ci(a.id,null),l=null!=s?r.get(s):null,u=ci(a.parentId,null),h=null!=u?r.get(u):o,f=a.type,p=a.style;"text"===f&&p&&a.hv&&a.hv[1]&&(p.textVerticalAlign=p.textBaseline=p.verticalAlign=p.align=null);var g=a.textContent,v=a.textConfig;if(p&&dI(p,f,!!v,!!g)){var m=pI(p,f,!0);!v&&m.textConfig&&(v=a.textConfig=m.textConfig),!g&&m.textContent&&(g=m.textContent)}var A,y=(A=se({},A=a),Y(["id","parentId","$action","hv","bounding","textContent"].concat(vx),function(L){delete A[L]}),A),b=a.$action||"merge";"merge"===b?l?l.attr(y):rA(s,h,y,r):"replace"===b?(Rv(l,r),rA(s,h,y,r)):"remove"===b&&Rv(l,r);var S=r.get(s);if(S&&g)if("merge"===b){var E=S.getTextContent();E?E.attr(g):S.setTextContent(new Nn(g))}else"replace"===b&&S.setTextContent(new Nn(g));if(S){var I=jh(S);I.__ecGraphicWidthOption=a.width,I.__ecGraphicHeightOption=a.height,function(A,L,R){var k=pn(A).eventData;A.silent||A.ignore||k||(k=pn(A).eventData={componentType:"graphic",componentIndex:L.componentIndex,name:A.name}),k&&(k.info=R.info)}(S,e,a),dh({el:S,componentModel:e,itemName:S.name,itemTooltipOption:a.tooltip})}})}},t.prototype._relocate=function(e,i){for(var r=e.option.elements,o=this.group,a=this._elMap,s=i.getWidth(),l=i.getHeight(),u=0;u<r.length;u++)if((m=null!=(v=ci((g=r[u]).id,null))?a.get(v):null)&&m.isGroup){var h=(y=m.parent)===o,f=jh(m),p=jh(y);f.__ecGraphicWidth=kt(f.__ecGraphicWidthOption,h?s:p.__ecGraphicWidth)||0,f.__ecGraphicHeight=kt(f.__ecGraphicHeightOption,h?l:p.__ecGraphicHeight)||0}for(u=r.length-1;u>=0;u--){var g,v,m;if(m=null!=(v=ci((g=r[u]).id,null))?a.get(v):null){var y=m.parent;p=jh(y),sg(m,g,y===o?{width:s,height:l}:{width:p.__ecGraphicWidth,height:p.__ecGraphicHeight},null,{hv:g.hv,boundingMode:g.bounding})}}},t.prototype._clear=function(){var e=this._elMap;e.each(function(i){Rv(i,e)}),this._elMap=Ht()},t.prototype.dispose=function(){this._clear()},t.type="graphic",t}(Ni);function rA(n,t,e,i){var r=e.type,a=new(ut(iA,r)?iA[r]:jp(r))(e);t.add(a),i.set(n,a),jh(a).__ecGraphicId=n}function Rv(n,t){var e=n&&n.parent;e&&("group"===n.type&&n.traverse(function(i){Rv(i,t)}),t.removeKey(jh(n).__ecGraphicId),e.remove(n))}function oA(n,t){var e;return Y(t,function(i){null!=n[i]&&"auto"!==n[i]&&(e=!0)}),e}var aA=["x","y","radius","angle","single"],rB=["cartesian2d","polar","singleAxis"];function Gu(n){return n+"Axis"}function sA(n){var t=n.ecModel,e={infoList:[],infoMap:Ht()};return n.eachTargetAxis(function(i,r){var o=t.getComponent(Gu(i),r);if(o){var a=o.getCoordSysModel();if(a){var s=a.uid,l=e.infoMap.get(s);l||(e.infoList.push(l={model:a,axisModels:[]}),e.infoMap.set(s,l)),l.axisModels.push(o)}}}),e}var Y_=function(){function n(){this.indexList=[],this.indexMap=[]}return n.prototype.add=function(t){this.indexMap[t]||(this.indexList.push(t),this.indexMap[t]=!0)},n}(),Kd=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e._autoThrottle=!0,e._noTarget=!0,e._rangePropMode=["percent","percent"],e}return ue(t,n),t.prototype.init=function(e,i,r){var o=lA(e);this.settledOption=o,this.mergeDefaultAndTheme(e,r),this._doInit(o)},t.prototype.mergeOption=function(e){var i=lA(e);Ie(this.option,e,!0),Ie(this.settledOption,i,!0),this._doInit(i)},t.prototype._doInit=function(e){var i=this.option;this._setDefaultThrottle(e),this._updateRangeUse(e);var r=this.settledOption;Y([["start","startValue"],["end","endValue"]],function(o,a){"value"===this._rangePropMode[a]&&(i[o[0]]=r[o[0]]=null)},this),this._resetTarget()},t.prototype._resetTarget=function(){var e=this.get("orient",!0),i=this._targetAxisInfoMap=Ht();this._fillSpecifiedTargetAxis(i)?this._orient=e||this._makeAutoOrientByTargetAxis():(this._orient=e||"horizontal",this._fillAutoTargetAxisByOrient(i,this._orient)),this._noTarget=!0,i.each(function(r){r.indexList.length&&(this._noTarget=!1)},this)},t.prototype._fillSpecifiedTargetAxis=function(e){var i=!1;return Y(aA,function(r){var o=this.getReferringComponents(Gu(r),tm);if(o.specified){i=!0;var a=new Y_;Y(o.models,function(s){a.add(s.componentIndex)}),e.set(r,a)}},this),i},t.prototype._fillAutoTargetAxisByOrient=function(e,i){var r=this.ecModel,o=!0;if(o){var a="vertical"===i?"y":"x";s(r.findComponents({mainType:a+"Axis"}),a)}function s(l,u){var h=l[0];if(h){var f=new Y_;if(f.add(h.componentIndex),e.set(u,f),o=!1,"x"===u||"y"===u){var p=h.getReferringComponents("grid",mr).models[0];p&&Y(l,function(g){h.componentIndex!==g.componentIndex&&p===g.getReferringComponents("grid",mr).models[0]&&f.add(g.componentIndex)})}}}o&&s(r.findComponents({mainType:"singleAxis",filter:function(l){return l.get("orient",!0)===i}}),"single"),o&&Y(aA,function(l){if(o){var u=r.findComponents({mainType:Gu(l),filter:function(f){return"category"===f.get("type",!0)}});if(u[0]){var h=new Y_;h.add(u[0].componentIndex),e.set(l,h),o=!1}}},this)},t.prototype._makeAutoOrientByTargetAxis=function(){var e;return this.eachTargetAxis(function(i){!e&&(e=i)},this),"y"===e?"vertical":"horizontal"},t.prototype._setDefaultThrottle=function(e){if(e.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var i=this.ecModel.option;this.option.throttle=i.animation&&i.animationDurationUpdate>0?100:20}},t.prototype._updateRangeUse=function(e){var i=this._rangePropMode,r=this.get("rangeMode");Y([["start","startValue"],["end","endValue"]],function(o,a){var s=null!=e[o[0]],l=null!=e[o[1]];s&&!l?i[a]="percent":!s&&l?i[a]="value":r?i[a]=r[a]:s&&(i[a]="percent")})},t.prototype.noTarget=function(){return this._noTarget},t.prototype.getFirstTargetAxisModel=function(){var e;return this.eachTargetAxis(function(i,r){null==e&&(e=this.ecModel.getComponent(Gu(i),r))},this),e},t.prototype.eachTargetAxis=function(e,i){this._targetAxisInfoMap.each(function(r,o){Y(r.indexList,function(a){e.call(i,o,a)})})},t.prototype.getAxisProxy=function(e,i){var r=this.getAxisModel(e,i);if(r)return r.__dzAxisProxy},t.prototype.getAxisModel=function(e,i){var r=this._targetAxisInfoMap.get(e);if(r&&r.indexMap[i])return this.ecModel.getComponent(Gu(e),i)},t.prototype.setRawRange=function(e){var i=this.option,r=this.settledOption;Y([["start","startValue"],["end","endValue"]],function(o){null==e[o[0]]&&null==e[o[1]]||(i[o[0]]=r[o[0]]=e[o[0]],i[o[1]]=r[o[1]]=e[o[1]])},this),this._updateRangeUse(e)},t.prototype.setCalculatedRange=function(e){var i=this.option;Y(["start","startValue","end","endValue"],function(r){i[r]=e[r]})},t.prototype.getPercentRange=function(){var e=this.findRepresentativeAxisProxy();if(e)return e.getDataPercentWindow()},t.prototype.getValueRange=function(e,i){if(null!=e||null!=i)return this.getAxisProxy(e,i).getDataValueWindow();var r=this.findRepresentativeAxisProxy();return r?r.getDataValueWindow():void 0},t.prototype.findRepresentativeAxisProxy=function(e){if(e)return e.__dzAxisProxy;for(var i,r=this._targetAxisInfoMap.keys(),o=0;o<r.length;o++)for(var a=r[o],s=this._targetAxisInfoMap.get(a),l=0;l<s.indexList.length;l++){var u=this.getAxisProxy(a,s.indexList[l]);if(u.hostedBy(this))return u;i||(i=u)}return i},t.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},t.prototype.getOrient=function(){return this._orient},t.type="dataZoom",t.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],t.defaultOption={zlevel:0,z:4,filterMode:"filter",start:0,end:100},t}(Rn);function lA(n){var t={};return Y(["start","end","startValue","endValue","throttle"],function(e){n.hasOwnProperty(e)&&(t[e]=n[e])}),t}var aB=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return ue(t,n),t.type="dataZoom.select",t}(Kd),X_=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return ue(t,n),t.prototype.render=function(e,i,r,o){this.dataZoomModel=e,this.ecModel=i,this.api=r},t.type="dataZoom",t}(Ni),sB=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return ue(t,n),t.type="dataZoom.select",t}(X_),qh=Y,uA=Kr,lB=function(){function n(t,e,i,r){this._dimName=t,this._axisIndex=e,this.ecModel=r,this._dataZoomModel=i}return n.prototype.hostedBy=function(t){return this._dataZoomModel===t},n.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},n.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},n.prototype.getTargetSeriesModels=function(){var t=[];return this.ecModel.eachSeries(function(e){if(a=e.get("coordinateSystem"),pe(rB,a)>=0){var i=Gu(this._dimName),r=e.getReferringComponents(i,mr).models[0];r&&this._axisIndex===r.componentIndex&&t.push(e)}var a},this),t},n.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},n.prototype.getMinMaxSpan=function(){return Te(this._minMaxSpan)},n.prototype.calculateDataWindow=function(t){var e,i=this._dataExtent,r=this.getAxisModel().axis.scale,o=this._dataZoomModel.getRangePropMode(),a=[0,100],s=[],l=[];qh(["start","end"],function(f,p){var g=t[f],v=t[f+"Value"];"percent"===o[p]?(null==g&&(g=a[p]),v=r.parse(Jn(g,a,i))):(e=!0,g=Jn(v=null==v?i[p]:r.parse(v),i,a)),l[p]=v,s[p]=g}),uA(l),uA(s);var u=this._minMaxSpan;function h(f,p,g,v,m){var y=m?"Span":"ValueSpan";kc(0,f,g,"all",u["min"+y],u["max"+y]);for(var b=0;b<2;b++)p[b]=Jn(f[b],g,v,!0),m&&(p[b]=r.parse(p[b]))}return e?h(l,s,i,a,!1):h(s,l,a,i,!0),{valueWindow:l,percentWindow:s}},n.prototype.reset=function(t){if(t===this._dataZoomModel){var e=this.getTargetSeriesModels();this._dataExtent=function(r,o,a){var s=[1/0,-1/0];qh(a,function(h){var f,p;f=s,(p=h.getData())&&Y(Wg(p,o),function(v){var m=p.getApproximateExtent(v);m[0]<f[0]&&(f[0]=m[0]),m[1]>f[1]&&(f[1]=m[1])})});var l=r.getAxisModel(),u=lw(l.axis.scale,l,s).calculate();return[u.min,u.max]}(this,this._dimName,e),this._updateMinMaxSpan();var i=this.calculateDataWindow(t.settledOption);this._valueWindow=i.valueWindow,this._percentWindow=i.percentWindow,this._setAxisModel()}},n.prototype.filterData=function(t,e){if(t===this._dataZoomModel){var i=this._dimName,r=this.getTargetSeriesModels(),o=t.get("filterMode"),a=this._valueWindow;"none"!==o&&qh(r,function(s){var l=s.getData(),u=l.mapDimensionsAll(i);if(u.length){if("weakFilter"===o){var h=l.getStore(),f=Ve(u,function(p){return l.getDimensionIndex(p)},l);l.filterSelf(function(p){for(var g,v,m,y=0;y<u.length;y++){var b=h.get(f[y],p),S=!isNaN(b),E=b<a[0],I=b>a[1];if(S&&!E&&!I)return!0;S&&(m=!0),E&&(g=!0),I&&(v=!0)}return m&&g&&v})}else qh(u,function(p){if("empty"===o)s.setData(l=l.map(p,function(v){return(m=v)>=a[0]&&m<=a[1]?v:NaN;var m}));else{var g={};g[p]=a,l.selectRange(g)}});qh(u,function(p){l.setApproximateExtent(a,p)})}})}},n.prototype._updateMinMaxSpan=function(){var t=this._minMaxSpan={},e=this._dataZoomModel,i=this._dataExtent;qh(["min","max"],function(r){var o=e.get(r+"Span"),a=e.get(r+"ValueSpan");null!=a&&(a=this.getAxisModel().axis.scale.parse(a)),null!=a?o=Jn(i[0]+a,i,[0,100],!0):null!=o&&(a=Jn(o,[0,100],i,!0)-i[0]),t[r+"Span"]=o,t[r+"ValueSpan"]=a},this)},n.prototype._setAxisModel=function(){var t=this.getAxisModel(),e=this._percentWindow,i=this._valueWindow;if(e){var r=eu(i,[0,500]);r=Math.min(r,20);var o=t.axis.scale.rawExtentInfo;0!==e[0]&&o.setDeterminedMinMax("min",+i[0].toFixed(r)),100!==e[1]&&o.setDeterminedMinMax("max",+i[1].toFixed(r)),o.freeze()}},n}(),uB={getTargetSeries:function(n){function t(r){n.eachComponent("dataZoom",function(o){o.eachTargetAxis(function(a,s){var l=n.getComponent(Gu(a),s);r(a,s,l,o)})})}t(function(r,o,a,s){a.__dzAxisProxy=null});var e=[];t(function(r,o,a,s){a.__dzAxisProxy||(a.__dzAxisProxy=new lB(r,o,s,n),e.push(a.__dzAxisProxy))});var i=Ht();return Y(e,function(r){Y(r.getTargetSeriesModels(),function(o){i.set(o.uid,o)})}),i},overallReset:function(n,t){n.eachComponent("dataZoom",function(e){e.eachTargetAxis(function(i,r){e.getAxisProxy(i,r).reset(e)}),e.eachTargetAxis(function(i,r){e.getAxisProxy(i,r).filterData(e,t)})}),n.eachComponent("dataZoom",function(e){var i=e.findRepresentativeAxisProxy();if(i){var r=i.getDataPercentWindow(),o=i.getDataValueWindow();e.setCalculatedRange({start:r[0],end:r[1],startValue:o[0],endValue:o[1]})}})}},cA=!1;function j_(n){cA||(cA=!0,n.registerProcessor(n.PRIORITY.PROCESSOR.FILTER,uB),function(t){t.registerAction("dataZoom",function(e,i){Y(function oB(n,t){var e,i=Ht(),r=[],o=Ht();n.eachComponent({mainType:"dataZoom",query:t},function(l){o.get(l.uid)||s(l)});do{e=!1,n.eachComponent("dataZoom",a)}while(e);function a(l){var h;!o.get(l.uid)&&(h=!1,l.eachTargetAxis(function(f,p){var g=i.get(f);g&&g[p]&&(h=!0)}),h)&&(s(l),e=!0)}function s(l){o.set(l.uid,!0),r.push(l),l.eachTargetAxis(function(u,h){(i.get(u)||i.set(u,[]))[h]=!0})}return r}(i,e),function(r){r.setRawRange({start:e.start,end:e.end,startValue:e.startValue,endValue:e.endValue})})})}(n),n.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function cB(n){n.registerComponentModel(aB),n.registerComponentView(sB),j_(n)}var cs=function(){},hA={};function Kh(n,t){hA[n]=t}function fA(n){return hA[n]}var hB=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return ue(t,n),t.prototype.optionUpdated=function(){n.prototype.optionUpdated.apply(this,arguments);var e=this.ecModel;Y(this.option.feature,function(i,r){var o=fA(r);o&&(o.getDefaultOption&&(o.defaultOption=o.getDefaultOption(e)),Ie(i,o.defaultOption))})},t.type="toolbox",t.layoutMode={type:"box",ignoreSize:!0},t.defaultOption={show:!0,z:6,zlevel:0,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},t}(Rn);function dA(n,t){var e=mc(t.get("padding")),i=t.getItemStyle(["color","opacity"]);return i.fill=t.get("backgroundColor"),new kn({shape:{x:n.x-e[3],y:n.y-e[0],width:n.width+e[1]+e[3],height:n.height+e[0]+e[2],r:t.get("borderRadius")},style:i,silent:!0,z2:-1})}var fB=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return ue(t,n),t.prototype.render=function(e,i,r,o){var p,g,v,m,y,b,S,a=this.group;if(a.removeAll(),e.get("show")){var s=+e.get("itemSize"),l=e.get("feature")||{},u=this._features||(this._features={}),h=[];Y(l,function(p,g){h.push(g)}),new Ul(this._featureNames||[],h).add(f).update(f).remove(Lt(f,null)).execute(),this._featureNames=h,p=a,v=r,m=(g=e).getBoxLayoutParams(),y=g.get("padding"),S=Br(m,b={width:v.getWidth(),height:v.getHeight()},y),xc(g.get("orient"),p,g.get("itemGap"),S.width,S.height),sg(p,m,b,y),a.add(dA(a.getBoundingRect(),e)),a.eachChild(function(p){var g=p.__title,v=p.ensureState("emphasis"),m=v.textConfig||(v.textConfig={}),y=p.getTextContent(),b=y&&y.states.emphasis;if(b&&!sn(b)&&g){var S=b.style||(b.style={}),E=Ue(g,Nn.makeFont(S)),I=p.x+a.x,A=!1;p.y+a.y+s+E.height>r.getHeight()&&(m.position="top",A=!0);var L=A?-5-E.height:s+8;I+E.width/2>r.getWidth()?(m.position=["100%",L],S.align="right"):I-E.width/2<0&&(m.position=[0,L],S.align="left")}})}function f(p,g){var v,m=h[p],y=h[g],b=l[m],S=new Qn(b,e,e.ecModel);if(o&&null!=o.newTitle&&o.featureName===m&&(b.title=o.newTitle),m&&!y){if(0===m.indexOf("my"))v={onclick:S.option.onclick,featureName:m};else{var E=fA(m);if(!E)return;v=new E}u[m]=v}else if(!(v=u[y]))return;v.uid=ph("toolbox-feature"),v.model=S,v.ecModel=i,v.api=r;var I=v instanceof cs;m||!y?!S.get("show")||I&&v.unusable?I&&v.remove&&v.remove(i,r):(function(A,L,R){var k,H,U=A.getModel("iconStyle"),G=A.getModel(["emphasis","iconStyle"]),K=L instanceof cs&&L.getIcons?L.getIcons():A.get("icon"),$=A.get("title")||{};"string"==typeof K?(k={})[R]=K:k=K,"string"==typeof $?(H={})[R]=$:H=$;var ee=A.iconPaths={};Y(k,function(le,he){var ge=fh(le,{},{x:-s/2,y:-s/2,width:s,height:s});ge.setStyle(U.getItemStyle()),ge.ensureState("emphasis").style=G.getItemStyle();var me=new Nn({style:{text:H[he],align:G.get("textAlign"),borderRadius:G.get("textBorderRadius"),padding:G.get("textPadding"),fill:null},ignore:!0});ge.setTextContent(me),dh({el:ge,componentModel:e,itemName:he,formatterParamsExtra:{title:H[he]}}),ge.__title=H[he],ge.on("mouseover",function(){var be=G.getItemStyle(),Le="vertical"===e.get("orient")?null==e.get("right")?"right":"left":null==e.get("bottom")?"bottom":"top";me.setStyle({fill:G.get("textFill")||be.fill||be.stroke||"#000",backgroundColor:G.get("textBackgroundColor")}),ge.setTextConfig({position:G.get("textPosition")||Le}),me.ignore=!e.get("showTitle"),$a(this)}).on("mouseout",function(){"emphasis"!==A.get(["iconStatus",he])&&Io(this),me.hide()}),("emphasis"===A.get(["iconStatus",he])?$a:Io)(ge),a.add(ge),ge.on("click",mt(L.onclick,L,i,r,he)),ee[he]=ge})}(S,v,m),S.setIconStatus=function(A,L){var R=this.option,k=this.iconPaths;R.iconStatus=R.iconStatus||{},R.iconStatus[A]=L,k[A]&&("emphasis"===L?$a:Io)(k[A])},v instanceof cs&&v.render&&v.render(S,i,r,o)):I&&v.dispose&&v.dispose(i,r)}},t.prototype.updateView=function(e,i,r,o){Y(this._features,function(a){a instanceof cs&&a.updateView&&a.updateView(a.model,i,r,o)})},t.prototype.remove=function(e,i){Y(this._features,function(r){r instanceof cs&&r.remove&&r.remove(e,i)}),this.group.removeAll()},t.prototype.dispose=function(e,i){Y(this._features,function(r){r instanceof cs&&r.dispose&&r.dispose(e,i)})},t.type="toolbox",t}(Ni),pA=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return ue(t,n),t.prototype.onclick=function(e,i){var r=this.model,o=r.get("name")||e.get("title.0.text")||"echarts",a="svg"===i.getZr().painter.getType(),s=a?"svg":r.get("type",!0)||"png",l=i.getConnectedDataURL({type:s,backgroundColor:r.get("backgroundColor",!0)||e.get("backgroundColor")||"#fff",connectedBackgroundColor:r.get("connectedBackgroundColor"),excludeComponents:r.get("excludeComponents"),pixelRatio:r.get("pixelRatio")});if("function"!=typeof MouseEvent||!ve.browser.newEdge&&(ve.browser.ie||ve.browser.edge))if(window.navigator.msSaveOrOpenBlob||a){var u=l.split(","),h=u[0].indexOf("base64")>-1,f=a?decodeURIComponent(u[1]):u[1];h&&(f=window.atob(f));var p=o+"."+s;if(window.navigator.msSaveOrOpenBlob){for(var g=f.length,v=new Uint8Array(g);g--;)v[g]=f.charCodeAt(g);var m=new Blob([v]);window.navigator.msSaveOrOpenBlob(m,p)}else{var y=document.createElement("iframe");document.body.appendChild(y);var b=y.contentWindow,S=b.document;S.open("image/svg+xml","replace"),S.write(f),S.close(),b.focus(),S.execCommand("SaveAs",!0,p),document.body.removeChild(y)}}else{var E=r.get("lang"),I='<body style="margin:0;"><img src="'+l+'" style="max-width:100%;" title="'+(E&&E[0]||"")+'" /></body>',A=window.open();A.document.write(I),A.document.title=o}else{var L=document.createElement("a");L.download=o+"."+s,L.target="_blank",L.href=l;var R=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});L.dispatchEvent(R)}},t.getDefaultOption=function(e){return{show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:e.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:e.getLocaleModel().get(["toolbox","saveAsImage","lang"])}},t}(cs);pA.prototype.unusable=!ve.canvasSupported;var gA="__ec_magicType_stack__",dB=[["line","bar"],["stack"]],pB=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return ue(t,n),t.prototype.getIcons=function(){var e=this.model,i=e.get("icon"),r={};return Y(e.get("type"),function(o){i[o]&&(r[o]=i[o])}),r},t.getDefaultOption=function(e){return{show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:e.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}}},t.prototype.onclick=function(e,i,r){var o=this.model,a=o.get(["seriesIndex",r]);if(vA[r]){var s,l={series:[]};Y(dB,function(h){pe(h,r)>=0&&Y(h,function(f){o.setIconStatus(f,"normal")})}),o.setIconStatus(r,"emphasis"),e.eachComponent({mainType:"series",query:null==a?null:{seriesIndex:a}},function(h){var g=vA[r](h.subType,h.id,h,o);g&&(Ee(g,h.option),l.series.push(g));var v=h.coordinateSystem;if(v&&"cartesian2d"===v.type&&("line"===r||"bar"===r)){var m=v.getAxesByScale("ordinal")[0];if(m){var y=m.dim+"Axis",b=h.getReferringComponents(y,mr).models[0].componentIndex;l[y]=l[y]||[];for(var S=0;S<=b;S++)l[y][b]=l[y][b]||{};l[y][b].boundaryGap="bar"===r}}});var u=r;"stack"===r&&(s=Ie({stack:o.option.title.tiled,tiled:o.option.title.stack},o.option.title),"emphasis"!==o.get(["iconStatus",r])&&(u="tiled")),i.dispatchAction({type:"changeMagicType",currentType:u,newOption:l,newTitle:s,featureName:"magicType"})}},t}(cs),vA={line:function(n,t,e,i){if("bar"===n)return Ie({id:t,type:"line",data:e.get("data"),stack:e.get("stack"),markPoint:e.get("markPoint"),markLine:e.get("markLine")},i.get(["option","line"])||{},!0)},bar:function(n,t,e,i){if("line"===n)return Ie({id:t,type:"bar",data:e.get("data"),stack:e.get("stack"),markPoint:e.get("markPoint"),markLine:e.get("markLine")},i.get(["option","bar"])||{},!0)},stack:function(n,t,e,i){var r=e.get("stack")===gA;if("line"===n||"bar"===n)return i.setIconStatus("stack",r?"normal":"emphasis"),Ie({id:t,stack:r?"":gA},i.get(["option","stack"])||{},!0)}};Us({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(n,t){t.mergeOption(n.newOption)});var Ov=new Array(60).join("-");function kv(n){return n.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}var q_=new RegExp("[\t]+","g"),vB=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return ue(t,n),t.prototype.onclick=function(e,i){var r=i.getDom(),o=this.model;this._dom&&r.removeChild(this._dom);var a=document.createElement("div");a.style.cssText="position:absolute;left:5px;top:5px;bottom:5px;right:5px;",a.style.backgroundColor=o.get("backgroundColor")||"#fff";var s=document.createElement("h4"),l=o.get("lang")||[];s.innerHTML=l[0]||o.get("title"),s.style.cssText="margin: 10px 20px;",s.style.color=o.get("textColor");var u=document.createElement("div"),h=document.createElement("textarea");u.style.cssText="display:block;width:100%;overflow:auto;";var R,k,H,K,$,ee,U,f=o.get("optionToContent"),p=o.get("contentToOption"),g=(K={},$=[],ee=[],e.eachRawSeries(function(le){var he=le.coordinateSystem;if(!he||"cartesian2d"!==he.type&&"polar"!==he.type)$.push(le);else{var ge=he.getBaseAxis();if("category"===ge.type){var me=ge.dim+"_"+ge.index;K[me]||(K[me]={categoryAxis:ge,valueAxis:he.getOtherAxis(ge),series:[]},ee.push({axisDim:ge.dim,axisIndex:ge.index})),K[me].series.push(le)}else $.push(le)}}),{value:jt([(k=(U={seriesGroupByCategoryAxis:K,other:$,meta:ee}).seriesGroupByCategoryAxis,H=[],Y(k,function(G,K){var $=G.categoryAxis,ee=G.valueAxis.dim,le=[" "].concat(Ve(G.series,function(Ge){return Ge.name})),he=[$.model.getCategories()];Y(G.series,function(Ge){var nt=Ge.getRawData();he.push(Ge.getRawData().mapArray(nt.mapDimension(ee),function(xt){return xt}))});for(var ge=[le.join("\t")],me=0;me<he[0].length;me++){for(var be=[],Le=0;Le<he.length;Le++)be.push(he[Le][me]);ge.push(be.join("\t"))}H.push(ge.join("\n"))}),H.join("\n\n"+Ov+"\n\n")),(R=U.other,Ve(R,function(G){var K=G.getRawData(),$=[G.name],ee=[];return K.each(K.dimensions,function(){for(var le=arguments.length,ge=K.getName(arguments[le-1]),me=0;me<le-1;me++)ee[me]=arguments[me];$.push((ge?ge+"\t":"")+ee.join("\t"))}),$.join("\n")}).join("\n\n"+Ov+"\n\n"))],function(G){return!!G.replace(/[\n\t\s]/g,"")}).join("\n\n"+Ov+"\n\n"),meta:U.meta});if("function"==typeof f){var v=f(i.getOption());"string"==typeof v?u.innerHTML=v:Rt(v)&&u.appendChild(v)}else u.appendChild(h),h.readOnly=o.get("readOnly"),h.style.cssText="width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;",h.style.color=o.get("textColor"),h.style.borderColor=o.get("textareaBorderColor"),h.style.backgroundColor=o.get("textareaColor"),h.value=g.value;var m=g.meta,y=document.createElement("div");y.style.cssText="position:absolute;bottom:0;left:0;right:0;";var b="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",S=document.createElement("div"),E=document.createElement("div");b+=";background-color:"+o.get("buttonColor"),b+=";color:"+o.get("buttonTextColor");var I=this;function A(){r.removeChild(a),I._dom=null}Ur(S,"click",A),Ur(E,"click",function(){if(null==p&&null!=f||null!=p&&null==f)A();else{var L;try{L="function"==typeof p?p(u,i.getOption()):function gB(n,t){var e=n.split(new RegExp("\n*"+Ov+"\n*","g")),i={series:[]};return Y(e,function(r,o){if(function(u){if(u.slice(0,u.indexOf("\n")).indexOf("\t")>=0)return!0}(r)){var a=function(u){for(var h=u.split(/\n+/g),f=[],p=Ve(kv(h.shift()).split(q_),function(y){return{name:y,data:[]}}),g=0;g<h.length;g++){var v=kv(h[g]).split(q_);f.push(v.shift());for(var m=0;m<v.length;m++)p[m]&&(p[m].data[g]=v[m])}return{series:p,categories:f}}(r),s=t[o],l=s.axisDim+"Axis";s&&(i[l]=i[l]||[],i[l][s.axisIndex]={data:a.categories},i.series=i.series.concat(a.series))}else a=function(u){for(var h=u.split(/\n+/g),f=kv(h.shift()),p=[],g=0;g<h.length;g++){var v=kv(h[g]);if(v){var m=v.split(q_),y="",b=void 0,S=!1;isNaN(m[0])?(S=!0,y=m[0],m=m.slice(1),p[g]={name:y,value:[]},b=p[g].value):b=p[g]=[];for(var E=0;E<m.length;E++)b.push(+m[E]);1===b.length&&(S?p[g].value=b[0]:p[g]=b[0])}}return{name:f,data:p}}(r),i.series.push(a)}),i}(h.value,m)}catch(R){throw A(),new Error("Data view format error "+R)}L&&i.dispatchAction({type:"changeDataView",newOption:L}),A()}}),S.innerHTML=l[1],E.innerHTML=l[2],E.style.cssText=b,S.style.cssText=b,!o.get("readOnly")&&y.appendChild(E),y.appendChild(S),a.appendChild(s),a.appendChild(u),a.appendChild(y),u.style.height=r.clientHeight-80+"px",r.appendChild(a),this._dom=a},t.prototype.remove=function(e,i){this._dom&&i.getDom().removeChild(this._dom)},t.prototype.dispose=function(e,i){this.remove(e,i)},t.getDefaultOption=function(e){return{show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:e.getLocaleModel().get(["toolbox","dataView","title"]),lang:e.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"}},t}(cs);function mB(n,t){return Ve(n,function(e,i){var r=t&&t[i];if(Bt(r)&&!rt(r)){Bt(e)&&!rt(e)||(e={value:e});var o=null!=r.name&&null==e.name;return e=Ee(e,r),o&&delete e.name,e}return e})}Us({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(n,t){var e=[];Y(n.newOption.series,function(i){var r=t.getSeriesByName(i.name)[0];if(r){var o=r.get("data");e.push({name:i.name,data:mB(i.data,o)})}else e.push(se({type:"scatter"},i))}),t.mergeOption(Ee({series:e},n.newOption))});var mA=Y,yA=Fn();function K_(n){var t=yA(n);return t.snapshots||(t.snapshots=[{}]),t.snapshots}var yB=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return ue(t,n),t.prototype.onclick=function(e,i){yA(e).snapshots=null,i.dispatchAction({type:"restore",from:this.uid})},t.getDefaultOption=function(e){return{show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:e.getLocaleModel().get(["toolbox","restore","title"])}},t}(cs);Us({type:"restore",event:"restore",update:"prepareAndUpdate"},function(n,t){t.resetOption("recreate")});var _B=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],Z_=function(){function n(t,e,i){var r=this;this._targetInfoList=[];var o=_A(e,t);Y(xB,function(a,s){(!i||!i.include||pe(i.include,s)>=0)&&a(o,r._targetInfoList)})}return n.prototype.setOutputRanges=function(t,e){return this.matchOutputRanges(t,e,function(i,r,o){if((i.coordRanges||(i.coordRanges=[])).push(r),!i.coordRange){i.coordRange=r;var a=Q_[i.brushType](0,o,r);i.__rangeOffset={offset:wA[i.brushType](a.values,i.range,[1,1]),xyMinMax:a.xyMinMax}}}),t},n.prototype.matchOutputRanges=function(t,e,i){Y(t,function(r){var o=this.findTargetInfo(r,e);o&&!0!==o&&Y(o.coordSyses,function(a){var s=Q_[r.brushType](1,a,r.range,!0);i(r,s.values,a,e)})},this)},n.prototype.setInputRanges=function(t,e){Y(t,function(i){var o,a,s,l,u=this.findTargetInfo(i,e);if(i.range=i.range||[],u&&!0!==u){i.panelId=u.panelId;var h=Q_[i.brushType](0,u.coordSys,i.coordRange),f=i.__rangeOffset;i.range=f?wA[i.brushType](h.values,f.offset,(o=f.xyMinMax,a=EA(h.xyMinMax),s=EA(o),l=[a[0]/s[0],a[1]/s[1]],isNaN(l[0])&&(l[0]=1),isNaN(l[1])&&(l[1]=1),l)):h.values}},this)},n.prototype.makePanelOpts=function(t,e){return Ve(this._targetInfoList,function(i){var r=i.getPanelRect();return{panelId:i.panelId,defaultBrushType:e?e(i):null,clipPath:EC(r),isTargetByCursor:IC(r,t,i.coordSysModel),getLinearBrushOtherExtent:CC(r)}})},n.prototype.controlSeries=function(t,e,i){var r=this.findTargetInfo(t,i);return!0===r||r&&pe(r.coordSyses,e.coordinateSystem)>=0},n.prototype.findTargetInfo=function(t,e){for(var i=this._targetInfoList,r=_A(e,t),o=0;o<i.length;o++){var a=i[o],s=t.panelId;if(s){if(a.panelId===s)return a}else for(var l=0;l<xA.length;l++)if(xA[l](r,a))return a}return!0},n}();function J_(n){return n[0]>n[1]&&n.reverse(),n}function _A(n,t){return nl(n,t,{includeMainTypes:_B})}var xB={grid:function(n,t){var e=n.xAxisModels,i=n.yAxisModels,r=n.gridModels,o=Ht(),a={},s={};(e||i||r)&&(Y(e,function(l){var u=l.axis.grid.model;o.set(u.id,u),a[u.id]=!0}),Y(i,function(l){var u=l.axis.grid.model;o.set(u.id,u),s[u.id]=!0}),Y(r,function(l){o.set(l.id,l),a[l.id]=!0,s[l.id]=!0}),o.each(function(l){var h=[];Y(l.coordinateSystem.getCartesians(),function(f,p){(pe(e,f.getAxis("x").model)>=0||pe(i,f.getAxis("y").model)>=0)&&h.push(f)}),t.push({panelId:"grid--"+l.id,gridModel:l,coordSysModel:l,coordSys:h[0],coordSyses:h,getPanelRect:bA.grid,xAxisDeclared:a[l.id],yAxisDeclared:s[l.id]})}))},geo:function(n,t){Y(n.geoModels,function(e){var i=e.coordinateSystem;t.push({panelId:"geo--"+e.id,geoModel:e,coordSysModel:e,coordSys:i,coordSyses:[i],getPanelRect:bA.geo})})}},xA=[function(n,t){var e=n.xAxisModel,i=n.yAxisModel,r=n.gridModel;return!r&&e&&(r=e.axis.grid.model),!r&&i&&(r=i.axis.grid.model),r&&r===t.gridModel},function(n,t){var e=n.geoModel;return e&&e===t.geoModel}],bA={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var n=this.coordSys,t=n.getBoundingRect().clone();return t.applyTransform(Su(n)),t}},Q_={lineX:Lt(SA,0),lineY:Lt(SA,1),rect:function(n,t,e,i){var r=n?t.pointToData([e[0][0],e[1][0]],i):t.dataToPoint([e[0][0],e[1][0]],i),o=n?t.pointToData([e[0][1],e[1][1]],i):t.dataToPoint([e[0][1],e[1][1]],i),a=[J_([r[0],o[0]]),J_([r[1],o[1]])];return{values:a,xyMinMax:a}},polygon:function(n,t,e,i){var r=[[1/0,-1/0],[1/0,-1/0]];return{values:Ve(e,function(o){var a=n?t.pointToData(o,i):t.dataToPoint(o,i);return r[0][0]=Math.min(r[0][0],a[0]),r[1][0]=Math.min(r[1][0],a[1]),r[0][1]=Math.max(r[0][1],a[0]),r[1][1]=Math.max(r[1][1],a[1]),a}),xyMinMax:r}}};function SA(n,t,e,i){var r=e.getAxis(["x","y"][n]),o=J_(Ve([0,1],function(s){return t?r.coordToData(r.toLocalCoord(i[s]),!0):r.toGlobalCoord(r.dataToCoord(i[s]))})),a=[];return a[n]=o,a[1-n]=[NaN,NaN],{values:o,xyMinMax:a}}var wA={lineX:Lt(TA,0),lineY:Lt(TA,1),rect:function(n,t,e){return[[n[0][0]-e[0]*t[0][0],n[0][1]-e[0]*t[0][1]],[n[1][0]-e[1]*t[1][0],n[1][1]-e[1]*t[1][1]]]},polygon:function(n,t,e){return Ve(n,function(i,r){return[i[0]-e[0]*t[r][0],i[1]-e[1]*t[r][1]]})}};function TA(n,t,e,i){return[t[0]-i[n]*e[0],t[1]-i[n]*e[1]]}function EA(n){return n?[n[0][1]-n[0][0],n[1][1]-n[1][0]]:[NaN,NaN]}var e1,t1=Y,bB=sp+"toolbox-dataZoom_",SB=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return ue(t,n),t.prototype.render=function(e,i,r,o){this._brushController||(this._brushController=new e_(r.getZr()),this._brushController.on("brush",mt(this._onBrush,this)).mount()),function(a,s,l,u,h){var f=l._isZoomActive;u&&"takeGlobalCursor"===u.type&&(f="dataZoomSelect"===u.key&&u.dataZoomSelectActive),l._isZoomActive=f,a.setIconStatus("zoom",f?"emphasis":"normal");var p=new Z_(n1(a),s,{include:["grid"]}).makePanelOpts(h,function(g){return g.xAxisDeclared&&!g.yAxisDeclared?"lineX":!g.xAxisDeclared&&g.yAxisDeclared?"lineY":"rect"});l._brushController.setPanels(p).enableBrush(!(!f||!p.length)&&{brushType:"auto",brushStyle:a.getModel("brushStyle").getItemStyle()})}(e,i,this,o,r),e.setIconStatus("back",K_(i).length>1?"emphasis":"normal")},t.prototype.onclick=function(e,i,r){wB[r].call(this)},t.prototype.remove=function(e,i){this._brushController&&this._brushController.unmount()},t.prototype.dispose=function(e,i){this._brushController&&this._brushController.dispose()},t.prototype._onBrush=function(e){var s,l,u,i=e.areas;if(e.isEnd&&i.length){var r={},o=this.ecModel;this._brushController.updateCovers([]),new Z_(n1(this.model),o,{include:["grid"]}).matchOutputRanges(i,o,function(s,l,u){if("cartesian2d"===u.type){var h=s.brushType;"rect"===h?(a("x",u,l[0]),a("y",u,l[1])):a({lineX:"x",lineY:"y"}[h],u,l)}}),l=r,u=K_(s=o),mA(l,function(h,f){for(var p=u.length-1;p>=0&&!u[p][f];p--);if(p<0){var g=s.queryComponents({mainType:"dataZoom",subType:"select",id:f})[0];if(g){var v=g.getPercentRange();u[0][f]={dataZoomId:f,start:v[0],end:v[1]}}}}),u.push(l),this._dispatchZoomAction(r)}function a(s,l,u){var v,m,b,h=l.getAxis(s),f=h.model,p=(v=s,m=f,o.eachComponent({mainType:"dataZoom",subType:"select"},function(S){S.getAxisModel(v,m.componentIndex)&&(b=S)}),b),g=p.findRepresentativeAxisProxy(f).getMinMaxSpan();null==g.minValueSpan&&null==g.maxValueSpan||(u=kc(0,u.slice(),h.scale.getExtent(),0,g.minValueSpan,g.maxValueSpan)),p&&(r[p.id]={dataZoomId:p.id,startValue:u[0],endValue:u[1]})}},t.prototype._dispatchZoomAction=function(e){var i=[];t1(e,function(r,o){i.push(Te(r))}),i.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:i})},t.getDefaultOption=function(e){return{show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:e.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}}},t}(cs),wB={zoom:function(){this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:!this._isZoomActive})},back:function(){this._dispatchZoomAction(function(n){var t=K_(n),e=t[t.length-1];t.length>1&&t.pop();var i={};return mA(e,function(r,o){for(var a=t.length-1;a>=0;a--)if(r=t[a][o]){i[o]=r;break}}),i}(this.ecModel))}};function n1(n){var t={xAxisIndex:n.get("xAxisIndex",!0),yAxisIndex:n.get("yAxisIndex",!0),xAxisId:n.get("xAxisId",!0),yAxisId:n.get("yAxisId",!0)};return null==t.xAxisIndex&&null==t.xAxisId&&(t.xAxisIndex="all"),null==t.yAxisIndex&&null==t.yAxisId&&(t.yAxisIndex="all"),t}e1=function(n){var t=n.getComponent("toolbox",0),e=["feature","dataZoom"];if(t&&null!=t.get(e)){var i=t.getModel(e),r=[],o=nl(n,n1(i));return t1(o.xAxisModels,function(s){return a(s,"xAxis","xAxisIndex")}),t1(o.yAxisModels,function(s){return a(s,"yAxis","yAxisIndex")}),r}function a(s,l,u){var h=s.componentIndex,f={type:"select",$fromToolbox:!0,filterMode:i.get("filterMode",!0)||"filter",id:bB+l+h};f[u]=h,r.push(f)}},ni(null==Rm.get("dataZoom")&&e1),Rm.set("dataZoom",e1);var TB=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return ue(t,n),t.type="tooltip",t.dependencies=["axisPointer"],t.defaultOption={zlevel:0,z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},t}(Rn);function CA(n){var t=n.get("confine");return null!=t?!!t:"richText"===n.get("renderMode")}function IA(n){if(ve.domSupported)for(var t=document.documentElement.style,e=0,i=n.length;e<i;e++)if(n[e]in t)return n[e]}var AA=IA(["transform","webkitTransform","OTransform","MozTransform","msTransform"]);function MA(n,t){if(!n)return t;t=Cm(t,!0);var e=n.indexOf(t);return(n=-1===e?t:"-"+n.slice(0,e)+"-"+t).toLowerCase()}var EB=MA(IA(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),"transition"),i1=MA(AA,"transform"),CB="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(ve.transform3dSupported?"will-change:transform;":"");function LA(n,t,e){var i=n.toFixed(0)+"px",r=t.toFixed(0)+"px";if(!ve.transformSupported)return e?"top:"+r+";left:"+i+";":[["top",r],["left",i]];var o=ve.transform3dSupported,a="translate"+(o?"3d":"")+"("+i+","+r+(o?",0":"")+")";return e?"top:0;left:0;"+i1+":"+a+";":[["top",0],["left",0],[AA,a]]}function DA(n,t,e,i,r){var l,h,o=t&&t.painter;if(e){var a=o&&o.getViewportRoot();a&&(l=n,h=document.body,Fi(sr,a,i,r,!0)&&Fi(l,h,sr[0],sr[1]))}else{n[0]=i,n[1]=r;var s=o&&o.getViewportRootOffset();s&&(n[0]+=s.offsetLeft,n[1]+=s.offsetTop)}n[2]=n[0]/t.getWidth(),n[3]=n[1]/t.getHeight()}var AB=function(){function n(t,e,i){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._firstShow=!0,this._longHide=!0,ve.wxa)return null;var r=document.createElement("div");r.domBelongToZr=!0,this.el=r;var o=this._zr=e.getZr(),a=this._appendToBody=i&&i.appendToBody;DA(this._styleCoord,o,a,e.getWidth()/2,e.getHeight()/2),a?document.body.appendChild(r):t.appendChild(r),this._container=t;var s=this;r.onmouseenter=function(){s._enterable&&(clearTimeout(s._hideTimeout),s._show=!0),s._inContent=!0},r.onmousemove=function(l){if(l=l||window.event,!s._enterable){var u=o.handler;An(o.painter.getViewportRoot(),l,!0),u.dispatch("mousemove",l)}},r.onmouseleave=function(){s._inContent=!1,s._enterable&&s._show&&s.hideLater(s._hideDelay)}}return n.prototype.update=function(t){var e,i,r,o=this._container,a=(i="position",(r=(e=o).currentStyle||document.defaultView&&document.defaultView.getComputedStyle(e))?i?r[i]:r:null),s=o.style;"absolute"!==s.position&&"absolute"!==a&&(s.position="relative"),t.get("alwaysShowContent")&&this._moveIfResized(),this.el.className=t.get("className")||""},n.prototype.show=function(t,e){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var i=this.el,r=i.style,o=this._styleCoord;i.innerHTML?r.cssText=CB+function IB(n,t,e){var g,y,b,i=[],r=n.get("transitionDuration"),o=n.get("backgroundColor"),a=n.get("shadowBlur"),s=n.get("shadowColor"),l=n.get("shadowOffsetX"),u=n.get("shadowOffsetY"),h=n.getModel("textStyle"),f=yb(n,"html");return i.push("box-shadow:"+l+"px "+u+"px "+a+"px "+s),t&&r&&i.push((b="opacity"+(y=" "+(g=r)/2+"s "+"cubic-bezier(0.23,1,0.32,1)")+",visibility"+y,e||(y=" "+g+"s cubic-bezier(0.23,1,0.32,1)",b+=ve.transformSupported?","+i1+y:",left"+y+",top"+y),EB+":"+b)),o&&(ve.canvasSupported?i.push("background-color:"+o):(i.push("background-color:#"+Js(o)),i.push("filter:alpha(opacity=70)"))),Y(["width","color","radius"],function(g){var v="border-"+g,m=Cm(v),y=n.get(m);null!=y&&i.push(v+":"+y+("color"===g?"":"px"))}),i.push(function(g){var v=[],m=g.get("fontSize"),y=g.getTextColor();y&&v.push("color:"+y),v.push("font:"+g.getFont()),m&&v.push("line-height:"+Math.round(3*m/2)+"px");var b=g.get("textShadowColor"),S=g.get("textShadowBlur")||0,E=g.get("textShadowOffsetX")||0,I=g.get("textShadowOffsetY")||0;return b&&S&&v.push("text-shadow:"+E+"px "+I+"px "+S+"px "+b),Y(["decoration","align"],function(A){var L=g.get(A);L&&v.push("text-"+A+":"+L)}),v.join(";")}(h)),null!=f&&i.push("padding:"+mc(f).join("px ")+"px"),i.join(";")+";"}(t,!this._firstShow,this._longHide)+LA(o[0],o[1],!0)+"border-color:"+yc(e)+";"+(t.get("extraCssText")||"")+";pointer-events:"+(this._enterable?"auto":"none"):r.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},n.prototype.setContent=function(t,e,i,r,o){var a=this.el;if(null!=t){var s="";if(Jt(o)&&"item"===i.get("trigger")&&!CA(i)&&(s=function(h,f,p){if(!Jt(p)||"inside"===p)return"";var g=h.get("backgroundColor"),v=h.get("borderWidth");f=yc(f);var m,y,b="left"===(m=p)?"right":"right"===m?"left":"top"===m?"bottom":"top",S=Math.max(1.5*Math.round(v),6),E="",I=i1+":";pe(["left","right"],b)>-1?(E+="top:50%",I+="translateY(-50%) rotate("+(y="left"===b?-225:-45)+"deg)"):(E+="left:50%",I+="translateX(-50%) rotate("+(y="top"===b?225:45)+"deg)");var A=y*Math.PI/180,L=S+v,R=L*Math.abs(Math.cos(A))+L*Math.abs(Math.sin(A)),k=f+" solid "+v+"px;";return'<div style="'+["position:absolute;width:"+S+"px;height:"+S+"px;",(E+=";"+b+":-"+Math.round(100*((R-Math.SQRT2*v)/2+Math.SQRT2*v-(R-L)/2))/100+"px")+";"+I+";","border-bottom:"+k,"border-right:"+k,"background-color:"+g+";"].join("")+'"></div>'}(i,r,o)),Jt(t))a.innerHTML=t+s;else if(t){a.innerHTML="",rt(t)||(t=[t]);for(var l=0;l<t.length;l++)Rt(t[l])&&t[l].parentNode!==a&&a.appendChild(t[l]);if(s&&a.childNodes.length){var u=document.createElement("div");u.innerHTML=s,a.appendChild(u)}}}else a.innerHTML=""},n.prototype.setEnterable=function(t){this._enterable=t},n.prototype.getSize=function(){var t=this.el;return[t.offsetWidth,t.offsetHeight]},n.prototype.moveTo=function(t,e){var i=this._styleCoord;if(DA(i,this._zr,this._appendToBody,t,e),null!=i[0]&&null!=i[1]){var r=this.el.style;Y(LA(i[0],i[1]),function(o){r[o[0]]=o[1]})}},n.prototype._moveIfResized=function(){var e=this._styleCoord[3];this.moveTo(this._styleCoord[2]*this._zr.getWidth(),e*this._zr.getHeight())},n.prototype.hide=function(){var t=this,e=this.el.style;e.visibility="hidden",e.opacity="0",ve.transform3dSupported&&(e.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return t._longHide=!0},500)},n.prototype.hideLater=function(t){!this._show||this._inContent&&this._enterable||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(mt(this.hide,this),t)):this.hide())},n.prototype.isShow=function(){return this._show},n.prototype.dispose=function(){this.el.parentNode.removeChild(this.el)},n}(),MB=function(){function n(t){this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._zr=t.getZr(),RA(this._styleCoord,this._zr,t.getWidth()/2,t.getHeight()/2)}return n.prototype.update=function(t){t.get("alwaysShowContent")&&this._moveIfResized()},n.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},n.prototype.setContent=function(t,e,i,r,o){Bt(t)&&jn(""),this.el&&this._zr.remove(this.el);var a=i.getModel("textStyle");this.el=new Nn({style:{rich:e.richTextStyles,text:t,lineHeight:22,backgroundColor:i.get("backgroundColor"),borderRadius:i.get("borderRadius"),borderWidth:1,borderColor:r,shadowColor:i.get("shadowColor"),shadowBlur:i.get("shadowBlur"),shadowOffsetX:i.get("shadowOffsetX"),shadowOffsetY:i.get("shadowOffsetY"),textShadowColor:a.get("textShadowColor"),textShadowBlur:a.get("textShadowBlur")||0,textShadowOffsetX:a.get("textShadowOffsetX")||0,textShadowOffsetY:a.get("textShadowOffsetY")||0,fill:i.get(["textStyle","color"]),padding:yb(i,"richText"),verticalAlign:"top",align:"left"},z:i.get("z")}),this._zr.add(this.el);var s=this;this.el.on("mouseover",function(){s._enterable&&(clearTimeout(s._hideTimeout),s._show=!0),s._inContent=!0}),this.el.on("mouseout",function(){s._enterable&&s._show&&s.hideLater(s._hideDelay),s._inContent=!1})},n.prototype.setEnterable=function(t){this._enterable=t},n.prototype.getSize=function(){var t=this.el,e=this.el.getBoundingRect(),i=NA(t.style);return[e.width+i.left+i.right,e.height+i.top+i.bottom]},n.prototype.moveTo=function(t,e){var i=this.el;if(i){var r=this._styleCoord;RA(r,this._zr,t,e),t=r[0],e=r[1];var o=i.style,a=Wu(o.borderWidth||0),s=NA(o);i.x=t+a+s.left,i.y=e+a+s.top,i.markRedraw()}},n.prototype._moveIfResized=function(){var e=this._styleCoord[3];this.moveTo(this._styleCoord[2]*this._zr.getWidth(),e*this._zr.getHeight())},n.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},n.prototype.hideLater=function(t){!this._show||this._inContent&&this._enterable||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(mt(this.hide,this),t)):this.hide())},n.prototype.isShow=function(){return this._show},n.prototype.dispose=function(){this._zr.remove(this.el)},n}();function Wu(n){return Math.max(0,n)}function NA(n){var t=Wu(n.shadowBlur||0),e=Wu(n.shadowOffsetX||0),i=Wu(n.shadowOffsetY||0);return{left:Wu(t-e),right:Wu(t+e),top:Wu(t-i),bottom:Wu(t+i)}}function RA(n,t,e,i){n[0]=e,n[1]=i,n[2]=n[0]/t.getWidth(),n[3]=n[1]/t.getHeight()}var r1=mt,Jd=Y,OA=kt,LB=new kn({shape:{x:-1,y:-1,width:2,height:2}}),DB=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return ue(t,n),t.prototype.init=function(e,i){if(!ve.node){var r,o=e.getComponent("tooltip"),a=o.get("renderMode");this._renderMode="auto"===(r=a)?ve.domSupported?"html":"richText":r||"html",this._tooltipContent="richText"===this._renderMode?new MB(i):new AB(i.getDom(),i,{appendToBody:o.get("appendToBody",!0)})}},t.prototype.render=function(e,i,r){if(!ve.node){this.group.removeAll(),this._tooltipModel=e,this._ecModel=i,this._api=r,this._alwaysShowContent=e.get("alwaysShowContent");var o=this._tooltipContent;o.update(e),o.setEnterable(e.get("enterable")),this._initGlobalListener(),this._keepShow(),this._updatePosition="html"===this._renderMode?ed(r1(this._doUpdatePosition,this),50):this._doUpdatePosition}},t.prototype._initGlobalListener=function(){var e=this._tooltipModel.get("triggerOn");UI("itemTooltip",this._api,r1(function(i,r,o){"none"!==e&&(e.indexOf(i)>=0?this._tryShow(r,o):"leave"===i&&this._hide(o))},this))},t.prototype._keepShow=function(){var e=this._tooltipModel,i=this._ecModel,r=this._api;if(null!=this._lastX&&null!=this._lastY&&"none"!==e.get("triggerOn")){var o=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!r.isDisposed()&&o.manuallyShowTip(e,i,r,{x:o._lastX,y:o._lastY,dataByCoordSys:o._lastDataByCoordSys})})}},t.prototype.manuallyShowTip=function(e,i,r,o){if(o.from!==this.uid&&!ve.node){var a=kA(o,r);this._ticket="";var s=o.dataByCoordSys,l=function(v,m,y){var b=sf(v).queryOptionMap,S=b.keys()[0];if(S&&"series"!==S){var E,I=Ml(m,S,b.get(S),{useDefault:!1,enableAll:!1,enableNone:!1}).models[0];if(I&&(y.getViewOfComponentModel(I).group.traverse(function(A){var L=pn(A).tooltipConfig;if(L&&L.name===v.name)return E=A,!0}),E))return{componentMainType:S,componentIndex:I.componentIndex,el:E}}}(o,i,r);if(l){var u=l.el.getBoundingRect().clone();u.applyTransform(l.el.transform),this._tryShow({offsetX:u.x+u.width/2,offsetY:u.y+u.height/2,target:l.el,position:o.position,positionDefault:"bottom"},a)}else if(o.tooltip&&null!=o.x&&null!=o.y){var h=LB;h.x=o.x,h.y=o.y,h.update(),pn(h).tooltipConfig={name:null,option:o.tooltip},this._tryShow({offsetX:o.x,offsetY:o.y,target:h},a)}else if(s)this._tryShow({offsetX:o.x,offsetY:o.y,position:o.position,dataByCoordSys:s,tooltipOption:o.tooltipOption},a);else if(null!=o.seriesIndex){if(this._manuallyAxisShowTip(e,i,r,o))return;var f=VI(o,i),p=f.point[0],g=f.point[1];null!=p&&null!=g&&this._tryShow({offsetX:p,offsetY:g,target:f.el,position:o.position,positionDefault:"bottom"},a)}else null!=o.x&&null!=o.y&&(r.dispatchAction({type:"updateAxisPointer",x:o.x,y:o.y}),this._tryShow({offsetX:o.x,offsetY:o.y,position:o.position,target:r.getZr().findHover(o.x,o.y).target},a))}},t.prototype.manuallyHideTip=function(e,i,r,o){!this._alwaysShowContent&&this._tooltipModel&&this._tooltipContent.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,o.from!==this.uid&&this._hide(kA(o,r))},t.prototype._manuallyAxisShowTip=function(e,i,r,o){var a=o.seriesIndex,s=o.dataIndex,l=i.getComponent("axisPointer").coordSysAxesInfo;if(null!=a&&null!=s&&null!=l){var u=i.getSeriesByIndex(a);if(u&&"axis"===Pv([u.getData().getItemModel(s),u,(u.coordinateSystem||{}).model],this._tooltipModel).get("trigger"))return r.dispatchAction({type:"updateAxisPointer",seriesIndex:a,dataIndex:s,position:o.position}),!0}},t.prototype._tryShow=function(e,i){var r=e.target;if(this._tooltipModel){this._lastX=e.offsetX,this._lastY=e.offsetY;var o=e.dataByCoordSys;if(o&&o.length)this._showAxisTooltip(o,e);else if(r){var a,s;this._lastDataByCoordSys=null,Ih(r,function(l){return null!=pn(l).dataIndex?(a=l,!0):null!=pn(l).tooltipConfig?(s=l,!0):void 0},!0),a?this._showSeriesItemTooltip(e,a,i):s?this._showComponentItemTooltip(e,s,i):this._hide(i)}else this._lastDataByCoordSys=null,this._hide(i)}},t.prototype._showOrMove=function(e,i){var r=e.get("showDelay");i=mt(i,this),clearTimeout(this._showTimout),r>0?this._showTimout=setTimeout(i,r):i()},t.prototype._showAxisTooltip=function(e,i){var r=this._ecModel,a=[i.offsetX,i.offsetY],s=Pv([i.tooltipOption],this._tooltipModel),l=this._renderMode,u=[],h=ao("section",{blocks:[],noHeader:!0}),f=[],p=new Jm;Jd(e,function(S){Jd(S.dataByAxis,function(E){var I=r.getComponent(E.axisDim+"Axis",E.axisIndex),A=E.value;if(I&&null!=A){var L=OI(A,I.axis,r,E.seriesDataIndices,E.valueLabelOpt),R=ao("section",{header:L,noHeader:!Ji(L),sortBlocks:!0,blocks:[]});h.blocks.push(R),Y(E.seriesDataIndices,function(k){var H=r.getSeriesByIndex(k.seriesIndex),U=k.dataIndexInside,G=H.getDataParams(U);if(!(G.dataIndex<0)){G.axisDim=E.axisDim,G.axisIndex=E.axisIndex,G.axisType=E.axisType,G.axisId=E.axisId,G.axisValue=Uy(I.axis,{value:A}),G.axisValueLabel=L,G.marker=p.makeTooltipMarker("item",yc(G.color),l);var K=$x(H.formatTooltip(U,!0,null));K.markupFragment&&R.blocks.push(K.markupFragment),K.markupText&&f.push(K.markupText),u.push(G)}})}})}),h.blocks.reverse(),f.reverse();var g=i.position,v=s.get("order"),m=pb(h,p,l,v,r.get("useUTC"),s.get("textStyle"));m&&f.unshift(m);var b=f.join("richText"===l?"\n\n":"<br/>");this._showOrMove(s,function(){this._updateContentNotChangedOnAxis(e,u)?this._updatePosition(s,g,a[0],a[1],this._tooltipContent,u):this._showTooltipContent(s,b,u,Math.random()+"",a[0],a[1],g,null,p)})},t.prototype._showSeriesItemTooltip=function(e,i,r){var o=this._ecModel,a=pn(i),s=a.seriesIndex,l=o.getSeriesByIndex(s),u=a.dataModel||l,h=a.dataIndex,f=a.dataType,p=u.getData(f),g=this._renderMode,v=e.positionDefault,m=Pv([p.getItemModel(h),u,l&&(l.coordinateSystem||{}).model],this._tooltipModel,v?{position:v}:null),y=m.get("trigger");if(null==y||"item"===y){var b=u.getDataParams(h,f),S=new Jm;b.marker=S.makeTooltipMarker("item",yc(b.color),g);var E=$x(u.formatTooltip(h,!1,f)),I=m.get("order"),A=E.markupFragment?pb(E.markupFragment,S,g,I,o.get("useUTC"),m.get("textStyle")):E.markupText,L="item_"+u.name+"_"+h;this._showOrMove(m,function(){this._showTooltipContent(m,A,b,L,e.offsetX,e.offsetY,e.position,e.target,S)}),r({type:"showTip",dataIndexInside:h,dataIndex:p.getRawIndex(h),seriesIndex:s,from:this.uid})}},t.prototype._showComponentItemTooltip=function(e,i,r){var o=pn(i),a=o.tooltipConfig.option||{};Jt(a)&&(a={content:a,formatter:a});var s=[a],l=this._ecModel.getComponent(o.componentMainType,o.componentIndex);l&&s.push(l),s.push({formatter:a.content});var u=e.positionDefault,h=Pv(s,this._tooltipModel,u?{position:u}:null),f=h.get("content"),p=Math.random()+"",g=new Jm;this._showOrMove(h,function(){var v=Te(h.get("formatterParams")||{});this._showTooltipContent(h,f,v,p,e.offsetX,e.offsetY,e.position,i,g)}),r({type:"showTip",from:this.uid})},t.prototype._showTooltipContent=function(e,i,r,o,a,s,l,u,h){if(this._ticket="",e.get("showContent")&&e.get("show")){var f=this._tooltipContent,p=e.get("formatter");l=l||e.get("position");var g=i,v=this._getNearestPoint([a,s],r,e.get("trigger"),e.get("borderColor")).color;if(p)if(Jt(p)){var m=e.ecModel.get("useUTC"),y=rt(r)?r[0]:r;g=p,y&&y.axisType&&y.axisType.indexOf("time")>=0&&(g=Yf(y.axisValue,g,m)),g=Am(g,r,!0)}else if(sn(p)){var b=r1(function(S,E){S===this._ticket&&(f.setContent(E,h,e,v,l),this._updatePosition(e,l,a,s,f,r,u))},this);this._ticket=o,g=p(r,o,b)}else g=p;f.setContent(g,h,e,v,l),f.show(e,v),this._updatePosition(e,l,a,s,f,r,u)}},t.prototype._getNearestPoint=function(e,i,r,o){return"axis"===r||rt(i)?{color:o||("html"===this._renderMode?"#fff":"none")}:rt(i)?void 0:{color:o||i.color||i.borderColor}},t.prototype._doUpdatePosition=function(e,i,r,o,a,s,l){var u=this._api.getWidth(),h=this._api.getHeight();i=i||e.get("position");var S,E,A,L,R,k,H,U,G,f=a.getSize(),p=e.get("align"),g=e.get("verticalAlign"),v=l&&l.getBoundingRect().clone();if(l&&v.applyTransform(l.transform),sn(i)&&(i=i([r,o],s,a.el,v,{viewSize:[u,h],contentSize:f.slice()})),rt(i))r=OA(i[0],u),o=OA(i[1],h);else if(Bt(i)){var m=i;m.width=f[0],m.height=f[1];var y=Br(m,{width:u,height:h});r=y.x,o=y.y,p=null,g=null}else if(Jt(i)&&l){var b=function(S,E,I,A){var L=I[0],R=I[1],k=Math.ceil(Math.SQRT2*A)+8,H=0,U=0,G=E.width,K=E.height;switch(S){case"inside":H=E.x+G/2-L/2,U=E.y+K/2-R/2;break;case"top":H=E.x+G/2-L/2,U=E.y-R-k;break;case"bottom":H=E.x+G/2-L/2,U=E.y+K+k;break;case"left":H=E.x-L-k,U=E.y+K/2-R/2;break;case"right":H=E.x+G+k,U=E.y+K/2-R/2}return[H,U]}(i,v,f,e.get("borderWidth"));r=b[0],o=b[1]}else S=r,E=o,A=u,L=h,R=p?null:20,k=g?null:20,U=(H=a.getSize())[0],G=H[1],null!=R&&(S+U+R+2>A?S-=U+R:S+=R),null!=k&&(E+G+k>L?E-=G+k:E+=k),r=(b=[S,E])[0],o=b[1];p&&(r-=PA(p)?f[0]/2:"right"===p?f[0]:0),g&&(o-=PA(g)?f[1]/2:"bottom"===g?f[1]:0),CA(e)&&(b=function(S,E,I,A,L){var R=I.getSize(),k=R[0],H=R[1];return S=Math.min(S+k,A)-k,E=Math.min(E+H,L)-H,[S=Math.max(S,0),E=Math.max(E,0)]}(r,o,a,u,h),r=b[0],o=b[1]),a.moveTo(r,o)},t.prototype._updateContentNotChangedOnAxis=function(e,i){var r=this._lastDataByCoordSys,o=this._cbParamsList,a=!!r&&r.length===e.length;return a&&Jd(r,function(s,l){var u=s.dataByAxis||[],h=(e[l]||{}).dataByAxis||[];(a=a&&u.length===h.length)&&Jd(u,function(f,p){var g=h[p]||{},v=f.seriesDataIndices||[],m=g.seriesDataIndices||[];(a=a&&f.value===g.value&&f.axisType===g.axisType&&f.axisId===g.axisId&&v.length===m.length)&&Jd(v,function(y,b){var S=m[b];a=a&&y.seriesIndex===S.seriesIndex&&y.dataIndex===S.dataIndex}),o&&Y(f.seriesDataIndices,function(y){var b=y.seriesIndex,S=i[b],E=o[b];S&&E&&E.data!==S.data&&(a=!1)})})}),this._lastDataByCoordSys=e,this._cbParamsList=i,!!a},t.prototype._hide=function(e){this._lastDataByCoordSys=null,e({type:"hideTip",from:this.uid})},t.prototype.dispose=function(e,i){ve.node||(this._tooltipContent.dispose(),F_("itemTooltip",i))},t.type="tooltip",t}(Ni);function Pv(n,t,e){var i,r=t.ecModel;e?(i=new Qn(e,r,r),i=new Qn(t.option,i,r)):i=t;for(var o=n.length-1;o>=0;o--){var a=n[o];a&&(a instanceof Qn&&(a=a.get("tooltip",!0)),Jt(a)&&(a={formatter:a}),a&&(i=new Qn(a,i,r)))}return i}function kA(n,t){return n.dispatchAction||mt(t.dispatchAction,t)}function PA(n){return"center"===n||"middle"===n}var NB=["rect","polygon","keep","clear"];function RB(n,t){var l,u,e=Yn(n?n.brush:[]);if(e.length){var i=[];Y(e,function(l){var u=l.hasOwnProperty("toolbox")?l.toolbox:[];u instanceof Array&&(i=i.concat(u))});var r=n&&n.toolbox;rt(r)&&(r=r[0]),r||(n.toolbox=[r={feature:{}}]);var o=r.feature||(r.feature={}),a=o.brush||(o.brush={}),s=a.type||(a.type=[]);s.push.apply(s,i),u={},Y(l=s,function(h){u[h]=1}),l.length=0,Y(u,function(h,f){l.push(f)}),t&&!s.length&&s.push.apply(s,NB)}}var BA=Y;function FA(n){if(n)for(var t in n)if(n.hasOwnProperty(t))return!0}function o1(n,t,e){var i={};return BA(t,function(r){var o,a=i[r]=((o=function(){}).prototype.__hidden=o.prototype,new o);BA(n[r],function(s,l){if(so.isValidType(l)){var u={type:l,visual:s};e&&e(u,r),a[l]=new so(u),"opacity"===l&&((u=Te(u)).type="colorAlpha",a.__hidden.__alphaForOpacity=new so(u))}})}),i}function HA(n,t,e){var i;Y(e,function(r){t.hasOwnProperty(r)&&FA(t[r])&&(i=!0)}),i&&Y(e,function(r){t.hasOwnProperty(r)&&FA(t[r])?n[r]=Te(t[r]):delete n[r]})}var UA={lineX:zA(0),lineY:zA(1),rect:{point:function(n,t,e){return n&&e.boundingRect.contain(n[0],n[1])},rect:function(n,t,e){return n&&e.boundingRect.intersect(n)}},polygon:{point:function(n,t,e){return n&&e.boundingRect.contain(n[0],n[1])&&wc(e.range,n[0],n[1])},rect:function(n,t,e){var i=e.range;if(!n||i.length<=1)return!1;var r=n.x,o=n.y,a=n.width,s=n.height,l=i[0];return!!(wc(i,r,o)||wc(i,r+a,o)||wc(i,r,o+s)||wc(i,r+a,o+s)||cn.create(n).contain(l[0],l[1])||Uf(r,o,r+a,o,i)||Uf(r,o,r,o+s,i)||Uf(r+a,o,r+a,o+s,i)||Uf(r,o+s,r+a,o+s,i))||void 0}}};function zA(n){var t=["x","y"],e=["width","height"];return{point:function(i,r,o){if(i)return Qd(i[n],o.range)},rect:function(i,r,o){if(i){var a=o.range,s=[i[t[n]],i[t[n]]+i[e[n]]];return s[1]<s[0]&&s.reverse(),Qd(s[0],a)||Qd(s[1],a)||Qd(a[0],s)||Qd(a[1],s)}}}}function Qd(n,t){return t[0]<=n&&n<=t[1]}var VA=["inBrush","outOfBrush"],a1="__ecInBrushSelectEvent";function GA(n){n.eachComponent({mainType:"brush"},function(t){(t.brushTargetManager=new Z_(t.option,n)).setInputRanges(t.areas,n)})}function kB(n,t,e){var i,r,o=[];n.eachComponent({mainType:"brush"},function(a){e&&"takeGlobalCursor"===e.type&&a.setBrushOption("brush"===e.key?e.brushOption:{brushType:!1})}),GA(n),n.eachComponent({mainType:"brush"},function(a,s){var l={brushId:a.id,brushIndex:s,brushName:a.name,areas:Te(a.areas),selected:[]};o.push(l);var u=a.option,h=u.brushLink,f=[],p=[],g=[],v=!1;s||(i=u.throttleType,r=u.throttleDelay);var m=Ve(a.areas,function(E){var L,R,k,I=BB[E.brushType],A=Ee({boundingRect:I?I(E):void 0},E);return A.selectors=(R=(L=A).brushType,k={point:function(H){return UA[R].point(H,k,L)},rect:function(H){return UA[R].rect(H,k,L)}}),A}),y=o1(a.option,VA,function(E){E.mappingMethod="fixed"});function b(E){return"all"===h||!!f[E]}function S(E){return!!E.length}rt(h)&&Y(h,function(E){f[E]=1}),n.eachSeries(function(E,I){var L,R,k,A=g[I]=[];"parallel"===E.subType?(R=I,k=(L=E).coordinateSystem,v=v||k.hasAxisBrushed(),b(R)&&k.eachActiveState(L.getData(),function(H,U){"active"===H&&(p[U]=1)})):function(L,R,k){if(L.brushSelector&&(G=R,null==(K=a.option.seriesIndex)||"all"===K||!(rt(K)?pe(K,G)<0:G!==K))&&(Y(m,function(U){a.brushTargetManager.controlSeries(U,L,n)&&k.push(U),v=v||S(k)}),b(R)&&S(k))){var H=L.getData();H.each(function(U){WA(L,k,H,U)&&(p[U]=1)})}var G,K}(E,I,A)}),n.eachSeries(function(E,I){var A={seriesId:E.id,seriesIndex:I,seriesName:E.name,dataIndex:[]};l.selected.push(A);var L=g[I],R=E.getData(),k=b(I)?function(H){return p[H]?(A.dataIndex.push(R.getRawIndex(H)),"inBrush"):"outOfBrush"}:function(H){return WA(E,L,R,H)?(A.dataIndex.push(R.getRawIndex(H)),"inBrush"):"outOfBrush"};(b(I)?v:S(L))&&function(H,U,G,K,$,ee){var le,he={};function ge(Le){return $m(G,le,Le)}function me(Le,Ge){Hb(G,le,Le,Ge)}Y(H,function(Le){var Ge=so.prepareVisualTypes(U[Le]);he[Le]=Ge}),G.each(function be(Le,Ge){var nt=G.getRawDataItem(le=Le);if(!nt||!1!==nt.visualMap)for(var xt=K.call(void 0,Le),Je=U[xt],dt=he[xt],Dt=0,Tt=dt.length;Dt<Tt;Dt++){var It=dt[Dt];Je[It]&&Je[It].applyVisual(Le,ge,me)}})}(VA,y,R,k)})}),function(a,s,l,u,h){if(h){var f=a.getZr();f[a1]||(f.__ecBrushSelect||(f.__ecBrushSelect=PB),td(f,"__ecBrushSelect",l,s)(a,u))}}(t,i,r,o,e)}function PB(n,t){if(!n.isDisposed()){var e=n.getZr();e[a1]=!0,n.dispatchAction({type:"brushSelect",batch:t}),e[a1]=!1}}function WA(n,t,e,i){for(var r=0,o=t.length;r<o;r++){var a=t[r];if(n.brushSelector(i,e,a.selectors,a))return!0}}var BB={rect:function(n){return YA(n.range)},polygon:function(n){for(var t,e=n.range,i=0,r=e.length;i<r;i++){var o=e[i];o[0]<(t=t||[[1/0,-1/0],[1/0,-1/0]])[0][0]&&(t[0][0]=o[0]),o[0]>t[0][1]&&(t[0][1]=o[0]),o[1]<t[1][0]&&(t[1][0]=o[1]),o[1]>t[1][1]&&(t[1][1]=o[1])}return t&&YA(t)}};function YA(n){return new cn(n[0][0],n[1][0],n[0][1]-n[0][0],n[1][1]-n[1][0])}var FB=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return ue(t,n),t.prototype.init=function(e,i){this.ecModel=e,this.api=i,(this._brushController=new e_(i.getZr())).on("brush",mt(this._onBrush,this)).mount()},t.prototype.render=function(e,i,r,o){this.model=e,this._updateController(e,i,r,o)},t.prototype.updateTransform=function(e,i,r,o){GA(i),this._updateController(e,i,r,o)},t.prototype.updateVisual=function(e,i,r,o){this.updateTransform(e,i,r,o)},t.prototype.updateView=function(e,i,r,o){this._updateController(e,i,r,o)},t.prototype._updateController=function(e,i,r,o){(!o||o.$from!==e.id)&&this._brushController.setPanels(e.brushTargetManager.makePanelOpts(r)).enableBrush(e.brushOption).updateCovers(e.areas.slice())},t.prototype.dispose=function(){this._brushController.dispose()},t.prototype._onBrush=function(e){var i=this.model.id,r=this.model.brushTargetManager.setOutputRanges(e.areas,this.ecModel);(!e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:i,areas:Te(r),$from:i}),e.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:i,areas:Te(r),$from:i})},t.type="brush",t}(Ni),HB=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.areas=[],e.brushOption={},e}return ue(t,n),t.prototype.optionUpdated=function(e,i){var r=this.option;!i&&HA(r,e,["inBrush","outOfBrush"]);var o=r.inBrush=r.inBrush||{};r.outOfBrush=r.outOfBrush||{color:"#ddd"},o.hasOwnProperty("liftZ")||(o.liftZ=5)},t.prototype.setAreas=function(e){e&&(this.areas=Ve(e,function(i){return XA(this.option,i)},this))},t.prototype.setBrushOption=function(e){this.brushOption=XA(this.option,e),this.brushType=this.brushOption.brushType},t.type="brush",t.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],t.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},t}(Rn);function XA(n,t){return Ie({brushType:n.brushType,brushMode:n.brushMode,transformable:n.transformable,brushStyle:new Qn(n.brushStyle).getItemStyle(),removeOnClick:n.removeOnClick,z:n.z},t,!0)}var UB=["rect","polygon","lineX","lineY","keep","clear"],zB=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return ue(t,n),t.prototype.render=function(e,i,r){var o,a,s;i.eachComponent({mainType:"brush"},function(l){o=l.brushType,a=l.brushOption.brushMode||"single",s=s||!!l.areas.length}),this._brushType=o,this._brushMode=a,Y(e.get("type",!0),function(l){e.setIconStatus(l,("keep"===l?"multiple"===a:"clear"===l?s:l===o)?"emphasis":"normal")})},t.prototype.updateView=function(e,i,r){this.render(e,i,r)},t.prototype.getIcons=function(){var e=this.model,i=e.get("icon",!0),r={};return Y(e.get("type",!0),function(o){i[o]&&(r[o]=i[o])}),r},t.prototype.onclick=function(e,i,r){var o=this._brushType,a=this._brushMode;"clear"===r?(i.dispatchAction({type:"axisAreaSelect",intervals:[]}),i.dispatchAction({type:"brush",command:"clear",areas:[]})):i.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:"keep"===r?o:o!==r&&r,brushMode:"keep"===r?"multiple"===a?"single":"multiple":a}})},t.getDefaultOption=function(e){return{show:!0,type:UB.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:e.getLocaleModel().get(["toolbox","brush","title"])}},t}(cs),VB=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.layoutMode={type:"box",ignoreSize:!0},e}return ue(t,n),t.type="title",t.defaultOption={zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},t}(Rn),GB=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return ue(t,n),t.prototype.render=function(e,i,r){if(this.group.removeAll(),e.get("show")){var o=this.group,a=e.getModel("textStyle"),s=e.getModel("subtextStyle"),l=e.get("textAlign"),u=ln(e.get("textBaseline"),e.get("textVerticalAlign")),h=new Nn({style:_r(a,{text:e.get("text"),fill:a.getTextColor()},{disableBox:!0}),z2:10}),f=h.getBoundingRect(),p=e.get("subtext"),g=new Nn({style:_r(s,{text:p,fill:s.getTextColor(),y:f.height+e.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),v=e.get("link"),m=e.get("sublink"),y=e.get("triggerEvent",!0);h.silent=!v&&!y,g.silent=!m&&!y,v&&h.on("click",function(){og(v,"_"+e.get("target"))}),m&&g.on("click",function(){og(m,"_"+e.get("subtarget"))}),pn(h).eventData=pn(g).eventData=y?{componentType:"title",componentIndex:e.componentIndex}:null,o.add(h),p&&o.add(g);var b=o.getBoundingRect(),S=e.getBoxLayoutParams();S.width=b.width,S.height=b.height;var E=Br(S,{width:r.getWidth(),height:r.getHeight()},e.get("padding"));l||("middle"===(l=e.get("left")||e.get("right"))&&(l="center"),"right"===l?E.x+=E.width:"center"===l&&(E.x+=E.width/2)),u||("center"===(u=e.get("top")||e.get("bottom"))&&(u="middle"),"bottom"===u?E.y+=E.height:"middle"===u&&(E.y+=E.height/2),u=u||"top"),o.x=E.x,o.y=E.y,o.markRedraw();var I={align:l,verticalAlign:u};h.setStyle(I),g.setStyle(I),b=o.getBoundingRect();var A=E.margin,L=e.getItemStyle(["color","opacity"]);L.fill=e.get("backgroundColor");var R=new kn({shape:{x:b.x-A[3],y:b.y-A[0],width:b.width+A[1]+A[3],height:b.height+A[0]+A[2],r:e.get("borderRadius")},style:L,subPixelOptimize:!0,silent:!0});o.add(R)}},t.type="title",t}(Ni),jA=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.layoutMode="box",e}return ue(t,n),t.prototype.init=function(e,i,r){this.mergeDefaultAndTheme(e,r),this._initData()},t.prototype.mergeOption=function(e){n.prototype.mergeOption.apply(this,arguments),this._initData()},t.prototype.setCurrentIndex=function(e){null==e&&(e=this.option.currentIndex);var i=this._data.count();this.option.loop?e=(e%i+i)%i:(e>=i&&(e=i-1),e<0&&(e=0)),this.option.currentIndex=e},t.prototype.getCurrentIndex=function(){return this.option.currentIndex},t.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},t.prototype.setPlayState=function(e){this.option.autoPlay=!!e},t.prototype.getPlayState=function(){return!!this.option.autoPlay},t.prototype._initData=function(){var e,i=this.option,r=i.data||[],o=i.axisType,a=this._names=[];"category"===o?(e=[],Y(r,function(l,u){var h,f=ci(ru(l),"");Bt(l)?(h=Te(l)).value=u:h=u,e.push(h),a.push(f)})):e=r,(this._data=new Uo([{name:"value",type:{category:"ordinal",time:"time",value:"number"}[o]||"number"}],this)).initData(e,a)},t.prototype.getData=function(){return this._data},t.prototype.getCategories=function(){if("category"===this.get("axisType"))return this._names.slice()},t.type="timeline",t.defaultOption={zlevel:0,z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},t}(Rn),qA=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return ue(t,n),t.type="timeline.slider",t.defaultOption=wu(jA.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),t}(jA);lt(qA,Ym.prototype);var WB=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return ue(t,n),t.type="timeline",t}(Ni),YB=function(n){function t(e,i,r,o){var a=n.call(this,e,i,r)||this;return a.type=o||"value",a}return ue(t,n),t.prototype.getLabelModel=function(){return this.model.getModel("label")},t.prototype.isHorizontal=function(){return"horizontal"===this.model.get("orient")},t}(as),s1=Math.PI,KA=Fn(),XB=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return ue(t,n),t.prototype.init=function(e,i){this.api=i},t.prototype.render=function(e,i,r){if(this.model=e,this.api=r,this.ecModel=i,this.group.removeAll(),e.get("show",!0)){var o=this._layout(e,r),a=this._createGroup("_mainGroup"),s=this._createGroup("_labelGroup"),l=this._axis=this._createAxis(o,e);e.formatTooltip=function(u){return ao("nameValue",{noName:!0,value:l.scale.getLabel({value:u})})},Y(["AxisLine","AxisTick","Control","CurrentPointer"],function(u){this["_render"+u](o,a,l,e)},this),this._renderAxisLabel(o,s,l,e),this._position(o,e)}this._doPlayStop(),this._updateTicksStatus()},t.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},t.prototype.dispose=function(){this._clearTimer()},t.prototype._layout=function(e,i){var r,o,a,s,K,$,l=e.get(["label","position"]),u=e.get("orient"),h=($=i,Br((K=e).getBoxLayoutParams(),{width:$.getWidth(),height:$.getHeight()},K.get("padding"))),f={horizontal:"center",vertical:(r=null==l||"auto"===l?"horizontal"===u?h.y+h.height/2<i.getHeight()/2?"-":"+":h.x+h.width/2<i.getWidth()/2?"+":"-":Jt(l)?{horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[u][l]:l)>=0||"+"===r?"left":"right"},p={horizontal:r>=0||"+"===r?"top":"bottom",vertical:"middle"},g={horizontal:0,vertical:s1/2},v="vertical"===u?h.height:h.width,m=e.getModel("controlStyle"),y=m.get("show",!0),b=y?m.get("itemSize"):0,S=y?m.get("itemGap"):0,E=b+S,I=e.get(["label","rotate"])||0;I=I*s1/180;var A=m.get("position",!0),L=y&&m.get("showPlayBtn",!0),R=y&&m.get("showPrevBtn",!0),k=y&&m.get("showNextBtn",!0),H=0,U=v;"left"===A||"bottom"===A?(L&&(o=[0,0],H+=E),R&&(a=[H,0],H+=E),k&&(s=[U-b,0],U-=E)):(L&&(o=[U-b,0],U-=E),R&&(a=[0,0],H+=E),k&&(s=[U-b,0],U-=E));var G=[H,U];return e.get("inverse")&&G.reverse(),{viewRect:h,mainLength:v,orient:u,rotation:g[u],labelRotation:I,labelPosOpt:r,labelAlign:e.get(["label","align"])||f[u],labelBaseline:e.get(["label","verticalAlign"])||e.get(["label","baseline"])||p[u],playPosition:o,prevBtnPosition:a,nextBtnPosition:s,axisExtent:G,controlSize:b,controlGap:S}},t.prototype._position=function(e,i){var r=this._mainGroup,o=this._labelGroup,a=e.viewRect;if("vertical"===e.orient){var s=[1,0,0,1,0,0],l=a.x,u=a.y+a.height;bo(s,s,[-l,-u]),Ca(s,s,-s1/2),bo(s,s,[l,u]),(a=a.clone()).applyTransform(s)}var h=S(a),f=S(r.getBoundingRect()),p=S(o.getBoundingRect()),g=[r.x,r.y],v=[o.x,o.y];v[0]=g[0]=h[0][0];var m,y=e.labelPosOpt;function b(I){I.originX=h[0][0]-I.x,I.originY=h[1][0]-I.y}function S(I){return[[I.x,I.x+I.width],[I.y,I.y+I.height]]}function E(I,A,L,R,k){I[R]+=L[R][k]-A[R][k]}null==y||Jt(y)?(E(g,f,h,1,m="+"===y?0:1),E(v,p,h,1,1-m)):(E(g,f,h,1,m=y>=0?0:1),v[1]=g[1]+y),r.setPosition(g),o.setPosition(v),r.rotation=o.rotation=e.rotation,b(r),b(o)},t.prototype._createAxis=function(e,i){var r=i.getData(),o=i.get("axisType"),a=function(u,h){if(h=h||u.get("type"))switch(h){case"category":return new Ug({ordinalMeta:u.getCategories(),extent:[1/0,-1/0]});case"time":return new Fy({locale:u.ecModel.getLocaleModel(),useUTC:u.ecModel.get("useUTC")});default:return new Ac}}(i,o);a.getTicks=function(){return r.mapArray(["value"],function(u){return{value:u}})};var s=r.getDataExtent("value");a.setExtent(s[0],s[1]),a.niceTicks();var l=new YB("value",a,e.axisExtent,o);return l.model=i,l},t.prototype._createGroup=function(e){var i=this[e]=new Ft;return this.group.add(i),i},t.prototype._renderAxisLine=function(e,i,r,o){var a=r.getExtent();if(o.get(["lineStyle","show"])){var s=new $r({shape:{x1:a[0],y1:0,x2:a[1],y2:0},style:se({lineCap:"round"},o.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});i.add(s);var l=this._progressLine=new $r({shape:{x1:a[0],x2:this._currentPointer?this._currentPointer.x:a[0],y1:0,y2:0},style:Ee({lineCap:"round",lineWidth:s.style.lineWidth},o.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});i.add(l)}},t.prototype._renderAxisTick=function(e,i,r,o){var a=this,s=o.getData(),l=r.scale.getTicks();this._tickSymbols=[],Y(l,function(u){var h=r.dataToCoord(u.value),f=s.getItemModel(u.value),p=f.getModel("itemStyle"),g=f.getModel(["emphasis","itemStyle"]),v=f.getModel(["progress","itemStyle"]),m={x:h,y:0,onclick:mt(a._changeTimeline,a,u.value)},y=ZA(f,p,i,m);y.ensureState("emphasis").style=g.getItemStyle(),y.ensureState("progress").style=v.getItemStyle(),_(y);var b=pn(y);f.get("tooltip")?(b.dataIndex=u.value,b.dataModel=o):b.dataIndex=b.dataModel=null,a._tickSymbols.push(y)})},t.prototype._renderAxisLabel=function(e,i,r,o){var a=this;if(r.getLabelModel().get("show")){var s=o.getData(),l=r.getViewLabels();this._tickLabels=[],Y(l,function(u){var h=u.tickValue,f=s.getItemModel(h),p=f.getModel("label"),g=f.getModel(["emphasis","label"]),v=f.getModel(["progress","label"]),m=r.dataToCoord(u.tickValue),y=new Nn({x:m,y:0,rotation:e.labelRotation-e.rotation,onclick:mt(a._changeTimeline,a,h),silent:!1,style:_r(p,{text:u.formattedLabel,align:e.labelAlign,verticalAlign:e.labelBaseline})});y.ensureState("emphasis").style=_r(g),y.ensureState("progress").style=_r(v),i.add(y),_(y),KA(y).dataIndex=h,a._tickLabels.push(y)})}},t.prototype._renderControl=function(e,i,r,o){var a=e.controlSize,s=e.rotation,l=o.getModel("controlStyle").getItemStyle(),u=o.getModel(["emphasis","controlStyle"]).getItemStyle(),h=o.getPlayState(),f=o.get("inverse",!0);function p(g,v,m,y){if(g){var b=Ct(ln(o.get(["controlStyle",v+"BtnSize"]),a),a),S=(A=[0,-b/2,b,b],R=(L={x:g[0],y:g[1],originX:a/2,originY:0,rotation:y?-s:0,rectHover:!0,style:l,onclick:m}).style,k=fh(o.get(["controlStyle",v+"Icon"]),L||{},new cn(A[0],A[1],A[2],A[3])),R&&k.setStyle(R),k);S.ensureState("emphasis").style=u,i.add(S),_(S)}var A,L,R,k}p(e.nextBtnPosition,"next",mt(this._changeTimeline,this,f?"-":"+")),p(e.prevBtnPosition,"prev",mt(this._changeTimeline,this,f?"+":"-")),p(e.playPosition,h?"stop":"play",mt(this._handlePlayClick,this,!h),!0)},t.prototype._renderCurrentPointer=function(e,i,r,o){var a=o.getData(),s=o.getCurrentIndex(),l=a.getItemModel(s).getModel("checkpointStyle"),u=this;this._currentPointer=ZA(l,l,this._mainGroup,{},this._currentPointer,{onCreate:function(f){f.draggable=!0,f.drift=mt(u._handlePointerDrag,u),f.ondragend=mt(u._handlePointerDragend,u),JA(f,u._progressLine,s,r,o,!0)},onUpdate:function(f){JA(f,u._progressLine,s,r,o)}})},t.prototype._handlePlayClick=function(e){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:e,from:this.uid})},t.prototype._handlePointerDrag=function(e,i,r){this._clearTimer(),this._pointerChangeTimeline([r.offsetX,r.offsetY])},t.prototype._handlePointerDragend=function(e){this._pointerChangeTimeline([e.offsetX,e.offsetY],!0)},t.prototype._pointerChangeTimeline=function(e,i){var r=this._toAxisCoord(e)[0],o=Kr(this._axis.getExtent().slice());r>o[1]&&(r=o[1]),r<o[0]&&(r=o[0]),this._currentPointer.x=r,this._currentPointer.markRedraw(),this._progressLine.shape.x2=r,this._progressLine.dirty();var a=this._findNearestTick(r),s=this.model;(i||a!==s.getCurrentIndex()&&s.get("realtime"))&&this._changeTimeline(a)},t.prototype._doPlayStop=function(){var e=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var i=e.model;e._changeTimeline(i.getCurrentIndex()+(i.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},t.prototype._toAxisCoord=function(e){return Ps(e,this._mainGroup.getLocalTransform(),!0)},t.prototype._findNearestTick=function(e){var i,r=this.model.getData(),o=1/0,a=this._axis;return r.each(["value"],function(s,l){var u=a.dataToCoord(s),h=Math.abs(u-e);h<o&&(o=h,i=l)}),i},t.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},t.prototype._changeTimeline=function(e){var i=this.model.getCurrentIndex();"+"===e?e=i+1:"-"===e&&(e=i-1),this.api.dispatchAction({type:"timelineChange",currentIndex:e,from:this.uid})},t.prototype._updateTicksStatus=function(){var e=this.model.getCurrentIndex(),i=this._tickSymbols,r=this._tickLabels;if(i)for(var o=0;o<i.length;o++)i&&i[o]&&i[o].toggleState("progress",o<e);if(r)for(o=0;o<r.length;o++)r&&r[o]&&r[o].toggleState("progress",KA(r[o]).dataIndex<=e)},t.type="timeline.slider",t}(WB);function ZA(n,t,e,i,r,o){var a=t.get("color");r?(r.setColor(a),e.add(r),o&&o.onUpdate(r)):((r=Er(n.get("symbol"),-1,-1,2,2,a)).setStyle("strokeNoScale",!0),e.add(r),o&&o.onCreate(r));var s=t.getItemStyle(["color"]);r.setStyle(s),i=Ie({rectHover:!0,z2:100},i,!0);var l=od(n.get("symbolSize"));i.scaleX=l[0]/2,i.scaleY=l[1]/2;var u=Ah(n.get("symbolOffset"),l);u&&(i.x=(i.x||0)+u[0],i.y=(i.y||0)+u[1]);var h=n.get("symbolRotate");return i.rotation=(h||0)*Math.PI/180||0,r.attr(i),r.updateTransform(),r}function JA(n,t,e,i,r,o){if(!n.dragging){var a=r.getModel("checkpointStyle"),s=i.dataToCoord(r.getData().get("value",e));if(o||!a.get("animation",!0))n.attr({x:s,y:0}),t&&t.attr({shape:{x2:s}});else{var l={duration:a.get("animationDuration",!0),easing:a.get("animationEasing",!0)};n.stopAnimation(null,!0),n.animateTo({x:s,y:0},l),t&&t.animateTo({shape:{x2:s}},l)}}}function jB(n){var t=n&&n.timeline;rt(t)||(t=t?[t]:[]),Y(t,function(e){e&&function(i){var r=i.type,o={number:"value",time:"time"};if(o[r]&&(i.axisType=o[r],delete i.type),QA(i),Uc(i,"controlPosition")){var a=i.controlStyle||(i.controlStyle={});Uc(a,"position")||(a.position=i.controlPosition),"none"!==a.position||Uc(a,"show")||(a.show=!1,delete a.position),delete i.controlPosition}Y(i.data||[],function(s){Bt(s)&&!rt(s)&&(!Uc(s,"value")&&Uc(s,"name")&&(s.value=s.name),QA(s))})}(e)})}function QA(n){var t=n.itemStyle||(n.itemStyle={}),e=t.emphasis||(t.emphasis={}),i=n.label||n.label||{},r=i.normal||(i.normal={}),o={normal:1,emphasis:1};Y(i,function(a,s){o[s]||Uc(r,s)||(r[s]=a)}),e.label&&!Uc(i,"emphasis")&&(i.emphasis=e.label,delete e.label)}function Uc(n,t){return n.hasOwnProperty(t)}function l1(n,t){if(!n)return!1;for(var e=rt(n)?n:[n],i=0;i<e.length;i++)if(e[i]&&e[i][t])return!0;return!1}function Bv(n){Qo(n,"label",["show"])}var Fv=Fn(),ql=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.createdBySelf=!1,e}return ue(t,n),t.prototype.init=function(e,i,r){this.mergeDefaultAndTheme(e,r),this._mergeOption(e,r,!1,!0)},t.prototype.isAnimationEnabled=function(){if(ve.node)return!1;var e=this.__hostSeries;return this.getShallow("animation")&&e&&e.isAnimationEnabled()},t.prototype.mergeOption=function(e,i){this._mergeOption(e,i,!1,!1)},t.prototype._mergeOption=function(e,i,r,o){var a=this.mainType;r||i.eachSeries(function(s){var l=s.get(this.mainType,!0),u=Fv(s)[a];l&&l.data?(u?u._mergeOption(l,i,!0):(o&&Bv(l),Y(l.data,function(h){h instanceof Array?(Bv(h[0]),Bv(h[1])):Bv(h)}),se(u=this.createMarkerModelFromSeries(l,this,i),{mainType:this.mainType,seriesIndex:s.seriesIndex,name:s.name,createdBySelf:!0}),u.__hostSeries=s),Fv(s)[a]=u):Fv(s)[a]=null},this)},t.prototype.formatTooltip=function(e,i,r){var o=this.getData(),a=this.getRawValue(e),s=o.getName(e);return ao("section",{header:this.name,blocks:[ao("nameValue",{name:s,value:a,noName:!s,noValue:null==a})]})},t.prototype.getData=function(){return this._data},t.prototype.setData=function(e){this._data=e},t.getMarkerModelFromSeries=function(e,i){return Fv(e)[i]},t.type="marker",t.dependencies=["series","grid","polar","geo"],t}(Rn);lt(ql,Ym.prototype);var qB=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return ue(t,n),t.prototype.createMarkerModelFromSeries=function(e,i,r){return new t(e,i,r)},t.type="markPoint",t.defaultOption={zlevel:0,z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},t}(ql);function Hv(n,t,e,i,r,o){var a=[],s=zl(t,i)?t.getCalculationInfo("stackResultDimension"):i,l=c1(t,s,n),u=t.indicesOfNearest(s,l)[0];a[r]=t.get(e,u),a[o]=t.get(s,u);var h=t.get(i,u),f=Po(t.get(i,u));return(f=Math.min(f,20))>=0&&(a[o]=+a[o].toFixed(f)),[a,h]}var u1={min:Lt(Hv,"min"),max:Lt(Hv,"max"),average:Lt(Hv,"average"),median:Lt(Hv,"median")};function $d(n,t){var f,e=n.getData(),i=n.coordinateSystem;if(t&&(f=t,isNaN(parseFloat(f.x))||isNaN(parseFloat(f.y)))&&!rt(t.coord)&&i){var r=i.dimensions,o=$A(t,e,i,n);if((t=Te(t)).type&&u1[t.type]&&o.baseAxis&&o.valueAxis){var a=pe(r,o.baseAxis.dim),s=pe(r,o.valueAxis.dim),l=u1[t.type](e,o.baseDataDim,o.valueDataDim,a,s);t.coord=l[0],t.value=l[1]}else{for(var u=[null!=t.xAxis?t.xAxis:t.radiusAxis,null!=t.yAxis?t.yAxis:t.angleAxis],h=0;h<2;h++)u1[u[h]]&&(u[h]=c1(e,e.mapDimension(r[h]),u[h]));t.coord=u}}return t}function $A(n,t,e,i){var a,s,r={};return null!=n.valueIndex||null!=n.valueDim?(r.valueDataDim=null!=n.valueIndex?t.getDimension(n.valueIndex):n.valueDim,r.valueAxis=e.getAxis((a=r.valueDataDim,(s=i.getData().getDimensionInfo(a))&&s.coordDim)),r.baseAxis=e.getOtherAxis(r.valueAxis),r.baseDataDim=t.mapDimension(r.baseAxis.dim)):(r.baseAxis=i.getBaseAxis(),r.valueAxis=e.getOtherAxis(r.baseAxis),r.baseDataDim=t.mapDimension(r.baseAxis.dim),r.valueDataDim=t.mapDimension(r.valueAxis.dim)),r}function ep(n,t){return!(n&&n.containData&&t.coord&&(e=t,isNaN(parseFloat(e.x))&&isNaN(parseFloat(e.y))))||n.containData(t.coord);var e}function eM(n,t){return n?function(e,i,r,o){return Iu(o<2?e.coord&&e.coord[o]:e.value,t[o])}:function(e,i,r,o){return Iu(e.value,t[o])}}function c1(n,t,e){if("average"===e){var i=0,r=0;return n.each(t,function(o,a){isNaN(o)||(i+=o,r++)}),i/r}return"median"===e?n.getMedian(t):n.getDataExtent(t)["max"===e?1:0]}var h1=Fn(),f1=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return ue(t,n),t.prototype.init=function(){this.markerGroupMap=Ht()},t.prototype.render=function(e,i,r){var o=this,a=this.markerGroupMap;a.each(function(s){h1(s).keep=!1}),i.eachSeries(function(s){var l=ql.getMarkerModelFromSeries(s,o.type);l&&o.renderSeries(s,l,i,r)}),a.each(function(s){!h1(s).keep&&o.group.remove(s.group)})},t.prototype.markKeep=function(e){h1(e).keep=!0},t.prototype.blurSeries=function(e){var i=this;Y(e,function(r){var o=ql.getMarkerModelFromSeries(r,i.type);o&&o.getData().eachItemGraphicEl(function(a){a&&Bp(a)})})},t.type="marker",t}(Ni);function tM(n,t,e){var i=t.coordinateSystem;n.each(function(r){var o,a=n.getItemModel(r),s=kt(a.get("x"),e.getWidth()),l=kt(a.get("y"),e.getHeight());if(isNaN(s)||isNaN(l)){if(t.getMarkerPosition)o=t.getMarkerPosition(n.getValues(n.dimensions,r));else if(i){var u=n.get(i.dimensions[0],r),h=n.get(i.dimensions[1],r);o=i.dataToPoint([u,h])}}else o=[s,l];isNaN(s)||(o[0]=s),isNaN(l)||(o[1]=l),n.setItemLayout(r,o)})}var KB=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return ue(t,n),t.prototype.updateTransform=function(e,i,r){i.eachSeries(function(o){var a=ql.getMarkerModelFromSeries(o,"markPoint");a&&(tM(a.getData(),o,r),this.markerGroupMap.get(o.id).updateLayout())},this)},t.prototype.renderSeries=function(e,i,r,o){var a=e.coordinateSystem,s=e.id,l=e.getData(),u=this.markerGroupMap,h=u.get(s)||u.set(s,new Ad),f=function(p,g,v){var m;m=p?Ve(p&&p.dimensions,function(E){return se(se({},g.getData().getDimensionInfo(g.getData().mapDimension(E))||{}),{name:E,ordinalMeta:null})}):[{name:"value",type:"float"}];var y=new Uo(m,v),b=Ve(v.get("data"),Lt($d,g));p&&(b=jt(b,Lt(ep,p)));var S=eM(!!p,m);return y.initData(b,null,S),y}(a,e,i);i.setData(f),tM(i.getData(),e,o),f.each(function(p){var g=f.getItemModel(p),v=g.getShallow("symbol"),m=g.getShallow("symbolSize"),y=g.getShallow("symbolRotate"),b=g.getShallow("symbolOffset"),S=g.getShallow("symbolKeepAspect");if(sn(v)||sn(m)||sn(y)||sn(b)){var E=i.getRawValue(p),I=i.getDataParams(p);sn(v)&&(v=v(E,I)),sn(m)&&(m=m(E,I)),sn(y)&&(y=y(E,I)),sn(b)&&(b=b(E,I))}var A=g.getModel("itemStyle").getItemStyle(),L=rd(l,"color");A.fill||(A.fill=L),f.setItemVisual(p,{symbol:v,symbolSize:m,symbolRotate:y,symbolOffset:b,symbolKeepAspect:S,style:A})}),h.updateData(f),this.group.add(h.group),f.eachItemGraphicEl(function(p){p.traverse(function(g){pn(g).dataModel=i})}),this.markKeep(h),h.group.silent=i.get("silent")||e.get("silent")},t.type="markPoint",t}(f1),ZB=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return ue(t,n),t.prototype.createMarkerModelFromSeries=function(e,i,r){return new t(e,i,r)},t.type="markLine",t.defaultOption={zlevel:0,z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},t}(ql),Uv=Fn(),JB=function(n,t,e,i){var r,o=n.getData();if(rt(i))r=i;else{var a=i.type;if("min"===a||"max"===a||"average"===a||"median"===a||null!=i.xAxis||null!=i.yAxis){var s=void 0,l=void 0;if(null!=i.yAxis||null!=i.xAxis)s=t.getAxis(null!=i.yAxis?"y":"x"),l=zn(i.yAxis,i.xAxis);else{var u=$A(i,o,t,n);s=u.valueAxis,l=c1(o,Dy(o,u.valueDataDim),a)}var h="x"===s.dim?0:1,f=1-h,p=Te(i),g={coord:[]};p.type=null,p.coord=[],p.coord[f]=-1/0,g.coord[f]=1/0;var v=e.get("precision");v>=0&&"number"==typeof l&&(l=+l.toFixed(Math.min(v,20))),p.coord[h]=g.coord[h]=l,r=[p,g,{type:a,valueIndex:i.valueIndex,value:l}]}else r=[]}var m=[$d(n,r[0]),$d(n,r[1]),se({},r[2])];return m[2].type=m[2].type||null,Ie(m[2],m[0]),Ie(m[2],m[1]),m};function zv(n){return!isNaN(n)&&!isFinite(n)}function nM(n,t,e,i){var r=1-n,o=i.dimensions[n];return zv(t[r])&&zv(e[r])&&t[n]===e[n]&&i.getAxis(o).containData(t[n])}function QB(n,t){if("cartesian2d"===n.type){var e=t[0].coord,i=t[1].coord;if(e&&i&&(nM(1,e,i,n)||nM(0,e,i,n)))return!0}return ep(n,t[0])&&ep(n,t[1])}function d1(n,t,e,i,r){var o,a=i.coordinateSystem,s=n.getItemModel(t),l=kt(s.get("x"),r.getWidth()),u=kt(s.get("y"),r.getHeight());if(isNaN(l)||isNaN(u)){if(i.getMarkerPosition)o=i.getMarkerPosition(n.getValues(n.dimensions,t));else{var h=a.dimensions,f=n.get(h[0],t),p=n.get(h[1],t);o=a.dataToPoint([f,p])}if(Wl(a,"cartesian2d")){var g=a.getAxis("x"),v=a.getAxis("y");zv(n.get((h=a.dimensions)[0],t))?o[0]=g.toGlobalCoord(g.getExtent()[e?0:1]):zv(n.get(h[1],t))&&(o[1]=v.toGlobalCoord(v.getExtent()[e?0:1]))}isNaN(l)||(o[0]=l),isNaN(u)||(o[1]=u)}else o=[l,u];n.setItemLayout(t,o)}var $B=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return ue(t,n),t.prototype.updateTransform=function(e,i,r){i.eachSeries(function(o){var a=ql.getMarkerModelFromSeries(o,"markLine");if(a){var s=a.getData(),l=Uv(a).from,u=Uv(a).to;l.each(function(h){d1(l,h,!0,o,r),d1(u,h,!1,o,r)}),s.each(function(h){s.setItemLayout(h,[l.getItemLayout(h),u.getItemLayout(h)])}),this.markerGroupMap.get(o.id).updateLayout()}},this)},t.prototype.renderSeries=function(e,i,r,o){var a=e.coordinateSystem,s=e.id,l=e.getData(),u=this.markerGroupMap,h=u.get(s)||u.set(s,new z0);this.group.add(h.group);var f=function(I,A,L){var R;R=I?Ve(I&&I.dimensions,function($){return se(se({},A.getData().getDimensionInfo(A.getData().mapDimension($))||{}),{name:$,ordinalMeta:null})}):[{name:"value",type:"float"}];var k=new Uo(R,L),H=new Uo(R,L),U=new Uo([],L),G=Ve(L.get("data"),Lt(JB,A,I,L));I&&(G=jt(G,Lt(QB,I)));var K=eM(!!I,R);return k.initData(Ve(G,function($){return $[0]}),null,K),H.initData(Ve(G,function($){return $[1]}),null,K),U.initData(Ve(G,function($){return $[2]})),U.hasItemOption=!0,{from:k,to:H,line:U}}(a,e,i),p=f.from,g=f.to,v=f.line;Uv(i).from=p,Uv(i).to=g,i.setData(v);var m=i.get("symbol"),y=i.get("symbolSize"),b=i.get("symbolRotate"),S=i.get("symbolOffset");function E(I,A,L){var R=I.getItemModel(A);d1(I,A,L,e,o);var k=R.getModel("itemStyle").getItemStyle();null==k.fill&&(k.fill=rd(l,"color")),I.setItemVisual(A,{symbolKeepAspect:R.get("symbolKeepAspect"),symbolOffset:ln(R.get("symbolOffset",!0),S[L?0:1]),symbolRotate:ln(R.get("symbolRotate",!0),b[L?0:1]),symbolSize:ln(R.get("symbolSize"),y[L?0:1]),symbol:ln(R.get("symbol",!0),m[L?0:1]),style:k})}rt(m)||(m=[m,m]),rt(y)||(y=[y,y]),rt(b)||(b=[b,b]),rt(S)||(S=[S,S]),f.from.each(function(I){E(p,I,!0),E(g,I,!1)}),v.each(function(I){var A=v.getItemModel(I).getModel("lineStyle").getLineStyle();v.setItemLayout(I,[p.getItemLayout(I),g.getItemLayout(I)]),null==A.stroke&&(A.stroke=p.getItemVisual(I,"style").fill),v.setItemVisual(I,{fromSymbolKeepAspect:p.getItemVisual(I,"symbolKeepAspect"),fromSymbolOffset:p.getItemVisual(I,"symbolOffset"),fromSymbolRotate:p.getItemVisual(I,"symbolRotate"),fromSymbolSize:p.getItemVisual(I,"symbolSize"),fromSymbol:p.getItemVisual(I,"symbol"),toSymbolKeepAspect:g.getItemVisual(I,"symbolKeepAspect"),toSymbolOffset:g.getItemVisual(I,"symbolOffset"),toSymbolRotate:g.getItemVisual(I,"symbolRotate"),toSymbolSize:g.getItemVisual(I,"symbolSize"),toSymbol:g.getItemVisual(I,"symbol"),style:A})}),h.updateData(v),f.line.eachItemGraphicEl(function(I,A){I.traverse(function(L){pn(L).dataModel=i})}),this.markKeep(h),h.group.silent=i.get("silent")||e.get("silent")},t.type="markLine",t}(f1),eF=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return ue(t,n),t.prototype.createMarkerModelFromSeries=function(e,i,r){return new t(e,i,r)},t.type="markArea",t.defaultOption={zlevel:0,z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},t}(ql),Vv=Fn(),tF=function(n,t,e,i){var r=$d(n,i[0]),o=$d(n,i[1]),a=r.coord,s=o.coord;a[0]=zn(a[0],-1/0),a[1]=zn(a[1],-1/0),s[0]=zn(s[0],1/0),s[1]=zn(s[1],1/0);var l=et([{},r,o]);return l.coord=[r.coord,o.coord],l.x0=r.x,l.y0=r.y,l.x1=o.x,l.y1=o.y,l};function Gv(n){return!isNaN(n)&&!isFinite(n)}function iM(n,t,e,i){var r=1-n;return Gv(t[r])&&Gv(e[r])}function nF(n,t){var e=t.coord[0],i=t.coord[1];return!!(Wl(n,"cartesian2d")&&e&&i&&(iM(1,e,i)||iM(0,e,i)))||ep(n,{coord:e,x:t.x0,y:t.y0})||ep(n,{coord:i,x:t.x1,y:t.y1})}function rM(n,t,e,i,r){var o,a=i.coordinateSystem,s=n.getItemModel(t),l=kt(s.get(e[0]),r.getWidth()),u=kt(s.get(e[1]),r.getHeight());if(isNaN(l)||isNaN(u)){if(i.getMarkerPosition)o=i.getMarkerPosition(n.getValues(e,t));else{var h=[g=n.get(e[0],t),v=n.get(e[1],t)];a.clampData&&a.clampData(h,h),o=a.dataToPoint(h,!0)}if(Wl(a,"cartesian2d")){var f=a.getAxis("x"),p=a.getAxis("y"),g=n.get(e[0],t),v=n.get(e[1],t);Gv(g)?o[0]=f.toGlobalCoord(f.getExtent()["x0"===e[0]?0:1]):Gv(v)&&(o[1]=p.toGlobalCoord(p.getExtent()["y0"===e[1]?0:1]))}isNaN(l)||(o[0]=l),isNaN(u)||(o[1]=u)}else o=[l,u];return o}var oM=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],iF=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return ue(t,n),t.prototype.updateTransform=function(e,i,r){i.eachSeries(function(o){var a=ql.getMarkerModelFromSeries(o,"markArea");if(a){var s=a.getData();s.each(function(l){var u=Ve(oM,function(h){return rM(s,l,h,o,r)});s.setItemLayout(l,u),s.getItemGraphicEl(l).setShape("points",u)})}},this)},t.prototype.renderSeries=function(e,i,r,o){var a=e.coordinateSystem,s=e.id,l=e.getData(),u=this.markerGroupMap,h=u.get(s)||u.set(s,{group:new Ft});this.group.add(h.group),this.markKeep(h);var f=function(p,g,v){var m,y;if(p){var S=Ve(p&&p.dimensions,function(A){var L=g.getData();return se(se({},L.getDimensionInfo(L.mapDimension(A))||{}),{name:A,ordinalMeta:null})});y=Ve(["x0","y0","x1","y1"],function(A,L){return{name:A,type:S[L%2].type}}),m=new Uo(y,v)}else m=new Uo(y=[{name:"value",type:"float"}],v);var E=Ve(v.get("data"),Lt(tF,g,p,v));return p&&(E=jt(E,Lt(nF,p))),m.initData(E,null,p?function(A,L,R,k){return Iu(A.coord[Math.floor(k/2)][k%2],y[k])}:function(A,L,R,k){return Iu(A.value,y[k])}),m.hasItemOption=!0,m}(a,e,i);i.setData(f),f.each(function(p){var g=Ve(oM,function(R){return rM(f,p,R,e,o)}),v=a.getAxis("x").scale,m=a.getAxis("y").scale,y=v.getExtent(),b=m.getExtent(),S=[v.parse(f.get("x0",p)),v.parse(f.get("x1",p))],E=[m.parse(f.get("y0",p)),m.parse(f.get("y1",p))];Kr(S),Kr(E),f.setItemLayout(p,{points:g,allClipped:y[0]>S[1]||y[1]<S[0]||b[0]>E[1]||b[1]<E[0]});var A=f.getItemModel(p).getModel("itemStyle").getItemStyle(),L=rd(l,"color");A.fill||(A.fill=L,"string"==typeof A.fill&&(A.fill=M(A.fill,.4))),A.stroke||(A.stroke=L),f.setItemVisual(p,"style",A)}),f.diff(Vv(h).data).add(function(p){var g=f.getItemLayout(p);if(!g.allClipped){var v=new Lo({shape:{points:g.points}});f.setItemGraphicEl(p,v),h.group.add(v)}}).update(function(p,g){var v=Vv(h).data.getItemGraphicEl(g),m=f.getItemLayout(p);m.allClipped?v&&h.group.remove(v):(v?Un(v,{shape:{points:m.points}},i,p):v=new Lo({shape:{points:m.points}}),f.setItemGraphicEl(p,v),h.group.add(v))}).remove(function(p){var g=Vv(h).data.getItemGraphicEl(p);h.group.remove(g)}).execute(),f.eachItemGraphicEl(function(p,g){var v=f.getItemModel(g),m=f.getItemVisual(g,"style");p.useStyle(f.getItemVisual(g,"style")),Fo(p,xo(v),{labelFetcher:i,labelDataIndex:g,defaultText:f.getName(g)||"",inheritColor:"string"==typeof m.fill?M(m.fill,1):"#000"}),W(p,v),_(p),pn(p).dataModel=i}),Vv(h).data=f,h.group.silent=i.get("silent")||e.get("silent")},t.type="markArea",t}(f1),p1=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.layoutMode={type:"box",ignoreSize:!0},e}return ue(t,n),t.prototype.init=function(e,i,r){this.mergeDefaultAndTheme(e,r),e.selected=e.selected||{},this._updateSelector(e)},t.prototype.mergeOption=function(e,i){n.prototype.mergeOption.call(this,e,i),this._updateSelector(e)},t.prototype._updateSelector=function(e){var i=e.selector,r=this.ecModel;!0===i&&(i=e.selector=["all","inverse"]),rt(i)&&Y(i,function(o,a){var s,l;Jt(o)&&(o={type:o}),i[a]=Ie(o,(s=r,"all"===(l=o.type)?{type:"all",title:s.getLocaleModel().get(["legend","selector","all"])}:"inverse"===l?{type:"inverse",title:s.getLocaleModel().get(["legend","selector","inverse"])}:void 0))})},t.prototype.optionUpdated=function(){this._updateData(this.ecModel);var e=this._data;if(e[0]&&"single"===this.get("selectedMode")){for(var i=!1,r=0;r<e.length;r++){var o=e[r].get("name");if(this.isSelected(o)){this.select(o),i=!0;break}}!i&&this.select(e[0].get("name"))}},t.prototype._updateData=function(e){var i=[],r=[];e.eachRawSeries(function(a){var s;if(r.push(a.name),a.legendVisualProvider){var u=a.legendVisualProvider.getAllNames();e.isSeriesFiltered(a)||(r=r.concat(u)),u.length?i=i.concat(u):s=!0}else s=!0;s&&vr(a)&&i.push(a.name)}),this._availableNames=r;var o=Ve(this.get("data")||i,function(a){return"string"!=typeof a&&"number"!=typeof a||(a={name:a}),new Qn(a,this,this.ecModel)},this);this._data=o},t.prototype.getData=function(){return this._data},t.prototype.select=function(e){var i=this.option.selected;"single"===this.get("selectedMode")&&Y(this._data,function(r){i[r.get("name")]=!1}),i[e]=!0},t.prototype.unSelect=function(e){"single"!==this.get("selectedMode")&&(this.option.selected[e]=!1)},t.prototype.toggleSelected=function(e){var i=this.option.selected;i.hasOwnProperty(e)||(i[e]=!0),this[i[e]?"unSelect":"select"](e)},t.prototype.allSelect=function(){var i=this.option.selected;Y(this._data,function(r){i[r.get("name",!0)]=!0})},t.prototype.inverseSelect=function(){var i=this.option.selected;Y(this._data,function(r){var o=r.get("name",!0);i.hasOwnProperty(o)||(i[o]=!0),i[o]=!i[o]})},t.prototype.isSelected=function(e){var i=this.option.selected;return!(i.hasOwnProperty(e)&&!i[e])&&pe(this._availableNames,e)>=0},t.prototype.getOrient=function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},t.type="legend.plain",t.dependencies=["series"],t.defaultOption={zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},t}(Rn),Zh=Lt,g1=Y,Wv=Ft,aM=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.newlineDisabled=!1,e}return ue(t,n),t.prototype.init=function(){this.group.add(this._contentGroup=new Wv),this.group.add(this._selectorGroup=new Wv),this._isFirstRender=!0},t.prototype.getContentGroup=function(){return this._contentGroup},t.prototype.getSelectorGroup=function(){return this._selectorGroup},t.prototype.render=function(e,i,r){var o=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),e.get("show",!0)){var a=e.get("align"),s=e.get("orient");a&&"auto"!==a||(a="right"===e.get("left")&&"vertical"===s?"right":"left");var l=e.get("selector",!0),u=e.get("selectorPosition",!0);!l||u&&"auto"!==u||(u="horizontal"===s?"end":"start"),this.renderInner(a,e,i,r,l,s,u);var h=e.getBoxLayoutParams(),f={width:r.getWidth(),height:r.getHeight()},p=e.get("padding"),g=Br(h,f,p),v=this.layoutInner(e,a,g,o,l,u),m=Br(Ee({width:v.width,height:v.height},h),f,p);this.group.x=m.x-v.x,this.group.y=m.y-v.y,this.group.markRedraw(),this.group.add(this._backgroundEl=dA(v,e))}},t.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},t.prototype.renderInner=function(e,i,r,o,a,s,l){var u=this.getContentGroup(),h=Ht(),f=i.get("selectedMode"),p=[];r.eachRawSeries(function(g){!g.get("legendHoverLink")&&p.push(g.id)}),g1(i.getData(),function(g,v){var m=g.get("name");if(!this.newlineDisabled&&(""===m||"\n"===m)){var y=new Wv;return y.newline=!0,void u.add(y)}var b=r.getSeriesByName(m)[0];if(!h.get(m))if(b){var S=b.getData(),E=S.getVisual("legendLineStyle")||{},I=S.getVisual("legendIcon"),A=S.getVisual("style");this._createItem(b,m,v,g,i,e,E,A,I,f).on("click",Zh(sM,m,null,o,p)).on("mouseover",Zh(v1,b.name,null,o,p)).on("mouseout",Zh(m1,b.name,null,o,p)),h.set(m,!0)}else r.eachRawSeries(function(L){if(!h.get(m)&&L.legendVisualProvider){var R=L.legendVisualProvider;if(!R.containName(m))return;var k=R.indexOfName(m),H=R.getItemVisual(k,"style"),U=R.getItemVisual(k,"legendIcon"),G=ji(H.fill);G&&0===G[3]&&(G[3]=.2,H.fill=B(G,"rgba")),this._createItem(L,m,v,g,i,e,{},H,U,f).on("click",Zh(sM,null,m,o,p)).on("mouseover",Zh(v1,null,m,o,p)).on("mouseout",Zh(m1,null,m,o,p)),h.set(m,!0)}},this)},this),a&&this._createSelector(a,i,o,s,l)},t.prototype._createSelector=function(e,i,r,o,a){var s=this.getSelectorGroup();g1(e,function(l){var u=l.type,h=new Nn({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){r.dispatchAction({type:"all"===u?"legendAllSelect":"legendInverseSelect"})}});s.add(h),Fo(h,{normal:i.getModel("selectorLabel"),emphasis:i.getModel(["emphasis","selectorLabel"])},{defaultText:l.title}),_(h)})},t.prototype._createItem=function(e,i,r,o,a,s,l,u,h,f){var ee,le,he,p=e.visualDrawType,g=a.get("itemWidth"),v=a.get("itemHeight"),m=a.isSelected(i),y=o.get("symbolRotate"),b=o.get("symbolKeepAspect"),S=o.get("icon"),E=function(ee,le,he,ge,me,be){function Le(Tt,It){"auto"===Tt.lineWidth&&(Tt.lineWidth=It.lineWidth>0?2:0),g1(Tt,function(Yt,Xt){"inherit"===Tt[Xt]&&(Tt[Xt]=It[Xt])})}var Ge=le.getModel("itemStyle").getItemStyle(),nt=0===ee.lastIndexOf("empty",0)?"fill":"stroke";Ge.decal=ge.decal,"inherit"===Ge.fill&&(Ge.fill=ge[me]),"inherit"===Ge.stroke&&(Ge.stroke=ge[nt]),"inherit"===Ge.opacity&&(Ge.opacity=("fill"===me?ge:he).opacity),Le(Ge,ge);var xt=le.getModel("lineStyle"),Je=xt.getLineStyle();if(Le(Je,he),"auto"===Ge.fill&&(Ge.fill=ge.fill),"auto"===Ge.stroke&&(Ge.stroke=ge.fill),"auto"===Je.stroke&&(Je.stroke=ge.fill),!be){var dt=le.get("inactiveBorderWidth");Ge.lineWidth="auto"===dt?ge.lineWidth>0&&Ge[nt]?2:0:Ge.lineWidth,Ge.fill=le.get("inactiveColor"),Ge.stroke=le.get("inactiveBorderColor"),Je.stroke=xt.get("inactiveColor"),Je.lineWidth=xt.get("inactiveWidth")}return{itemStyle:Ge,lineStyle:Je}}(h=S||h||"roundRect",o,l,u,p,m),I=new Wv,A=o.getModel("textStyle");if("function"!=typeof e.getLegendIcon||S&&"inherit"!==S){var L="inherit"===S&&e.getData().getVisual("symbol")?"inherit"===y?e.getData().getVisual("symbolRotate"):y:0;I.add(((he=Er(le=(ee={itemWidth:g,itemHeight:v,icon:h,iconRotate:L,itemStyle:E.itemStyle,lineStyle:E.lineStyle,symbolKeepAspect:b}).icon||"roundRect",0,0,ee.itemWidth,ee.itemHeight,ee.itemStyle.fill,ee.symbolKeepAspect)).setStyle(ee.itemStyle),he.rotation=(ee.iconRotate||0)*Math.PI/180,he.setOrigin([ee.itemWidth/2,ee.itemHeight/2]),le.indexOf("empty")>-1&&(he.style.stroke=he.style.fill,he.style.fill="#fff",he.style.lineWidth=2),he))}else I.add(e.getLegendIcon({itemWidth:g,itemHeight:v,icon:h,iconRotate:y,itemStyle:E.itemStyle,lineStyle:E.lineStyle,symbolKeepAspect:b}));var R="left"===s?g+5:-5,k=s,H=a.get("formatter"),U=i;"string"==typeof H&&H?U=H.replace("{name}",i??""):"function"==typeof H&&(U=H(i));var G=o.get("inactiveColor");I.add(new Nn({style:_r(A,{text:U,x:R,y:v/2,fill:m?A.getTextColor():G,align:k,verticalAlign:"middle"})}));var K=new kn({shape:I.getBoundingRect(),invisible:!0}),$=o.getModel("tooltip");return $.get("show")&&dh({el:K,componentModel:a,itemName:i,itemTooltipOption:$.option}),I.add(K),I.eachChild(function(ee){ee.silent=!0}),K.silent=!f,this.getContentGroup().add(I),_(I),I.__legendDataIndex=r,I},t.prototype.layoutInner=function(e,i,r,o,a,s){var l=this.getContentGroup(),u=this.getSelectorGroup();xc(e.get("orient"),l,e.get("itemGap"),r.width,r.height);var h=l.getBoundingRect(),f=[-h.x,-h.y];if(u.markRedraw(),l.markRedraw(),a){xc("horizontal",u,e.get("selectorItemGap",!0));var p=u.getBoundingRect(),g=[-p.x,-p.y],v=e.get("selectorButtonGap",!0),m=e.getOrient().index,y=0===m?"width":"height",b=0===m?"height":"width",S=0===m?"y":"x";"end"===s?g[m]+=h[y]+v:f[m]+=p[y]+v,g[1-m]+=h[b]/2-p[b]/2,u.x=g[0],u.y=g[1],l.x=f[0],l.y=f[1];var E={x:0,y:0};return E[y]=h[y]+v+p[y],E[b]=Math.max(h[b],p[b]),E[S]=Math.min(0,p[S]+g[1-m]),E}return l.x=f[0],l.y=f[1],this.group.getBoundingRect()},t.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},t.type="legend.plain",t}(Ni);function sM(n,t,e,i){m1(n,t,e,i),e.dispatchAction({type:"legendToggleSelect",name:n??t}),v1(n,t,e,i)}function lM(n){for(var t,e=n.getZr().storage.getDisplayList(),i=0,r=e.length;i<r&&!(t=e[i].states.emphasis);)i++;return t&&t.hoverLayer}function v1(n,t,e,i){lM(e)||e.dispatchAction({type:"highlight",seriesName:n,name:t,excludeSeriesId:i})}function m1(n,t,e,i){lM(e)||e.dispatchAction({type:"downplay",seriesName:n,name:t,excludeSeriesId:i})}function rF(n){var t=n.findComponents({mainType:"legend"});t&&t.length&&n.filterSeries(function(e){for(var i=0;i<t.length;i++)if(!t[i].isSelected(e.name))return!1;return!0})}function tp(n,t,e){var i,r={},o="toggleSelected"===n;return e.eachComponent("legend",function(a){o&&null!=i?a[i?"select":"unSelect"](t.name):"allSelect"===n||"inverseSelect"===n?a[n]():(a[n](t.name),i=a.isSelected(t.name)),Y(a.getData(),function(s){var l=s.get("name");if("\n"!==l&&""!==l){var u=a.isSelected(l);r[l]=r.hasOwnProperty(l)?r[l]&&u:u}})}),"allSelect"===n||"inverseSelect"===n?{selected:r}:{name:t.name,selected:r}}function uM(n){n.registerComponentModel(p1),n.registerComponentView(aM),n.registerProcessor(n.PRIORITY.PROCESSOR.SERIES_FILTER,rF),n.registerSubTypeDefaulter("legend",function(){return"plain"}),function(t){t.registerAction("legendToggleSelect","legendselectchanged",Lt(tp,"toggleSelected")),t.registerAction("legendAllSelect","legendselectall",Lt(tp,"allSelect")),t.registerAction("legendInverseSelect","legendinverseselect",Lt(tp,"inverseSelect")),t.registerAction("legendSelect","legendselected",Lt(tp,"select")),t.registerAction("legendUnSelect","legendunselected",Lt(tp,"unSelect"))}(n)}var oF=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return ue(t,n),t.prototype.setScrollDataIndex=function(e){this.option.scrollDataIndex=e},t.prototype.init=function(e,i,r){var o=mh(e);n.prototype.init.call(this,e,i,r),cM(this,e,o)},t.prototype.mergeOption=function(e,i){n.prototype.mergeOption.call(this,e,i),cM(this,this.option,e)},t.type="legend.scroll",t.defaultOption=wu(p1.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),t}(p1);function cM(n,t,e){var i=[1,1];i[n.getOrient().index]=0,Tu(t,e,{type:"box",ignoreSize:!!i})}var hM=Ft,y1=["width","height"],_1=["x","y"],aF=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.newlineDisabled=!0,e._currentIndex=0,e}return ue(t,n),t.prototype.init=function(){n.prototype.init.call(this),this.group.add(this._containerGroup=new hM),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new hM)},t.prototype.resetInner=function(){n.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},t.prototype.renderInner=function(e,i,r,o,a,s,l){var u=this;n.prototype.renderInner.call(this,e,i,r,o,a,s,l);var h=this._controllerGroup,f=i.get("pageIconSize",!0),p=rt(f)?f:[f,f];v("pagePrev",0);var g=i.getModel("pageTextStyle");function v(m,y){var b=m+"DataIndex",S=fh(i.get("pageIcons",!0)[i.getOrient().name][y],{onclick:mt(u._pageGo,u,b,i,o)},{x:-p[0]/2,y:-p[1]/2,width:p[0],height:p[1]});S.name=m,h.add(S)}h.add(new Nn({name:"pageText",style:{text:"xx/xx",fill:g.getTextColor(),font:g.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),v("pageNext",1)},t.prototype.layoutInner=function(e,i,r,o,a,s){var l=this.getSelectorGroup(),u=e.getOrient().index,h=y1[u],f=_1[u],p=y1[1-u],g=_1[1-u];a&&xc("horizontal",l,e.get("selectorItemGap",!0));var v=e.get("selectorButtonGap",!0),m=l.getBoundingRect(),y=[-m.x,-m.y],b=Te(r);a&&(b[h]=r[h]-m[h]-v);var S=this._layoutContentAndController(e,o,b,u,h,p,g,f);if(a){if("end"===s)y[u]+=S[h]+v;else{var E=m[h]+v;y[u]-=E,S[f]-=E}S[h]+=m[h]+v,y[1-u]+=S[g]+S[p]/2-m[p]/2,S[p]=Math.max(S[p],m[p]),S[g]=Math.min(S[g],m[g]+y[1-u]),l.x=y[0],l.y=y[1],l.markRedraw()}return S},t.prototype._layoutContentAndController=function(e,i,r,o,a,s,l,u){var h=this.getContentGroup(),f=this._containerGroup,p=this._controllerGroup;xc(e.get("orient"),h,e.get("itemGap"),o?r.width:null,o?null:r.height),xc("horizontal",p,e.get("pageButtonItemGap",!0));var g=h.getBoundingRect(),v=p.getBoundingRect(),m=this._showController=g[a]>r[a],y=[-g.x,-g.y];i||(y[o]=h[u]);var b=[0,0],S=[-v.x,-v.y],E=ln(e.get("pageButtonGap",!0),e.get("itemGap",!0));m&&("end"===e.get("pageButtonPosition",!0)?S[o]+=r[a]-v[a]:b[o]+=v[a]+E),S[1-o]+=g[s]/2-v[s]/2,h.setPosition(y),f.setPosition(b),p.setPosition(S);var I={x:0,y:0};if(I[a]=m?r[a]:g[a],I[s]=Math.max(g[s],v[s]),I[l]=Math.min(0,v[l]+S[1-o]),f.__rectSize=r[a],m){var A={x:0,y:0};A[a]=Math.max(r[a]-v[a]-E,0),A[s]=I[s],f.setClipPath(new kn({shape:A})),f.__rectSize=A[a]}else p.eachChild(function(R){R.attr({invisible:!0,silent:!0})});var L=this._getPageInfo(e);return null!=L.pageIndex&&Un(h,{x:L.contentPosition[0],y:L.contentPosition[1]},m?e:null),this._updatePageInfoView(e,L),I},t.prototype._pageGo=function(e,i,r){var o=this._getPageInfo(i)[e];null!=o&&r.dispatchAction({type:"legendScroll",scrollDataIndex:o,legendId:i.id})},t.prototype._updatePageInfoView=function(e,i){var r=this._controllerGroup;Y(["pagePrev","pageNext"],function(h){var f=null!=i[h+"DataIndex"],p=r.childOfName(h);p&&(p.setStyle("fill",e.get(f?"pageIconColor":"pageIconInactiveColor",!0)),p.cursor=f?"pointer":"default")});var o=r.childOfName("pageText"),a=e.get("pageFormatter"),s=i.pageIndex,l=null!=s?s+1:0,u=i.pageCount;o&&a&&o.setStyle("text",Jt(a)?a.replace("{current}",null==l?"":l+"").replace("{total}",null==u?"":u+""):a({current:l,total:u}))},t.prototype._getPageInfo=function(e){var i=e.get("scrollDataIndex",!0),r=this.getContentGroup(),o=this._containerGroup.__rectSize,a=e.getOrient().index,s=y1[a],l=_1[a],u=this._findTargetItemIndex(i),h=r.children(),f=h[u],p=h.length,g=p?1:0,v={contentPosition:[r.x,r.y],pageCount:g,pageIndex:g-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!f)return v;var m=I(f);v.contentPosition[a]=-m.s;for(var y=u+1,b=m,S=m,E=null;y<=p;++y)(!(E=I(h[y]))&&S.e>b.s+o||E&&!A(E,b.s))&&(b=S.i>b.i?S:E)&&(null==v.pageNextDataIndex&&(v.pageNextDataIndex=b.i),++v.pageCount),S=E;for(y=u-1,b=m,S=m,E=null;y>=-1;--y)(E=I(h[y]))&&A(S,E.s)||!(b.i<S.i)||(S=b,null==v.pagePrevDataIndex&&(v.pagePrevDataIndex=b.i),++v.pageCount,++v.pageIndex),b=E;return v;function I(L){if(L){var R=L.getBoundingRect(),k=R[l]+L[l];return{s:k,e:k+R[s],i:L.__legendDataIndex}}}function A(L,R){return L.e>=R&&L.s<=R+o}},t.prototype._findTargetItemIndex=function(e){return this._showController?(this.getContentGroup().eachChild(function(o,a){var s=o.__legendDataIndex;null==r&&null!=s&&(r=a),s===e&&(i=a)}),i??r):0;var i,r},t.type="legend.scroll",t}(aM);function sF(n){Ln(uM),n.registerComponentModel(oF),n.registerComponentView(aF),function(t){t.registerAction("legendScroll","legendscroll",function(e,i){var r=e.scrollDataIndex;null!=r&&i.eachComponent({mainType:"legend",subType:"scroll",query:e},function(o){o.setScrollDataIndex(r)})})}(n)}var lF=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return ue(t,n),t.type="dataZoom.inside",t.defaultOption=wu(Kd.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),t}(Kd),x1=Fn();function fM(n,t){if(t){n.removeKey(t.model.uid);var e=t.controller;e&&e.dispose()}}function cF(n,t){n.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:t})}function hF(n,t,e,i){return n.coordinateSystem.containPoint([e,i])}var dF=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type="dataZoom.inside",e}return ue(t,n),t.prototype.render=function(e,i,r){n.prototype.render.apply(this,arguments),e.noTarget()?this._clear():(this.range=e.getPercentRange(),function uF(n,t,e){x1(n).coordSysRecordMap.each(function(i){var r=i.dataZoomInfoMap.get(t.uid);r&&(r.getRange=e)})}(r,e,{pan:mt(b1.pan,this),zoom:mt(b1.zoom,this),scrollMove:mt(b1.scrollMove,this)}))},t.prototype.dispose=function(){this._clear(),n.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){(function(e,i){for(var r=x1(e).coordSysRecordMap,o=r.keys(),a=0;a<o.length;a++){var l=r.get(o[a]),u=l.dataZoomInfoMap;if(u){var h=i.uid;u.get(h)&&(u.removeKey(h),u.keys().length||fM(r,l))}}})(this.api,this.dataZoomModel),this.range=null},t.type="dataZoom.inside",t}(X_),b1={zoom:function(n,t,e,i){var r=this.range,o=r.slice(),a=n.axisModels[0];if(a){var s=S1[t](null,[i.originX,i.originY],a,e,n),l=(s.signal>0?s.pixelStart+s.pixelLength-s.pixel:s.pixel-s.pixelStart)/s.pixelLength*(o[1]-o[0])+o[0],u=Math.max(1/i.scale,0);o[0]=(o[0]-l)*u+l,o[1]=(o[1]-l)*u+l;var h=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();return kc(0,o,[0,100],0,h.minSpan,h.maxSpan),this.range=o,r[0]!==o[0]||r[1]!==o[1]?o:void 0}},pan:dM(function(n,t,e,i,r,o){var a=S1[i]([o.oldX,o.oldY],[o.newX,o.newY],t,r,e);return a.signal*(n[1]-n[0])*a.pixel/a.pixelLength}),scrollMove:dM(function(n,t,e,i,r,o){return S1[i]([0,0],[o.scrollDelta,o.scrollDelta],t,r,e).signal*(n[1]-n[0])*o.scrollDelta})};function dM(n){return function(t,e,i,r){var o=this.range,a=o.slice(),s=t.axisModels[0];if(s)return kc(n(a,s,t,e,i,r),a,[0,100],"all"),this.range=a,o[0]!==a[0]||o[1]!==a[1]?a:void 0}}var S1={grid:function(n,t,e,i,r){var o=e.axis,a={},s=r.model.coordinateSystem.getRect();return n=n||[0,0],"x"===o.dim?(a.pixel=t[0]-n[0],a.pixelLength=s.width,a.pixelStart=s.x,a.signal=o.inverse?1:-1):(a.pixel=t[1]-n[1],a.pixelLength=s.height,a.pixelStart=s.y,a.signal=o.inverse?-1:1),a},polar:function(n,t,e,i,r){var o=e.axis,a={},s=r.model.coordinateSystem,l=s.getRadiusAxis().getExtent(),u=s.getAngleAxis().getExtent();return n=n?s.pointToCoord(n):[0,0],t=s.pointToCoord(t),"radiusAxis"===e.mainType?(a.pixel=t[0]-n[0],a.pixelLength=l[1]-l[0],a.pixelStart=l[0],a.signal=o.inverse?1:-1):(a.pixel=t[1]-n[1],a.pixelLength=u[1]-u[0],a.pixelStart=u[0],a.signal=o.inverse?-1:1),a},singleAxis:function(n,t,e,i,r){var o=e.axis,a=r.model.coordinateSystem.getRect(),s={};return n=n||[0,0],"horizontal"===o.orient?(s.pixel=t[0]-n[0],s.pixelLength=a.width,s.pixelStart=a.x,s.signal=o.inverse?1:-1):(s.pixel=t[1]-n[1],s.pixelLength=a.height,s.pixelStart=a.y,s.signal=o.inverse?-1:1),s}};function pM(n){j_(n),n.registerComponentModel(lF),n.registerComponentView(dF),function fF(n){n.registerProcessor(n.PRIORITY.PROCESSOR.FILTER,function(t,e){var i=x1(e),r=i.coordSysRecordMap||(i.coordSysRecordMap=Ht());r.each(function(o){o.dataZoomInfoMap=null}),t.eachComponent({mainType:"dataZoom",subType:"inside"},function(o){Y(sA(o).infoList,function(a){var u,h,f,p,s=a.model.uid,l=r.get(s)||r.set(s,(u=e,f={model:h=a.model,containsPoint:Lt(hF,h),dispatchAction:Lt(cF,u),dataZoomInfoMap:null,controller:null},p=f.controller=new kd(u.getZr()),Y(["pan","zoom","scrollMove"],function(g){p.on(g,function(v){var m=[];f.dataZoomInfoMap.each(function(y){if(v.isAvailableBehavior(y.model.option)){var b=(y.getRange||{})[g],S=b&&b(y.dzReferCoordSysInfo,f.model.mainType,f.controller,v);!y.model.get("disabled",!0)&&S&&m.push({dataZoomId:y.model.id,start:S[0],end:S[1]})}}),m.length&&f.dispatchAction(m)})}),f));(l.dataZoomInfoMap||(l.dataZoomInfoMap=Ht())).set(o.uid,{dzReferCoordSysInfo:a,model:o,getRange:null})})}),r.each(function(o){var a,p,g,v,m,s=o.controller,l=o.dataZoomInfoMap;if(l){var u=l.keys()[0];null!=u&&(a=l.get(u))}if(a){var h=(g="type_",v={type_true:2,type_move:1,type_false:0,type_undefined:-1},m=!0,l.each(function(y){var b=y.model,S=!b.get("disabled",!0)&&(!b.get("zoomLock",!0)||"move");v[g+S]>v[g+p]&&(p=S),m=m&&b.get("preventDefaultMouseMove",!0)}),{controlType:p,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!m}});s.enable(h.controlType,h.opt),s.setPointerChecker(o.containsPoint),td(o,"dispatchAction",a.model.get("throttle",!0),"fixRate")}else fM(r,o)})})}(n)}var pF=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return ue(t,n),t.type="dataZoom.slider",t.layoutMode="box",t.defaultOption=wu(Kd.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),t}(Kd),np=kn,ip="horizontal",gM="vertical",gF=["line","bar","candlestick","scatter"],vF={easing:"cubicOut",duration:100,delay:0},mF=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e._displayables={},e}return ue(t,n),t.prototype.init=function(e,i){this.api=i,this._onBrush=mt(this._onBrush,this),this._onBrushEnd=mt(this._onBrushEnd,this)},t.prototype.render=function(e,i,r,o){if(n.prototype.render.apply(this,arguments),td(this,"_dispatchZoomAction",e.get("throttle"),"fixRate"),this._orient=e.getOrient(),!1!==e.get("show")){if(e.noTarget())return this._clear(),void this.group.removeAll();o&&"dataZoom"===o.type&&o.from===this.uid||this._buildView(),this._updateView()}else this.group.removeAll()},t.prototype.dispose=function(){this._clear(),n.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){var r;(r=this._dispatchZoomAction)&&r[pg]&&(this._dispatchZoomAction=r[pg]);var o=this.api.getZr();o.off("mousemove",this._onBrush),o.off("mouseup",this._onBrushEnd)},t.prototype._buildView=function(){var e=this.group;e.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var i=this._displayables.sliderGroup=new Ft;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),e.add(i),this._positionGroup()},t.prototype._resetLocation=function(){var e=this.dataZoomModel,i=this.api,r=e.get("brushSelect")?7:0,o=this._findCoordRect(),a={width:i.getWidth(),height:i.getHeight()},s=this._orient===ip?{right:a.width-o.x-o.width,top:a.height-30-7-r,width:o.width,height:30}:{right:7,top:o.y,width:30,height:o.height},l=mh(e.option);Y(["right","top","width","height"],function(h){"ph"===l[h]&&(l[h]=s[h])});var u=Br(l,a);this._location={x:u.x,y:u.y},this._size=[u.width,u.height],this._orient===gM&&this._size.reverse()},t.prototype._positionGroup=function(){var e=this.group,i=this._location,r=this._orient,o=this.dataZoomModel.getFirstTargetAxisModel(),a=o&&o.get("inverse"),s=this._displayables.sliderGroup,l=(this._dataShadowInfo||{}).otherAxisInverse;s.attr(r!==ip||a?r===ip&&a?{scaleY:l?1:-1,scaleX:-1}:r!==gM||a?{scaleY:l?-1:1,scaleX:-1,rotation:Math.PI/2}:{scaleY:l?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:l?1:-1,scaleX:1});var u=e.getBoundingRect([s]);e.x=i.x-u.x,e.y=i.y-u.y,e.markRedraw()},t.prototype._getViewExtent=function(){return[0,this._size[0]]},t.prototype._renderBackground=function(){var e=this.dataZoomModel,i=this._size,r=this._displayables.sliderGroup,o=e.get("brushSelect");r.add(new np({silent:!0,shape:{x:0,y:0,width:i[0],height:i[1]},style:{fill:e.get("backgroundColor")},z2:-40}));var a=new np({shape:{x:0,y:0,width:i[0],height:i[1]},style:{fill:"transparent"},z2:0,onclick:mt(this._onClickPanel,this)}),s=this.api.getZr();o?(a.on("mousedown",this._onBrushStart,this),a.cursor="crosshair",s.on("mousemove",this._onBrush),s.on("mouseup",this._onBrushEnd)):(s.off("mousemove",this._onBrush),s.off("mouseup",this._onBrushEnd)),r.add(a)},t.prototype._renderDataShadow=function(){var L,R,k,H,e=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],e){var i=this._size,r=e.series,o=r.getRawData(),a=r.getShadowDim?r.getShadowDim():e.otherDim;if(null!=a){var s=o.getDataExtent(a),l=.3*(s[1]-s[0]);s=[s[0]-l,s[1]+l];var u,h=[0,i[1]],p=[[i[0],0],[0,0]],g=[],v=i[0]/(o.count()-1),m=0,y=Math.round(o.count()/i[0]);o.each([a],function(A,L){if(y>0&&L%y)m+=v;else{var R=null==A||isNaN(A)||""===A,k=R?0:Jn(A,s,h,!0);R&&!u&&L?(p.push([p[p.length-1][0],0]),g.push([g[g.length-1][0],0])):!R&&u&&(p.push([m,0]),g.push([m,0])),p.push([m,k]),g.push([m,k]),m+=v,u=R}});for(var b=this.dataZoomModel,S=0;S<3;S++){var E=(L=void 0,R=void 0,void 0,void 0,L=b.getModel(1===S?"selectedDataBackground":"dataBackground"),R=new Ft,k=new Lo({shape:{points:p},segmentIgnoreThreshold:1,style:L.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),H=new na({shape:{points:g},segmentIgnoreThreshold:1,style:L.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19}),R.add(k),R.add(H),R);this._displayables.sliderGroup.add(E),this._displayables.dataShadowSegs.push(E)}}}},t.prototype._prepareDataShadowInfo=function(){var e=this.dataZoomModel,i=e.get("showDataShadow");if(!1!==i){var r,o=this.ecModel;return e.eachTargetAxis(function(a,s){Y(e.getAxisProxy(a,s).getTargetSeriesModels(),function(l){if(!(r||!0!==i&&pe(gF,l.get("type"))<0)){var u,h=o.getComponent(Gu(a),s).axis,f={x:"y",y:"x",radius:"angle",angle:"radius"}[a],p=l.coordinateSystem;null!=f&&p.getOtherAxis&&(u=p.getOtherAxis(h).inverse),f=l.getData().mapDimension(f),r={thisAxis:h,series:l,thisDim:a,otherDim:f,otherAxisInverse:u}}},this)},this),r}},t.prototype._renderHandle=function(){var e=this.group,i=this._displayables,r=i.handles=[null,null],o=i.handleLabels=[null,null],a=this._displayables.sliderGroup,s=this._size,l=this.dataZoomModel,u=this.api,h=l.get("borderRadius")||0,f=l.get("brushSelect"),p=i.filler=new np({silent:f,style:{fill:l.get("fillerColor")},textConfig:{position:"inside"}});a.add(p),a.add(new np({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:s[0],height:s[1],r:h},style:{stroke:l.get("dataBackgroundColor")||l.get("borderColor"),lineWidth:1,fill:"rgba(0,0,0,0)"}})),Y([0,1],function(E){var I=l.get("handleIcon");!yg[I]&&I.indexOf("path://")<0&&I.indexOf("image://")<0&&(I="path://"+I);var A=Er(I,-1,0,2,2,null,!0);A.attr({cursor:vM(this._orient),draggable:!0,drift:mt(this._onDragMove,this,E),ondragend:mt(this._onDragEnd,this),onmouseover:mt(this._showDataInfo,this,!0),onmouseout:mt(this._showDataInfo,this,!1),z2:5});var L=A.getBoundingRect(),R=l.get("handleSize");this._handleHeight=kt(R,this._size[1]),this._handleWidth=L.width/L.height*this._handleHeight,A.setStyle(l.getModel("handleStyle").getItemStyle()),A.style.strokeNoScale=!0,A.rectHover=!0,A.ensureState("emphasis").style=l.getModel(["emphasis","handleStyle"]).getItemStyle(),_(A);var k=l.get("handleColor");null!=k&&(A.style.fill=k),a.add(r[E]=A);var H=l.getModel("textStyle");e.add(o[E]=new Nn({silent:!0,invisible:!0,style:_r(H,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:H.getTextColor(),font:H.getFont()}),z2:10}))},this);var g=p;if(f){var v=kt(l.get("moveHandleSize"),s[1]),m=i.moveHandle=new kn({style:l.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:s[1]-.5,height:v}}),y=.8*v,b=i.moveHandleIcon=Er(l.get("moveHandleIcon"),-y/2,-y/2,y,y,"#fff",!0);b.silent=!0,b.y=s[1]+v/2-.5,m.ensureState("emphasis").style=l.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var S=Math.min(s[1]/2,Math.max(v,10));(g=i.moveZone=new kn({invisible:!0,shape:{y:s[1]-S,height:v+S}})).on("mouseover",function(){u.enterEmphasis(m)}).on("mouseout",function(){u.leaveEmphasis(m)}),a.add(m),a.add(b),a.add(g)}g.attr({draggable:!0,cursor:vM(this._orient),drift:mt(this._onDragMove,this,"all"),ondragstart:mt(this._showDataInfo,this,!0),ondragend:mt(this._onDragEnd,this),onmouseover:mt(this._showDataInfo,this,!0),onmouseout:mt(this._showDataInfo,this,!1)})},t.prototype._resetInterval=function(){var e=this._range=this.dataZoomModel.getPercentRange(),i=this._getViewExtent();this._handleEnds=[Jn(e[0],[0,100],i,!0),Jn(e[1],[0,100],i,!0)]},t.prototype._updateInterval=function(e,i){var r=this.dataZoomModel,o=this._handleEnds,a=this._getViewExtent(),s=r.findRepresentativeAxisProxy().getMinMaxSpan(),l=[0,100];kc(i,o,a,r.get("zoomLock")?"all":e,null!=s.minSpan?Jn(s.minSpan,l,a,!0):null,null!=s.maxSpan?Jn(s.maxSpan,l,a,!0):null);var u=this._range,h=this._range=Kr([Jn(o[0],a,l,!0),Jn(o[1],a,l,!0)]);return!u||u[0]!==h[0]||u[1]!==h[1]},t.prototype._updateView=function(e){var i=this._displayables,r=this._handleEnds,o=Kr(r.slice()),a=this._size;Y([0,1],function(g){var m=this._handleHeight;i.handles[g].attr({scaleX:m/2,scaleY:m/2,x:r[g]+(g?-1:1),y:a[1]/2-m/2})},this),i.filler.setShape({x:o[0],y:0,width:o[1]-o[0],height:a[1]});var s={x:o[0],width:o[1]-o[0]};i.moveHandle&&(i.moveHandle.setShape(s),i.moveZone.setShape(s),i.moveZone.getBoundingRect(),i.moveHandleIcon&&i.moveHandleIcon.attr("x",s.x+s.width/2));for(var l=i.dataShadowSegs,u=[0,o[0],o[1],a[0]],h=0;h<l.length;h++){var f=l[h],p=f.getClipPath();p||(p=new kn,f.setClipPath(p)),p.setShape({x:u[h],y:0,width:u[h+1]-u[h],height:a[1]})}this._updateDataInfo(e)},t.prototype._updateDataInfo=function(e){var i=this.dataZoomModel,r=this._displayables,o=r.handleLabels,a=this._orient,s=["",""];if(i.get("showDetail")){var l=i.findRepresentativeAxisProxy();if(l){var u=l.getAxisModel().axis,h=this._range,f=e?l.calculateDataWindow({start:h[0],end:h[1]}).valueWindow:l.getDataValueWindow();s=[this._formatLabel(f[0],u),this._formatLabel(f[1],u)]}}var p=Kr(this._handleEnds.slice());function g(v){var m=Su(r.handles[v].parent,this.group),y=Kp(0===v?"right":"left",m),b=this._handleWidth/2+5,S=Ps([p[v]+(0===v?-b:b),this._size[1]/2],m);o[v].setStyle({x:S[0],y:S[1],verticalAlign:a===ip?"middle":y,align:a===ip?y:"center",text:s[v]})}g.call(this,0),g.call(this,1)},t.prototype._formatLabel=function(e,i){var r=this.dataZoomModel,o=r.get("labelFormatter"),a=r.get("labelPrecision");null!=a&&"auto"!==a||(a=i.getPixelPrecision());var s=null==e||isNaN(e)?"":"category"===i.type||"time"===i.type?i.scale.getLabel({value:Math.round(e)}):e.toFixed(Math.min(a,20));return sn(o)?o(e,s):Jt(o)?o.replace("{value}",s):s},t.prototype._showDataInfo=function(e){var i=this._displayables,r=i.handleLabels;r[0].attr("invisible",!(e=this._dragging||e)),r[1].attr("invisible",!e),i.moveHandle&&this.api[e?"enterEmphasis":"leaveEmphasis"](i.moveHandle,1)},t.prototype._onDragMove=function(e,i,r,o){this._dragging=!0,Mr(o.event);var a=Ps([i,r],this._displayables.sliderGroup.getLocalTransform(),!0),s=this._updateInterval(e,a[0]),l=this.dataZoomModel.get("realtime");this._updateView(!l),s&&l&&this._dispatchZoomAction(!0)},t.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1),!this.dataZoomModel.get("realtime")&&this._dispatchZoomAction(!1)},t.prototype._onClickPanel=function(e){var i=this._size,r=this._displayables.sliderGroup.transformCoordToLocal(e.offsetX,e.offsetY);if(!(r[0]<0||r[0]>i[0]||r[1]<0||r[1]>i[1])){var o=this._handleEnds,s=this._updateInterval("all",r[0]-(o[0]+o[1])/2);this._updateView(),s&&this._dispatchZoomAction(!1)}},t.prototype._onBrushStart=function(e){this._brushStart=new gn(e.offsetX,e.offsetY),this._brushing=!0,this._brushStartTime=+new Date},t.prototype._onBrushEnd=function(e){if(this._brushing){var i=this._displayables.brushRect;if(this._brushing=!1,i){i.attr("ignore",!0);var r=i.shape;if(!(+new Date-this._brushStartTime<200&&Math.abs(r.width)<5)){var o=this._getViewExtent(),a=[0,100];this._range=Kr([Jn(r.x,o,a,!0),Jn(r.x+r.width,o,a,!0)]),this._handleEnds=[r.x,r.x+r.width],this._updateView(),this._dispatchZoomAction(!1)}}}},t.prototype._onBrush=function(e){this._brushing&&(Mr(e.event),this._updateBrushRect(e.offsetX,e.offsetY))},t.prototype._updateBrushRect=function(e,i){var r=this._displayables,a=r.brushRect;a||(a=r.brushRect=new np({silent:!0,style:this.dataZoomModel.getModel("brushStyle").getItemStyle()}),r.sliderGroup.add(a)),a.attr("ignore",!1);var s=this._brushStart,l=this._displayables.sliderGroup,u=l.transformCoordToLocal(e,i),h=l.transformCoordToLocal(s.x,s.y),f=this._size;u[0]=Math.max(Math.min(f[0],u[0]),0),a.setShape({x:h[0],y:0,width:u[0]-h[0],height:f[1]})},t.prototype._dispatchZoomAction=function(e){var i=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:e?vF:null,start:i[0],end:i[1]})},t.prototype._findCoordRect=function(){var e,i=sA(this.dataZoomModel).infoList;if(!e&&i.length){var r=i[0].model.coordinateSystem;e=r.getRect&&r.getRect()}if(!e){var o=this.api.getWidth(),a=this.api.getHeight();e={x:.2*o,y:.2*a,width:.6*o,height:.6*a}}return e},t.type="dataZoom.slider",t}(X_);function vM(n){return"vertical"===n?"ns-resize":"ew-resize"}function mM(n){n.registerComponentModel(pF),n.registerComponentView(mF),j_(n)}var yM=function(n,t,e){var i=Te((yF[n]||{})[t]);return e&&rt(i)?i[i.length-1]:i},yF={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},_M=so.mapVisual,_F=so.eachVisual,xF=rt,xM=Y,bF=Kr,SF=Jn,Yv=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.stateList=["inRange","outOfRange"],e.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],e.layoutMode={type:"box",ignoreSize:!0},e.dataBound=[-1/0,1/0],e.targetVisuals={},e.controllerVisuals={},e}return ue(t,n),t.prototype.init=function(e,i,r){this.mergeDefaultAndTheme(e,r)},t.prototype.optionUpdated=function(e,i){var r=this.option;ve.canvasSupported||(r.realtime=!1),!i&&HA(r,e,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},t.prototype.resetVisual=function(e){var i=this.stateList;e=mt(e,this),this.controllerVisuals=o1(this.option.controller,i,e),this.targetVisuals=o1(this.option.target,i,e)},t.prototype.getItemSymbol=function(){return null},t.prototype.getTargetSeriesIndices=function(){var e=this.option.seriesIndex,i=[];return null==e||"all"===e?this.ecModel.eachSeries(function(r,o){i.push(o)}):i=Yn(e),i},t.prototype.eachTargetSeries=function(e,i){Y(this.getTargetSeriesIndices(),function(r){var o=this.ecModel.getSeriesByIndex(r);o&&e.call(i,o)},this)},t.prototype.isTargetSeries=function(e){var i=!1;return this.eachTargetSeries(function(r){r===e&&(i=!0)}),i},t.prototype.formatValueText=function(e,i,r){var o,a=this.option,s=a.precision,l=this.dataBound,u=a.formatter;r=r||["<",">"],rt(e)&&(e=e.slice(),o=!0);var h=i?e:o?[f(e[0]),f(e[1])]:f(e);return Jt(u)?u.replace("{value}",o?h[0]:h).replace("{value2}",o?h[1]:h):sn(u)?o?u(e[0],e[1]):u(e):o?e[0]===l[0]?r[0]+" "+h[1]:e[1]===l[1]?r[1]+" "+h[0]:h[0]+" - "+h[1]:h;function f(p){return p===l[0]?"min":p===l[1]?"max":(+p).toFixed(Math.min(s,20))}},t.prototype.resetExtent=function(){var e=this.option,i=bF([e.min,e.max]);this._dataExtent=i},t.prototype.getDataDimensionIndex=function(e){var i=this.option.dimension;if(null!=i)return e.getDimensionIndex(i);for(var r=e.dimensions,o=r.length-1;o>=0;o--){var s=e.getDimensionInfo(r[o]);if(!s.isCalculationCoord)return s.storeDimIndex}},t.prototype.getExtent=function(){return this._dataExtent.slice()},t.prototype.completeVisualOption=function(){var e=this.ecModel,i=this.option,r={inRange:i.inRange,outOfRange:i.outOfRange},o=i.target||(i.target={}),a=i.controller||(i.controller={});Ie(o,r),Ie(a,r);var s=this.isCategory();function l(u){xF(i.color)&&!u.inRange&&(u.inRange={color:i.color.slice().reverse()}),u.inRange=u.inRange||{color:e.get("gradientColor")}}l.call(this,o),l.call(this,a),function(u,h,f){var p=u[h],g=u[f];p&&!g&&(g=u[f]={},xM(p,function(v,m){if(so.isValidType(m)){var y=yM(m,"inactive",s);null!=y&&(g[m]=y,"color"!==m||g.hasOwnProperty("opacity")||g.hasOwnProperty("colorAlpha")||(g.opacity=[0,0]))}}))}.call(this,o,"inRange","outOfRange"),function(u){var h=(u.inRange||{}).symbol||(u.outOfRange||{}).symbol,f=(u.inRange||{}).symbolSize||(u.outOfRange||{}).symbolSize,p=this.get("inactiveColor"),g=this.getItemSymbol()||"roundRect";xM(this.stateList,function(v){var m=this.itemSize,y=u[v];y||(y=u[v]={color:s?p:[p]}),null==y.symbol&&(y.symbol=h&&Te(h)||(s?g:[g])),null==y.symbolSize&&(y.symbolSize=f&&Te(f)||(s?m[0]:[m[0],m[0]])),y.symbol=_M(y.symbol,function(E){return"none"===E?g:E});var b=y.symbolSize;if(null!=b){var S=-1/0;_F(b,function(E){E>S&&(S=E)}),y.symbolSize=_M(b,function(E){return SF(E,[0,S],[0,m[0]],!0)})}},this)}.call(this,a)},t.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},t.prototype.isCategory=function(){return!!this.option.categories},t.prototype.setSelected=function(e){},t.prototype.getSelected=function(){return null},t.prototype.getValueState=function(e){return null},t.prototype.getVisualMeta=function(e){return null},t.type="visualMap",t.dependencies=["series"],t.defaultOption={show:!0,zlevel:0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},t}(Rn),bM=[20,140],wF=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return ue(t,n),t.prototype.optionUpdated=function(e,i){n.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(r){r.mappingMethod="linear",r.dataExtent=this.getExtent()}),this._resetRange()},t.prototype.resetItemSize=function(){n.prototype.resetItemSize.apply(this,arguments);var e=this.itemSize;(null==e[0]||isNaN(e[0]))&&(e[0]=bM[0]),(null==e[1]||isNaN(e[1]))&&(e[1]=bM[1])},t.prototype._resetRange=function(){var e=this.getExtent(),i=this.option.range;!i||i.auto?(e.auto=1,this.option.range=e):rt(i)&&(i[0]>i[1]&&i.reverse(),i[0]=Math.max(i[0],e[0]),i[1]=Math.min(i[1],e[1]))},t.prototype.completeVisualOption=function(){n.prototype.completeVisualOption.apply(this,arguments),Y(this.stateList,function(e){var i=this.option.controller[e].symbolSize;i&&i[0]!==i[1]&&(i[0]=i[1]/3)},this)},t.prototype.setSelected=function(e){this.option.range=e.slice(),this._resetRange()},t.prototype.getSelected=function(){var e=this.getExtent(),i=Kr((this.get("range")||[]).slice());return i[0]>e[1]&&(i[0]=e[1]),i[1]>e[1]&&(i[1]=e[1]),i[0]<e[0]&&(i[0]=e[0]),i[1]<e[0]&&(i[1]=e[0]),i},t.prototype.getValueState=function(e){var i=this.option.range,r=this.getExtent();return(i[0]<=r[0]||i[0]<=e)&&(i[1]>=r[1]||e<=i[1])?"inRange":"outOfRange"},t.prototype.findTargetDataIndices=function(e){var i=[];return this.eachTargetSeries(function(r){var o=[],a=r.getData();a.each(this.getDataDimensionIndex(a),function(s,l){e[0]<=s&&s<=e[1]&&o.push(l)},this),i.push({seriesId:r.id,dataIndex:o})},this),i},t.prototype.getVisualMeta=function(e){var i=SM(0,0,this.getExtent()),r=SM(0,0,this.option.range.slice()),o=[];function a(g,v){o.push({value:g,color:e(g,v)})}for(var s=0,l=0,u=r.length,h=i.length;l<h&&(!r.length||i[l]<=r[0]);l++)i[l]<r[s]&&a(i[l],"outOfRange");for(var f=1;s<u;s++,f=0)f&&o.length&&a(r[s],"outOfRange"),a(r[s],"inRange");for(f=1;l<h;l++)(!r.length||r[r.length-1]<i[l])&&(f&&(o.length&&a(o[o.length-1].value,"outOfRange"),f=0),a(i[l],"outOfRange"));var p=o.length;return{stops:o,outerColors:[p?o[0].color:"transparent",p?o[p-1].color:"transparent"]}},t.type="visualMap.continuous",t.defaultOption=wu(Yv.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),t}(Yv);function SM(n,t,e){if(e[0]===e[1])return e.slice();for(var i=(e[1]-e[0])/200,r=e[0],o=[],a=0;a<=200&&r<e[1];a++)o.push(r),r+=i;return o.push(e[1]),o}var wM=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.autoPositionValues={left:1,right:1,top:1,bottom:1},e}return ue(t,n),t.prototype.init=function(e,i){this.ecModel=e,this.api=i},t.prototype.render=function(e,i,r,o){this.visualMapModel=e,!1!==e.get("show")?this.doRender(e,i,r,o):this.group.removeAll()},t.prototype.renderBackground=function(e){var i=this.visualMapModel,r=mc(i.get("padding")||0),o=e.getBoundingRect();e.add(new kn({z2:-1,silent:!0,shape:{x:o.x-r[3],y:o.y-r[0],width:o.width+r[3]+r[1],height:o.height+r[0]+r[2]},style:{fill:i.get("backgroundColor"),stroke:i.get("borderColor"),lineWidth:i.get("borderWidth")}}))},t.prototype.getControllerVisual=function(e,i,r){var o=(r=r||{}).forceState,a=this.visualMapModel,s={};if("color"===i){var l=a.get("contentColor");s.color=l}function u(p){return s[p]}function h(p,g){s[p]=g}var f=a.controllerVisuals[o||a.getValueState(e)];return Y(so.prepareVisualTypes(f),function(p){var g=f[p];r.convertOpacityToAlpha&&"opacity"===p&&(p="colorAlpha",g=f.__alphaForOpacity),so.dependsOn(p,i)&&g&&g.applyVisual(e,u,h)}),s[i]},t.prototype.positionGroup=function(e){var r=this.api;sg(e,this.visualMapModel.getBoxLayoutParams(),{width:r.getWidth(),height:r.getHeight()})},t.prototype.doRender=function(e,i,r,o){},t.type="visualMap",t}(Ni),TM=[["left","right","width"],["top","bottom","height"]];function EM(n,t,e){var i=n.option,r=i.align;if(null!=r&&"auto"!==r)return r;for(var o={width:t.getWidth(),height:t.getHeight()},a="horizontal"===i.orient?1:0,s=TM[a],l=[0,null,10],u={},h=0;h<3;h++)u[TM[1-a][h]]=l[h],u[s[h]]=2===h?e[0]:i[s[h]];var f=[["x","width",3],["y","height",0]][a],p=Br(u,o,i.padding);return s[(p.margin[f[2]]||0)+p[f[0]]+.5*p[f[1]]<.5*o[f[1]]?0:1]}function Xv(n,t){return Y(n||[],function(e){null!=e.dataIndex&&(e.dataIndexInside=e.dataIndex,e.dataIndex=null),e.highlightKey="visualMap"+(t?t.componentIndex:"")}),n}var _l=Jn,TF=Y,CM=Math.min,w1=Math.max,EF=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e._shapes={},e._dataInterval=[],e._handleEnds=[],e._hoverLinkDataIndices=[],e}return ue(t,n),t.prototype.doRender=function(e,i,r,o){this._api=r,o&&"selectDataRange"===o.type&&o.from===this.uid||this._buildView()},t.prototype._buildView=function(){this.group.removeAll();var e=this.visualMapModel,i=this.group;this._orient=e.get("orient"),this._useHandle=e.get("calculable"),this._resetInterval(),this._renderBar(i);var r=e.get("text");this._renderEndsText(i,r,0),this._renderEndsText(i,r,1),this._updateView(!0),this.renderBackground(i),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(i)},t.prototype._renderEndsText=function(e,i,r){if(i){var o=i[1-r];o=null!=o?o+"":"";var a=this.visualMapModel,s=a.get("textGap"),l=a.itemSize,u=this._shapes.mainGroup,h=this._applyTransform([l[0]/2,0===r?-s:l[1]+s],u),f=this._applyTransform(0===r?"bottom":"top",u),p=this._orient,g=this.visualMapModel.textStyleModel;this.group.add(new Nn({style:{x:h[0],y:h[1],verticalAlign:"horizontal"===p?"middle":f,align:"horizontal"===p?f:"center",text:o,font:g.getFont(),fill:g.getTextColor()}}))}},t.prototype._renderBar=function(e){var i=this.visualMapModel,r=this._shapes,o=i.itemSize,a=this._orient,s=this._useHandle,l=EM(i,this.api,o),u=r.mainGroup=this._createBarGroup(l),h=new Ft;u.add(h),h.add(r.outOfRange=IM()),h.add(r.inRange=IM(null,s?MM(this._orient):null,mt(this._dragHandle,this,"all",!1),mt(this._dragHandle,this,"all",!0))),h.setClipPath(new kn({shape:{x:0,y:0,width:o[0],height:o[1],r:3}}));var f=i.textStyleModel.getTextRect("\u56fd"),p=w1(f.width,f.height);s&&(r.handleThumbs=[],r.handleLabels=[],r.handleLabelPoints=[],this._createHandle(i,u,0,o,p,a),this._createHandle(i,u,1,o,p,a)),this._createIndicator(i,u,o,p,a),e.add(u)},t.prototype._createHandle=function(e,i,r,o,a,s){var l=mt(this._dragHandle,this,r,!1),u=mt(this._dragHandle,this,r,!0),h=Ct(e.get("handleSize"),o[0]),f=Er(e.get("handleIcon"),-h/2,-h/2,h,h,null,!0),p=MM(this._orient);f.attr({cursor:p,draggable:!0,drift:l,ondragend:u,onmousemove:function(b){Mr(b.event)}}),f.x=o[0]/2,f.useStyle(e.getModel("handleStyle").getItemStyle()),f.setStyle({strokeNoScale:!0,strokeFirst:!0}),f.style.lineWidth*=2,f.ensureState("emphasis").style=e.getModel(["emphasis","handleStyle"]).getItemStyle(),q(f,!0),i.add(f);var g=this.visualMapModel.textStyleModel,v=new Nn({cursor:p,draggable:!0,drift:l,onmousemove:function(b){Mr(b.event)},ondragend:u,style:{x:0,y:0,text:"",font:g.getFont(),fill:g.getTextColor()}});v.ensureState("blur").style={opacity:.1},v.stateTransition={duration:200},this.group.add(v);var m=[h,0],y=this._shapes;y.handleThumbs[r]=f,y.handleLabelPoints[r]=m,y.handleLabels[r]=v},t.prototype._createIndicator=function(e,i,r,o,a){var s=Ct(e.get("indicatorSize"),r[0]),l=Er(e.get("indicatorIcon"),-s/2,-s/2,s,s,null,!0);l.attr({cursor:"move",invisible:!0,silent:!0,x:r[0]/2});var u=e.getModel("indicatorStyle").getItemStyle();if(l instanceof fr){var h=l.style;l.useStyle(se({image:h.image,x:h.x,y:h.y,width:h.width,height:h.height},u))}else l.useStyle(u);i.add(l);var f=this.visualMapModel.textStyleModel,p=new Nn({silent:!0,invisible:!0,style:{x:0,y:0,text:"",font:f.getFont(),fill:f.getTextColor()}});this.group.add(p);var g=[("horizontal"===a?o/2:6)+r[0]/2,0],v=this._shapes;v.indicator=l,v.indicatorLabel=p,v.indicatorLabelPoint=g,this._firstShowIndicator=!0},t.prototype._dragHandle=function(e,i,r,o){if(this._useHandle){if(this._dragging=!i,!i){var a=this._applyTransform([r,o],this._shapes.mainGroup,!0);this._updateInterval(e,a[1]),this._hideIndicator(),this._updateView()}i===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),i?!this._hovering&&this._clearHoverLinkToSeries():AM(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[e],!1)}},t.prototype._resetInterval=function(){var e=this.visualMapModel,i=this._dataInterval=e.getSelected(),r=e.getExtent(),o=[0,e.itemSize[1]];this._handleEnds=[_l(i[0],r,o,!0),_l(i[1],r,o,!0)]},t.prototype._updateInterval=function(e,i){var r=this.visualMapModel,o=this._handleEnds,a=[0,r.itemSize[1]];kc(i=i||0,o,a,e,0);var s=r.getExtent();this._dataInterval=[_l(o[0],a,s,!0),_l(o[1],a,s,!0)]},t.prototype._updateView=function(e){var i=this.visualMapModel,r=i.getExtent(),o=this._shapes,a=[0,i.itemSize[1]],s=e?a:this._handleEnds,l=this._createBarVisual(this._dataInterval,r,s,"inRange"),u=this._createBarVisual(r,r,a,"outOfRange");o.inRange.setStyle({fill:l.barColor}).setShape("points",l.barPoints),o.outOfRange.setStyle({fill:u.barColor}).setShape("points",u.barPoints),this._updateHandle(s,l)},t.prototype._createBarVisual=function(e,i,r,o){var a={forceState:o,convertOpacityToAlpha:!0},s=this._makeColorGradient(e,a),l=[this.getControllerVisual(e[0],"symbolSize",a),this.getControllerVisual(e[1],"symbolSize",a)],u=this._createBarPoints(r,l);return{barColor:new ch(0,0,0,1,s),barPoints:u,handlesColor:[s[0].color,s[s.length-1].color]}},t.prototype._makeColorGradient=function(e,i){var r=[],o=(e[1]-e[0])/100;r.push({color:this.getControllerVisual(e[0],"color",i),offset:0});for(var a=1;a<100;a++){var s=e[0]+o*a;if(s>e[1])break;r.push({color:this.getControllerVisual(s,"color",i),offset:a/100})}return r.push({color:this.getControllerVisual(e[1],"color",i),offset:1}),r},t.prototype._createBarPoints=function(e,i){var r=this.visualMapModel.itemSize;return[[r[0]-i[0],e[0]],[r[0],e[0]],[r[0],e[1]],[r[0]-i[1],e[1]]]},t.prototype._createBarGroup=function(e){var i=this._orient,r=this.visualMapModel.get("inverse");return new Ft("horizontal"!==i||r?"horizontal"===i&&r?{scaleX:"bottom"===e?-1:1,rotation:-Math.PI/2}:"vertical"!==i||r?{scaleX:"left"===e?1:-1}:{scaleX:"left"===e?1:-1,scaleY:-1}:{scaleX:"bottom"===e?1:-1,rotation:Math.PI/2})},t.prototype._updateHandle=function(e,i){if(this._useHandle){var r=this._shapes,o=this.visualMapModel,a=r.handleThumbs,s=r.handleLabels,l=o.itemSize,u=o.getExtent();TF([0,1],function(h){var f=a[h];f.setStyle("fill",i.handlesColor[h]),f.y=e[h];var p=_l(e[h],[0,l[1]],u,!0),g=this.getControllerVisual(p,"symbolSize");f.scaleX=f.scaleY=g/l[0],f.x=l[0]-g/2;var v=Ps(r.handleLabelPoints[h],Su(f,this.group));s[h].setStyle({x:v[0],y:v[1],text:o.formatValueText(this._dataInterval[h]),verticalAlign:"middle",align:"vertical"===this._orient?this._applyTransform("left",r.mainGroup):"center"})},this)}},t.prototype._showIndicator=function(e,i,r,o){var a=this.visualMapModel,s=a.getExtent(),l=a.itemSize,u=[0,l[1]],h=this._shapes,f=h.indicator;if(f){f.attr("invisible",!1);var p=this.getControllerVisual(e,"color",{convertOpacityToAlpha:!0}),g=this.getControllerVisual(e,"symbolSize"),v=_l(e,s,u,!0),m=l[0]-g/2,y={x:f.x,y:f.y};f.y=v,f.x=m;var b=Ps(h.indicatorLabelPoint,Su(f,this.group)),S=h.indicatorLabel;S.attr("invisible",!1);var E=this._applyTransform("left",h.mainGroup),I="horizontal"===this._orient;S.setStyle({text:(r||"")+a.formatValueText(i),verticalAlign:I?E:"middle",align:I?"center":E});var A={x:m,y:v,style:{fill:p}},L={style:{x:b[0],y:b[1]}};if(a.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var R={duration:100,easing:"cubicInOut",additive:!0};f.x=y.x,f.y=y.y,f.animateTo(A,R),S.animateTo(L,R)}else f.attr(A),S.attr(L);this._firstShowIndicator=!1;var k=this._shapes.handleLabels;if(k)for(var H=0;H<k.length;H++)this._api.enterBlur(k[H])}},t.prototype._enableHoverLinkToSeries=function(){var e=this;this._shapes.mainGroup.on("mousemove",function(i){if(e._hovering=!0,!e._dragging){var r=e.visualMapModel.itemSize,o=e._applyTransform([i.offsetX,i.offsetY],e._shapes.mainGroup,!0,!0);o[1]=CM(w1(0,o[1]),r[1]),e._doHoverLinkToSeries(o[1],0<=o[0]&&o[0]<=r[0])}}).on("mouseout",function(){e._hovering=!1,!e._dragging&&e._clearHoverLinkToSeries()})},t.prototype._enableHoverLinkFromSeries=function(){var e=this.api.getZr();this.visualMapModel.option.hoverLink?(e.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),e.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},t.prototype._doHoverLinkToSeries=function(e,i){var y,b,S,E,r=this.visualMapModel;if(r.option.hoverLink){var a=[0,r.itemSize[1]],s=r.getExtent();e=CM(w1(a[0],e),a[1]);var l=(y=s,b=a,S=6,(E=r.get("hoverLinkDataSize"))&&(S=_l(E,y,b,!0)/2),S),u=[e-l,e+l],h=_l(e,a,s,!0),f=[_l(u[0],a,s,!0),_l(u[1],a,s,!0)];u[0]<a[0]&&(f[0]=-1/0),u[1]>a[1]&&(f[1]=1/0),i&&(f[0]===-1/0?this._showIndicator(h,f[1],"< ",l):f[1]===1/0?this._showIndicator(h,f[0],"> ",l):this._showIndicator(h,h,"\u2248 ",l));var p=this._hoverLinkDataIndices,g=[];(i||AM(r))&&(g=this._hoverLinkDataIndices=r.findTargetDataIndices(f));var v=function(m,y){var b={},S={};return E(m||[],b),E(y||[],S,b),[I(b),I(S)];function E(A,L,R){for(var k=0,H=A.length;k<H;k++){var U=ci(A[k].seriesId,null);if(null==U)return;for(var G=Yn(A[k].dataIndex),K=R&&R[U],$=0,ee=G.length;$<ee;$++){var le=G[$];K&&K[le]?K[le]=null:(L[U]||(L[U]={}))[le]=1}}}function I(A,L){var R=[];for(var k in A)if(A.hasOwnProperty(k)&&null!=A[k])if(L)R.push(+k);else{var H=I(A[k],!0);H.length&&R.push({seriesId:k,dataIndex:H})}return R}}(p,g);this._dispatchHighDown("downplay",Xv(v[0],r)),this._dispatchHighDown("highlight",Xv(v[1],r))}},t.prototype._hoverLinkFromSeriesMouseOver=function(e){var i=e.target,r=this.visualMapModel;if(i&&null!=pn(i).dataIndex){var o=pn(i),a=this.ecModel.getSeriesByIndex(o.seriesIndex);if(r.isTargetSeries(a)){var s=a.getData(o.dataType),l=s.getStore().get(r.getDataDimensionIndex(s),o.dataIndex);isNaN(l)||this._showIndicator(l,l)}}},t.prototype._hideIndicator=function(){var e=this._shapes;e.indicator&&e.indicator.attr("invisible",!0),e.indicatorLabel&&e.indicatorLabel.attr("invisible",!0);var i=this._shapes.handleLabels;if(i)for(var r=0;r<i.length;r++)this._api.leaveBlur(i[r])},t.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var e=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",Xv(e,this.visualMapModel)),e.length=0},t.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var e=this.api.getZr();e.off("mouseover",this._hoverLinkFromSeriesMouseOver),e.off("mouseout",this._hideIndicator)},t.prototype._applyTransform=function(e,i,r,o){var a=Su(i,o?null:this.group);return rt(e)?Ps(e,a,r):Kp(e,a,r)},t.prototype._dispatchHighDown=function(e,i){i&&i.length&&this.api.dispatchAction({type:e,batch:i})},t.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},t.prototype.remove=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},t.type="visualMap.continuous",t}(wM);function IM(n,t,e,i){return new Lo({shape:{points:n},draggable:!!e,cursor:t,drift:e,onmousemove:function(r){Mr(r.event)},ondragend:i})}function AM(n){return!!(n.get("hoverLinkOnHandle")??n.get("realtime"))}function MM(n){return"vertical"===n?"ns-resize":"ew-resize"}var CF={type:"selectDataRange",event:"dataRangeSelected",update:"update"},IF=function(n,t){t.eachComponent({mainType:"visualMap",query:n},function(e){e.setSelected(n.selected)})},AF=[{createOnAllSeries:!0,reset:function(n,t){var e=[];return t.eachComponent("visualMap",function(i){var r,o,a,s,l,u=n.pipelineContext;!i.isTargetSeries(n)||u&&u.large||e.push((r=i.stateList,o=i.targetVisuals,a=mt(i.getValueState,i),s=i.getDataDimensionIndex(n.getData()),l={},Y(r,function(h){var f=so.prepareVisualTypes(o[h]);l[h]=f}),{progress:function(h,f){var p,g;function v(H){return $m(f,g,H)}function m(H,U){Hb(f,g,H,U)}null!=s&&(p=f.getDimensionIndex(s));for(var y=f.getStore();null!=(g=h.next());){var b=f.getRawDataItem(g);if(!b||!1!==b.visualMap)for(var S=null!=s?y.get(p,g):g,E=a(S),I=o[E],A=l[E],L=0,R=A.length;L<R;L++){var k=A[L];I[k]&&I[k].applyVisual(S,v,m)}}}}))}),e}},{createOnAllSeries:!0,reset:function(n,t){var e=n.getData(),i=[];t.eachComponent("visualMap",function(r){if(r.isTargetSeries(n)){var o=r.getVisualMeta(mt(MF,null,n,r))||{stops:[],outerColors:[]},a=r.getDataDimensionIndex(e);a>=0&&(o.dimension=a,i.push(o))}}),n.getData().setVisual("visualMeta",i)}}];function MF(n,t,e,i){for(var r=t.targetVisuals[i],o=so.prepareVisualTypes(r),a={color:rd(n.getData(),"color")},s=0,l=o.length;s<l;s++){var u=o[s],h=r["opacity"===u?"__alphaForOpacity":u];h&&h.applyVisual(e,f,p)}return a.color;function f(g){return a[g]}function p(g,v){a[g]=v}}var LM=Y;function LF(n){var t=n&&n.visualMap;rt(t)||(t=t?[t]:[]),LM(t,function(e){if(e){Jh(e,"splitList")&&!Jh(e,"pieces")&&(e.pieces=e.splitList,delete e.splitList);var i=e.pieces;i&&rt(i)&&LM(i,function(r){Bt(r)&&(Jh(r,"start")&&!Jh(r,"min")&&(r.min=r.start),Jh(r,"end")&&!Jh(r,"max")&&(r.max=r.end))})}})}function Jh(n,t){return n&&n.hasOwnProperty&&n.hasOwnProperty(t)}var DM=!1;function NM(n){DM||(DM=!0,n.registerSubTypeDefaulter("visualMap",function(t){return t.categories||(t.pieces?t.pieces.length>0:t.splitNumber>0)&&!t.calculable?"piecewise":"continuous"}),n.registerAction(CF,IF),Y(AF,function(t){n.registerVisual(n.PRIORITY.VISUAL.COMPONENT,t)}),n.registerPreprocessor(LF))}function RM(n){n.registerComponentModel(wF),n.registerComponentView(EF),NM(n)}var DF=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e._pieceList=[],e}return ue(t,n),t.prototype.optionUpdated=function(e,i){n.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var r=this._mode=this._determineMode();this._pieceList=[],NF[this._mode].call(this,this._pieceList),this._resetSelected(e,i);var o=this.option.categories;this.resetVisual(function(a,s){"categories"===r?(a.mappingMethod="category",a.categories=Te(o)):(a.dataExtent=this.getExtent(),a.mappingMethod="piecewise",a.pieceList=Ve(this._pieceList,function(l){return l=Te(l),"inRange"!==s&&(l.visual=null),l}))})},t.prototype.completeVisualOption=function(){var e=this.option,i={},r=so.listVisualTypes(),o=this.isCategory();function a(s,l,u){return s&&s[l]&&s[l].hasOwnProperty(u)}Y(e.pieces,function(s){Y(r,function(l){s.hasOwnProperty(l)&&(i[l]=1)})}),Y(i,function(s,l){var u=!1;Y(this.stateList,function(h){u=u||a(e,h,l)||a(e.target,h,l)},this),!u&&Y(this.stateList,function(h){(e[h]||(e[h]={}))[l]=yM(l,"inRange"===h?"active":"inactive",o)})},this),n.prototype.completeVisualOption.apply(this,arguments)},t.prototype._resetSelected=function(e,i){var r=this.option,o=this._pieceList,a=(i?r:e).selected||{};if(r.selected=a,Y(o,function(l,u){var h=this.getSelectedMapKey(l);a.hasOwnProperty(h)||(a[h]=!0)},this),"single"===r.selectedMode){var s=!1;Y(o,function(l,u){var h=this.getSelectedMapKey(l);a[h]&&(s?a[h]=!1:s=!0)},this)}},t.prototype.getItemSymbol=function(){return this.get("itemSymbol")},t.prototype.getSelectedMapKey=function(e){return"categories"===this._mode?e.value+"":e.index+""},t.prototype.getPieceList=function(){return this._pieceList},t.prototype._determineMode=function(){var e=this.option;return e.pieces&&e.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},t.prototype.setSelected=function(e){this.option.selected=Te(e)},t.prototype.getValueState=function(e){var i=so.findPieceIndex(e,this._pieceList);return null!=i&&this.option.selected[this.getSelectedMapKey(this._pieceList[i])]?"inRange":"outOfRange"},t.prototype.findTargetDataIndices=function(e){var i=[],r=this._pieceList;return this.eachTargetSeries(function(o){var a=[],s=o.getData();s.each(this.getDataDimensionIndex(s),function(l,u){so.findPieceIndex(l,r)===e&&a.push(u)},this),i.push({seriesId:o.id,dataIndex:a})},this),i},t.prototype.getRepresentValue=function(e){var i;if(this.isCategory())i=e.value;else if(null!=e.value)i=e.value;else{var r=e.interval||[];i=r[0]===-1/0&&r[1]===1/0?0:(r[0]+r[1])/2}return i},t.prototype.getVisualMeta=function(e){if(!this.isCategory()){var i=[],r=["",""],o=this,a=this._pieceList.slice();if(a.length){var s=a[0].interval[0];s!==-1/0&&a.unshift({interval:[-1/0,s]}),(s=a[a.length-1].interval[1])!==1/0&&a.push({interval:[s,1/0]})}else a.push({interval:[-1/0,1/0]});var l=-1/0;return Y(a,function(h){var f=h.interval;f&&(f[0]>l&&u([l,f[0]],"outOfRange"),u(f.slice()),l=f[1])},this),{stops:i,outerColors:r}}function u(h,f){var p=o.getRepresentValue({interval:h});f||(f=o.getValueState(p));var g=e(p,f);h[0]===-1/0?r[0]=g:h[1]===1/0?r[1]=g:i.push({value:h[0],color:g},{value:h[1],color:g})}},t.type="visualMap.piecewise",t.defaultOption=wu(Yv.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),t}(Yv),NF={splitNumber:function(n){var t=this.option,e=Math.min(t.precision,20),i=this.getExtent(),r=t.splitNumber;r=Math.max(parseInt(r,10),1),t.splitNumber=r;for(var o=(i[1]-i[0])/r;+o.toFixed(e)!==o&&e<5;)e++;t.precision=e,o=+o.toFixed(e),t.minOpen&&n.push({interval:[-1/0,i[0]],close:[0,0]});for(var a=0,s=i[0];a<r;s+=o,a++)n.push({interval:[s,a===r-1?i[1]:s+o],close:[1,1]});t.maxOpen&&n.push({interval:[i[1],1/0],close:[0,0]}),Wc(n),Y(n,function(u,h){u.index=h,u.text=this.formatValueText(u.interval)},this)},categories:function(n){var t=this.option;Y(t.categories,function(e){n.push({text:this.formatValueText(e,!0),value:e})},this),OM(t,n)},pieces:function(n){var t=this.option;Y(t.pieces,function(e,i){Bt(e)||(e={value:e});var r={text:"",index:i};if(null!=e.label&&(r.text=e.label),e.hasOwnProperty("value")){var o=r.value=e.value;r.interval=[o,o],r.close=[1,1]}else{for(var a=r.interval=[],s=r.close=[0,0],l=[1,0,1],u=[-1/0,1/0],h=[],f=0;f<2;f++){for(var p=[["gte","gt","min"],["lte","lt","max"]][f],g=0;g<3&&null==a[f];g++)a[f]=e[p[g]],s[f]=l[g],h[f]=2===g;null==a[f]&&(a[f]=u[f])}h[0]&&a[1]===1/0&&(s[0]=0),h[1]&&a[0]===-1/0&&(s[1]=0),a[0]===a[1]&&s[0]&&s[1]&&(r.value=a[0])}r.visual=so.retrieveVisuals(e),n.push(r)},this),OM(t,n),Wc(n),Y(n,function(e){var i=e.close;e.text=e.text||this.formatValueText(null!=e.value?e.value:e.interval,!1,[["<","\u2264"][i[1]],[">","\u2265"][i[0]]])},this)}};function OM(n,t){var e=n.inverse;("vertical"===n.orient?!e:e)&&t.reverse()}var RF=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return ue(t,n),t.prototype.doRender=function(){var e=this.group;e.removeAll();var i=this.visualMapModel,r=i.get("textGap"),o=i.textStyleModel,a=o.getFont(),s=o.getTextColor(),l=this._getItemAlign(),u=i.itemSize,h=this._getViewData(),f=h.endsText,p=zn(i.get("showLabel",!0),!f);f&&this._renderEndsText(e,f[0],u,p,l),Y(h.viewPieceList,function(g){var v=g.piece,m=new Ft;m.onclick=mt(this._onItemClick,this,v),this._enableHoverLink(m,g.indexInModelPieceList);var y=i.getRepresentValue(v);if(this._createItemSymbol(m,y,[0,0,u[0],u[1]]),p){var b=this.visualMapModel.getValueState(y);m.add(new Nn({style:{x:"right"===l?-r:u[0]+r,y:u[1]/2,text:v.text,verticalAlign:"middle",align:l,font:a,fill:s,opacity:"outOfRange"===b?.5:1}}))}e.add(m)},this),f&&this._renderEndsText(e,f[1],u,p,l),xc(i.get("orient"),e,i.get("itemGap")),this.renderBackground(e),this.positionGroup(e)},t.prototype._enableHoverLink=function(e,i){var r=this;e.on("mouseover",function(){return o("highlight")}).on("mouseout",function(){return o("downplay")});var o=function(a){var s=r.visualMapModel;s.option.hoverLink&&r.api.dispatchAction({type:a,batch:Xv(s.findTargetDataIndices(i),s)})}},t.prototype._getItemAlign=function(){var e=this.visualMapModel,i=e.option;if("vertical"===i.orient)return EM(e,this.api,e.itemSize);var r=i.align;return r&&"auto"!==r||(r="left"),r},t.prototype._renderEndsText=function(e,i,r,o,a){if(i){var s=new Ft,l=this.visualMapModel.textStyleModel;s.add(new Nn({style:{x:o?"right"===a?r[0]:0:r[0]/2,y:r[1]/2,verticalAlign:"middle",align:o?a:"center",text:i,font:l.getFont(),fill:l.getTextColor()}})),e.add(s)}},t.prototype._getViewData=function(){var e=this.visualMapModel,i=Ve(e.getPieceList(),function(s,l){return{piece:s,indexInModelPieceList:l}}),r=e.get("text"),o=e.get("orient"),a=e.get("inverse");return("horizontal"===o?a:!a)?i.reverse():r&&(r=r.slice().reverse()),{viewPieceList:i,endsText:r}},t.prototype._createItemSymbol=function(e,i,r){e.add(Er(this.getControllerVisual(i,"symbol"),r[0],r[1],r[2],r[3],this.getControllerVisual(i,"color")))},t.prototype._onItemClick=function(e){var i=this.visualMapModel,r=i.option,o=Te(r.selected),a=i.getSelectedMapKey(e);"single"===r.selectedMode?(o[a]=!0,Y(o,function(s,l){o[l]=l===a})):o[a]=!o[a],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:o})},t.type="visualMap.piecewise",t}(wM);function kM(n){n.registerComponentModel(DF),n.registerComponentView(RF),NM(n)}var OF={label:{enabled:!0},decal:{show:!1}},PM=Fn(),kF={};function PF(n,t){var e=n.getModel("aria");if(e.get("enabled")){var i=Te(OF);Ie(i.label,n.getLocaleModel().get("aria"),!1),Ie(e.option,i,!1),function(){if(e.getModel("decal").get("show")){var o=Ht();n.eachSeries(function(a){if(!a.isColorBySeries()){var s=o.get(a.type);s||o.set(a.type,s={}),PM(a).scope=s}}),n.eachRawSeries(function(a){if(!n.isSeriesFiltered(a))if("function"!=typeof a.enableAriaDecal){var s=a.getData();if(a.isColorBySeries()){var l=km(a.ecModel,a.name,kF,n.getSeriesCount()),u=s.getVisual("decal");s.setVisual("decal",v(u,l))}else{var h=a.getRawData(),f={},p=PM(a).scope;s.each(function(m){var y=s.getRawIndex(m);f[y]=m});var g=h.count();h.each(function(m){var y=f[m],b=h.getName(m)||m+"",S=km(a.ecModel,b,p,g),E=s.getItemVisual(y,"decal");s.setItemVisual(y,"decal",v(E,S))})}}else a.enableAriaDecal();function v(m,y){var b=m?se(se({},y),m):y;return b.dirty=!0,b}})}}(),function(){var I,o=n.getLocaleModel().get("aria"),a=e.getModel("label");if(a.option=Ee(a.option,o),a.get("enabled")){var s=t.getZr().dom;if(a.get("description"))return void s.setAttribute("aria-label",a.get("description"));var l,u=n.getSeriesCount(),h=a.get(["data","maxCount"])||10,f=a.get(["series","maxCount"])||10,p=Math.min(u,f);if(!(u<1)){var g=((I=n.get("title"))&&I.length&&(I=I[0]),I&&I.text);l=g?r(a.get(["general","withTitle"]),{title:g}):a.get(["general","withoutTitle"]);var m=[];l+=r(a.get(u>1?["series","multiple","prefix"]:["series","single","prefix"]),{seriesCount:u}),n.eachSeries(function(I,A){if(A<p){var L=void 0,R=I.get("name")?"withName":"withoutName";L=r(L=a.get(u>1?["series","multiple",R]:["series","single",R]),{seriesId:I.seriesIndex,seriesName:I.get("name"),seriesType:(he=I.subType,n.getLocaleModel().get(["series","typeNames"])[he]||"\u81ea\u5b9a\u4e49\u56fe")});var k=I.getData();k.count()>h?L+=r(a.get(["data","partialData"]),{displayCnt:h}):L+=a.get(["data","allData"]);for(var H=[],U=0;U<k.count();U++)if(U<h){var G=k.getName(U),K=Sc(k,U),$=a.get(["data",G?"withName":"withoutName"]);H.push(r($,{name:G,value:K}))}var ee=a.get(["data","separator","middle"]),le=a.get(["data","separator","end"]);L+=H.join(ee)+le,m.push(L)}var he});var b=a.getModel(["series","multiple","separator"]),S=b.get("middle"),E=b.get("end");l+=m.join(S)+E,s.setAttribute("aria-label",l)}}}()}function r(o,a){if("string"!=typeof o)return o;var s=o;return Y(a,function(l,u){s=s.replace(new RegExp("\\{\\s*"+u+"\\s*\\}","g"),l)}),s}}function BF(n){if(n&&n.aria){var t=n.aria;null!=t.show&&(t.enabled=t.show),t.label=t.label||{},Y(["description","general","series","data"],function(e){null!=t[e]&&(t.label[e]=t[e])})}}var BM={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},FF=function(){function n(t){null==(this._condVal=Jt(t)?new RegExp(t):si(t)?t:null)&&jn("")}return n.prototype.evaluate=function(t){var e=typeof t;return"string"===e?this._condVal.test(t):"number"===e&&this._condVal.test(t+"")},n}(),HF=function(){function n(){}return n.prototype.evaluate=function(){return this.value},n}(),UF=function(){function n(){}return n.prototype.evaluate=function(){for(var t=this.children,e=0;e<t.length;e++)if(!t[e].evaluate())return!1;return!0},n}(),zF=function(){function n(){}return n.prototype.evaluate=function(){for(var t=this.children,e=0;e<t.length;e++)if(t[e].evaluate())return!0;return!1},n}(),VF=function(){function n(){}return n.prototype.evaluate=function(){return!this.child.evaluate()},n}(),GF=function(){function n(){}return n.prototype.evaluate=function(){for(var t=!!this.valueParser,e=(0,this.getValue)(this.valueGetterParam),i=t?this.valueParser(e):null,r=0;r<this.subCondList.length;r++)if(!this.subCondList[r].evaluate(t?i:e))return!1;return!0},n}();function T1(n,t){if(!0===n||!1===n){var e=new HF;return e.value=n,e}return HM(n)||jn(""),n.and?FM("and",n,t):n.or?FM("or",n,t):n.not?function(r,o){var a=r.not;HM(a)||jn("");var l=new VF;return l.child=T1(a,o),l.child||jn(""),l}(n,t):function(r,o){for(var s=o.prepareGetValue(r),l=[],u=Mt(r),h=r.parser,f=h?tb(h):null,p=0;p<u.length;p++){var g=u[p];if("parser"!==g&&!o.valueGetterAttrMap.get(g)){var v=ut(BM,g)?BM[g]:g,m=r[g],y=f?f(m):m,b=qL(v,y)||"reg"===v&&new FF(y);b||jn(""),l.push(b)}}l.length||jn("");var S=new GF;return S.valueGetterParam=s,S.valueParser=f,S.getValue=o.getValue,S.subCondList=l,S}(n,t)}function FM(n,t,e){var i=t[n];rt(i)||jn(""),i.length||jn("");var o="and"===n?new UF:new zF;return o.children=Ve(i,function(a){return T1(a,e)}),o.children.length||jn(""),o}function HM(n){return Bt(n)&&!gt(n)}var WF=function(){function n(t,e){this._cond=T1(t,e)}return n.prototype.evaluate=function(){return this._cond.evaluate()},n}(),YF={type:"echarts:filter",transform:function(n){for(var t,e,i,r=n.upstream,o=(e=n.config,i={valueGetterAttrMap:Ht({dimension:!0}),prepareGetValue:function(u){var f=u.dimension;ut(u,"dimension")||jn("");var p=r.getDimensionInfo(f);return p||jn(""),{dimIdx:p.index}},getValue:function(u){return r.retrieveValueFromItem(t,u.dimIdx)}},new WF(e,i)),a=[],s=0,l=r.count();s<l;s++)t=r.getRawDataItem(s),o.evaluate()&&a.push(t);return{data:a}}},XF={type:"echarts:sort",transform:function(n){var t=n.upstream,i="",r=Yn(n.config);r.length||jn(i);var o=[];Y(r,function(h){var f=h.dimension,p=h.order,g=h.parser,v=h.incomparable;null==f&&jn(i),"asc"!==p&&"desc"!==p&&jn(i),v&&"min"!==v&&"max"!==v&&jn(""),"asc"!==p&&"desc"!==p&&jn("");var b=t.getDimensionInfo(f);b||jn(i);var S=g?tb(g):null;g&&!S&&jn(i),o.push({dimIdx:b.index,parser:S,comparator:new ib(p,v)})});var a=t.sourceFormat;a!==Fl&&a!==Cu&&jn(i);for(var s=[],l=0,u=t.count();l<u;l++)s.push(t.getRawDataItem(l));return s.sort(function(h,f){for(var p=0;p<o.length;p++){var g=o[p],v=t.retrieveValueFromItem(h,g.dimIdx),m=t.retrieveValueFromItem(f,g.dimIdx);g.parser&&(v=g.parser(v),m=g.parser(m));var y=g.comparator.evaluate(v,m);if(0!==y)return y}return 0}),{data:s}}},jF=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type="dataset",e}return ue(t,n),t.prototype.init=function(e,i,r){n.prototype.init.call(this,e,i,r),this._sourceManager=new ub(this),cb(this)},t.prototype.mergeOption=function(e,i){n.prototype.mergeOption.call(this,e,i),cb(this)},t.prototype.optionUpdated=function(){this._sourceManager.dirty()},t.prototype.getSourceManager=function(){return this._sourceManager},t.type="dataset",t.defaultOption={seriesLayoutBy:bc},t}(Rn),qF=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type="dataset",e}return ue(t,n),t.type="dataset",t}(Ni),xl=vo.CMD;function Qh(n,t){return Math.abs(n-t)<1e-5}function E1(n){var t,e,i,r,o,K,$,ee,le,he,ge,me,be,Le,Ge,nt,xt,Je,Tt,It,Yt,Xt,a=n.data,s=n.len(),l=[],u=0,h=0,f=0,p=0;function g(K,$){t&&t.length>2&&l.push(t),t=[K,$]}function v(K,$,ee,le){Qh(K,ee)&&Qh($,le)||t.push(K,$,ee,le,ee,le)}for(var y=0;y<s;){var b=a[y++],S=1===y;switch(S&&(f=u=a[y],p=h=a[y+1],b!==xl.L&&b!==xl.C&&b!==xl.Q||(t=[f,p])),b){case xl.M:u=f=a[y++],h=p=a[y++],g(f,p);break;case xl.L:v(u,h,e=a[y++],i=a[y++]),u=e,h=i;break;case xl.C:t.push(a[y++],a[y++],a[y++],a[y++],u=a[y++],h=a[y++]);break;case xl.Q:e=a[y++],i=a[y++],r=a[y++],o=a[y++],t.push(u+2/3*(e-u),h+2/3*(i-h),r+2/3*(e-r),o+2/3*(i-o),r,o),u=r,h=o;break;case xl.A:var E=a[y++],I=a[y++],A=a[y++],L=a[y++],R=a[y++],k=a[y++]+R;y+=1;var H=!a[y++];e=Math.cos(R)*A+E,i=Math.sin(R)*L+I,S?g(f=e,p=i):v(u,h,e,i),u=Math.cos(k)*A+E,h=Math.sin(k)*L+I;for(var U=(H?-1:1)*Math.PI/2,G=R;H?G>k:G<k;G+=U)K=G,$=H?Math.max(G+U,k):Math.min(G+U,k),ee=E,le=I,he=A,ge=L,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,me=Math.abs($-K),be=4*Math.tan(me/4)/3,Le=$<K?-1:1,Ge=Math.cos(K),nt=Math.sin(K),xt=Math.cos($),Je=Math.sin($),t.push(Ge*he+ee-(Yt=he*be*Le)*nt,nt*ge+le+(Xt=ge*be*Le)*Ge,(Tt=xt*he+ee)+Yt*Je,(It=Je*ge+le)-Xt*xt,Tt,It);break;case xl.R:f=u=a[y++],p=h=a[y++],e=f+a[y++],i=p+a[y++],g(e,p),v(e,p,e,i),v(e,i,f,i),v(f,i,f,p),v(f,p,e,p);break;case xl.Z:t&&v(u,h,f,p),u=f,h=p}}return t&&t.length>2&&l.push(t),l}function C1(n,t,e,i,r,o,a,s,l,u){if(Qh(n,e)&&Qh(t,i)&&Qh(r,a)&&Qh(o,s))l.push(a,s);else{var h=2/u,f=h*h,p=a-n,g=s-t,v=Math.sqrt(p*p+g*g);p/=v,g/=v;var m=e-n,y=i-t,b=r-a,S=o-s,E=m*m+y*y,I=b*b+S*S;if(E<f&&I<f)l.push(a,s);else{var A=p*m+g*y,L=-p*b-g*S;if(E-A*A<f&&A>=0&&I-L*L<f&&L>=0)l.push(a,s);else{var R=[],k=[];As(n,e,r,a,.5,R),As(t,i,o,s,.5,k),C1(R[0],k[0],R[1],k[1],R[2],k[2],R[3],k[3],l,u),C1(R[4],k[4],R[5],k[5],R[6],k[6],R[7],k[7],l,u)}}}}function UM(n,t,e){var o=Math.abs(n[t]/n[1-t]),a=Math.ceil(Math.sqrt(o*e)),s=Math.floor(e/a);0===s&&(s=1,a=e);for(var l=[],u=0;u<a;u++)l.push(s);var h=e-a*s;if(h>0)for(u=0;u<h;u++)l[u%a]+=1;return l}function zM(n,t,e){for(var i=n.r0,r=n.r,o=n.startAngle,s=Math.abs(n.endAngle-o),l=s*r,u=r-i,h=l>Math.abs(u),f=UM([l,u],h?0:1,t),p=(h?s:u)/f.length,g=0;g<f.length;g++)for(var v=(h?u:s)/f[g],m=0;m<f[g];m++){var y={};h?(y.startAngle=o+p*g,y.endAngle=o+p*(g+1),y.r0=i+v*m,y.r=i+v*(m+1)):(y.startAngle=o+v*m,y.endAngle=o+v*(m+1),y.r0=i+p*g,y.r=i+p*(g+1)),y.clockwise=n.clockwise,y.cx=n.cx,y.cy=n.cy,e.push(y)}}function VM(n,t,e,i){return n*i-e*t}function KF(n,t,e,i,r,o,a,s){var l=e-n,u=i-t,h=a-r,f=s-o,p=VM(h,f,l,u);if(Math.abs(p)<1e-6)return null;var g=VM(n-r,t-o,h,f)/p;return g<0||g>1?null:new gn(g*l+n,g*u+t)}function ZF(n,t,e){var i=new gn;gn.sub(i,e,t),i.normalize();var r=new gn;return gn.sub(r,n,t),r.dot(i)}function $h(n,t){var e=n[n.length-1];e&&e[0]===t[0]&&e[1]===t[1]||n.push(t)}function GM(n){var t=n.points,e=[],i=[];Ms(t,e,i);var r=new cn(e[0],e[1],i[0]-e[0],i[1]-e[1]),o=r.width,a=r.height,s=r.x,l=r.y,u=new gn,h=new gn;return o>a?(u.x=h.x=s+o/2,u.y=l,h.y=l+a):(u.y=h.y=l+a/2,u.x=s,h.x=s+o),function(f,p,g){for(var v=f.length,m=[],y=0;y<v;y++){var b=f[y],S=f[(y+1)%v],E=KF(b[0],b[1],S[0],S[1],p.x,p.y,g.x,g.y);E&&m.push({projPt:ZF(E,p,g),pt:E,idx:y})}if(m.length<2)return[{points:f},{points:f}];m.sort(function(G,K){return G.projPt-K.projPt});var I=m[0],A=m[m.length-1];if(A.idx<I.idx){var L=I;I=A,A=L}var R=[I.pt.x,I.pt.y],k=[A.pt.x,A.pt.y],H=[R],U=[k];for(y=I.idx+1;y<=A.idx;y++)$h(H,f[y].slice());for($h(H,k),$h(H,R),y=A.idx+1;y<=I.idx+v;y++)$h(U,f[y%v].slice());return $h(U,R),$h(U,k),[{points:H},{points:U}]}(t,u,h)}function jv(n,t,e,i){if(1===e)i.push(t);else{var r=Math.floor(e/2),o=n(t);jv(n,o[0],r,i),jv(n,o[1],e-r,i)}return i}function JF(n,t){t.setStyle(n.style),t.z=n.z,t.z2=n.z2,t.zlevel=n.zlevel}function $F(n,t){var e=n.length,i=t.length;if(e===i)return[n,t];for(var r=[],o=[],a=e<i?n:t,s=Math.min(e,i),l=Math.abs(i-e)/6,h=Math.ceil(l/((s-2)/6))+1,f=[a[0],a[1]],p=l,g=2;g<s;){var v=a[g-2],m=a[g-1],y=a[g++],b=a[g++],S=a[g++],E=a[g++],I=a[g++],A=a[g++];if(p<=0)f.push(y,b,S,E,I,A);else{for(var L=Math.min(p,h-1)+1,R=1;R<=L;R++){var k=R/L;As(v,y,S,I,k,r),As(m,b,E,A,k,o),f.push(r[1],o[1],r[2],o[2],v=r[3],m=o[3]),y=r[5],b=o[5],S=r[6],E=o[6]}p-=L-1}}return a===n?[f,t]:[n,f]}function WM(n,t){for(var e=n.length,i=n[e-2],r=n[e-1],o=[],a=0;a<t.length;)o[a++]=i,o[a++]=r;return o}function YM(n){for(var t=0,e=0,i=0,r=n.length,o=0,a=r-2;o<r;a=o,o+=2){var s=n[a],l=n[a+1],u=n[o],h=n[o+1],f=s*h-u*l;t+=f,e+=(s+u)*f,i+=(l+h)*f}return 0===t?[n[0]||0,n[1]||0]:[e/t/3,i/t/3,t]}function eH(n,t,e,i){for(var r=(n.length-2)/6,o=1/0,a=0,s=n.length,l=s-2,u=0;u<r;u++){for(var h=6*u,f=0,p=0;p<s;p+=2){var g=0===p?h:(h+p-2)%l+2,y=t[p]-i[0]-(n[g]-e[0]),b=t[p+1]-i[1]-(n[g+1]-e[1]);f+=y*y+b*b}f<o&&(o=f,a=u)}return a}function tH(n){for(var t=[],e=n.length,i=0;i<e;i+=2)t[i]=n[e-i-2],t[i+1]=n[e-i-1];return t}function qv(n){return n.__isCombineMorphing}var XM="__mOriginal_";function Kv(n,t,e){var i=XM+t,r=n[i]||n[t];n[i]||(n[i]=n[t]);var o=e.replace,a=e.after,s=e.before;n[t]=function(){var l,u=arguments;return s&&s.apply(this,u),l=o?o.apply(this,u):r.apply(this,u),a&&a.apply(this,u),l}}function rp(n,t){var e=XM+t;n[e]&&(n[t]=n[e],n[e]=null)}function jM(n,t){for(var e=0;e<n.length;e++)for(var i=n[e],r=0;r<i.length;){var o=i[r],a=i[r+1];i[r++]=t[0]*o+t[2]*a+t[4],i[r++]=t[1]*o+t[3]*a+t[5]}}function qM(n,t){var e=n.getUpdatedPathProxy(),i=t.getUpdatedPathProxy(),r=function(f,p){for(var g,v,m,y=[],b=[],S=0;S<Math.max(f.length,p.length);S++){var E=f[S],I=p[S],A=void 0,L=void 0;E?I?(v=A=(g=$F(E,I))[0],m=L=g[1]):(L=WM(m||E,E),A=E):(A=WM(v||I,I),L=I),y.push(A),b.push(L)}return[y,b]}(E1(e),E1(i)),o=r[0],a=r[1],s=n.getComputedTransform(),l=t.getComputedTransform();s&&jM(o,s),l&&jM(a,l),Kv(t,"updateTransform",{replace:function(){this.transform=null}}),t.transform=null;var u=function(f,p,g,v){for(var m,y=[],b=0;b<f.length;b++){var S=f[b],E=p[b],I=YM(S),A=YM(E);null==m&&(m=I[2]<0!=A[2]<0);var L=[],R=[],k=0,H=1/0,U=[],G=S.length;m&&(S=tH(S));for(var K=6*eH(S,E,I,A),$=G-2,ee=0;ee<$;ee+=2){var le=(K+ee)%$+2;L[ee+2]=S[le]-I[0],L[ee+3]=S[le+1]-I[1]}L[0]=S[K]-I[0],L[1]=S[K+1]-I[1];for(var he=v/10,ge=-v/2;ge<=v/2;ge+=he){var me=Math.sin(ge),be=Math.cos(ge),Le=0;for(ee=0;ee<S.length;ee+=2){var Ge=L[ee],nt=L[ee+1],xt=E[ee]-A[0],Je=E[ee+1]-A[1],dt=xt*be-Je*me,Dt=xt*me+Je*be;U[ee]=dt,U[ee+1]=Dt;var Tt=dt-Ge,It=Dt-nt;Le+=Tt*Tt+It*It}if(Le<H){H=Le,k=ge;for(var Yt=0;Yt<U.length;Yt++)R[Yt]=U[Yt]}}y.push({from:L,to:R,fromCp:I,toCp:A,rotation:-k})}return y}(o,a,0,Math.PI),h=[];Kv(t,"buildPath",{replace:function(f){for(var p=t.__morphT,g=1-p,v=[],m=0;m<u.length;m++){var y=u[m],b=y.from,S=y.to,E=y.rotation*p,I=y.fromCp,A=y.toCp,L=Math.sin(E),R=Math.cos(E);$e(v,I,A,p);for(var k=0;k<b.length;k+=2){var G=b[k]*g+(le=S[k])*p,K=b[k+1]*g+(he=S[k+1])*p;h[k]=G*R-K*L+v[0],h[k+1]=G*L+K*R+v[1]}var $=h[0],ee=h[1];for(f.moveTo($,ee),k=2;k<b.length;){var le=h[k++],he=h[k++],ge=h[k++],me=h[k++],be=h[k++],Le=h[k++];$===le&&ee===he&&ge===be&&me===Le?f.lineTo(be,Le):f.bezierCurveTo(le,he,ge,me,be,Le),$=be,ee=Le}}}})}function I1(n,t,e){if(!n||!t)return t;var i=e.done,r=e.during;return qM(n,t),t.__morphT=0,t.animateTo({__morphT:1},Ee({during:function(o){t.dirtyShape(),r&&r(o)},done:function(){rp(t,"buildPath"),rp(t,"updateTransform"),t.__morphT=-1,t.createPathProxy(),t.dirtyShape(),i&&i()}},e)),t}function nH(n,t,e,i,r,o){n=r===e?0:Math.round(32767*(n-e)/(r-e)),t=o===i?0:Math.round(32767*(t-i)/(o-i));for(var a,s=0,l=32768;l>0;l/=2){var u=0,h=0;(n&l)>0&&(u=1),(t&l)>0&&(h=1),s+=l*l*(3*u^h),0===h&&(1===u&&(n=l-1-n,t=l-1-t),a=n,n=t,t=a)}return s}function Zv(n){var t=1/0,e=1/0,i=-1/0,r=-1/0,o=Ve(n,function(a){var s=a.getBoundingRect(),l=a.getComputedTransform(),u=s.x+s.width/2+(l?l[4]:0),h=s.y+s.height/2+(l?l[5]:0);return t=Math.min(u,t),e=Math.min(h,e),i=Math.max(u,i),r=Math.max(h,r),[u,h]});return Ve(o,function(a,s){return{cp:a,z:nH(a[0],a[1],t,e,i,r),path:n[s]}}).sort(function(a,s){return a.z-s.z}).map(function(a){return a.path})}function KM(n){return function QF(n,t){var e,i=[],r=n.shape;switch(n.type){case"rect":(function(b,S,E){for(var I=b.width,A=b.height,L=I>A,R=UM([I,A],L?0:1,S),k=L?"width":"height",H=L?"height":"width",U=L?"x":"y",G=L?"y":"x",K=b[k]/R.length,$=0;$<R.length;$++)for(var ee=b[H]/R[$],le=0;le<R[$];le++){var he={};he[U]=$*K,he[G]=le*ee,he[k]=K,he[H]=ee,he.x+=b.x,he.y+=b.y,E.push(he)}})(r,t,i),e=kn;break;case"sector":zM(r,t,i),e=Bo;break;case"circle":zM({r0:0,r:r.r,startAngle:0,endAngle:2*Math.PI,cx:r.cx,cy:r.cy},t,i),e=Bo;break;default:var o=n.getComputedTransform(),a=o?Math.sqrt(Math.max(o[0]*o[0]+o[1]*o[1],o[2]*o[2]+o[3]*o[3])):1,s=Ve(function(b,S){var E=E1(b),I=[];S=S||1;for(var A=0;A<E.length;A++){var L=E[A],R=[],k=L[0],H=L[1];R.push(k,H);for(var U=2;U<L.length;){var G=L[U++],K=L[U++],$=L[U++],ee=L[U++],le=L[U++],he=L[U++];C1(k,H,G,K,$,ee,le,he,R,S),k=le,H=he}I.push(R)}return I}(n.getUpdatedPathProxy(),a),function(b){return function(S){for(var E=[],I=0;I<S.length;)E.push([S[I++],S[I++]]);return E}(b)}),l=s.length;if(0===l)jv(GM,{points:s[0]},t,i);else if(l===t)for(var u=0;u<l;u++)i.push({points:s[u]});else{var h=0,f=Ve(s,function(b){var S=[],E=[];Ms(b,S,E);var I=(E[1]-S[1])*(E[0]-S[0]);return h+=I,{poly:b,area:I}});f.sort(function(b,S){return S.area-b.area});var p=t;for(u=0;u<l;u++){var g=f[u];if(p<=0)break;var v=u===l-1?p:Math.ceil(g.area/h*t);v<0||(jv(GM,{points:g.poly},v,i),p-=v)}}e=Lo}if(!e)return function(b,S){for(var E=[],I=0;I<S;I++)E.push(wr(b));return E}(n,t);var m=[];for(u=0;u<i.length;u++){var y=new e;y.setShape(i[u]),JF(n,y),m.push(y)}return m}(n.path,n.count)}function ZM(n){return rt(n[0])}function JM(n,t){for(var e=[],i=n.length,r=0;r<i;r++)e.push({one:n[r],many:[]});for(r=0;r<t.length;r++){var o=t[r].length,a=void 0;for(a=0;a<o;a++)e[a%i].many.push(t[r][a])}var s=0;for(r=i-1;r>=0;r--)if(!e[r].many.length){var l=e[s].many;if(l.length<=1){if(!s)return e;s=0}o=l.length;var u=Math.ceil(o/2);e[r].many=l.slice(u,o),e[s].many=l.slice(0,u),s++}return e}var iH={clone:function(n){for(var t=[],e=1-Math.pow(1-n.path.style.opacity,1/n.count),i=0;i<n.count;i++){var r=wr(n.path);r.setStyle("opacity",e),t.push(r)}return t},split:null};function A1(n,t,e,i,r,o){if(n.length&&t.length){var a=Wp("update",i,r);if(a&&a.duration>0){var s,l,u=i.getModel("universalTransition").get("delay"),h=Object.assign({setToFinal:!0},a);ZM(n)&&(s=n,l=t),ZM(t)&&(s=t,l=n);for(var f=s?s===n:n.length>t.length,p=s?JM(l,s):JM(f?t:n,[f?n:t]),g=0,v=0;v<p.length;v++)g+=p[v].many.length;var m=0;for(v=0;v<p.length;v++)y(p[v],f,m,g),m+=p[v].many.length}}function y(b,S,E,I,A){var L=b.many,R=b.one;if(1!==L.length||A)for(var k=Ee({dividePath:iH[e],individualDelay:u&&function(ge,me,be,Le){return u(ge+E,I)}},h),H=S?function(ge,me,be){var Le=[];!function Wn(Hn){for(var ar=0;ar<Hn.length;ar++){var Oi=Hn[ar];qv(Oi)?Wn(Oi.childrenRef()):Oi instanceof Mn&&Le.push(Oi)}}(ge);var Ge=Le.length;if(!Ge)return{fromIndividuals:[],toIndividuals:[],count:0};var nt=(be.dividePath||KM)({path:me,count:Ge});if(nt.length!==Ge)return console.error("Invalid morphing: unmatched splitted path"),{fromIndividuals:[],toIndividuals:[],count:0};Le=Zv(Le),nt=Zv(nt);for(var xt=be.done,Je=be.during,dt=be.individualDelay,Dt=new gr,Tt=0;Tt<Ge;Tt++){var It=Le[Tt],Yt=nt[Tt];Yt.parent=me,Yt.copyTransform(Dt),dt||qM(It,Yt)}function Xt(Wn){for(var Hn=0;Hn<nt.length;Hn++)nt[Hn].addSelfToZr(Wn)}function un(){me.__isCombineMorphing=!1,me.__morphT=-1,me.childrenRef=null,rp(me,"addSelfToZr"),rp(me,"removeSelfFromZr")}me.__isCombineMorphing=!0,me.childrenRef=function(){return nt},Kv(me,"addSelfToZr",{after:function(Wn){Xt(Wn)}}),Kv(me,"removeSelfFromZr",{after:function(Wn){for(var Hn=0;Hn<nt.length;Hn++)nt[Hn].removeSelfFromZr(Wn)}});var dn=nt.length;if(dt){var mn=dn,Zi=function(){0==--mn&&(un(),xt&&xt())};for(Tt=0;Tt<dn;Tt++){var Gi=dt?Ee({delay:(be.delay||0)+dt(Tt,dn,Le[Tt],nt[Tt]),done:Zi},be):be;I1(Le[Tt],nt[Tt],Gi)}}else me.__morphT=0,me.animateTo({__morphT:1},Ee({during:function(Wn){for(var Hn=0;Hn<dn;Hn++){var ar=nt[Hn];ar.__morphT=me.__morphT,ar.dirtyShape()}Je&&Je(Wn)},done:function(){un();for(var Wn=0;Wn<ge.length;Wn++)rp(ge[Wn],"updateTransform");xt&&xt()}},be));return me.__zr&&Xt(me.__zr),{fromIndividuals:Le,toIndividuals:nt,count:dn}}(L,R,k):function(ge,me,be){var Le=me.length,Ge=[],nt=be.dividePath||KM;if(qv(ge)){!function Yt(Xt){for(var un=0;un<Xt.length;un++){var dn=Xt[un];qv(dn)?Yt(dn.childrenRef()):dn instanceof Mn&&Ge.push(dn)}}(ge.childrenRef());var xt=Ge.length;if(xt<Le)for(var Je=0,dt=xt;dt<Le;dt++)Ge.push(wr(Ge[Je++%xt]));Ge.length=Le}else{Ge=nt({path:ge,count:Le});var Dt=ge.getComputedTransform();for(dt=0;dt<Ge.length;dt++)Ge[dt].setLocalTransform(Dt);if(Ge.length!==Le)return console.error("Invalid morphing: unmatched splitted path"),{fromIndividuals:[],toIndividuals:[],count:0}}Ge=Zv(Ge),me=Zv(me);var Tt=be.individualDelay;for(dt=0;dt<Le;dt++){var It=Tt?Ee({delay:(be.delay||0)+Tt(dt,Le,Ge[dt],me[dt])},be):be;I1(Ge[dt],me[dt],It)}return{fromIndividuals:Ge,toIndividuals:me,count:me.length}}(R,L,k),U=H.fromIndividuals,G=H.toIndividuals,K=U.length,$=0;$<K;$++)ee=u?Ee({delay:u($,K)},h):h,o(U[$],G[$],S?L[$]:b.one,S?b.one:L[$],ee);else{var ee,le=S?L[0]:R,he=S?R:L[0];qv(le)?y({many:[le],one:he},!0,E,I,!0):(I1(le,he,ee=u?Ee({delay:u(E,I)},h):h),o(le,he,le,he,ee))}}}function zc(n){if(!n)return[];if(rt(n)){for(var t=[],e=0;e<n.length;e++)t.push(zc(n[e]));return t}var i=[];return n.traverse(function(r){r instanceof Mn&&!r.disableMorphing&&!r.invisible&&!r.ignore&&i.push(r)}),i}var rH=Fn();function QM(n){var t=[];return Y(n,function(e){var i=e.data;if(!(i.count()>1e4))for(var r=i.getIndices(),o=function(s){for(var l=s.dimensions,u=0;u<l.length;u++){var h=s.getDimensionInfo(l[u]);if(h&&0===h.otherDims.itemGroupId)return l[u]}}(i),a=0;a<r.length;a++)t.push({data:i,dim:e.dim||o,divide:e.divide,dataIndex:a})}),t}function M1(n,t,e){n.traverse(function(i){i instanceof Mn&&Vi(i,{style:{opacity:0}},t,{dataIndex:e,isFrom:!0})})}function L1(n){if(n.parent){var t=n.getComputedTransform();n.setLocalTransform(t),n.parent.remove(n)}}function ef(n){n.stopAnimation(),n.isGroup&&n.traverse(function(t){t.stopAnimation()})}function $M(n,t,e){var i=QM(n),r=QM(t);function o(b,S,E,I,A){(E||b)&&S.animateFrom({style:(E||b).style},A)}function a(b){for(var S=0;S<b.length;S++)if(b[S].dim)return b[S].dim}var s=a(i),l=a(r),u=!1;function h(b,S){return function(E){var I=E.data,A=E.dataIndex;if(S)return I.getId(A);var L=I.hostModel&&I.hostModel.get("dataGroupId"),R=b?s||l:l||s,k=R&&I.getDimensionInfo(R),H=k&&k.ordinalMeta;if(k){var U=I.get(k.name,A);return H&&H.categories[U]||U+""}var G=I.getRawDataItem(A);return G&&G.groupId?G.groupId+"":L||I.getId(A)}}var f=function(b,S){var E=b.length;if(E!==S.length)return!1;for(var I=0;I<E;I++){var A=b[I],L=S[I];if(A.data.getId(A.dataIndex)!==L.data.getId(L.dataIndex))return!1}return!0}(i,r),p={};if(!f)for(var g=0;g<r.length;g++){var v=r[g],m=v.data.getItemGraphicEl(v.dataIndex);m&&(p[m.id]=!0)}function y(b,S){var E=i[S],I=r[b],A=I.data.hostModel,L=E.data.getItemGraphicEl(E.dataIndex),R=I.data.getItemGraphicEl(I.dataIndex);L!==R?L&&p[L.id]||R&&(ef(R),L?(ef(L),L1(L),u=!0,A1(zc(L),zc(R),I.divide,A,b,o)):M1(R,A,b)):R&&function oH(n,t,e){var i=Wp("update",e,t);i&&n.traverse(function(r){if(r instanceof Na){var o=k1(r).oldStyle;o&&r.animateFrom({style:o},i)}})}(R,I.dataIndex,A)}new Ul(i,r,h(!0,f),h(!1,f),null,"multiple").update(y).updateManyToOne(function(b,S){var E=r[b],I=E.data,A=I.hostModel,L=I.getItemGraphicEl(E.dataIndex),R=jt(Ve(S,function(k){return i[k].data.getItemGraphicEl(i[k].dataIndex)}),function(k){return k&&k!==L&&!p[k.id]});L&&(ef(L),R.length?(Y(R,function(k){ef(k),L1(k)}),u=!0,A1(zc(R),zc(L),E.divide,A,b,o)):M1(L,A,E.dataIndex))}).updateOneToMany(function(b,S){var E=i[S],I=E.data.getItemGraphicEl(E.dataIndex);if(!I||!p[I.id]){var A=jt(Ve(b,function(R){return r[R].data.getItemGraphicEl(r[R].dataIndex)}),function(R){return R&&R!==I}),L=r[b[0]].data.hostModel;A.length&&(Y(A,function(R){return ef(R)}),I?(ef(I),L1(I),u=!0,A1(zc(I),zc(A),E.divide,L,b[0],o)):Y(A,function(R){return M1(R,L,b[0])}))}}).updateManyToMany(function(b,S){new Ul(S,b,function(E){return i[E].data.getId(i[E].dataIndex)},function(E){return r[E].data.getId(r[E].dataIndex)}).update(function(E,I){y(b[E],S[I])}).execute()}).execute(),u&&Y(t,function(b){var S=b.data.hostModel,E=S&&e.getViewOfSeriesModel(S),I=Wp("update",S,0);E&&S.isAnimationEnabled()&&I&&I.duration>0&&E.group.traverse(function(A){A instanceof Mn&&!A.animators.length&&A.animateFrom({style:{opacity:0}},I)})})}function eL(n){return n.getModel("universalTransition").get("seriesKey")||n.id}function tL(n){return rt(n)?n.sort().join(","):n}function Yu(n){if(n.hostModel)return n.hostModel.getModel("universalTransition").get("divideShape")}function nL(n,t){for(var e=0;e<n.length;e++)if(null!=t.seriesIndex&&t.seriesIndex===n[e].seriesIndex||null!=t.seriesId&&t.seriesId===n[e].id)return e}Ln([function(n){n.registerPainter("canvas",uR)}]),Ln([function(n){n.registerPainter("svg",sR)}]),Ln([function(n){n.registerChartView(mR),n.registerSeriesModel(cR),n.registerLayout(Md("line",!0)),n.registerVisual({seriesType:"line",reset:function(t){var e=t.getData(),i=t.getModel("lineStyle").getLineStyle();i&&!i.stroke&&(i.stroke=e.getVisual("style").fill),e.setVisual("legendLineStyle",i)}}),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,uT("line"))},function(n){n.registerChartView(SR),n.registerSeriesModel(xR),n.registerLayout(n.PRIORITY.VISUAL.LAYOUT,Lt(tw,"bar")),n.registerLayout(n.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,yN),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,uT("bar")),n.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(t,e){e.eachComponent({mainType:t.componentType||"series",query:t},function(r){t.sortInfo&&r.axis.setCategorySortInfo(t.sortInfo)})})},function(n){n.registerChartView(LR),n.registerSeriesModel(DR),Ub("pie",n.registerAction),n.registerLayout(Lt(CR,"pie")),n.registerProcessor(Dd("pie")),n.registerProcessor({seriesType:"pie",reset:function(e,i){var r=e.getData();r.filterSelf(function(o){var a=r.mapDimension("value"),s=r.get(a,o);return!("number"==typeof s&&!isNaN(s)&&s<0)})}})},function(n){Ln(WT),n.registerSeriesModel(NR),n.registerChartView(kR),n.registerLayout(Md("scatter"))},function(n){Ln(oO),n.registerChartView(QR),n.registerSeriesModel($R),n.registerLayout(ZR),n.registerProcessor(Dd("radar")),n.registerPreprocessor(JR)},function(n){Ln(uE),n.registerChartView(cO),n.registerSeriesModel(hO),n.registerLayout(dO),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,fO),Ub("map",n.registerAction)},function(n){n.registerChartView(TO),n.registerSeriesModel(DO),n.registerLayout(NO),n.registerVisual(RO),function(t){t.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(e,i){i.eachComponent({mainType:"series",subType:"tree",query:e},function(r){var o=e.dataIndex,a=r.getData().tree.getNodeByDataIndex(o);a.isExpand=!a.isExpand})}),t.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(e,i){i.eachComponent({mainType:"series",subType:"tree",query:e},function(r){var o=m0(r.coordinateSystem,e);r.setCenter&&r.setCenter(o.center),r.setZoom&&r.setZoom(o.zoom)})})}(n)},function(n){n.registerSeriesModel(kO),n.registerChartView(UO),n.registerVisual(GO),n.registerLayout(jO),function(t){for(var e=0;e<_E.length;e++)t.registerAction({type:_E[e],update:"updateView"},OO);t.registerAction({type:"treemapRootToNode",update:"updateView"},function(i,r){r.eachComponent({mainType:"series",subType:"treemap",query:i},function(o,a){var s=Bd(i,["treemapZoomToNode","treemapRootToNode"],o);if(s){var l=o.getViewRoot();l&&(i.direction=w0(l,s.node)?"rollUp":"drillDown"),o.resetViewRoot(s.node)}})})}(n)},function(n){n.registerChartView(rk),n.registerSeriesModel(ak),n.registerProcessor(KO),n.registerVisual(ZO),n.registerVisual(JO),n.registerLayout(QO),n.registerLayout(n.PRIORITY.VISUAL.POST_CHART_LAYOUT,ek),n.registerLayout(tk),n.registerCoordinateSystem("graphView",{dimensions:Uh.dimensions,create:nk}),n.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},function(){}),n.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},function(){}),n.registerAction(sk,function(t,e){e.eachComponent({mainType:"series",query:t},function(i){var r=m0(i.coordinateSystem,t);i.setCenter&&i.setCenter(r.center),i.setZoom&&i.setZoom(r.zoom)})})},function(n){n.registerChartView(ck),n.registerSeriesModel(hk)},function(n){n.registerChartView(pk),n.registerSeriesModel(gk),n.registerLayout(vk),n.registerProcessor(Dd("funnel"))},function(n){Ln(AC),n.registerChartView(mk),n.registerSeriesModel(yk),n.registerVisual(n.PRIORITY.VISUAL.BRUSH,bk)},function(n){n.registerChartView(Yk),n.registerSeriesModel(Xk),n.registerLayout(jk),n.registerVisual(eP),n.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(t,e){e.eachComponent({mainType:"series",subType:"sankey",query:t},function(i){i.setNodePosition(t.dataIndex,[t.localX,t.localY])})})},function(n){n.registerSeriesModel(DC),n.registerChartView(tP),n.registerVisual(oP),n.registerLayout(aP),n.registerTransform(sP)},function(n){n.registerChartView(uP),n.registerSeriesModel(FC),n.registerPreprocessor(pP),n.registerVisual(_P),n.registerLayout(bP)},function(n){n.registerChartView(wP),n.registerSeriesModel(TP),n.registerLayout(Md("effectScatter"))},function(n){n.registerChartView(AP),n.registerSeriesModel(DP),n.registerLayout(WC),n.registerVisual(NP)},function(n){n.registerChartView(OP),n.registerSeriesModel(kP)},function(n){n.registerChartView(BP),n.registerSeriesModel(UP),n.registerLayout(Lt(tw,"pictorialBar"))},function(n){n.registerChartView(zP),n.registerSeriesModel(VP),n.registerLayout(GP),n.registerProcessor(Dd("themeRiver"))},function(n){n.registerChartView(WP),n.registerSeriesModel(YP),n.registerLayout(Lt(XP,"sunburst")),n.registerProcessor(Lt(Dd,"sunburst")),n.registerVisual(jP),function(t){t.registerAction({type:y_,update:"updateView"},function(e,i){i.eachComponent({mainType:"series",subType:"sunburst",query:e},function(r,o){var a=Bd(e,[y_],r);if(a){var s=r.getViewRoot();s&&(e.direction=w0(s,a.node)?"rollUp":"drillDown"),r.resetViewRoot(a.node)}})}),t.registerAction({type:lI,update:"none"},function(e,i,r){e=se({},e),i.eachComponent({mainType:"series",subType:"sunburst",query:e},function(o){var a=Bd(e,[lI],o);a&&(e.dataIndex=a.node.dataIndex)}),r.dispatchAction(se(e,{type:"highlight"}))}),t.registerAction({type:"sunburstUnhighlight",update:"updateView"},function(e,i,r){e=se({},e),r.dispatchAction(se(e,{type:"downplay"}))})}(n)},function(n){n.registerChartView(r2),n.registerSeriesModel(ZP)}]),Ln(function(n){Ln(WT),Ln(qd)}),Ln(function(n){Ln(qd),Dc.registerAxisPointerClass("PolarAxisPointer",_2),n.registerCoordinateSystem("polar",I2),n.registerComponentModel(b2),n.registerComponentView(F2),Hh(n,"angle",S2,P2),Hh(n,"radius",w2,B2),n.registerComponentView(M2),n.registerComponentView(R2),n.registerLayout(Lt(k2,"bar"))}),Ln(uE),Ln(function(n){Ln(qd),Dc.registerAxisPointerClass("SingleAxisPointer",j2),n.registerComponentView(K2),n.registerComponentView(z2),n.registerComponentModel(Dv),Hh(n,"single",Dv,Dv.defaultOption),n.registerCoordinateSystem("single",Y2)}),Ln(AC),Ln(function(n){n.registerComponentModel(Z2),n.registerComponentView($2),n.registerCoordinateSystem("calendar",eB)}),Ln(function(n){n.registerComponentModel(nB),n.registerComponentView(iB),n.registerPreprocessor(tB)}),Ln(function(n){n.registerComponentModel(hB),n.registerComponentView(fB),Kh("saveAsImage",pA),Kh("magicType",pB),Kh("dataView",vB),Kh("dataZoom",SB),Kh("restore",yB),Ln(cB)}),Ln(function(n){Ln(qd),n.registerComponentModel(TB),n.registerComponentView(DB),n.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},function(){}),n.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},function(){})}),Ln(qd),Ln(function(n){n.registerComponentView(FB),n.registerComponentModel(HB),n.registerPreprocessor(RB),n.registerVisual(n.PRIORITY.VISUAL.BRUSH,kB),n.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(t,e){e.eachComponent({mainType:"brush",query:t},function(i){i.setAreas(t.areas)})}),n.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},function(){}),n.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},function(){}),Kh("brush",zB)}),Ln(function(n){n.registerComponentModel(VB),n.registerComponentView(GB)}),Ln(function(n){n.registerComponentModel(qA),n.registerComponentView(XB),n.registerSubTypeDefaulter("timeline",function(){return"slider"}),function(t){t.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(e,i,r){var o=i.getComponent("timeline");return o&&null!=e.currentIndex&&(o.setCurrentIndex(e.currentIndex),!o.get("loop",!0)&&o.isIndexMax()&&o.getPlayState()&&(o.setPlayState(!1),r.dispatchAction({type:"timelinePlayChange",playState:!1,from:e.from}))),i.resetOption("timeline",{replaceMerge:o.get("replaceMerge",!0)}),Ee({currentIndex:o.option.currentIndex},e)}),t.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(e,i){var r=i.getComponent("timeline");r&&null!=e.playState&&r.setPlayState(e.playState)})}(n),n.registerPreprocessor(jB)}),Ln(function(n){n.registerComponentModel(qB),n.registerComponentView(KB),n.registerPreprocessor(function(t){l1(t.series,"markPoint")&&(t.markPoint=t.markPoint||{})})}),Ln(function(n){n.registerComponentModel(ZB),n.registerComponentView($B),n.registerPreprocessor(function(t){l1(t.series,"markLine")&&(t.markLine=t.markLine||{})})}),Ln(function(n){n.registerComponentModel(eF),n.registerComponentView(iF),n.registerPreprocessor(function(t){l1(t.series,"markArea")&&(t.markArea=t.markArea||{})})}),Ln(function(n){Ln(uM),Ln(sF)}),Ln(function(n){Ln(pM),Ln(mM)}),Ln(pM),Ln(mM),Ln(function(n){Ln(RM),Ln(kM)}),Ln(RM),Ln(kM),Ln(function(n){n.registerPreprocessor(BF),n.registerVisual(n.PRIORITY.VISUAL.ARIA,PF)}),Ln(function(n){n.registerTransform(YF),n.registerTransform(XF)}),Ln(function(n){n.registerComponentModel(jF),n.registerComponentView(qF)}),Ln(function(n){n.registerUpdateLifecycle("series:beforeupdate",function(t,e,i){Y(Yn(i.seriesTransition),function(r){Y(Yn(r.to),function(o){for(var a=i.updatedSeries,s=0;s<a.length;s++)(null!=o.seriesIndex&&o.seriesIndex===a[s].seriesIndex||null!=o.seriesId&&o.seriesId===a[s].id)&&(a[s].__universalTransitionEnabled=!0)})})}),n.registerUpdateLifecycle("series:transition",function(t,e,i){var p,g,v,m,y,r=rH(e);if(r.oldSeries&&i.updatedSeries&&i.optionChanged){var o=i.seriesTransition;if(o)Y(Yn(o),function(p){var g,v,m,y,b,S;v=r,m=i,y=e,b=[],S=[],Y(Yn((g=p).from),function(E){var I=nL(v.oldSeries,E);I>=0&&b.push({data:v.oldData[I],divide:Yu(v.oldData[I]),dim:E.dimension})}),Y(Yn(g.to),function(E){var I=nL(m.updatedSeries,E);if(I>=0){var A=m.updatedSeries[I].getData();S.push({data:A,divide:Yu(A),dim:E.dimension})}}),b.length>0&&S.length>0&&$M(b,S,y)});else{var a=(p=r,g=i,v=Ht(),m=Ht(),y=Ht(),Y(p.oldSeries,function(b,S){var E=p.oldData[S],I=eL(b),A=tL(I);m.set(A,E),rt(I)&&Y(I,function(L){y.set(L,{data:E,key:A})})}),Y(g.updatedSeries,function(b){if(b.isUniversalTransitionEnabled()&&b.isAnimationEnabled()){var S=b.getData(),E=eL(b),I=tL(E),A=m.get(I);if(A)v.set(I,{oldSeries:[{divide:Yu(A),data:A}],newSeries:[{divide:Yu(S),data:S}]});else if(rt(E)){var L=[];Y(E,function(H){var U=m.get(H);U&&L.push({divide:Yu(U),data:U})}),L.length&&v.set(I,{oldSeries:L,newSeries:[{data:S,divide:Yu(S)}]})}else{var R=y.get(E);if(R){var k=v.get(R.key);k||(k={oldSeries:[{data:R.data,divide:Yu(R.data)}],newSeries:[]},v.set(R.key,k)),k.newSeries.push({data:S,divide:Yu(S)})}}}}),v);Y(a.keys(),function(p){var g=a.get(p);$M(g.oldSeries,g.newSeries,e)})}Y(i.updatedSeries,function(p){p.__universalTransitionEnabled&&(p.__universalTransitionEnabled=!1)})}for(var s=t.getSeries(),l=r.oldSeries=[],u=r.oldData=[],h=0;h<s.length;h++){var f=s[h].getData();f.count()<1e4&&(l.push(s[h]),u.push(f))}})}),Ln(function(n){n.registerUpdateLifecycle("series:beforeupdate",function(t,e,i){var r=Yy(e).labelManager;r||(r=Yy(e).labelManager=new ZN),r.clearLabels()}),n.registerUpdateLifecycle("series:layoutlabels",function(t,e,i){var r=Yy(e).labelManager;i.updatedSeries.forEach(function(o){r.addLabelsOfSeries(e.getViewOfSeriesModel(o))}),r.updateLayoutConfig(e),r.layout(e),r.processLabelsOverall()})}),oe.Axis=as,oe.ChartView=vi,oe.ComponentModel=Rn,oe.ComponentView=Ni,oe.List=Uo,oe.Model=Qn,oe.PRIORITY=yS,oe.SeriesModel=Ei,oe.color=j,oe.connect=function(n){if(rt(n)){var t=n;n=null,Y(t,function(e){null!=e.group&&(n=e.group)}),n=n||"g_"+iN++,Y(t,function(e){e.group=n})}return Dg[n]=!0,n},oe.dataTool={},oe.dependencies={zrender:"5.2.1"},oe.disConnect=NS,oe.disconnect=rN,oe.dispose=function(n){"string"==typeof n?n=Cc[n]:n instanceof Ag||(n=Sy(n)),n instanceof Ag&&!n.isDisposed()&&n.dispose()},oe.env=ve,oe.extendChartView=function(n){var t=vi.extend(n);return vi.registerClass(t),t},oe.extendComponentModel=function(n){var t=Rn.extend(n);return Rn.registerClass(t),t},oe.extendComponentView=function(n){var t=Ni.extend(n);return Ni.registerClass(t),t},oe.extendSeriesModel=function(n){var t=Ei.extend(n);return Ei.registerClass(t),t},oe.format=PN,oe.getCoordinateSystemDimensions=function(n){var t=bh.get(n);if(t)return t.getDimensionsInfo?t.getDimensionsInfo():t.dimensions.slice()},oe.getInstanceByDom=Sy,oe.getInstanceById=function(n){return Cc[n]},oe.getMap=function(n){return function(n){var t=ld.get(n);return t&&"geoJSON"===t.type&&t.getMapForUser()}(n)},oe.graphic=kN,oe.helper=NN,oe.init=function(n,t,e){var i=Sy(n);if(i)return i;var r=new Ag(n,t,e);return r.id="ec_"+nN++,Cc[r.id]=r,lf(n,by,r.id),IS(r),Hs.trigger("afterinit",r),r},oe.innerDrawElementOnCanvas=iy,oe.matrix=Xu,oe.number=RN,oe.parseGeoJSON=sy,oe.parseGeoJson=sy,oe.registerAction=Us,oe.registerCoordinateSystem=kS,oe.registerLayout=PS,oe.registerLoading=Iy,oe.registerLocale=Sm,oe.registerMap=FS,oe.registerPostInit=RS,oe.registerPostUpdate=OS,oe.registerPreprocessor=Ty,oe.registerProcessor=Ey,oe.registerTheme=wy,oe.registerTransform=HS,oe.registerUpdateLifecycle=Ng,oe.registerVisual=Du,oe.setCanvasCreator=function(n){Me("createCanvas",n)},oe.throttle=ed,oe.time=ON,oe.use=Ln,oe.util=BN,oe.vector=Kt,oe.version="5.2.1",oe.zrUtil=ke,oe.zrender=Vc,Object.defineProperty(oe,"__esModule",{value:!0})}),function(oe,ft){"object"==typeof exports&&typeof module<"u"?module.exports=ft():"function"==typeof define&&define.amd?define(ft):(oe=oe||self).CodeMirror=ft()}(this,function(){"use strict";var oe=navigator.userAgent,ft=navigator.platform,ue=/gecko\/\d/i.test(oe),qe=/MSIE \d/.test(oe),X=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(oe),Ye=/Edge\/(\d+)/.exec(oe),ve=qe||X||Ye,Qe=ve&&(qe?document.documentMode||6:+(Ye||X)[1]),Pe=!Ye&&/WebKit\//.test(oe),st=Pe&&/Qt\/\d+\.\d+/.test(oe),Ce=!Ye&&/Chrome\//.test(oe),yt=/Opera\//.test(oe),St=/Apple Computer/.test(navigator.vendor),Ke=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(oe),it=/PhantomJS/.test(oe),He=St&&(/Mobile\/\w+/.test(oe)||navigator.maxTouchPoints>2),De=/Android/.test(oe),ct=He||De||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(oe),ne=He||/Mac/.test(ft),Me=/\bCrOS\b/.test(oe),Oe=/win/i.test(ft),P=yt&&oe.match(/Version\/(\d*\.\d*)/);P&&(P=Number(P[1])),P&&P>=15&&(yt=!1,Pe=!0);var tt=ne&&(st||yt&&(null==P||P<12.11)),Te=ue||ve&&Qe>=9;function Ie(c){return new RegExp("(^|\\s)"+c+"(?:$|\\s)\\s*")}var C,et=function(c,d){var x=c.className,_=Ie(d).exec(x);if(_){var w=x.slice(_.index+_[0].length);c.className=x.slice(0,_.index)+(w?_[1]+w:"")}};function se(c){for(var d=c.childNodes.length;d>0;--d)c.removeChild(c.firstChild);return c}function Ee(c,d){return se(c).appendChild(d)}function ie(c,d,x,_){var w=document.createElement(c);if(x&&(w.className=x),_&&(w.style.cssText=_),"string"==typeof d)w.appendChild(document.createTextNode(d));else if(d)for(var D=0;D<d.length;++D)w.appendChild(d[D]);return w}function pe(c,d,x,_){var w=ie(c,d,x,_);return w.setAttribute("role","presentation"),w}function lt(c,d){if(3==d.nodeType&&(d=d.parentNode),c.contains)return c.contains(d);do{if(11==d.nodeType&&(d=d.host),d==c)return!0}while(d=d.parentNode)}function gt(){var c;try{c=document.activeElement}catch{c=document.body||null}for(;c&&c.shadowRoot&&c.shadowRoot.activeElement;)c=c.shadowRoot.activeElement;return c}function Y(c,d){var x=c.className;Ie(d).test(x)||(c.className+=(x?" ":"")+d)}function Ve(c,d){for(var x=c.split(" "),_=0;_<x.length;_++)x[_]&&!Ie(x[_]).test(d)&&(d+=" "+x[_]);return d}C=document.createRange?function(c,d,x,_){var w=document.createRange();return w.setEnd(_||c,x),w.setStart(c,d),w}:function(c,d,x){var _=document.body.createTextRange();try{_.moveToElementText(c.parentNode)}catch{return _}return _.collapse(!0),_.moveEnd("character",x),_.moveStart("character",d),_};var zt=function(c){c.select()};function jt(c){var d=Array.prototype.slice.call(arguments,1);return function(){return c.apply(null,d)}}function rn(c,d,x){for(var _ in d||(d={}),c)c.hasOwnProperty(_)&&(!1!==x||!d.hasOwnProperty(_))&&(d[_]=c[_]);return d}function Mt(c,d,x,_,w){null==d&&-1==(d=c.search(/[^\s\u00a0]/))&&(d=c.length);for(var D=_||0,F=w||0;;){var W=c.indexOf("\t",D);if(W<0||W>=d)return F+(d-D);F+=W-D,F+=x-F%x,D=W+1}}He?zt=function(c){c.selectionStart=0,c.selectionEnd=c.value.length}:ve&&(zt=function(c){try{c.select()}catch{}});var mt=function(){this.id=null,this.f=null,this.time=0,this.handler=jt(this.onTimeout,this)};function Lt(c,d){for(var x=0;x<c.length;++x)if(c[x]==d)return x;return-1}mt.prototype.onTimeout=function(c){c.id=0,c.time<=+new Date?c.f():setTimeout(c.handler,c.time-+new Date)},mt.prototype.set=function(c,d){this.f=d;var x=+new Date+c;(!this.id||x<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,c),this.time=x)};var rt=50,sn={toString:function(){return"CodeMirror.Pass"}},Jt={scroll:!1},Pi={origin:"*mouse"},Ci={origin:"+move"};function Bt(c,d,x){for(var _=0,w=0;;){var D=c.indexOf("\t",_);-1==D&&(D=c.length);var F=D-_;if(D==c.length||w+F>=d)return _+Math.min(F,d-w);if(w+=D-_,_=D+1,(w+=x-w%x)>=d)return _}}var xi=[""];function Pn(c){for(;xi.length<=c;)xi.push(Rt(xi)+" ");return xi[c]}function Rt(c){return c[c.length-1]}function ei(c,d){for(var x=[],_=0;_<c.length;_++)x[_]=d(c[_],_);return x}function si(){}function ti(c,d){var x;return Object.create?x=Object.create(c):(si.prototype=c,x=new si),d&&rn(d,x),x}var zn=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function ln(c){return/\w/.test(c)||c>"\x80"&&(c.toUpperCase()!=c.toLowerCase()||zn.test(c))}function ui(c,d){return d?!!(d.source.indexOf("\\w")>-1&&ln(c))||d.test(c):ln(c)}function Wi(c){for(var d in c)if(c.hasOwnProperty(d)&&c[d])return!1;return!0}var Ai=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function ni(c){return c.charCodeAt(0)>=768&&Ai.test(c)}function Ji(c,d,x){for(;(x<0?d>0:d<c.length)&&ni(c.charAt(d));)d+=x;return d}function Ir(c,d,x){for(var _=d>x?-1:1;;){if(d==x)return d;var w=(d+x)/2,D=_<0?Math.ceil(w):Math.floor(w);if(D==d)return c(D)?d:x;c(D)?x=D:d=D+_}}var bi=null;function Yi(c,d,x){var _;bi=null;for(var w=0;w<c.length;++w){var D=c[w];if(D.from<d&&D.to>d)return w;D.to==d&&(D.from!=D.to&&"before"==x?_=w:bi=w),D.from==d&&(D.from!=D.to&&"before"!=x?_=w:bi=w)}return _??bi}var Ht=function(){function x(J){return J<=247?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(J):1424<=J&&J<=1524?"R":1536<=J&&J<=1785?"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111".charAt(J-1536):1774<=J&&J<=2220?"r":8192<=J&&J<=8203?"w":8204==J?"b":"L"}var _=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,w=/[stwN]/,D=/[LRr]/,F=/[Lb1n]/,W=/[1n]/;function q(J,_e,Se){this.level=J,this.from=_e,this.to=Se}return function(J,_e){var Se="ltr"==_e?"L":"R";if(0==J.length||"ltr"==_e&&!_.test(J))return!1;for(var ze=J.length,Be=[],vt=0;vt<ze;++vt)Be.push(x(J.charCodeAt(vt)));for(var Et=0,Pt=Se;Et<ze;++Et){var Wt=Be[Et];"m"==Wt?Be[Et]=Pt:Pt=Wt}for(var Qt=0,Gt=Se;Qt<ze;++Qt){var $t=Be[Qt];"1"==$t&&"r"==Gt?Be[Qt]="n":D.test($t)&&(Gt=$t,"r"==$t&&(Be[Qt]="R"))}for(var vn=1,hn=Be[0];vn<ze-1;++vn){var Bn=Be[vn];"+"==Bn&&"1"==hn&&"1"==Be[vn+1]?Be[vn]="1":","==Bn&&hn==Be[vn+1]&&("1"==hn||"n"==hn)&&(Be[vn]=hn),hn=Bn}for(var Ii=0;Ii<ze;++Ii){var Rr=Be[Ii];if(","==Rr)Be[Ii]="N";else if("%"==Rr){var Ki=void 0;for(Ki=Ii+1;Ki<ze&&"%"==Be[Ki];++Ki);for(var Ao=Ii&&"!"==Be[Ii-1]||Ki<ze&&"1"==Be[Ki]?"1":"N",mo=Ii;mo<Ki;++mo)Be[mo]=Ao;Ii=Ki-1}}for(var dr=0,yo=Se;dr<ze;++dr){var wr=Be[dr];"L"==yo&&"1"==wr?Be[dr]="L":D.test(wr)&&(yo=wr)}for(var Tr=0;Tr<ze;++Tr)if(w.test(Be[Tr])){var gi=void 0;for(gi=Tr+1;gi<ze&&w.test(Be[gi]);++gi);for(var ir="L"==(Tr?Be[Tr-1]:Se),Bl=ir==("L"==(gi<ze?Be[gi]:Se))?ir?"L":"R":Se,pl=Tr;pl<gi;++pl)Be[pl]=Bl;Tr=gi-1}for(var Mo,rr=[],kr=0;kr<ze;)if(F.test(Be[kr])){var Qr=kr;for(++kr;kr<ze&&F.test(Be[kr]);++kr);rr.push(new q(0,Qr,kr))}else{var es=kr,Oa=rr.length,Os="rtl"==_e?1:0;for(++kr;kr<ze&&"L"!=Be[kr];++kr);for(var Pr=es;Pr<kr;)if(W.test(Be[Pr])){es<Pr&&(rr.splice(Oa,0,new q(1,es,Pr)),Oa+=Os);var _o=Pr;for(++Pr;Pr<kr&&W.test(Be[Pr]);++Pr);rr.splice(Oa,0,new q(2,_o,Pr)),Oa+=Os,es=Pr}else++Pr;es<kr&&rr.splice(Oa,0,new q(1,es,kr))}return"ltr"==_e&&(1==rr[0].level&&(Mo=J.match(/^\s+/))&&(rr[0].from=Mo[0].length,rr.unshift(new q(0,0,Mo[0].length))),1==Rt(rr).level&&(Mo=J.match(/\s+$/))&&(Rt(rr).to-=Mo[0].length,rr.push(new q(0,ze-Mo[0].length,ze)))),"rtl"==_e?rr.reverse():rr}}();function Si(c,d){var x=c.order;return null==x&&(x=c.order=Ht(c.text,d)),x}var Qi=[],ut=function(c,d,x){if(c.addEventListener)c.addEventListener(d,x,!1);else if(c.attachEvent)c.attachEvent("on"+d,x);else{var _=c._handlers||(c._handlers={});_[d]=(_[d]||Qi).concat(x)}};function Vn(c,d){return c._handlers&&c._handlers[d]||Qi}function ke(c,d,x){if(c.removeEventListener)c.removeEventListener(d,x,!1);else if(c.detachEvent)c.detachEvent("on"+d,x);else{var _=c._handlers,w=_&&_[d];if(w){var D=Lt(w,x);D>-1&&(_[d]=w.slice(0,D).concat(w.slice(D+1)))}}}function Ae(c,d){var x=Vn(c,d);if(x.length)for(var _=Array.prototype.slice.call(arguments,2),w=0;w<x.length;++w)x[w].apply(null,_)}function z(c,d,x){return"string"==typeof d&&(d={type:d,preventDefault:function(){this.defaultPrevented=!0}}),Ae(c,x||d.type,c,d),tn(d)||d.codemirrorIgnore}function ae(c){var d=c._handlers&&c._handlers.cursorActivity;if(d)for(var x=c.curOp.cursorActivityHandlers||(c.curOp.cursorActivityHandlers=[]),_=0;_<d.length;++_)-1==Lt(x,d[_])&&x.push(d[_])}function ye(c,d){return Vn(c,d).length>0}function Fe(c){c.prototype.on=function(d,x){ut(this,d,x)},c.prototype.off=function(d,x){ke(this,d,x)}}function Xe(c){c.preventDefault?c.preventDefault():c.returnValue=!1}function Vt(c){c.stopPropagation?c.stopPropagation():c.cancelBubble=!0}function tn(c){return null!=c.defaultPrevented?c.defaultPrevented:0==c.returnValue}function bn(c){Xe(c),Vt(c)}function re(c){return c.target||c.srcElement}function Z(c){var d=c.which;return null==d&&(1&c.button?d=1:2&c.button?d=3:4&c.button&&(d=2)),ne&&c.ctrlKey&&1==d&&(d=3),d}var ce,Re,Q=function(){if(ve&&Qe<9)return!1;var c=ie("div");return"draggable"in c||"dragDrop"in c}();function we(c){if(null==ce){var d=ie("span","\u200b");Ee(c,ie("span",[d,document.createTextNode("x")])),0!=c.firstChild.offsetHeight&&(ce=d.offsetWidth<=1&&d.offsetHeight>2&&!(ve&&Qe<8))}var x=ce?ie("span","\u200b"):ie("span","\xa0",null,"display: inline-block; width: 1px; margin-right: -1px");return x.setAttribute("cm-text",""),x}function We(c){if(null!=Re)return Re;var d=Ee(c,document.createTextNode("A\u062eA")),x=C(d,0,1).getBoundingClientRect(),_=C(d,1,2).getBoundingClientRect();return se(c),!(!x||x.left==x.right)&&(Re=_.right-x.right<3)}var c,ot=3!="\n\nb".split(/\n/).length?function(c){for(var d=0,x=[],_=c.length;d<=_;){var w=c.indexOf("\n",d);-1==w&&(w=c.length);var D=c.slice(d,"\r"==c.charAt(w-1)?w-1:w),F=D.indexOf("\r");-1!=F?(x.push(D.slice(0,F)),d+=F+1):(x.push(D),d=w+1)}return x}:function(c){return c.split(/\r\n?|\n/)},$e=window.getSelection?function(c){try{return c.selectionStart!=c.selectionEnd}catch{return!1}}:function(c){var d;try{d=c.ownerDocument.selection.createRange()}catch{}return!(!d||d.parentElement()!=c)&&0!=d.compareEndPoints("StartToEnd",d)},pt="oncopy"in(c=ie("div"))||(c.setAttribute("oncopy","return;"),"function"==typeof c.oncopy),wt=null,Kt={},qt={};function on(c,d){arguments.length>2&&(d.dependencies=Array.prototype.slice.call(arguments,2)),Kt[c]=d}function Mi(c){if("string"==typeof c&&qt.hasOwnProperty(c))c=qt[c];else if(c&&"string"==typeof c.name&&qt.hasOwnProperty(c.name)){var d=qt[c.name];"string"==typeof d&&(d={name:d}),(c=ti(d,c)).name=d.name}else{if("string"==typeof c&&/^[\w\-]+\/[\w\-]+\+xml$/.test(c))return Mi("application/xml");if("string"==typeof c&&/^[\w\-]+\/[\w\-]+\+json$/.test(c))return Mi("application/json")}return"string"==typeof c?{name:c}:c||{name:"null"}}function Xi(c,d){d=Mi(d);var x=Kt[d.name];if(!x)return Xi(c,"text/plain");var _=x(c,d);if(ii.hasOwnProperty(d.name)){var w=ii[d.name];for(var D in w)w.hasOwnProperty(D)&&(_.hasOwnProperty(D)&&(_["_"+D]=_[D]),_[D]=w[D])}if(_.name=d.name,d.helperType&&(_.helperType=d.helperType),d.modeProps)for(var F in d.modeProps)_[F]=d.modeProps[F];return _}var ii={};function sr(c,d){rn(d,ii.hasOwnProperty(c)?ii[c]:ii[c]={})}function Fi(c,d){if(!0===d)return d;if(c.copyState)return c.copyState(d);var x={};for(var _ in d){var w=d[_];w instanceof Array&&(w=w.concat([])),x[_]=w}return x}function pr(c,d){for(var x;c.innerMode&&(x=c.innerMode(d))&&x.mode!=c;)d=x.state,c=x.mode;return x||{mode:c,state:d}}function lo(c,d,x){return!c.startState||c.startState(d,x)}var Kn=function(c,d,x){this.pos=this.start=0,this.string=c,this.tabSize=d||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=x};function en(c,d){if((d-=c.first)<0||d>=c.size)throw new Error("There is no line "+(d+c.first)+" in the document.");for(var x=c;!x.lines;)for(var _=0;;++_){var w=x.children[_],D=w.chunkSize();if(d<D){x=w;break}d-=D}return x.lines[d]}function to(c,d,x){var _=[],w=d.line;return c.iter(d.line,x.line+1,function(D){var F=D.text;w==x.line&&(F=F.slice(0,x.ch)),w==d.line&&(F=F.slice(d.ch)),_.push(F),++w}),_}function lr(c,d,x){var _=[];return c.iter(d,x,function(w){_.push(w.text)}),_}function ur(c,d){var x=d-c.height;if(x)for(var _=c;_;_=_.parent)_.height+=x}function An(c){if(null==c.parent)return null;for(var d=c.parent,x=Lt(d.lines,c),_=d.parent;_;d=_,_=_.parent)for(var w=0;_.children[w]!=d;++w)x+=_.children[w].chunkSize();return x+d.first}function Ur(c,d){var x=c.first;e:do{for(var _=0;_<c.children.length;++_){var w=c.children[_],D=w.height;if(d<D){c=w;continue e}d-=D,x+=w.chunkSize()}return x}while(!c.lines);for(var F=0;F<c.lines.length;++F){var q=c.lines[F].height;if(d<q)break;d-=q}return x+F}function Mr(c,d){return d>=c.first&&d<c.first+c.size}function hs(c,d){return String(c.lineNumberFormatter(d+c.firstLineNumber))}function Ot(c,d,x){if(void 0===x&&(x=null),!(this instanceof Ot))return new Ot(c,d,x);this.line=c,this.ch=d,this.sticky=x}function Sn(c,d){return c.line-d.line||c.ch-d.ch}function sa(c,d){return c.sticky==d.sticky&&0==Sn(c,d)}function ya(c){return Ot(c.line,c.ch)}function fs(c,d){return Sn(c,d)<0?d:c}function zr(c,d){return Sn(c,d)<0?c:d}function _a(c,d){return Math.max(c.first,Math.min(d,c.first+c.size-1))}function xn(c,d){if(d.line<c.first)return Ot(c.first,0);var x=c.first+c.size-1;return d.line>x?Ot(x,en(c,x).text.length):function bl(c,d){var x=c.ch;return null==x||x>d?Ot(c.line,d):x<0?Ot(c.line,0):c}(d,en(c,d.line).text.length)}function Zl(c,d){for(var x=[],_=0;_<d.length;_++)x[_]=xn(c,d[_]);return x}Kn.prototype.eol=function(){return this.pos>=this.string.length},Kn.prototype.sol=function(){return this.pos==this.lineStart},Kn.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Kn.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Kn.prototype.eat=function(c){var d=this.string.charAt(this.pos);if("string"==typeof c?d==c:d&&(c.test?c.test(d):c(d)))return++this.pos,d},Kn.prototype.eatWhile=function(c){for(var d=this.pos;this.eat(c););return this.pos>d},Kn.prototype.eatSpace=function(){for(var c=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>c},Kn.prototype.skipToEnd=function(){this.pos=this.string.length},Kn.prototype.skipTo=function(c){var d=this.string.indexOf(c,this.pos);if(d>-1)return this.pos=d,!0},Kn.prototype.backUp=function(c){this.pos-=c},Kn.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Mt(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?Mt(this.string,this.lineStart,this.tabSize):0)},Kn.prototype.indentation=function(){return Mt(this.string,null,this.tabSize)-(this.lineStart?Mt(this.string,this.lineStart,this.tabSize):0)},Kn.prototype.match=function(c,d,x){if("string"!=typeof c){var D=this.string.slice(this.pos).match(c);return D&&D.index>0?null:(D&&!1!==d&&(this.pos+=D[0].length),D)}var _=function(F){return x?F.toLowerCase():F};if(_(this.string.substr(this.pos,c.length))==_(c))return!1!==d&&(this.pos+=c.length),!0},Kn.prototype.current=function(){return this.string.slice(this.start,this.pos)},Kn.prototype.hideFirstChars=function(c,d){this.lineStart+=c;try{return d()}finally{this.lineStart-=c}},Kn.prototype.lookAhead=function(c){var d=this.lineOracle;return d&&d.lookAhead(c)},Kn.prototype.baseToken=function(){var c=this.lineOracle;return c&&c.baseToken(this.pos)};var uo=function(c,d){this.state=c,this.lookAhead=d},cr=function(c,d,x,_){this.state=d,this.doc=c,this.line=x,this.maxLookAhead=_||0,this.baseTokens=null,this.baseTokenPos=1};function ds(c,d,x,_){var w=[c.state.modeGen],D={};js(c,d.text,c.doc.mode,x,function(J,_e){return w.push(J,_e)},D,_);for(var F=x.state,W=function(J){x.baseTokens=w;var _e=c.state.overlays[J],Se=1,ze=0;x.state=!0,js(c,d.text,_e.mode,x,function(Be,vt){for(var Et=Se;ze<Be;){var Pt=w[Se];Pt>Be&&w.splice(Se,1,Be,w[Se+1],Pt),Se+=2,ze=Math.min(Be,Pt)}if(vt)if(_e.opaque)w.splice(Et,Se-Et,Be,"overlay "+vt),Se=Et+2;else for(;Et<Se;Et+=2){var Wt=w[Et+1];w[Et+1]=(Wt?Wt+" ":"")+"overlay "+vt}},D),x.state=F,x.baseTokens=null,x.baseTokenPos=1},q=0;q<c.state.overlays.length;++q)W(q);return{styles:w,classes:D.bgClass||D.textClass?D:null}}function Ws(c,d,x){if(!d.styles||d.styles[0]!=c.state.modeGen){var _=No(c,An(d)),w=d.text.length>c.options.maxHighlightLength&&Fi(c.doc.mode,_.state),D=ds(c,d,_);w&&(_.state=w),d.stateAfter=_.save(!w),d.styles=D.styles,D.classes?d.styleClasses=D.classes:d.styleClasses&&(d.styleClasses=null),x===c.doc.highlightFrontier&&(c.doc.modeFrontier=Math.max(c.doc.modeFrontier,++c.doc.highlightFrontier))}return d.styles}function No(c,d,x){var _=c.doc,w=c.display;if(!_.mode.startState)return new cr(_,!0,d);var D=function gs(c,d,x){for(var _,w,D=c.doc,F=x?-1:d-(c.doc.mode.innerMode?1e3:100),W=d;W>F;--W){if(W<=D.first)return D.first;var q=en(D,W-1),J=q.stateAfter;if(J&&(!x||W+(J instanceof uo?J.lookAhead:0)<=D.modeFrontier))return W;var _e=Mt(q.text,null,c.options.tabSize);(null==w||_>_e)&&(w=W-1,_=_e)}return w}(c,d,x),F=D>_.first&&en(_,D-1).stateAfter,W=F?cr.fromSaved(_,F,D):new cr(_,lo(_.mode),D);return _.iter(D,d,function(q){Ys(c,q.text,W);var J=W.line;q.stateAfter=J==d-1||J%5==0||J>=w.viewFrom&&J<w.viewTo?W.save():null,W.nextLine()}),x&&(_.modeFrontier=W.line),W}function Ys(c,d,x,_){var w=c.doc.mode,D=new Kn(d,c.options.tabSize,x);for(D.start=D.pos=_||0,""==d&&la(w,x.state);!D.eol();)ps(w,D,x.state),D.start=D.pos}function la(c,d){if(c.blankLine)return c.blankLine(d);if(c.innerMode){var x=pr(c,d);if(x.mode.blankLine)return x.mode.blankLine(x.state)}}function ps(c,d,x,_){for(var w=0;w<10;w++){_&&(_[0]=pr(c,x).mode);var D=c.token(d,x);if(d.pos>d.start)return D}throw new Error("Mode "+c.name+" failed to advance stream.")}cr.prototype.lookAhead=function(c){var d=this.doc.getLine(this.line+c);return null!=d&&c>this.maxLookAhead&&(this.maxLookAhead=c),d},cr.prototype.baseToken=function(c){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=c;)this.baseTokenPos+=2;var d=this.baseTokens[this.baseTokenPos+1];return{type:d&&d.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-c}},cr.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},cr.fromSaved=function(c,d,x){return d instanceof uo?new cr(c,Fi(c.mode,d.state),x,d.lookAhead):new cr(c,Fi(c.mode,d),x)},cr.prototype.save=function(c){var d=!1!==c?Fi(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new uo(d,this.maxLookAhead):d};var Ha=function(c,d,x){this.start=c.start,this.end=c.pos,this.string=c.current(),this.type=d||null,this.state=x};function Sl(c,d,x,_){var F,_e,w=c.doc,D=w.mode,W=en(w,(d=xn(w,d)).line),q=No(c,d.line,x),J=new Kn(W.text,c.options.tabSize,q);for(_&&(_e=[]);(_||J.pos<d.ch)&&!J.eol();)J.start=J.pos,F=ps(D,J,q.state),_&&_e.push(new Ha(J,F,Fi(w.mode,q.state)));return _?_e:new Ha(J,F,q.state)}function Xs(c,d){if(c)for(;;){var x=c.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!x)break;c=c.slice(0,x.index)+c.slice(x.index+x[0].length);var _=x[1]?"bgClass":"textClass";null==d[_]?d[_]=x[2]:new RegExp("(?:^|\\s)"+x[2]+"(?:$|\\s)").test(d[_])||(d[_]+=" "+x[2])}return c}function js(c,d,x,_,w,D,F){var W=x.flattenSpans;null==W&&(W=c.options.flattenSpans);var Se,q=0,J=null,_e=new Kn(d,c.options.tabSize,_),ze=c.options.addModeClass&&[null];for(""==d&&Xs(la(x,_.state),D);!_e.eol();){if(_e.pos>c.options.maxHighlightLength?(W=!1,F&&Ys(c,d,_,_e.pos),_e.pos=d.length,Se=null):Se=Xs(ps(x,_e,_.state,ze),D),ze){var Be=ze[0].name;Be&&(Se="m-"+(Se?Be+" "+Se:Be))}if(!W||J!=Se){for(;q<_e.start;)w(q=Math.min(_e.start,q+5e3),J);J=Se}_e.start=_e.pos}for(;q<_e.pos;){var vt=Math.min(_e.pos,q+5e3);w(vt,J),q=vt}}var wl=!1,Go=!1;function Vr(c,d,x){this.marker=c,this.from=d,this.to=x}function Wo(c,d){if(c)for(var x=0;x<c.length;++x){var _=c[x];if(_.marker==d)return _}}function Ks(c,d){for(var x,_=0;_<c.length;++_)c[_]!=d&&(x||(x=[])).push(c[_]);return x}function xr(c,d){if(d.full)return null;var x=Mr(c,d.from.line)&&en(c,d.from.line).markedSpans,_=Mr(c,d.to.line)&&en(c,d.to.line).markedSpans;if(!x&&!_)return null;var w=d.from.ch,D=d.to.ch,F=0==Sn(d.from,d.to),W=function vs(c,d,x){var _;if(c)for(var w=0;w<c.length;++w){var D=c[w],F=D.marker;null!=D.from&&!(F.inclusiveLeft?D.from<=d:D.from<d)&&(D.from!=d||"bookmark"!=F.type||x&&D.marker.insertLeft)||(_||(_=[])).push(new Vr(F,D.from,null==D.to||(F.inclusiveRight?D.to>=d:D.to>d)?null:D.to))}return _}(x,w,F),q=function Ro(c,d,x){var _;if(c)for(var w=0;w<c.length;++w){var D=c[w],F=D.marker;(null==D.to||(F.inclusiveRight?D.to>=d:D.to>d)||D.from==d&&"bookmark"==F.type&&(!x||D.marker.insertLeft))&&(_||(_=[])).push(new Vr(F,null==D.from||(F.inclusiveLeft?D.from<=d:D.from<d)?null:D.from-d,null==D.to?null:D.to-d))}return _}(_,D,F),J=1==d.text.length,_e=Rt(d.text).length+(J?w:0);if(W)for(var Se=0;Se<W.length;++Se){var ze=W[Se];if(null==ze.to){var Be=Wo(q,ze.marker);Be?J&&(ze.to=null==Be.to?null:Be.to+_e):ze.to=w}}if(q)for(var vt=0;vt<q.length;++vt){var Et=q[vt];null!=Et.to&&(Et.to+=_e),null==Et.from?Wo(W,Et.marker)||(Et.from=_e,J&&(W||(W=[])).push(Et)):(Et.from+=_e,J&&(W||(W=[])).push(Et))}W&&(W=Ua(W)),q&&q!=W&&(q=Ua(q));var Wt=[W];if(!J){var Gt,Qt=d.text.length-2;if(Qt>0&&W)for(var $t=0;$t<W.length;++$t)null==W[$t].to&&(Gt||(Gt=[])).push(new Vr(W[$t].marker,null,null));for(var vn=0;vn<Qt;++vn)Wt.push(Gt);Wt.push(q)}return Wt}function Ua(c){for(var d=0;d<c.length;++d){var x=c[d];null!=x.from&&x.from==x.to&&!1!==x.marker.clearWhenEmpty&&c.splice(d--,1)}return c.length?c:null}function ms(c){var d=c.markedSpans;if(d){for(var x=0;x<d.length;++x)d[x].marker.detachLine(c);c.markedSpans=null}}function no(c,d){if(d){for(var x=0;x<d.length;++x)d[x].marker.attachLine(c);c.markedSpans=d}}function ji(c){return c.inclusiveLeft?-1:0}function ba(c){return c.inclusiveRight?1:0}function Sa(c,d){var x=c.lines.length-d.lines.length;if(0!=x)return x;var _=c.find(),w=d.find(),D=Sn(_.from,w.from)||ji(c)-ji(d);return D?-D:Sn(_.to,w.to)||ba(c)-ba(d)||d.id-c.id}function Js(c,d){var _,x=Go&&c.markedSpans;if(x)for(var w=void 0,D=0;D<x.length;++D)(w=x[D]).marker.collapsed&&null==(d?w.from:w.to)&&(!_||Sa(_,w.marker)<0)&&(_=w.marker);return _}function wa(c){return Js(c,!0)}function ys(c){return Js(c,!1)}function T(c,d){var _,x=Go&&c.markedSpans;if(x)for(var w=0;w<x.length;++w){var D=x[w];D.marker.collapsed&&(null==D.from||D.from<d)&&(null==D.to||D.to>d)&&(!_||Sa(_,D.marker)<0)&&(_=D.marker)}return _}function O(c,d,x,_,w){var D=en(c,d),F=Go&&D.markedSpans;if(F)for(var W=0;W<F.length;++W){var q=F[W];if(q.marker.collapsed){var J=q.marker.find(0),_e=Sn(J.from,x)||ji(q.marker)-ji(w),Se=Sn(J.to,_)||ba(q.marker)-ba(w);if(!(_e>=0&&Se<=0||_e<=0&&Se>=0)&&(_e<=0&&(q.marker.inclusiveRight&&w.inclusiveLeft?Sn(J.to,x)>=0:Sn(J.to,x)>0)||_e>=0&&(q.marker.inclusiveRight&&w.inclusiveLeft?Sn(J.from,_)<=0:Sn(J.from,_)<0)))return!0}}}function N(c){for(var d;d=wa(c);)c=d.find(-1,!0).line;return c}function V(c,d){var x=en(c,d),_=N(x);return x==_?d:An(_)}function j(c,d){if(d>c.lastLine())return d;var _,x=en(c,d);if(!te(c,x))return d;for(;_=ys(x);)x=_.find(1,!0).line;return An(x)+1}function te(c,d){var x=Go&&d.markedSpans;if(x)for(var _=void 0,w=0;w<x.length;++w)if((_=x[w]).marker.collapsed){if(null==_.from)return!0;if(!_.marker.widgetNode&&0==_.from&&_.marker.inclusiveLeft&&fe(c,d,_))return!0}}function fe(c,d,x){if(null==x.to){var _=x.marker.find(1,!0);return fe(c,_.line,Wo(_.line.markedSpans,x.marker))}if(x.marker.inclusiveRight&&x.to==d.text.length)return!0;for(var w=void 0,D=0;D<d.markedSpans.length;++D)if((w=d.markedSpans[D]).marker.collapsed&&!w.marker.widgetNode&&w.from==x.to&&(null==w.to||w.to!=x.from)&&(w.marker.inclusiveLeft||x.marker.inclusiveRight)&&fe(c,d,w))return!0}function xe(c){for(var d=0,x=(c=N(c)).parent,_=0;_<x.lines.length;++_){var w=x.lines[_];if(w==c)break;d+=w.height}for(var D=x.parent;D;D=(x=D).parent)for(var F=0;F<D.children.length;++F){var W=D.children[F];if(W==x)break;d+=W.height}return d}function Ze(c){if(0==c.height)return 0;for(var x,d=c.text.length,_=c;x=wa(_);){var w=x.find(0,!0);_=w.from.line,d+=w.from.ch-w.to.ch}for(_=c;x=ys(_);){var D=x.find(0,!0);d-=_.text.length-D.from.ch,d+=(_=D.to.line).text.length-D.to.ch}return d}function bt(c){var d=c.display,x=c.doc;d.maxLine=en(x,x.first),d.maxLineLength=Ze(d.maxLine),d.maxLineChanged=!0,x.iter(function(_){var w=Ze(_);w>d.maxLineLength&&(d.maxLineLength=w,d.maxLine=_)})}var at=function(c,d,x){this.text=c,no(this,d),this.height=x?x(this):1};function nn(c){c.parent=null,ms(c)}at.prototype.lineNo=function(){return An(this)},Fe(at);var fn={},an={};function wi(c,d){if(!c||/^\s*$/.test(c))return null;var x=d.addModeClass?an:fn;return x[c]||(x[c]=c.replace(/\S+/g,"cm-$&"))}function $i(c,d){var x=pe("span",null,null,Pe?"padding-right: .1px":null),_={pre:pe("pre",[x],"CodeMirror-line"),content:x,col:0,pos:0,cm:c,trailingSpace:!1,splitSpaces:c.getOption("lineWrapping")};d.measure={};for(var w=0;w<=(d.rest?d.rest.length:0);w++){var D=w?d.rest[w-1]:d.line,F=void 0;_.pos=0,_.addToken=li,We(c.display.measure)&&(F=Si(D,c.doc.direction))&&(_.addToken=Gr(_.addToken,F)),_.map=[],Li(D,_,Ws(c,D,d!=c.display.externalMeasured&&An(D))),D.styleClasses&&(D.styleClasses.bgClass&&(_.bgClass=Ve(D.styleClasses.bgClass,_.bgClass||"")),D.styleClasses.textClass&&(_.textClass=Ve(D.styleClasses.textClass,_.textClass||""))),0==_.map.length&&_.map.push(0,0,_.content.appendChild(we(c.display.measure))),0==w?(d.measure.map=_.map,d.measure.cache={}):((d.measure.maps||(d.measure.maps=[])).push(_.map),(d.measure.caches||(d.measure.caches=[])).push({}))}if(Pe){var q=_.content.lastChild;(/\bcm-tab\b/.test(q.className)||q.querySelector&&q.querySelector(".cm-tab"))&&(_.content.className="cm-tab-wrap-hack")}return Ae(c,"renderLine",c,d.line,_.pre),_.pre.className&&(_.textClass=Ve(_.pre.className,_.textClass||"")),_}function co(c){var d=ie("span","\u2022","cm-invalidchar");return d.title="\\u"+c.charCodeAt(0).toString(16),d.setAttribute("aria-label",d.title),d}function li(c,d,x,_,w,D,F){if(d){var _e,W=c.splitSpaces?function Dn(c,d){if(c.length>1&&!/  /.test(c))return c;for(var x=d,_="",w=0;w<c.length;w++){var D=c.charAt(w);" "==D&&x&&(w==c.length-1||32==c.charCodeAt(w+1))&&(D="\xa0"),_+=D,x=" "==D}return _}(d,c.trailingSpace):d,q=c.cm.state.specialChars,J=!1;if(q.test(d)){_e=document.createDocumentFragment();for(var Se=0;;){q.lastIndex=Se;var ze=q.exec(d),Be=ze?ze.index-Se:d.length-Se;if(Be){var vt=document.createTextNode(W.slice(Se,Se+Be));_e.appendChild(ve&&Qe<9?ie("span",[vt]):vt),c.map.push(c.pos,c.pos+Be,vt),c.col+=Be,c.pos+=Be}if(!ze)break;Se+=Be+1;var Et=void 0;if("\t"==ze[0]){var Pt=c.cm.options.tabSize,Wt=Pt-c.col%Pt;(Et=_e.appendChild(ie("span",Pn(Wt),"cm-tab"))).setAttribute("role","presentation"),Et.setAttribute("cm-text","\t"),c.col+=Wt}else"\r"==ze[0]||"\n"==ze[0]?((Et=_e.appendChild(ie("span","\r"==ze[0]?"\u240d":"\u2424","cm-invalidchar"))).setAttribute("cm-text",ze[0]),c.col+=1):((Et=c.cm.options.specialCharPlaceholder(ze[0])).setAttribute("cm-text",ze[0]),_e.appendChild(ve&&Qe<9?ie("span",[Et]):Et),c.col+=1);c.map.push(c.pos,c.pos+1,Et),c.pos++}}else c.col+=d.length,_e=document.createTextNode(W),c.map.push(c.pos,c.pos+d.length,_e),ve&&Qe<9&&(J=!0),c.pos+=d.length;if(c.trailingSpace=32==W.charCodeAt(d.length-1),x||_||w||J||D||F){var Qt=x||"";_&&(Qt+=_),w&&(Qt+=w);var Gt=ie("span",[_e],Qt,D);if(F)for(var $t in F)F.hasOwnProperty($t)&&"style"!=$t&&"class"!=$t&&Gt.setAttribute($t,F[$t]);return c.content.appendChild(Gt)}c.content.appendChild(_e)}}function Gr(c,d){return function(x,_,w,D,F,W,q){w=w?w+" cm-force-border":"cm-force-border";for(var J=x.pos,_e=J+_.length;;){for(var Se=void 0,ze=0;ze<d.length&&!((Se=d[ze]).to>J&&Se.from<=J);ze++);if(Se.to>=_e)return c(x,_,w,D,F,W,q);c(x,_.slice(0,Se.to-J),w,D,null,W,q),D=null,_=_.slice(Se.to-J),J=Se.to}}}function Zn(c,d,x,_){var w=!_&&x.widgetNode;w&&c.map.push(c.pos,c.pos+d,w),!_&&c.cm.display.input.needsContentAttribute&&(w||(w=c.content.appendChild(document.createElement("span"))),w.setAttribute("cm-marker",x.id)),w&&(c.cm.display.input.setUneditable(w),c.content.appendChild(w)),c.pos+=d,c.trailingSpace=!1}function Li(c,d,x){var _=c.markedSpans,w=c.text,D=0;if(_)for(var Se,ze,vt,Et,Pt,Wt,Qt,W=w.length,q=0,J=1,_e="",Be=0;;){if(Be==q){vt=Et=Pt=ze="",Qt=null,Wt=null,Be=1/0;for(var Gt=[],$t=void 0,vn=0;vn<_.length;++vn){var hn=_[vn],Bn=hn.marker;if("bookmark"==Bn.type&&hn.from==q&&Bn.widgetNode)Gt.push(Bn);else if(hn.from<=q&&(null==hn.to||hn.to>q||Bn.collapsed&&hn.to==q&&hn.from==q)){if(null!=hn.to&&hn.to!=q&&Be>hn.to&&(Be=hn.to,Et=""),Bn.className&&(vt+=" "+Bn.className),Bn.css&&(ze=(ze?ze+";":"")+Bn.css),Bn.startStyle&&hn.from==q&&(Pt+=" "+Bn.startStyle),Bn.endStyle&&hn.to==Be&&($t||($t=[])).push(Bn.endStyle,hn.to),Bn.title&&((Qt||(Qt={})).title=Bn.title),Bn.attributes)for(var Ii in Bn.attributes)(Qt||(Qt={}))[Ii]=Bn.attributes[Ii];Bn.collapsed&&(!Wt||Sa(Wt.marker,Bn)<0)&&(Wt=hn)}else hn.from>q&&Be>hn.from&&(Be=hn.from)}if($t)for(var Rr=0;Rr<$t.length;Rr+=2)$t[Rr+1]==Be&&(Et+=" "+$t[Rr]);if(!Wt||Wt.from==q)for(var Ki=0;Ki<Gt.length;++Ki)Zn(d,0,Gt[Ki]);if(Wt&&(Wt.from||0)==q){if(Zn(d,(null==Wt.to?W+1:Wt.to)-q,Wt.marker,null==Wt.from),null==Wt.to)return;Wt.to==q&&(Wt=!1)}}if(q>=W)break;for(var Ao=Math.min(W,Be);;){if(_e){var mo=q+_e.length;if(!Wt){var dr=mo>Ao?_e.slice(0,Ao-q):_e;d.addToken(d,dr,Se?Se+vt:vt,Pt,q+dr.length==Be?Et:"",ze,Qt)}if(mo>=Ao){_e=_e.slice(Ao-q),q=Ao;break}q=mo,Pt=""}_e=w.slice(D,D=x[J++]),Se=wi(x[J++],d.cm.options)}}else for(var F=1;F<x.length;F+=2)d.addToken(d,w.slice(D,D=x[F]),wi(x[F+1],d.cm.options))}function za(c,d,x){this.line=d,this.rest=function B(c){for(var d,x;d=ys(c);)c=d.find(1,!0).line,(x||(x=[])).push(c);return x}(d),this.size=this.rest?An(Rt(this.rest))-x+1:1,this.node=this.text=null,this.hidden=te(c,d)}function _s(c,d,x){for(var w,_=[],D=d;D<x;D=w){var F=new za(c.doc,en(c.doc,D),D);w=D+F.size,_.push(F)}return _}var br=null,Xo=null;function hi(c,d){var x=Vn(c,d);if(x.length){var w,_=Array.prototype.slice.call(arguments,2);br?w=br.delayedCallbacks:Xo?w=Xo:(w=Xo=[],setTimeout(ri,0));for(var D=function(W){w.push(function(){return x[W].apply(null,_)})},F=0;F<x.length;++F)D(F)}}function ri(){var c=Xo;Xo=null;for(var d=0;d<c.length;++d)c[d]()}function Yr(c,d,x,_){for(var w=0;w<d.changes.length;w++){var D=d.changes[w];"text"==D?oi(c,d):"gutter"==D?ho(c,d,x,_):"class"==D?qi(c,d):"widget"==D&&er(c,d,_)}d.changes=null}function Lr(c){return c.node==c.text&&(c.node=ie("div",null,null,"position: relative"),c.text.parentNode&&c.text.parentNode.replaceChild(c.node,c.text),c.node.appendChild(c.text),ve&&Qe<8&&(c.node.style.zIndex=2)),c.node}function In(c,d){var x=c.display.externalMeasured;return x&&x.line==d.line?(c.display.externalMeasured=null,d.measure=x.measure,x.built):$i(c,d)}function oi(c,d){var x=d.text.className,_=In(c,d);d.text==d.node&&(d.node=_.pre),d.text.parentNode.replaceChild(_.pre,d.text),d.text=_.pre,_.bgClass!=d.bgClass||_.textClass!=d.textClass?(d.bgClass=_.bgClass,d.textClass=_.textClass,qi(c,d)):x&&(d.text.className=x)}function qi(c,d){(function ua(c,d){var x=d.bgClass?d.bgClass+" "+(d.line.bgClass||""):d.line.bgClass;if(x&&(x+=" CodeMirror-linebackground"),d.background)x?d.background.className=x:(d.background.parentNode.removeChild(d.background),d.background=null);else if(x){var _=Lr(d);d.background=_.insertBefore(ie("div",null,x),_.firstChild),c.display.input.setUneditable(d.background)}})(c,d),d.line.wrapClass?Lr(d).className=d.line.wrapClass:d.node!=d.text&&(d.node.className=""),d.text.className=(d.textClass?d.textClass+" "+(d.line.textClass||""):d.line.textClass)||""}function ho(c,d,x,_){if(d.gutter&&(d.node.removeChild(d.gutter),d.gutter=null),d.gutterBackground&&(d.node.removeChild(d.gutterBackground),d.gutterBackground=null),d.line.gutterClass){var w=Lr(d);d.gutterBackground=ie("div",null,"CodeMirror-gutter-background "+d.line.gutterClass,"left: "+(c.options.fixedGutter?_.fixedPos:-_.gutterTotalWidth)+"px; width: "+_.gutterTotalWidth+"px"),c.display.input.setUneditable(d.gutterBackground),w.insertBefore(d.gutterBackground,d.text)}var D=d.line.gutterMarkers;if(c.options.lineNumbers||D){var F=Lr(d),W=d.gutter=ie("div",null,"CodeMirror-gutter-wrapper","left: "+(c.options.fixedGutter?_.fixedPos:-_.gutterTotalWidth)+"px");if(W.setAttribute("aria-hidden","true"),c.display.input.setUneditable(W),F.insertBefore(W,d.text),d.line.gutterClass&&(W.className+=" "+d.line.gutterClass),c.options.lineNumbers&&(!D||!D["CodeMirror-linenumbers"])&&(d.lineNumber=W.appendChild(ie("div",hs(c.options,x),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+_.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+c.display.lineNumInnerWidth+"px"))),D)for(var q=0;q<c.display.gutterSpecs.length;++q){var J=c.display.gutterSpecs[q].className,_e=D.hasOwnProperty(J)&&D[J];_e&&W.appendChild(ie("div",[_e],"CodeMirror-gutter-elt","left: "+_.gutterLeft[J]+"px; width: "+_.gutterWidth[J]+"px"))}}}function er(c,d,x){d.alignable&&(d.alignable=null);for(var _=Ie("CodeMirror-linewidget"),w=d.node.firstChild,D=void 0;w;w=D)D=w.nextSibling,_.test(w.className)&&d.node.removeChild(w);Ta(c,d,x)}function Xr(c,d,x,_){var w=In(c,d);return d.text=d.node=w.pre,w.bgClass&&(d.bgClass=w.bgClass),w.textClass&&(d.textClass=w.textClass),qi(c,d),ho(c,d,x,_),Ta(c,d,_),d.node}function Ta(c,d,x){if(xs(c,d.line,d,x,!0),d.rest)for(var _=0;_<d.rest.length;_++)xs(c,d.rest[_],d,x,!1)}function xs(c,d,x,_,w){if(d.widgets)for(var D=Lr(x),F=0,W=d.widgets;F<W.length;++F){var q=W[F],J=ie("div",[q.node],"CodeMirror-linewidget"+(q.className?" "+q.className:""));q.handleMouseEvents||J.setAttribute("cm-ignore-events","true"),nf(q,J,x,_),c.display.input.setUneditable(J),w&&q.above?D.insertBefore(J,x.gutter||x.text):D.appendChild(J),hi(q,"redraw")}}function nf(c,d,x,_){if(c.noHScroll){(x.alignable||(x.alignable=[])).push(d);var w=_.wrapperWidth;d.style.left=_.fixedPos+"px",c.coverGutter||(w-=_.gutterTotalWidth,d.style.paddingLeft=_.gutterTotalWidth+"px"),d.style.width=w+"px"}c.coverGutter&&(d.style.zIndex=5,d.style.position="relative",c.noHScroll||(d.style.marginLeft=-_.gutterTotalWidth+"px"))}function Ea(c){if(null!=c.height)return c.height;var d=c.doc.cm;if(!d)return 0;if(!lt(document.body,c.node)){var x="position: relative;";c.coverGutter&&(x+="margin-left: -"+d.display.gutters.offsetWidth+"px;"),c.noHScroll&&(x+="width: "+d.display.wrapper.clientWidth+"px;"),Ee(d.display.measure,ie("div",[c.node],null,x))}return c.height=c.node.parentNode.offsetHeight}function Oo(c,d){for(var x=re(d);x!=c.wrapper;x=x.parentNode)if(!x||1==x.nodeType&&"true"==x.getAttribute("cm-ignore-events")||x.parentNode==c.sizer&&x!=c.mover)return!0}function jr(c){return c.lineSpace.offsetTop}function bo(c){return c.mover.offsetHeight-c.lineSpace.offsetHeight}function Ca(c){if(c.cachedPaddingH)return c.cachedPaddingH;var d=Ee(c.measure,ie("pre","x","CodeMirror-line-like")),x=window.getComputedStyle?window.getComputedStyle(d):d.currentStyle,_={left:parseInt(x.paddingLeft),right:parseInt(x.paddingRight)};return!isNaN(_.left)&&!isNaN(_.right)&&(c.cachedPaddingH=_),_}function So(c){return rt-c.display.nativeBarWidth}function Dr(c){return c.display.scroller.clientWidth-So(c)-c.display.barWidth}function Ql(c){return c.display.scroller.clientHeight-So(c)-c.display.barHeight}function jo(c,d,x){if(c.line==d)return{map:c.measure.map,cache:c.measure.cache};for(var _=0;_<c.rest.length;_++)if(c.rest[_]==d)return{map:c.measure.maps[_],cache:c.measure.caches[_]};for(var w=0;w<c.rest.length;w++)if(An(c.rest[w])>x)return{map:c.measure.maps[w],cache:c.measure.caches[w],before:!0}}function bs(c,d,x,_){return qr(c,Wa(c,d),x,_)}function Ss(c,d){if(d>=c.display.viewFrom&&d<c.display.viewTo)return c.display.view[En(c,d)];var x=c.display.externalMeasured;return x&&d>=x.lineN&&d<x.lineN+x.size?x:void 0}function Wa(c,d){var x=An(d),_=Ss(c,x);_&&!_.text?_=null:_&&_.changes&&(Yr(c,_,x,Cn(c)),c.curOp.forceUpdate=!0),_||(_=function Ia(c,d){var x=An(d=N(d)),_=c.display.externalMeasured=new za(c.doc,d,x);_.lineN=x;var w=_.built=$i(c,_);return _.text=w.pre,Ee(c.display.lineMeasure,w.pre),_}(c,d));var w=jo(_,d,x);return{line:d,view:_,rect:null,map:w.map,cache:w.cache,before:w.before,hasHeights:!1}}function qr(c,d,x,_,w){d.before&&(x=-1);var F,D=x+(_||"");return d.cache.hasOwnProperty(D)?F=d.cache[D]:(d.rect||(d.rect=d.view.text.getBoundingClientRect()),d.hasHeights||(function Xu(c,d,x){var _=c.options.lineWrapping,w=_&&Dr(c);if(!d.measure.heights||_&&d.measure.width!=w){var D=d.measure.heights=[];if(_){d.measure.width=w;for(var F=d.text.firstChild.getClientRects(),W=0;W<F.length-1;W++){var q=F[W],J=F[W+1];Math.abs(q.bottom-J.bottom)>2&&D.push((q.bottom+J.top)/2-x.top)}}D.push(x.bottom-x.top)}}(c,d.view,d.rect),d.hasHeights=!0),F=function gr(c,d,x,_){var J,w=ws(d.map,x,_),D=w.node,F=w.start,W=w.end,q=w.collapse;if(3==D.nodeType){for(var _e=0;_e<4;_e++){for(;F&&ni(d.line.text.charAt(w.coverStart+F));)--F;for(;w.coverStart+W<w.coverEnd&&ni(d.line.text.charAt(w.coverStart+W));)++W;if((J=ve&&Qe<9&&0==F&&W==w.coverEnd-w.coverStart?D.parentNode.getBoundingClientRect():wo(C(D,F,W).getClientRects(),_)).left||J.right||0==F)break;W=F,F-=1,q="right"}ve&&Qe<11&&(J=function $l(c,d){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function At(c){if(null!=wt)return wt;var d=Ee(c,ie("span","x")),x=d.getBoundingClientRect(),_=C(d,0,1).getBoundingClientRect();return wt=Math.abs(x.left-_.left)>1}(c))return d;var x=screen.logicalXDPI/screen.deviceXDPI,_=screen.logicalYDPI/screen.deviceYDPI;return{left:d.left*x,right:d.right*x,top:d.top*_,bottom:d.bottom*_}}(c.display.measure,J))}else{var Se;F>0&&(q=_="right"),J=c.options.lineWrapping&&(Se=D.getClientRects()).length>1?Se["right"==_?Se.length-1:0]:D.getBoundingClientRect()}if(ve&&Qe<9&&!F&&(!J||!J.left&&!J.right)){var ze=D.parentNode.getClientRects()[0];J=ze?{left:ze.left,right:ze.left+Zt(c.display),top:ze.top,bottom:ze.bottom}:ai}for(var Be=J.top-d.rect.top,vt=J.bottom-d.rect.top,Et=(Be+vt)/2,Pt=d.view.measure.heights,Wt=0;Wt<Pt.length-1&&!(Et<Pt[Wt]);Wt++);var $t={left:("right"==q?J.right:J.left)-d.rect.left,right:("left"==q?J.left:J.right)-d.rect.left,top:Wt?Pt[Wt-1]:0,bottom:Pt[Wt]};return!J.left&&!J.right&&($t.bogus=!0),c.options.singleCursorHeightPerLine||($t.rtop=Be,$t.rbottom=vt),$t}(c,d,x,_),F.bogus||(d.cache[D]=F)),{left:F.left,right:F.right,top:w?F.rtop:F.top,bottom:w?F.rbottom:F.bottom}}var Ct,ai={left:0,right:0,top:0,bottom:0};function ws(c,d,x){for(var _,w,D,F,W,q,J=0;J<c.length;J+=3)if(q=c[J+1],d<(W=c[J])?(w=0,D=1,F="left"):d<q?D=1+(w=d-W):(J==c.length-3||d==q&&c[J+3]>d)&&(w=(D=q-W)-1,d>=q&&(F="right")),null!=w){if(_=c[J+2],W==q&&x==(_.insertLeft?"left":"right")&&(F=x),"left"==x&&0==w)for(;J&&c[J-2]==c[J-3]&&c[J-1].insertLeft;)_=c[2+(J-=3)],F="left";if("right"==x&&w==q-W)for(;J<c.length-3&&c[J+3]==c[J+4]&&!c[J+5].insertLeft;)_=c[(J+=3)+2],F="right";break}return{node:_,start:w,end:D,collapse:F,coverStart:W,coverEnd:q}}function wo(c,d){var x=ai;if("left"==d)for(var _=0;_<c.length&&(x=c[_]).left==x.right;_++);else for(var w=c.length-1;w>=0&&(x=c[w]).left==x.right;w--);return x}function gn(c){if(c.measure&&(c.measure.cache={},c.measure.heights=null,c.rest))for(var d=0;d<c.rest.length;d++)c.measure.caches[d]={}}function Tl(c){c.display.externalMeasure=null,se(c.display.lineMeasure);for(var d=0;d<c.display.view.length;d++)gn(c.display.view[d])}function Ya(c){Tl(c),c.display.cachedCharWidth=c.display.cachedTextHeight=c.display.cachedPaddingH=null,c.options.lineWrapping||(c.display.maxLineChanged=!0),c.display.lineNumChars=null}function Aa(){return Ce&&De?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function fo(){return Ce&&De?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function qo(c){var d=0;if(c.widgets)for(var x=0;x<c.widgets.length;++x)c.widgets[x].above&&(d+=Ea(c.widgets[x]));return d}function Ko(c,d,x,_,w){if(!w){var D=qo(d);x.top+=D,x.bottom+=D}if("line"==_)return x;_||(_="local");var F=xe(d);if("local"==_?F+=jr(c.display):F-=c.display.viewOffset,"page"==_||"window"==_){var W=c.display.lineSpace.getBoundingClientRect();F+=W.top+("window"==_?0:fo());var q=W.left+("window"==_?0:Aa());x.left+=q,x.right+=q}return x.top+=F,x.bottom+=F,x}function Ma(c,d,x){if("div"==x)return d;var _=d.left,w=d.top;if("page"==x)_-=Aa(),w-=fo();else if("local"==x||!x){var D=c.display.sizer.getBoundingClientRect();_+=D.left,w+=D.top}var F=c.display.lineSpace.getBoundingClientRect();return{left:_-F.left,top:w-F.top}}function Zo(c,d,x,_,w){return _||(_=en(c.doc,d.line)),Ko(c,_,bs(c,_,d.ch,w),x)}function cn(c,d,x,_,w,D){function F(vt,Et){var Pt=qr(c,w,vt,Et?"right":"left",D);return Et?Pt.left=Pt.right:Pt.right=Pt.left,Ko(c,_,Pt,x)}_=_||en(c.doc,d.line),w||(w=Wa(c,_));var W=Si(_,c.doc.direction),q=d.ch,J=d.sticky;if(q>=_.text.length?(q=_.text.length,J="before"):q<=0&&(q=0,J="after"),!W)return F("before"==J?q-1:q,"before"==J);function _e(vt,Et,Pt){return F(Pt?vt-1:vt,1==W[Et].level!=Pt)}var Se=Yi(W,q,J),ze=bi,Be=_e(q,Se,"before"==J);return null!=ze&&(Be.other=_e(q,ze,"before"!=J)),Be}function Qs(c,d){var x=0;d=xn(c.doc,d),c.options.lineWrapping||(x=Zt(c.display)*d.ch);var _=en(c.doc,d.line),w=xe(_)+jr(c.display);return{left:x,right:x,top:w,bottom:w+_.height}}function Jo(c,d,x,_,w){var D=Ot(c,d,x);return D.xRel=w,_&&(D.outside=_),D}function El(c,d,x){var _=c.doc;if((x+=c.display.viewOffset)<0)return Jo(_.first,0,null,-1,-1);var w=Ur(_,x),D=_.first+_.size-1;if(w>D)return Jo(_.first+_.size-1,en(_,D).text.length,null,1,1);d<0&&(d=0);for(var F=en(_,w);;){var W=_t(c,F,w,d,x),q=T(F,W.ch+(W.xRel>0||W.outside>0?1:0));if(!q)return W;var J=q.find(1);if(J.line==w)return J;F=en(_,w=J.line)}}function de(c,d,x,_){_-=qo(d);var w=d.text.length,D=Ir(function(F){return qr(c,x,F-1).bottom<=_},w,0);return{begin:D,end:w=Ir(function(F){return qr(c,x,F).top>_},D,w)}}function Ne(c,d,x,_){return x||(x=Wa(c,d)),de(c,d,x,Ko(c,d,qr(c,x,_),"line").top)}function Ue(c,d,x,_){return!(c.bottom<=x)&&(c.top>x||(_?c.left:c.right)>d)}function _t(c,d,x,_,w){w-=xe(d);var D=Wa(c,d),F=qo(d),W=0,q=d.text.length,J=!0,_e=Si(d,c.doc.direction);if(_e){var Se=(c.options.lineWrapping?Nt:je)(c,d,x,D,_e,_,w);W=(J=1!=Se.level)?Se.from:Se.to-1,q=J?Se.to:Se.from-1}var Et,Pt,ze=null,Be=null,vt=Ir(function(vn){var hn=qr(c,D,vn);return hn.top+=F,hn.bottom+=F,!!Ue(hn,_,w,!1)&&(hn.top<=w&&hn.left<=_&&(ze=vn,Be=hn),!0)},W,q),Wt=!1;if(Be){var Qt=_-Be.left<Be.right-_,Gt=Qt==J;vt=ze+(Gt?0:1),Pt=Gt?"after":"before",Et=Qt?Be.left:Be.right}else{!J&&(vt==q||vt==W)&&vt++,Pt=0==vt?"after":vt==d.text.length?"before":qr(c,D,vt-(J?1:0)).bottom+F<=w==J?"after":"before";var $t=cn(c,Ot(x,vt,Pt),"line",d,D);Et=$t.left,Wt=w<$t.top?-1:w>=$t.bottom?1:0}return Jo(x,vt=Ji(d.text,vt,1),Pt,Wt,_-Et)}function je(c,d,x,_,w,D,F){var W=Ir(function(Se){var ze=w[Se],Be=1!=ze.level;return Ue(cn(c,Ot(x,Be?ze.to:ze.from,Be?"before":"after"),"line",d,_),D,F,!0)},0,w.length-1),q=w[W];if(W>0){var J=1!=q.level,_e=cn(c,Ot(x,J?q.from:q.to,J?"after":"before"),"line",d,_);Ue(_e,D,F,!0)&&_e.top>F&&(q=w[W-1])}return q}function Nt(c,d,x,_,w,D,F){var W=de(c,d,_,F),q=W.begin,J=W.end;/\s/.test(d.text.charAt(J-1))&&J--;for(var _e=null,Se=null,ze=0;ze<w.length;ze++){var Be=w[ze];if(!(Be.from>=J||Be.to<=q)){var Et=qr(c,_,1!=Be.level?Math.min(J,Be.to)-1:Math.max(q,Be.from)).right,Pt=Et<D?D-Et+1e9:Et-D;(!_e||Se>Pt)&&(_e=Be,Se=Pt)}}return _e||(_e=w[w.length-1]),_e.from<q&&(_e={from:q,to:_e.to,level:_e.level}),_e.to>J&&(_e={from:_e.from,to:J,level:_e.level}),_e}function Ut(c){if(null!=c.cachedTextHeight)return c.cachedTextHeight;if(null==Ct){Ct=ie("pre",null,"CodeMirror-line-like");for(var d=0;d<49;++d)Ct.appendChild(document.createTextNode("x")),Ct.appendChild(ie("br"));Ct.appendChild(document.createTextNode("x"))}Ee(c.measure,Ct);var x=Ct.offsetHeight/50;return x>3&&(c.cachedTextHeight=x),se(c.measure),x||1}function Zt(c){if(null!=c.cachedCharWidth)return c.cachedCharWidth;var d=ie("span","xxxxxxxxxx"),x=ie("pre",[d],"CodeMirror-line-like");Ee(c.measure,x);var _=d.getBoundingClientRect(),w=(_.right-_.left)/10;return w>2&&(c.cachedCharWidth=w),w||10}function Cn(c){for(var d=c.display,x={},_={},w=d.gutters.clientLeft,D=d.gutters.firstChild,F=0;D;D=D.nextSibling,++F){var W=c.display.gutterSpecs[F].className;x[W]=D.offsetLeft+D.clientLeft+w,_[W]=D.clientWidth}return{fixedPos:wn(d),gutterTotalWidth:d.gutters.offsetWidth,gutterLeft:x,gutterWidth:_,wrapperWidth:d.wrapper.clientWidth}}function wn(c){return c.scroller.getBoundingClientRect().left-c.sizer.getBoundingClientRect().left}function yn(c){var d=Ut(c.display),x=c.options.lineWrapping,_=x&&Math.max(5,c.display.scroller.clientWidth/Zt(c.display)-3);return function(w){if(te(c.doc,w))return 0;var D=0;if(w.widgets)for(var F=0;F<w.widgets.length;F++)w.widgets[F].height&&(D+=w.widgets[F].height);return x?D+(Math.ceil(w.text.length/_)||1)*d:D+d}}function Gn(c){var d=c.doc,x=yn(c);d.iter(function(_){var w=x(_);w!=_.height&&ur(_,w)})}function fi(c,d,x,_){var w=c.display;if(!x&&"true"==re(d).getAttribute("cm-not-content"))return null;var D,F,W=w.lineSpace.getBoundingClientRect();try{D=d.clientX-W.left,F=d.clientY-W.top}catch{return null}var J,q=El(c,D,F);if(_&&q.xRel>0&&(J=en(c.doc,q.line).text).length==q.ch){var _e=Mt(J,J.length,c.options.tabSize)-J.length;q=Ot(q.line,Math.max(0,Math.round((D-Ca(c.display).left)/Zt(c.display))-_e))}return q}function En(c,d){if(d>=c.display.viewTo||(d-=c.display.viewFrom)<0)return null;for(var x=c.display.view,_=0;_<x.length;_++)if((d-=x[_].size)<0)return _}function Xn(c,d,x,_){null==d&&(d=c.doc.first),null==x&&(x=c.doc.first+c.doc.size),_||(_=0);var w=c.display;if(_&&x<w.viewTo&&(null==w.updateLineNumbers||w.updateLineNumbers>d)&&(w.updateLineNumbers=d),c.curOp.viewChanged=!0,d>=w.viewTo)Go&&V(c.doc,d)<w.viewTo&&Hi(c);else if(x<=w.viewFrom)Go&&j(c.doc,x+_)>w.viewFrom?Hi(c):(w.viewFrom+=_,w.viewTo+=_);else if(d<=w.viewFrom&&x>=w.viewTo)Hi(c);else if(d<=w.viewFrom){var D=Ft(c,x,x+_,1);D?(w.view=w.view.slice(D.index),w.viewFrom=D.lineN,w.viewTo+=_):Hi(c)}else if(x>=w.viewTo){var F=Ft(c,d,d,-1);F?(w.view=w.view.slice(0,F.index),w.viewTo=F.lineN):Hi(c)}else{var W=Ft(c,d,d,-1),q=Ft(c,x,x+_,1);W&&q?(w.view=w.view.slice(0,W.index).concat(_s(c,W.lineN,q.lineN)).concat(w.view.slice(q.index)),w.viewTo+=_):Hi(c)}var J=w.externalMeasured;J&&(x<J.lineN?J.lineN+=_:d<J.lineN+J.size&&(w.externalMeasured=null))}function Di(c,d,x){c.curOp.viewChanged=!0;var _=c.display,w=c.display.externalMeasured;if(w&&d>=w.lineN&&d<w.lineN+w.size&&(_.externalMeasured=null),!(d<_.viewFrom||d>=_.viewTo)){var D=_.view[En(c,d)];if(null!=D.node){var F=D.changes||(D.changes=[]);-1==Lt(F,x)&&F.push(x)}}}function Hi(c){c.display.viewFrom=c.display.viewTo=c.doc.first,c.display.view=[],c.display.viewOffset=0}function Ft(c,d,x,_){var D,w=En(c,d),F=c.display.view;if(!Go||x==c.doc.first+c.doc.size)return{index:w,lineN:x};for(var W=c.display.viewFrom,q=0;q<w;q++)W+=F[q].size;if(W!=d){if(_>0){if(w==F.length-1)return null;D=W+F[w].size-d,w++}else D=W-d;d+=D,x+=D}for(;V(c.doc,x)!=x;){if(w==(_<0?0:F.length-1))return null;x+=_*F[w-(_<0?1:0)].size,w+=_}return{index:w,lineN:x}}function tr(c){for(var d=c.display.view,x=0,_=0;_<d.length;_++){var w=d[_];!w.hidden&&(!w.node||w.changes)&&++x}return x}function di(c){c.display.input.showSelection(c.display.input.prepareSelection())}function ko(c,d){void 0===d&&(d=!0);for(var x=c.doc,_={},w=_.cursors=document.createDocumentFragment(),D=_.selection=document.createDocumentFragment(),F=0;F<x.sel.ranges.length;F++)if(d||F!=x.sel.primIndex){var W=x.sel.ranges[F];if(!(W.from().line>=c.display.viewTo||W.to().line<c.display.viewFrom)){var q=W.empty();(q||c.options.showCursorWhenSelecting)&&Ts(c,W.head,w),q||Vc(c,W,D)}}return _}function Ts(c,d,x){var _=cn(c,d,"div",null,null,!c.options.singleCursorHeightPerLine),w=x.appendChild(ie("div","\xa0","CodeMirror-cursor"));if(w.style.left=_.left+"px",w.style.top=_.top+"px",w.style.height=Math.max(0,_.bottom-_.top)*c.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(c.getWrapperElement().className)){var D=Zo(c,d,"div",null,null);w.style.width=Math.max(0,D.right-D.left)+"px"}if(_.other){var F=x.appendChild(ie("div","\xa0","CodeMirror-cursor CodeMirror-secondarycursor"));F.style.display="",F.style.left=_.other.left+"px",F.style.top=_.other.top+"px",F.style.height=.85*(_.other.bottom-_.other.top)+"px"}}function $s(c,d){return c.top-d.top||c.left-d.left}function Vc(c,d,x){var _=c.display,w=c.doc,D=document.createDocumentFragment(),F=Ca(c.display),W=F.left,q=Math.max(_.sizerWidth,Dr(c)-_.sizer.offsetLeft)-F.right,J="ltr"==w.direction;function _e(Gt,$t,vn,hn){$t<0&&($t=0),$t=Math.round($t),hn=Math.round(hn),D.appendChild(ie("div",null,"CodeMirror-selected","position: absolute; left: "+Gt+"px;\n                             top: "+$t+"px; width: "+(vn??q-Gt)+"px;\n                             height: "+(hn-$t)+"px"))}function Se(Gt,$t,vn){var Ii,Rr,hn=en(w,Gt),Bn=hn.text.length;function Ki(dr,yo){return Zo(c,Ot(Gt,dr),"div",hn,yo)}function Ao(dr,yo,wr){var Tr=Ne(c,hn,null,dr),gi="ltr"==yo==("after"==wr)?"left":"right";return Ki("after"==wr?Tr.begin:Tr.end-(/\s/.test(hn.text.charAt(Tr.end-1))?2:1),gi)[gi]}var mo=Si(hn,w.direction);return function Ar(c,d,x,_){if(!c)return _(d,x,"ltr",0);for(var w=!1,D=0;D<c.length;++D){var F=c[D];(F.from<x&&F.to>d||d==x&&F.to==d)&&(_(Math.max(F.from,d),Math.min(F.to,x),1==F.level?"rtl":"ltr",D),w=!0)}w||_(d,x,"ltr")}(mo,$t||0,vn??Bn,function(dr,yo,wr,Tr){var gi="ltr"==wr,ir=Ki(dr,gi?"left":"right"),Or=Ki(yo-1,gi?"right":"left"),Bl=null==$t&&0==dr,pl=null==vn&&yo==Bn,rr=0==Tr,Mo=!mo||Tr==mo.length-1;if(Or.top-ir.top<=3){var es=(J?Bl:pl)&&rr?W:(gi?ir:Or).left;_e(es,ir.top,((J?pl:Bl)&&Mo?q:(gi?Or:ir).right)-es,ir.bottom)}else{var Os,Pr,_o,xu;gi?(Os=J&&Bl&&rr?W:ir.left,Pr=J?q:Ao(dr,wr,"before"),_o=J?W:Ao(yo,wr,"after"),xu=J&&pl&&Mo?q:Or.right):(Os=J?Ao(dr,wr,"before"):W,Pr=!J&&Bl&&rr?q:ir.right,_o=!J&&pl&&Mo?W:Or.left,xu=J?Ao(yo,wr,"after"):q),_e(Os,ir.top,Pr-Os,ir.bottom),ir.bottom<Or.top&&_e(W,ir.bottom,null,Or.top),_e(_o,Or.top,xu-_o,Or.bottom)}(!Ii||$s(ir,Ii)<0)&&(Ii=ir),$s(Or,Ii)<0&&(Ii=Or),(!Rr||$s(ir,Rr)<0)&&(Rr=ir),$s(Or,Rr)<0&&(Rr=Or)}),{start:Ii,end:Rr}}var ze=d.from(),Be=d.to();if(ze.line==Be.line)Se(ze.line,ze.ch,Be.ch);else{var vt=en(w,ze.line),Et=en(w,Be.line),Pt=N(vt)==N(Et),Wt=Se(ze.line,ze.ch,Pt?vt.text.length+1:null).end,Qt=Se(Be.line,Pt?0:null,Be.ch).start;Pt&&(Wt.top<Qt.top-2?(_e(Wt.right,Wt.top,null,Wt.bottom),_e(W,Qt.top,Qt.left,Qt.bottom)):_e(Wt.right,Wt.top,Qt.left-Wt.right,Wt.bottom)),Wt.bottom<Qt.top&&_e(W,Wt.bottom,null,Qt.top)}x.appendChild(D)}function ju(c){if(c.state.focused){var d=c.display;clearInterval(d.blinker);var x=!0;d.cursorDiv.style.visibility="",c.options.cursorBlinkRate>0?d.blinker=setInterval(function(){c.hasFocus()||Kr(c),d.cursorDiv.style.visibility=(x=!x)?"":"hidden"},c.options.cursorBlinkRate):c.options.cursorBlinkRate<0&&(d.cursorDiv.style.visibility="hidden")}}function Jn(c){c.hasFocus()||(c.display.input.focus(),c.state.focused||hr(c))}function kt(c){c.state.delayingBlurEvent=!0,setTimeout(function(){c.state.delayingBlurEvent&&(c.state.delayingBlurEvent=!1,c.state.focused&&Kr(c))},100)}function hr(c,d){c.state.delayingBlurEvent&&!c.state.draggingText&&(c.state.delayingBlurEvent=!1),"nocursor"!=c.options.readOnly&&(c.state.focused||(Ae(c,"focus",c,d),c.state.focused=!0,Y(c.display.wrapper,"CodeMirror-focused"),!c.curOp&&c.display.selForContextMenu!=c.doc.sel&&(c.display.input.reset(),Pe&&setTimeout(function(){return c.display.input.reset(!0)},20)),c.display.input.receivedFocus()),ju(c))}function Kr(c,d){c.state.delayingBlurEvent||(c.state.focused&&(Ae(c,"blur",c,d),c.state.focused=!1,et(c.display.wrapper,"CodeMirror-focused")),clearInterval(c.display.blinker),setTimeout(function(){c.state.focused||(c.display.shift=!1)},150))}function Po(c){for(var d=c.display,x=d.lineDiv.offsetTop,_=0;_<d.view.length;_++){var w=d.view[_],D=c.options.lineWrapping,F=void 0,W=0;if(!w.hidden){if(ve&&Qe<8){var q=w.node.offsetTop+w.node.offsetHeight;F=q-x,x=q}else{var J=w.node.getBoundingClientRect();F=J.bottom-J.top,!D&&w.text.firstChild&&(W=w.text.firstChild.getBoundingClientRect().right-J.left-1)}var _e=w.line.height-F;if((_e>.005||_e<-.005)&&(ur(w.line,F),rf(w.line),w.rest))for(var Se=0;Se<w.rest.length;Se++)rf(w.rest[Se]);if(W>c.display.sizerWidth){var ze=Math.ceil(W/Zt(c.display));ze>c.display.maxLineLength&&(c.display.maxLineLength=ze,c.display.maxLine=w.line,c.display.maxLineChanged=!0)}}}}function rf(c){if(c.widgets)for(var d=0;d<c.widgets.length;++d){var x=c.widgets[d],_=x.node.parentNode;_&&(x.height=_.offsetHeight)}}function eu(c,d,x){var _=x&&null!=x.top?Math.max(0,x.top):c.scroller.scrollTop;_=Math.floor(_-jr(c));var w=x&&null!=x.bottom?x.bottom:_+c.wrapper.clientHeight,D=Ur(d,_),F=Ur(d,w);if(x&&x.ensure){var W=x.ensure.from.line,q=x.ensure.to.line;W<D?(D=W,F=Ur(d,xe(en(d,W))+c.wrapper.clientHeight)):Math.min(q,d.lastLine())>=F&&(D=Ur(d,xe(en(d,q))-c.wrapper.clientHeight),F=q)}return{from:D,to:Math.max(F,D+1)}}function qu(c,d){var x=c.display,_=Ut(c.display);d.top<0&&(d.top=0);var w=c.curOp&&null!=c.curOp.scrollTop?c.curOp.scrollTop:x.scroller.scrollTop,D=Ql(c),F={};d.bottom-d.top>D&&(d.bottom=d.top+D);var W=c.doc.height+bo(x),J=d.bottom>W-_;if(d.top<w)F.scrollTop=d.top<_?0:d.top;else if(d.bottom>w+D){var _e=Math.min(d.top,(J?W:d.bottom)-D);_e!=w&&(F.scrollTop=_e)}var Se=c.options.fixedGutter?0:x.gutters.offsetWidth,ze=c.curOp&&null!=c.curOp.scrollLeft?c.curOp.scrollLeft:x.scroller.scrollLeft-Se,Be=Dr(c)-x.gutters.offsetWidth,vt=d.right-d.left>Be;return vt&&(d.right=d.left+Be),d.left<10?F.scrollLeft=0:d.left<ze?F.scrollLeft=Math.max(0,d.left+Se-(vt?0:10)):d.right>Be+ze-3&&(F.scrollLeft=d.right+(vt?0:10)-Be),F}function Cl(c,d){null!=d&&(nu(c),c.curOp.scrollTop=(null==c.curOp.scrollTop?c.doc.scrollTop:c.curOp.scrollTop)+d)}function tu(c){nu(c);var d=c.getCursor();c.curOp.scrollToPos={from:d,to:d,margin:c.options.cursorScrollMargin}}function io(c,d,x){(null!=d||null!=x)&&nu(c),null!=d&&(c.curOp.scrollLeft=d),null!=x&&(c.curOp.scrollTop=x)}function nu(c){var d=c.curOp.scrollToPos;d&&(c.curOp.scrollToPos=null,Gc(c,Qs(c,d.from),Qs(c,d.to),d.margin))}function Gc(c,d,x,_){var w=qu(c,{left:Math.min(d.left,x.left),top:Math.min(d.top,x.top)-_,right:Math.max(d.right,x.right),bottom:Math.max(d.bottom,x.bottom)+_});io(c,w.scrollLeft,w.scrollTop)}function el(c,d){Math.abs(c.doc.scrollTop-d)<2||(ue||Zu(c,{top:d}),Wc(c,d,!0),ue&&Zu(c),Fn(c,100))}function Wc(c,d,x){d=Math.max(0,Math.min(c.display.scroller.scrollHeight-c.display.scroller.clientHeight,d)),(c.display.scroller.scrollTop!=d||x)&&(c.doc.scrollTop=d,c.display.scrollbars.setScrollTop(d),c.display.scroller.scrollTop!=d&&(c.display.scroller.scrollTop=d))}function po(c,d,x,_){d=Math.max(0,Math.min(d,c.display.scroller.scrollWidth-c.display.scroller.clientWidth)),(!(x?d==c.doc.scrollLeft:Math.abs(c.doc.scrollLeft-d)<2)||_)&&(c.doc.scrollLeft=d,La(c),c.display.scroller.scrollLeft!=d&&(c.display.scroller.scrollLeft=d),c.display.scrollbars.setScrollLeft(d))}function Il(c){var d=c.display,x=d.gutters.offsetWidth,_=Math.round(c.doc.height+bo(c.display));return{clientHeight:d.scroller.clientHeight,viewHeight:d.wrapper.clientHeight,scrollWidth:d.scroller.scrollWidth,clientWidth:d.scroller.clientWidth,viewWidth:d.wrapper.clientWidth,barLeft:c.options.fixedGutter?x:0,docHeight:_,scrollHeight:_+So(c)+d.barHeight,nativeBarWidth:d.nativeBarWidth,gutterWidth:x}}var tl=function(c,d,x){this.cm=x;var _=this.vert=ie("div",[ie("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),w=this.horiz=ie("div",[ie("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");_.tabIndex=w.tabIndex=-1,c(_),c(w),ut(_,"scroll",function(){_.clientHeight&&d(_.scrollTop,"vertical")}),ut(w,"scroll",function(){w.clientWidth&&d(w.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,ve&&Qe<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};tl.prototype.update=function(c){var d=c.scrollWidth>c.clientWidth+1,x=c.scrollHeight>c.clientHeight+1,_=c.nativeBarWidth;return x?(this.vert.style.display="block",this.vert.style.bottom=d?_+"px":"0",this.vert.firstChild.style.height=Math.max(0,c.scrollHeight-c.clientHeight+(c.viewHeight-(d?_:0)))+"px"):(this.vert.style.display="",this.vert.firstChild.style.height="0"),d?(this.horiz.style.display="block",this.horiz.style.right=x?_+"px":"0",this.horiz.style.left=c.barLeft+"px",this.horiz.firstChild.style.width=Math.max(0,c.scrollWidth-c.clientWidth+(c.viewWidth-c.barLeft-(x?_:0)))+"px"):(this.horiz.style.display="",this.horiz.firstChild.style.width="0"),!this.checkedZeroWidth&&c.clientHeight>0&&(0==_&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:x?_:0,bottom:d?_:0}},tl.prototype.setScrollLeft=function(c){this.horiz.scrollLeft!=c&&(this.horiz.scrollLeft=c),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},tl.prototype.setScrollTop=function(c){this.vert.scrollTop!=c&&(this.vert.scrollTop=c),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},tl.prototype.zeroWidthHack=function(){this.horiz.style.height=this.vert.style.width=ne&&!Ke?"12px":"18px",this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new mt,this.disableVert=new mt},tl.prototype.enableZeroWidthBar=function(c,d,x){c.style.pointerEvents="auto",d.set(1e3,function _(){var w=c.getBoundingClientRect();("vert"==x?document.elementFromPoint(w.right-1,(w.top+w.bottom)/2):document.elementFromPoint((w.right+w.left)/2,w.bottom-1))!=c?c.style.pointerEvents="none":d.set(1e3,_)})},tl.prototype.clear=function(){var c=this.horiz.parentNode;c.removeChild(this.horiz),c.removeChild(this.vert)};var iu=function(){};function Al(c,d){d||(d=Il(c));var x=c.display.barWidth,_=c.display.barHeight;Qv(c,d);for(var w=0;w<4&&x!=c.display.barWidth||_!=c.display.barHeight;w++)x!=c.display.barWidth&&c.options.lineWrapping&&Po(c),Qv(c,Il(c)),x=c.display.barWidth,_=c.display.barHeight}function Qv(c,d){var x=c.display,_=x.scrollbars.update(d);x.sizer.style.paddingRight=(x.barWidth=_.right)+"px",x.sizer.style.paddingBottom=(x.barHeight=_.bottom)+"px",x.heightForcer.style.borderBottom=_.bottom+"px solid transparent",_.right&&_.bottom?(x.scrollbarFiller.style.display="block",x.scrollbarFiller.style.height=_.bottom+"px",x.scrollbarFiller.style.width=_.right+"px"):x.scrollbarFiller.style.display="",_.bottom&&c.options.coverGutterNextToScrollbar&&c.options.fixedGutter?(x.gutterFiller.style.display="block",x.gutterFiller.style.height=_.bottom+"px",x.gutterFiller.style.width=d.gutterWidth+"px"):x.gutterFiller.style.display=""}iu.prototype.update=function(){return{bottom:0,right:0}},iu.prototype.setScrollLeft=function(){},iu.prototype.setScrollTop=function(){},iu.prototype.clear=function(){};var jn={native:tl,null:iu};function af(c){c.display.scrollbars&&(c.display.scrollbars.clear(),c.display.scrollbars.addClass&&et(c.display.wrapper,c.display.scrollbars.addClass)),c.display.scrollbars=new jn[c.options.scrollbarStyle](function(d){c.display.wrapper.insertBefore(d,c.display.scrollbarFiller),ut(d,"mousedown",function(){c.state.focused&&setTimeout(function(){return c.display.input.focus()},0)}),d.setAttribute("cm-not-content","true")},function(d,x){"horizontal"==x?po(c,d):el(c,d)},c),c.display.scrollbars.addClass&&Y(c.display.wrapper,c.display.scrollbars.addClass)}var sp=0;function Yn(c){c.curOp={cm:c,viewChanged:!1,startHeight:c.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++sp,markArrays:null},function Va(c){br?br.ops.push(c):c.ownsGroup=br={ops:[c],delayedCallbacks:[]}}(c.curOp)}function Qo(c){var d=c.curOp;d&&function Wr(c,d){var x=c.ownsGroup;if(x)try{!function Ga(c){var d=c.delayedCallbacks,x=0;do{for(;x<d.length;x++)d[x].call(null);for(var _=0;_<c.ops.length;_++){var w=c.ops[_];if(w.cursorActivityHandlers)for(;w.cursorActivityCalled<w.cursorActivityHandlers.length;)w.cursorActivityHandlers[w.cursorActivityCalled++].call(null,w.cm)}}while(x<d.length)}(x)}finally{br=null,d(x)}}(d,function(x){for(var _=0;_<x.ops.length;_++)x.ops[_].cm.curOp=null;!function lp(c){for(var d=c.ops,x=0;x<d.length;x++)ru(d[x]);for(var _=0;_<d.length;_++)$v(d[_]);for(var w=0;w<d.length;w++)up(d[w]);for(var D=0;D<d.length;D++)cp(d[D]);for(var F=0;F<d.length;F++)Ku(d[F])}(x)})}function ru(c){var d=c.cm,x=d.display;(function sf(c){var d=c.display;!d.scrollbarsClipped&&d.scroller.offsetWidth&&(d.nativeBarWidth=d.scroller.offsetWidth-d.scroller.clientWidth,d.heightForcer.style.height=So(c)+"px",d.sizer.style.marginBottom=-d.nativeBarWidth+"px",d.sizer.style.borderRightWidth=So(c)+"px",d.scrollbarsClipped=!0)})(d),c.updateMaxLine&&bt(d),c.mustUpdate=c.viewChanged||c.forceUpdate||null!=c.scrollTop||c.scrollToPos&&(c.scrollToPos.from.line<x.viewFrom||c.scrollToPos.to.line>=x.viewTo)||x.maxLineChanged&&d.options.lineWrapping,c.update=c.mustUpdate&&new nl(d,c.mustUpdate&&{top:c.scrollTop,ensure:c.scrollToPos},c.forceUpdate)}function $v(c){c.updatedDisplay=c.mustUpdate&&Ml(c.cm,c.update)}function up(c){var d=c.cm,x=d.display;c.updatedDisplay&&Po(d),c.barMeasure=Il(d),x.maxLineChanged&&!d.options.lineWrapping&&(c.adjustWidthTo=bs(d,x.maxLine,x.maxLine.text.length).left+3,d.display.sizerWidth=c.adjustWidthTo,c.barMeasure.scrollWidth=Math.max(x.scroller.clientWidth,x.sizer.offsetLeft+c.adjustWidthTo+So(d)+d.display.barWidth),c.maxScrollLeft=Math.max(0,x.sizer.offsetLeft+c.adjustWidthTo-Dr(d))),(c.updatedDisplay||c.selectionChanged)&&(c.preparedSelection=x.input.prepareSelection())}function cp(c){var d=c.cm;null!=c.adjustWidthTo&&(d.display.sizer.style.minWidth=c.adjustWidthTo+"px",c.maxScrollLeft<d.doc.scrollLeft&&po(d,Math.min(d.display.scroller.scrollLeft,c.maxScrollLeft),!0),d.display.maxLineChanged=!1);var x=c.focus&&c.focus==gt();c.preparedSelection&&d.display.input.showSelection(c.preparedSelection,x),(c.updatedDisplay||c.startHeight!=d.doc.height)&&Al(d,c.barMeasure),c.updatedDisplay&&Yc(d,c.barMeasure),c.selectionChanged&&ju(d),d.state.focused&&c.updateInput&&d.display.input.reset(c.typing),x&&Jn(c.cm)}function Ku(c){var d=c.cm,x=d.display,_=d.doc;if(c.updatedDisplay&&lf(d,c.update),null!=x.wheelStartX&&(null!=c.scrollTop||null!=c.scrollLeft||c.scrollToPos)&&(x.wheelStartX=x.wheelStartY=null),null!=c.scrollTop&&Wc(d,c.scrollTop,c.forceScroll),null!=c.scrollLeft&&po(d,c.scrollLeft,!0,!0),c.scrollToPos){var w=function Jv(c,d,x,_){var w;null==_&&(_=0),!c.options.lineWrapping&&d==x&&(x="before"==d.sticky?Ot(d.line,d.ch+1,"before"):d,d=d.ch?Ot(d.line,"before"==d.sticky?d.ch-1:d.ch,"after"):d);for(var D=0;D<5;D++){var F=!1,W=cn(c,d),q=x&&x!=d?cn(c,x):W,J=qu(c,w={left:Math.min(W.left,q.left),top:Math.min(W.top,q.top)-_,right:Math.max(W.left,q.left),bottom:Math.max(W.bottom,q.bottom)+_}),_e=c.doc.scrollTop,Se=c.doc.scrollLeft;if(null!=J.scrollTop&&(el(c,J.scrollTop),Math.abs(c.doc.scrollTop-_e)>1&&(F=!0)),null!=J.scrollLeft&&(po(c,J.scrollLeft),Math.abs(c.doc.scrollLeft-Se)>1&&(F=!0)),!F)break}return w}(d,xn(_,c.scrollToPos.from),xn(_,c.scrollToPos.to),c.scrollToPos.margin);!function op(c,d){if(!z(c,"scrollCursorIntoView")){var x=c.display,_=x.sizer.getBoundingClientRect(),w=null;if(d.top+_.top<0?w=!0:d.bottom+_.top>(window.innerHeight||document.documentElement.clientHeight)&&(w=!1),null!=w&&!it){var D=ie("div","\u200b",null,"position: absolute;\n                         top: "+(d.top-x.viewOffset-jr(c.display))+"px;\n                         height: "+(d.bottom-d.top+So(c)+x.barHeight)+"px;\n                         left: "+d.left+"px; width: "+Math.max(2,d.right-d.left)+"px;");c.display.lineSpace.appendChild(D),D.scrollIntoView(w),c.display.lineSpace.removeChild(D)}}}(d,w)}var D=c.maybeHiddenMarkers,F=c.maybeUnhiddenMarkers;if(D)for(var W=0;W<D.length;++W)D[W].lines.length||Ae(D[W],"hide");if(F)for(var q=0;q<F.length;++q)F[q].lines.length&&Ae(F[q],"unhide");x.wrapper.offsetHeight&&(_.scrollTop=d.display.scroller.scrollTop),c.changeObjs&&Ae(d,"changes",d,c.changeObjs),c.update&&c.update.finish()}function ci(c,d){if(c.curOp)return d();Yn(c);try{return d()}finally{Qo(c)}}function vr(c,d){return function(){if(c.curOp)return d.apply(c,arguments);Yn(c);try{return d.apply(c,arguments)}finally{Qo(c)}}}function Sr(c){return function(){if(this.curOp)return c.apply(this,arguments);Yn(this);try{return c.apply(this,arguments)}finally{Qo(this)}}}function Ui(c){return function(){var d=this.cm;if(!d||d.curOp)return c.apply(this,arguments);Yn(d);try{return c.apply(this,arguments)}finally{Qo(d)}}}function Fn(c,d){c.doc.highlightFrontier<c.display.viewTo&&c.state.highlight.set(d,jt(em,c))}function em(c){var d=c.doc;if(!(d.highlightFrontier>=c.display.viewTo)){var x=+new Date+c.options.workTime,_=No(c,d.highlightFrontier),w=[];d.iter(_.line,Math.min(d.first+d.size,c.display.viewTo+500),function(D){if(_.line>=c.display.viewFrom){var F=D.styles,W=D.text.length>c.options.maxHighlightLength?Fi(d.mode,_.state):null,q=ds(c,D,_,!0);W&&(_.state=W),D.styles=q.styles;var J=D.styleClasses,_e=q.classes;_e?D.styleClasses=_e:J&&(D.styleClasses=null);for(var Se=!F||F.length!=D.styles.length||J!=_e&&(!J||!_e||J.bgClass!=_e.bgClass||J.textClass!=_e.textClass),ze=0;!Se&&ze<F.length;++ze)Se=F[ze]!=D.styles[ze];Se&&w.push(_.line),D.stateAfter=_.save(),_.nextLine()}else D.text.length<=c.options.maxHighlightLength&&Ys(c,D.text,_),D.stateAfter=_.line%5==0?_.save():null,_.nextLine();if(+new Date>x)return Fn(c,c.options.workDelay),!0}),d.highlightFrontier=_.line,d.modeFrontier=Math.max(d.modeFrontier,_.line),w.length&&ci(c,function(){for(var D=0;D<w.length;D++)Di(c,w[D],"text")})}}var nl=function(c,d,x){var _=c.display;this.viewport=d,this.visible=eu(_,c.doc,d),this.editorIsHidden=!_.wrapper.offsetWidth,this.wrapperHeight=_.wrapper.clientHeight,this.wrapperWidth=_.wrapper.clientWidth,this.oldDisplayWidth=Dr(c),this.force=x,this.dims=Cn(c),this.events=[]};function Ml(c,d){var x=c.display,_=c.doc;if(d.editorIsHidden)return Hi(c),!1;if(!d.force&&d.visible.from>=x.viewFrom&&d.visible.to<=x.viewTo&&(null==x.updateLineNumbers||x.updateLineNumbers>=x.viewTo)&&x.renderedView==x.view&&0==tr(c))return!1;Xc(c)&&(Hi(c),d.dims=Cn(c));var w=_.first+_.size,D=Math.max(d.visible.from-c.options.viewportMargin,_.first),F=Math.min(w,d.visible.to+c.options.viewportMargin);x.viewFrom<D&&D-x.viewFrom<20&&(D=Math.max(_.first,x.viewFrom)),x.viewTo>F&&x.viewTo-F<20&&(F=Math.min(w,x.viewTo)),Go&&(D=V(c.doc,D),F=j(c.doc,F));var W=D!=x.viewFrom||F!=x.viewTo||x.lastWrapHeight!=d.wrapperHeight||x.lastWrapWidth!=d.wrapperWidth;(function ca(c,d,x){var _=c.display;0==_.view.length||d>=_.viewTo||x<=_.viewFrom?(_.view=_s(c,d,x),_.viewFrom=d):(_.viewFrom>d?_.view=_s(c,d,_.viewFrom).concat(_.view):_.viewFrom<d&&(_.view=_.view.slice(En(c,d))),_.viewFrom=d,_.viewTo<x?_.view=_.view.concat(_s(c,_.viewTo,x)):_.viewTo>x&&(_.view=_.view.slice(0,En(c,x)))),_.viewTo=x})(c,D,F),x.viewOffset=xe(en(c.doc,x.viewFrom)),c.display.mover.style.top=x.viewOffset+"px";var q=tr(c);if(!W&&0==q&&!d.force&&x.renderedView==x.view&&(null==x.updateLineNumbers||x.updateLineNumbers>=x.viewTo))return!1;var J=function mr(c){if(c.hasFocus())return null;var d=gt();if(!d||!lt(c.display.lineDiv,d))return null;var x={activeElt:d};if(window.getSelection){var _=window.getSelection();_.anchorNode&&_.extend&&lt(c.display.lineDiv,_.anchorNode)&&(x.anchorNode=_.anchorNode,x.anchorOffset=_.anchorOffset,x.focusNode=_.focusNode,x.focusOffset=_.focusOffset)}return x}(c);return q>4&&(x.lineDiv.style.display="none"),function hp(c,d,x){var _=c.display,w=c.options.lineNumbers,D=_.lineDiv,F=D.firstChild;function W(vt){var Et=vt.nextSibling;return Pe&&ne&&c.display.currentWheelTarget==vt?vt.style.display="none":vt.parentNode.removeChild(vt),Et}for(var q=_.view,J=_.viewFrom,_e=0;_e<q.length;_e++){var Se=q[_e];if(!Se.hidden)if(Se.node&&Se.node.parentNode==D){for(;F!=Se.node;)F=W(F);var Be=w&&null!=d&&d<=J&&Se.lineNumber;Se.changes&&(Lt(Se.changes,"gutter")>-1&&(Be=!1),Yr(c,Se,J,x)),Be&&(se(Se.lineNumber),Se.lineNumber.appendChild(document.createTextNode(hs(c.options,J)))),F=Se.node.nextSibling}else{var ze=Xr(c,Se,J,x);D.insertBefore(ze,F)}J+=Se.size}for(;F;)F=W(F)}(c,x.updateLineNumbers,d.dims),q>4&&(x.lineDiv.style.display=""),x.renderedView=x.view,function tm(c){if(c&&c.activeElt&&c.activeElt!=gt()&&(c.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(c.activeElt.nodeName)&&c.anchorNode&&lt(document.body,c.anchorNode)&&lt(document.body,c.focusNode))){var d=window.getSelection(),x=document.createRange();x.setEnd(c.anchorNode,c.anchorOffset),x.collapse(!1),d.removeAllRanges(),d.addRange(x),d.extend(c.focusNode,c.focusOffset)}}(J),se(x.cursorDiv),se(x.selectionDiv),x.gutters.style.height=x.sizer.style.minHeight=0,W&&(x.lastWrapHeight=d.wrapperHeight,x.lastWrapWidth=d.wrapperWidth,Fn(c,400)),x.updateLineNumbers=null,!0}function lf(c,d){for(var x=d.viewport,_=!0;;_=!1){if(_&&c.options.lineWrapping&&d.oldDisplayWidth!=Dr(c))_&&(d.visible=eu(c.display,c.doc,x));else if(x&&null!=x.top&&(x={top:Math.min(c.doc.height+bo(c.display)-Ql(c),x.top)}),d.visible=eu(c.display,c.doc,x),d.visible.from>=c.display.viewFrom&&d.visible.to<=c.display.viewTo)break;if(!Ml(c,d))break;Po(c);var w=Il(c);di(c),Al(c,w),Yc(c,w),d.force=!1}d.signal(c,"update",c),(c.display.viewFrom!=c.display.reportedViewFrom||c.display.viewTo!=c.display.reportedViewTo)&&(d.signal(c,"viewportChange",c,c.display.viewFrom,c.display.viewTo),c.display.reportedViewFrom=c.display.viewFrom,c.display.reportedViewTo=c.display.viewTo)}function Zu(c,d){var x=new nl(c,d);if(Ml(c,x)){Po(c),lf(c,x);var _=Il(c);di(c),Al(c,_),Yc(c,_),x.finish()}}function Es(c){c.sizer.style.marginLeft=c.gutters.offsetWidth+"px",hi(c,"gutterChanged",c)}function Yc(c,d){c.display.sizer.style.minHeight=d.docHeight+"px",c.display.heightForcer.style.top=d.docHeight+"px",c.display.gutters.style.height=d.docHeight+c.display.barHeight+So(c)+"px"}function La(c){var d=c.display,x=d.view;if(d.alignWidgets||d.gutters.firstChild&&c.options.fixedGutter){for(var _=wn(d)-d.scroller.scrollLeft+c.doc.scrollLeft,w=d.gutters.offsetWidth,D=_+"px",F=0;F<x.length;F++)if(!x[F].hidden){c.options.fixedGutter&&(x[F].gutter&&(x[F].gutter.style.left=D),x[F].gutterBackground&&(x[F].gutterBackground.style.left=D));var W=x[F].alignable;if(W)for(var q=0;q<W.length;q++)W[q].style.left=D}c.options.fixedGutter&&(d.gutters.style.left=_+w+"px")}}function Xc(c){if(!c.options.lineNumbers)return!1;var d=c.doc,x=hs(c.options,d.first+d.size-1),_=c.display;if(x.length!=_.lineNumChars){var w=_.measure.appendChild(ie("div",[ie("div",x)],"CodeMirror-linenumber CodeMirror-gutter-elt")),D=w.firstChild.offsetWidth,F=w.offsetWidth-D;return _.lineGutter.style.width="",_.lineNumInnerWidth=Math.max(D,_.lineGutter.offsetWidth-F)+1,_.lineNumWidth=_.lineNumInnerWidth+F,_.lineNumChars=_.lineNumInnerWidth?x.length:-1,_.lineGutter.style.width=_.lineNumWidth+"px",Es(c.display),!0}return!1}function uf(c,d){for(var x=[],_=!1,w=0;w<c.length;w++){var D=c[w],F=null;if("string"!=typeof D&&(F=D.style,D=D.className),"CodeMirror-linenumbers"==D){if(!d)continue;_=!0}x.push({className:D,style:F})}return d&&!_&&x.push({className:"CodeMirror-linenumbers",style:null}),x}function cf(c){var d=c.gutters,x=c.gutterSpecs;se(d),c.lineGutter=null;for(var _=0;_<x.length;++_){var w=x[_],D=w.className,F=w.style,W=d.appendChild(ie("div",null,"CodeMirror-gutter "+D));F&&(W.style.cssText=F),"CodeMirror-linenumbers"==D&&(c.lineGutter=W,W.style.width=(c.lineNumWidth||1)+"px")}d.style.display=x.length?"":"none",Es(c)}function Ju(c){cf(c.display),Xn(c),La(c)}function nm(c,d,x,_){var w=this;this.input=x,w.scrollbarFiller=ie("div",null,"CodeMirror-scrollbar-filler"),w.scrollbarFiller.setAttribute("cm-not-content","true"),w.gutterFiller=ie("div",null,"CodeMirror-gutter-filler"),w.gutterFiller.setAttribute("cm-not-content","true"),w.lineDiv=pe("div",null,"CodeMirror-code"),w.selectionDiv=ie("div",null,null,"position: relative; z-index: 1"),w.cursorDiv=ie("div",null,"CodeMirror-cursors"),w.measure=ie("div",null,"CodeMirror-measure"),w.lineMeasure=ie("div",null,"CodeMirror-measure"),w.lineSpace=pe("div",[w.measure,w.lineMeasure,w.selectionDiv,w.cursorDiv,w.lineDiv],null,"position: relative; outline: none");var D=pe("div",[w.lineSpace],"CodeMirror-lines");w.mover=ie("div",[D],null,"position: relative"),w.sizer=ie("div",[w.mover],"CodeMirror-sizer"),w.sizerWidth=null,w.heightForcer=ie("div",null,null,"position: absolute; height: "+rt+"px; width: 1px;"),w.gutters=ie("div",null,"CodeMirror-gutters"),w.lineGutter=null,w.scroller=ie("div",[w.sizer,w.heightForcer,w.gutters],"CodeMirror-scroll"),w.scroller.setAttribute("tabIndex","-1"),w.wrapper=ie("div",[w.scrollbarFiller,w.gutterFiller,w.scroller],"CodeMirror"),w.wrapper.setAttribute("translate","no"),ve&&Qe<8&&(w.gutters.style.zIndex=-1,w.scroller.style.paddingRight=0),!Pe&&!(ue&&ct)&&(w.scroller.draggable=!0),c&&(c.appendChild?c.appendChild(w.wrapper):c(w.wrapper)),w.viewFrom=w.viewTo=d.first,w.reportedViewFrom=w.reportedViewTo=d.first,w.view=[],w.renderedView=null,w.externalMeasured=null,w.viewOffset=0,w.lastWrapHeight=w.lastWrapWidth=0,w.updateLineNumbers=null,w.nativeBarWidth=w.barHeight=w.barWidth=0,w.scrollbarsClipped=!1,w.lineNumWidth=w.lineNumInnerWidth=w.lineNumChars=null,w.alignWidgets=!1,w.cachedCharWidth=w.cachedTextHeight=w.cachedPaddingH=null,w.maxLine=null,w.maxLineLength=0,w.maxLineChanged=!1,w.wheelDX=w.wheelDY=w.wheelStartX=w.wheelStartY=null,w.shift=!1,w.selForContextMenu=null,w.activeTouch=null,w.gutterSpecs=uf(_.gutters,_.lineNumbers),cf(w),x.init(w)}nl.prototype.signal=function(c,d){ye(c,d)&&this.events.push(arguments)},nl.prototype.finish=function(){for(var c=0;c<this.events.length;c++)Ae.apply(null,this.events[c])};var jc=0,go=null;function il(c){var d=c.wheelDeltaX,x=c.wheelDeltaY;return null==d&&c.detail&&c.axis==c.HORIZONTAL_AXIS&&(d=c.detail),null==x&&c.detail&&c.axis==c.VERTICAL_AXIS?x=c.detail:null==x&&(x=c.wheelDelta),{x:d,y:x}}function im(c){var d=il(c);return d.x*=go,d.y*=go,d}function fp(c,d){var x=il(d),_=x.x,w=x.y,D=c.display,F=D.scroller,q=F.scrollHeight>F.clientHeight;if(_&&F.scrollWidth>F.clientWidth||w&&q){if(w&&ne&&Pe)e:for(var J=d.target,_e=D.view;J!=F;J=J.parentNode)for(var Se=0;Se<_e.length;Se++)if(_e[Se].node==J){c.display.currentWheelTarget=J;break e}if(_&&!ue&&!yt&&null!=go)return w&&q&&el(c,Math.max(0,F.scrollTop+w*go)),po(c,Math.max(0,F.scrollLeft+_*go)),(!w||w&&q)&&Xe(d),void(D.wheelStartX=null);if(w&&null!=go){var ze=w*go,Be=c.doc.scrollTop,vt=Be+D.wrapper.clientHeight;ze<0?Be=Math.max(0,Be+ze-50):vt=Math.min(c.doc.height,vt+ze+50),Zu(c,{top:Be,bottom:vt})}jc<20&&(null==D.wheelStartX?(D.wheelStartX=F.scrollLeft,D.wheelStartY=F.scrollTop,D.wheelDX=_,D.wheelDY=w,setTimeout(function(){if(null!=D.wheelStartX){var Et=F.scrollLeft-D.wheelStartX,Pt=F.scrollTop-D.wheelStartY,Wt=Pt&&D.wheelDY&&Pt/D.wheelDY||Et&&D.wheelDX&&Et/D.wheelDX;D.wheelStartX=D.wheelStartY=null,Wt&&(go=(go*jc+Wt)/(jc+1),++jc)}},200)):(D.wheelDX+=_,D.wheelDY+=w))}}ve?go=-.53:ue?go=15:Ce?go=-.7:St&&(go=-1/3);var To=function(c,d){this.ranges=c,this.primIndex=d};To.prototype.primary=function(){return this.ranges[this.primIndex]},To.prototype.equals=function(c){if(c==this)return!0;if(c.primIndex!=this.primIndex||c.ranges.length!=this.ranges.length)return!1;for(var d=0;d<this.ranges.length;d++){var x=this.ranges[d],_=c.ranges[d];if(!sa(x.anchor,_.anchor)||!sa(x.head,_.head))return!1}return!0},To.prototype.deepCopy=function(){for(var c=[],d=0;d<this.ranges.length;d++)c[d]=new pi(ya(this.ranges[d].anchor),ya(this.ranges[d].head));return new To(c,this.primIndex)},To.prototype.somethingSelected=function(){for(var c=0;c<this.ranges.length;c++)if(!this.ranges[c].empty())return!0;return!1},To.prototype.contains=function(c,d){d||(d=c);for(var x=0;x<this.ranges.length;x++){var _=this.ranges[x];if(Sn(d,_.from())>=0&&Sn(c,_.to())<=0)return x}return-1};var pi=function(c,d){this.anchor=c,this.head=d};function $o(c,d,x){var _=c&&c.options.selectionsMayTouch,w=d[x];d.sort(function(ze,Be){return Sn(ze.from(),Be.from())}),x=Lt(d,w);for(var D=1;D<d.length;D++){var F=d[D],W=d[D-1],q=Sn(W.to(),F.from());if(_&&!F.empty()?q>0:q>=0){var J=zr(W.from(),F.from()),_e=fs(W.to(),F.to()),Se=W.empty()?F.from()==F.head:W.from()==W.head;D<=x&&--x,d.splice(--D,2,new pi(Se?_e:J,Se?J:_e))}}return new To(d,x)}function rl(c,d){return new To([new pi(c,d||c)],0)}function Da(c){return c.text?Ot(c.from.line+c.text.length-1,Rt(c.text).length+(1==c.text.length?c.from.ch:0)):c.to}function qc(c,d){if(Sn(c,d.from)<0)return c;if(Sn(c,d.to)<=0)return Da(d);var x=c.line+d.text.length-(d.to.line-d.from.line)-1,_=c.ch;return c.line==d.to.line&&(_+=Da(d).ch-d.to.ch),Ot(x,_)}function Kc(c,d){for(var x=[],_=0;_<c.sel.ranges.length;_++){var w=c.sel.ranges[_];x.push(new pi(qc(w.anchor,d),qc(w.head,d)))}return $o(c.cm,x,c.sel.primIndex)}function hf(c,d,x){return c.line==d.line?Ot(x.line,c.ch-d.ch+x.ch):Ot(x.line+(c.line-d.line),c.ch)}function ff(c){c.doc.mode=Xi(c.options,c.doc.modeOption),Qu(c)}function Qu(c){c.doc.iter(function(d){d.stateAfter&&(d.stateAfter=null),d.styles&&(d.styles=null)}),c.doc.modeFrontier=c.doc.highlightFrontier=c.doc.first,Fn(c,100),c.state.modeGen++,c.curOp&&Xn(c)}function df(c,d){return 0==d.from.ch&&0==d.to.ch&&""==Rt(d.text)&&(!c.cm||c.cm.options.wholeLineUpdateBefore)}function pf(c,d,x,_){function w(Qt){return x?x[Qt]:null}function D(Qt,Gt,$t){(function ht(c,d,x,_){c.text=d,c.stateAfter&&(c.stateAfter=null),c.styles&&(c.styles=null),null!=c.order&&(c.order=null),ms(c),no(c,x);var w=_?_(c):1;w!=c.height&&ur(c,w)})(Qt,Gt,$t,_),hi(Qt,"change",Qt,d)}function F(Qt,Gt){for(var $t=[],vn=Qt;vn<Gt;++vn)$t.push(new at(J[vn],w(vn),_));return $t}var W=d.from,q=d.to,J=d.text,_e=en(c,W.line),Se=en(c,q.line),ze=Rt(J),Be=w(J.length-1),vt=q.line-W.line;if(d.full)c.insert(0,F(0,J.length)),c.remove(J.length,c.size-J.length);else if(df(c,d)){var Et=F(0,J.length-1);D(Se,Se.text,Be),vt&&c.remove(W.line,vt),Et.length&&c.insert(W.line,Et)}else if(_e==Se)if(1==J.length)D(_e,_e.text.slice(0,W.ch)+ze+_e.text.slice(q.ch),Be);else{var Pt=F(1,J.length-1);Pt.push(new at(ze+_e.text.slice(q.ch),Be,_)),D(_e,_e.text.slice(0,W.ch)+J[0],w(0)),c.insert(W.line+1,Pt)}else if(1==J.length)D(_e,_e.text.slice(0,W.ch)+J[0]+Se.text.slice(q.ch),w(0)),c.remove(W.line+1,vt);else{D(_e,_e.text.slice(0,W.ch)+J[0],w(0)),D(Se,ze+Se.text.slice(q.ch),Be);var Wt=F(1,J.length-1);vt>1&&c.remove(W.line+1,vt-1),c.insert(W.line+1,Wt)}hi(c,"change",c,d)}function Xa(c,d,x){!function _(w,D,F){if(w.linked)for(var W=0;W<w.linked.length;++W){var q=w.linked[W];if(q.doc!=D){var J=F&&q.sharedHist;x&&!J||(d(q.doc,J),_(q.doc,w,J))}}}(c,null,!0)}function pp(c,d){if(d.cm)throw new Error("This document is already in use.");c.doc=d,d.cm=c,Gn(c),ff(c),gp(c),c.options.direction=d.direction,c.options.lineWrapping||bt(c),c.options.mode=d.modeOption,Xn(c)}function gp(c){("rtl"==c.doc.direction?Y:et)(c.display.lineDiv,"CodeMirror-rtl")}function ou(c){this.done=[],this.undone=[],this.undoDepth=c?c.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=c?c.maxGeneration:1}function Cs(c,d){var x={from:ya(d.from),to:Da(d),text:to(c,d.from,d.to)};return ec(c,x,d.from.line,d.to.line+1),Xa(c,function(_){return ec(_,x,d.from.line,d.to.line+1)},!0),x}function $u(c){for(;c.length&&Rt(c).ranges;)c.pop()}function yp(c,d,x,_){var w=c.history;w.undone.length=0;var F,W,D=+new Date;if((w.lastOp==_||w.lastOrigin==d.origin&&d.origin&&("+"==d.origin.charAt(0)&&w.lastModTime>D-(c.cm?c.cm.options.historyEventDelay:500)||"*"==d.origin.charAt(0)))&&(F=function mp(c,d){return d?($u(c.done),Rt(c.done)):c.done.length&&!Rt(c.done).ranges?Rt(c.done):c.done.length>1&&!c.done[c.done.length-2].ranges?(c.done.pop(),Rt(c.done)):void 0}(w,w.lastOp==_)))W=Rt(F.changes),0==Sn(d.from,d.to)&&0==Sn(d.from,W.to)?W.to=Da(d):F.changes.push(Cs(c,d));else{var q=Rt(w.done);for((!q||!q.ranges)&&au(c.sel,w.done),F={changes:[Cs(c,d)],generation:w.generation},w.done.push(F);w.done.length>w.undoDepth;)w.done.shift(),w.done[0].ranges||w.done.shift()}w.done.push(x),w.generation=++w.maxGeneration,w.lastModTime=w.lastSelTime=D,w.lastOp=w.lastSelOp=_,w.lastOrigin=w.lastSelOrigin=d.origin,W||Ae(c,"historyAdded")}function au(c,d){var x=Rt(d);x&&x.ranges&&x.equals(c)||d.push(c)}function ec(c,d,x,_){var w=d["spans_"+c.id],D=0;c.iter(Math.max(c.first,x),Math.min(c.first+c.size,_),function(F){F.markedSpans&&((w||(w=d["spans_"+c.id]={}))[D]=F.markedSpans),++D})}function ol(c){if(!c)return null;for(var d,x=0;x<c.length;++x)c[x].marker.explicitlyCleared?d||(d=c.slice(0,x)):d&&d.push(c[x]);return d?d.length?d:null:c}function vf(c,d){var x=function _p(c,d){var x=d["spans_"+c.id];if(!x)return null;for(var _=[],w=0;w<d.text.length;++w)_.push(ol(x[w]));return _}(c,d),_=xr(c,d);if(!x)return _;if(!_)return x;for(var w=0;w<x.length;++w){var D=x[w],F=_[w];if(D&&F)e:for(var W=0;W<F.length;++W){for(var q=F[W],J=0;J<D.length;++J)if(D[J].marker==q.marker)continue e;D.push(q)}else F&&(x[w]=F)}return x}function Ll(c,d,x){for(var _=[],w=0;w<c.length;++w){var D=c[w];if(D.ranges)_.push(x?To.prototype.deepCopy.call(D):D);else{var F=D.changes,W=[];_.push({changes:W});for(var q=0;q<F.length;++q){var J=F[q],_e=void 0;if(W.push({from:J.from,to:J.to,text:J.text}),d)for(var Se in J)(_e=Se.match(/^spans_(\d+)$/))&&Lt(d,Number(_e[1]))>-1&&(Rt(W)[Se]=J[Se],delete J[Se])}}}return _}function su(c,d,x,_){if(_){var w=c.anchor;if(x){var D=Sn(d,w)<0;D!=Sn(x,w)<0?(w=d,d=x):D!=Sn(d,x)<0&&(d=x)}return new pi(w,d)}return new pi(x||d,d)}function ea(c,d,x,_,w){null==w&&(w=c.cm&&(c.cm.display.shift||c.extend)),Zr(c,new To([su(c.sel.primary(),d,x,w)],0),_)}function ta(c,d,x){for(var _=[],w=c.cm&&(c.cm.display.shift||c.extend),D=0;D<c.sel.ranges.length;D++)_[D]=su(c.sel.ranges[D],d[D],null,w);Zr(c,$o(c.cm,_,c.sel.primIndex),x)}function al(c,d,x,_){var w=c.sel.ranges.slice(0);w[d]=x,Zr(c,$o(c.cm,w,c.sel.primIndex),_)}function Is(c,d,x,_){Zr(c,rl(d,x),_)}function zi(c,d,x){var _=c.history.done,w=Rt(_);w&&w.ranges?(_[_.length-1]=d,lu(c,d,x)):Zr(c,d,x)}function Zr(c,d,x){lu(c,d,x),function gf(c,d,x,_){var w=c.history,D=_&&_.origin;x==w.lastSelOp||D&&w.lastSelOrigin==D&&(w.lastModTime==w.lastSelTime&&w.lastOrigin==D||function Na(c,d,x,_){var w=d.charAt(0);return"*"==w||"+"==w&&x.ranges.length==_.ranges.length&&x.somethingSelected()==_.somethingSelected()&&new Date-c.history.lastSelTime<=(c.cm?c.cm.options.historyEventDelay:500)}(c,D,Rt(w.done),d))?w.done[w.done.length-1]=d:au(d,w.done),w.lastSelTime=+new Date,w.lastSelOrigin=D,w.lastSelOp=x,_&&!1!==_.clearRedo&&$u(w.undone)}(c,c.sel,c.cm?c.cm.curOp.id:NaN,x)}function lu(c,d,x){(ye(c,"beforeSelectionChange")||c.cm&&ye(c.cm,"beforeSelectionChange"))&&(d=function xp(c,d,x){var _={ranges:d.ranges,update:function(w){this.ranges=[];for(var D=0;D<w.length;D++)this.ranges[D]=new pi(xn(c,w[D].anchor),xn(c,w[D].head))},origin:x&&x.origin};return Ae(c,"beforeSelectionChange",c,_),c.cm&&Ae(c.cm,"beforeSelectionChange",c.cm,_),_.ranges!=d.ranges?$o(c.cm,_.ranges,_.ranges.length-1):d}(c,d,x));var _=x&&x.bias||(Sn(d.primary().head,c.sel.primary().head)<0?-1:1);mf(c,yf(c,d,_,!0)),(!x||!1!==x.scroll)&&c.cm&&"nocursor"!=c.cm.getOption("readOnly")&&tu(c.cm)}function mf(c,d){d.equals(c.sel)||(c.sel=d,c.cm&&(c.cm.curOp.updateInput=1,c.cm.curOp.selectionChanged=!0,ae(c.cm)),hi(c,"cursorActivity",c))}function As(c){mf(c,yf(c,c.sel,null,!1))}function yf(c,d,x,_){for(var w,D=0;D<d.ranges.length;D++){var F=d.ranges[D],W=d.ranges.length==c.sel.ranges.length&&c.sel.ranges[D],q=yr(c,F.anchor,W&&W.anchor,x,_),J=yr(c,F.head,W&&W.head,x,_);(w||q!=F.anchor||J!=F.head)&&(w||(w=d.ranges.slice(0,D)),w[D]=new pi(q,J))}return w?$o(c.cm,w,d.primIndex):d}function uu(c,d,x,_,w){var D=en(c,d.line);if(D.markedSpans)for(var F=0;F<D.markedSpans.length;++F){var W=D.markedSpans[F],q=W.marker,J="selectLeft"in q?!q.selectLeft:q.inclusiveLeft,_e="selectRight"in q?!q.selectRight:q.inclusiveRight;if((null==W.from||(J?W.from<=d.ch:W.from<d.ch))&&(null==W.to||(_e?W.to>=d.ch:W.to>d.ch))){if(w&&(Ae(q,"beforeCursorEnter"),q.explicitlyCleared)){if(D.markedSpans){--F;continue}break}if(!q.atomic)continue;if(x){var Se=q.find(_<0?1:-1),ze=void 0;if((_<0?_e:J)&&(Se=Zc(c,Se,-_,Se&&Se.line==d.line?D:null)),Se&&Se.line==d.line&&(ze=Sn(Se,x))&&(_<0?ze<0:ze>0))return uu(c,Se,d,_,w)}var Be=q.find(_<0?-1:1);return(_<0?J:_e)&&(Be=Zc(c,Be,_,Be.line==d.line?D:null)),Be?uu(c,Be,d,_,w):null}}return d}function yr(c,d,x,_,w){var D=_||1;return uu(c,d,x,D,w)||!w&&uu(c,d,x,D,!0)||uu(c,d,x,-D,w)||!w&&uu(c,d,x,-D,!0)||(c.cantEdit=!0,Ot(c.first,0))}function Zc(c,d,x,_){return x<0&&0==d.ch?d.line>c.first?xn(c,Ot(d.line-1)):null:x>0&&d.ch==(_||en(c,d.line)).text.length?d.line<c.first+c.size-1?Ot(d.line+1,0):null:new Ot(d.line,d.ch+x)}function _f(c){c.setSelection(Ot(c.firstLine(),0),Ot(c.lastLine()),Jt)}function cu(c,d,x){var _={canceled:!1,from:d.from,to:d.to,text:d.text,origin:d.origin,cancel:function(){return _.canceled=!0}};return x&&(_.update=function(w,D,F,W){w&&(_.from=xn(c,w)),D&&(_.to=xn(c,D)),F&&(_.text=F),void 0!==W&&(_.origin=W)}),Ae(c,"beforeChange",c,_),c.cm&&Ae(c.cm,"beforeChange",c.cm,_),_.canceled?(c.cm&&(c.cm.curOp.updateInput=2),null):{from:_.from,to:_.to,text:_.text,origin:_.origin}}function Dl(c,d,x){if(c.cm){if(!c.cm.curOp)return vr(c.cm,Dl)(c,d,x);if(c.cm.state.suppressEdits)return}if(!(ye(c,"beforeChange")||c.cm&&ye(c.cm,"beforeChange"))||(d=cu(c,d,!0))){var _=wl&&!x&&function Zs(c,d,x){var _=null;if(c.iter(d.line,x.line+1,function(Be){if(Be.markedSpans)for(var vt=0;vt<Be.markedSpans.length;++vt){var Et=Be.markedSpans[vt].marker;Et.readOnly&&(!_||-1==Lt(_,Et))&&(_||(_=[])).push(Et)}}),!_)return null;for(var w=[{from:d,to:x}],D=0;D<_.length;++D)for(var F=_[D],W=F.find(0),q=0;q<w.length;++q){var J=w[q];if(!(Sn(J.to,W.from)<0||Sn(J.from,W.to)>0)){var _e=[q,1],Se=Sn(J.from,W.from),ze=Sn(J.to,W.to);(Se<0||!F.inclusiveLeft&&!Se)&&_e.push({from:J.from,to:W.from}),(ze>0||!F.inclusiveRight&&!ze)&&_e.push({from:W.to,to:J.to}),w.splice.apply(w,_e),q+=_e.length-3}}return w}(c,d.from,d.to);if(_)for(var w=_.length-1;w>=0;--w)bp(c,{from:_[w].from,to:_[w].to,text:w?[""]:d.text,origin:d.origin});else bp(c,d)}}function bp(c,d){if(1!=d.text.length||""!=d.text[0]||0!=Sn(d.from,d.to)){var x=Kc(c,d);yp(c,d,x,c.cm?c.cm.curOp.id:NaN),Nl(c,d,x,xr(c,d));var _=[];Xa(c,function(w,D){!D&&-1==Lt(_,w.history)&&(ic(w.history,d),_.push(w.history)),Nl(w,d,null,xr(w,d))})}}function ro(c,d,x){var _=c.cm&&c.cm.state.suppressEdits;if(!_||x){for(var D,w=c.history,F=c.sel,W="undo"==d?w.done:w.undone,q="undo"==d?w.undone:w.done,J=0;J<W.length&&(D=W[J],!(x?D.ranges&&!D.equals(c.sel):!D.ranges));J++);if(J!=W.length){for(w.lastOrigin=w.lastSelOrigin=null;;){if(!(D=W.pop()).ranges){if(_)return void W.push(D);break}if(au(D,q),x&&!D.equals(c.sel))return void Zr(c,D,{clearRedo:!1});F=D}var _e=[];au(F,q),q.push({changes:_e,generation:w.generation}),w.generation=D.generation||++w.maxGeneration;for(var Se=ye(c,"beforeChange")||c.cm&&ye(c.cm,"beforeChange"),ze=function(Et){var Pt=D.changes[Et];if(Pt.origin=d,Se&&!cu(c,Pt,!1))return W.length=0,{};_e.push(Cs(c,Pt));var Wt=Et?Kc(c,Pt):Rt(W);Nl(c,Pt,Wt,vf(c,Pt)),!Et&&c.cm&&c.cm.scrollIntoView({from:Pt.from,to:Da(Pt)});var Qt=[];Xa(c,function(Gt,$t){!$t&&-1==Lt(Qt,Gt.history)&&(ic(Gt.history,Pt),Qt.push(Gt.history)),Nl(Gt,Pt,null,vf(Gt,Pt))})},Be=D.changes.length-1;Be>=0;--Be){var vt=ze(Be);if(vt)return vt.v}}}}function Eo(c,d){if(0!=d&&(c.first+=d,c.sel=new To(ei(c.sel.ranges,function(w){return new pi(Ot(w.anchor.line+d,w.anchor.ch),Ot(w.head.line+d,w.head.ch))}),c.sel.primIndex),c.cm)){Xn(c.cm,c.first,c.first-d,d);for(var x=c.cm.display,_=x.viewFrom;_<x.viewTo;_++)Di(c.cm,_,"gutter")}}function Nl(c,d,x,_){if(c.cm&&!c.cm.curOp)return vr(c.cm,Nl)(c,d,x,_);if(d.to.line<c.first)Eo(c,d.text.length-1-(d.to.line-d.from.line));else if(!(d.from.line>c.lastLine())){if(d.from.line<c.first){var w=d.text.length-1-(c.first-d.from.line);Eo(c,w),d={from:Ot(c.first,0),to:Ot(d.to.line+w,d.to.ch),text:[Rt(d.text)],origin:d.origin}}var D=c.lastLine();d.to.line>D&&(d={from:d.from,to:Ot(D,en(c,D).text.length),text:[d.text[0]],origin:d.origin}),d.removed=to(c,d.from,d.to),x||(x=Kc(c,d)),c.cm?function xf(c,d,x){var _=c.doc,w=c.display,D=d.from,F=d.to,W=!1,q=D.line;c.options.lineWrapping||(q=An(N(en(_,D.line))),_.iter(q,F.line+1,function(Be){if(Be==w.maxLine)return W=!0,!0})),_.sel.contains(d.from,d.to)>-1&&ae(c),pf(_,d,x,yn(c)),c.options.lineWrapping||(_.iter(q,D.line+d.text.length,function(Be){var vt=Ze(Be);vt>w.maxLineLength&&(w.maxLine=Be,w.maxLineLength=vt,w.maxLineChanged=!0,W=!1)}),W&&(c.curOp.updateMaxLine=!0)),function qs(c,d){if(c.modeFrontier=Math.min(c.modeFrontier,d),!(c.highlightFrontier<d-10)){for(var x=c.first,_=d-1;_>x;_--){var w=en(c,_).stateAfter;if(w&&(!(w instanceof uo)||_+w.lookAhead<d)){x=_+1;break}}c.highlightFrontier=Math.min(c.highlightFrontier,x)}}(_,D.line),Fn(c,400);var J=d.text.length-(F.line-D.line)-1;d.full?Xn(c):D.line!=F.line||1!=d.text.length||df(c.doc,d)?Xn(c,D.line,F.line+1,J):Di(c,D.line,"text");var _e=ye(c,"changes"),Se=ye(c,"change");if(Se||_e){var ze={from:D,to:F,text:d.text,removed:d.removed,origin:d.origin};Se&&hi(c,"change",c,ze),_e&&(c.curOp.changeObjs||(c.curOp.changeObjs=[])).push(ze)}c.display.selForContextMenu=null}(c.cm,d,_):pf(c,d,_),lu(c,x,Jt),c.cantEdit&&yr(c,Ot(c.firstLine(),0))&&(c.cantEdit=!1)}}function ha(c,d,x,_,w){var D;_||(_=x),Sn(_,x)<0&&(x=(D=[_,x])[0],_=D[1]),"string"==typeof d&&(d=c.splitLines(d)),Dl(c,{from:x,to:_,text:d,origin:w})}function tc(c,d,x,_){x<c.line?c.line+=_:d<c.line&&(c.line=d,c.ch=0)}function nc(c,d,x,_){for(var w=0;w<c.length;++w){var D=c[w],F=!0;if(D.ranges){D.copied||((D=c[w]=D.deepCopy()).copied=!0);for(var W=0;W<D.ranges.length;W++)tc(D.ranges[W].anchor,d,x,_),tc(D.ranges[W].head,d,x,_)}else{for(var q=0;q<D.changes.length;++q){var J=D.changes[q];if(x<J.from.line)J.from=Ot(J.from.line+_,J.from.ch),J.to=Ot(J.to.line+_,J.to.ch);else if(d<=J.to.line){F=!1;break}}F||(c.splice(0,w+1),w=0)}}}function ic(c,d){var x=d.from.line,_=d.to.line,w=d.text.length-(_-x)-1;nc(c.done,x,_,w),nc(c.undone,x,_,w)}function Ms(c,d,x,_){var w=d,D=d;return"number"==typeof d?D=en(c,_a(c,d)):w=An(d),null==w?null:(_(D,w)&&c.cm&&Di(c.cm,w,x),D)}function hu(c){this.lines=c,this.parent=null;for(var d=0,x=0;x<c.length;++x)c[x].parent=this,d+=c[x].height;this.height=d}function fu(c){this.children=c;for(var d=0,x=0,_=0;_<c.length;++_){var w=c[_];d+=w.chunkSize(),x+=w.height,w.parent=this}this.size=d,this.height=x,this.parent=null}pi.prototype.from=function(){return zr(this.anchor,this.head)},pi.prototype.to=function(){return fs(this.anchor,this.head)},pi.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},hu.prototype={chunkSize:function(){return this.lines.length},removeInner:function(c,d){for(var x=c,_=c+d;x<_;++x){var w=this.lines[x];this.height-=w.height,nn(w),hi(w,"delete")}this.lines.splice(c,d)},collapse:function(c){c.push.apply(c,this.lines)},insertInner:function(c,d,x){this.height+=x,this.lines=this.lines.slice(0,c).concat(d).concat(this.lines.slice(c));for(var _=0;_<d.length;++_)d[_].parent=this},iterN:function(c,d,x){for(var _=c+d;c<_;++c)if(x(this.lines[c]))return!0}},fu.prototype={chunkSize:function(){return this.size},removeInner:function(c,d){this.size-=d;for(var x=0;x<this.children.length;++x){var _=this.children[x],w=_.chunkSize();if(c<w){var D=Math.min(d,w-c),F=_.height;if(_.removeInner(c,D),this.height-=F-_.height,w==D&&(this.children.splice(x--,1),_.parent=null),0==(d-=D))break;c=0}else c-=w}if(this.size-d<25&&(this.children.length>1||!(this.children[0]instanceof hu))){var W=[];this.collapse(W),this.children=[new hu(W)],this.children[0].parent=this}},collapse:function(c){for(var d=0;d<this.children.length;++d)this.children[d].collapse(c)},insertInner:function(c,d,x){this.size+=d.length,this.height+=x;for(var _=0;_<this.children.length;++_){var w=this.children[_],D=w.chunkSize();if(c<=D){if(w.insertInner(c,d,x),w.lines&&w.lines.length>50){for(var F=w.lines.length%25+25,W=F;W<w.lines.length;){var q=new hu(w.lines.slice(W,W+=25));w.height-=q.height,this.children.splice(++_,0,q),q.parent=this}w.lines=w.lines.slice(0,F),this.maybeSpill()}break}c-=D}},maybeSpill:function(){if(!(this.children.length<=10)){var c=this;do{var x=new fu(c.children.splice(c.children.length-5,5));if(c.parent){c.size-=x.size,c.height-=x.height;var w=Lt(c.parent.children,c);c.parent.children.splice(w+1,0,x)}else{var _=new fu(c.children);_.parent=c,c.children=[_,x],c=_}x.parent=c.parent}while(c.children.length>10);c.parent.maybeSpill()}},iterN:function(c,d,x){for(var _=0;_<this.children.length;++_){var w=this.children[_],D=w.chunkSize();if(c<D){var F=Math.min(d,D-c);if(w.iterN(c,F,x))return!0;if(0==(d-=F))break;c=0}else c-=D}}};var du=function(c,d,x){if(x)for(var _ in x)x.hasOwnProperty(_)&&(this[_]=x[_]);this.doc=c,this.node=d};function Sp(c,d,x){xe(d)<(c.curOp&&c.curOp.scrollTop||c.doc.scrollTop)&&Cl(c,x)}du.prototype.clear=function(){var c=this.doc.cm,d=this.line.widgets,x=this.line,_=An(x);if(null!=_&&d){for(var w=0;w<d.length;++w)d[w]==this&&d.splice(w--,1);d.length||(x.widgets=null);var D=Ea(this);ur(x,Math.max(0,x.height-D)),c&&(ci(c,function(){Sp(c,x,-D),Di(c,_,"widget")}),hi(c,"lineWidgetCleared",c,this,_))}},du.prototype.changed=function(){var c=this,d=this.height,x=this.doc.cm,_=this.line;this.height=null;var w=Ea(this)-d;w&&(te(this.doc,_)||ur(_,_.height+w),x&&ci(x,function(){x.curOp.forceUpdate=!0,Sp(x,_,w),hi(x,"lineWidgetChanged",x,c,An(_))}))},Fe(du);var wp=0,qn=function(c,d){this.lines=[],this.type=d,this.doc=c,this.id=++wp};function fa(c,d,x,_,w){if(_&&_.shared)return function ja(c,d,x,_,w){(_=rn(_)).shared=!1;var D=[fa(c,d,x,_,w)],F=D[0],W=_.widgetNode;return Xa(c,function(q){W&&(_.widgetNode=W.cloneNode(!0)),D.push(fa(q,xn(q,d),xn(q,x),_,w));for(var J=0;J<q.linked.length;++J)if(q.linked[J].isParent)return;F=Rt(D)}),new Ra(D,F)}(c,d,x,_,w);if(c.cm&&!c.cm.curOp)return vr(c.cm,fa)(c,d,x,_,w);var D=new qn(c,w),F=Sn(d,x);if(_&&rn(_,D,!1),F>0||0==F&&!1!==D.clearWhenEmpty)return D;if(D.replacedWith&&(D.collapsed=!0,D.widgetNode=pe("span",[D.replacedWith],"CodeMirror-widget"),_.handleMouseEvents||D.widgetNode.setAttribute("cm-ignore-events","true"),_.insertLeft&&(D.widgetNode.insertLeft=!0)),D.collapsed){if(O(c,d.line,d,x,D)||d.line!=x.line&&O(c,x.line,d,x,D))throw new Error("Inserting collapsed marker partially overlapping an existing one");!function Jl(){Go=!0}()}D.addToHistory&&yp(c,{from:d,to:x,origin:"markText"},c.sel,NaN);var J,W=d.line,q=c.cm;if(c.iter(W,x.line+1,function(Se){q&&D.collapsed&&!q.options.lineWrapping&&N(Se)==q.display.maxLine&&(J=!0),D.collapsed&&W!=d.line&&ur(Se,0),function Yo(c,d,x){var _=x&&window.WeakSet&&(x.markedSpans||(x.markedSpans=new WeakSet));_&&_.has(c.markedSpans)?c.markedSpans.push(d):(c.markedSpans=c.markedSpans?c.markedSpans.concat([d]):[d],_&&_.add(c.markedSpans)),d.marker.attachLine(c)}(Se,new Vr(D,W==d.line?d.ch:null,W==x.line?x.ch:null),c.cm&&c.cm.curOp),++W}),D.collapsed&&c.iter(d.line,x.line+1,function(Se){te(c,Se)&&ur(Se,0)}),D.clearOnEnter&&ut(D,"beforeCursorEnter",function(){return D.clear()}),D.readOnly&&(function xa(){wl=!0}(),(c.history.done.length||c.history.undone.length)&&c.clearHistory()),D.collapsed&&(D.id=++wp,D.atomic=!0),q){if(J&&(q.curOp.updateMaxLine=!0),D.collapsed)Xn(q,d.line,x.line+1);else if(D.className||D.startStyle||D.endStyle||D.css||D.attributes||D.title)for(var _e=d.line;_e<=x.line;_e++)Di(q,_e,"text");D.atomic&&As(q.doc),hi(q,"markerAdded",q,D)}return D}qn.prototype.clear=function(){if(!this.explicitlyCleared){var c=this.doc.cm,d=c&&!c.curOp;if(d&&Yn(c),ye(this,"clear")){var x=this.find();x&&hi(this,"clear",x.from,x.to)}for(var _=null,w=null,D=0;D<this.lines.length;++D){var F=this.lines[D],W=Wo(F.markedSpans,this);c&&!this.collapsed?Di(c,An(F),"text"):c&&(null!=W.to&&(w=An(F)),null!=W.from&&(_=An(F))),F.markedSpans=Ks(F.markedSpans,W),null==W.from&&this.collapsed&&!te(this.doc,F)&&c&&ur(F,Ut(c.display))}if(c&&this.collapsed&&!c.options.lineWrapping)for(var q=0;q<this.lines.length;++q){var J=N(this.lines[q]),_e=Ze(J);_e>c.display.maxLineLength&&(c.display.maxLine=J,c.display.maxLineLength=_e,c.display.maxLineChanged=!0)}null!=_&&c&&this.collapsed&&Xn(c,_,w+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,c&&As(c.doc)),c&&hi(c,"markerCleared",c,this,_,w),d&&Qo(c),this.parent&&this.parent.clear()}},qn.prototype.find=function(c,d){null==c&&"bookmark"==this.type&&(c=1);for(var x,_,w=0;w<this.lines.length;++w){var D=this.lines[w],F=Wo(D.markedSpans,this);if(null!=F.from&&(x=Ot(d?D:An(D),F.from),-1==c))return x;if(null!=F.to&&(_=Ot(d?D:An(D),F.to),1==c))return _}return x&&{from:x,to:_}},qn.prototype.changed=function(){var c=this,d=this.find(-1,!0),x=this,_=this.doc.cm;!d||!_||ci(_,function(){var w=d.line,D=An(d.line),F=Ss(_,D);if(F&&(gn(F),_.curOp.selectionChanged=_.curOp.forceUpdate=!0),_.curOp.updateMaxLine=!0,!te(x.doc,w)&&null!=x.height){var W=x.height;x.height=null;var q=Ea(x)-W;q&&ur(w,w.height+q)}hi(_,"markerChanged",_,c)})},qn.prototype.attachLine=function(c){if(!this.lines.length&&this.doc.cm){var d=this.doc.cm.curOp;(!d.maybeHiddenMarkers||-1==Lt(d.maybeHiddenMarkers,this))&&(d.maybeUnhiddenMarkers||(d.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(c)},qn.prototype.detachLine=function(c){if(this.lines.splice(Lt(this.lines,c),1),!this.lines.length&&this.doc.cm){var d=this.doc.cm.curOp;(d.maybeHiddenMarkers||(d.maybeHiddenMarkers=[])).push(this)}},Fe(qn);var Ra=function(c,d){this.markers=c,this.primary=d;for(var x=0;x<c.length;++x)c[x].parent=this};function Ls(c){return c.findMarks(Ot(c.first,0),c.clipPos(Ot(c.lastLine())),function(d){return d.parent})}function Ka(c){for(var d=function(_){var w=c[_],D=[w.primary.doc];Xa(w.primary.doc,function(q){return D.push(q)});for(var F=0;F<w.markers.length;F++){var W=w.markers[F];-1==Lt(D,W.doc)&&(W.parent=null,w.markers.splice(F--,1))}},x=0;x<c.length;x++)d(x)}Ra.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var c=0;c<this.markers.length;++c)this.markers[c].clear();hi(this,"clear")}},Ra.prototype.find=function(c,d){return this.primary.find(c,d)},Fe(Ra);var rc=0,Nr=function(c,d,x,_,w){if(!(this instanceof Nr))return new Nr(c,d,x,_,w);null==x&&(x=0),fu.call(this,[new hu([new at("",null)])]),this.first=x,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=x;var D=Ot(x,0);this.sel=rl(D),this.history=new ou(null),this.id=++rc,this.modeOption=d,this.lineSep=_,this.direction="rtl"==w?"rtl":"ltr",this.extend=!1,"string"==typeof c&&(c=this.splitLines(c)),pf(this,{from:D,to:D,text:c}),Zr(this,rl(D),Jt)};Nr.prototype=ti(fu.prototype,{constructor:Nr,iter:function(c,d,x){x?this.iterN(c-this.first,d-c,x):this.iterN(this.first,this.first+this.size,c)},insert:function(c,d){for(var x=0,_=0;_<d.length;++_)x+=d[_].height;this.insertInner(c-this.first,d,x)},remove:function(c,d){this.removeInner(c-this.first,d)},getValue:function(c){var d=lr(this,this.first,this.first+this.size);return!1===c?d:d.join(c||this.lineSeparator())},setValue:Ui(function(c){var d=Ot(this.first,0),x=this.first+this.size-1;Dl(this,{from:d,to:Ot(x,en(this,x).text.length),text:this.splitLines(c),origin:"setValue",full:!0},!0),this.cm&&io(this.cm,0,0),Zr(this,rl(d),Jt)}),replaceRange:function(c,d,x,_){ha(this,c,d=xn(this,d),x=x?xn(this,x):d,_)},getRange:function(c,d,x){var _=to(this,xn(this,c),xn(this,d));return!1===x?_:_.join(""===x?"":x||this.lineSeparator())},getLine:function(c){var d=this.getLineHandle(c);return d&&d.text},getLineHandle:function(c){if(Mr(this,c))return en(this,c)},getLineNumber:function(c){return An(c)},getLineHandleVisualStart:function(c){return"number"==typeof c&&(c=en(this,c)),N(c)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(c){return xn(this,c)},getCursor:function(c){var d=this.sel.primary();return null==c||"head"==c?d.head:"anchor"==c?d.anchor:"end"==c||"to"==c||!1===c?d.to():d.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Ui(function(c,d,x){Is(this,xn(this,"number"==typeof c?Ot(c,d||0):c),null,x)}),setSelection:Ui(function(c,d,x){Is(this,xn(this,c),xn(this,d||c),x)}),extendSelection:Ui(function(c,d,x){ea(this,xn(this,c),d&&xn(this,d),x)}),extendSelections:Ui(function(c,d){ta(this,Zl(this,c),d)}),extendSelectionsBy:Ui(function(c,d){ta(this,Zl(this,ei(this.sel.ranges,c)),d)}),setSelections:Ui(function(c,d,x){if(c.length){for(var _=[],w=0;w<c.length;w++)_[w]=new pi(xn(this,c[w].anchor),xn(this,c[w].head||c[w].anchor));null==d&&(d=Math.min(c.length-1,this.sel.primIndex)),Zr(this,$o(this.cm,_,d),x)}}),addSelection:Ui(function(c,d,x){var _=this.sel.ranges.slice(0);_.push(new pi(xn(this,c),xn(this,d||c))),Zr(this,$o(this.cm,_,_.length-1),x)}),getSelection:function(c){for(var x,d=this.sel.ranges,_=0;_<d.length;_++){var w=to(this,d[_].from(),d[_].to());x=x?x.concat(w):w}return!1===c?x:x.join(c||this.lineSeparator())},getSelections:function(c){for(var d=[],x=this.sel.ranges,_=0;_<x.length;_++){var w=to(this,x[_].from(),x[_].to());!1!==c&&(w=w.join(c||this.lineSeparator())),d[_]=w}return d},replaceSelection:function(c,d,x){for(var _=[],w=0;w<this.sel.ranges.length;w++)_[w]=c;this.replaceSelections(_,d,x||"+input")},replaceSelections:Ui(function(c,d,x){for(var _=[],w=this.sel,D=0;D<w.ranges.length;D++){var F=w.ranges[D];_[D]={from:F.from(),to:F.to(),text:this.splitLines(c[D]),origin:x}}for(var W=d&&"end"!=d&&function dp(c,d,x){for(var _=[],w=Ot(c.first,0),D=w,F=0;F<d.length;F++){var W=d[F],q=hf(W.from,w,D),J=hf(Da(W),w,D);if(w=W.to,D=J,"around"==x){var _e=c.sel.ranges[F],Se=Sn(_e.head,_e.anchor)<0;_[F]=new pi(Se?J:q,Se?q:J)}else _[F]=new pi(q,q)}return new To(_,c.sel.primIndex)}(this,_,d),q=_.length-1;q>=0;q--)Dl(this,_[q]);W?zi(this,W):this.cm&&tu(this.cm)}),undo:Ui(function(){ro(this,"undo")}),redo:Ui(function(){ro(this,"redo")}),undoSelection:Ui(function(){ro(this,"undo",!0)}),redoSelection:Ui(function(){ro(this,"redo",!0)}),setExtending:function(c){this.extend=c},getExtending:function(){return this.extend},historySize:function(){for(var c=this.history,d=0,x=0,_=0;_<c.done.length;_++)c.done[_].ranges||++d;for(var w=0;w<c.undone.length;w++)c.undone[w].ranges||++x;return{undo:d,redo:x}},clearHistory:function(){var c=this;this.history=new ou(this.history),Xa(this,function(d){return d.history=c.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(c){return c&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(c){return this.history.generation==(c||this.cleanGeneration)},getHistory:function(){return{done:Ll(this.history.done),undone:Ll(this.history.undone)}},setHistory:function(c){var d=this.history=new ou(this.history);d.done=Ll(c.done.slice(0),null,!0),d.undone=Ll(c.undone.slice(0),null,!0)},setGutterMarker:Ui(function(c,d,x){return Ms(this,c,"gutter",function(_){var w=_.gutterMarkers||(_.gutterMarkers={});return w[d]=x,!x&&Wi(w)&&(_.gutterMarkers=null),!0})}),clearGutter:Ui(function(c){var d=this;this.iter(function(x){x.gutterMarkers&&x.gutterMarkers[c]&&Ms(d,x,"gutter",function(){return x.gutterMarkers[c]=null,Wi(x.gutterMarkers)&&(x.gutterMarkers=null),!0})})}),lineInfo:function(c){var d;if("number"==typeof c){if(!(Mr(this,c)&&(d=c,c=en(this,c))))return null}else if(null==(d=An(c)))return null;return{line:d,handle:c,text:c.text,gutterMarkers:c.gutterMarkers,textClass:c.textClass,bgClass:c.bgClass,wrapClass:c.wrapClass,widgets:c.widgets}},addLineClass:Ui(function(c,d,x){return Ms(this,c,"gutter"==d?"gutter":"class",function(_){var w="text"==d?"textClass":"background"==d?"bgClass":"gutter"==d?"gutterClass":"wrapClass";if(_[w]){if(Ie(x).test(_[w]))return!1;_[w]+=" "+x}else _[w]=x;return!0})}),removeLineClass:Ui(function(c,d,x){return Ms(this,c,"gutter"==d?"gutter":"class",function(_){var w="text"==d?"textClass":"background"==d?"bgClass":"gutter"==d?"gutterClass":"wrapClass",D=_[w];if(!D)return!1;if(null==x)_[w]=null;else{var F=D.match(Ie(x));if(!F)return!1;var W=F.index+F[0].length;_[w]=D.slice(0,F.index)+(F.index&&W!=D.length?" ":"")+D.slice(W)||null}return!0})}),addLineWidget:Ui(function(c,d,x){return function rm(c,d,x,_){var w=new du(c,x,_),D=c.cm;return D&&w.noHScroll&&(D.display.alignWidgets=!0),Ms(c,d,"widget",function(F){var W=F.widgets||(F.widgets=[]);if(null==w.insertAt?W.push(w):W.splice(Math.min(W.length,Math.max(0,w.insertAt)),0,w),w.line=F,D&&!te(c,F)){var q=xe(F)<c.scrollTop;ur(F,F.height+Ea(w)),q&&Cl(D,w.height),D.curOp.forceUpdate=!0}return!0}),D&&hi(D,"lineWidgetAdded",D,w,"number"==typeof d?d:An(d)),w}(this,c,d,x)}),removeLineWidget:function(c){c.clear()},markText:function(c,d,x){return fa(this,xn(this,c),xn(this,d),x,x&&x.type||"range")},setBookmark:function(c,d){var x={replacedWith:d&&(null==d.nodeType?d.widget:d),insertLeft:d&&d.insertLeft,clearWhenEmpty:!1,shared:d&&d.shared,handleMouseEvents:d&&d.handleMouseEvents};return fa(this,c=xn(this,c),c,x,"bookmark")},findMarksAt:function(c){var d=[],x=en(this,(c=xn(this,c)).line).markedSpans;if(x)for(var _=0;_<x.length;++_){var w=x[_];(null==w.from||w.from<=c.ch)&&(null==w.to||w.to>=c.ch)&&d.push(w.marker.parent||w.marker)}return d},findMarks:function(c,d,x){c=xn(this,c),d=xn(this,d);var _=[],w=c.line;return this.iter(c.line,d.line+1,function(D){var F=D.markedSpans;if(F)for(var W=0;W<F.length;W++){var q=F[W];!(null!=q.to&&w==c.line&&c.ch>=q.to||null==q.from&&w!=c.line||null!=q.from&&w==d.line&&q.from>=d.ch)&&(!x||x(q.marker))&&_.push(q.marker.parent||q.marker)}++w}),_},getAllMarks:function(){var c=[];return this.iter(function(d){var x=d.markedSpans;if(x)for(var _=0;_<x.length;++_)null!=x[_].from&&c.push(x[_].marker)}),c},posFromIndex:function(c){var d,x=this.first,_=this.lineSeparator().length;return this.iter(function(w){var D=w.text.length+_;if(D>c)return d=c,!0;c-=D,++x}),xn(this,Ot(x,d))},indexFromPos:function(c){var d=(c=xn(this,c)).ch;if(c.line<this.first||c.ch<0)return 0;var x=this.lineSeparator().length;return this.iter(this.first,c.line,function(_){d+=_.text.length+x}),d},copy:function(c){var d=new Nr(lr(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return d.scrollTop=this.scrollTop,d.scrollLeft=this.scrollLeft,d.sel=this.sel,d.extend=!1,c&&(d.history.undoDepth=this.history.undoDepth,d.setHistory(this.getHistory())),d},linkedDoc:function(c){c||(c={});var d=this.first,x=this.first+this.size;null!=c.from&&c.from>d&&(d=c.from),null!=c.to&&c.to<x&&(x=c.to);var _=new Nr(lr(this,d,x),c.mode||this.modeOption,d,this.lineSep,this.direction);return c.sharedHist&&(_.history=this.history),(this.linked||(this.linked=[])).push({doc:_,sharedHist:c.sharedHist}),_.linked=[{doc:this,isParent:!0,sharedHist:c.sharedHist}],function qa(c,d){for(var x=0;x<d.length;x++){var _=d[x],w=_.find(),D=c.clipPos(w.from),F=c.clipPos(w.to);if(Sn(D,F)){var W=fa(c,D,F,_.primary,_.primary.type);_.markers.push(W),W.parent=_}}}(_,Ls(this)),_},unlinkDoc:function(c){if(c instanceof Ti&&(c=c.doc),this.linked)for(var d=0;d<this.linked.length;++d)if(this.linked[d].doc==c){this.linked.splice(d,1),c.unlinkDoc(this),Ka(Ls(this));break}if(c.history==this.history){var _=[c.id];Xa(c,function(w){return _.push(w.id)},!0),c.history=new ou(null),c.history.done=Ll(this.history.done,_),c.history.undone=Ll(this.history.undone,_)}},iterLinkedDocs:function(c){Xa(this,c)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(c){return this.lineSep?c.split(this.lineSep):ot(c)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:Ui(function(c){"rtl"!=c&&(c="ltr"),c!=this.direction&&(this.direction=c,this.iter(function(d){return d.order=null}),this.cm&&function vp(c){ci(c,function(){gp(c),Xn(c)})}(this.cm))})}),Nr.prototype.eachLine=Nr.prototype.iter;var sl=0;function Rl(c){var d=this;if(Qc(d),!z(d,c)&&!Oo(d.display,c)){Xe(c),ve&&(sl=+new Date);var x=fi(d,c,!0),_=c.dataTransfer.files;if(x&&!d.isReadOnly())if(_&&_.length&&window.FileReader&&window.File)for(var w=_.length,D=Array(w),F=0,W=function(){++F==w&&vr(d,function(){var Be={from:x=xn(d.doc,x),to:x,text:d.doc.splitLines(D.filter(function(vt){return null!=vt}).join(d.doc.lineSeparator())),origin:"paste"};Dl(d.doc,Be),zi(d.doc,rl(xn(d.doc,x),xn(d.doc,Da(Be))))})()},q=function(Be,vt){if(d.options.allowDropFileTypes&&-1==Lt(d.options.allowDropFileTypes,Be.type))W();else{var Et=new FileReader;Et.onerror=function(){return W()},Et.onload=function(){var Pt=Et.result;/[\x00-\x08\x0e-\x1f]{2}/.test(Pt)||(D[vt]=Pt),W()},Et.readAsText(Be)}},J=0;J<_.length;J++)q(_[J],J);else{if(d.state.draggingText&&d.doc.sel.contains(x)>-1)return d.state.draggingText(c),void setTimeout(function(){return d.display.input.focus()},20);try{var _e=c.dataTransfer.getData("Text");if(_e){var Se;if(d.state.draggingText&&!d.state.draggingText.copy&&(Se=d.listSelections()),lu(d.doc,rl(x,x)),Se)for(var ze=0;ze<Se.length;++ze)ha(d.doc,"",Se[ze].anchor,Se[ze].head,"drag");d.replaceSelection(_e,"around","paste"),d.display.input.focus()}}catch{}}}}function Qc(c){c.display.dragCursor&&(c.display.lineSpace.removeChild(c.display.dragCursor),c.display.dragCursor=null)}function Ns(c){if(document.getElementsByClassName){for(var d=document.getElementsByClassName("CodeMirror"),x=[],_=0;_<d.length;_++){var w=d[_].CodeMirror;w&&x.push(w)}x.length&&x[0].operation(function(){for(var D=0;D<x.length;D++)c(x[D])})}}var $c=!1;function Tp(c){var d=c.display;d.cachedCharWidth=d.cachedTextHeight=d.cachedPaddingH=null,d.scrollbarsClipped=!1,c.setSize()}for(var vo={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},da=0;da<10;da++)vo[da+48]=vo[da+96]=String(da);for(var eh=65;eh<=90;eh++)vo[eh]=String.fromCharCode(eh);for(var pu=1;pu<=12;pu++)vo[pu+111]=vo[pu+63235]="F"+pu;var Za={};function ll(c){var d=c.split(/-(?!$)/);c=d[d.length-1];for(var x,_,w,D,F=0;F<d.length-1;F++){var W=d[F];if(/^(cmd|meta|m)$/i.test(W))D=!0;else if(/^a(lt)?$/i.test(W))x=!0;else if(/^(c|ctrl|control)$/i.test(W))_=!0;else{if(!/^s(hift)?$/i.test(W))throw new Error("Unrecognized modifier name: "+W);w=!0}}return x&&(c="Alt-"+c),_&&(c="Ctrl-"+c),D&&(c="Cmd-"+c),w&&(c="Shift-"+c),c}function ac(c){var d={};for(var x in c)if(c.hasOwnProperty(x)){var _=c[x];if(/^(name|fallthrough|(de|at)tach)$/.test(x))continue;if("..."==_){delete c[x];continue}for(var w=ei(x.split(" "),ll),D=0;D<w.length;D++){var F=void 0,W=void 0;D==w.length-1?(W=w.join(" "),F=_):(W=w.slice(0,D+1).join(" "),F="...");var q=d[W];if(q){if(q!=F)throw new Error("Inconsistent bindings for "+W)}else d[W]=F}delete c[x]}for(var J in d)c[J]=d[J];return c}function gu(c,d,x,_){var w=(d=Jr(d)).call?d.call(c,_):d[c];if(!1===w)return"nothing";if("..."===w)return"multi";if(null!=w&&x(w))return"handled";if(d.fallthrough){if("[object Array]"!=Object.prototype.toString.call(d.fallthrough))return gu(c,d.fallthrough,x,_);for(var D=0;D<d.fallthrough.length;D++){var F=gu(c,d.fallthrough[D],x,_);if(F)return F}}}function Ja(c){var d="string"==typeof c?c:vo[c.keyCode];return"Ctrl"==d||"Alt"==d||"Shift"==d||"Mod"==d}function Rs(c,d,x){var _=c;return d.altKey&&"Alt"!=_&&(c="Alt-"+c),(tt?d.metaKey:d.ctrlKey)&&"Ctrl"!=_&&(c="Ctrl-"+c),(tt?d.ctrlKey:d.metaKey)&&"Mod"!=_&&(c="Cmd-"+c),!x&&d.shiftKey&&"Shift"!=_&&(c="Shift-"+c),c}function ul(c,d){if(yt&&34==c.keyCode&&c.char)return!1;var x=vo[c.keyCode];return null!=x&&!c.altGraphKey&&(3==c.keyCode&&c.code&&(x=c.code),Rs(x,c,d))}function Jr(c){return"string"==typeof c?Za[c]:c}function oo(c,d){for(var x=c.doc.sel.ranges,_=[],w=0;w<x.length;w++){for(var D=d(x[w]);_.length&&Sn(D.from,Rt(_).to)<=0;){var F=_.pop();if(Sn(F.from,D.from)<0){D.from=F.from;break}}_.push(D)}ci(c,function(){for(var W=_.length-1;W>=0;W--)ha(c.doc,"",_[W].from,_[W].to,"+delete");tu(c)})}function Sf(c,d,x){var _=Ji(c.text,d+x,x);return _<0||_>c.text.length?null:_}function wf(c,d,x){var _=Sf(c,d.ch,x);return null==_?null:new Ot(d.line,_,x<0?"after":"before")}function Tf(c,d,x,_,w){if(c){"rtl"==d.doc.direction&&(w=-w);var D=Si(x,d.doc.direction);if(D){var J,F=w<0?Rt(D):D[0],q=w<0==(1==F.level)?"after":"before";if(F.level>0||"rtl"==d.doc.direction){var _e=Wa(d,x),Se=qr(d,_e,J=w<0?x.text.length-1:0).top;J=Ir(function(ze){return qr(d,_e,ze).top==Se},w<0==(1==F.level)?F.from:F.to-1,J),"before"==q&&(J=Sf(x,J,1))}else J=w<0?F.to:F.from;return new Ot(_,J,q)}}return new Ot(_,w<0?x.text.length:0,w<0?"before":"after")}Za.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Za.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Za.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Za.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Za.default=ne?Za.macDefault:Za.pcDefault;var vu={selectAll:_f,singleSelection:function(c){return c.setSelection(c.getCursor("anchor"),c.getCursor("head"),Jt)},killLine:function(c){return oo(c,function(d){if(d.empty()){var x=en(c.doc,d.head.line).text.length;return d.head.ch==x&&d.head.line<c.lastLine()?{from:d.head,to:Ot(d.head.line+1,0)}:{from:d.head,to:Ot(d.head.line,x)}}return{from:d.from(),to:d.to()}})},deleteLine:function(c){return oo(c,function(d){return{from:Ot(d.from().line,0),to:xn(c.doc,Ot(d.to().line+1,0))}})},delLineLeft:function(c){return oo(c,function(d){return{from:Ot(d.from().line,0),to:d.from()}})},delWrappedLineLeft:function(c){return oo(c,function(d){var x=c.charCoords(d.head,"div").top+5;return{from:c.coordsChar({left:0,top:x},"div"),to:d.from()}})},delWrappedLineRight:function(c){return oo(c,function(d){var x=c.charCoords(d.head,"div").top+5,_=c.coordsChar({left:c.display.lineDiv.offsetWidth+100,top:x},"div");return{from:d.from(),to:_}})},undo:function(c){return c.undo()},redo:function(c){return c.redo()},undoSelection:function(c){return c.undoSelection()},redoSelection:function(c){return c.redoSelection()},goDocStart:function(c){return c.extendSelection(Ot(c.firstLine(),0))},goDocEnd:function(c){return c.extendSelection(Ot(c.lastLine()))},goLineStart:function(c){return c.extendSelectionsBy(function(d){return Cp(c,d.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(c){return c.extendSelectionsBy(function(d){return Mn(c,d.head)},{origin:"+move",bias:1})},goLineEnd:function(c){return c.extendSelectionsBy(function(d){return function Ef(c,d){var x=en(c.doc,d),_=function M(c){for(var d;d=ys(c);)c=d.find(1,!0).line;return c}(x);return _!=x&&(d=An(_)),Tf(!0,c,x,d,-1)}(c,d.head.line)},{origin:"+move",bias:-1})},goLineRight:function(c){return c.extendSelectionsBy(function(d){var x=c.cursorCoords(d.head,"div").top+5;return c.coordsChar({left:c.display.lineDiv.offsetWidth+100,top:x},"div")},Ci)},goLineLeft:function(c){return c.extendSelectionsBy(function(d){var x=c.cursorCoords(d.head,"div").top+5;return c.coordsChar({left:0,top:x},"div")},Ci)},goLineLeftSmart:function(c){return c.extendSelectionsBy(function(d){var x=c.cursorCoords(d.head,"div").top+5,_=c.coordsChar({left:0,top:x},"div");return _.ch<c.getLine(_.line).search(/\S/)?Mn(c,d.head):_},Ci)},goLineUp:function(c){return c.moveV(-1,"line")},goLineDown:function(c){return c.moveV(1,"line")},goPageUp:function(c){return c.moveV(-1,"page")},goPageDown:function(c){return c.moveV(1,"page")},goCharLeft:function(c){return c.moveH(-1,"char")},goCharRight:function(c){return c.moveH(1,"char")},goColumnLeft:function(c){return c.moveH(-1,"column")},goColumnRight:function(c){return c.moveH(1,"column")},goWordLeft:function(c){return c.moveH(-1,"word")},goGroupRight:function(c){return c.moveH(1,"group")},goGroupLeft:function(c){return c.moveH(-1,"group")},goWordRight:function(c){return c.moveH(1,"word")},delCharBefore:function(c){return c.deleteH(-1,"codepoint")},delCharAfter:function(c){return c.deleteH(1,"char")},delWordBefore:function(c){return c.deleteH(-1,"word")},delWordAfter:function(c){return c.deleteH(1,"word")},delGroupBefore:function(c){return c.deleteH(-1,"group")},delGroupAfter:function(c){return c.deleteH(1,"group")},indentAuto:function(c){return c.indentSelection("smart")},indentMore:function(c){return c.indentSelection("add")},indentLess:function(c){return c.indentSelection("subtract")},insertTab:function(c){return c.replaceSelection("\t")},insertSoftTab:function(c){for(var d=[],x=c.listSelections(),_=c.options.tabSize,w=0;w<x.length;w++){var D=x[w].from(),F=Mt(c.getLine(D.line),D.ch,_);d.push(Pn(_-F%_))}c.replaceSelections(d)},defaultTab:function(c){c.somethingSelected()?c.indentSelection("add"):c.execCommand("insertTab")},transposeChars:function(c){return ci(c,function(){for(var d=c.listSelections(),x=[],_=0;_<d.length;_++)if(d[_].empty()){var w=d[_].head,D=en(c.doc,w.line).text;if(D)if(w.ch==D.length&&(w=new Ot(w.line,w.ch-1)),w.ch>0)w=new Ot(w.line,w.ch+1),c.replaceRange(D.charAt(w.ch-1)+D.charAt(w.ch-2),Ot(w.line,w.ch-2),w,"+transpose");else if(w.line>c.doc.first){var F=en(c.doc,w.line-1).text;F&&(w=new Ot(w.line,1),c.replaceRange(D.charAt(0)+c.doc.lineSeparator()+F.charAt(F.length-1),Ot(w.line-1,F.length-1),w,"+transpose"))}x.push(new pi(w,w))}c.setSelections(x)})},newlineAndIndent:function(c){return ci(c,function(){for(var d=c.listSelections(),x=d.length-1;x>=0;x--)c.replaceRange(c.doc.lineSeparator(),d[x].anchor,d[x].head,"+input");d=c.listSelections();for(var _=0;_<d.length;_++)c.indentLine(d[_].from().line,null,!0);tu(c)})},openLine:function(c){return c.replaceSelection("\n","start")},toggleOverwrite:function(c){return c.toggleOverwrite()}};function Cp(c,d){var x=en(c.doc,d),_=N(x);return _!=x&&(d=An(_)),Tf(!0,c,_,d,1)}function Mn(c,d){var x=Cp(c,d.line),_=en(c.doc,x.line),w=Si(_,c.doc.direction);if(!w||0==w[0].level){var D=Math.max(x.ch,_.text.search(/\S/));return Ot(x.line,d.line==x.line&&d.ch<=D&&d.ch?0:D,x.sticky)}return x}function th(c,d,x){if("string"==typeof d&&!(d=vu[d]))return!1;c.display.input.ensurePolled();var _=c.display.shift,w=!1;try{c.isReadOnly()&&(c.state.suppressEdits=!0),x&&(c.display.shift=!1),w=d(c)!=sn}finally{c.display.shift=_,c.state.suppressEdits=!1}return w}var om=new mt;function sc(c,d,x,_){var w=c.state.keySeq;if(w){if(Ja(d))return"handled";if(/\'$/.test(d)?c.state.keySeq=null:om.set(50,function(){c.state.keySeq==w&&(c.state.keySeq=null,c.display.input.reset())}),fr(c,w+" "+d,x,_))return!0}return fr(c,d,x,_)}function fr(c,d,x,_){var w=function Ol(c,d,x){for(var _=0;_<c.state.keyMaps.length;_++){var w=gu(d,c.state.keyMaps[_],x,c);if(w)return w}return c.options.extraKeys&&gu(d,c.options.extraKeys,x,c)||gu(d,c.options.keyMap,x,c)}(c,d,_);return"multi"==w&&(c.state.keySeq=d),"handled"==w&&hi(c,"keyHandled",c,d,x),("handled"==w||"multi"==w)&&(Xe(x),ju(c)),!!w}function kl(c,d){var x=ul(d,!0);return!!x&&(d.shiftKey&&!c.state.keySeq?sc(c,"Shift-"+x,d,function(_){return th(c,_,!0)})||sc(c,x,d,function(_){if("string"==typeof _?/^go[A-Z]/.test(_):_.motion)return th(c,_)}):sc(c,x,d,function(_){return th(c,_)}))}var nh=null;function cl(c){var d=this;if(!(c.target&&c.target!=d.display.input.getField()||(d.curOp.focus=gt(),z(d,c)))){ve&&Qe<11&&27==c.keyCode&&(c.returnValue=!1);var x=c.keyCode;d.display.shift=16==x||c.shiftKey;var _=kl(d,c);yt&&(nh=_?x:null,!_&&88==x&&!pt&&(ne?c.metaKey:c.ctrlKey)&&d.replaceSelection("",null,"cut")),ue&&!ne&&!_&&46==x&&c.shiftKey&&!c.ctrlKey&&document.execCommand&&document.execCommand("cut"),18==x&&!/\bCodeMirror-crosshair\b/.test(d.display.lineDiv.className)&&function am(c){var d=c.display.lineDiv;function x(_){(18==_.keyCode||!_.altKey)&&(et(d,"CodeMirror-crosshair"),ke(document,"keyup",x),ke(document,"mouseover",x))}Y(d,"CodeMirror-crosshair"),ut(document,"keyup",x),ut(document,"mouseover",x)}(d)}}function Ap(c){16==c.keyCode&&(this.doc.sel.shift=!1),z(this,c)}function kn(c){var d=this;if(!(c.target&&c.target!=d.display.input.getField()||Oo(d.display,c)||z(d,c)||c.ctrlKey&&!c.altKey||ne&&c.metaKey)){var x=c.keyCode,_=c.charCode;if(yt&&x==nh)return nh=null,void Xe(c);if(!yt||c.which&&!(c.which<10)||!kl(d,c)){var w=String.fromCharCode(_??x);"\b"!=w&&(function Ip(c,d,x){return sc(c,"'"+x+"'",d,function(_){return th(c,_,!0)})}(d,c,w)||d.display.input.onKeyPress(c))}}}var Nn,lc,Cf=function(c,d,x){this.time=c,this.pos=d,this.button=x};function If(c){var d=this,x=d.display;if(!(z(d,c)||x.activeTouch&&x.input.supportsTouch())){if(x.input.ensurePolled(),x.shift=c.shiftKey,Oo(x,c))return void(Pe||(x.scroller.draggable=!1,setTimeout(function(){return x.scroller.draggable=!0},100)));if(!rh(d,c)){var _=fi(d,c),w=Z(c),D=_?function sm(c,d){var x=+new Date;return lc&&lc.compare(x,c,d)?(Nn=lc=null,"triple"):Nn&&Nn.compare(x,c,d)?(lc=new Cf(x,c,d),Nn=null,"double"):(Nn=new Cf(x,c,d),lc=null,"single")}(_,w):"single";window.focus(),1==w&&d.state.selectingText&&d.state.selectingText(c),(!_||!function Lp(c,d,x,_,w){var D="Click";return"double"==_?D="Double"+D:"triple"==_&&(D="Triple"+D),sc(c,Rs(D=(1==d?"Left":2==d?"Middle":"Right")+D,w),w,function(F){if("string"==typeof F&&(F=vu[F]),!F)return!1;var W=!1;try{c.isReadOnly()&&(c.state.suppressEdits=!0),W=F(c,x)!=sn}finally{c.state.suppressEdits=!1}return W})}(d,w,_,D,c))&&(1==w?_?function Np(c,d,x,_){ve?setTimeout(jt(Jn,c),0):c.curOp.focus=gt();var F,w=function Dp(c,d,x){var _=c.getOption("configureMouse"),w=_?_(c,d,x):{};return null==w.unit&&(w.unit=(Me?x.shiftKey&&x.metaKey:x.altKey)?"rectangle":"single"==d?"char":"double"==d?"word":"line"),(null==w.extend||c.doc.extend)&&(w.extend=c.doc.extend||x.shiftKey),null==w.addNew&&(w.addNew=ne?x.metaKey:x.ctrlKey),null==w.moveOnDrag&&(w.moveOnDrag=!(ne?x.altKey:x.ctrlKey)),w}(c,x,_),D=c.doc.sel;c.options.dragDrop&&Q&&!c.isReadOnly()&&"single"==x&&(F=D.contains(d))>-1&&(Sn((F=D.ranges[F]).from(),d)<0||d.xRel>0)&&(Sn(F.to(),d)>0||d.xRel<0)?function Rp(c,d,x,_){var w=c.display,D=!1,F=vr(c,function(J){Pe&&(w.scroller.draggable=!1),c.state.draggingText=!1,c.state.delayingBlurEvent&&(c.hasFocus()?c.state.delayingBlurEvent=!1:kt(c)),ke(w.wrapper.ownerDocument,"mouseup",F),ke(w.wrapper.ownerDocument,"mousemove",W),ke(w.scroller,"dragstart",q),ke(w.scroller,"drop",F),D||(Xe(J),_.addNew||ea(c.doc,x,null,null,_.extend),Pe&&!St||ve&&9==Qe?setTimeout(function(){w.wrapper.ownerDocument.body.focus({preventScroll:!0}),w.input.focus()},20):w.input.focus())}),W=function(J){D=D||Math.abs(d.clientX-J.clientX)+Math.abs(d.clientY-J.clientY)>=10},q=function(){return D=!0};Pe&&(w.scroller.draggable=!0),c.state.draggingText=F,F.copy=!_.moveOnDrag,ut(w.wrapper.ownerDocument,"mouseup",F),ut(w.wrapper.ownerDocument,"mousemove",W),ut(w.scroller,"dragstart",q),ut(w.scroller,"drop",F),c.state.delayingBlurEvent=!0,setTimeout(function(){return w.input.focus()},20),w.scroller.dragDrop&&w.scroller.dragDrop()}(c,_,d,w):function pn(c,d,x,_){ve&&kt(c);var w=c.display,D=c.doc;Xe(d);var F,W,q=D.sel,J=q.ranges;if(_.addNew&&!_.extend?(W=D.sel.contains(x),F=W>-1?J[W]:new pi(x,x)):(F=D.sel.primary(),W=D.sel.primIndex),"rectangle"==_.unit)_.addNew||(F=new pi(x,x)),x=fi(c,d,!0,!0),W=-1;else{var _e=ih(c,x,_.unit);F=_.extend?su(F,_e.anchor,_e.head,_.extend):_e}_.addNew?-1==W?(W=J.length,Zr(D,$o(c,J.concat([F]),W),{scroll:!1,origin:"*mouse"})):J.length>1&&J[W].empty()&&"char"==_.unit&&!_.extend?(Zr(D,$o(c,J.slice(0,W).concat(J.slice(W+1)),0),{scroll:!1,origin:"*mouse"}),q=D.sel):al(D,W,F,Pi):(W=0,Zr(D,new To([F],0),Pi),q=D.sel);var Se=x;var Be=w.wrapper.getBoundingClientRect(),vt=0;function Et(Gt){var $t=++vt,vn=fi(c,Gt,!0,"rectangle"==_.unit);if(vn)if(0!=Sn(vn,Se)){c.curOp.focus=gt(),function ze(Gt){if(0!=Sn(Se,Gt))if(Se=Gt,"rectangle"==_.unit){for(var $t=[],vn=c.options.tabSize,hn=Mt(en(D,x.line).text,x.ch,vn),Bn=Mt(en(D,Gt.line).text,Gt.ch,vn),Ii=Math.min(hn,Bn),Rr=Math.max(hn,Bn),Ki=Math.min(x.line,Gt.line),Ao=Math.min(c.lastLine(),Math.max(x.line,Gt.line));Ki<=Ao;Ki++){var mo=en(D,Ki).text,dr=Bt(mo,Ii,vn);Ii==Rr?$t.push(new pi(Ot(Ki,dr),Ot(Ki,dr))):mo.length>dr&&$t.push(new pi(Ot(Ki,dr),Ot(Ki,Bt(mo,Rr,vn))))}$t.length||$t.push(new pi(x,x)),Zr(D,$o(c,q.ranges.slice(0,W).concat($t),W),{origin:"*mouse",scroll:!1}),c.scrollIntoView(Gt)}else{var gi,yo=F,wr=ih(c,Gt,_.unit),Tr=yo.anchor;Sn(wr.anchor,Tr)>0?(gi=wr.head,Tr=zr(yo.from(),wr.anchor)):(gi=wr.anchor,Tr=fs(yo.to(),wr.head));var ir=q.ranges.slice(0);ir[W]=function Af(c,d){var x=d.anchor,_=d.head,w=en(c.doc,x.line);if(0==Sn(x,_)&&x.sticky==_.sticky)return d;var D=Si(w);if(!D)return d;var F=Yi(D,x.ch,x.sticky),W=D[F];if(W.from!=x.ch&&W.to!=x.ch)return d;var J,q=F+(W.from==x.ch==(1!=W.level)?0:1);if(0==q||q==D.length)return d;if(_.line!=x.line)J=(_.line-x.line)*("ltr"==c.doc.direction?1:-1)>0;else{var _e=Yi(D,_.ch,_.sticky),Se=_e-F||(_.ch-x.ch)*(1==W.level?-1:1);J=_e==q-1||_e==q?Se<0:Se>0}var ze=D[q+(J?-1:0)],Be=J==(1==ze.level),vt=Be?ze.from:ze.to,Et=Be?"after":"before";return x.ch==vt&&x.sticky==Et?d:new pi(new Ot(x.line,vt,Et),_)}(c,new pi(xn(D,Tr),gi)),Zr(D,$o(c,ir,W),Pi)}}(vn);var hn=eu(w,D);(vn.line>=hn.to||vn.line<hn.from)&&setTimeout(vr(c,function(){vt==$t&&Et(Gt)}),150)}else{var Bn=Gt.clientY<Be.top?-20:Gt.clientY>Be.bottom?20:0;Bn&&setTimeout(vr(c,function(){vt==$t&&(w.scroller.scrollTop+=Bn,Et(Gt))}),50)}}function Pt(Gt){c.state.selectingText=!1,vt=1/0,Gt&&(Xe(Gt),w.input.focus()),ke(w.wrapper.ownerDocument,"mousemove",Wt),ke(w.wrapper.ownerDocument,"mouseup",Qt),D.history.lastSelOrigin=null}var Wt=vr(c,function(Gt){0!==Gt.buttons&&Z(Gt)?Et(Gt):Pt(Gt)}),Qt=vr(c,Pt);c.state.selectingText=Qt,ut(w.wrapper.ownerDocument,"mousemove",Wt),ut(w.wrapper.ownerDocument,"mouseup",Qt)}(c,_,d,w)}(d,_,D,c):re(c)==x.scroller&&Xe(c):2==w?(_&&ea(d.doc,_),setTimeout(function(){return x.input.focus()},20)):3==w&&(Te?d.display.input.onContextMenu(c):kt(d)))}}}function ih(c,d,x){if("char"==x)return new pi(d,d);if("word"==x)return c.findWordAt(d);if("line"==x)return new pi(Ot(d.line,0),xn(c.doc,Ot(d.line+1,0)));var _=x(c,d);return new pi(_.from,_.to)}function Mf(c,d,x,_){var w,D;if(d.touches)w=d.touches[0].clientX,D=d.touches[0].clientY;else try{w=d.clientX,D=d.clientY}catch{return!1}if(w>=Math.floor(c.display.gutters.getBoundingClientRect().right))return!1;_&&Xe(d);var F=c.display,W=F.lineDiv.getBoundingClientRect();if(D>W.bottom||!ye(c,x))return tn(d);D-=W.top-F.viewOffset;for(var q=0;q<c.display.gutterSpecs.length;++q){var J=F.gutters.childNodes[q];if(J&&J.getBoundingClientRect().right>=w)return Ae(c,x,c,Ur(c.doc,D),c.display.gutterSpecs[q].className,d),tn(d)}}function rh(c,d){return Mf(c,d,"gutterClick",!0)}function Lf(c,d){Oo(c.display,d)||function Co(c,d){return!!ye(c,"gutterContextMenu")&&Mf(c,d,"gutterContextMenu",!1)}(c,d)||z(c,d,"contextmenu")||Te||c.display.input.onContextMenu(d)}function mu(c){c.display.wrapper.className=c.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+c.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Ya(c)}Cf.prototype.compare=function(c,d,x){return this.time+400>c&&0==Sn(d,this.pos)&&x==this.button};var yu={toString:function(){return"CodeMirror.Init"}},hl={},Pl={};function oh(c,d,x){if(!d!=!(x&&x!=yu)){var w=c.display.dragFunctions,D=d?ut:ke;D(c.display.scroller,"dragstart",w.start),D(c.display.scroller,"dragenter",w.enter),D(c.display.scroller,"dragover",w.over),D(c.display.scroller,"dragleave",w.leave),D(c.display.scroller,"drop",w.drop)}}function cc(c){c.options.lineWrapping?(Y(c.display.wrapper,"CodeMirror-wrap"),c.display.sizer.style.minWidth="",c.display.sizerWidth=null):(et(c.display.wrapper,"CodeMirror-wrap"),bt(c)),Gn(c),Xn(c),Ya(c),setTimeout(function(){return Al(c)},100)}function Ti(c,d){var x=this;if(!(this instanceof Ti))return new Ti(c,d);this.options=d=d?rn(d):{},rn(hl,d,!1);var _=d.value;"string"==typeof _?_=new Nr(_,d.mode,null,d.lineSeparator,d.direction):d.mode&&(_.modeOption=d.mode),this.doc=_;var w=new Ti.inputStyles[d.inputStyle](this),D=this.display=new nm(c,_,w,d);for(var F in D.wrapper.CodeMirror=this,mu(this),d.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),af(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new mt,keySeq:null,specialChars:null},d.autofocus&&!ct&&D.input.focus(),ve&&Qe<11&&setTimeout(function(){return x.display.input.reset(!0)},20),function Op(c){var d=c.display;ut(d.scroller,"mousedown",vr(c,If)),ut(d.scroller,"dblclick",ve&&Qe<11?vr(c,function(q){if(!z(c,q)){var J=fi(c,q);if(J&&!rh(c,q)&&!Oo(c.display,q)){Xe(q);var _e=c.findWordAt(J);ea(c.doc,_e.anchor,_e.head)}}}):function(q){return z(c,q)||Xe(q)}),ut(d.scroller,"contextmenu",function(q){return Lf(c,q)}),ut(d.input.getField(),"contextmenu",function(q){d.scroller.contains(q.target)||Lf(c,q)});var x,_={end:0};function w(){d.activeTouch&&(x=setTimeout(function(){return d.activeTouch=null},1e3),(_=d.activeTouch).end=+new Date)}function F(q,J){if(null==J.left)return!0;var _e=J.left-q.left,Se=J.top-q.top;return _e*_e+Se*Se>400}ut(d.scroller,"touchstart",function(q){if(!z(c,q)&&!function D(q){if(1!=q.touches.length)return!1;var J=q.touches[0];return J.radiusX<=1&&J.radiusY<=1}(q)&&!rh(c,q)){d.input.ensurePolled(),clearTimeout(x);var J=+new Date;d.activeTouch={start:J,moved:!1,prev:J-_.end<=300?_:null},1==q.touches.length&&(d.activeTouch.left=q.touches[0].pageX,d.activeTouch.top=q.touches[0].pageY)}}),ut(d.scroller,"touchmove",function(){d.activeTouch&&(d.activeTouch.moved=!0)}),ut(d.scroller,"touchend",function(q){var J=d.activeTouch;if(J&&!Oo(d,q)&&null!=J.left&&!J.moved&&new Date-J.start<300){var Se,_e=c.coordsChar(d.activeTouch,"page");Se=!J.prev||F(J,J.prev)?new pi(_e,_e):!J.prev.prev||F(J,J.prev.prev)?c.findWordAt(_e):new pi(Ot(_e.line,0),xn(c.doc,Ot(_e.line+1,0))),c.setSelection(Se.anchor,Se.head),c.focus(),Xe(q)}w()}),ut(d.scroller,"touchcancel",w),ut(d.scroller,"scroll",function(){d.scroller.clientHeight&&(el(c,d.scroller.scrollTop),po(c,d.scroller.scrollLeft,!0),Ae(c,"scroll",c))}),ut(d.scroller,"mousewheel",function(q){return fp(c,q)}),ut(d.scroller,"DOMMouseScroll",function(q){return fp(c,q)}),ut(d.wrapper,"scroll",function(){return d.wrapper.scrollTop=d.wrapper.scrollLeft=0}),d.dragFunctions={enter:function(q){z(c,q)||bn(q)},over:function(q){z(c,q)||(function Ds(c,d){var x=fi(c,d);if(x){var _=document.createDocumentFragment();Ts(c,x,_),c.display.dragCursor||(c.display.dragCursor=ie("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),c.display.lineSpace.insertBefore(c.display.dragCursor,c.display.cursorDiv)),Ee(c.display.dragCursor,_)}}(c,q),bn(q))},start:function(q){return function Jc(c,d){if(ve&&(!c.state.draggingText||+new Date-sl<100))bn(d);else if(!z(c,d)&&!Oo(c.display,d)&&(d.dataTransfer.setData("Text",c.getSelection()),d.dataTransfer.effectAllowed="copyMove",d.dataTransfer.setDragImage&&!St)){var x=ie("img",null,null,"position: fixed; left: 0; top: 0;");x.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",yt&&(x.width=x.height=1,c.display.wrapper.appendChild(x),x._top=x.offsetTop),d.dataTransfer.setDragImage(x,0,0),yt&&x.parentNode.removeChild(x)}}(c,q)},drop:vr(c,Rl),leave:function(q){z(c,q)||Qc(c)}};var W=d.input.getField();ut(W,"keyup",function(q){return Ap.call(c,q)}),ut(W,"keydown",vr(c,cl)),ut(W,"keypress",vr(c,kn)),ut(W,"focus",function(q){return hr(c,q)}),ut(W,"blur",function(q){return Kr(c,q)})}(this),function oc(){$c||(function bf(){var c;ut(window,"resize",function(){null==c&&(c=setTimeout(function(){c=null,Ns(Tp)},100))}),ut(window,"blur",function(){return Ns(Kr)})}(),$c=!0)}(),Yn(this),this.curOp.forceUpdate=!0,pp(this,_),d.autofocus&&!ct||this.hasFocus()?setTimeout(function(){x.hasFocus()&&!x.state.focused&&hr(x)},20):Kr(this),Pl)Pl.hasOwnProperty(F)&&Pl[F](this,d[F],yu);Xc(this),d.finishInit&&d.finishInit(this);for(var W=0;W<ah.length;++W)ah[W](this);Qo(this),Pe&&d.lineWrapping&&"optimizelegibility"==getComputedStyle(D.lineDiv).textRendering&&(D.lineDiv.style.textRendering="auto")}Ti.defaults=hl,Ti.optionHandlers=Pl;var ah=[];function fl(c,d,x,_){var D,w=c.doc;null==x&&(x="add"),"smart"==x&&(w.mode.indent?D=No(c,d).state:x="prev");var F=c.options.tabSize,W=en(w,d),q=Mt(W.text,null,F);W.stateAfter&&(W.stateAfter=null);var _e,J=W.text.match(/^\s*/)[0];if(_||/\S/.test(W.text)){if("smart"==x&&((_e=w.mode.indent(D,W.text.slice(J.length),W.text))==sn||_e>150)){if(!_)return;x="prev"}}else _e=0,x="not";"prev"==x?_e=d>w.first?Mt(en(w,d-1).text,null,F):0:"add"==x?_e=q+c.options.indentUnit:"subtract"==x?_e=q-c.options.indentUnit:"number"==typeof x&&(_e=q+x),_e=Math.max(0,_e);var Se="",ze=0;if(c.options.indentWithTabs)for(var Be=Math.floor(_e/F);Be;--Be)ze+=F,Se+="\t";if(ze<_e&&(Se+=Pn(_e-ze)),Se!=J)return ha(w,Se,Ot(d,0),Ot(d,J.length),"+input"),W.stateAfter=null,!0;for(var vt=0;vt<w.sel.ranges.length;vt++){var Et=w.sel.ranges[vt];if(Et.head.line==d&&Et.head.ch<J.length){var Pt=Ot(d,J.length);al(w,vt,new pi(Pt,Pt));break}}}Ti.defineInitHook=function(c){return ah.push(c)};var pa=null;function hc(c){pa=c}function fc(c,d,x,_,w){var D=c.doc;c.display.shift=!1,_||(_=D.sel);var F=+new Date-200,W="paste"==w||c.state.pasteIncoming>F,q=ot(d),J=null;if(W&&_.ranges.length>1)if(pa&&pa.text.join("\n")==d){if(_.ranges.length%pa.text.length==0){J=[];for(var _e=0;_e<pa.text.length;_e++)J.push(D.splitLines(pa.text[_e]))}}else q.length==_.ranges.length&&c.options.pasteLinesPerSelection&&(J=ei(q,function(Wt){return[Wt]}));for(var Se=c.curOp.updateInput,ze=_.ranges.length-1;ze>=0;ze--){var Be=_.ranges[ze],vt=Be.from(),Et=Be.to();Be.empty()&&(x&&x>0?vt=Ot(vt.line,vt.ch-x):c.state.overwrite&&!W?Et=Ot(Et.line,Math.min(en(D,Et.line).text.length,Et.ch+Rt(q).length)):W&&pa&&pa.lineWise&&pa.text.join("\n")==q.join("\n")&&(vt=Et=Ot(vt.line,0)));var Pt={from:vt,to:Et,text:J?J[ze%J.length]:q,origin:w||(W?"paste":c.state.cutIncoming>F?"cut":"+input")};Dl(c.doc,Pt),hi(c,"inputRead",c,Pt)}d&&!W&&kp(c,d),tu(c),c.curOp.updateInput<2&&(c.curOp.updateInput=Se),c.curOp.typing=!0,c.state.pasteIncoming=c.state.cutIncoming=-1}function Df(c,d){var x=c.clipboardData&&c.clipboardData.getData("Text");if(x)return c.preventDefault(),!d.isReadOnly()&&!d.options.disableInput&&ci(d,function(){return fc(d,x,0,null,"paste")}),!0}function kp(c,d){if(c.options.electricChars&&c.options.smartIndent)for(var x=c.doc.sel,_=x.ranges.length-1;_>=0;_--){var w=x.ranges[_];if(!(w.head.ch>100||_&&x.ranges[_-1].head.line==w.head.line)){var D=c.getModeAt(w.head),F=!1;if(D.electricChars){for(var W=0;W<D.electricChars.length;W++)if(d.indexOf(D.electricChars.charAt(W))>-1){F=fl(c,w.head.line,"smart");break}}else D.electricInput&&D.electricInput.test(en(c.doc,w.head.line).text.slice(0,w.head.ch))&&(F=fl(c,w.head.line,"smart"));F&&hi(c,"electricInput",c,w.head.line)}}}function Pp(c){for(var d=[],x=[],_=0;_<c.doc.sel.ranges.length;_++){var w=c.doc.sel.ranges[_].head.line,D={anchor:Ot(w,0),head:Ot(w+1,0)};x.push(D),d.push(c.getRange(D.anchor,D.head))}return{text:d,ranges:x}}function Nf(c,d,x,_){c.setAttribute("autocorrect",x?"":"off"),c.setAttribute("autocapitalize",_?"":"off"),c.setAttribute("spellcheck",!!d)}function Qa(){var c=ie("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),d=ie("div",[c],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return Pe?c.style.width="1000px":c.setAttribute("wrap","off"),He&&(c.style.border="1px solid black"),Nf(c),d}function dc(c,d,x,_,w){var D=d,F=x,W=en(c,d.line),q=w&&"rtl"==c.direction?-x:x;function _e(Qt){var Gt;if("codepoint"==_){var $t=W.text.charCodeAt(d.ch+(x>0?0:-1));Gt=isNaN($t)?null:new Ot(d.line,Math.max(0,Math.min(W.text.length,d.ch+x*((x>0?$t>=55296&&$t<56320:$t>=56320&&$t<57343)?2:1))),-x)}else Gt=w?function Ep(c,d,x,_){var w=Si(d,c.doc.direction);if(!w)return wf(d,x,_);x.ch>=d.text.length?(x.ch=d.text.length,x.sticky="before"):x.ch<=0&&(x.ch=0,x.sticky="after");var D=Yi(w,x.ch,x.sticky),F=w[D];if("ltr"==c.doc.direction&&F.level%2==0&&(_>0?F.to>x.ch:F.from<x.ch))return wf(d,x,_);var q,W=function(Wt,Qt){return Sf(d,Wt instanceof Ot?Wt.ch:Wt,Qt)},J=function(Wt){return c.options.lineWrapping?(q=q||Wa(c,d),Ne(c,d,q,Wt)):{begin:0,end:d.text.length}},_e=J("before"==x.sticky?W(x,-1):x.ch);if("rtl"==c.doc.direction||1==F.level){var Se=1==F.level==_<0,ze=W(x,Se?1:-1);if(null!=ze&&(Se?ze<=F.to&&ze<=_e.end:ze>=F.from&&ze>=_e.begin))return new Ot(x.line,ze,Se?"before":"after")}var vt=function(Wt,Qt,Gt){for(;Wt>=0&&Wt<w.length;Wt+=Qt){var vn=w[Wt],hn=Qt>0==(1!=vn.level),Bn=hn?Gt.begin:W(Gt.end,-1);if(vn.from<=Bn&&Bn<vn.to||(Bn=hn?vn.from:W(vn.to,-1),Gt.begin<=Bn&&Bn<Gt.end))return Ii=Bn,hn?new Ot(x.line,W(Ii,1),"before"):new Ot(x.line,Ii,"after")}var Ii},Et=vt(D+_,_,_e);if(Et)return Et;var Pt=_>0?_e.end:W(_e.begin,-1);return null==Pt||_>0&&Pt==d.text.length||!(Et=vt(_>0?0:w.length-1,_,J(Pt)))?null:Et}(c.cm,W,d,x):wf(W,d,x);if(null==Gt){if(Qt||!function J(){var Qt=d.line+q;return!(Qt<c.first||Qt>=c.first+c.size)&&(d=new Ot(Qt,d.ch,d.sticky),W=en(c,Qt))}())return!1;d=Tf(w,c.cm,W,d.line,q)}else d=Gt;return!0}if("char"==_||"codepoint"==_)_e();else if("column"==_)_e(!0);else if("word"==_||"group"==_)for(var Se=null,ze="group"==_,Be=c.cm&&c.cm.getHelper(d,"wordChars"),vt=!0;!(x<0)||_e(!vt);vt=!1){var Et=W.text.charAt(d.ch)||"\n",Pt=ui(Et,Be)?"w":ze&&"\n"==Et?"n":!ze||/\s/.test(Et)?null:"p";if(ze&&!vt&&!Pt&&(Pt="s"),Se&&Se!=Pt){x<0&&(x=1,_e(),d.sticky="after");break}if(Pt&&(Se=Pt),x>0&&!_e(!vt))break}var Wt=yr(c,d,D,F,!0);return sa(D,Wt)&&(Wt.hitSide=!0),Wt}function dl(c,d,x,_){var F,J,w=c.doc,D=d.left;if("page"==_){var W=Math.min(c.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),q=Math.max(W-.5*Ut(c.display),3);F=(x>0?d.bottom:d.top)+x*q}else"line"==_&&(F=x>0?d.bottom+3:d.top-3);for(;(J=El(c,D,F)).outside;){if(x<0?F<=0:F>=w.height){J.hitSide=!0;break}F+=5*x}return J}var yi=function(c){this.cm=c,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new mt,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function Rf(c,d){var x=Ss(c,d.line);if(!x||x.hidden)return null;var _=en(c.doc,d.line),w=jo(x,_,d.line),D=Si(_,c.doc.direction),F="left";D&&(F=Yi(D,d.ch)%2?"right":"left");var q=ws(w.map,d.ch,F);return q.offset="right"==q.collapse?q.end:q.start,q}function Io(c,d){return d&&(c.bad=!0),c}function pc(c,d,x){var _;if(d==c.display.lineDiv){if(!(_=c.display.lineDiv.childNodes[x]))return Io(c.clipPos(Ot(c.display.viewTo-1)),!0);d=null,x=0}else for(_=d;;_=_.parentNode){if(!_||_==c.display.lineDiv)return null;if(_.parentNode&&_.parentNode==c.display.lineDiv)break}for(var w=0;w<c.display.view.length;w++){var D=c.display.view[w];if(D.node==_)return Fp(D,d,x)}}function Fp(c,d,x){var _=c.text.firstChild,w=!1;if(!d||!lt(_,d))return Io(Ot(An(c.line),0),!0);if(d==_&&(w=!0,d=_.childNodes[x],x=0,!d)){var D=c.rest?Rt(c.rest):c.line;return Io(Ot(An(D),D.text.length),w)}var F=3==d.nodeType?d:null,W=d;for(!F&&1==d.childNodes.length&&3==d.firstChild.nodeType&&(F=d.firstChild,x&&(x=F.nodeValue.length));W.parentNode!=_;)W=W.parentNode;var q=c.measure,J=q.maps;function _e(Pt,Wt,Qt){for(var Gt=-1;Gt<(J?J.length:0);Gt++)for(var $t=Gt<0?q.map:J[Gt],vn=0;vn<$t.length;vn+=3){var hn=$t[vn+2];if(hn==Pt||hn==Wt){var Bn=An(Gt<0?c.line:c.rest[Gt]),Ii=$t[vn]+Qt;return(Qt<0||hn!=Pt)&&(Ii=$t[vn+(Qt?1:0)]),Ot(Bn,Ii)}}}var Se=_e(F,W,x);if(Se)return Io(Se,w);for(var ze=W.nextSibling,Be=F?F.nodeValue.length-x:0;ze;ze=ze.nextSibling){if(Se=_e(ze,ze.firstChild,0))return Io(Ot(Se.line,Se.ch-Be),w);Be+=ze.textContent.length}for(var vt=W.previousSibling,Et=x;vt;vt=vt.previousSibling){if(Se=_e(vt,vt.firstChild,-1))return Io(Ot(Se.line,Se.ch+Et),w);Et+=vt.textContent.length}}yi.prototype.init=function(c){var d=this,x=this,_=x.cm,w=x.div=c.lineDiv;function D(W){for(var q=W.target;q;q=q.parentNode){if(q==w)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(q.className))break}return!1}function F(W){if(D(W)&&!z(_,W)){if(_.somethingSelected())hc({lineWise:!1,text:_.getSelections()}),"cut"==W.type&&_.replaceSelection("",null,"cut");else{if(!_.options.lineWiseCopyCut)return;var q=Pp(_);hc({lineWise:!0,text:q.text}),"cut"==W.type&&_.operation(function(){_.setSelections(q.ranges,0,Jt),_.replaceSelection("",null,"cut")})}if(W.clipboardData){W.clipboardData.clearData();var J=pa.text.join("\n");if(W.clipboardData.setData("Text",J),W.clipboardData.getData("Text")==J)return void W.preventDefault()}var _e=Qa(),Se=_e.firstChild;_.display.lineSpace.insertBefore(_e,_.display.lineSpace.firstChild),Se.value=pa.text.join("\n");var ze=gt();zt(Se),setTimeout(function(){_.display.lineSpace.removeChild(_e),ze.focus(),ze==w&&x.showPrimarySelection()},50)}}w.contentEditable=!0,Nf(w,_.options.spellcheck,_.options.autocorrect,_.options.autocapitalize),ut(w,"paste",function(W){!D(W)||z(_,W)||Df(W,_)||Qe<=11&&setTimeout(vr(_,function(){return d.updateFromDOM()}),20)}),ut(w,"compositionstart",function(W){d.composing={data:W.data,done:!1}}),ut(w,"compositionupdate",function(W){d.composing||(d.composing={data:W.data,done:!1})}),ut(w,"compositionend",function(W){d.composing&&(W.data!=d.composing.data&&d.readFromDOMSoon(),d.composing.done=!0)}),ut(w,"touchstart",function(){return x.forceCompositionEnd()}),ut(w,"input",function(){d.composing||d.readFromDOMSoon()}),ut(w,"copy",F),ut(w,"cut",F)},yi.prototype.screenReaderLabelChanged=function(c){c?this.div.setAttribute("aria-label",c):this.div.removeAttribute("aria-label")},yi.prototype.prepareSelection=function(){var c=ko(this.cm,!1);return c.focus=gt()==this.div,c},yi.prototype.showSelection=function(c,d){!c||!this.cm.display.view.length||((c.focus||d)&&this.showPrimarySelection(),this.showMultipleSelections(c))},yi.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},yi.prototype.showPrimarySelection=function(){var c=this.getSelection(),d=this.cm,x=d.doc.sel.primary(),_=x.from(),w=x.to();if(d.display.viewTo==d.display.viewFrom||_.line>=d.display.viewTo||w.line<d.display.viewFrom)c.removeAllRanges();else{var D=pc(d,c.anchorNode,c.anchorOffset),F=pc(d,c.focusNode,c.focusOffset);if(!D||D.bad||!F||F.bad||0!=Sn(zr(D,F),_)||0!=Sn(fs(D,F),w)){var W=d.display.view,q=_.line>=d.display.viewFrom&&Rf(d,_)||{node:W[0].measure.map[2],offset:0},J=w.line<d.display.viewTo&&Rf(d,w);if(!J){var _e=W[W.length-1].measure,Se=_e.maps?_e.maps[_e.maps.length-1]:_e.map;J={node:Se[Se.length-1],offset:Se[Se.length-2]-Se[Se.length-3]}}if(!q||!J)return void c.removeAllRanges();var Be,ze=c.rangeCount&&c.getRangeAt(0);try{Be=C(q.node,q.offset,J.offset,J.node)}catch{}Be&&(!ue&&d.state.focused?(c.collapse(q.node,q.offset),Be.collapsed||(c.removeAllRanges(),c.addRange(Be))):(c.removeAllRanges(),c.addRange(Be)),ze&&null==c.anchorNode?c.addRange(ze):ue&&this.startGracePeriod()),this.rememberSelection()}}},yi.prototype.startGracePeriod=function(){var c=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){c.gracePeriod=!1,c.selectionChanged()&&c.cm.operation(function(){return c.cm.curOp.selectionChanged=!0})},20)},yi.prototype.showMultipleSelections=function(c){Ee(this.cm.display.cursorDiv,c.cursors),Ee(this.cm.display.selectionDiv,c.selection)},yi.prototype.rememberSelection=function(){var c=this.getSelection();this.lastAnchorNode=c.anchorNode,this.lastAnchorOffset=c.anchorOffset,this.lastFocusNode=c.focusNode,this.lastFocusOffset=c.focusOffset},yi.prototype.selectionInEditor=function(){var c=this.getSelection();if(!c.rangeCount)return!1;var d=c.getRangeAt(0).commonAncestorContainer;return lt(this.div,d)},yi.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&((!this.selectionInEditor()||gt()!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},yi.prototype.blur=function(){this.div.blur()},yi.prototype.getField=function(){return this.div},yi.prototype.supportsTouch=function(){return!0},yi.prototype.receivedFocus=function(){var c=this;this.selectionInEditor()?this.pollSelection():ci(this.cm,function(){return c.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,function d(){c.cm.state.focused&&(c.pollSelection(),c.polling.set(c.cm.options.pollInterval,d))})},yi.prototype.selectionChanged=function(){var c=this.getSelection();return c.anchorNode!=this.lastAnchorNode||c.anchorOffset!=this.lastAnchorOffset||c.focusNode!=this.lastFocusNode||c.focusOffset!=this.lastFocusOffset},yi.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var c=this.getSelection(),d=this.cm;if(De&&Ce&&this.cm.display.gutterSpecs.length&&function $a(c){for(var d=c;d;d=d.parentNode)if(/CodeMirror-gutter-wrapper/.test(d.className))return!0;return!1}(c.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var x=pc(d,c.anchorNode,c.anchorOffset),_=pc(d,c.focusNode,c.focusOffset);x&&_&&ci(d,function(){Zr(d.doc,rl(x,_),Jt),(x.bad||_.bad)&&(d.curOp.selectionChanged=!0)})}}},yi.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var D,F,W,c=this.cm,d=c.display,x=c.doc.sel.primary(),_=x.from(),w=x.to();if(0==_.ch&&_.line>c.firstLine()&&(_=Ot(_.line-1,en(c.doc,_.line-1).length)),w.ch==en(c.doc,w.line).text.length&&w.line<c.lastLine()&&(w=Ot(w.line+1,0)),_.line<d.viewFrom||w.line>d.viewTo-1)return!1;_.line==d.viewFrom||0==(D=En(c,_.line))?(F=An(d.view[0].line),W=d.view[0].node):(F=An(d.view[D].line),W=d.view[D-1].node.nextSibling);var J,_e,q=En(c,w.line);if(q==d.view.length-1?(J=d.viewTo-1,_e=d.lineDiv.lastChild):(J=An(d.view[q+1].line)-1,_e=d.view[q+1].node.previousSibling),!W)return!1;for(var Se=c.doc.splitLines(function Bp(c,d,x,_,w){var D="",F=!1,W=c.doc.lineSeparator(),q=!1;function _e(){F&&(D+=W,q&&(D+=W),F=q=!1)}function Se(Be){Be&&(_e(),D+=Be)}function ze(Be){if(1==Be.nodeType){var vt=Be.getAttribute("cm-text");if(vt)return void Se(vt);var Pt,Et=Be.getAttribute("cm-marker");if(Et){var Wt=c.findMarks(Ot(_,0),Ot(w+1,0),function J(Be){return function(vt){return vt.id==Be}}(+Et));return void(Wt.length&&(Pt=Wt[0].find(0))&&Se(to(c.doc,Pt.from,Pt.to).join(W)))}if("false"==Be.getAttribute("contenteditable"))return;var Qt=/^(pre|div|p|li|table|br)$/i.test(Be.nodeName);if(!/^br$/i.test(Be.nodeName)&&0==Be.textContent.length)return;Qt&&_e();for(var Gt=0;Gt<Be.childNodes.length;Gt++)ze(Be.childNodes[Gt]);/^(pre|p)$/i.test(Be.nodeName)&&(q=!0),Qt&&(F=!0)}else 3==Be.nodeType&&Se(Be.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;ze(d),d!=x;)d=d.nextSibling,q=!1;return D}(c,W,_e,F,J)),ze=to(c.doc,Ot(F,0),Ot(J,en(c.doc,J).text.length));Se.length>1&&ze.length>1;)if(Rt(Se)==Rt(ze))Se.pop(),ze.pop(),J--;else{if(Se[0]!=ze[0])break;Se.shift(),ze.shift(),F++}for(var Be=0,vt=0,Et=Se[0],Pt=ze[0],Wt=Math.min(Et.length,Pt.length);Be<Wt&&Et.charCodeAt(Be)==Pt.charCodeAt(Be);)++Be;for(var Qt=Rt(Se),Gt=Rt(ze),$t=Math.min(Qt.length-(1==Se.length?Be:0),Gt.length-(1==ze.length?Be:0));vt<$t&&Qt.charCodeAt(Qt.length-vt-1)==Gt.charCodeAt(Gt.length-vt-1);)++vt;if(1==Se.length&&1==ze.length&&F==_.line)for(;Be&&Be>_.ch&&Qt.charCodeAt(Qt.length-vt-1)==Gt.charCodeAt(Gt.length-vt-1);)Be--,vt++;Se[Se.length-1]=Qt.slice(0,Qt.length-vt).replace(/^\u200b+/,""),Se[0]=Se[0].slice(Be).replace(/\u200b+$/,"");var vn=Ot(F,Be),hn=Ot(J,ze.length?Rt(ze).length-vt:0);return Se.length>1||Se[0]||Sn(vn,hn)?(ha(c.doc,Se,vn,hn,"+input"),!0):void 0},yi.prototype.ensurePolled=function(){this.forceCompositionEnd()},yi.prototype.reset=function(){this.forceCompositionEnd()},yi.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},yi.prototype.readFromDOMSoon=function(){var c=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){if(c.readDOMTimeout=null,c.composing){if(!c.composing.done)return;c.composing=null}c.updateFromDOM()},80))},yi.prototype.updateFromDOM=function(){var c=this;(this.cm.isReadOnly()||!this.pollContent())&&ci(this.cm,function(){return Xn(c.cm)})},yi.prototype.setUneditable=function(c){c.contentEditable="false"},yi.prototype.onKeyPress=function(c){0==c.charCode||this.composing||(c.preventDefault(),this.cm.isReadOnly()||vr(this.cm,fc)(this.cm,String.fromCharCode(null==c.charCode?c.keyCode:c.charCode),0))},yi.prototype.readOnlyChanged=function(c){this.div.contentEditable=String("nocursor"!=c)},yi.prototype.onContextMenu=function(){},yi.prototype.resetPosition=function(){},yi.prototype.needsContentAttribute=!0;var nr=function(c){this.cm=c,this.prevInput="",this.pollingFast=!1,this.polling=new mt,this.hasSelection=!1,this.composing=null};nr.prototype.init=function(c){var d=this,x=this,_=this.cm;this.createField(c);var w=this.textarea;function D(F){if(!z(_,F)){if(_.somethingSelected())hc({lineWise:!1,text:_.getSelections()});else{if(!_.options.lineWiseCopyCut)return;var W=Pp(_);hc({lineWise:!0,text:W.text}),"cut"==F.type?_.setSelections(W.ranges,null,Jt):(x.prevInput="",w.value=W.text.join("\n"),zt(w))}"cut"==F.type&&(_.state.cutIncoming=+new Date)}}c.wrapper.insertBefore(this.wrapper,c.wrapper.firstChild),He&&(w.style.width="0px"),ut(w,"input",function(){ve&&Qe>=9&&d.hasSelection&&(d.hasSelection=null),x.poll()}),ut(w,"paste",function(F){z(_,F)||Df(F,_)||(_.state.pasteIncoming=+new Date,x.fastPoll())}),ut(w,"cut",D),ut(w,"copy",D),ut(c.scroller,"paste",function(F){if(!Oo(c,F)&&!z(_,F)){if(!w.dispatchEvent)return _.state.pasteIncoming=+new Date,void x.focus();var W=new Event("paste");W.clipboardData=F.clipboardData,w.dispatchEvent(W)}}),ut(c.lineSpace,"selectstart",function(F){Oo(c,F)||Xe(F)}),ut(w,"compositionstart",function(){var F=_.getCursor("from");x.composing&&x.composing.range.clear(),x.composing={start:F,range:_.markText(F,_.getCursor("to"),{className:"CodeMirror-composing"})}}),ut(w,"compositionend",function(){x.composing&&(x.poll(),x.composing.range.clear(),x.composing=null)})},nr.prototype.createField=function(c){this.wrapper=Qa(),this.textarea=this.wrapper.firstChild},nr.prototype.screenReaderLabelChanged=function(c){c?this.textarea.setAttribute("aria-label",c):this.textarea.removeAttribute("aria-label")},nr.prototype.prepareSelection=function(){var c=this.cm,d=c.display,x=c.doc,_=ko(c);if(c.options.moveInputWithCursor){var w=cn(c,x.sel.primary().head,"div"),D=d.wrapper.getBoundingClientRect(),F=d.lineDiv.getBoundingClientRect();_.teTop=Math.max(0,Math.min(d.wrapper.clientHeight-10,w.top+F.top-D.top)),_.teLeft=Math.max(0,Math.min(d.wrapper.clientWidth-10,w.left+F.left-D.left))}return _},nr.prototype.showSelection=function(c){var x=this.cm.display;Ee(x.cursorDiv,c.cursors),Ee(x.selectionDiv,c.selection),null!=c.teTop&&(this.wrapper.style.top=c.teTop+"px",this.wrapper.style.left=c.teLeft+"px")},nr.prototype.reset=function(c){if(!this.contextMenuPending&&!this.composing){var d=this.cm;if(d.somethingSelected()){this.prevInput="";var x=d.getSelection();this.textarea.value=x,d.state.focused&&zt(this.textarea),ve&&Qe>=9&&(this.hasSelection=x)}else c||(this.prevInput=this.textarea.value="",ve&&Qe>=9&&(this.hasSelection=null))}},nr.prototype.getField=function(){return this.textarea},nr.prototype.supportsTouch=function(){return!1},nr.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!ct||gt()!=this.textarea))try{this.textarea.focus()}catch{}},nr.prototype.blur=function(){this.textarea.blur()},nr.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},nr.prototype.receivedFocus=function(){this.slowPoll()},nr.prototype.slowPoll=function(){var c=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){c.poll(),c.cm.state.focused&&c.slowPoll()})},nr.prototype.fastPoll=function(){var c=!1,d=this;d.pollingFast=!0,d.polling.set(20,function x(){d.poll()||c?(d.pollingFast=!1,d.slowPoll()):(c=!0,d.polling.set(60,x))})},nr.prototype.poll=function(){var c=this,d=this.cm,x=this.textarea,_=this.prevInput;if(this.contextMenuPending||!d.state.focused||$e(x)&&!_&&!this.composing||d.isReadOnly()||d.options.disableInput||d.state.keySeq)return!1;var w=x.value;if(w==_&&!d.somethingSelected())return!1;if(ve&&Qe>=9&&this.hasSelection===w||ne&&/[\uf700-\uf7ff]/.test(w))return d.display.input.reset(),!1;if(d.doc.sel==d.display.selForContextMenu){var D=w.charCodeAt(0);if(8203==D&&!_&&(_="\u200b"),8666==D)return this.reset(),this.cm.execCommand("undo")}for(var F=0,W=Math.min(_.length,w.length);F<W&&_.charCodeAt(F)==w.charCodeAt(F);)++F;return ci(d,function(){fc(d,w.slice(F),_.length-F,null,c.composing?"*compose":null),w.length>1e3||w.indexOf("\n")>-1?x.value=c.prevInput="":c.prevInput=w,c.composing&&(c.composing.range.clear(),c.composing.range=d.markText(c.composing.start,d.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},nr.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},nr.prototype.onKeyPress=function(){ve&&Qe>=9&&(this.hasSelection=null),this.fastPoll()},nr.prototype.onContextMenu=function(c){var d=this,x=d.cm,_=x.display,w=d.textarea;d.contextMenuPending&&d.contextMenuPending();var D=fi(x,c),F=_.scroller.scrollTop;if(D&&!yt){x.options.resetSelectionOnContextMenu&&-1==x.doc.sel.contains(D)&&vr(x,Zr)(x.doc,rl(D),Jt);var Se,q=w.style.cssText,J=d.wrapper.style.cssText,_e=d.wrapper.offsetParent.getBoundingClientRect();if(d.wrapper.style.cssText="position: static",w.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(c.clientY-_e.top-5)+"px; left: "+(c.clientX-_e.left-5)+"px;\n      z-index: 1000; background: "+(ve?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",Pe&&(Se=window.scrollY),_.input.focus(),Pe&&window.scrollTo(null,Se),_.input.reset(),x.somethingSelected()||(w.value=d.prevInput=" "),d.contextMenuPending=Be,_.selForContextMenu=x.doc.sel,clearTimeout(_.detectingSelectAll),ve&&Qe>=9&&ze(),Te){bn(c);var vt=function(){ke(window,"mouseup",vt),setTimeout(Be,20)};ut(window,"mouseup",vt)}else setTimeout(Be,50)}function ze(){if(null!=w.selectionStart){var Et=x.somethingSelected(),Pt="\u200b"+(Et?w.value:"");w.value="\u21da",w.value=Pt,d.prevInput=Et?"":"\u200b",w.selectionStart=1,w.selectionEnd=Pt.length,_.selForContextMenu=x.doc.sel}}function Be(){if(d.contextMenuPending==Be&&(d.contextMenuPending=!1,d.wrapper.style.cssText=J,w.style.cssText=q,ve&&Qe<9&&_.scrollbars.setScrollTop(_.scroller.scrollTop=F),null!=w.selectionStart)){(!ve||ve&&Qe<9)&&ze();var Et=0,Pt=function(){_.selForContextMenu==x.doc.sel&&0==w.selectionStart&&w.selectionEnd>0&&"\u200b"==d.prevInput?vr(x,_f)(x):Et++<10?_.detectingSelectAll=setTimeout(Pt,500):(_.selForContextMenu=null,_.input.reset())};_.detectingSelectAll=setTimeout(Pt,200)}}},nr.prototype.readOnlyChanged=function(c){c||this.reset(),this.textarea.disabled="nocursor"==c,this.textarea.readOnly=!!c},nr.prototype.setUneditable=function(){},nr.prototype.needsContentAttribute=!1,function uc(c){var d=c.optionHandlers;function x(_,w,D,F){c.defaults[_]=w,D&&(d[_]=F?function(W,q,J){J!=yu&&D(W,q,J)}:D)}c.defineOption=x,c.Init=yu,x("value","",function(_,w){return _.setValue(w)},!0),x("mode",null,function(_,w){_.doc.modeOption=w,ff(_)},!0),x("indentUnit",2,ff,!0),x("indentWithTabs",!1),x("smartIndent",!0),x("tabSize",4,function(_){Qu(_),Ya(_),Xn(_)},!0),x("lineSeparator",null,function(_,w){if(_.doc.lineSep=w,w){var D=[],F=_.doc.first;_.doc.iter(function(q){for(var J=0;;){var _e=q.text.indexOf(w,J);if(-1==_e)break;J=_e+w.length,D.push(Ot(F,_e))}F++});for(var W=D.length-1;W>=0;W--)ha(_.doc,w,D[W],Ot(D[W].line,D[W].ch+w.length))}}),x("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,function(_,w,D){_.state.specialChars=new RegExp(w.source+(w.test("\t")?"":"|\t"),"g"),D!=yu&&_.refresh()}),x("specialCharPlaceholder",co,function(_){return _.refresh()},!0),x("electricChars",!0),x("inputStyle",ct?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),x("spellcheck",!1,function(_,w){return _.getInputField().spellcheck=w},!0),x("autocorrect",!1,function(_,w){return _.getInputField().autocorrect=w},!0),x("autocapitalize",!1,function(_,w){return _.getInputField().autocapitalize=w},!0),x("rtlMoveVisually",!Oe),x("wholeLineUpdateBefore",!0),x("theme","default",function(_){mu(_),Ju(_)},!0),x("keyMap","default",function(_,w,D){var F=Jr(w),W=D!=yu&&Jr(D);W&&W.detach&&W.detach(_,F),F.attach&&F.attach(_,W||null)}),x("extraKeys",null),x("configureMouse",null),x("lineWrapping",!1,cc,!0),x("gutters",[],function(_,w){_.display.gutterSpecs=uf(w,_.options.lineNumbers),Ju(_)},!0),x("fixedGutter",!0,function(_,w){_.display.gutters.style.left=w?wn(_.display)+"px":"0",_.refresh()},!0),x("coverGutterNextToScrollbar",!1,function(_){return Al(_)},!0),x("scrollbarStyle","native",function(_){af(_),Al(_),_.display.scrollbars.setScrollTop(_.doc.scrollTop),_.display.scrollbars.setScrollLeft(_.doc.scrollLeft)},!0),x("lineNumbers",!1,function(_,w){_.display.gutterSpecs=uf(_.options.gutters,w),Ju(_)},!0),x("firstLineNumber",1,Ju,!0),x("lineNumberFormatter",function(_){return _},Ju,!0),x("showCursorWhenSelecting",!1,di,!0),x("resetSelectionOnContextMenu",!0),x("lineWiseCopyCut",!0),x("pasteLinesPerSelection",!0),x("selectionsMayTouch",!1),x("readOnly",!1,function(_,w){"nocursor"==w&&(Kr(_),_.display.input.blur()),_.display.input.readOnlyChanged(w)}),x("screenReaderLabel",null,function(_,w){_.display.input.screenReaderLabelChanged(w=""===w?null:w)}),x("disableInput",!1,function(_,w){w||_.display.input.reset()},!0),x("dragDrop",!0,oh),x("allowDropFileTypes",null),x("cursorBlinkRate",530),x("cursorScrollMargin",0),x("cursorHeight",1,di,!0),x("singleCursorHeightPerLine",!0,di,!0),x("workTime",100),x("workDelay",100),x("flattenSpans",!0,Qu,!0),x("addModeClass",!1,Qu,!0),x("pollInterval",100),x("undoDepth",200,function(_,w){return _.doc.history.undoDepth=w}),x("historyEventDelay",1250),x("viewportMargin",10,function(_){return _.refresh()},!0),x("maxHighlightLength",1e4,Qu,!0),x("moveInputWithCursor",!0,function(_,w){w||_.display.input.resetPosition()}),x("tabindex",null,function(_,w){return _.display.input.getField().tabIndex=w||""}),x("autofocus",null),x("direction","ltr",function(_,w){return _.doc.setDirection(w)},!0),x("phrases",null)}(Ti),function sh(c){var d=c.optionHandlers,x=c.helpers={};c.prototype={constructor:c,focus:function(){window.focus(),this.display.input.focus()},setOption:function(_,w){var D=this.options,F=D[_];D[_]==w&&"mode"!=_||(D[_]=w,d.hasOwnProperty(_)&&vr(this,d[_])(this,w,F),Ae(this,"optionChange",this,_))},getOption:function(_){return this.options[_]},getDoc:function(){return this.doc},addKeyMap:function(_,w){this.state.keyMaps[w?"push":"unshift"](Jr(_))},removeKeyMap:function(_){for(var w=this.state.keyMaps,D=0;D<w.length;++D)if(w[D]==_||w[D].name==_)return w.splice(D,1),!0},addOverlay:Sr(function(_,w){var D=_.token?_:c.getMode(this.options,_);if(D.startState)throw new Error("Overlays may not be stateful.");(function Bi(c,d,x){for(var _=0,w=x(d);_<c.length&&x(c[_])<=w;)_++;c.splice(_,0,d)})(this.state.overlays,{mode:D,modeSpec:_,opaque:w&&w.opaque,priority:w&&w.priority||0},function(F){return F.priority}),this.state.modeGen++,Xn(this)}),removeOverlay:Sr(function(_){for(var w=this.state.overlays,D=0;D<w.length;++D){var F=w[D].modeSpec;if(F==_||"string"==typeof _&&F.name==_)return w.splice(D,1),this.state.modeGen++,void Xn(this)}}),indentLine:Sr(function(_,w,D){"string"!=typeof w&&"number"!=typeof w&&(w=null==w?this.options.smartIndent?"smart":"prev":w?"add":"subtract"),Mr(this.doc,_)&&fl(this,_,w,D)}),indentSelection:Sr(function(_){for(var w=this.doc.sel.ranges,D=-1,F=0;F<w.length;F++){var W=w[F];if(W.empty())W.head.line>D&&(fl(this,W.head.line,_,!0),D=W.head.line,F==this.doc.sel.primIndex&&tu(this));else{var q=W.from(),J=W.to(),_e=Math.max(D,q.line);D=Math.min(this.lastLine(),J.line-(J.ch?0:1))+1;for(var Se=_e;Se<D;++Se)fl(this,Se,_);var ze=this.doc.sel.ranges;0==q.ch&&w.length==ze.length&&ze[F].from().ch>0&&al(this.doc,F,new pi(q,ze[F].to()),Jt)}}}),getTokenAt:function(_,w){return Sl(this,_,w)},getLineTokens:function(_,w){return Sl(this,Ot(_),w,!0)},getTokenTypeAt:function(_){_=xn(this.doc,_);var q,w=Ws(this,en(this.doc,_.line)),D=0,F=(w.length-1)/2,W=_.ch;if(0==W)q=w[2];else for(;;){var J=D+F>>1;if((J?w[2*J-1]:0)>=W)F=J;else{if(!(w[2*J+1]<W)){q=w[2*J+2];break}D=J+1}}var _e=q?q.indexOf("overlay "):-1;return _e<0?q:0==_e?null:q.slice(0,_e-1)},getModeAt:function(_){var w=this.doc.mode;return w.innerMode?c.innerMode(w,this.getTokenAt(_).state).mode:w},getHelper:function(_,w){return this.getHelpers(_,w)[0]},getHelpers:function(_,w){var D=[];if(!x.hasOwnProperty(w))return D;var F=x[w],W=this.getModeAt(_);if("string"==typeof W[w])F[W[w]]&&D.push(F[W[w]]);else if(W[w])for(var q=0;q<W[w].length;q++){var J=F[W[w][q]];J&&D.push(J)}else W.helperType&&F[W.helperType]?D.push(F[W.helperType]):F[W.name]&&D.push(F[W.name]);for(var _e=0;_e<F._global.length;_e++){var Se=F._global[_e];Se.pred(W,this)&&-1==Lt(D,Se.val)&&D.push(Se.val)}return D},getStateAfter:function(_,w){var D=this.doc;return No(this,(_=_a(D,_??D.first+D.size-1))+1,w).state},cursorCoords:function(_,w){var F=this.doc.sel.primary();return cn(this,null==_?F.head:"object"==typeof _?xn(this.doc,_):_?F.from():F.to(),w||"page")},charCoords:function(_,w){return Zo(this,xn(this.doc,_),w||"page")},coordsChar:function(_,w){return El(this,(_=Ma(this,_,w||"page")).left,_.top)},lineAtHeight:function(_,w){return _=Ma(this,{top:_,left:0},w||"page").top,Ur(this.doc,_+this.display.viewOffset)},heightAtLine:function(_,w,D){var W,F=!1;if("number"==typeof _){var q=this.doc.first+this.doc.size-1;_<this.doc.first?_=this.doc.first:_>q&&(_=q,F=!0),W=en(this.doc,_)}else W=_;return Ko(this,W,{top:0,left:0},w||"page",D||F).top+(F?this.doc.height-xe(W):0)},defaultTextHeight:function(){return Ut(this.display)},defaultCharWidth:function(){return Zt(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(_,w,D,F,W){var q=this.display,J=(_=cn(this,xn(this.doc,_))).bottom,_e=_.left;if(w.style.position="absolute",w.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(w),q.sizer.appendChild(w),"over"==F)J=_.top;else if("above"==F||"near"==F){var Se=Math.max(q.wrapper.clientHeight,this.doc.height),ze=Math.max(q.sizer.clientWidth,q.lineSpace.clientWidth);("above"==F||_.bottom+w.offsetHeight>Se)&&_.top>w.offsetHeight?J=_.top-w.offsetHeight:_.bottom+w.offsetHeight<=Se&&(J=_.bottom),_e+w.offsetWidth>ze&&(_e=ze-w.offsetWidth)}w.style.top=J+"px",w.style.left=w.style.right="","right"==W?(_e=q.sizer.clientWidth-w.offsetWidth,w.style.right="0px"):("left"==W?_e=0:"middle"==W&&(_e=(q.sizer.clientWidth-w.offsetWidth)/2),w.style.left=_e+"px"),D&&function of(c,d){var x=qu(c,d);null!=x.scrollTop&&el(c,x.scrollTop),null!=x.scrollLeft&&po(c,x.scrollLeft)}(this,{left:_e,top:J,right:_e+w.offsetWidth,bottom:J+w.offsetHeight})},triggerOnKeyDown:Sr(cl),triggerOnKeyPress:Sr(kn),triggerOnKeyUp:Ap,triggerOnMouseDown:Sr(If),execCommand:function(_){if(vu.hasOwnProperty(_))return vu[_].call(null,this)},triggerElectric:Sr(function(_){kp(this,_)}),findPosH:function(_,w,D,F){var W=1;w<0&&(W=-1,w=-w);for(var q=xn(this.doc,_),J=0;J<w&&!(q=dc(this.doc,q,W,D,F)).hitSide;++J);return q},moveH:Sr(function(_,w){var D=this;this.extendSelectionsBy(function(F){return D.display.shift||D.doc.extend||F.empty()?dc(D.doc,F.head,_,w,D.options.rtlMoveVisually):_<0?F.from():F.to()},Ci)}),deleteH:Sr(function(_,w){var F=this.doc;this.doc.sel.somethingSelected()?F.replaceSelection("",null,"+delete"):oo(this,function(W){var q=dc(F,W.head,_,w,!1);return _<0?{from:q,to:W.head}:{from:W.head,to:q}})}),findPosV:function(_,w,D,F){var W=1,q=F;w<0&&(W=-1,w=-w);for(var J=xn(this.doc,_),_e=0;_e<w;++_e){var Se=cn(this,J,"div");if(null==q?q=Se.left:Se.left=q,(J=dl(this,Se,W,D)).hitSide)break}return J},moveV:Sr(function(_,w){var D=this,F=this.doc,W=[],q=!this.display.shift&&!F.extend&&F.sel.somethingSelected();if(F.extendSelectionsBy(function(_e){if(q)return _<0?_e.from():_e.to();var Se=cn(D,_e.head,"div");null!=_e.goalColumn&&(Se.left=_e.goalColumn),W.push(Se.left);var ze=dl(D,Se,_,w);return"page"==w&&_e==F.sel.primary()&&Cl(D,Zo(D,ze,"div").top-Se.top),ze},Ci),W.length)for(var J=0;J<F.sel.ranges.length;J++)F.sel.ranges[J].goalColumn=W[J]}),findWordAt:function(_){var D=en(this.doc,_.line).text,F=_.ch,W=_.ch;if(D){var q=this.getHelper(_,"wordChars");"before"!=_.sticky&&W!=D.length||!F?++W:--F;for(var J=D.charAt(F),_e=ui(J,q)?function(Se){return ui(Se,q)}:/\s/.test(J)?function(Se){return/\s/.test(Se)}:function(Se){return!/\s/.test(Se)&&!ui(Se)};F>0&&_e(D.charAt(F-1));)--F;for(;W<D.length&&_e(D.charAt(W));)++W}return new pi(Ot(_.line,F),Ot(_.line,W))},toggleOverwrite:function(_){null!=_&&_==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?Y(this.display.cursorDiv,"CodeMirror-overwrite"):et(this.display.cursorDiv,"CodeMirror-overwrite"),Ae(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==gt()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:Sr(function(_,w){io(this,_,w)}),getScrollInfo:function(){var _=this.display.scroller;return{left:_.scrollLeft,top:_.scrollTop,height:_.scrollHeight-So(this)-this.display.barHeight,width:_.scrollWidth-So(this)-this.display.barWidth,clientHeight:Ql(this),clientWidth:Dr(this)}},scrollIntoView:Sr(function(_,w){null==_?(_={from:this.doc.sel.primary().head,to:null},null==w&&(w=this.options.cursorScrollMargin)):"number"==typeof _?_={from:Ot(_,0),to:null}:null==_.from&&(_={from:_,to:null}),_.to||(_.to=_.from),_.margin=w||0,null!=_.from.line?function ap(c,d){nu(c),c.curOp.scrollToPos=d}(this,_):Gc(this,_.from,_.to,_.margin)}),setSize:Sr(function(_,w){var D=this,F=function(q){return"number"==typeof q||/^\d+$/.test(String(q))?q+"px":q};null!=_&&(this.display.wrapper.style.width=F(_)),null!=w&&(this.display.wrapper.style.height=F(w)),this.options.lineWrapping&&Tl(this);var W=this.display.viewFrom;this.doc.iter(W,this.display.viewTo,function(q){if(q.widgets)for(var J=0;J<q.widgets.length;J++)if(q.widgets[J].noHScroll){Di(D,W,"widget");break}++W}),this.curOp.forceUpdate=!0,Ae(this,"refresh",this)}),operation:function(_){return ci(this,_)},startOperation:function(){return Yn(this)},endOperation:function(){return Qo(this)},refresh:Sr(function(){var _=this.display.cachedTextHeight;Xn(this),this.curOp.forceUpdate=!0,Ya(this),io(this,this.doc.scrollLeft,this.doc.scrollTop),Es(this.display),(null==_||Math.abs(_-Ut(this.display))>.5||this.options.lineWrapping)&&Gn(this),Ae(this,"refresh",this)}),swapDoc:Sr(function(_){var w=this.doc;return w.cm=null,this.state.selectingText&&this.state.selectingText(),pp(this,_),Ya(this),this.display.input.reset(),io(this,_.scrollLeft,_.scrollTop),this.curOp.forceScroll=!0,hi(this,"swapDoc",this,w),w}),phrase:function(_){var w=this.options.phrases;return w&&Object.prototype.hasOwnProperty.call(w,_)?w[_]:_},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Fe(c),c.registerHelper=function(_,w,D){x.hasOwnProperty(_)||(x[_]=c[_]={_global:[]}),x[_][w]=D},c.registerGlobalHelper=function(_,w,D,F){c.registerHelper(_,w,F),x[_]._global.push({pred:D,val:F})}}(Ti);var Of="iter insert remove copy getEditor constructor".split(" ");for(var _u in Nr.prototype)Nr.prototype.hasOwnProperty(_u)&&Lt(Of,_u)<0&&(Ti.prototype[_u]=function(c){return function(){return c.apply(this.doc,arguments)}}(Nr.prototype[_u]));return Fe(Nr),Ti.inputStyles={textarea:nr,contenteditable:yi},Ti.defineMode=function(c){!Ti.defaults.mode&&"null"!=c&&(Ti.defaults.mode=c),on.apply(this,arguments)},Ti.defineMIME=function Tn(c,d){qt[c]=d},Ti.defineMode("null",function(){return{token:function(c){return c.skipToEnd()}}}),Ti.defineMIME("text/plain","null"),Ti.defineExtension=function(c,d){Ti.prototype[c]=d},Ti.defineDocExtension=function(c,d){Nr.prototype[c]=d},Ti.fromTextArea=function Hp(c,d){if((d=d?rn(d):{}).value=c.value,!d.tabindex&&c.tabIndex&&(d.tabindex=c.tabIndex),!d.placeholder&&c.placeholder&&(d.placeholder=c.placeholder),null==d.autofocus){var x=gt();d.autofocus=x==c||null!=c.getAttribute("autofocus")&&x==document.body}function _(){c.value=W.getValue()}var w;if(c.form&&(ut(c.form,"submit",_),!d.leaveSubmitMethodAlone)){var D=c.form;w=D.submit;try{var F=D.submit=function(){_(),D.submit=w,D.submit(),D.submit=F}}catch{}}d.finishInit=function(q){q.save=_,q.getTextArea=function(){return c},q.toTextArea=function(){q.toTextArea=isNaN,_(),c.parentNode.removeChild(q.getWrapperElement()),c.style.display="",c.form&&(ke(c.form,"submit",_),!d.leaveSubmitMethodAlone&&"function"==typeof c.form.submit&&(c.form.submit=w))}},c.style.display="none";var W=Ti(function(q){return c.parentNode.insertBefore(q,c.nextSibling)},d);return W},function Up(c){c.off=ke,c.on=ut,c.wheelEventPixels=im,c.Doc=Nr,c.splitLines=ot,c.countColumn=Mt,c.findColumn=Bt,c.isWordChar=ln,c.Pass=sn,c.signal=Ae,c.Line=at,c.changeEnd=Da,c.scrollbarModel=jn,c.Pos=Ot,c.cmpPos=Sn,c.modes=Kt,c.mimeModes=qt,c.resolveMode=Mi,c.getMode=Xi,c.modeExtensions=ii,c.extendMode=sr,c.copyState=Fi,c.startState=lo,c.innerMode=pr,c.commands=vu,c.keyMap=Za,c.keyName=ul,c.isModifierKey=Ja,c.lookupKey=gu,c.normalizeKeyMap=ac,c.StringStream=Kn,c.SharedTextMarker=Ra,c.TextMarker=qn,c.LineWidget=du,c.e_preventDefault=Xe,c.e_stopPropagation=Vt,c.e_stop=bn,c.addClass=Y,c.contains=lt,c.rmClass=et,c.keyNames=vo}(Ti),Ti.version="5.62.3",Ti}),function(oe){"object"==typeof exports&&"object"==typeof module?oe(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],oe):oe(CodeMirror)}(function(oe){"use strict";oe.defineMode("yaml",function(){var ue=new RegExp("\\b(("+["true","false","on","off","yes","no"].join(")|(")+"))$","i");return{token:function(qe,X){var Ye=qe.peek(),ve=X.escaped;if(X.escaped=!1,"#"==Ye&&(0==qe.pos||/\s/.test(qe.string.charAt(qe.pos-1))))return qe.skipToEnd(),"comment";if(qe.match(/^('([^']|\\.)*'?|"([^"]|\\.)*"?)/))return"string";if(X.literal&&qe.indentation()>X.keyCol)return qe.skipToEnd(),"string";if(X.literal&&(X.literal=!1),qe.sol()){if(X.keyCol=0,X.pair=!1,X.pairStart=!1,qe.match("---")||qe.match("..."))return"def";if(qe.match(/\s*-\s+/))return"meta"}if(qe.match(/^(\{|\}|\[|\])/))return"{"==Ye?X.inlinePairs++:"}"==Ye?X.inlinePairs--:"["==Ye?X.inlineList++:X.inlineList--,"meta";if(X.inlineList>0&&!ve&&","==Ye)return qe.next(),"meta";if(X.inlinePairs>0&&!ve&&","==Ye)return X.keyCol=0,X.pair=!1,X.pairStart=!1,qe.next(),"meta";if(X.pairStart){if(qe.match(/^\s*(\||\>)\s*/))return X.literal=!0,"meta";if(qe.match(/^\s*(\&|\*)[a-z0-9\._-]+\b/i))return"variable-2";if(0==X.inlinePairs&&qe.match(/^\s*-?[0-9\.\,]+\s?$/)||X.inlinePairs>0&&qe.match(/^\s*-?[0-9\.\,]+\s?(?=(,|}))/))return"number";if(qe.match(ue))return"keyword"}return!X.pair&&qe.match(/^\s*(?:[,\[\]{}&*!|>'"%@`][^\s'":]|[^,\[\]{}#&*!|>'"%@`])[^#]*?(?=\s*:($|\s))/)?(X.pair=!0,X.keyCol=qe.indentation(),"atom"):X.pair&&qe.match(/^:\s*/)?(X.pairStart=!0,"meta"):(X.pairStart=!1,X.escaped="\\"==Ye,qe.next(),null)},startState:function(){return{pair:!1,pairStart:!1,keyCol:0,inlinePairs:0,inlineList:0,literal:!1,escaped:!1}},lineComment:"#",fold:"indent"}}),oe.defineMIME("text/x-yaml","yaml"),oe.defineMIME("text/yaml","yaml")}),function(oe){"object"==typeof exports&&"object"==typeof module?oe(require("../../lib/codemirror"),require("../yaml/yaml")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../yaml/yaml"],oe):oe(CodeMirror)}(function(oe){oe.defineMode("yaml-frontmatter",function(X,Ye){var ve=oe.getMode(X,"yaml"),Qe=oe.getMode(X,Ye&&Ye.base||"gfm");function Pe(st){return 1==st.state?{mode:ve,state:st.yaml}:{mode:Qe,state:st.inner}}return{startState:function(){return{state:0,yaml:null,inner:oe.startState(Qe)}},copyState:function(st){return{state:st.state,yaml:st.yaml&&oe.copyState(ve,st.yaml),inner:oe.copyState(Qe,st.inner)}},token:function(st,Ce){if(0==Ce.state)return st.match("---",!1)?(Ce.state=1,Ce.yaml=oe.startState(ve),ve.token(st,Ce.yaml)):(Ce.state=2,Qe.token(st,Ce.inner));if(1==Ce.state){var yt=st.sol()&&st.match(/(---|\.\.\.)/,!1),St=ve.token(st,Ce.yaml);return yt&&(Ce.state=2,Ce.yaml=null),St}return Qe.token(st,Ce.inner)},innerMode:Pe,indent:function(st,Ce,yt){var St=Pe(st);return St.mode.indent?St.mode.indent(St.state,Ce,yt):oe.Pass},blankLine:function(st){var Ce=Pe(st);if(Ce.mode.blankLine)return Ce.mode.blankLine(Ce.state)}}})}),function(oe){"object"==typeof exports&&"object"==typeof module?oe(require("../lib/codemirror"),require("../addon/search/searchcursor"),require("../addon/edit/matchbrackets")):"function"==typeof define&&define.amd?define(["../lib/codemirror","../addon/search/searchcursor","../addon/edit/matchbrackets"],oe):oe(CodeMirror)}(function(oe){"use strict";var ft=oe.commands,ue=oe.Pos;function X(ne,Me){ne.extendSelectionsBy(function(Oe){return ne.display.shift||ne.doc.extend||Oe.empty()?function qe(ne,Me,Oe){if(Oe<0&&0==Me.ch)return ne.clipPos(ue(Me.line-1));var P=ne.getLine(Me.line);if(Oe>0&&Me.ch>=P.length)return ne.clipPos(ue(Me.line+1,0));for(var Te,tt="start",Ie=Me.ch,et=Ie,se=Oe<0?0:P.length,Ee=0;et!=se;et+=Oe,Ee++){var ie=P.charAt(Oe<0?et-1:et),pe="_"!=ie&&oe.isWordChar(ie)?"w":"o";if("w"==pe&&ie.toUpperCase()==ie&&(pe="W"),"start"==tt)"o"!=pe?(tt="in",Te=pe):Ie=et+Oe;else if("in"==tt&&Te!=pe){if("w"==Te&&"W"==pe&&Oe<0&&et--,"W"==Te&&"w"==pe&&Oe>0){if(et==Ie+1){Te="w";continue}et--}break}}return ue(Me.line,et)}(ne.doc,Oe.head,Me):Me<0?Oe.from():Oe.to()})}function Ye(ne,Me){if(ne.isReadOnly())return oe.Pass;ne.operation(function(){for(var Oe=ne.listSelections().length,P=[],tt=-1,Te=0;Te<Oe;Te++){var Ie=ne.listSelections()[Te].head;if(!(Ie.line<=tt)){var et=ue(Ie.line+(Me?0:1),0);ne.replaceRange("\n",et,null,"+insertLine"),ne.indentLine(et.line,null,!0),P.push({head:et,anchor:et}),tt=Ie.line+1}}ne.setSelections(P)}),ne.execCommand("indentAuto")}function ve(ne,Me){for(var Oe=Me.ch,P=Oe,tt=ne.getLine(Me.line);Oe&&oe.isWordChar(tt.charAt(Oe-1));)--Oe;for(;P<tt.length&&oe.isWordChar(tt.charAt(P));)++P;return{from:ue(Me.line,Oe),to:ue(Me.line,P),word:tt.slice(Oe,P)}}function Qe(ne,Me){for(var Oe=ne.listSelections(),P=[],tt=0;tt<Oe.length;tt++){var Te=Oe[tt],Ie=ne.findPosV(Te.anchor,Me,"line",Te.anchor.goalColumn),et=ne.findPosV(Te.head,Me,"line",Te.head.goalColumn);Ie.goalColumn=null!=Te.anchor.goalColumn?Te.anchor.goalColumn:ne.cursorCoords(Te.anchor,"div").left,et.goalColumn=null!=Te.head.goalColumn?Te.head.goalColumn:ne.cursorCoords(Te.head,"div").left;var se={anchor:Ie,head:et};P.push(Te),P.push(se)}ne.setSelections(P)}function Ce(ne){for(var Me=ne.listSelections(),Oe=[],P=0;P<Me.length;P++){var tt=Me[P],Te=tt.head,Ie=ne.scanForBracket(Te,-1);if(!Ie)return!1;for(;;){var et=ne.scanForBracket(Te,1);if(!et)return!1;if(et.ch=="(){}[]".charAt("(){}[]".indexOf(Ie.ch)+1)){var se=ue(Ie.pos.line,Ie.pos.ch+1);if(0!=oe.cmpPos(se,tt.from())||0!=oe.cmpPos(et.pos,tt.to())){Oe.push({anchor:se,head:et.pos});break}if(!(Ie=ne.scanForBracket(Ie.pos,-1)))return!1}Te=ue(et.pos.line,et.pos.ch+1)}}return ne.setSelections(Oe),!0}function yt(ne){return ne?/\bpunctuation\b/.test(ne)?ne:void 0:null}function St(ne,Me,Oe){if(ne.isReadOnly())return oe.Pass;for(var Te,P=ne.listSelections(),tt=[],Ie=0;Ie<P.length;Ie++){var et=P[Ie];if(!et.empty()){for(var se=et.from().line,Ee=et.to().line;Ie<P.length-1&&P[Ie+1].from().line==Ee;)Ee=P[++Ie].to().line;P[Ie].to().ch||Ee--,tt.push(se,Ee)}}tt.length?Te=!0:tt.push(ne.firstLine(),ne.lastLine()),ne.operation(function(){for(var ie=[],pe=0;pe<tt.length;pe+=2){var lt=tt[pe+1],gt=ue(tt[pe],0),Y=ue(lt),Ve=ne.getRange(gt,Y,!1);Ve.sort(Me?function(zt,jt){return zt<jt?-Oe:zt==jt?0:Oe}:function(zt,jt){var rn=zt.toUpperCase(),Mt=jt.toUpperCase();return rn!=Mt&&(zt=rn,jt=Mt),zt<jt?-Oe:zt==jt?0:Oe}),ne.replaceRange(Ve,gt,Y),Te&&ie.push({anchor:gt,head:ue(lt+1,0)})}Te&&ne.setSelections(ie,0)})}function Ke(ne,Me){ne.operation(function(){for(var Oe=ne.listSelections(),P=[],tt=[],Te=0;Te<Oe.length;Te++)(Ie=Oe[Te]).empty()?(P.push(Te),tt.push("")):tt.push(Me(ne.getRange(Ie.from(),Ie.to())));var et;for(ne.replaceSelections(tt,"around","case"),Te=P.length-1;Te>=0;Te--){var Ie=Oe[P[Te]];if(!(et&&oe.cmpPos(Ie.head,et)>0)){var se=ve(ne,Ie.head);et=se.from,ne.replaceRange(Me(se.word),se.from,se.to)}}})}function it(ne){var Me=ne.getCursor("from"),Oe=ne.getCursor("to");if(0==oe.cmpPos(Me,Oe)){var P=ve(ne,Me);if(!P.word)return;Me=P.from,Oe=P.to}return{from:Me,to:Oe,query:ne.getRange(Me,Oe),word:P}}function He(ne,Me){var Oe=it(ne);if(Oe){var P=Oe.query,tt=ne.getSearchCursor(P,Me?Oe.to:Oe.from);(Me?tt.findNext():tt.findPrevious())?ne.setSelection(tt.from(),tt.to()):(tt=ne.getSearchCursor(P,Me?ue(ne.firstLine(),0):ne.clipPos(ue(ne.lastLine()))),(Me?tt.findNext():tt.findPrevious())?ne.setSelection(tt.from(),tt.to()):Oe.word&&ne.setSelection(Oe.from,Oe.to))}}ft.goSubwordLeft=function(ne){X(ne,-1)},ft.goSubwordRight=function(ne){X(ne,1)},ft.scrollLineUp=function(ne){var Me=ne.getScrollInfo();if(!ne.somethingSelected()){var Oe=ne.lineAtHeight(Me.top+Me.clientHeight,"local");ne.getCursor().line>=Oe&&ne.execCommand("goLineUp")}ne.scrollTo(null,Me.top-ne.defaultTextHeight())},ft.scrollLineDown=function(ne){var Me=ne.getScrollInfo();if(!ne.somethingSelected()){var Oe=ne.lineAtHeight(Me.top,"local")+1;ne.getCursor().line<=Oe&&ne.execCommand("goLineDown")}ne.scrollTo(null,Me.top+ne.defaultTextHeight())},ft.splitSelectionByLine=function(ne){for(var Me=ne.listSelections(),Oe=[],P=0;P<Me.length;P++)for(var tt=Me[P].from(),Te=Me[P].to(),Ie=tt.line;Ie<=Te.line;++Ie)Te.line>tt.line&&Ie==Te.line&&0==Te.ch||Oe.push({anchor:Ie==tt.line?tt:ue(Ie,0),head:Ie==Te.line?Te:ue(Ie)});ne.setSelections(Oe,0)},ft.singleSelectionTop=function(ne){var Me=ne.listSelections()[0];ne.setSelection(Me.anchor,Me.head,{scroll:!1})},ft.selectLine=function(ne){for(var Me=ne.listSelections(),Oe=[],P=0;P<Me.length;P++){var tt=Me[P];Oe.push({anchor:ue(tt.from().line,0),head:ue(tt.to().line+1,0)})}ne.setSelections(Oe)},ft.insertLineAfter=function(ne){return Ye(ne,!1)},ft.insertLineBefore=function(ne){return Ye(ne,!0)},ft.selectNextOccurrence=function(ne){var Me=ne.getCursor("from"),Oe=ne.getCursor("to"),P=ne.state.sublimeFindFullWord==ne.doc.sel;if(0==oe.cmpPos(Me,Oe)){var tt=ve(ne,Me);if(!tt.word)return;ne.setSelection(tt.from,tt.to),P=!0}else{var Te=ne.getRange(Me,Oe),Ie=P?new RegExp("\\b"+Te+"\\b"):Te,et=ne.getSearchCursor(Ie,Oe),se=et.findNext();if(se||(se=(et=ne.getSearchCursor(Ie,ue(ne.firstLine(),0))).findNext()),!se||function Pe(ne,Me,Oe){for(var P=0;P<ne.length;P++)if(0==oe.cmpPos(ne[P].from(),Me)&&0==oe.cmpPos(ne[P].to(),Oe))return!0;return!1}(ne.listSelections(),et.from(),et.to()))return;ne.addSelection(et.from(),et.to())}P&&(ne.state.sublimeFindFullWord=ne.doc.sel)},ft.skipAndSelectNextOccurrence=function(ne){var Me=ne.getCursor("anchor"),Oe=ne.getCursor("head");ft.selectNextOccurrence(ne),0!=oe.cmpPos(Me,Oe)&&ne.doc.setSelections(ne.doc.listSelections().filter(function(P){return P.anchor!=Me||P.head!=Oe}))},ft.addCursorToPrevLine=function(ne){Qe(ne,-1)},ft.addCursorToNextLine=function(ne){Qe(ne,1)},ft.selectScope=function(ne){Ce(ne)||ne.execCommand("selectAll")},ft.selectBetweenBrackets=function(ne){if(!Ce(ne))return oe.Pass},ft.goToBracket=function(ne){ne.extendSelectionsBy(function(Me){var Oe=ne.scanForBracket(Me.head,1,yt(ne.getTokenTypeAt(Me.head)));if(Oe&&0!=oe.cmpPos(Oe.pos,Me.head))return Oe.pos;var P=ne.scanForBracket(Me.head,-1,yt(ne.getTokenTypeAt(ue(Me.head.line,Me.head.ch+1))));return P&&ue(P.pos.line,P.pos.ch+1)||Me.head})},ft.swapLineUp=function(ne){if(ne.isReadOnly())return oe.Pass;for(var Me=ne.listSelections(),Oe=[],P=ne.firstLine()-1,tt=[],Te=0;Te<Me.length;Te++){var Ie=Me[Te],et=Ie.from().line-1,se=Ie.to().line;tt.push({anchor:ue(Ie.anchor.line-1,Ie.anchor.ch),head:ue(Ie.head.line-1,Ie.head.ch)}),0==Ie.to().ch&&!Ie.empty()&&--se,et>P?Oe.push(et,se):Oe.length&&(Oe[Oe.length-1]=se),P=se}ne.operation(function(){for(var Ee=0;Ee<Oe.length;Ee+=2){var ie=Oe[Ee],pe=Oe[Ee+1],C=ne.getLine(ie);ne.replaceRange("",ue(ie,0),ue(ie+1,0),"+swapLine"),pe>ne.lastLine()?ne.replaceRange("\n"+C,ue(ne.lastLine()),null,"+swapLine"):ne.replaceRange(C+"\n",ue(pe,0),null,"+swapLine")}ne.setSelections(tt),ne.scrollIntoView()})},ft.swapLineDown=function(ne){if(ne.isReadOnly())return oe.Pass;for(var Me=ne.listSelections(),Oe=[],P=ne.lastLine()+1,tt=Me.length-1;tt>=0;tt--){var Te=Me[tt],Ie=Te.to().line+1,et=Te.from().line;0==Te.to().ch&&!Te.empty()&&Ie--,Ie<P?Oe.push(Ie,et):Oe.length&&(Oe[Oe.length-1]=et),P=et}ne.operation(function(){for(var se=Oe.length-2;se>=0;se-=2){var Ee=Oe[se],ie=Oe[se+1],pe=ne.getLine(Ee);Ee==ne.lastLine()?ne.replaceRange("",ue(Ee-1),ue(Ee),"+swapLine"):ne.replaceRange("",ue(Ee,0),ue(Ee+1,0),"+swapLine"),ne.replaceRange(pe+"\n",ue(ie,0),null,"+swapLine")}ne.scrollIntoView()})},ft.toggleCommentIndented=function(ne){ne.toggleComment({indent:!0})},ft.joinLines=function(ne){for(var Me=ne.listSelections(),Oe=[],P=0;P<Me.length;P++){for(var tt=Me[P],Te=tt.from(),Ie=Te.line,et=tt.to().line;P<Me.length-1&&Me[P+1].from().line==et;)et=Me[++P].to().line;Oe.push({start:Ie,end:et,anchor:!tt.empty()&&Te})}ne.operation(function(){for(var se=0,Ee=[],ie=0;ie<Oe.length;ie++){for(var lt,pe=Oe[ie],C=pe.anchor&&ue(pe.anchor.line-se,pe.anchor.ch),gt=pe.start;gt<=pe.end;gt++){var Y=gt-se;gt==pe.end&&(lt=ue(Y,ne.getLine(Y).length+1)),Y<ne.lastLine()&&(ne.replaceRange(" ",ue(Y),ue(Y+1,/^\s*/.exec(ne.getLine(Y+1))[0].length)),++se)}Ee.push({anchor:C||lt,head:lt})}ne.setSelections(Ee,0)})},ft.duplicateLine=function(ne){ne.operation(function(){for(var Me=ne.listSelections().length,Oe=0;Oe<Me;Oe++){var P=ne.listSelections()[Oe];P.empty()?ne.replaceRange(ne.getLine(P.head.line)+"\n",ue(P.head.line,0)):ne.replaceRange(ne.getRange(P.from(),P.to()),P.from())}ne.scrollIntoView()})},ft.sortLines=function(ne){St(ne,!0,1)},ft.reverseSortLines=function(ne){St(ne,!0,-1)},ft.sortLinesInsensitive=function(ne){St(ne,!1,1)},ft.reverseSortLinesInsensitive=function(ne){St(ne,!1,-1)},ft.nextBookmark=function(ne){var Me=ne.state.sublimeBookmarks;if(Me)for(;Me.length;){var Oe=Me.shift(),P=Oe.find();if(P)return Me.push(Oe),ne.setSelection(P.from,P.to)}},ft.prevBookmark=function(ne){var Me=ne.state.sublimeBookmarks;if(Me)for(;Me.length;){Me.unshift(Me.pop());var Oe=Me[Me.length-1].find();if(Oe)return ne.setSelection(Oe.from,Oe.to);Me.pop()}},ft.toggleBookmark=function(ne){for(var Me=ne.listSelections(),Oe=ne.state.sublimeBookmarks||(ne.state.sublimeBookmarks=[]),P=0;P<Me.length;P++){for(var tt=Me[P].from(),Te=Me[P].to(),Ie=Me[P].empty()?ne.findMarksAt(tt):ne.findMarks(tt,Te),et=0;et<Ie.length;et++)if(Ie[et].sublimeBookmark){Ie[et].clear();for(var se=0;se<Oe.length;se++)Oe[se]==Ie[et]&&Oe.splice(se--,1);break}et==Ie.length&&Oe.push(ne.markText(tt,Te,{sublimeBookmark:!0,clearWhenEmpty:!1}))}},ft.clearBookmarks=function(ne){var Me=ne.state.sublimeBookmarks;if(Me)for(var Oe=0;Oe<Me.length;Oe++)Me[Oe].clear();Me.length=0},ft.selectBookmarks=function(ne){var Me=ne.state.sublimeBookmarks,Oe=[];if(Me)for(var P=0;P<Me.length;P++){var tt=Me[P].find();tt?Oe.push({anchor:tt.from,head:tt.to}):Me.splice(P--,0)}Oe.length&&ne.setSelections(Oe,0)},ft.smartBackspace=function(ne){if(ne.somethingSelected())return oe.Pass;ne.operation(function(){for(var Me=ne.listSelections(),Oe=ne.getOption("indentUnit"),P=Me.length-1;P>=0;P--){var tt=Me[P].head,Te=ne.getRange({line:tt.line,ch:0},tt),Ie=oe.countColumn(Te,null,ne.getOption("tabSize")),et=ne.findPosH(tt,-1,"char",!1);if(Te&&!/\S/.test(Te)&&Ie%Oe==0){var se=new ue(tt.line,oe.findColumn(Te,Ie-Oe,Oe));se.ch!=tt.ch&&(et=se)}ne.replaceRange("",et,tt,"+delete")}})},ft.delLineRight=function(ne){ne.operation(function(){for(var Me=ne.listSelections(),Oe=Me.length-1;Oe>=0;Oe--)ne.replaceRange("",Me[Oe].anchor,ue(Me[Oe].to().line),"+delete");ne.scrollIntoView()})},ft.upcaseAtCursor=function(ne){Ke(ne,function(Me){return Me.toUpperCase()})},ft.downcaseAtCursor=function(ne){Ke(ne,function(Me){return Me.toLowerCase()})},ft.setSublimeMark=function(ne){ne.state.sublimeMark&&ne.state.sublimeMark.clear(),ne.state.sublimeMark=ne.setBookmark(ne.getCursor())},ft.selectToSublimeMark=function(ne){var Me=ne.state.sublimeMark&&ne.state.sublimeMark.find();Me&&ne.setSelection(ne.getCursor(),Me)},ft.deleteToSublimeMark=function(ne){var Me=ne.state.sublimeMark&&ne.state.sublimeMark.find();if(Me){var Oe=ne.getCursor(),P=Me;if(oe.cmpPos(Oe,P)>0){var tt=P;P=Oe,Oe=tt}ne.state.sublimeKilled=ne.getRange(Oe,P),ne.replaceRange("",Oe,P)}},ft.swapWithSublimeMark=function(ne){var Me=ne.state.sublimeMark&&ne.state.sublimeMark.find();Me&&(ne.state.sublimeMark.clear(),ne.state.sublimeMark=ne.setBookmark(ne.getCursor()),ne.setCursor(Me))},ft.sublimeYank=function(ne){null!=ne.state.sublimeKilled&&ne.replaceSelection(ne.state.sublimeKilled,null,"paste")},ft.showInCenter=function(ne){var Me=ne.cursorCoords(null,"local");ne.scrollTo(null,(Me.top+Me.bottom)/2-ne.getScrollInfo().clientHeight/2)},ft.findUnder=function(ne){He(ne,!0)},ft.findUnderPrevious=function(ne){He(ne,!1)},ft.findAllUnder=function(ne){var Me=it(ne);if(Me){for(var Oe=ne.getSearchCursor(Me.query),P=[],tt=-1;Oe.findNext();)P.push({anchor:Oe.from(),head:Oe.to()}),Oe.from().line<=Me.from.line&&Oe.from().ch<=Me.from.ch&&tt++;ne.setSelections(P,tt)}};var De=oe.keyMap;De.macSublime={"Cmd-Left":"goLineStartSmart","Shift-Tab":"indentLess","Shift-Ctrl-K":"deleteLine","Alt-Q":"wrapLines","Ctrl-Left":"goSubwordLeft","Ctrl-Right":"goSubwordRight","Ctrl-Alt-Up":"scrollLineUp","Ctrl-Alt-Down":"scrollLineDown","Cmd-L":"selectLine","Shift-Cmd-L":"splitSelectionByLine",Esc:"singleSelectionTop","Cmd-Enter":"insertLineAfter","Shift-Cmd-Enter":"insertLineBefore","Cmd-D":"selectNextOccurrence","Shift-Cmd-Space":"selectScope","Shift-Cmd-M":"selectBetweenBrackets","Cmd-M":"goToBracket","Cmd-Ctrl-Up":"swapLineUp","Cmd-Ctrl-Down":"swapLineDown","Cmd-/":"toggleCommentIndented","Cmd-J":"joinLines","Shift-Cmd-D":"duplicateLine",F5:"sortLines","Shift-F5":"reverseSortLines","Cmd-F5":"sortLinesInsensitive","Shift-Cmd-F5":"reverseSortLinesInsensitive",F2:"nextBookmark","Shift-F2":"prevBookmark","Cmd-F2":"toggleBookmark","Shift-Cmd-F2":"clearBookmarks","Alt-F2":"selectBookmarks",Backspace:"smartBackspace","Cmd-K Cmd-D":"skipAndSelectNextOccurrence","Cmd-K Cmd-K":"delLineRight","Cmd-K Cmd-U":"upcaseAtCursor","Cmd-K Cmd-L":"downcaseAtCursor","Cmd-K Cmd-Space":"setSublimeMark","Cmd-K Cmd-A":"selectToSublimeMark","Cmd-K Cmd-W":"deleteToSublimeMark","Cmd-K Cmd-X":"swapWithSublimeMark","Cmd-K Cmd-Y":"sublimeYank","Cmd-K Cmd-C":"showInCenter","Cmd-K Cmd-G":"clearBookmarks","Cmd-K Cmd-Backspace":"delLineLeft","Cmd-K Cmd-1":"foldAll","Cmd-K Cmd-0":"unfoldAll","Cmd-K Cmd-J":"unfoldAll","Ctrl-Shift-Up":"addCursorToPrevLine","Ctrl-Shift-Down":"addCursorToNextLine","Cmd-F3":"findUnder","Shift-Cmd-F3":"findUnderPrevious","Alt-F3":"findAllUnder","Shift-Cmd-[":"fold","Shift-Cmd-]":"unfold","Cmd-I":"findIncremental","Shift-Cmd-I":"findIncrementalReverse","Cmd-H":"replace",F3:"findNext","Shift-F3":"findPrev",fallthrough:"macDefault"},oe.normalizeKeyMap(De.macSublime),De.pcSublime={"Shift-Tab":"indentLess","Shift-Ctrl-K":"deleteLine","Alt-Q":"wrapLines","Ctrl-T":"transposeChars","Alt-Left":"goSubwordLeft","Alt-Right":"goSubwordRight","Ctrl-Up":"scrollLineUp","Ctrl-Down":"scrollLineDown","Ctrl-L":"selectLine","Shift-Ctrl-L":"splitSelectionByLine",Esc:"singleSelectionTop","Ctrl-Enter":"insertLineAfter","Shift-Ctrl-Enter":"insertLineBefore","Ctrl-D":"selectNextOccurrence","Shift-Ctrl-Space":"selectScope","Shift-Ctrl-M":"selectBetweenBrackets","Ctrl-M":"goToBracket","Shift-Ctrl-Up":"swapLineUp","Shift-Ctrl-Down":"swapLineDown","Ctrl-/":"toggleCommentIndented","Ctrl-J":"joinLines","Shift-Ctrl-D":"duplicateLine",F9:"sortLines","Shift-F9":"reverseSortLines","Ctrl-F9":"sortLinesInsensitive","Shift-Ctrl-F9":"reverseSortLinesInsensitive",F2:"nextBookmark","Shift-F2":"prevBookmark","Ctrl-F2":"toggleBookmark","Shift-Ctrl-F2":"clearBookmarks","Alt-F2":"selectBookmarks",Backspace:"smartBackspace","Ctrl-K Ctrl-D":"skipAndSelectNextOccurrence","Ctrl-K Ctrl-K":"delLineRight","Ctrl-K Ctrl-U":"upcaseAtCursor","Ctrl-K Ctrl-L":"downcaseAtCursor","Ctrl-K Ctrl-Space":"setSublimeMark","Ctrl-K Ctrl-A":"selectToSublimeMark","Ctrl-K Ctrl-W":"deleteToSublimeMark","Ctrl-K Ctrl-X":"swapWithSublimeMark","Ctrl-K Ctrl-Y":"sublimeYank","Ctrl-K Ctrl-C":"showInCenter","Ctrl-K Ctrl-G":"clearBookmarks","Ctrl-K Ctrl-Backspace":"delLineLeft","Ctrl-K Ctrl-1":"foldAll","Ctrl-K Ctrl-0":"unfoldAll","Ctrl-K Ctrl-J":"unfoldAll","Ctrl-Alt-Up":"addCursorToPrevLine","Ctrl-Alt-Down":"addCursorToNextLine","Ctrl-F3":"findUnder","Shift-Ctrl-F3":"findUnderPrevious","Alt-F3":"findAllUnder","Shift-Ctrl-[":"fold","Shift-Ctrl-]":"unfold","Ctrl-I":"findIncremental","Shift-Ctrl-I":"findIncrementalReverse","Ctrl-H":"replace",F3:"findNext","Shift-F3":"findPrev",fallthrough:"pcDefault"},oe.normalizeKeyMap(De.pcSublime),De.sublime=De.default==De.macDefault?De.macSublime:De.pcSublime}),function(oe){"object"==typeof exports&&"object"==typeof module?oe(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],oe):oe(CodeMirror)}(function(oe){"use strict";function ft(X,Ye,ve){this.orientation=Ye,this.scroll=ve,this.screen=this.total=this.size=1,this.pos=0,this.node=document.createElement("div"),this.node.className=X+"-"+Ye,this.inner=this.node.appendChild(document.createElement("div"));var Qe=this;function Pe(st){var Ce=oe.wheelEventPixels(st)["horizontal"==Qe.orientation?"x":"y"],yt=Qe.pos;Qe.moveTo(Qe.pos+Ce),Qe.pos!=yt&&oe.e_preventDefault(st)}oe.on(this.inner,"mousedown",function(st){if(1==st.which){oe.e_preventDefault(st);var Ce="horizontal"==Qe.orientation?"pageX":"pageY",yt=st[Ce],St=Qe.pos;oe.on(document,"mousemove",it),oe.on(document,"mouseup",Ke)}function Ke(){oe.off(document,"mousemove",it),oe.off(document,"mouseup",Ke)}function it(He){if(1!=He.which)return Ke();Qe.moveTo(St+Qe.total/Qe.size*(He[Ce]-yt))}}),oe.on(this.node,"click",function(st){oe.e_preventDefault(st);var Ce=Qe.inner.getBoundingClientRect();Qe.moveTo(Qe.pos+("horizontal"==Qe.orientation?st.clientX<Ce.left?-1:st.clientX>Ce.right?1:0:st.clientY<Ce.top?-1:st.clientY>Ce.bottom?1:0)*Qe.screen)}),oe.on(this.node,"mousewheel",Pe),oe.on(this.node,"DOMMouseScroll",Pe)}function qe(X,Ye,ve){this.addClass=X,this.horiz=new ft(X,"horizontal",ve),Ye(this.horiz.node),this.vert=new ft(X,"vertical",ve),Ye(this.vert.node),this.width=null}ft.prototype.setPos=function(X,Ye){return X<0&&(X=0),X>this.total-this.screen&&(X=this.total-this.screen),!(!Ye&&X==this.pos||(this.pos=X,this.inner.style["horizontal"==this.orientation?"left":"top"]=X*(this.size/this.total)+"px",0))},ft.prototype.moveTo=function(X){this.setPos(X)&&this.scroll(X,this.orientation)},ft.prototype.update=function(X,Ye,ve){var Qe=this.screen!=Ye||this.total!=X||this.size!=ve;Qe&&(this.screen=Ye,this.total=X,this.size=ve);var Pe=this.screen*(this.size/this.total);Pe<10&&(this.size-=10-Pe,Pe=10),this.inner.style["horizontal"==this.orientation?"width":"height"]=Pe+"px",this.setPos(this.pos,Qe)},qe.prototype.update=function(X){if(null==this.width){var Ye=window.getComputedStyle?window.getComputedStyle(this.horiz.node):this.horiz.node.currentStyle;Ye&&(this.width=parseInt(Ye.height))}var ve=this.width||0,Qe=X.scrollWidth>X.clientWidth+1,Pe=X.scrollHeight>X.clientHeight+1;return this.vert.node.style.display=Pe?"block":"none",this.horiz.node.style.display=Qe?"block":"none",Pe&&(this.vert.update(X.scrollHeight,X.clientHeight,X.viewHeight-(Qe?ve:0)),this.vert.node.style.bottom=Qe?ve+"px":"0"),Qe&&(this.horiz.update(X.scrollWidth,X.clientWidth,X.viewWidth-(Pe?ve:0)-X.barLeft),this.horiz.node.style.right=Pe?ve+"px":"0",this.horiz.node.style.left=X.barLeft+"px"),{right:Pe?ve:0,bottom:Qe?ve:0}},qe.prototype.setScrollTop=function(X){this.vert.setPos(X)},qe.prototype.setScrollLeft=function(X){this.horiz.setPos(X)},qe.prototype.clear=function(){var X=this.horiz.node.parentNode;X.removeChild(this.horiz.node),X.removeChild(this.vert.node)},oe.scrollbarModel.simple=function(X,Ye){return new qe("CodeMirror-simplescroll",X,Ye)},oe.scrollbarModel.overlay=function(X,Ye){return new qe("CodeMirror-overlayscroll",X,Ye)}}),function(oe){"object"==typeof exports&&"object"==typeof module?oe(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],oe):oe(CodeMirror)}(function(oe){"use strict";function ft(Ye,ve,Qe,Pe){if(Qe&&Qe.call){var st=Qe;Qe=null}else st=X(Ye,Qe,"rangeFinder");"number"==typeof ve&&(ve=oe.Pos(ve,0));var Ce=X(Ye,Qe,"minFoldSize");function yt(He){var De=st(Ye,ve);if(!De||De.to.line-De.from.line<Ce)return null;if("fold"===Pe)return De;for(var ct=Ye.findMarksAt(De.from),ne=0;ne<ct.length;++ne)if(ct[ne].__isFold){if(!He)return null;De.cleared=!0,ct[ne].clear()}return De}var St=yt(!0);if(X(Ye,Qe,"scanUp"))for(;!St&&ve.line>Ye.firstLine();)ve=oe.Pos(ve.line-1,0),St=yt(!1);if(St&&!St.cleared&&"unfold"!==Pe){var Ke=function ue(Ye,ve,Qe){var Pe=X(Ye,ve,"widget");if("function"==typeof Pe&&(Pe=Pe(Qe.from,Qe.to)),"string"==typeof Pe){var st=document.createTextNode(Pe);(Pe=document.createElement("span")).appendChild(st),Pe.className="CodeMirror-foldmarker"}else Pe&&(Pe=Pe.cloneNode(!0));return Pe}(Ye,Qe,St);oe.on(Ke,"mousedown",function(He){it.clear(),oe.e_preventDefault(He)});var it=Ye.markText(St.from,St.to,{replacedWith:Ke,clearOnEnter:X(Ye,Qe,"clearOnEnter"),__isFold:!0});it.on("clear",function(He,De){oe.signal(Ye,"unfold",Ye,He,De)}),oe.signal(Ye,"fold",Ye,St.from,St.to)}}oe.newFoldFunction=function(Ye,ve){return function(Qe,Pe){ft(Qe,Pe,{rangeFinder:Ye,widget:ve})}},oe.defineExtension("foldCode",function(Ye,ve,Qe){ft(this,Ye,ve,Qe)}),oe.defineExtension("isFolded",function(Ye){for(var ve=this.findMarksAt(Ye),Qe=0;Qe<ve.length;++Qe)if(ve[Qe].__isFold)return!0}),oe.commands.toggleFold=function(Ye){Ye.foldCode(Ye.getCursor())},oe.commands.fold=function(Ye){Ye.foldCode(Ye.getCursor(),null,"fold")},oe.commands.unfold=function(Ye){Ye.foldCode(Ye.getCursor(),{scanUp:!1},"unfold")},oe.commands.foldAll=function(Ye){Ye.operation(function(){for(var ve=Ye.firstLine(),Qe=Ye.lastLine();ve<=Qe;ve++)Ye.foldCode(oe.Pos(ve,0),{scanUp:!1},"fold")})},oe.commands.unfoldAll=function(Ye){Ye.operation(function(){for(var ve=Ye.firstLine(),Qe=Ye.lastLine();ve<=Qe;ve++)Ye.foldCode(oe.Pos(ve,0),{scanUp:!1},"unfold")})},oe.registerHelper("fold","combine",function(){var Ye=Array.prototype.slice.call(arguments,0);return function(ve,Qe){for(var Pe=0;Pe<Ye.length;++Pe){var st=Ye[Pe](ve,Qe);if(st)return st}}}),oe.registerHelper("fold","auto",function(Ye,ve){for(var Qe=Ye.getHelpers(ve,"fold"),Pe=0;Pe<Qe.length;Pe++){var st=Qe[Pe](Ye,ve);if(st)return st}});var qe={rangeFinder:oe.fold.auto,widget:"\u2194",minFoldSize:0,scanUp:!1,clearOnEnter:!0};function X(Ye,ve,Qe){if(ve&&void 0!==ve[Qe])return ve[Qe];var Pe=Ye.options.foldOptions;return Pe&&void 0!==Pe[Qe]?Pe[Qe]:qe[Qe]}oe.defineOption("foldOptions",null),oe.defineExtension("foldOption",function(Ye,ve){return X(this,Ye,ve)})}),function(oe){"object"==typeof exports&&"object"==typeof module?oe(require("../../lib/codemirror"),require("./foldcode")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","./foldcode"],oe):oe(CodeMirror)}(function(oe){"use strict";oe.defineOption("foldGutter",!1,function(Ke,it,He){He&&He!=oe.Init&&(Ke.clearGutter(Ke.state.foldGutter.options.gutter),Ke.state.foldGutter=null,Ke.off("gutterClick",st),Ke.off("changes",Ce),Ke.off("viewportChange",yt),Ke.off("fold",St),Ke.off("unfold",St),Ke.off("swapDoc",Ce)),it&&(Ke.state.foldGutter=new ue(function qe(Ke){return!0===Ke&&(Ke={}),null==Ke.gutter&&(Ke.gutter="CodeMirror-foldgutter"),null==Ke.indicatorOpen&&(Ke.indicatorOpen="CodeMirror-foldgutter-open"),null==Ke.indicatorFolded&&(Ke.indicatorFolded="CodeMirror-foldgutter-folded"),Ke}(it)),Pe(Ke),Ke.on("gutterClick",st),Ke.on("changes",Ce),Ke.on("viewportChange",yt),Ke.on("fold",St),Ke.on("unfold",St),Ke.on("swapDoc",Ce))});var ft=oe.Pos;function ue(Ke){this.options=Ke,this.from=this.to=0}function X(Ke,it){for(var He=Ke.findMarks(ft(it,0),ft(it+1,0)),De=0;De<He.length;++De)if(He[De].__isFold){var ct=He[De].find(-1);if(ct&&ct.line===it)return He[De]}}function Ye(Ke){if("string"==typeof Ke){var it=document.createElement("div");return it.className=Ke+" CodeMirror-guttermarker-subtle",it}return Ke.cloneNode(!0)}function ve(Ke,it,He){var De=Ke.state.foldGutter.options,ct=it-1,ne=Ke.foldOption(De,"minFoldSize"),Me=Ke.foldOption(De,"rangeFinder"),Oe="string"==typeof De.indicatorFolded&&Qe(De.indicatorFolded),P="string"==typeof De.indicatorOpen&&Qe(De.indicatorOpen);Ke.eachLine(it,He,function(tt){++ct;var Te=null,Ie=tt.gutterMarkers;if(Ie&&(Ie=Ie[De.gutter]),X(Ke,ct)){if(Oe&&Ie&&Oe.test(Ie.className))return;Te=Ye(De.indicatorFolded)}else{var et=ft(ct,0),se=Me&&Me(Ke,et);if(se&&se.to.line-se.from.line>=ne){if(P&&Ie&&P.test(Ie.className))return;Te=Ye(De.indicatorOpen)}}!Te&&!Ie||Ke.setGutterMarker(tt,De.gutter,Te)})}function Qe(Ke){return new RegExp("(^|\\s)"+Ke+"(?:$|\\s)\\s*")}function Pe(Ke){var it=Ke.getViewport(),He=Ke.state.foldGutter;He&&(Ke.operation(function(){ve(Ke,it.from,it.to)}),He.from=it.from,He.to=it.to)}function st(Ke,it,He){var De=Ke.state.foldGutter;if(De){var ct=De.options;if(He==ct.gutter){var ne=X(Ke,it);ne?ne.clear():Ke.foldCode(ft(it,0),ct)}}}function Ce(Ke){var it=Ke.state.foldGutter;if(it){var He=it.options;it.from=it.to=0,clearTimeout(it.changeUpdate),it.changeUpdate=setTimeout(function(){Pe(Ke)},He.foldOnChangeTimeSpan||600)}}function yt(Ke){var it=Ke.state.foldGutter;if(it){var He=it.options;clearTimeout(it.changeUpdate),it.changeUpdate=setTimeout(function(){var De=Ke.getViewport();it.from==it.to||De.from-it.to>20||it.from-De.to>20?Pe(Ke):Ke.operation(function(){De.from<it.from&&(ve(Ke,De.from,it.from),it.from=De.from),De.to>it.to&&(ve(Ke,it.to,De.to),it.to=De.to)})},He.updateViewportTimeSpan||400)}}function St(Ke,it){var He=Ke.state.foldGutter;if(He){var De=it.line;De>=He.from&&De<He.to&&ve(Ke,De,De+1)}}}),function(oe){"object"==typeof exports&&"object"==typeof module?oe(require("../../lib/codemirror"),"cjs"):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],function(ft){oe(ft,"amd")}):oe(CodeMirror,"plain")}(function(oe,ft){oe.modeURL||(oe.modeURL="../mode/%N/%N.js");var ue={};function X(Ye,ve,Qe){var Pe=oe.modes[Ye],st=Pe&&Pe.dependencies;if(!st)return ve();for(var Ce=[],yt=0;yt<st.length;++yt)oe.modes.hasOwnProperty(st[yt])||Ce.push(st[yt]);if(!Ce.length)return ve();var St=function qe(Ye,ve){var Qe=ve;return function(){0==--Qe&&Ye()}}(ve,Ce.length);for(yt=0;yt<Ce.length;++yt)oe.requireMode(Ce[yt],St,Qe)}oe.requireMode=function(Ye,ve,Qe){if("string"!=typeof Ye&&(Ye=Ye.name),oe.modes.hasOwnProperty(Ye))return X(Ye,ve,Qe);if(ue.hasOwnProperty(Ye))return ue[Ye].push(ve);var Pe=Qe&&Qe.path?Qe.path(Ye):oe.modeURL.replace(/%N/g,Ye);if(Qe&&Qe.loadMode)Qe.loadMode(Pe,function(){X(Ye,ve,Qe)});else if("plain"==ft){var st=document.createElement("script");st.src=Pe;var Ce=document.getElementsByTagName("script")[0],yt=ue[Ye]=[ve];oe.on(st,"load",function(){X(Ye,function(){for(var St=0;St<yt.length;++St)yt[St]()},Qe)}),Ce.parentNode.insertBefore(st,Ce)}else"cjs"==ft?(require(Pe),ve()):"amd"==ft&&requirejs([Pe],ve)},oe.autoLoadMode=function(Ye,ve,Qe){oe.modes.hasOwnProperty(ve)||oe.requireMode(ve,function(){Ye.setOption("mode",Ye.getOption("mode"))},Qe)}}),function(oe){"object"==typeof exports&&"object"==typeof module?oe(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],oe):oe(CodeMirror)}(function(oe){"use strict";function ft(ue,qe){var X=ue.getLine(qe),Ye=X.search(/\S/);return-1==Ye||/\bcomment\b/.test(ue.getTokenTypeAt(oe.Pos(qe,Ye+1)))?-1:oe.countColumn(X,null,ue.getOption("tabSize"))}oe.registerHelper("fold","indent",function(ue,qe){var X=ft(ue,qe.line);if(!(X<0)){for(var Ye=null,ve=qe.line+1,Qe=ue.lastLine();ve<=Qe;++ve){var Pe=ft(ue,ve);if(-1!=Pe){if(!(Pe>X))break;Ye=ve}}if(Ye)return{from:oe.Pos(qe.line,ue.getLine(qe.line).length),to:oe.Pos(Ye,ue.getLine(Ye).length)}}})}),function(oe){"object"==typeof exports&&"object"==typeof module?oe(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],oe):oe(CodeMirror)}(function(oe){var ft=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||document.documentMode<8),ue=oe.Pos,qe={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<","<":">>",">":"<<"};function X(Ce){return Ce&&Ce.bracketRegex||/[(){}[\]]/}function Ye(Ce,yt,St){var Ke=Ce.getLineHandle(yt.line),it=yt.ch-1,He=St&&St.afterCursor;null==He&&(He=/(^| )cm-fat-cursor($| )/.test(Ce.getWrapperElement().className));var De=X(St),ct=!He&&it>=0&&De.test(Ke.text.charAt(it))&&qe[Ke.text.charAt(it)]||De.test(Ke.text.charAt(it+1))&&qe[Ke.text.charAt(++it)];if(!ct)return null;var ne=">"==ct.charAt(1)?1:-1;if(St&&St.strict&&ne>0!=(it==yt.ch))return null;var Me=Ce.getTokenTypeAt(ue(yt.line,it+1)),Oe=ve(Ce,ue(yt.line,it+(ne>0?1:0)),ne,Me,St);return null==Oe?null:{from:ue(yt.line,it),to:Oe&&Oe.pos,match:Oe&&Oe.ch==ct.charAt(0),forward:ne>0}}function ve(Ce,yt,St,Ke,it){for(var He=it&&it.maxScanLineLength||1e4,De=it&&it.maxScanLines||1e3,ct=[],ne=X(it),Me=St>0?Math.min(yt.line+De,Ce.lastLine()+1):Math.max(Ce.firstLine()-1,yt.line-De),Oe=yt.line;Oe!=Me;Oe+=St){var P=Ce.getLine(Oe);if(P){var tt=St>0?0:P.length-1,Te=St>0?P.length:-1;if(!(P.length>He))for(Oe==yt.line&&(tt=yt.ch-(St<0?1:0));tt!=Te;tt+=St){var Ie=P.charAt(tt);if(ne.test(Ie)&&(void 0===Ke||(Ce.getTokenTypeAt(ue(Oe,tt+1))||"")==(Ke||""))){var et=qe[Ie];if(et&&">"==et.charAt(1)==St>0)ct.push(Ie);else{if(!ct.length)return{pos:ue(Oe,tt),ch:Ie};ct.pop()}}}}}return Oe-St!=(St>0?Ce.lastLine():Ce.firstLine())&&null}function Qe(Ce,yt,St){for(var Ke=Ce.state.matchBrackets.maxHighlightLineLength||1e3,it=St&&St.highlightNonMatching,He=[],De=Ce.listSelections(),ct=0;ct<De.length;ct++){var ne=De[ct].empty()&&Ye(Ce,De[ct].head,St);if(ne&&(ne.match||!1!==it)&&Ce.getLine(ne.from.line).length<=Ke){var Me=ne.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";He.push(Ce.markText(ne.from,ue(ne.from.line,ne.from.ch+1),{className:Me})),ne.to&&Ce.getLine(ne.to.line).length<=Ke&&He.push(Ce.markText(ne.to,ue(ne.to.line,ne.to.ch+1),{className:Me}))}}if(He.length){ft&&Ce.state.focused&&Ce.focus();var Oe=function(){Ce.operation(function(){for(var P=0;P<He.length;P++)He[P].clear()})};if(!yt)return Oe;setTimeout(Oe,800)}}function Pe(Ce){Ce.operation(function(){Ce.state.matchBrackets.currentlyHighlighted&&(Ce.state.matchBrackets.currentlyHighlighted(),Ce.state.matchBrackets.currentlyHighlighted=null),Ce.state.matchBrackets.currentlyHighlighted=Qe(Ce,!1,Ce.state.matchBrackets)})}function st(Ce){Ce.state.matchBrackets&&Ce.state.matchBrackets.currentlyHighlighted&&(Ce.state.matchBrackets.currentlyHighlighted(),Ce.state.matchBrackets.currentlyHighlighted=null)}oe.defineOption("matchBrackets",!1,function(Ce,yt,St){St&&St!=oe.Init&&(Ce.off("cursorActivity",Pe),Ce.off("focus",Pe),Ce.off("blur",st),st(Ce)),yt&&(Ce.state.matchBrackets="object"==typeof yt?yt:{},Ce.on("cursorActivity",Pe),Ce.on("focus",Pe),Ce.on("blur",st))}),oe.defineExtension("matchBrackets",function(){Qe(this,!0)}),oe.defineExtension("findMatchingBracket",function(Ce,yt,St){return(St||"boolean"==typeof yt)&&(St?(St.strict=yt,yt=St):yt=yt?{strict:!0}:null),Ye(this,Ce,yt)}),oe.defineExtension("scanForBracket",function(Ce,yt,St,Ke){return ve(this,Ce,yt,St,Ke)})}),function(oe){"object"==typeof exports&&"object"==typeof module?oe(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],oe):oe(CodeMirror)}(function(oe){"use strict";var ft="CodeMirror-activeline",ue="CodeMirror-activeline-background",qe="CodeMirror-activeline-gutter";function X(Pe){for(var st=0;st<Pe.state.activeLines.length;st++)Pe.removeLineClass(Pe.state.activeLines[st],"wrap",ft),Pe.removeLineClass(Pe.state.activeLines[st],"background",ue),Pe.removeLineClass(Pe.state.activeLines[st],"gutter",qe)}function ve(Pe,st){for(var Ce=[],yt=0;yt<st.length;yt++){var St=st[yt],Ke=Pe.getOption("styleActiveLine");if(!("object"==typeof Ke&&Ke.nonEmpty?St.anchor.line!=St.head.line:!St.empty())){var it=Pe.getLineHandleVisualStart(St.head.line);Ce[Ce.length-1]!=it&&Ce.push(it)}}(function Ye(Pe,st){if(Pe.length!=st.length)return!1;for(var Ce=0;Ce<Pe.length;Ce++)if(Pe[Ce]!=st[Ce])return!1;return!0})(Pe.state.activeLines,Ce)||Pe.operation(function(){X(Pe);for(var He=0;He<Ce.length;He++)Pe.addLineClass(Ce[He],"wrap",ft),Pe.addLineClass(Ce[He],"background",ue),Pe.addLineClass(Ce[He],"gutter",qe);Pe.state.activeLines=Ce})}function Qe(Pe,st){ve(Pe,st.ranges)}oe.defineOption("styleActiveLine",!1,function(Pe,st,Ce){var yt=Ce!=oe.Init&&Ce;st!=yt&&(yt&&(Pe.off("beforeSelectionChange",Qe),X(Pe),delete Pe.state.activeLines),st&&(Pe.state.activeLines=[],ve(Pe,Pe.listSelections()),Pe.on("beforeSelectionChange",Qe)))})}),function(oe){"object"==typeof exports&&"object"==typeof module?oe(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],oe):oe(CodeMirror)}(function(oe){"use strict";function ft(Pe){for(var st;null!=(st=Pe.next());)if("`"==st&&!Pe.eat("`"))return"variable-2";return Pe.backUp(Pe.current().length-1),Pe.eatWhile(/\w/)?"variable-2":null}function qe(Pe){return Pe.eat("@")&&(Pe.match("session."),Pe.match("local."),Pe.match("global.")),Pe.eat("'")?(Pe.match(/^.*'/),"variable-2"):Pe.eat('"')?(Pe.match(/^.*"/),"variable-2"):Pe.eat("`")?(Pe.match(/^.*`/),"variable-2"):Pe.match(/^[0-9a-zA-Z$\.\_]+/)?"variable-2":null}function X(Pe){return Pe.eat("N")?"atom":Pe.match(/^[a-zA-Z.#!?]/)?"variable-2":null}oe.defineMode("sql",function(Pe,st){var Ce=st.client||{},yt=st.atoms||{false:!0,true:!0,null:!0},St=st.builtin||ve(Qe),Ke=st.keywords||ve(Ye),it=st.operatorChars||/^[*+\-%<>!=&|~^\/]/,He=st.support||{},De=st.hooks||{},ct=st.dateSQL||{date:!0,time:!0,timestamp:!0},ne=!1!==st.backslashStringEscapes,Me=st.brackets||/^[\{}\(\)\[\]]/,Oe=st.punctuation||/^[;.,:]/;function P(se,Ee){var ie=se.next();if(De[ie]){var pe=De[ie](se,Ee);if(!1!==pe)return pe}if(He.hexNumber&&("0"==ie&&se.match(/^[xX][0-9a-fA-F]+/)||("x"==ie||"X"==ie)&&se.match(/^'[0-9a-fA-F]+'/)))return"number";if(He.binaryNumber&&(("b"==ie||"B"==ie)&&se.match(/^'[01]+'/)||"0"==ie&&se.match(/^b[01]+/)))return"number";if(ie.charCodeAt(0)>47&&ie.charCodeAt(0)<58)return se.match(/^[0-9]*(\.[0-9]+)?([eE][-+]?[0-9]+)?/),He.decimallessFloat&&se.match(/^\.(?!\.)/),"number";if("?"==ie&&(se.eatSpace()||se.eol()||se.eat(";")))return"variable-3";if("'"==ie||'"'==ie&&He.doubleQuote)return Ee.tokenize=tt(ie),Ee.tokenize(se,Ee);if((He.nCharCast&&("n"==ie||"N"==ie)||He.charsetCast&&"_"==ie&&se.match(/[a-z][a-z0-9]*/i))&&("'"==se.peek()||'"'==se.peek()))return"keyword";if(He.escapeConstant&&("e"==ie||"E"==ie)&&("'"==se.peek()||'"'==se.peek()&&He.doubleQuote))return Ee.tokenize=function(lt,gt){return(gt.tokenize=tt(lt.next(),!0))(lt,gt)},"keyword";if(He.commentSlashSlash&&"/"==ie&&se.eat("/"))return se.skipToEnd(),"comment";if(He.commentHash&&"#"==ie||"-"==ie&&se.eat("-")&&(!He.commentSpaceRequired||se.eat(" ")))return se.skipToEnd(),"comment";if("/"==ie&&se.eat("*"))return Ee.tokenize=Te(1),Ee.tokenize(se,Ee);if("."!=ie){if(it.test(ie))return se.eatWhile(it),"operator";if(Me.test(ie))return"bracket";if(Oe.test(ie))return se.eatWhile(Oe),"punctuation";if("{"==ie&&(se.match(/^( )*(d|D|t|T|ts|TS)( )*'[^']*'( )*}/)||se.match(/^( )*(d|D|t|T|ts|TS)( )*"[^"]*"( )*}/)))return"number";se.eatWhile(/^[_\w\d]/);var C=se.current().toLowerCase();return ct.hasOwnProperty(C)&&(se.match(/^( )+'[^']*'/)||se.match(/^( )+"[^"]*"/))?"number":yt.hasOwnProperty(C)?"atom":St.hasOwnProperty(C)?"builtin":Ke.hasOwnProperty(C)?"keyword":Ce.hasOwnProperty(C)?"string-2":null}return He.zerolessFloat&&se.match(/^(?:\d+(?:e[+-]?\d+)?)/i)?"number":se.match(/^\.+/)?null:He.ODBCdotTable&&se.match(/^[\w\d_$#]+/)?"variable-2":void 0}function tt(se,Ee){return function(ie,pe){for(var lt,C=!1;null!=(lt=ie.next());){if(lt==se&&!C){pe.tokenize=P;break}C=(ne||Ee)&&!C&&"\\"==lt}return"string"}}function Te(se){return function(Ee,ie){var pe=Ee.match(/^.*?(\/\*|\*\/)/);return pe?ie.tokenize="/*"==pe[1]?Te(se+1):se>1?Te(se-1):P:Ee.skipToEnd(),"comment"}}function Ie(se,Ee,ie){Ee.context={prev:Ee.context,indent:se.indentation(),col:se.column(),type:ie}}return{startState:function(){return{tokenize:P,context:null}},token:function(se,Ee){if(se.sol()&&Ee.context&&null==Ee.context.align&&(Ee.context.align=!1),Ee.tokenize==P&&se.eatSpace())return null;var ie=Ee.tokenize(se,Ee);if("comment"==ie)return ie;Ee.context&&null==Ee.context.align&&(Ee.context.align=!0);var pe=se.current();return"("==pe?Ie(se,Ee,")"):"["==pe?Ie(se,Ee,"]"):Ee.context&&Ee.context.type==pe&&function et(se){se.indent=se.context.indent,se.context=se.context.prev}(Ee),ie},indent:function(se,Ee){var ie=se.context;if(!ie)return oe.Pass;var pe=Ee.charAt(0)==ie.type;return ie.align?ie.col+(pe?0:1):ie.indent+(pe?0:Pe.indentUnit)},blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:He.commentSlashSlash?"//":He.commentHash?"#":"--",closeBrackets:"()[]{}''\"\"``"}});var Ye="alter and as asc between by count create delete desc distinct drop from group having in insert into is join like not on or order select set table union update values where limit ";function ve(Pe){for(var st={},Ce=Pe.split(" "),yt=0;yt<Ce.length;++yt)st[Ce[yt]]=!0;return st}var Qe="bool boolean bit blob enum long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision real date datetime year unsigned signed decimal numeric";oe.defineMIME("text/x-sql",{name:"sql",keywords:ve(Ye+"begin"),builtin:ve(Qe),atoms:ve("false true null unknown"),dateSQL:ve("date time timestamp"),support:ve("ODBCdotTable doubleQuote binaryNumber hexNumber")}),oe.defineMIME("text/x-mssql",{name:"sql",client:ve("$partition binary_checksum checksum connectionproperty context_info current_request_id error_line error_message error_number error_procedure error_severity error_state formatmessage get_filestream_transaction_context getansinull host_id host_name isnull isnumeric min_active_rowversion newid newsequentialid rowcount_big xact_state object_id"),keywords:ve(Ye+"begin trigger proc view index for add constraint key primary foreign collate clustered nonclustered declare exec go if use index holdlock nolock nowait paglock readcommitted readcommittedlock readpast readuncommitted repeatableread rowlock serializable snapshot tablock tablockx updlock with"),builtin:ve("bigint numeric bit smallint decimal smallmoney int tinyint money float real char varchar text nchar nvarchar ntext binary varbinary image cursor timestamp hierarchyid uniqueidentifier sql_variant xml table "),atoms:ve("is not null like and or in left right between inner outer join all any some cross unpivot pivot exists"),operatorChars:/^[*+\-%<>!=^\&|\/]/,brackets:/^[\{}\(\)]/,punctuation:/^[;.,:/]/,backslashStringEscapes:!1,dateSQL:ve("date datetimeoffset datetime2 smalldatetime datetime time"),hooks:{"@":qe}}),oe.defineMIME("text/x-mysql",{name:"sql",client:ve("charset clear connect edit ego exit go help nopager notee nowarning pager print prompt quit rehash source status system tee"),keywords:ve(Ye+"accessible action add after algorithm all analyze asensitive at authors auto_increment autocommit avg avg_row_length before binary binlog both btree cache call cascade cascaded case catalog_name chain change changed character check checkpoint checksum class_origin client_statistics close coalesce code collate collation collations column columns comment commit committed completion concurrent condition connection consistent constraint contains continue contributors convert cross current current_date current_time current_timestamp current_user cursor data database databases day_hour day_microsecond day_minute day_second deallocate dec declare default delay_key_write delayed delimiter des_key_file describe deterministic dev_pop dev_samp deviance diagnostics directory disable discard distinctrow div dual dumpfile each elseif enable enclosed end ends engine engines enum errors escape escaped even event events every execute exists exit explain extended fast fetch field fields first flush for force foreign found_rows full fulltext function general get global grant grants group group_concat handler hash help high_priority hosts hour_microsecond hour_minute hour_second if ignore ignore_server_ids import index index_statistics infile inner innodb inout insensitive insert_method install interval invoker isolation iterate key keys kill language last leading leave left level limit linear lines list load local localtime localtimestamp lock logs low_priority master master_heartbeat_period master_ssl_verify_server_cert masters match max max_rows maxvalue message_text middleint migrate min min_rows minute_microsecond minute_second mod mode modifies modify mutex mysql_errno natural next no no_write_to_binlog offline offset one online open optimize option optionally out outer outfile pack_keys parser partition partitions password phase plugin plugins prepare preserve prev primary privileges procedure processlist profile profiles purge query quick range read read_write reads real rebuild recover references regexp relaylog release remove rename reorganize repair repeatable replace require resignal restrict resume return returns revoke right rlike rollback rollup row row_format rtree savepoint schedule schema schema_name schemas second_microsecond security sensitive separator serializable server session share show signal slave slow smallint snapshot soname spatial specific sql sql_big_result sql_buffer_result sql_cache sql_calc_found_rows sql_no_cache sql_small_result sqlexception sqlstate sqlwarning ssl start starting starts status std stddev stddev_pop stddev_samp storage straight_join subclass_origin sum suspend table_name table_statistics tables tablespace temporary terminated to trailing transaction trigger triggers truncate uncommitted undo uninstall unique unlock upgrade usage use use_frm user user_resources user_statistics using utc_date utc_time utc_timestamp value variables varying view views warnings when while with work write xa xor year_month zerofill begin do then else loop repeat"),builtin:ve("bool boolean bit blob decimal double float long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision date datetime year unsigned signed numeric"),atoms:ve("false true null unknown"),operatorChars:/^[*+\-%<>!=&|^]/,dateSQL:ve("date time timestamp"),support:ve("ODBCdotTable decimallessFloat zerolessFloat binaryNumber hexNumber doubleQuote nCharCast charsetCast commentHash commentSpaceRequired"),hooks:{"@":qe,"`":ft,"\\":X}}),oe.defineMIME("text/x-mariadb",{name:"sql",client:ve("charset clear connect edit ego exit go help nopager notee nowarning pager print prompt quit rehash source status system tee"),keywords:ve(Ye+"accessible action add after algorithm all always analyze asensitive at authors auto_increment autocommit avg avg_row_length before binary binlog both btree cache call cascade cascaded case catalog_name chain change changed character check checkpoint checksum class_origin client_statistics close coalesce code collate collation collations column columns comment commit committed completion concurrent condition connection consistent constraint contains continue contributors convert cross current current_date current_time current_timestamp current_user cursor data database databases day_hour day_microsecond day_minute day_second deallocate dec declare default delay_key_write delayed delimiter des_key_file describe deterministic dev_pop dev_samp deviance diagnostics directory disable discard distinctrow div dual dumpfile each elseif enable enclosed end ends engine engines enum errors escape escaped even event events every execute exists exit explain extended fast fetch field fields first flush for force foreign found_rows full fulltext function general generated get global grant grants group groupby_concat handler hard hash help high_priority hosts hour_microsecond hour_minute hour_second if ignore ignore_server_ids import index index_statistics infile inner innodb inout insensitive insert_method install interval invoker isolation iterate key keys kill language last leading leave left level limit linear lines list load local localtime localtimestamp lock logs low_priority master master_heartbeat_period master_ssl_verify_server_cert masters match max max_rows maxvalue message_text middleint migrate min min_rows minute_microsecond minute_second mod mode modifies modify mutex mysql_errno natural next no no_write_to_binlog offline offset one online open optimize option optionally out outer outfile pack_keys parser partition partitions password persistent phase plugin plugins prepare preserve prev primary privileges procedure processlist profile profiles purge query quick range read read_write reads real rebuild recover references regexp relaylog release remove rename reorganize repair repeatable replace require resignal restrict resume return returns revoke right rlike rollback rollup row row_format rtree savepoint schedule schema schema_name schemas second_microsecond security sensitive separator serializable server session share show shutdown signal slave slow smallint snapshot soft soname spatial specific sql sql_big_result sql_buffer_result sql_cache sql_calc_found_rows sql_no_cache sql_small_result sqlexception sqlstate sqlwarning ssl start starting starts status std stddev stddev_pop stddev_samp storage straight_join subclass_origin sum suspend table_name table_statistics tables tablespace temporary terminated to trailing transaction trigger triggers truncate uncommitted undo uninstall unique unlock upgrade usage use use_frm user user_resources user_statistics using utc_date utc_time utc_timestamp value variables varying view views virtual warnings when while with work write xa xor year_month zerofill begin do then else loop repeat"),builtin:ve("bool boolean bit blob decimal double float long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision date datetime year unsigned signed numeric"),atoms:ve("false true null unknown"),operatorChars:/^[*+\-%<>!=&|^]/,dateSQL:ve("date time timestamp"),support:ve("ODBCdotTable decimallessFloat zerolessFloat binaryNumber hexNumber doubleQuote nCharCast charsetCast commentHash commentSpaceRequired"),hooks:{"@":qe,"`":ft,"\\":X}}),oe.defineMIME("text/x-sqlite",{name:"sql",client:ve("auth backup bail binary changes check clone databases dbinfo dump echo eqp exit explain fullschema headers help import imposter indexes iotrace limit lint load log mode nullvalue once open output print prompt quit read restore save scanstats schema separator session shell show stats system tables testcase timeout timer trace vfsinfo vfslist vfsname width"),keywords:ve(Ye+"abort action add after all analyze attach autoincrement before begin cascade case cast check collate column commit conflict constraint cross current_date current_time current_timestamp database default deferrable deferred detach each else end escape except exclusive exists explain fail for foreign full glob if ignore immediate index indexed initially inner instead intersect isnull key left limit match natural no notnull null of offset outer plan pragma primary query raise recursive references regexp reindex release rename replace restrict right rollback row savepoint temp temporary then to transaction trigger unique using vacuum view virtual when with without"),builtin:ve("bool boolean bit blob decimal double float long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text clob bigint int int2 int8 integer float double char varchar date datetime year unsigned signed numeric real"),atoms:ve("null current_date current_time current_timestamp"),operatorChars:/^[*+\-%<>!=&|/~]/,dateSQL:ve("date time timestamp datetime"),support:ve("decimallessFloat zerolessFloat"),identifierQuote:'"',hooks:{"@":qe,":":qe,"?":qe,$:qe,'"':function ue(Pe){for(var st;null!=(st=Pe.next());)if('"'==st&&!Pe.eat('"'))return"variable-2";return Pe.backUp(Pe.current().length-1),Pe.eatWhile(/\w/)?"variable-2":null},"`":ft}}),oe.defineMIME("text/x-cassandra",{name:"sql",client:{},keywords:ve("add all allow alter and any apply as asc authorize batch begin by clustering columnfamily compact consistency count create custom delete desc distinct drop each_quorum exists filtering from grant if in index insert into key keyspace keyspaces level limit local_one local_quorum modify nan norecursive nosuperuser not of on one order password permission permissions primary quorum rename revoke schema select set storage superuser table three to token truncate ttl two type unlogged update use user users using values where with writetime"),builtin:ve("ascii bigint blob boolean counter decimal double float frozen inet int list map static text timestamp timeuuid tuple uuid varchar varint"),atoms:ve("false true infinity NaN"),operatorChars:/^[<>=]/,dateSQL:{},support:ve("commentSlashSlash decimallessFloat"),hooks:{}}),oe.defineMIME("text/x-plsql",{name:"sql",client:ve("appinfo arraysize autocommit autoprint autorecovery autotrace blockterminator break btitle cmdsep colsep compatibility compute concat copycommit copytypecheck define describe echo editfile embedded escape exec execute feedback flagger flush heading headsep instance linesize lno loboffset logsource long longchunksize markup native newpage numformat numwidth pagesize pause pno recsep recsepchar release repfooter repheader serveroutput shiftinout show showmode size spool sqlblanklines sqlcase sqlcode sqlcontinue sqlnumber sqlpluscompatibility sqlprefix sqlprompt sqlterminator suffix tab term termout time timing trimout trimspool ttitle underline verify version wrap"),keywords:ve("abort accept access add all alter and any array arraylen as asc assert assign at attributes audit authorization avg base_table begin between binary_integer body boolean by case cast char char_base check close cluster clusters colauth column comment commit compress connect connected constant constraint crash create current currval cursor data_base database date dba deallocate debugoff debugon decimal declare default definition delay delete desc digits dispose distinct do drop else elseif elsif enable end entry escape exception exception_init exchange exclusive exists exit external fast fetch file for force form from function generic goto grant group having identified if immediate in increment index indexes indicator initial initrans insert interface intersect into is key level library like limited local lock log logging long loop master maxextents maxtrans member minextents minus mislabel mode modify multiset new next no noaudit nocompress nologging noparallel not nowait number_base object of off offline on online only open option or order out package parallel partition pctfree pctincrease pctused pls_integer positive positiven pragma primary prior private privileges procedure public raise range raw read rebuild record ref references refresh release rename replace resource restrict return returning returns reverse revoke rollback row rowid rowlabel rownum rows run savepoint schema segment select separate session set share snapshot some space split sql start statement storage subtype successful synonym tabauth table tables tablespace task terminate then to trigger truncate type union unique unlimited unrecoverable unusable update use using validate value values variable view views when whenever where while with work"),builtin:ve("abs acos add_months ascii asin atan atan2 average bfile bfilename bigserial bit blob ceil character chartorowid chr clob concat convert cos cosh count dec decode deref dual dump dup_val_on_index empty error exp false float floor found glb greatest hextoraw initcap instr instrb int integer isopen last_day least length lengthb ln lower lpad ltrim lub make_ref max min mlslabel mod months_between natural naturaln nchar nclob new_time next_day nextval nls_charset_decl_len nls_charset_id nls_charset_name nls_initcap nls_lower nls_sort nls_upper nlssort no_data_found notfound null number numeric nvarchar2 nvl others power rawtohex real reftohex round rowcount rowidtochar rowtype rpad rtrim serial sign signtype sin sinh smallint soundex sqlcode sqlerrm sqrt stddev string substr substrb sum sysdate tan tanh to_char text to_date to_label to_multi_byte to_number to_single_byte translate true trunc uid unlogged upper user userenv varchar varchar2 variance varying vsize xml"),operatorChars:/^[*\/+\-%<>!=~]/,dateSQL:ve("date time timestamp"),support:ve("doubleQuote nCharCast zerolessFloat binaryNumber hexNumber")}),oe.defineMIME("text/x-hive",{name:"sql",keywords:ve("select alter $elem$ $key$ $value$ add after all analyze and archive as asc before between binary both bucket buckets by cascade case cast change cluster clustered clusterstatus collection column columns comment compute concatenate continue create cross cursor data database databases dbproperties deferred delete delimited desc describe directory disable distinct distribute drop else enable end escaped exclusive exists explain export extended external fetch fields fileformat first format formatted from full function functions grant group having hold_ddltime idxproperties if import in index indexes inpath inputdriver inputformat insert intersect into is items join keys lateral left like limit lines load local location lock locks mapjoin materialized minus msck no_drop nocompress not of offline on option or order out outer outputdriver outputformat overwrite partition partitioned partitions percent plus preserve procedure purge range rcfile read readonly reads rebuild recordreader recordwriter recover reduce regexp rename repair replace restrict revoke right rlike row schema schemas semi sequencefile serde serdeproperties set shared show show_database sort sorted ssl statistics stored streamtable table tables tablesample tblproperties temporary terminated textfile then tmp to touch transform trigger unarchive undo union uniquejoin unlock update use using utc utc_tmestamp view when where while with admin authorization char compact compactions conf cube current current_date current_timestamp day decimal defined dependency directories elem_type exchange file following for grouping hour ignore inner interval jar less logical macro minute month more none noscan over owner partialscan preceding pretty principals protection reload rewrite role roles rollup rows second server sets skewed transactions truncate unbounded unset uri user values window year"),builtin:ve("bool boolean long timestamp tinyint smallint bigint int float double date datetime unsigned string array struct map uniontype key_type utctimestamp value_type varchar"),atoms:ve("false true null unknown"),operatorChars:/^[*+\-%<>!=]/,dateSQL:ve("date timestamp"),support:ve("ODBCdotTable doubleQuote binaryNumber hexNumber")}),oe.defineMIME("text/x-pgsql",{name:"sql",client:ve("source"),keywords:ve(Ye+"a abort abs absent absolute access according action ada add admin after aggregate alias all allocate also alter always analyse analyze and any are array array_agg array_max_cardinality as asc asensitive assert assertion assignment asymmetric at atomic attach attribute attributes authorization avg backward base64 before begin begin_frame begin_partition bernoulli between bigint binary bit bit_length blob blocked bom boolean both breadth by c cache call called cardinality cascade cascaded case cast catalog catalog_name ceil ceiling chain char char_length character character_length character_set_catalog character_set_name character_set_schema characteristics characters check checkpoint class class_origin clob close cluster coalesce cobol collate collation collation_catalog collation_name collation_schema collect column column_name columns command_function command_function_code comment comments commit committed concurrently condition condition_number configuration conflict connect connection connection_name constant constraint constraint_catalog constraint_name constraint_schema constraints constructor contains content continue control conversion convert copy corr corresponding cost count covar_pop covar_samp create cross csv cube cume_dist current current_catalog current_date current_default_transform_group current_path current_role current_row current_schema current_time current_timestamp current_transform_group_for_type current_user cursor cursor_name cycle data database datalink datatype date datetime_interval_code datetime_interval_precision day db deallocate debug dec decimal declare default defaults deferrable deferred defined definer degree delete delimiter delimiters dense_rank depends depth deref derived desc describe descriptor detach detail deterministic diagnostics dictionary disable discard disconnect dispatch distinct dlnewcopy dlpreviouscopy dlurlcomplete dlurlcompleteonly dlurlcompletewrite dlurlpath dlurlpathonly dlurlpathwrite dlurlscheme dlurlserver dlvalue do document domain double drop dump dynamic dynamic_function dynamic_function_code each element else elseif elsif empty enable encoding encrypted end end_frame end_partition endexec enforced enum equals errcode error escape event every except exception exclude excluding exclusive exec execute exists exit exp explain expression extension external extract false family fetch file filter final first first_value flag float floor following for force foreach foreign fortran forward found frame_row free freeze from fs full function functions fusion g general generated get global go goto grant granted greatest group grouping groups handler having header hex hierarchy hint hold hour id identity if ignore ilike immediate immediately immutable implementation implicit import in include including increment indent index indexes indicator info inherit inherits initially inline inner inout input insensitive insert instance instantiable instead int integer integrity intersect intersection interval into invoker is isnull isolation join k key key_member key_type label lag language large last last_value lateral lead leading leakproof least left length level library like like_regex limit link listen ln load local localtime localtimestamp location locator lock locked log logged loop lower m map mapping match matched materialized max max_cardinality maxvalue member merge message message_length message_octet_length message_text method min minute minvalue mod mode modifies module month more move multiset mumps name names namespace national natural nchar nclob nesting new next nfc nfd nfkc nfkd nil no none normalize normalized not nothing notice notify notnull nowait nth_value ntile null nullable nullif nulls number numeric object occurrences_regex octet_length octets of off offset oids old on only open operator option options or order ordering ordinality others out outer output over overlaps overlay overriding owned owner p pad parallel parameter parameter_mode parameter_name parameter_ordinal_position parameter_specific_catalog parameter_specific_name parameter_specific_schema parser partial partition pascal passing passthrough password path percent percent_rank percentile_cont percentile_disc perform period permission pg_context pg_datatype_name pg_exception_context pg_exception_detail pg_exception_hint placing plans pli policy portion position position_regex power precedes preceding precision prepare prepared preserve primary print_strict_params prior privileges procedural procedure procedures program public publication query quote raise range rank read reads real reassign recheck recovery recursive ref references referencing refresh regr_avgx regr_avgy regr_count regr_intercept regr_r2 regr_slope regr_sxx regr_sxy regr_syy reindex relative release rename repeatable replace replica requiring reset respect restart restore restrict result result_oid return returned_cardinality returned_length returned_octet_length returned_sqlstate returning returns reverse revoke right role rollback rollup routine routine_catalog routine_name routine_schema routines row row_count row_number rows rowtype rule savepoint scale schema schema_name schemas scope scope_catalog scope_name scope_schema scroll search second section security select selective self sensitive sequence sequences serializable server server_name session session_user set setof sets share show similar simple size skip slice smallint snapshot some source space specific specific_name specifictype sql sqlcode sqlerror sqlexception sqlstate sqlwarning sqrt stable stacked standalone start state statement static statistics stddev_pop stddev_samp stdin stdout storage strict strip structure style subclass_origin submultiset subscription substring substring_regex succeeds sum symmetric sysid system system_time system_user t table table_name tables tablesample tablespace temp template temporary text then ties time timestamp timezone_hour timezone_minute to token top_level_count trailing transaction transaction_active transactions_committed transactions_rolled_back transform transforms translate translate_regex translation treat trigger trigger_catalog trigger_name trigger_schema trim trim_array true truncate trusted type types uescape unbounded uncommitted under unencrypted union unique unknown unlink unlisten unlogged unnamed unnest until untyped update upper uri usage use_column use_variable user user_defined_type_catalog user_defined_type_code user_defined_type_name user_defined_type_schema using vacuum valid validate validator value value_of values var_pop var_samp varbinary varchar variable_conflict variadic varying verbose version versioning view views volatile warning when whenever where while whitespace width_bucket window with within without work wrapper write xml xmlagg xmlattributes xmlbinary xmlcast xmlcomment xmlconcat xmldeclaration xmldocument xmlelement xmlexists xmlforest xmliterate xmlnamespaces xmlparse xmlpi xmlquery xmlroot xmlschema xmlserialize xmltable xmltext xmlvalidate year yes zone"),builtin:ve("bigint int8 bigserial serial8 bit varying varbit boolean bool box bytea character char varchar cidr circle date double precision float8 inet integer int int4 interval json jsonb line lseg macaddr macaddr8 money numeric decimal path pg_lsn point polygon real float4 smallint int2 smallserial serial2 serial serial4 text time without zone with timetz timestamp timestamptz tsquery tsvector txid_snapshot uuid xml"),atoms:ve("false true null unknown"),operatorChars:/^[*\/+\-%<>!=&|^\/#@?~]/,backslashStringEscapes:!1,dateSQL:ve("date time timestamp"),support:ve("ODBCdotTable decimallessFloat zerolessFloat binaryNumber hexNumber nCharCast charsetCast escapeConstant")}),oe.defineMIME("text/x-gql",{name:"sql",keywords:ve("ancestor and asc by contains desc descendant distinct from group has in is limit offset on order select superset where"),atoms:ve("false true"),builtin:ve("blob datetime first key __key__ string integer double boolean null"),operatorChars:/^[*+\-%<>!=]/}),oe.defineMIME("text/x-gpsql",{name:"sql",client:ve("source"),keywords:ve("abort absolute access action active add admin after aggregate all also alter always analyse analyze and any array as asc assertion assignment asymmetric at authorization backward before begin between bigint binary bit boolean both by cache called cascade cascaded case cast chain char character characteristics check checkpoint class close cluster coalesce codegen collate column comment commit committed concurrency concurrently configuration connection constraint constraints contains content continue conversion copy cost cpu_rate_limit create createdb createexttable createrole createuser cross csv cube current current_catalog current_date current_role current_schema current_time current_timestamp current_user cursor cycle data database day deallocate dec decimal declare decode default defaults deferrable deferred definer delete delimiter delimiters deny desc dictionary disable discard distinct distributed do document domain double drop dxl each else enable encoding encrypted end enum errors escape every except exchange exclude excluding exclusive execute exists explain extension external extract false family fetch fields filespace fill filter first float following for force foreign format forward freeze from full function global grant granted greatest group group_id grouping handler hash having header hold host hour identity if ignore ilike immediate immutable implicit in including inclusive increment index indexes inherit inherits initially inline inner inout input insensitive insert instead int integer intersect interval into invoker is isnull isolation join key language large last leading least left level like limit list listen load local localtime localtimestamp location lock log login mapping master match maxvalue median merge minute minvalue missing mode modifies modify month move name names national natural nchar new newline next no nocreatedb nocreateexttable nocreaterole nocreateuser noinherit nologin none noovercommit nosuperuser not nothing notify notnull nowait null nullif nulls numeric object of off offset oids old on only operator option options or order ordered others out outer over overcommit overlaps overlay owned owner parser partial partition partitions passing password percent percentile_cont percentile_disc placing plans position preceding precision prepare prepared preserve primary prior privileges procedural procedure protocol queue quote randomly range read readable reads real reassign recheck recursive ref references reindex reject relative release rename repeatable replace replica reset resource restart restrict returning returns revoke right role rollback rollup rootpartition row rows rule savepoint scatter schema scroll search second security segment select sequence serializable session session_user set setof sets share show similar simple smallint some split sql stable standalone start statement statistics stdin stdout storage strict strip subpartition subpartitions substring superuser symmetric sysid system table tablespace temp template temporary text then threshold ties time timestamp to trailing transaction treat trigger trim true truncate trusted type unbounded uncommitted unencrypted union unique unknown unlisten until update user using vacuum valid validation validator value values varchar variadic varying verbose version view volatile web when where whitespace window with within without work writable write xml xmlattributes xmlconcat xmlelement xmlexists xmlforest xmlparse xmlpi xmlroot xmlserialize year yes zone"),builtin:ve("bigint int8 bigserial serial8 bit varying varbit boolean bool box bytea character char varchar cidr circle date double precision float float8 inet integer int int4 interval json jsonb line lseg macaddr macaddr8 money numeric decimal path pg_lsn point polygon real float4 smallint int2 smallserial serial2 serial serial4 text time without zone with timetz timestamp timestamptz tsquery tsvector txid_snapshot uuid xml"),atoms:ve("false true null unknown"),operatorChars:/^[*+\-%<>!=&|^\/#@?~]/,dateSQL:ve("date time timestamp"),support:ve("ODBCdotTable decimallessFloat zerolessFloat binaryNumber hexNumber nCharCast charsetCast")}),oe.defineMIME("text/x-sparksql",{name:"sql",keywords:ve("add after all alter analyze and anti archive array as asc at between bucket buckets by cache cascade case cast change clear cluster clustered codegen collection column columns comment commit compact compactions compute concatenate cost create cross cube current current_date current_timestamp database databases data dbproperties defined delete delimited deny desc describe dfs directories distinct distribute drop else end escaped except exchange exists explain export extended external false fields fileformat first following for format formatted from full function functions global grant group grouping having if ignore import in index indexes inner inpath inputformat insert intersect interval into is items join keys last lateral lazy left like limit lines list load local location lock locks logical macro map minus msck natural no not null nulls of on optimize option options or order out outer outputformat over overwrite partition partitioned partitions percent preceding principals purge range recordreader recordwriter recover reduce refresh regexp rename repair replace reset restrict revoke right rlike role roles rollback rollup row rows schema schemas select semi separated serde serdeproperties set sets show skewed sort sorted start statistics stored stratify struct table tables tablesample tblproperties temp temporary terminated then to touch transaction transactions transform true truncate unarchive unbounded uncache union unlock unset use using values view when where window with"),builtin:ve("tinyint smallint int bigint boolean float double string binary timestamp decimal array map struct uniontype delimited serde sequencefile textfile rcfile inputformat outputformat"),atoms:ve("false true null"),operatorChars:/^[*\/+\-%<>!=~&|^]/,dateSQL:ve("date time timestamp"),support:ve("ODBCdotTable doubleQuote zerolessFloat")}),oe.defineMIME("text/x-esper",{name:"sql",client:ve("source"),keywords:ve("alter and as asc between by count create delete desc distinct drop from group having in insert into is join like not on or order select set table union update values where limit after all and as at asc avedev avg between by case cast coalesce count create current_timestamp day days delete define desc distinct else end escape events every exists false first from full group having hour hours in inner insert instanceof into irstream is istream join last lastweekday left limit like max match_recognize matches median measures metadatasql min minute minutes msec millisecond milliseconds not null offset on or order outer output partition pattern prev prior regexp retain-union retain-intersection right rstream sec second seconds select set some snapshot sql stddev sum then true unidirectional until update variable weekday when where window"),builtin:{},atoms:ve("false true null"),operatorChars:/^[*+\-%<>!=&|^\/#@?~]/,dateSQL:ve("time"),support:ve("decimallessFloat zerolessFloat binaryNumber hexNumber")})}),function(oe){"object"==typeof exports&&"object"==typeof module?oe(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],oe):oe(CodeMirror)}(function(oe){"use strict";var ue="CodeMirror-hint-active";function qe(He,De){if(this.cm=He,this.options=De,this.widget=null,this.debounce=0,this.tick=0,this.startPos=this.cm.getCursor("start"),this.startLen=this.cm.getLine(this.startPos.line).length-this.cm.getSelection().length,this.options.updateOnCursorActivity){var ct=this;He.on("cursorActivity",this.activityFunc=function(){ct.cursorActivity()})}}oe.showHint=function(He,De,ct){if(!De)return He.showHint(ct);ct&&ct.async&&(De.async=!0);var ne={hint:De};if(ct)for(var Me in ct)ne[Me]=ct[Me];return He.showHint(ne)},oe.defineExtension("showHint",function(He){He=function ve(He,De,ct){var ne=He.options.hintOptions,Me={};for(var Oe in it)Me[Oe]=it[Oe];if(ne)for(var Oe in ne)void 0!==ne[Oe]&&(Me[Oe]=ne[Oe]);if(ct)for(var Oe in ct)void 0!==ct[Oe]&&(Me[Oe]=ct[Oe]);return Me.hint.resolve&&(Me.hint=Me.hint.resolve(He,De)),Me}(this,this.getCursor("start"),He);var De=this.listSelections();if(!(De.length>1)){if(this.somethingSelected()){if(!He.hint.supportsSelection)return;for(var ct=0;ct<De.length;ct++)if(De[ct].head.line!=De[ct].anchor.line)return}this.state.completionActive&&this.state.completionActive.close();var ne=this.state.completionActive=new qe(this,He);ne.options.hint&&(oe.signal(this,"startCompletion",this),ne.update(!0))}}),oe.defineExtension("closeHint",function(){this.state.completionActive&&this.state.completionActive.close()});var X=window.requestAnimationFrame||function(He){return setTimeout(He,1e3/60)},Ye=window.cancelAnimationFrame||clearTimeout;function Qe(He){return"string"==typeof He?He:He.text}function st(He,De){for(;De&&De!=He;){if("LI"===De.nodeName.toUpperCase()&&De.parentNode==He)return De;De=De.parentNode}}function Ce(He,De){this.id="cm-complete-"+Math.floor(Math.random(1e6)),this.completion=He,this.data=De,this.picked=!1;var ct=this,ne=He.cm,Me=ne.getInputField().ownerDocument,Oe=Me.defaultView||Me.parentWindow,P=this.hints=Me.createElement("ul");P.setAttribute("role","listbox"),P.setAttribute("aria-expanded","true"),P.id=this.id,P.className="CodeMirror-hints "+He.cm.options.theme,this.selectedHint=De.selectedHint||0;for(var Te=De.list,Ie=0;Ie<Te.length;++Ie){var et=P.appendChild(Me.createElement("li")),se=Te[Ie],Ee="CodeMirror-hint"+(Ie!=this.selectedHint?"":" "+ue);null!=se.className&&(Ee=se.className+" "+Ee),et.className=Ee,Ie==this.selectedHint&&et.setAttribute("aria-selected","true"),et.id=this.id+"-"+Ie,et.setAttribute("role","option"),se.render?se.render(et,De,se):et.appendChild(Me.createTextNode(se.displayText||Qe(se))),et.hintId=Ie}var ie=He.options.container||Me.body,pe=ne.cursorCoords(He.options.alignWithWord?De.from:null),C=pe.left,lt=pe.bottom,gt=!0,Y=0,Ve=0;if(ie!==Me.body){var jt=-1!==["absolute","relative","fixed"].indexOf(Oe.getComputedStyle(ie).position)?ie:ie.offsetParent,rn=jt.getBoundingClientRect(),Mt=Me.body.getBoundingClientRect();Y=rn.left-Mt.left-jt.scrollLeft,Ve=rn.top-Mt.top-jt.scrollTop}P.style.left=C-Y+"px",P.style.top=lt-Ve+"px";var mt=Oe.innerWidth||Math.max(Me.body.offsetWidth,Me.documentElement.offsetWidth),Lt=Oe.innerHeight||Math.max(Me.body.offsetHeight,Me.documentElement.offsetHeight);ie.appendChild(P),ne.getInputField().setAttribute("aria-autocomplete","list"),ne.getInputField().setAttribute("aria-owns",this.id),ne.getInputField().setAttribute("aria-activedescendant",this.id+"-"+this.selectedHint);var Jt,rt=He.options.moveOnOverlap?P.getBoundingClientRect():new DOMRect,sn=!!He.options.paddingForScrollbar&&P.scrollHeight>P.clientHeight+1;if(setTimeout(function(){Jt=ne.getScrollInfo()}),rt.bottom-Lt>0){var Ci=rt.bottom-rt.top;if(pe.top-(pe.bottom-rt.top)-Ci>0)P.style.top=(lt=pe.top-Ci-Ve)+"px",gt=!1;else if(Ci>Lt){P.style.height=Lt-5+"px",P.style.top=(lt=pe.bottom-rt.top-Ve)+"px";var xi=ne.getCursor();De.from.ch!=xi.ch&&(pe=ne.cursorCoords(xi),P.style.left=(C=pe.left-Y)+"px",rt=P.getBoundingClientRect())}}var ei,Pn=rt.right-mt;if(sn&&(Pn+=ne.display.nativeBarWidth),Pn>0&&(rt.right-rt.left>mt&&(P.style.width=mt-5+"px",Pn-=rt.right-rt.left-mt),P.style.left=(C=pe.left-Pn-Y)+"px"),sn)for(var Rt=P.firstChild;Rt;Rt=Rt.nextSibling)Rt.style.paddingRight=ne.display.nativeBarWidth+"px";ne.addKeyMap(this.keyMap=function Pe(He,De){var ct={Up:function(){De.moveFocus(-1)},Down:function(){De.moveFocus(1)},PageUp:function(){De.moveFocus(1-De.menuSize(),!0)},PageDown:function(){De.moveFocus(De.menuSize()-1,!0)},Home:function(){De.setFocus(0)},End:function(){De.setFocus(De.length-1)},Enter:De.pick,Tab:De.pick,Esc:De.close};/Mac/.test(navigator.platform)&&(ct["Ctrl-P"]=function(){De.moveFocus(-1)},ct["Ctrl-N"]=function(){De.moveFocus(1)});var Me=He.options.customKeys,Oe=Me?{}:ct;function P(Ie,et){var se;se="string"!=typeof et?function(Ee){return et(Ee,De)}:ct.hasOwnProperty(et)?ct[et]:et,Oe[Ie]=se}if(Me)for(var tt in Me)Me.hasOwnProperty(tt)&&P(tt,Me[tt]);var Te=He.options.extraKeys;if(Te)for(var tt in Te)Te.hasOwnProperty(tt)&&P(tt,Te[tt]);return Oe}(He,{moveFocus:function(si,ti){ct.changeActive(ct.selectedHint+si,ti)},setFocus:function(si){ct.changeActive(si)},menuSize:function(){return ct.screenAmount()},length:Te.length,close:function(){He.close()},pick:function(){ct.pick()},data:De})),He.options.closeOnUnfocus&&(ne.on("blur",this.onBlur=function(){ei=setTimeout(function(){He.close()},100)}),ne.on("focus",this.onFocus=function(){clearTimeout(ei)})),ne.on("scroll",this.onScroll=function(){var si=ne.getScrollInfo(),ti=ne.getWrapperElement().getBoundingClientRect();Jt||(Jt=ne.getScrollInfo());var zn=lt+Jt.top-si.top,ln=zn-(Oe.pageYOffset||(Me.documentElement||Me.body).scrollTop);if(gt||(ln+=P.offsetHeight),ln<=ti.top||ln>=ti.bottom)return He.close();P.style.top=zn+"px",P.style.left=C+Jt.left-si.left+"px"}),oe.on(P,"dblclick",function(si){var ti=st(P,si.target||si.srcElement);ti&&null!=ti.hintId&&(ct.changeActive(ti.hintId),ct.pick())}),oe.on(P,"click",function(si){var ti=st(P,si.target||si.srcElement);ti&&null!=ti.hintId&&(ct.changeActive(ti.hintId),He.options.completeOnSingleClick&&ct.pick())}),oe.on(P,"mousedown",function(){setTimeout(function(){ne.focus()},20)});var Bi=this.getSelectedHintRange();return(0!==Bi.from||0!==Bi.to)&&this.scrollToActive(),oe.signal(De,"select",Te[this.selectedHint],P.childNodes[this.selectedHint]),!0}function St(He,De,ct,ne){if(He.async)He(De,ne,ct);else{var Me=He(De,ct);Me&&Me.then?Me.then(ne):ne(Me)}}qe.prototype={close:function(){this.active()&&(this.cm.state.completionActive=null,this.tick=null,this.options.updateOnCursorActivity&&this.cm.off("cursorActivity",this.activityFunc),this.widget&&this.data&&oe.signal(this.data,"close"),this.widget&&this.widget.close(),oe.signal(this.cm,"endCompletion",this.cm))},active:function(){return this.cm.state.completionActive==this},pick:function(He,De){var ct=He.list[De],ne=this;this.cm.operation(function(){ct.hint?ct.hint(ne.cm,He,ct):ne.cm.replaceRange(Qe(ct),ct.from||He.from,ct.to||He.to,"complete"),oe.signal(He,"pick",ct),ne.cm.scrollIntoView()}),this.options.closeOnPick&&this.close()},cursorActivity:function(){this.debounce&&(Ye(this.debounce),this.debounce=0);var He=this.startPos;this.data&&(He=this.data.from);var De=this.cm.getCursor(),ct=this.cm.getLine(De.line);if(De.line!=this.startPos.line||ct.length-De.ch!=this.startLen-this.startPos.ch||De.ch<He.ch||this.cm.somethingSelected()||!De.ch||this.options.closeCharacters.test(ct.charAt(De.ch-1)))this.close();else{var ne=this;this.debounce=X(function(){ne.update()}),this.widget&&this.widget.disable()}},update:function(He){if(null!=this.tick){var De=this,ct=++this.tick;St(this.options.hint,this.cm,this.options,function(ne){De.tick==ct&&De.finishUpdate(ne,He)})}},finishUpdate:function(He,De){this.data&&oe.signal(this.data,"update");var ct=this.widget&&this.widget.picked||De&&this.options.completeSingle;this.widget&&this.widget.close(),this.data=He,He&&He.list.length&&(ct&&1==He.list.length?this.pick(He,0):(this.widget=new Ce(this,He),oe.signal(He,"shown")))}},Ce.prototype={close:function(){if(this.completion.widget==this){this.completion.widget=null,this.hints.parentNode&&this.hints.parentNode.removeChild(this.hints),this.completion.cm.removeKeyMap(this.keyMap);var He=this.completion.cm.getInputField();He.removeAttribute("aria-activedescendant"),He.removeAttribute("aria-owns");var De=this.completion.cm;this.completion.options.closeOnUnfocus&&(De.off("blur",this.onBlur),De.off("focus",this.onFocus)),De.off("scroll",this.onScroll)}},disable:function(){this.completion.cm.removeKeyMap(this.keyMap);var He=this;this.keyMap={Enter:function(){He.picked=!0}},this.completion.cm.addKeyMap(this.keyMap)},pick:function(){this.completion.pick(this.data,this.selectedHint)},changeActive:function(He,De){if(He>=this.data.list.length?He=De?this.data.list.length-1:0:He<0&&(He=De?0:this.data.list.length-1),this.selectedHint!=He){var ct=this.hints.childNodes[this.selectedHint];ct&&(ct.className=ct.className.replace(" "+ue,""),ct.removeAttribute("aria-selected")),(ct=this.hints.childNodes[this.selectedHint=He]).className+=" "+ue,ct.setAttribute("aria-selected","true"),this.completion.cm.getInputField().setAttribute("aria-activedescendant",ct.id),this.scrollToActive(),oe.signal(this.data,"select",this.data.list[this.selectedHint],ct)}},scrollToActive:function(){var He=this.getSelectedHintRange(),De=this.hints.childNodes[He.from],ct=this.hints.childNodes[He.to],ne=this.hints.firstChild;De.offsetTop<this.hints.scrollTop?this.hints.scrollTop=De.offsetTop-ne.offsetTop:ct.offsetTop+ct.offsetHeight>this.hints.scrollTop+this.hints.clientHeight&&(this.hints.scrollTop=ct.offsetTop+ct.offsetHeight-this.hints.clientHeight+ne.offsetTop)},screenAmount:function(){return Math.floor(this.hints.clientHeight/this.hints.firstChild.offsetHeight)||1},getSelectedHintRange:function(){var He=this.completion.options.scrollMargin||0;return{from:Math.max(0,this.selectedHint-He),to:Math.min(this.data.list.length-1,this.selectedHint+He)}}},oe.registerHelper("hint","auto",{resolve:function Ke(He,De){var ne,ct=He.getHelpers(De,"hint");if(ct.length){var Me=function(Oe,P,tt){var Te=function yt(He,De){if(!He.somethingSelected())return De;for(var ct=[],ne=0;ne<De.length;ne++)De[ne].supportsSelection&&ct.push(De[ne]);return ct}(Oe,ct);!function Ie(et){if(et==Te.length)return P(null);St(Te[et],Oe,tt,function(se){se&&se.list.length>0?P(se):Ie(et+1)})}(0)};return Me.async=!0,Me.supportsSelection=!0,Me}return(ne=He.getHelper(He.getCursor(),"hintWords"))?function(Oe){return oe.hint.fromList(Oe,{words:ne})}:oe.hint.anyword?function(Oe,P){return oe.hint.anyword(Oe,P)}:function(){}}}),oe.registerHelper("hint","fromList",function(He,De){var Me,ct=He.getCursor(),ne=He.getTokenAt(ct),Oe=oe.Pos(ct.line,ne.start),P=ct;ne.start<ct.ch&&/\w/.test(ne.string.charAt(ct.ch-ne.start-1))?Me=ne.string.substr(0,ct.ch-ne.start):(Me="",Oe=ct);for(var tt=[],Te=0;Te<De.words.length;Te++){var Ie=De.words[Te];Ie.slice(0,Me.length)==Me&&tt.push(Ie)}if(tt.length)return{list:tt,from:Oe,to:P}}),oe.commands.autocomplete=oe.showHint;var it={hint:oe.hint.auto,completeSingle:!0,alignWithWord:!0,closeCharacters:/[\s()\[\]{};:>,]/,closeOnPick:!0,closeOnUnfocus:!0,updateOnCursorActivity:!0,completeOnSingleClick:!0,container:null,customKeys:null,extraKeys:null,paddingForScrollbar:!0,moveOnOverlap:!0};oe.defineOption("hintOptions",null)}),function(oe){"object"==typeof exports&&"object"==typeof module?oe(require("../../lib/codemirror"),require("../../mode/sql/sql")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../../mode/sql/sql"],oe):oe(CodeMirror)}(function(oe){"use strict";var ft,ue,qe,X,Ye_QUERY_DIV=";",Ye_ALIAS_KEYWORD="AS",ve=oe.Pos,Qe=oe.cmpPos;function Pe(Te){return"[object Array]"==Object.prototype.toString.call(Te)}function yt(Te){return"string"==typeof Te?Te:Te.text}function St(Te,Ie){return Pe(Ie)&&(Ie={columns:Ie}),Ie.text||(Ie.text=Te),Ie}function it(Te){return ft[Te.toUpperCase()]}function He(Te){var Ie={};for(var et in Te)Te.hasOwnProperty(et)&&(Ie[et]=Te[et]);return Ie}function De(Te,Ie){var et=Te.length,se=yt(Ie).substr(0,et);return Te.toUpperCase()===se.toUpperCase()}function ct(Te,Ie,et,se){if(Pe(et))for(var Ee=0;Ee<et.length;Ee++)De(Ie,et[Ee])&&Te.push(se(et[Ee]));else for(var ie in et)if(et.hasOwnProperty(ie)){var pe=et[ie];De(Ie,pe=pe&&!0!==pe?pe.displayText?{text:pe.text,displayText:pe.displayText}:pe.text:ie)&&Te.push(se(pe))}}function ne(Te){"."==Te.charAt(0)&&(Te=Te.substr(1));for(var Ie=Te.split(X+X),et=0;et<Ie.length;et++)Ie[et]=Ie[et].replace(new RegExp(X,"g"),"");return Ie.join(X)}function Me(Te){for(var Ie=yt(Te).split("."),et=0;et<Ie.length;et++)Ie[et]=X+Ie[et].replace(new RegExp(X,"g"),X+X)+X;var se=Ie.join(".");return"string"==typeof Te?se:((Te=He(Te)).text=se,Te)}function P(Te,Ie){for(var et=Te.split(/\s+/),se=0;se<et.length;se++)et[se]&&Ie(et[se].replace(/[`,;]/g,""))}function tt(Te,Ie){for(var et=Ie.doc,se=et.getValue(),Ee=Te.toUpperCase(),ie="",pe="",C=[],lt={start:ve(0,0),end:ve(Ie.lastLine(),Ie.getLineHandle(Ie.lastLine()).length)},gt=se.indexOf(Ye_QUERY_DIV);-1!=gt;)C.push(et.posFromIndex(gt)),gt=se.indexOf(Ye_QUERY_DIV,gt+1);C.unshift(ve(0,0)),C.push(ve(Ie.lastLine(),Ie.getLineHandle(Ie.lastLine()).text.length));for(var Y=null,Ve=Ie.getCursor(),zt=0;zt<C.length;zt++){if((null==Y||Qe(Ve,Y)>0)&&Qe(Ve,C[zt])<=0){lt={start:Y,end:C[zt]};break}Y=C[zt]}if(lt.start){var jt=et.getRange(lt.start,lt.end,!1);for(zt=0;zt<jt.length&&(P(jt[zt],function(mt){var Lt=mt.toUpperCase();Lt===Ee&&it(ie)&&(pe=ie),Lt!==Ye_ALIAS_KEYWORD&&(ie=mt)}),!pe);zt++);}return pe}oe.registerHelper("hint","sql",function(Te,Ie){ft=function Ke(Te){var Ie={};if(Pe(Te))for(var et=Te.length-1;et>=0;et--){var se=Te[et];Ie[yt(se).toUpperCase()]=St(yt(se),se)}else if(Te)for(var Ee in Te)Ie[Ee.toUpperCase()]=St(Ee,Te[Ee]);return Ie}(Ie&&Ie.tables);var et=Ie&&Ie.defaultTable,se=Ie&&Ie.disableKeywords;ue=et&&it(et),qe=function st(Te){var Ie=Te.doc.modeOption;return"sql"===Ie&&(Ie="text/x-sql"),oe.resolveMode(Ie).keywords}(Te),X=function Ce(Te){var Ie=Te.doc.modeOption;return"sql"===Ie&&(Ie="text/x-sql"),oe.resolveMode(Ie).identifierQuote||"`"}(Te),et&&!ue&&(ue=tt(et,Te)),(ue=ue||[]).columns&&(ue=ue.columns);var C,lt,gt,Ee=Te.getCursor(),ie=[],pe=Te.getTokenAt(Ee);if(pe.end>Ee.ch&&(pe.end=Ee.ch,pe.string=pe.string.slice(0,Ee.ch-pe.start)),pe.string.match(/^[.`"'\w@][\w$#]*$/g)?(gt=pe.string,C=pe.start,lt=pe.end):(C=lt=Ee.ch,gt=""),"."==gt.charAt(0)||gt.charAt(0)==X)C=function Oe(Te,Ie,et,se){for(var Ee=!1,ie=[],pe=Ie.start,C=!0;C;)C="."==Ie.string.charAt(0),Ee=Ee||Ie.string.charAt(0)==X,pe=Ie.start,ie.unshift(ne(Ie.string)),"."==(Ie=se.getTokenAt(ve(Te.line,Ie.start))).string&&(C=!0,Ie=se.getTokenAt(ve(Te.line,Ie.start)));var lt=ie.join(".");ct(et,lt,ft,function(rn){return Ee?Me(rn):rn}),ct(et,lt,ue,function(rn){return Ee?Me(rn):rn}),lt=ie.pop();var gt=ie.join("."),Y=!1,Ve=gt;if(!it(gt)){var zt=gt;(gt=tt(gt,se))!==zt&&(Y=!0)}var jt=it(gt);return jt&&jt.columns&&(jt=jt.columns),jt&&ct(et,lt,jt,function(rn){var Mt=gt;return 1==Y&&(Mt=Ve),"string"==typeof rn?rn=Mt+"."+rn:(rn=He(rn)).text=Mt+"."+rn.text,Ee?Me(rn):rn}),pe}(Ee,pe,ie,Te);else{var Y=function(Ve,zt){return"object"==typeof Ve?Ve.className=zt:Ve={text:Ve,className:zt},Ve};ct(ie,gt,ue,function(Ve){return Y(Ve,"CodeMirror-hint-table CodeMirror-hint-default-table")}),ct(ie,gt,ft,function(Ve){return Y(Ve,"CodeMirror-hint-table")}),se||ct(ie,gt,qe,function(Ve){return Y(Ve.toUpperCase(),"CodeMirror-hint-keyword")})}return{list:ie,from:ve(Ee.line,C),to:ve(Ee.line,lt)}})}),function(oe,ft){"use strict";var ue=Math.pow(2,-24),qe=Math.pow(2,32),X=Math.pow(2,53),Qe={encode:function Ye(Pe){var yt,st=new ArrayBuffer(256),Ce=new DataView(st),St=0;function Ke(se){for(var Ee=st.byteLength,ie=St+se;Ee<ie;)Ee*=2;if(Ee!==st.byteLength){var pe=Ce;st=new ArrayBuffer(Ee),Ce=new DataView(st);for(var C=St+3>>2,lt=0;lt<C;++lt)Ce.setUint32(4*lt,pe.getUint32(4*lt))}return yt=se,Ce}function it(){St+=yt}function De(se){it(Ke(1).setUint8(St,se))}function ct(se){for(var Ee=Ke(se.length),ie=0;ie<se.length;++ie)Ee.setUint8(St+ie,se[ie]);it()}function P(se,Ee){Ee<24?De(se<<5|Ee):Ee<256?(De(se<<5|24),De(Ee)):Ee<65536?(De(se<<5|25),function ne(se){it(Ke(2).setUint16(St,se))}(Ee)):Ee<4294967296?(De(se<<5|26),function Me(se){it(Ke(4).setUint32(St,se))}(Ee)):(De(se<<5|27),function Oe(se){var Ee=se%qe,ie=(se-Ee)/qe,pe=Ke(8);pe.setUint32(St,ie),pe.setUint32(St+4,Ee),it()}(Ee))}if(function tt(se){var Ee;if(!1===se)return De(244);if(!0===se)return De(245);if(null===se)return De(246);if(se===ft)return De(247);switch(typeof se){case"number":if(Math.floor(se)===se){if(0<=se&&se<=X)return P(0,se);if(-X<=se&&se<0)return P(1,-(se+1))}return De(251),function He(se){it(Ke(8).setFloat64(St,se))}(se);case"string":var ie=[];for(Ee=0;Ee<se.length;++Ee){var pe=se.charCodeAt(Ee);pe<128?ie.push(pe):pe<2048?(ie.push(192|pe>>6),ie.push(128|63&pe)):pe<55296?(ie.push(224|pe>>12),ie.push(128|pe>>6&63),ie.push(128|63&pe)):(pe=(1023&pe)<<10,pe|=1023&se.charCodeAt(++Ee),ie.push(240|(pe+=65536)>>18),ie.push(128|pe>>12&63),ie.push(128|pe>>6&63),ie.push(128|63&pe))}return P(3,ie.length),ct(ie);default:var C;if(Array.isArray(se))for(P(4,C=se.length),Ee=0;Ee<C;++Ee)tt(se[Ee]);else if(se instanceof Uint8Array)P(2,se.length),ct(se);else{var lt=Object.keys(se);for(P(5,C=lt.length),Ee=0;Ee<C;++Ee){var gt=lt[Ee];tt(gt),tt(se[gt])}}}}(Pe),"slice"in st)return st.slice(0,St);for(var Te=new ArrayBuffer(St),Ie=new DataView(Te),et=0;et<St;++et)Ie.setUint8(et,Ce.getUint8(et));return Te},decode:function ve(Pe,st,Ce){var yt=new DataView(Pe),St=0;function Ke(ie,pe){return St+=pe,ie}function it(ie){return Ke(new Uint8Array(Pe,St,ie),ie)}function ne(){return Ke(yt.getUint8(St),1)}function Me(){return Ke(yt.getUint16(St),2)}function Oe(){return Ke(yt.getUint32(St),4)}function tt(){return 255===yt.getUint8(St)&&(St+=1,!0)}function Te(ie){if(ie<24)return ie;if(24===ie)return ne();if(25===ie)return Me();if(26===ie)return Oe();if(27===ie)return function P(){return Oe()*qe+Oe()}();if(31===ie)return-1;throw"Invalid length encoding"}function Ie(ie){var pe=ne();if(255===pe)return-1;var C=Te(31&pe);if(C<0||pe>>5!==ie)throw"Invalid indefinite length element";return C}function et(ie,pe){for(var C=0;C<pe;++C){var lt=ne();128&lt&&(lt<224?(lt=(31&lt)<<6|63&ne(),pe-=1):lt<240?(lt=(15&lt)<<12|(63&ne())<<6|63&ne(),pe-=2):(lt=(15&lt)<<18|(63&ne())<<12|(63&ne())<<6|63&ne(),pe-=3)),lt<65536?ie.push(lt):(ie.push(55296|(lt-=65536)>>10),ie.push(56320|1023&lt))}}"function"!=typeof st&&(st=function(ie){return ie}),"function"!=typeof Ce&&(Ce=function(){return ft});var Ee=function se(){var lt,gt,ie=ne(),pe=ie>>5,C=31&ie;if(7===pe)switch(C){case 25:return function He(){var ie=new ArrayBuffer(4),pe=new DataView(ie),C=Me(),gt=31744&C,Y=1023&C;if(31744===gt)gt=261120;else if(0!==gt)gt+=114688;else if(0!==Y)return Y*ue;return pe.setUint32(0,(32768&C)<<16|gt<<13|Y<<13),pe.getFloat32(0)}();case 26:return function De(){return Ke(yt.getFloat32(St),4)}();case 27:return function ct(){return Ke(yt.getFloat64(St),8)}()}if((gt=Te(C))<0&&(pe<2||6<pe))throw"Invalid length";switch(pe){case 0:return gt;case 1:return-1-gt;case 2:if(gt<0){for(var Y=[],Ve=0;(gt=Ie(pe))>=0;)Ve+=gt,Y.push(it(gt));var zt=new Uint8Array(Ve),jt=0;for(lt=0;lt<Y.length;++lt)zt.set(Y[lt],jt),jt+=Y[lt].length;return zt}return it(gt);case 3:var rn=[];if(gt<0)for(;(gt=Ie(pe))>=0;)et(rn,gt);else et(rn,gt);return String.fromCharCode.apply(null,rn);case 4:var Mt;if(gt<0)for(Mt=[];!tt();)Mt.push(se());else for(Mt=new Array(gt),lt=0;lt<gt;++lt)Mt[lt]=se();return Mt;case 5:var mt={};for(lt=0;lt<gt||gt<0&&!tt();++lt)mt[se()]=se();return mt;case 6:return st(se(),gt);case 7:switch(gt){case 20:return!1;case 21:return!0;case 22:return null;case 23:return ft;default:return Ce(gt)}}}();if(St!==Pe.byteLength)throw"Remaining bytes";return Ee}};"function"==typeof define&&define.amd?define("cbor/cbor",Qe):typeof module<"u"&&module.exports?module.exports=Qe:oe.CBOR||(oe.CBOR=Qe)}(this),function(oe,ft){"object"==typeof exports&&typeof module<"u"?module.exports=ft():"function"==typeof define&&define.amd?define(ft):(oe=typeof globalThis<"u"?globalThis:oe||self).flatpickr=ft()}(this,function(){"use strict";var oe=function(){return(oe=Object.assign||function(ie){for(var pe,C=1,lt=arguments.length;C<lt;C++)for(var gt in pe=arguments[C])Object.prototype.hasOwnProperty.call(pe,gt)&&(ie[gt]=pe[gt]);return ie}).apply(this,arguments)};function ft(){for(var ie=0,pe=0,C=arguments.length;pe<C;pe++)ie+=arguments[pe].length;var lt=Array(ie),gt=0;for(pe=0;pe<C;pe++)for(var Y=arguments[pe],Ve=0,zt=Y.length;Ve<zt;Ve++,gt++)lt[gt]=Y[Ve];return lt}var ue=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],qe={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:"object"==typeof window&&-1===window.navigator.userAgent.indexOf("MSIE"),ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(ie){return typeof console<"u"&&console.warn(ie)},getWeek:function(ie){var pe=new Date(ie.getTime());pe.setHours(0,0,0,0),pe.setDate(pe.getDate()+3-(pe.getDay()+6)%7);var C=new Date(pe.getFullYear(),0,4);return 1+Math.round(((pe.getTime()-C.getTime())/864e5-3+(C.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},X={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(ie){var pe=ie%100;if(pe>3&&pe<21)return"th";switch(pe%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},Ye=function(ie,pe){return void 0===pe&&(pe=2),("000"+ie).slice(-1*pe)},ve=function(ie){return!0===ie?1:0};function Qe(ie,pe){var C;return function(){var lt=this;clearTimeout(C),C=setTimeout(function(){return ie.apply(lt,arguments)},pe)}}var Pe=function(ie){return ie instanceof Array?ie:[ie]};function st(ie,pe,C){if(!0===C)return ie.classList.add(pe);ie.classList.remove(pe)}function Ce(ie,pe,C){var lt=window.document.createElement(ie);return C=C||"",lt.className=pe=pe||"",void 0!==C&&(lt.textContent=C),lt}function yt(ie){for(;ie.firstChild;)ie.removeChild(ie.firstChild)}function St(ie,pe){return pe(ie)?ie:ie.parentNode?St(ie.parentNode,pe):void 0}function Ke(ie,pe){var C=Ce("div","numInputWrapper"),lt=Ce("input","numInput "+ie),gt=Ce("span","arrowUp"),Y=Ce("span","arrowDown");if(-1===navigator.userAgent.indexOf("MSIE 9.0")?lt.type="number":(lt.type="text",lt.pattern="\\d*"),void 0!==pe)for(var Ve in pe)lt.setAttribute(Ve,pe[Ve]);return C.appendChild(lt),C.appendChild(gt),C.appendChild(Y),C}function it(ie){try{return"function"==typeof ie.composedPath?ie.composedPath()[0]:ie.target}catch{return ie.target}}var He=function(){},De=function(ie,pe,C){return C.months[pe?"shorthand":"longhand"][ie]},ct={D:He,F:function(ie,pe,C){ie.setMonth(C.months.longhand.indexOf(pe))},G:function(ie,pe){ie.setHours(parseFloat(pe))},H:function(ie,pe){ie.setHours(parseFloat(pe))},J:function(ie,pe){ie.setDate(parseFloat(pe))},K:function(ie,pe,C){ie.setHours(ie.getHours()%12+12*ve(new RegExp(C.amPM[1],"i").test(pe)))},M:function(ie,pe,C){ie.setMonth(C.months.shorthand.indexOf(pe))},S:function(ie,pe){ie.setSeconds(parseFloat(pe))},U:function(ie,pe){return new Date(1e3*parseFloat(pe))},W:function(ie,pe,C){var lt=parseInt(pe),gt=new Date(ie.getFullYear(),0,2+7*(lt-1),0,0,0,0);return gt.setDate(gt.getDate()-gt.getDay()+C.firstDayOfWeek),gt},Y:function(ie,pe){ie.setFullYear(parseFloat(pe))},Z:function(ie,pe){return new Date(pe)},d:function(ie,pe){ie.setDate(parseFloat(pe))},h:function(ie,pe){ie.setHours(parseFloat(pe))},i:function(ie,pe){ie.setMinutes(parseFloat(pe))},j:function(ie,pe){ie.setDate(parseFloat(pe))},l:He,m:function(ie,pe){ie.setMonth(parseFloat(pe)-1)},n:function(ie,pe){ie.setMonth(parseFloat(pe)-1)},s:function(ie,pe){ie.setSeconds(parseFloat(pe))},u:function(ie,pe){return new Date(parseFloat(pe))},w:He,y:function(ie,pe){ie.setFullYear(2e3+parseFloat(pe))}},ne={D:"(\\w+)",F:"(\\w+)",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"(\\w+)",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"(\\w+)",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},Me={Z:function(ie){return ie.toISOString()},D:function(ie,pe,C){return pe.weekdays.shorthand[Me.w(ie,pe,C)]},F:function(ie,pe,C){return De(Me.n(ie,pe,C)-1,!1,pe)},G:function(ie,pe,C){return Ye(Me.h(ie,pe,C))},H:function(ie){return Ye(ie.getHours())},J:function(ie,pe){return void 0!==pe.ordinal?ie.getDate()+pe.ordinal(ie.getDate()):ie.getDate()},K:function(ie,pe){return pe.amPM[ve(ie.getHours()>11)]},M:function(ie,pe){return De(ie.getMonth(),!0,pe)},S:function(ie){return Ye(ie.getSeconds())},U:function(ie){return ie.getTime()/1e3},W:function(ie,pe,C){return C.getWeek(ie)},Y:function(ie){return Ye(ie.getFullYear(),4)},d:function(ie){return Ye(ie.getDate())},h:function(ie){return ie.getHours()%12?ie.getHours()%12:12},i:function(ie){return Ye(ie.getMinutes())},j:function(ie){return ie.getDate()},l:function(ie,pe){return pe.weekdays.longhand[ie.getDay()]},m:function(ie){return Ye(ie.getMonth()+1)},n:function(ie){return ie.getMonth()+1},s:function(ie){return ie.getSeconds()},u:function(ie){return ie.getTime()},w:function(ie){return ie.getDay()},y:function(ie){return String(ie.getFullYear()).substring(2)}},Oe=function(ie){var pe=ie.config,C=void 0===pe?qe:pe,lt=ie.l10n,gt=void 0===lt?X:lt,Y=ie.isMobile,Ve=void 0!==Y&&Y;return function(zt,jt,rn){var Mt=rn||gt;return void 0===C.formatDate||Ve?jt.split("").map(function(mt,Lt,rt){return Me[mt]&&"\\"!==rt[Lt-1]?Me[mt](zt,Mt,C):"\\"!==mt?mt:""}).join(""):C.formatDate(zt,jt,Mt)}},P=function(ie){var pe=ie.config,C=void 0===pe?qe:pe,lt=ie.l10n,gt=void 0===lt?X:lt;return function(Y,Ve,zt,jt){if(0===Y||Y){var rn,Mt=jt||gt,mt=Y;if(Y instanceof Date)rn=new Date(Y.getTime());else if("string"!=typeof Y&&void 0!==Y.toFixed)rn=new Date(Y);else if("string"==typeof Y){var Lt=Ve||(C||qe).dateFormat,rt=String(Y).trim();if("today"===rt)rn=new Date,zt=!0;else if(/Z$/.test(rt)||/GMT$/.test(rt))rn=new Date(Y);else if(C&&C.parseDate)rn=C.parseDate(Y,Lt);else{rn=C&&C.noCalendar?new Date((new Date).setHours(0,0,0,0)):new Date((new Date).getFullYear(),0,1,0,0,0,0);for(var sn=void 0,Jt=[],Pi=0,Ci=0,Bt="";Pi<Lt.length;Pi++){var xi=Lt[Pi],Pn="\\"===xi;if(ne[xi]&&"\\"!==Lt[Pi-1]&&!Pn){Bt+=ne[xi];var ei=new RegExp(Bt).exec(Y);ei&&(sn=!0)&&Jt["Y"!==xi?"push":"unshift"]({fn:ct[xi],val:ei[++Ci]})}else Pn||(Bt+=".");Jt.forEach(function(Bi){return rn=(0,Bi.fn)(rn,Bi.val,Mt)||rn})}rn=sn?rn:void 0}}if(rn instanceof Date&&!isNaN(rn.getTime()))return!0===zt&&rn.setHours(0,0,0,0),rn;C.errorHandler(new Error("Invalid date provided: "+mt))}}};function tt(ie,pe,C){return void 0===C&&(C=!0),!1!==C?new Date(ie.getTime()).setHours(0,0,0,0)-new Date(pe.getTime()).setHours(0,0,0,0):ie.getTime()-pe.getTime()}var Te=864e5;function Ie(ie){var pe=ie.defaultHour,C=ie.defaultMinute,lt=ie.defaultSeconds;if(void 0!==ie.minDate){var gt=ie.minDate.getHours(),Y=ie.minDate.getMinutes(),Ve=ie.minDate.getSeconds();pe<gt&&(pe=gt),pe===gt&&C<Y&&(C=Y),pe===gt&&C===Y&&lt<Ve&&(lt=ie.minDate.getSeconds())}if(void 0!==ie.maxDate){var zt=ie.maxDate.getHours(),jt=ie.maxDate.getMinutes();(pe=Math.min(pe,zt))===zt&&(C=Math.min(jt,C)),pe===zt&&C===jt&&(lt=ie.maxDate.getSeconds())}return{hours:pe,minutes:C,seconds:lt}}function et(ie,pe){var C={config:oe(oe({},qe),Ee.defaultConfig),l10n:X};function lt(Z){return Z.bind(C)}function gt(){var Z=C.config;!1===Z.weekNumbers&&1===Z.showMonths||!0!==Z.noCalendar&&window.requestAnimationFrame(function(){if(void 0!==C.calendarContainer&&(C.calendarContainer.style.visibility="hidden",C.calendarContainer.style.display="block"),void 0!==C.daysContainer){var Q=(C.days.offsetWidth+1)*Z.showMonths;C.daysContainer.style.width=Q+"px",C.calendarContainer.style.width=Q+(void 0!==C.weekWrapper?C.weekWrapper.offsetWidth:0)+"px",C.calendarContainer.style.removeProperty("visibility"),C.calendarContainer.style.removeProperty("display")}})}function Y(Z){if(0===C.selectedDates.length){var Q=void 0===C.config.minDate||tt(new Date,C.config.minDate)>=0?new Date:new Date(C.config.minDate.getTime()),ce=Ie(C.config);Q.setHours(ce.hours,ce.minutes,ce.seconds,Q.getMilliseconds()),C.selectedDates=[Q],C.latestSelectedDateObj=Q}void 0!==Z&&"blur"!==Z.type&&function(Re){Re.preventDefault();var We="keydown"===Re.type,ot=it(Re),$e=ot;void 0!==C.amPM&&ot===C.amPM&&(C.amPM.textContent=C.l10n.amPM[ve(C.amPM.textContent===C.l10n.amPM[0])]);var pt=parseFloat($e.getAttribute("min")),wt=parseFloat($e.getAttribute("max")),At=parseFloat($e.getAttribute("step")),Kt=parseInt($e.value,10),on=Kt+At*(Re.delta||(We?38===Re.which?1:-1:0));if(void 0!==$e.value&&2===$e.value.length){var Tn=$e===C.hourElement,Mi=$e===C.minuteElement;on<pt?(on=wt+on+ve(!Tn)+(ve(Tn)&&ve(!C.amPM)),Mi&&sn(void 0,-1,C.hourElement)):on>wt&&(on=$e===C.hourElement?on-wt-ve(!C.amPM):pt,Mi&&sn(void 0,1,C.hourElement)),C.amPM&&Tn&&(1===At?on+Kt===23:Math.abs(on-Kt)>At)&&(C.amPM.textContent=C.l10n.amPM[ve(C.amPM.textContent===C.l10n.amPM[0])]),$e.value=Ye(on)}}(Z);var we=C._input.value;Ve(),bn(),C._input.value!==we&&C._debouncedChange()}function Ve(){if(void 0!==C.hourElement&&void 0!==C.minuteElement){var ce=(parseInt(C.hourElement.value.slice(-2),10)||0)%24,we=(parseInt(C.minuteElement.value,10)||0)%60,Re=void 0!==C.secondElement?(parseInt(C.secondElement.value,10)||0)%60:0;void 0!==C.amPM&&(ce=ce%12+12*ve(C.amPM.textContent===C.l10n.amPM[1]));var We=void 0!==C.config.minTime||C.config.minDate&&C.minDateHasTime&&C.latestSelectedDateObj&&0===tt(C.latestSelectedDateObj,C.config.minDate,!0);if(void 0!==C.config.maxTime||C.config.maxDate&&C.maxDateHasTime&&C.latestSelectedDateObj&&0===tt(C.latestSelectedDateObj,C.config.maxDate,!0)){var ot=void 0!==C.config.maxTime?C.config.maxTime:C.config.maxDate;(ce=Math.min(ce,ot.getHours()))===ot.getHours()&&(we=Math.min(we,ot.getMinutes())),we===ot.getMinutes()&&(Re=Math.min(Re,ot.getSeconds()))}if(We){var $e=void 0!==C.config.minTime?C.config.minTime:C.config.minDate;(ce=Math.max(ce,$e.getHours()))===$e.getHours()&&we<$e.getMinutes()&&(we=$e.getMinutes()),we===$e.getMinutes()&&(Re=Math.max(Re,$e.getSeconds()))}jt(ce,we,Re)}}function zt(Z){var Q=Z||C.latestSelectedDateObj;Q&&jt(Q.getHours(),Q.getMinutes(),Q.getSeconds())}function jt(Z,Q,ce){void 0!==C.latestSelectedDateObj&&C.latestSelectedDateObj.setHours(Z%24,Q,ce||0,0),C.hourElement&&C.minuteElement&&!C.isMobile&&(C.hourElement.value=Ye(C.config.time_24hr?Z:(12+Z)%12+12*ve(Z%12==0)),C.minuteElement.value=Ye(Q),void 0!==C.amPM&&(C.amPM.textContent=C.l10n.amPM[ve(Z>=12)]),void 0!==C.secondElement&&(C.secondElement.value=Ye(ce)))}function rn(Z){var Q=it(Z),ce=parseInt(Q.value)+(Z.delta||0);(ce/1e3>1||"Enter"===Z.key&&!/[^\d]/.test(ce.toString()))&&Wi(ce)}function Mt(Z,Q,ce,we){return Q instanceof Array?Q.forEach(function(Re){return Mt(Z,Re,ce,we)}):Z instanceof Array?Z.forEach(function(Re){return Mt(Re,Q,ce,we)}):(Z.addEventListener(Q,ce,we),void C._handlers.push({remove:function(){return Z.removeEventListener(Q,ce)}}))}function mt(){ye("onChange")}function Lt(Z,Q){var ce=void 0!==Z?C.parseDate(Z):C.latestSelectedDateObj||(C.config.minDate&&C.config.minDate>C.now?C.config.minDate:C.config.maxDate&&C.config.maxDate<C.now?C.config.maxDate:C.now),we=C.currentYear,Re=C.currentMonth;try{void 0!==ce&&(C.currentYear=ce.getFullYear(),C.currentMonth=ce.getMonth())}catch(We){We.message="Invalid date supplied: "+ce,C.config.errorHandler(We)}Q&&C.currentYear!==we&&(ye("onYearChange"),Rt()),!Q||C.currentYear===we&&C.currentMonth===Re||ye("onMonthChange"),C.redraw()}function rt(Z){var Q=it(Z);~Q.className.indexOf("arrow")&&sn(Z,Q.classList.contains("arrowUp")?1:-1)}function sn(Z,Q,ce){var we=Z&&it(Z),Re=ce||we&&we.parentNode&&we.parentNode.firstChild,We=Fe("increment");We.delta=Q,Re&&Re.dispatchEvent(We)}function Jt(Z,Q,ce,we){var ot,Re=Ai(Q,!0),We=Ce("span","flatpickr-day "+Z,Q.getDate().toString());return We.dateObj=Q,We.$i=we,We.setAttribute("aria-label",C.formatDate(Q,C.config.ariaDateFormat)),-1===Z.indexOf("hidden")&&0===tt(Q,C.now)&&(C.todayDateElem=We,We.classList.add("today"),We.setAttribute("aria-current","date")),Re?(We.tabIndex=-1,Xe(Q)&&(We.classList.add("selected"),C.selectedDateElem=We,"range"===C.config.mode&&(st(We,"startRange",C.selectedDates[0]&&0===tt(Q,C.selectedDates[0],!0)),st(We,"endRange",C.selectedDates[1]&&0===tt(Q,C.selectedDates[1],!0)),"nextMonthDay"===Z&&We.classList.add("inRange")))):We.classList.add("flatpickr-disabled"),"range"===C.config.mode&&(ot=Q,!("range"!==C.config.mode||C.selectedDates.length<2)&&tt(ot,C.selectedDates[0])>=0&&tt(ot,C.selectedDates[1])<=0)&&!Xe(Q)&&We.classList.add("inRange"),C.weekNumbers&&1===C.config.showMonths&&"prevMonthDay"!==Z&&ce%7==1&&C.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+C.config.getWeek(Q)+"</span>"),ye("onDayCreate",We),We}function Pi(Z){Z.focus(),"range"===C.config.mode&&Ar(Z)}function Ci(Z){for(var ce=Z>0?C.config.showMonths:-1,we=Z>0?0:C.config.showMonths-1;we!=ce;we+=Z)for(var Re=C.daysContainer.children[we],ot=Z>0?Re.children.length:-1,$e=Z>0?0:Re.children.length-1;$e!=ot;$e+=Z){var pt=Re.children[$e];if(-1===pt.className.indexOf("hidden")&&Ai(pt.dateObj))return pt}}function Bt(Z,Q){var ce=ni(document.activeElement||document.body),we=void 0!==Z?Z:ce?document.activeElement:void 0!==C.selectedDateElem&&ni(C.selectedDateElem)?C.selectedDateElem:void 0!==C.todayDateElem&&ni(C.todayDateElem)?C.todayDateElem:Ci(Q>0?1:-1);void 0===we?C._input.focus():ce?function(Re,We){for(var ot=-1===Re.className.indexOf("Month")?Re.dateObj.getMonth():C.currentMonth,$e=We>0?C.config.showMonths:-1,pt=We>0?1:-1,wt=ot-C.currentMonth;wt!=$e;wt+=pt)for(var At=C.daysContainer.children[wt],qt=At.children.length,on=ot-C.currentMonth===wt?Re.$i+We:We<0?At.children.length-1:0;on>=0&&on<qt&&on!=(We>0?qt:-1);on+=pt){var Tn=At.children[on];if(-1===Tn.className.indexOf("hidden")&&Ai(Tn.dateObj)&&Math.abs(Re.$i-on)>=Math.abs(We))return Pi(Tn)}C.changeMonth(pt),Bt(Ci(pt),0)}(we,Q):Pi(we)}function xi(Z,Q){for(var ce=(new Date(Z,Q,1).getDay()-C.l10n.firstDayOfWeek+7)%7,we=C.utils.getDaysInMonth((Q-1+12)%12,Z),Re=C.utils.getDaysInMonth(Q,Z),We=window.document.createDocumentFragment(),ot=C.config.showMonths>1,$e=ot?"prevMonthDay hidden":"prevMonthDay",pt=ot?"nextMonthDay hidden":"nextMonthDay",wt=we+1-ce,At=0;wt<=we;wt++,At++)We.appendChild(Jt($e,new Date(Z,Q-1,wt),wt,At));for(wt=1;wt<=Re;wt++,At++)We.appendChild(Jt("",new Date(Z,Q,wt),wt,At));for(var Kt=Re+1;Kt<=42-ce&&(1===C.config.showMonths||At%7!=0);Kt++,At++)We.appendChild(Jt(pt,new Date(Z,Q+1,Kt%Re),Kt,At));var qt=Ce("div","dayContainer");return qt.appendChild(We),qt}function Pn(){if(void 0!==C.daysContainer){yt(C.daysContainer),C.weekNumbers&&yt(C.weekNumbers);for(var Z=document.createDocumentFragment(),Q=0;Q<C.config.showMonths;Q++){var ce=new Date(C.currentYear,C.currentMonth,1);ce.setMonth(C.currentMonth+Q),Z.appendChild(xi(ce.getFullYear(),ce.getMonth()))}C.daysContainer.appendChild(Z),C.days=C.daysContainer.firstChild,"range"===C.config.mode&&1===C.selectedDates.length&&Ar()}}function Rt(){if(!(C.config.showMonths>1||"dropdown"!==C.config.monthSelectorType)){C.monthsDropdownContainer.tabIndex=-1,C.monthsDropdownContainer.innerHTML="";for(var Q=0;Q<12;Q++)if(we=Q,!(void 0!==C.config.minDate&&C.currentYear===C.config.minDate.getFullYear()&&we<C.config.minDate.getMonth()||void 0!==C.config.maxDate&&C.currentYear===C.config.maxDate.getFullYear()&&we>C.config.maxDate.getMonth())){var ce=Ce("option","flatpickr-monthDropdown-month");ce.value=new Date(C.currentYear,Q).getMonth().toString(),ce.textContent=De(Q,C.config.shorthandCurrentMonth,C.l10n),ce.tabIndex=-1,C.currentMonth===Q&&(ce.selected=!0),C.monthsDropdownContainer.appendChild(ce)}}var we}function ei(){var Z,Q=Ce("div","flatpickr-month"),ce=window.document.createDocumentFragment();C.config.showMonths>1||"static"===C.config.monthSelectorType?Z=Ce("span","cur-month"):(C.monthsDropdownContainer=Ce("select","flatpickr-monthDropdown-months"),C.monthsDropdownContainer.setAttribute("aria-label",C.l10n.monthAriaLabel),Mt(C.monthsDropdownContainer,"change",function(ot){var $e=it(ot),pt=parseInt($e.value,10);C.changeMonth(pt-C.currentMonth),ye("onMonthChange")}),Rt(),Z=C.monthsDropdownContainer);var we=Ke("cur-year",{tabindex:"-1"}),Re=we.getElementsByTagName("input")[0];Re.setAttribute("aria-label",C.l10n.yearAriaLabel),C.config.minDate&&Re.setAttribute("min",C.config.minDate.getFullYear().toString()),C.config.maxDate&&(Re.setAttribute("max",C.config.maxDate.getFullYear().toString()),Re.disabled=!!C.config.minDate&&C.config.minDate.getFullYear()===C.config.maxDate.getFullYear());var We=Ce("div","flatpickr-current-month");return We.appendChild(Z),We.appendChild(we),ce.appendChild(We),Q.appendChild(ce),{container:Q,yearElement:Re,monthElement:Z}}function Bi(){yt(C.monthNav),C.monthNav.appendChild(C.prevMonthNav),C.config.showMonths&&(C.yearElements=[],C.monthElements=[]);for(var Z=C.config.showMonths;Z--;){var Q=ei();C.yearElements.push(Q.yearElement),C.monthElements.push(Q.monthElement),C.monthNav.appendChild(Q.container)}C.monthNav.appendChild(C.nextMonthNav)}function si(){C.weekdayContainer?yt(C.weekdayContainer):C.weekdayContainer=Ce("div","flatpickr-weekdays");for(var Z=C.config.showMonths;Z--;){var Q=Ce("div","flatpickr-weekdaycontainer");C.weekdayContainer.appendChild(Q)}return ti(),C.weekdayContainer}function ti(){if(C.weekdayContainer){var Z=C.l10n.firstDayOfWeek,Q=ft(C.l10n.weekdays.shorthand);Z>0&&Z<Q.length&&(Q=ft(Q.splice(Z,Q.length),Q.splice(0,Z)));for(var ce=C.config.showMonths;ce--;)C.weekdayContainer.children[ce].innerHTML="\n      <span class='flatpickr-weekday'>\n        "+Q.join("</span><span class='flatpickr-weekday'>")+"\n      </span>\n      "}}function zn(Z,Q){void 0===Q&&(Q=!0);var ce=Q?Z:Z-C.currentMonth;ce<0&&!0===C._hidePrevMonthArrow||ce>0&&!0===C._hideNextMonthArrow||(C.currentMonth+=ce,(C.currentMonth<0||C.currentMonth>11)&&(C.currentYear+=C.currentMonth>11?1:-1,C.currentMonth=(C.currentMonth+12)%12,ye("onYearChange"),Rt()),Pn(),ye("onMonthChange"),Vt())}function ln(Z){return!(!C.config.appendTo||!C.config.appendTo.contains(Z))||C.calendarContainer.contains(Z)}function ui(Z){if(C.isOpen&&!C.config.inline){var Q=it(Z),ce=ln(Q),we=Q===C.input||Q===C.altInput||C.element.contains(Q)||Z.path&&Z.path.indexOf&&(~Z.path.indexOf(C.input)||~Z.path.indexOf(C.altInput)),Re="blur"===Z.type?we&&Z.relatedTarget&&!ln(Z.relatedTarget):!we&&!ce&&!ln(Z.relatedTarget),We=!C.config.ignoredFocusElements.some(function(ot){return ot.contains(Q)});Re&&We&&(void 0!==C.timeContainer&&void 0!==C.minuteElement&&void 0!==C.hourElement&&""!==C.input.value&&void 0!==C.input.value&&Y(),C.close(),C.config&&"range"===C.config.mode&&1===C.selectedDates.length&&(C.clear(!1),C.redraw()))}}function Wi(Z){if(!(!Z||C.config.minDate&&Z<C.config.minDate.getFullYear()||C.config.maxDate&&Z>C.config.maxDate.getFullYear())){var ce=C.currentYear!==Z;C.currentYear=Z||C.currentYear,C.config.maxDate&&C.currentYear===C.config.maxDate.getFullYear()?C.currentMonth=Math.min(C.config.maxDate.getMonth(),C.currentMonth):C.config.minDate&&C.currentYear===C.config.minDate.getFullYear()&&(C.currentMonth=Math.max(C.config.minDate.getMonth(),C.currentMonth)),ce&&(C.redraw(),ye("onYearChange"),Rt())}}function Ai(Z,Q){var ce;void 0===Q&&(Q=!0);var we=C.parseDate(Z,void 0,Q);if(C.config.minDate&&we&&tt(we,C.config.minDate,void 0!==Q?Q:!C.minDateHasTime)<0||C.config.maxDate&&we&&tt(we,C.config.maxDate,void 0!==Q?Q:!C.maxDateHasTime)>0)return!1;if(!C.config.enable&&0===C.config.disable.length)return!0;if(void 0===we)return!1;for(var Re=!!C.config.enable,We=null!==(ce=C.config.enable)&&void 0!==ce?ce:C.config.disable,ot=0,$e=void 0;ot<We.length;ot++){if("function"==typeof($e=We[ot])&&$e(we)||$e instanceof Date&&void 0!==we&&$e.getTime()===we.getTime())return Re;if("string"==typeof $e){var pt=C.parseDate($e,void 0,!0);return pt&&pt.getTime()===we.getTime()?Re:!Re}if("object"==typeof $e&&void 0!==we&&$e.from&&$e.to&&we.getTime()>=$e.from.getTime()&&we.getTime()<=$e.to.getTime())return Re}return!Re}function ni(Z){return void 0!==C.daysContainer&&-1===Z.className.indexOf("hidden")&&-1===Z.className.indexOf("flatpickr-disabled")&&C.daysContainer.contains(Z)}function Ji(Z){Z.target!==C._input||!(C.selectedDates.length>0||C._input.value.length>0)||Z.relatedTarget&&ln(Z.relatedTarget)||C.setDate(C._input.value,!0,Z.target===C.altInput?C.config.altFormat:C.config.dateFormat)}function Ir(Z){var Q=it(Z),ce=C.config.wrap?ie.contains(Q):Q===C._input,we=C.config.allowInput,Re=C.isOpen&&(!we||!ce),We=C.config.inline&&ce&&!we;if(13===Z.keyCode&&ce){if(we)return C.setDate(C._input.value,!0,Q===C.altInput?C.config.altFormat:C.config.dateFormat),Q.blur();C.open()}else if(ln(Q)||Re||We){var ot=!!C.timeContainer&&C.timeContainer.contains(Q);switch(Z.keyCode){case 13:ot?(Z.preventDefault(),Y(),Vn()):ke(Z);break;case 27:Z.preventDefault(),Vn();break;case 8:case 46:ce&&!C.config.allowInput&&(Z.preventDefault(),C.clear());break;case 37:case 39:if(ot||ce)C.hourElement&&C.hourElement.focus();else if(Z.preventDefault(),void 0!==C.daysContainer&&(!1===we||document.activeElement&&ni(document.activeElement))){var $e=39===Z.keyCode?1:-1;Z.ctrlKey?(Z.stopPropagation(),zn($e),Bt(Ci(1),0)):Bt(void 0,$e)}break;case 38:case 40:Z.preventDefault();var pt=40===Z.keyCode?1:-1;C.daysContainer&&void 0!==Q.$i||Q===C.input||Q===C.altInput?Z.ctrlKey?(Z.stopPropagation(),Wi(C.currentYear-pt),Bt(Ci(1),0)):ot||Bt(void 0,7*pt):Q===C.currentYearElement?Wi(C.currentYear-pt):C.config.enableTime&&(!ot&&C.hourElement&&C.hourElement.focus(),Y(Z),C._debouncedChange());break;case 9:if(ot){var wt=[C.hourElement,C.minuteElement,C.secondElement,C.amPM].concat(C.pluginElements).filter(function(qt){return qt}),At=wt.indexOf(Q);if(-1!==At){var Kt=wt[At+(Z.shiftKey?-1:1)];Z.preventDefault(),(Kt||C._input).focus()}}else!C.config.noCalendar&&C.daysContainer&&C.daysContainer.contains(Q)&&Z.shiftKey&&(Z.preventDefault(),C._input.focus())}}if(void 0!==C.amPM&&Q===C.amPM)switch(Z.key){case C.l10n.amPM[0].charAt(0):case C.l10n.amPM[0].charAt(0).toLowerCase():C.amPM.textContent=C.l10n.amPM[0],Ve(),bn();break;case C.l10n.amPM[1].charAt(0):case C.l10n.amPM[1].charAt(0).toLowerCase():C.amPM.textContent=C.l10n.amPM[1],Ve(),bn()}(ce||ln(Q))&&ye("onKeyDown",Z)}function Ar(Z){if(1===C.selectedDates.length&&(!Z||Z.classList.contains("flatpickr-day")&&!Z.classList.contains("flatpickr-disabled"))){for(var Q=Z?Z.dateObj.getTime():C.days.firstElementChild.dateObj.getTime(),ce=C.parseDate(C.selectedDates[0],void 0,!0).getTime(),we=Math.min(Q,C.selectedDates[0].getTime()),Re=Math.max(Q,C.selectedDates[0].getTime()),We=!1,ot=0,$e=0,pt=we;pt<Re;pt+=Te)Ai(new Date(pt),!0)||(We=We||pt>we&&pt<Re,pt<ce&&(!ot||pt>ot)?ot=pt:pt>ce&&(!$e||pt<$e)&&($e=pt));for(var wt=0;wt<C.config.showMonths;wt++)for(var At=C.daysContainer.children[wt],Kt=function(Tn,Mi){var Xi,ii,sr,Fi=At.children[Tn],pr=Fi.dateObj.getTime(),lo=ot>0&&pr<ot||$e>0&&pr>$e;return lo?(Fi.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(function(Kn){Fi.classList.remove(Kn)}),"continue"):We&&!lo?"continue":(["startRange","inRange","endRange","notAllowed"].forEach(function(Kn){Fi.classList.remove(Kn)}),void(void 0!==Z&&(Z.classList.add(Q<=C.selectedDates[0].getTime()?"startRange":"endRange"),ce<Q&&pr===ce?Fi.classList.add("startRange"):ce>Q&&pr===ce&&Fi.classList.add("endRange"),pr>=ot&&(0===$e||pr<=$e)&&(ii=ce,sr=Q,(Xi=pr)>Math.min(ii,sr)&&Xi<Math.max(ii,sr))&&Fi.classList.add("inRange"))))},qt=0,on=At.children.length;qt<on;qt++)Kt(qt)}}function bi(){!C.isOpen||C.config.static||C.config.inline||Qi()}function Yi(Z){return function(Q){var ce=C.config["_"+Z+"Date"]=C.parseDate(Q,C.config.dateFormat),we=C.config["_"+("min"===Z?"max":"min")+"Date"];void 0!==ce&&(C["min"===Z?"minDateHasTime":"maxDateHasTime"]=ce.getHours()>0||ce.getMinutes()>0||ce.getSeconds()>0),C.selectedDates&&(C.selectedDates=C.selectedDates.filter(function(Re){return Ai(Re)}),C.selectedDates.length||"min"!==Z||zt(ce),bn()),C.daysContainer&&(ut(),void 0!==ce?C.currentYearElement[Z]=ce.getFullYear().toString():C.currentYearElement.removeAttribute(Z),C.currentYearElement.disabled=!!we&&void 0!==ce&&we.getFullYear()===ce.getFullYear())}}function Ht(){return C.config.wrap?ie.querySelector("[data-input]"):ie}function Si(){"object"!=typeof C.config.locale&&void 0===Ee.l10ns[C.config.locale]&&C.config.errorHandler(new Error("flatpickr: invalid locale "+C.config.locale)),C.l10n=oe(oe({},Ee.l10ns.default),"object"==typeof C.config.locale?C.config.locale:"default"!==C.config.locale?Ee.l10ns[C.config.locale]:void 0),ne.K="("+C.l10n.amPM[0]+"|"+C.l10n.amPM[1]+"|"+C.l10n.amPM[0].toLowerCase()+"|"+C.l10n.amPM[1].toLowerCase()+")",void 0===oe(oe({},pe),JSON.parse(JSON.stringify(ie.dataset||{}))).time_24hr&&void 0===Ee.defaultConfig.time_24hr&&(C.config.time_24hr=C.l10n.time_24hr),C.formatDate=Oe(C),C.parseDate=P({config:C.config,l10n:C.l10n})}function Qi(Z){if("function"!=typeof C.config.position){if(void 0!==C.calendarContainer){ye("onPreCalendarPosition");var Q=Z||C._positionElement,ce=Array.prototype.reduce.call(C.calendarContainer.children,function(Kn,en){return Kn+en.offsetHeight},0),we=C.calendarContainer.offsetWidth,Re=C.config.position.split(" "),We=Re[0],ot=Re.length>1?Re[1]:null,$e=Q.getBoundingClientRect(),pt=window.innerHeight-$e.bottom,wt="above"===We||"below"!==We&&pt<ce&&$e.top>ce,At=window.pageYOffset+$e.top+(wt?-ce-2:Q.offsetHeight+2);if(st(C.calendarContainer,"arrowTop",!wt),st(C.calendarContainer,"arrowBottom",wt),!C.config.inline){var Kt=window.pageXOffset+$e.left,qt=!1,on=!1;"center"===ot?(Kt-=(we-$e.width)/2,qt=!0):"right"===ot&&(Kt-=we-$e.width,on=!0),st(C.calendarContainer,"arrowLeft",!qt&&!on),st(C.calendarContainer,"arrowCenter",qt),st(C.calendarContainer,"arrowRight",on);var Tn=window.document.body.offsetWidth-(window.pageXOffset+$e.right),Mi=Kt+we>window.document.body.offsetWidth,Xi=Tn+we>window.document.body.offsetWidth;if(st(C.calendarContainer,"rightMost",Mi),!C.config.static)if(C.calendarContainer.style.top=At+"px",Mi)if(Xi){var ii=function(){for(var Kn=null,en=0;en<document.styleSheets.length;en++){Kn=document.styleSheets[en];break}return Kn??(lr=document.createElement("style"),document.head.appendChild(lr),lr.sheet);var lr}();if(void 0===ii)return;var sr=window.document.body.offsetWidth,Fi=Math.max(0,sr/2-we/2),pr=ii.cssRules.length,lo="{left:"+$e.left+"px;right:auto;}";st(C.calendarContainer,"rightMost",!1),st(C.calendarContainer,"centerMost",!0),ii.insertRule(".flatpickr-calendar.centerMost:before,.flatpickr-calendar.centerMost:after"+lo,pr),C.calendarContainer.style.left=Fi+"px",C.calendarContainer.style.right="auto"}else C.calendarContainer.style.left="auto",C.calendarContainer.style.right=Tn+"px";else C.calendarContainer.style.left=Kt+"px",C.calendarContainer.style.right="auto"}}}else C.config.position(C,Z)}function ut(){C.config.noCalendar||C.isMobile||(Rt(),Vt(),Pn())}function Vn(){C._input.focus(),-1!==window.navigator.userAgent.indexOf("MSIE")||void 0!==navigator.msMaxTouchPoints?setTimeout(C.close,0):C.close()}function ke(Z){Z.preventDefault(),Z.stopPropagation();var Q=St(it(Z),function(wt){return wt.classList&&wt.classList.contains("flatpickr-day")&&!wt.classList.contains("flatpickr-disabled")&&!wt.classList.contains("notAllowed")});if(void 0!==Q){var ce=Q,we=C.latestSelectedDateObj=new Date(ce.dateObj.getTime()),Re=(we.getMonth()<C.currentMonth||we.getMonth()>C.currentMonth+C.config.showMonths-1)&&"range"!==C.config.mode;if(C.selectedDateElem=ce,"single"===C.config.mode)C.selectedDates=[we];else if("multiple"===C.config.mode){var We=Xe(we);We?C.selectedDates.splice(parseInt(We),1):C.selectedDates.push(we)}else"range"===C.config.mode&&(2===C.selectedDates.length&&C.clear(!1,!1),C.latestSelectedDateObj=we,C.selectedDates.push(we),0!==tt(we,C.selectedDates[0],!0)&&C.selectedDates.sort(function(wt,At){return wt.getTime()-At.getTime()}));if(Ve(),Re){var ot=C.currentYear!==we.getFullYear();C.currentYear=we.getFullYear(),C.currentMonth=we.getMonth(),ot&&(ye("onYearChange"),Rt()),ye("onMonthChange")}Vt(),Pn(),bn(),Re||"range"===C.config.mode||1!==C.config.showMonths?void 0!==C.selectedDateElem&&void 0===C.hourElement&&C.selectedDateElem&&C.selectedDateElem.focus():Pi(ce),void 0!==C.hourElement&&void 0!==C.hourElement&&C.hourElement.focus(),C.config.closeOnSelect&&("single"===C.config.mode&&!C.config.enableTime||"range"===C.config.mode&&2===C.selectedDates.length&&!C.config.enableTime)&&Vn(),mt()}}C.parseDate=P({config:C.config,l10n:C.l10n}),C._handlers=[],C.pluginElements=[],C.loadedPlugins=[],C._bind=Mt,C._setHoursFromDate=zt,C._positionCalendar=Qi,C.changeMonth=zn,C.changeYear=Wi,C.clear=function(Z,Q){if(void 0===Z&&(Z=!0),void 0===Q&&(Q=!0),C.input.value="",void 0!==C.altInput&&(C.altInput.value=""),void 0!==C.mobileInput&&(C.mobileInput.value=""),C.selectedDates=[],C.latestSelectedDateObj=void 0,!0===Q&&(C.currentYear=C._initialDate.getFullYear(),C.currentMonth=C._initialDate.getMonth()),!0===C.config.enableTime){var ce=Ie(C.config);jt(ce.hours,ce.minutes,ce.seconds)}C.redraw(),Z&&ye("onChange")},C.close=function(){C.isOpen=!1,C.isMobile||(void 0!==C.calendarContainer&&C.calendarContainer.classList.remove("open"),void 0!==C._input&&C._input.classList.remove("active")),ye("onClose")},C._createElement=Ce,C.destroy=function(){void 0!==C.config&&ye("onDestroy");for(var Z=C._handlers.length;Z--;)C._handlers[Z].remove();if(C._handlers=[],C.mobileInput)C.mobileInput.parentNode&&C.mobileInput.parentNode.removeChild(C.mobileInput),C.mobileInput=void 0;else if(C.calendarContainer&&C.calendarContainer.parentNode)if(C.config.static&&C.calendarContainer.parentNode){var Q=C.calendarContainer.parentNode;if(Q.lastChild&&Q.removeChild(Q.lastChild),Q.parentNode){for(;Q.firstChild;)Q.parentNode.insertBefore(Q.firstChild,Q);Q.parentNode.removeChild(Q)}}else C.calendarContainer.parentNode.removeChild(C.calendarContainer);C.altInput&&(C.input.type="text",C.altInput.parentNode&&C.altInput.parentNode.removeChild(C.altInput),delete C.altInput),C.input&&(C.input.type=C.input._type,C.input.classList.remove("flatpickr-input"),C.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(ce){try{delete C[ce]}catch{}})},C.isEnabled=Ai,C.jumpToDate=Lt,C.open=function(Z,Q){if(void 0===Q&&(Q=C._positionElement),!0===C.isMobile){if(Z){Z.preventDefault();var ce=it(Z);ce&&ce.blur()}return void 0!==C.mobileInput&&(C.mobileInput.focus(),C.mobileInput.click()),void ye("onOpen")}if(!C._input.disabled&&!C.config.inline){var we=C.isOpen;C.isOpen=!0,we||(C.calendarContainer.classList.add("open"),C._input.classList.add("active"),ye("onOpen"),Qi(Q)),!0===C.config.enableTime&&!0===C.config.noCalendar&&(!1!==C.config.allowInput||void 0!==Z&&C.timeContainer.contains(Z.relatedTarget)||setTimeout(function(){return C.hourElement.select()},50))}},C.redraw=ut,C.set=function(Z,Q){if(null!==Z&&"object"==typeof Z)for(var ce in Object.assign(C.config,Z),Z)void 0!==Ae[ce]&&Ae[ce].forEach(function(we){return we()});else C.config[Z]=Q,void 0!==Ae[Z]?Ae[Z].forEach(function(we){return we()}):ue.indexOf(Z)>-1&&(C.config[Z]=Pe(Q));C.redraw(),bn(!0)},C.setDate=function(Z,Q,ce){if(void 0===Q&&(Q=!1),void 0===ce&&(ce=C.config.dateFormat),0!==Z&&!Z||Z instanceof Array&&0===Z.length)return C.clear(Q);z(Z,ce),C.latestSelectedDateObj=C.selectedDates[C.selectedDates.length-1],C.redraw(),Lt(void 0,Q),zt(),0===C.selectedDates.length&&C.clear(!1),bn(Q),Q&&ye("onChange")},C.toggle=function(Z){if(!0===C.isOpen)return C.close();C.open(Z)};var Ae={locale:[Si,ti],showMonths:[Bi,gt,si],minDate:[Lt],maxDate:[Lt],clickOpens:[function(){!0===C.config.clickOpens?(Mt(C._input,"focus",C.open),Mt(C._input,"click",C.open)):(C._input.removeEventListener("focus",C.open),C._input.removeEventListener("click",C.open))}]};function z(Z,Q){var ce=[];if(Z instanceof Array)ce=Z.map(function(we){return C.parseDate(we,Q)});else if(Z instanceof Date||"number"==typeof Z)ce=[C.parseDate(Z,Q)];else if("string"==typeof Z)switch(C.config.mode){case"single":case"time":ce=[C.parseDate(Z,Q)];break;case"multiple":ce=Z.split(C.config.conjunction).map(function(we){return C.parseDate(we,Q)});break;case"range":ce=Z.split(C.l10n.rangeSeparator).map(function(we){return C.parseDate(we,Q)})}else C.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(Z)));C.selectedDates=C.config.allowInvalidPreload?ce:ce.filter(function(we){return we instanceof Date&&Ai(we,!1)}),"range"===C.config.mode&&C.selectedDates.sort(function(we,Re){return we.getTime()-Re.getTime()})}function ae(Z){return Z.slice().map(function(Q){return"string"==typeof Q||"number"==typeof Q||Q instanceof Date?C.parseDate(Q,void 0,!0):Q&&"object"==typeof Q&&Q.from&&Q.to?{from:C.parseDate(Q.from,void 0),to:C.parseDate(Q.to,void 0)}:Q}).filter(function(Q){return Q})}function ye(Z,Q){if(void 0!==C.config){var ce=C.config[Z];if(void 0!==ce&&ce.length>0)for(var we=0;ce[we]&&we<ce.length;we++)ce[we](C.selectedDates,C.input.value,C,Q);"onChange"===Z&&(C.input.dispatchEvent(Fe("change")),C.input.dispatchEvent(Fe("input")))}}function Fe(Z){var Q=document.createEvent("Event");return Q.initEvent(Z,!0,!0),Q}function Xe(Z){for(var Q=0;Q<C.selectedDates.length;Q++)if(0===tt(C.selectedDates[Q],Z))return""+Q;return!1}function Vt(){C.config.noCalendar||C.isMobile||!C.monthNav||(C.yearElements.forEach(function(Z,Q){var ce=new Date(C.currentYear,C.currentMonth,1);ce.setMonth(C.currentMonth+Q),C.config.showMonths>1||"static"===C.config.monthSelectorType?C.monthElements[Q].textContent=De(ce.getMonth(),C.config.shorthandCurrentMonth,C.l10n)+" ":C.monthsDropdownContainer.value=ce.getMonth().toString(),Z.value=ce.getFullYear().toString()}),C._hidePrevMonthArrow=void 0!==C.config.minDate&&(C.currentYear===C.config.minDate.getFullYear()?C.currentMonth<=C.config.minDate.getMonth():C.currentYear<C.config.minDate.getFullYear()),C._hideNextMonthArrow=void 0!==C.config.maxDate&&(C.currentYear===C.config.maxDate.getFullYear()?C.currentMonth+1>C.config.maxDate.getMonth():C.currentYear>C.config.maxDate.getFullYear()))}function tn(Z){return C.selectedDates.map(function(Q){return C.formatDate(Q,Z)}).filter(function(Q,ce,we){return"range"!==C.config.mode||C.config.enableTime||we.indexOf(Q)===ce}).join("range"!==C.config.mode?C.config.conjunction:C.l10n.rangeSeparator)}function bn(Z){void 0===Z&&(Z=!0),void 0!==C.mobileInput&&C.mobileFormatStr&&(C.mobileInput.value=void 0!==C.latestSelectedDateObj?C.formatDate(C.latestSelectedDateObj,C.mobileFormatStr):""),C.input.value=tn(C.config.dateFormat),void 0!==C.altInput&&(C.altInput.value=tn(C.config.altFormat)),!1!==Z&&ye("onValueUpdate")}function re(Z){var Q=it(Z),ce=C.prevMonthNav.contains(Q),we=C.nextMonthNav.contains(Q);ce||we?zn(ce?-1:1):C.yearElements.indexOf(Q)>=0?Q.select():Q.classList.contains("arrowUp")?C.changeYear(C.currentYear+1):Q.classList.contains("arrowDown")&&C.changeYear(C.currentYear-1)}return function(){C.element=C.input=ie,C.isOpen=!1,function(){var Q=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],ce=oe(oe({},JSON.parse(JSON.stringify(ie.dataset||{}))),pe),we={};C.config.parseDate=ce.parseDate,C.config.formatDate=ce.formatDate,Object.defineProperty(C.config,"enable",{get:function(){return C.config._enable},set:function(Kt){C.config._enable=ae(Kt)}}),Object.defineProperty(C.config,"disable",{get:function(){return C.config._disable},set:function(Kt){C.config._disable=ae(Kt)}});var Re="time"===ce.mode;ce.dateFormat||!ce.enableTime&&!Re||(we.dateFormat=ce.noCalendar||Re?"H:i"+(ce.enableSeconds?":S":""):(Ee.defaultConfig.dateFormat||qe.dateFormat)+" H:i"+(ce.enableSeconds?":S":"")),ce.altInput&&(ce.enableTime||Re)&&!ce.altFormat&&(we.altFormat=ce.noCalendar||Re?"h:i"+(ce.enableSeconds?":S K":" K"):(Ee.defaultConfig.altFormat||qe.altFormat)+" h:i"+(ce.enableSeconds?":S":"")+" K"),Object.defineProperty(C.config,"minDate",{get:function(){return C.config._minDate},set:Yi("min")}),Object.defineProperty(C.config,"maxDate",{get:function(){return C.config._maxDate},set:Yi("max")});var $e=function(Kt){return function(qt){C.config["min"===Kt?"_minTime":"_maxTime"]=C.parseDate(qt,"H:i:S")}};Object.defineProperty(C.config,"minTime",{get:function(){return C.config._minTime},set:$e("min")}),Object.defineProperty(C.config,"maxTime",{get:function(){return C.config._maxTime},set:$e("max")}),"time"===ce.mode&&(C.config.noCalendar=!0,C.config.enableTime=!0),Object.assign(C.config,we,ce);for(var pt=0;pt<Q.length;pt++)C.config[Q[pt]]=!0===C.config[Q[pt]]||"true"===C.config[Q[pt]];for(ue.filter(function(Kt){return void 0!==C.config[Kt]}).forEach(function(Kt){C.config[Kt]=Pe(C.config[Kt]||[]).map(lt)}),C.isMobile=!C.config.disableMobile&&!C.config.inline&&"single"===C.config.mode&&!C.config.disable.length&&!C.config.enable&&!C.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),pt=0;pt<C.config.plugins.length;pt++){var wt=C.config.plugins[pt](C)||{};for(var At in wt)ue.indexOf(At)>-1?C.config[At]=Pe(wt[At]).map(lt).concat(C.config[At]):void 0===ce[At]&&(C.config[At]=wt[At])}ce.altInputClass||(C.config.altInputClass=Ht().className+" "+C.config.altInputClass),ye("onParseConfig")}(),Si(),C.input=Ht(),C.input?(C.input._type=C.input.type,C.input.type="text",C.input.classList.add("flatpickr-input"),C._input=C.input,C.config.altInput&&(C.altInput=Ce(C.input.nodeName,C.config.altInputClass),C._input=C.altInput,C.altInput.placeholder=C.input.placeholder,C.altInput.disabled=C.input.disabled,C.altInput.required=C.input.required,C.altInput.tabIndex=C.input.tabIndex,C.altInput.type="text",C.input.setAttribute("type","hidden"),!C.config.static&&C.input.parentNode&&C.input.parentNode.insertBefore(C.altInput,C.input.nextSibling)),C.config.allowInput||C._input.setAttribute("readonly","readonly"),C._positionElement=C.config.positionElement||C._input):C.config.errorHandler(new Error("Invalid input element specified")),function(){C.selectedDates=[],C.now=C.parseDate(C.config.now)||new Date;var Q=C.config.defaultDate||("INPUT"!==C.input.nodeName&&"TEXTAREA"!==C.input.nodeName||!C.input.placeholder||C.input.value!==C.input.placeholder?C.input.value:null);Q&&z(Q,C.config.dateFormat),C._initialDate=C.selectedDates.length>0?C.selectedDates[0]:C.config.minDate&&C.config.minDate.getTime()>C.now.getTime()?C.config.minDate:C.config.maxDate&&C.config.maxDate.getTime()<C.now.getTime()?C.config.maxDate:C.now,C.currentYear=C._initialDate.getFullYear(),C.currentMonth=C._initialDate.getMonth(),C.selectedDates.length>0&&(C.latestSelectedDateObj=C.selectedDates[0]),void 0!==C.config.minTime&&(C.config.minTime=C.parseDate(C.config.minTime,"H:i")),void 0!==C.config.maxTime&&(C.config.maxTime=C.parseDate(C.config.maxTime,"H:i")),C.minDateHasTime=!!C.config.minDate&&(C.config.minDate.getHours()>0||C.config.minDate.getMinutes()>0||C.config.minDate.getSeconds()>0),C.maxDateHasTime=!!C.config.maxDate&&(C.config.maxDate.getHours()>0||C.config.maxDate.getMinutes()>0||C.config.maxDate.getSeconds()>0)}(),C.utils={getDaysInMonth:function(Q,ce){return void 0===Q&&(Q=C.currentMonth),void 0===ce&&(ce=C.currentYear),1===Q&&(ce%4==0&&ce%100!=0||ce%400==0)?29:C.l10n.daysInMonth[Q]}},C.isMobile||function(){var Q=window.document.createDocumentFragment();if(C.calendarContainer=Ce("div","flatpickr-calendar"),C.calendarContainer.tabIndex=-1,!C.config.noCalendar){if(Q.appendChild((C.monthNav=Ce("div","flatpickr-months"),C.yearElements=[],C.monthElements=[],C.prevMonthNav=Ce("span","flatpickr-prev-month"),C.prevMonthNav.innerHTML=C.config.prevArrow,C.nextMonthNav=Ce("span","flatpickr-next-month"),C.nextMonthNav.innerHTML=C.config.nextArrow,Bi(),Object.defineProperty(C,"_hidePrevMonthArrow",{get:function(){return C.__hidePrevMonthArrow},set:function($e){C.__hidePrevMonthArrow!==$e&&(st(C.prevMonthNav,"flatpickr-disabled",$e),C.__hidePrevMonthArrow=$e)}}),Object.defineProperty(C,"_hideNextMonthArrow",{get:function(){return C.__hideNextMonthArrow},set:function($e){C.__hideNextMonthArrow!==$e&&(st(C.nextMonthNav,"flatpickr-disabled",$e),C.__hideNextMonthArrow=$e)}}),C.currentYearElement=C.yearElements[0],Vt(),C.monthNav)),C.innerContainer=Ce("div","flatpickr-innerContainer"),C.config.weekNumbers){var ce=function(){C.calendarContainer.classList.add("hasWeeks");var $e=Ce("div","flatpickr-weekwrapper");$e.appendChild(Ce("span","flatpickr-weekday",C.l10n.weekAbbreviation));var pt=Ce("div","flatpickr-weeks");return $e.appendChild(pt),{weekWrapper:$e,weekNumbers:pt}}(),we=ce.weekWrapper,Re=ce.weekNumbers;C.innerContainer.appendChild(we),C.weekNumbers=Re,C.weekWrapper=we}C.rContainer=Ce("div","flatpickr-rContainer"),C.rContainer.appendChild(si()),C.daysContainer||(C.daysContainer=Ce("div","flatpickr-days"),C.daysContainer.tabIndex=-1),Pn(),C.rContainer.appendChild(C.daysContainer),C.innerContainer.appendChild(C.rContainer),Q.appendChild(C.innerContainer)}C.config.enableTime&&Q.appendChild(function(){C.calendarContainer.classList.add("hasTime"),C.config.noCalendar&&C.calendarContainer.classList.add("noCalendar");var $e=Ie(C.config);C.timeContainer=Ce("div","flatpickr-time"),C.timeContainer.tabIndex=-1;var pt=Ce("span","flatpickr-time-separator",":"),wt=Ke("flatpickr-hour",{"aria-label":C.l10n.hourAriaLabel});C.hourElement=wt.getElementsByTagName("input")[0];var At=Ke("flatpickr-minute",{"aria-label":C.l10n.minuteAriaLabel});if(C.minuteElement=At.getElementsByTagName("input")[0],C.hourElement.tabIndex=C.minuteElement.tabIndex=-1,C.hourElement.value=Ye(C.latestSelectedDateObj?C.latestSelectedDateObj.getHours():C.config.time_24hr?$e.hours:function(qt){switch(qt%24){case 0:case 12:return 12;default:return qt%12}}($e.hours)),C.minuteElement.value=Ye(C.latestSelectedDateObj?C.latestSelectedDateObj.getMinutes():$e.minutes),C.hourElement.setAttribute("step",C.config.hourIncrement.toString()),C.minuteElement.setAttribute("step",C.config.minuteIncrement.toString()),C.hourElement.setAttribute("min",C.config.time_24hr?"0":"1"),C.hourElement.setAttribute("max",C.config.time_24hr?"23":"12"),C.hourElement.setAttribute("maxlength","2"),C.minuteElement.setAttribute("min","0"),C.minuteElement.setAttribute("max","59"),C.minuteElement.setAttribute("maxlength","2"),C.timeContainer.appendChild(wt),C.timeContainer.appendChild(pt),C.timeContainer.appendChild(At),C.config.time_24hr&&C.timeContainer.classList.add("time24hr"),C.config.enableSeconds){C.timeContainer.classList.add("hasSeconds");var Kt=Ke("flatpickr-second");C.secondElement=Kt.getElementsByTagName("input")[0],C.secondElement.value=Ye(C.latestSelectedDateObj?C.latestSelectedDateObj.getSeconds():$e.seconds),C.secondElement.setAttribute("step",C.minuteElement.getAttribute("step")),C.secondElement.setAttribute("min","0"),C.secondElement.setAttribute("max","59"),C.secondElement.setAttribute("maxlength","2"),C.timeContainer.appendChild(Ce("span","flatpickr-time-separator",":")),C.timeContainer.appendChild(Kt)}return C.config.time_24hr||(C.amPM=Ce("span","flatpickr-am-pm",C.l10n.amPM[ve((C.latestSelectedDateObj?C.hourElement.value:C.config.defaultHour)>11)]),C.amPM.title=C.l10n.toggleTitle,C.amPM.tabIndex=-1,C.timeContainer.appendChild(C.amPM)),C.timeContainer}()),st(C.calendarContainer,"rangeMode","range"===C.config.mode),st(C.calendarContainer,"animate",!0===C.config.animate),st(C.calendarContainer,"multiMonth",C.config.showMonths>1),C.calendarContainer.appendChild(Q);var We=void 0!==C.config.appendTo&&void 0!==C.config.appendTo.nodeType;if((C.config.inline||C.config.static)&&(C.calendarContainer.classList.add(C.config.inline?"inline":"static"),C.config.inline&&(!We&&C.element.parentNode?C.element.parentNode.insertBefore(C.calendarContainer,C._input.nextSibling):void 0!==C.config.appendTo&&C.config.appendTo.appendChild(C.calendarContainer)),C.config.static)){var ot=Ce("div","flatpickr-wrapper");C.element.parentNode&&C.element.parentNode.insertBefore(ot,C.element),ot.appendChild(C.element),C.altInput&&ot.appendChild(C.altInput),ot.appendChild(C.calendarContainer)}C.config.static||C.config.inline||(void 0!==C.config.appendTo?C.config.appendTo:window.document.body).appendChild(C.calendarContainer)}(),function(){if(C.config.wrap&&["open","close","toggle","clear"].forEach(function(we){Array.prototype.forEach.call(C.element.querySelectorAll("[data-"+we+"]"),function(Re){return Mt(Re,"click",C[we])})}),C.isMobile)!function(){var we=C.config.enableTime?C.config.noCalendar?"time":"datetime-local":"date";C.mobileInput=Ce("input",C.input.className+" flatpickr-mobile"),C.mobileInput.tabIndex=1,C.mobileInput.type=we,C.mobileInput.disabled=C.input.disabled,C.mobileInput.required=C.input.required,C.mobileInput.placeholder=C.input.placeholder,C.mobileFormatStr="datetime-local"===we?"Y-m-d\\TH:i:S":"date"===we?"Y-m-d":"H:i:S",C.selectedDates.length>0&&(C.mobileInput.defaultValue=C.mobileInput.value=C.formatDate(C.selectedDates[0],C.mobileFormatStr)),C.config.minDate&&(C.mobileInput.min=C.formatDate(C.config.minDate,"Y-m-d")),C.config.maxDate&&(C.mobileInput.max=C.formatDate(C.config.maxDate,"Y-m-d")),C.input.getAttribute("step")&&(C.mobileInput.step=String(C.input.getAttribute("step"))),C.input.type="hidden",void 0!==C.altInput&&(C.altInput.type="hidden");try{C.input.parentNode&&C.input.parentNode.insertBefore(C.mobileInput,C.input.nextSibling)}catch{}Mt(C.mobileInput,"change",function(Re){C.setDate(it(Re).value,!1,C.mobileFormatStr),ye("onChange"),ye("onClose")})}();else{var Q=Qe(bi,50);C._debouncedChange=Qe(mt,300),C.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&Mt(C.daysContainer,"mouseover",function(we){"range"===C.config.mode&&Ar(it(we))}),Mt(window.document.body,"keydown",Ir),C.config.inline||C.config.static||Mt(window,"resize",Q),void 0!==window.ontouchstart?Mt(window.document,"touchstart",ui):Mt(window.document,"mousedown",ui),Mt(window.document,"focus",ui,{capture:!0}),!0===C.config.clickOpens&&(Mt(C._input,"focus",C.open),Mt(C._input,"click",C.open)),void 0!==C.daysContainer&&(Mt(C.monthNav,"click",re),Mt(C.monthNav,["keyup","increment"],rn),Mt(C.daysContainer,"click",ke)),void 0!==C.timeContainer&&void 0!==C.minuteElement&&void 0!==C.hourElement&&(Mt(C.timeContainer,["increment"],Y),Mt(C.timeContainer,"blur",Y,{capture:!0}),Mt(C.timeContainer,"click",rt),Mt([C.hourElement,C.minuteElement],["focus","click"],function(we){return it(we).select()}),void 0!==C.secondElement&&Mt(C.secondElement,"focus",function(){return C.secondElement&&C.secondElement.select()}),void 0!==C.amPM&&Mt(C.amPM,"click",function(we){Y(we),mt()})),C.config.allowInput&&Mt(C._input,"blur",Ji)}}(),(C.selectedDates.length||C.config.noCalendar)&&(C.config.enableTime&&zt(C.config.noCalendar?C.latestSelectedDateObj:void 0),bn(!1)),gt();var Z=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!C.isMobile&&Z&&Qi(),ye("onReady")}(),C}function se(ie,pe){for(var C=Array.prototype.slice.call(ie).filter(function(Ve){return Ve instanceof HTMLElement}),lt=[],gt=0;gt<C.length;gt++){var Y=C[gt];try{if(null!==Y.getAttribute("data-fp-omit"))continue;void 0!==Y._flatpickr&&(Y._flatpickr.destroy(),Y._flatpickr=void 0),Y._flatpickr=et(Y,pe||{}),lt.push(Y._flatpickr)}catch(Ve){console.error(Ve)}}return 1===lt.length?lt[0]:lt}"function"!=typeof Object.assign&&(Object.assign=function(ie){for(var pe=[],C=1;C<arguments.length;C++)pe[C-1]=arguments[C];if(!ie)throw TypeError("Cannot convert undefined or null to object");for(var lt=function(zt){zt&&Object.keys(zt).forEach(function(jt){return ie[jt]=zt[jt]})},gt=0,Y=pe;gt<Y.length;gt++)lt(Y[gt]);return ie}),typeof HTMLElement<"u"&&typeof HTMLCollection<"u"&&typeof NodeList<"u"&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(ie){return se(this,ie)},HTMLElement.prototype.flatpickr=function(ie){return se([this],ie)});var Ee=function(ie,pe){return"string"==typeof ie?se(window.document.querySelectorAll(ie),pe):ie instanceof Node?se([ie],pe):se(ie,pe)};return Ee.defaultConfig={},Ee.l10ns={en:oe({},X),default:oe({},X)},Ee.localize=function(ie){Ee.l10ns.default=oe(oe({},Ee.l10ns.default),ie)},Ee.setDefaults=function(ie){Ee.defaultConfig=oe(oe({},Ee.defaultConfig),ie)},Ee.parseDate=P({}),Ee.formatDate=Oe({}),Ee.compareDates=tt,typeof jQuery<"u"&&void 0!==jQuery.fn&&(jQuery.fn.flatpickr=function(ie){return se(this,ie)}),Date.prototype.fp_incr=function(ie){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+("string"==typeof ie?parseInt(ie,10):ie))},typeof window<"u"&&(window.flatpickr=Ee),Ee}),function(oe,ft){"object"==typeof exports&&"object"==typeof module?module.exports=ft():"function"==typeof define&&define.amd?define([],ft):"object"==typeof exports?exports.sqlFormatter=ft():oe.sqlFormatter=ft()}(window,function(){return function(oe){var ft={};function ue(qe){if(ft[qe])return ft[qe].exports;var X=ft[qe]={i:qe,l:!1,exports:{}};return oe[qe].call(X.exports,X,X.exports,ue),X.l=!0,X.exports}return ue.m=oe,ue.c=ft,ue.d=function(qe,X,Ye){ue.o(qe,X)||Object.defineProperty(qe,X,{enumerable:!0,get:Ye})},ue.r=function(qe){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(qe,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(qe,"__esModule",{value:!0})},ue.t=function(qe,X){if(1&X&&(qe=ue(qe)),8&X||4&X&&"object"==typeof qe&&qe&&qe.__esModule)return qe;var Ye=Object.create(null);if(ue.r(Ye),Object.defineProperty(Ye,"default",{enumerable:!0,value:qe}),2&X&&"string"!=typeof qe)for(var ve in qe)ue.d(Ye,ve,function(Qe){return qe[Qe]}.bind(null,ve));return Ye},ue.n=function(qe){var X=qe&&qe.__esModule?function(){return qe.default}:function(){return qe};return ue.d(X,"a",X),X},ue.o=function(qe,X){return Object.prototype.hasOwnProperty.call(qe,X)},ue.p="",ue(ue.s=0)}([function(oe,ft,ue){"use strict";ue.r(ft),ue.d(ft,"format",function(){return T}),ue.d(ft,"supportedDialects",function(){return O});var qe={WORD:"word",STRING:"string",RESERVED:"reserved",RESERVED_TOP_LEVEL:"reserved-top-level",RESERVED_TOP_LEVEL_NO_INDENT:"reserved-top-level-no-indent",RESERVED_NEWLINE:"reserved-newline",OPERATOR:"operator",OPEN_PAREN:"open-paren",CLOSE_PAREN:"close-paren",LINE_COMMENT:"line-comment",BLOCK_COMMENT:"block-comment",NUMBER:"number",PLACEHOLDER:"placeholder"},X=function(N){return N.replace(/[\t ]+$/,"")},Ye=function(N){return N.replace(/[\$\(-\+\.\?\[-\^\{-\}]/g,"\\$&")},ve=function(N){return N.sort(function(M,B){return B.length-M.length||M.localeCompare(B)})};var Pe=function(){function N(j){(function(te,fe){if(!(te instanceof fe))throw new TypeError("Cannot call a class as a function")})(this,N),this.indent=j||"  ",this.indentTypes=[]}var B;return(B=[{key:"getIndent",value:function(){return this.indent.repeat(this.indentTypes.length)}},{key:"increaseTopLevel",value:function(){this.indentTypes.push("top-level")}},{key:"increaseBlockLevel",value:function(){this.indentTypes.push("block-level")}},{key:"decreaseTopLevel",value:function(){var j;this.indentTypes.length>0&&"top-level"===(j=this.indentTypes)[j.length-1]&&this.indentTypes.pop()}},{key:"decreaseBlockLevel",value:function(){for(;this.indentTypes.length>0&&"top-level"===this.indentTypes.pop(););}},{key:"resetIndentation",value:function(){this.indentTypes=[]}}])&&function Qe(N,M){for(var B=0;B<M.length;B++){var V=M[B];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(N,V.key,V)}}(N.prototype,B),N}();var Ce=function(){function N(){(function(j,te){if(!(j instanceof te))throw new TypeError("Cannot call a class as a function")})(this,N),this.level=0}var B;return(B=[{key:"beginIfPossible",value:function(j,te){0===this.level&&this.isInlineBlock(j,te)?this.level=1:this.level>0?this.level++:this.level=0}},{key:"end",value:function(){this.level--}},{key:"isActive",value:function(){return this.level>0}},{key:"isInlineBlock",value:function(j,te){for(var fe=0,xe=0,Ze=te;Ze<j.length;Ze++){var bt=j[Ze];if((fe+=bt.value.length)>50)return!1;if(bt.type===qe.OPEN_PAREN)xe++;else if(bt.type===qe.CLOSE_PAREN&&0==--xe)return!0;if(this.isForbiddenToken(bt))return!1}return!1}},{key:"isForbiddenToken",value:function(j){var te=j.type;return te===qe.RESERVED_TOP_LEVEL||te===qe.RESERVED_NEWLINE||te===qe.COMMENT||te===qe.BLOCK_COMMENT||";"===j.value}}])&&function st(N,M){for(var B=0;B<M.length;B++){var V=M[B];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(N,V.key,V)}}(N.prototype,B),N}();var St=function(){function N(j){(function(te,fe){if(!(te instanceof fe))throw new TypeError("Cannot call a class as a function")})(this,N),this.params=j,this.index=0}var B;return(B=[{key:"get",value:function(j){var te=j.key,fe=j.value;return this.params?te?this.params[te]:this.params[this.index++]:fe}}])&&function yt(N,M){for(var B=0;B<M.length;B++){var V=M[B];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(N,V.key,V)}}(N.prototype,B),N}(),Ke=function(N,M){return function(B){return B?.type===N&&M.test(B?.value)}},it=Ke(qe.RESERVED_NEWLINE,/^AND$/i),He=Ke(qe.RESERVED,/^BETWEEN$/i),De=Ke(qe.RESERVED_TOP_LEVEL,/^LIMIT$/i),ct=Ke(qe.RESERVED_TOP_LEVEL,/^[S\u017F]ET$/i),ne=Ke(qe.RESERVED,/^BY$/i),Me=Ke(qe.RESERVED_TOP_LEVEL,/^WINDOW$/i),Oe=Ke(qe.CLOSE_PAREN,/^END$/i);function P(N,M,B){return M in N?Object.defineProperty(N,M,{value:B,enumerable:!0,configurable:!0,writable:!0}):N[M]=B,N}var Te=function(){function N(j){(function(te,fe){if(!(te instanceof fe))throw new TypeError("Cannot call a class as a function")})(this,N),this.cfg=j,this.indentation=new Pe(this.cfg.indent),this.inlineBlock=new Ce,this.params=new St(this.cfg.params),this.previousReservedToken={},this.tokens=[],this.index=0}var B;return(B=[{key:"tokenizer",value:function(){throw new Error("tokenizer() not implemented by subclass")}},{key:"tokenOverride",value:function(j){return j}},{key:"format",value:function(j){return this.tokens=this.tokenizer().tokenize(j),this.getFormattedQueryFromTokens().trim()}},{key:"getFormattedQueryFromTokens",value:function(){var j=this,te="";return this.tokens.forEach(function(fe,xe){j.index=xe,(fe=j.tokenOverride(fe)).type===qe.LINE_COMMENT?te=j.formatLineComment(fe,te):fe.type===qe.BLOCK_COMMENT?te=j.formatBlockComment(fe,te):fe.type===qe.RESERVED_TOP_LEVEL?(te=j.formatTopLevelReservedWord(fe,te),j.previousReservedToken=fe):fe.type===qe.RESERVED_TOP_LEVEL_NO_INDENT?(te=j.formatTopLevelReservedWordNoIndent(fe,te),j.previousReservedToken=fe):fe.type===qe.RESERVED_NEWLINE?(te=j.formatNewlineReservedWord(fe,te),j.previousReservedToken=fe):fe.type===qe.RESERVED?(te=j.formatWithSpaces(fe,te),j.previousReservedToken=fe):te=fe.type===qe.OPEN_PAREN?j.formatOpeningParentheses(fe,te):fe.type===qe.CLOSE_PAREN?j.formatClosingParentheses(fe,te):fe.type===qe.PLACEHOLDER?j.formatPlaceholder(fe,te):","===fe.value?j.formatComma(fe,te):":"===fe.value?j.formatWithSpaceAfter(fe,te):"."===fe.value?j.formatWithoutSpaces(fe,te):";"===fe.value?j.formatQuerySeparator(fe,te):j.formatWithSpaces(fe,te)}),te}},{key:"formatLineComment",value:function(j,te){return this.addNewline(te+this.show(j))}},{key:"formatBlockComment",value:function(j,te){return this.addNewline(this.addNewline(te)+this.indentComment(j.value))}},{key:"indentComment",value:function(j){return j.replace(/\n[\t ]*/g,"\n"+this.indentation.getIndent()+" ")}},{key:"formatTopLevelReservedWordNoIndent",value:function(j,te){return this.indentation.decreaseTopLevel(),te=this.addNewline(te)+this.equalizeWhitespace(this.show(j)),this.addNewline(te)}},{key:"formatTopLevelReservedWord",value:function(j,te){return this.indentation.decreaseTopLevel(),te=this.addNewline(te),this.indentation.increaseTopLevel(),te+=this.equalizeWhitespace(this.show(j)),this.addNewline(te)}},{key:"formatNewlineReservedWord",value:function(j,te){return it(j)&&He(this.tokenLookBehind(2))?this.formatWithSpaces(j,te):this.addNewline(te)+this.equalizeWhitespace(this.show(j))+" "}},{key:"equalizeWhitespace",value:function(j){return j.replace(/[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+/g," ")}},{key:"formatOpeningParentheses",value:function(j,te){var fe,xe,Ze=(P(fe={},qe.OPEN_PAREN,!0),P(fe,qe.LINE_COMMENT,!0),P(fe,qe.OPERATOR,!0),fe);return 0!==j.whitespaceBefore.length||Ze[null===(xe=this.tokenLookBehind())||void 0===xe?void 0:xe.type]||(te=X(te)),te+=this.show(j),this.inlineBlock.beginIfPossible(this.tokens,this.index),this.inlineBlock.isActive()||(this.indentation.increaseBlockLevel(),te=this.addNewline(te)),te}},{key:"formatClosingParentheses",value:function(j,te){return this.inlineBlock.isActive()?(this.inlineBlock.end(),this.formatWithSpaceAfter(j,te)):(this.indentation.decreaseBlockLevel(),this.formatWithSpaces(j,this.addNewline(te)))}},{key:"formatPlaceholder",value:function(j,te){return te+this.params.get(j)+" "}},{key:"formatComma",value:function(j,te){return te=X(te)+this.show(j)+" ",this.inlineBlock.isActive()||De(this.previousReservedToken)?te:this.addNewline(te)}},{key:"formatWithSpaceAfter",value:function(j,te){return X(te)+this.show(j)+" "}},{key:"formatWithoutSpaces",value:function(j,te){return X(te)+this.show(j)}},{key:"formatWithSpaces",value:function(j,te){return te+this.show(j)+" "}},{key:"formatQuerySeparator",value:function(j,te){return this.indentation.resetIndentation(),X(te)+this.show(j)+"\n".repeat(this.cfg.linesBetweenQueries||1)}},{key:"show",value:function(j){var te=j.type,fe=j.value;return!this.cfg.uppercase||te!==qe.RESERVED&&te!==qe.RESERVED_TOP_LEVEL&&te!==qe.RESERVED_TOP_LEVEL_NO_INDENT&&te!==qe.RESERVED_NEWLINE&&te!==qe.OPEN_PAREN&&te!==qe.CLOSE_PAREN?fe:fe.toUpperCase()}},{key:"addNewline",value:function(j){return(j=X(j)).endsWith("\n")||(j+="\n"),j+this.indentation.getIndent()}},{key:"tokenLookBehind",value:function(){return this.tokens[this.index-(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1)]}},{key:"tokenLookAhead",value:function(){return this.tokens[this.index+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1)]}}])&&function tt(N,M){for(var B=0;B<M.length;B++){var V=M[B];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(N,V.key,V)}}(N.prototype,B),N}();function Ie(N){if(0===N.length)return new RegExp("^\b$","u");var M=ve(N).join("|").replace(/ /g,"\\s+");return new RegExp("^(".concat(M,")\\b"),"iu")}function et(N){var M={"``":"((`[^`]*($|`))+)","{}":"((\\{[^\\}]*($|\\}))+)","[]":"((\\[[^\\]]*($|\\]))(\\][^\\]]*($|\\]))*)",'""':'(("[^"\\\\]*(?:\\\\.[^"\\\\]*)*("|$))+)',"''":"(('[^'\\\\]*(?:\\\\.[^'\\\\]*)*('|$))+)","N''":"((N'[^'\\\\]*(?:\\\\.[^'\\\\]*)*('|$))+)","U&''":"((U&'[^'\\\\]*(?:\\\\.[^'\\\\]*)*('|$))+)",'U&""':'((U&"[^"\\\\]*(?:\\\\.[^"\\\\]*)*("|$))+)',$$:"((?<tag>\\$\\w*\\$)[\\s\\S]*?(?:\\k<tag>|$))"};return N.map(function(B){return M[B]}).join("|")}function se(N){return new RegExp("^("+N.map(Ee).join("|")+")","iu")}function Ee(N){return 1===N.length?Ye(N):"\\b"+N+"\\b"}function ie(N,M){if(B=N,!Array.isArray(B)||0===B.length)return!1;var B,V=N.map(Ye).join("|");return new RegExp("^((?:".concat(V,")(?:").concat(M,"))"),"u")}function pe(N,M){var B=Object.keys(N);if(Object.getOwnPropertySymbols){var V=Object.getOwnPropertySymbols(N);M&&(V=V.filter(function(j){return Object.getOwnPropertyDescriptor(N,j).enumerable})),B.push.apply(B,V)}return B}function C(N){for(var M=1;M<arguments.length;M++){var B=null!=arguments[M]?arguments[M]:{};M%2?pe(Object(B),!0).forEach(function(V){lt(N,V,B[V])}):Object.getOwnPropertyDescriptors?Object.defineProperties(N,Object.getOwnPropertyDescriptors(B)):pe(Object(B)).forEach(function(V){Object.defineProperty(N,V,Object.getOwnPropertyDescriptor(B,V))})}return N}function lt(N,M,B){return M in N?Object.defineProperty(N,M,{value:B,enumerable:!0,configurable:!0,writable:!0}):N[M]=B,N}function Y(N,M){(null==M||M>N.length)&&(M=N.length);for(var B=0,V=new Array(M);B<M;B++)V[B]=N[B];return V}var zt=function(){function N(j){var te;(function(Ze,bt){if(!(Ze instanceof bt))throw new TypeError("Cannot call a class as a function")})(this,N),this.WHITESPACE_REGEX=/^([\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+)/,this.NUMBER_REGEX=/^((\x2D[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?[0-9]+(\.[0-9]+)?([Ee]\x2D?[0-9]+(\.[0-9]+)?)?|0x[0-9A-Fa-f]+|0b[01]+)\b/,this.OPERATOR_REGEX=(te=["<>","<=",">="].concat(function gt(N){return function(M){if(Array.isArray(M))return Y(M)}(N)||function(M){if(typeof Symbol<"u"&&Symbol.iterator in Object(M))return Array.from(M)}(N)||function(M,B){if(M){if("string"==typeof M)return Y(M,B);var V=Object.prototype.toString.call(M).slice(8,-1);if("Object"===V&&M.constructor&&(V=M.constructor.name),"Map"===V||"Set"===V)return Array.from(M);if("Arguments"===V||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(V))return Y(M,B)}}(N)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(j.operators||[])),new RegExp("^(".concat(ve(te).map(Ye).join("|"),"|.)"),"u")),this.BLOCK_COMMENT_REGEX=/^(\/\*(?:(?![])[\s\S])*?(?:\*\/|$))/,this.LINE_COMMENT_REGEX=new RegExp("^((?:".concat(j.lineCommentTypes.map(function(Ze){return Ye(Ze)}).join("|"),").*?)(?:\r\n|\r|\n|$)"),"u"),this.RESERVED_TOP_LEVEL_REGEX=Ie(j.reservedTopLevelWords),this.RESERVED_TOP_LEVEL_NO_INDENT_REGEX=Ie(j.reservedTopLevelWordsNoIndent),this.RESERVED_NEWLINE_REGEX=Ie(j.reservedNewlineWords),this.RESERVED_PLAIN_REGEX=Ie(j.reservedWords),this.WORD_REGEX=function(){return new RegExp("^([\\p{Alphabetic}\\p{Mark}\\p{Decimal_Number}\\p{Connector_Punctuation}\\p{Join_Control}".concat((arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).join(""),"]+)"),"u")}(j.specialWordChars),this.STRING_REGEX=new RegExp("^("+et(j.stringTypes)+")","u"),this.OPEN_PAREN_REGEX=se(j.openParens),this.CLOSE_PAREN_REGEX=se(j.closeParens),this.INDEXED_PLACEHOLDER_REGEX=ie(j.indexedPlaceholderTypes,"[0-9]*"),this.IDENT_NAMED_PLACEHOLDER_REGEX=ie(j.namedPlaceholderTypes,"[a-zA-Z0-9._$]+"),this.STRING_NAMED_PLACEHOLDER_REGEX=ie(j.namedPlaceholderTypes,et(j.stringTypes))}var B;return(B=[{key:"tokenize",value:function(j){for(var te,fe=[];j.length;){var xe=this.getWhitespace(j);(j=j.substring(xe.length)).length&&(te=this.getNextToken(j,te),j=j.substring(te.value.length),fe.push(C(C({},te),{},{whitespaceBefore:xe})))}return fe}},{key:"getWhitespace",value:function(j){var te=j.match(this.WHITESPACE_REGEX);return te?te[1]:""}},{key:"getNextToken",value:function(j,te){return this.getCommentToken(j)||this.getStringToken(j)||this.getOpenParenToken(j)||this.getCloseParenToken(j)||this.getPlaceholderToken(j)||this.getNumberToken(j)||this.getReservedWordToken(j,te)||this.getWordToken(j)||this.getOperatorToken(j)}},{key:"getCommentToken",value:function(j){return this.getLineCommentToken(j)||this.getBlockCommentToken(j)}},{key:"getLineCommentToken",value:function(j){return this.getTokenOnFirstMatch({input:j,type:qe.LINE_COMMENT,regex:this.LINE_COMMENT_REGEX})}},{key:"getBlockCommentToken",value:function(j){return this.getTokenOnFirstMatch({input:j,type:qe.BLOCK_COMMENT,regex:this.BLOCK_COMMENT_REGEX})}},{key:"getStringToken",value:function(j){return this.getTokenOnFirstMatch({input:j,type:qe.STRING,regex:this.STRING_REGEX})}},{key:"getOpenParenToken",value:function(j){return this.getTokenOnFirstMatch({input:j,type:qe.OPEN_PAREN,regex:this.OPEN_PAREN_REGEX})}},{key:"getCloseParenToken",value:function(j){return this.getTokenOnFirstMatch({input:j,type:qe.CLOSE_PAREN,regex:this.CLOSE_PAREN_REGEX})}},{key:"getPlaceholderToken",value:function(j){return this.getIdentNamedPlaceholderToken(j)||this.getStringNamedPlaceholderToken(j)||this.getIndexedPlaceholderToken(j)}},{key:"getIdentNamedPlaceholderToken",value:function(j){return this.getPlaceholderTokenWithKey({input:j,regex:this.IDENT_NAMED_PLACEHOLDER_REGEX,parseKey:function(te){return te.slice(1)}})}},{key:"getStringNamedPlaceholderToken",value:function(j){var te=this;return this.getPlaceholderTokenWithKey({input:j,regex:this.STRING_NAMED_PLACEHOLDER_REGEX,parseKey:function(fe){return te.getEscapedPlaceholderKey({key:fe.slice(2,-1),quoteChar:fe.slice(-1)})}})}},{key:"getIndexedPlaceholderToken",value:function(j){return this.getPlaceholderTokenWithKey({input:j,regex:this.INDEXED_PLACEHOLDER_REGEX,parseKey:function(te){return te.slice(1)}})}},{key:"getPlaceholderTokenWithKey",value:function(j){var xe=j.parseKey,Ze=this.getTokenOnFirstMatch({input:j.input,regex:j.regex,type:qe.PLACEHOLDER});return Ze&&(Ze.key=xe(Ze.value)),Ze}},{key:"getEscapedPlaceholderKey",value:function(j){var fe=j.quoteChar;return j.key.replace(new RegExp(Ye("\\"+fe),"gu"),fe)}},{key:"getNumberToken",value:function(j){return this.getTokenOnFirstMatch({input:j,type:qe.NUMBER,regex:this.NUMBER_REGEX})}},{key:"getOperatorToken",value:function(j){return this.getTokenOnFirstMatch({input:j,type:qe.OPERATOR,regex:this.OPERATOR_REGEX})}},{key:"getReservedWordToken",value:function(j,te){if(!te||!te.value||"."!==te.value)return this.getTopLevelReservedToken(j)||this.getNewlineReservedToken(j)||this.getTopLevelReservedTokenNoIndent(j)||this.getPlainReservedToken(j)}},{key:"getTopLevelReservedToken",value:function(j){return this.getTokenOnFirstMatch({input:j,type:qe.RESERVED_TOP_LEVEL,regex:this.RESERVED_TOP_LEVEL_REGEX})}},{key:"getNewlineReservedToken",value:function(j){return this.getTokenOnFirstMatch({input:j,type:qe.RESERVED_NEWLINE,regex:this.RESERVED_NEWLINE_REGEX})}},{key:"getTopLevelReservedTokenNoIndent",value:function(j){return this.getTokenOnFirstMatch({input:j,type:qe.RESERVED_TOP_LEVEL_NO_INDENT,regex:this.RESERVED_TOP_LEVEL_NO_INDENT_REGEX})}},{key:"getPlainReservedToken",value:function(j){return this.getTokenOnFirstMatch({input:j,type:qe.RESERVED,regex:this.RESERVED_PLAIN_REGEX})}},{key:"getWordToken",value:function(j){return this.getTokenOnFirstMatch({input:j,type:qe.WORD,regex:this.WORD_REGEX})}},{key:"getTokenOnFirstMatch",value:function(j){var fe=j.type,Ze=j.input.match(j.regex);return Ze?{type:fe,value:Ze[1]}:void 0}}])&&function Ve(N,M){for(var B=0;B<M.length;B++){var V=M[B];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(N,V.key,V)}}(N.prototype,B),N}();function jt(N){return(jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(M){return typeof M}:function(M){return M&&"function"==typeof Symbol&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M})(N)}function mt(N,M){return(mt=Object.setPrototypeOf||function(B,V){return B.__proto__=V,B})(N,M)}function sn(N){return(sn=Object.setPrototypeOf?Object.getPrototypeOf:function(M){return M.__proto__||Object.getPrototypeOf(M)})(N)}var Jt=["ABS","ACTIVATE","ALIAS","ALL","ALLOCATE","ALLOW","ALTER","ANY","ARE","ARRAY","AS","ASC","ASENSITIVE","ASSOCIATE","ASUTIME","ASYMMETRIC","AT","ATOMIC","ATTRIBUTES","AUDIT","AUTHORIZATION","AUX","AUXILIARY","AVG","BEFORE","BEGIN","BETWEEN","BIGINT","BINARY","BLOB","BOOLEAN","BOTH","BUFFERPOOL","BY","CACHE","CALL","CALLED","CAPTURE","CARDINALITY","CASCADED","CASE","CAST","CCSID","CEIL","CEILING","CHAR","CHARACTER","CHARACTER_LENGTH","CHAR_LENGTH","CHECK","CLOB","CLONE","CLOSE","CLUSTER","COALESCE","COLLATE","COLLECT","COLLECTION","COLLID","COLUMN","COMMENT","COMMIT","CONCAT","CONDITION","CONNECT","CONNECTION","CONSTRAINT","CONTAINS","CONTINUE","CONVERT","CORR","CORRESPONDING","COUNT","COUNT_BIG","COVAR_POP","COVAR_SAMP","CREATE","CROSS","CUBE","CUME_DIST","CURRENT","CURRENT_DATE","CURRENT_DEFAULT_TRANSFORM_GROUP","CURRENT_LC_CTYPE","CURRENT_PATH","CURRENT_ROLE","CURRENT_SCHEMA","CURRENT_SERVER","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_TIMEZONE","CURRENT_TRANSFORM_GROUP_FOR_TYPE","CURRENT_USER","CURSOR","CYCLE","DATA","DATABASE","DATAPARTITIONNAME","DATAPARTITIONNUM","DATE","DAY","DAYS","DB2GENERAL","DB2GENRL","DB2SQL","DBINFO","DBPARTITIONNAME","DBPARTITIONNUM","DEALLOCATE","DEC","DECIMAL","DECLARE","DEFAULT","DEFAULTS","DEFINITION","DELETE","DENSERANK","DENSE_RANK","DEREF","DESCRIBE","DESCRIPTOR","DETERMINISTIC","DIAGNOSTICS","DISABLE","DISALLOW","DISCONNECT","DISTINCT","DO","DOCUMENT","DOUBLE","DROP","DSSIZE","DYNAMIC","EACH","EDITPROC","ELEMENT","ELSE","ELSEIF","ENABLE","ENCODING","ENCRYPTION","END","END-EXEC","ENDING","ERASE","ESCAPE","EVERY","EXCEPTION","EXCLUDING","EXCLUSIVE","EXEC","EXECUTE","EXISTS","EXIT","EXP","EXPLAIN","EXTENDED","EXTERNAL","EXTRACT","FALSE","FENCED","FETCH","FIELDPROC","FILE","FILTER","FINAL","FIRST","FLOAT","FLOOR","FOR","FOREIGN","FREE","FULL","FUNCTION","FUSION","GENERAL","GENERATED","GET","GLOBAL","GOTO","GRANT","GRAPHIC","GROUP","GROUPING","HANDLER","HASH","HASHED_VALUE","HINT","HOLD","HOUR","HOURS","IDENTITY","IF","IMMEDIATE","IN","INCLUDING","INCLUSIVE","INCREMENT","INDEX","INDICATOR","INDICATORS","INF","INFINITY","INHERIT","INNER","INOUT","INSENSITIVE","INSERT","INT","INTEGER","INTEGRITY","INTERSECTION","INTERVAL","INTO","IS","ISOBID","ISOLATION","ITERATE","JAR","JAVA","KEEP","KEY","LABEL","LANGUAGE","LARGE","LATERAL","LC_CTYPE","LEADING","LEAVE","LEFT","LIKE","LINKTYPE","LN","LOCAL","LOCALDATE","LOCALE","LOCALTIME","LOCALTIMESTAMP","LOCATOR","LOCATORS","LOCK","LOCKMAX","LOCKSIZE","LONG","LOOP","LOWER","MAINTAINED","MATCH","MATERIALIZED","MAX","MAXVALUE","MEMBER","MERGE","METHOD","MICROSECOND","MICROSECONDS","MIN","MINUTE","MINUTES","MINVALUE","MOD","MODE","MODIFIES","MODULE","MONTH","MONTHS","MULTISET","NAN","NATIONAL","NATURAL","NCHAR","NCLOB","NEW","NEW_TABLE","NEXTVAL","NO","NOCACHE","NOCYCLE","NODENAME","NODENUMBER","NOMAXVALUE","NOMINVALUE","NONE","NOORDER","NORMALIZE","NORMALIZED","NOT","NULL","NULLIF","NULLS","NUMERIC","NUMPARTS","OBID","OCTET_LENGTH","OF","OFFSET","OLD","OLD_TABLE","ON","ONLY","OPEN","OPTIMIZATION","OPTIMIZE","OPTION","ORDER","OUT","OUTER","OVER","OVERLAPS","OVERLAY","OVERRIDING","PACKAGE","PADDED","PAGESIZE","PARAMETER","PART","PARTITION","PARTITIONED","PARTITIONING","PARTITIONS","PASSWORD","PATH","PERCENTILE_CONT","PERCENTILE_DISC","PERCENT_RANK","PIECESIZE","PLAN","POSITION","POWER","PRECISION","PREPARE","PREVVAL","PRIMARY","PRIQTY","PRIVILEGES","PROCEDURE","PROGRAM","PSID","PUBLIC","QUERY","QUERYNO","RANGE","RANK","READ","READS","REAL","RECOVERY","RECURSIVE","REF","REFERENCES","REFERENCING","REFRESH","REGR_AVGX","REGR_AVGY","REGR_COUNT","REGR_INTERCEPT","REGR_R2","REGR_SLOPE","REGR_SXX","REGR_SXY","REGR_SYY","RELEASE","RENAME","REPEAT","RESET","RESIGNAL","RESTART","RESTRICT","RESULT","RESULT_SET_LOCATOR","RETURN","RETURNS","REVOKE","RIGHT","ROLE","ROLLBACK","ROLLUP","ROUND_CEILING","ROUND_DOWN","ROUND_FLOOR","ROUND_HALF_DOWN","ROUND_HALF_EVEN","ROUND_HALF_UP","ROUND_UP","ROUTINE","ROW","ROWNUMBER","ROWS","ROWSET","ROW_NUMBER","RRN","RUN","SAVEPOINT","SCHEMA","SCOPE","SCRATCHPAD","SCROLL","SEARCH","SECOND","SECONDS","SECQTY","SECURITY","SENSITIVE","SEQUENCE","SESSION","SESSION_USER","SIGNAL","SIMILAR","SIMPLE","SMALLINT","SNAN","SOME","SOURCE","SPECIFIC","SPECIFICTYPE","SQL","SQLEXCEPTION","SQLID","SQLSTATE","SQLWARNING","SQRT","STACKED","STANDARD","START","STARTING","STATEMENT","STATIC","STATMENT","STAY","STDDEV_POP","STDDEV_SAMP","STOGROUP","STORES","STYLE","SUBMULTISET","SUBSTRING","SUM","SUMMARY","SYMMETRIC","SYNONYM","SYSFUN","SYSIBM","SYSPROC","SYSTEM","SYSTEM_USER","TABLE","TABLESAMPLE","TABLESPACE","THEN","TIME","TIMESTAMP","TIMEZONE_HOUR","TIMEZONE_MINUTE","TO","TRAILING","TRANSACTION","TRANSLATE","TRANSLATION","TREAT","TRIGGER","TRIM","TRUE","TRUNCATE","TYPE","UESCAPE","UNDO","UNIQUE","UNKNOWN","UNNEST","UNTIL","UPPER","USAGE","USER","USING","VALIDPROC","VALUE","VARCHAR","VARIABLE","VARIANT","VARYING","VAR_POP","VAR_SAMP","VCAT","VERSION","VIEW","VOLATILE","VOLUMES","WHEN","WHENEVER","WHILE","WIDTH_BUCKET","WINDOW","WITH","WITHIN","WITHOUT","WLM","WRITE","XMLELEMENT","XMLEXISTS","XMLNAMESPACES","YEAR","YEARS"],Pi=["ADD","AFTER","ALTER COLUMN","ALTER TABLE","DELETE FROM","EXCEPT","FETCH FIRST","FROM","GROUP BY","GO","HAVING","INSERT INTO","INTERSECT","LIMIT","ORDER BY","SELECT","SET CURRENT SCHEMA","SET SCHEMA","SET","UPDATE","VALUES","WHERE"],Ci=["INTERSECT","INTERSECT ALL","MINUS","UNION","UNION ALL"],Bt=["AND","OR","JOIN","INNER JOIN","LEFT JOIN","LEFT OUTER JOIN","RIGHT JOIN","RIGHT OUTER JOIN","FULL JOIN","FULL OUTER JOIN","CROSS JOIN","NATURAL JOIN"],xi=function(N){!function(fe,xe){if("function"!=typeof xe&&null!==xe)throw new TypeError("Super expression must either be null or a function");fe.prototype=Object.create(xe&&xe.prototype,{constructor:{value:fe,writable:!0,configurable:!0}}),xe&&mt(fe,xe)}(te,N);var B,j=function Lt(N){var M=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var B,V=sn(N);if(M){var j=sn(this).constructor;B=Reflect.construct(V,arguments,j)}else B=V.apply(this,arguments);return function rt(N,M){return!M||"object"!==jt(M)&&"function"!=typeof M?function(B){if(void 0===B)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B}(N):M}(this,B)}}(te);function te(){return function rn(N,M){if(!(N instanceof M))throw new TypeError("Cannot call a class as a function")}(this,te),j.apply(this,arguments)}return(B=[{key:"tokenizer",value:function(){return new zt({reservedWords:Jt,reservedTopLevelWords:Pi,reservedNewlineWords:Bt,reservedTopLevelWordsNoIndent:Ci,stringTypes:['""',"''","``","[]"],openParens:["("],closeParens:[")"],indexedPlaceholderTypes:["?"],namedPlaceholderTypes:[":"],lineCommentTypes:["--"],specialWordChars:["#","@"],operators:["**","!=","!>","!>","||"]})}}])&&function Mt(N,M){for(var B=0;B<M.length;B++){var V=M[B];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(N,V.key,V)}}(te.prototype,B),te}(Te);function Pn(N){return(Pn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(M){return typeof M}:function(M){return M&&"function"==typeof Symbol&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M})(N)}function Bi(N,M){return(Bi=Object.setPrototypeOf||function(B,V){return B.__proto__=V,B})(N,M)}function zn(N){return(zn=Object.setPrototypeOf?Object.getPrototypeOf:function(M){return M.__proto__||Object.getPrototypeOf(M)})(N)}var ln=["ACCESSIBLE","ADD","ALL","ALTER","ANALYZE","AND","AS","ASC","ASENSITIVE","BEFORE","BETWEEN","BIGINT","BINARY","BLOB","BOTH","BY","CALL","CASCADE","CASE","CHANGE","CHAR","CHARACTER","CHECK","COLLATE","COLUMN","CONDITION","CONSTRAINT","CONTINUE","CONVERT","CREATE","CROSS","CURRENT_DATE","CURRENT_ROLE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURSOR","DATABASE","DATABASES","DAY_HOUR","DAY_MICROSECOND","DAY_MINUTE","DAY_SECOND","DEC","DECIMAL","DECLARE","DEFAULT","DELAYED","DELETE","DESC","DESCRIBE","DETERMINISTIC","DISTINCT","DISTINCTROW","DIV","DO_DOMAIN_IDS","DOUBLE","DROP","DUAL","EACH","ELSE","ELSEIF","ENCLOSED","ESCAPED","EXCEPT","EXISTS","EXIT","EXPLAIN","FALSE","FETCH","FLOAT","FLOAT4","FLOAT8","FOR","FORCE","FOREIGN","FROM","FULLTEXT","GENERAL","GRANT","GROUP","HAVING","HIGH_PRIORITY","HOUR_MICROSECOND","HOUR_MINUTE","HOUR_SECOND","IF","IGNORE","IGNORE_DOMAIN_IDS","IGNORE_SERVER_IDS","IN","INDEX","INFILE","INNER","INOUT","INSENSITIVE","INSERT","INT","INT1","INT2","INT3","INT4","INT8","INTEGER","INTERSECT","INTERVAL","INTO","IS","ITERATE","JOIN","KEY","KEYS","KILL","LEADING","LEAVE","LEFT","LIKE","LIMIT","LINEAR","LINES","LOAD","LOCALTIME","LOCALTIMESTAMP","LOCK","LONG","LONGBLOB","LONGTEXT","LOOP","LOW_PRIORITY","MASTER_HEARTBEAT_PERIOD","MASTER_SSL_VERIFY_SERVER_CERT","MATCH","MAXVALUE","MEDIUMBLOB","MEDIUMINT","MEDIUMTEXT","MIDDLEINT","MINUTE_MICROSECOND","MINUTE_SECOND","MOD","MODIFIES","NATURAL","NOT","NO_WRITE_TO_BINLOG","NULL","NUMERIC","ON","OPTIMIZE","OPTION","OPTIONALLY","OR","ORDER","OUT","OUTER","OUTFILE","OVER","PAGE_CHECKSUM","PARSE_VCOL_EXPR","PARTITION","POSITION","PRECISION","PRIMARY","PROCEDURE","PURGE","RANGE","READ","READS","READ_WRITE","REAL","RECURSIVE","REF_SYSTEM_ID","REFERENCES","REGEXP","RELEASE","RENAME","REPEAT","REPLACE","REQUIRE","RESIGNAL","RESTRICT","RETURN","RETURNING","REVOKE","RIGHT","RLIKE","ROWS","SCHEMA","SCHEMAS","SECOND_MICROSECOND","SELECT","SENSITIVE","SEPARATOR","SET","SHOW","SIGNAL","SLOW","SMALLINT","SPATIAL","SPECIFIC","SQL","SQLEXCEPTION","SQLSTATE","SQLWARNING","SQL_BIG_RESULT","SQL_CALC_FOUND_ROWS","SQL_SMALL_RESULT","SSL","STARTING","STATS_AUTO_RECALC","STATS_PERSISTENT","STATS_SAMPLE_PAGES","STRAIGHT_JOIN","TABLE","TERMINATED","THEN","TINYBLOB","TINYINT","TINYTEXT","TO","TRAILING","TRIGGER","TRUE","UNDO","UNION","UNIQUE","UNLOCK","UNSIGNED","UPDATE","USAGE","USE","USING","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","VALUES","VARBINARY","VARCHAR","VARCHARACTER","VARYING","WHEN","WHERE","WHILE","WINDOW","WITH","WRITE","XOR","YEAR_MONTH","ZEROFILL"],ui=["ADD","ALTER COLUMN","ALTER TABLE","DELETE FROM","EXCEPT","FROM","GROUP BY","HAVING","INSERT INTO","INSERT","LIMIT","ORDER BY","SELECT","SET","UPDATE","VALUES","WHERE"],Wi=["INTERSECT","INTERSECT ALL","UNION","UNION ALL"],Ai=["AND","ELSE","OR","WHEN","JOIN","INNER JOIN","LEFT JOIN","LEFT OUTER JOIN","RIGHT JOIN","RIGHT OUTER JOIN","CROSS JOIN","NATURAL JOIN","STRAIGHT_JOIN","NATURAL LEFT JOIN","NATURAL LEFT OUTER JOIN","NATURAL RIGHT JOIN","NATURAL RIGHT OUTER JOIN"],ni=function(N){!function(fe,xe){if("function"!=typeof xe&&null!==xe)throw new TypeError("Super expression must either be null or a function");fe.prototype=Object.create(xe&&xe.prototype,{constructor:{value:fe,writable:!0,configurable:!0}}),xe&&Bi(fe,xe)}(te,N);var B,j=function si(N){var M=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var B,V=zn(N);if(M){var j=zn(this).constructor;B=Reflect.construct(V,arguments,j)}else B=V.apply(this,arguments);return function ti(N,M){return!M||"object"!==Pn(M)&&"function"!=typeof M?function(B){if(void 0===B)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B}(N):M}(this,B)}}(te);function te(){return function Rt(N,M){if(!(N instanceof M))throw new TypeError("Cannot call a class as a function")}(this,te),j.apply(this,arguments)}return(B=[{key:"tokenizer",value:function(){return new zt({reservedWords:ln,reservedTopLevelWords:ui,reservedNewlineWords:Ai,reservedTopLevelWordsNoIndent:Wi,stringTypes:["``","''",'""'],openParens:["(","CASE"],closeParens:[")","END"],indexedPlaceholderTypes:["?"],namedPlaceholderTypes:[],lineCommentTypes:["--","#"],specialWordChars:["@"],operators:[":=","<<",">>","!=","<>","<=>","&&","||"]})}}])&&function ei(N,M){for(var B=0;B<M.length;B++){var V=M[B];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(N,V.key,V)}}(te.prototype,B),te}(Te);function Ji(N){return(Ji="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(M){return typeof M}:function(M){return M&&"function"==typeof Symbol&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M})(N)}function bi(N,M){return(bi=Object.setPrototypeOf||function(B,V){return B.__proto__=V,B})(N,M)}function Si(N){return(Si=Object.setPrototypeOf?Object.getPrototypeOf:function(M){return M.__proto__||Object.getPrototypeOf(M)})(N)}var Qi=["ACCESSIBLE","ADD","ALL","ALTER","ANALYZE","AND","AS","ASC","ASENSITIVE","BEFORE","BETWEEN","BIGINT","BINARY","BLOB","BOTH","BY","CALL","CASCADE","CASE","CHANGE","CHAR","CHARACTER","CHECK","COLLATE","COLUMN","CONDITION","CONSTRAINT","CONTINUE","CONVERT","CREATE","CROSS","CUBE","CUME_DIST","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURSOR","DATABASE","DATABASES","DAY_HOUR","DAY_MICROSECOND","DAY_MINUTE","DAY_SECOND","DEC","DECIMAL","DECLARE","DEFAULT","DELAYED","DELETE","DENSE_RANK","DESC","DESCRIBE","DETERMINISTIC","DISTINCT","DISTINCTROW","DIV","DOUBLE","DROP","DUAL","EACH","ELSE","ELSEIF","EMPTY","ENCLOSED","ESCAPED","EXCEPT","EXISTS","EXIT","EXPLAIN","FALSE","FETCH","FIRST_VALUE","FLOAT","FLOAT4","FLOAT8","FOR","FORCE","FOREIGN","FROM","FULLTEXT","FUNCTION","GENERATED","GET","GRANT","GROUP","GROUPING","GROUPS","HAVING","HIGH_PRIORITY","HOUR_MICROSECOND","HOUR_MINUTE","HOUR_SECOND","IF","IGNORE","IN","INDEX","INFILE","INNER","INOUT","INSENSITIVE","INSERT","INT","INT1","INT2","INT3","INT4","INT8","INTEGER","INTERVAL","INTO","IO_AFTER_GTIDS","IO_BEFORE_GTIDS","IS","ITERATE","JOIN","JSON_TABLE","KEY","KEYS","KILL","LAG","LAST_VALUE","LATERAL","LEAD","LEADING","LEAVE","LEFT","LIKE","LIMIT","LINEAR","LINES","LOAD","LOCALTIME","LOCALTIMESTAMP","LOCK","LONG","LONGBLOB","LONGTEXT","LOOP","LOW_PRIORITY","MASTER_BIND","MASTER_SSL_VERIFY_SERVER_CERT","MATCH","MAXVALUE","MEDIUMBLOB","MEDIUMINT","MEDIUMTEXT","MIDDLEINT","MINUTE_MICROSECOND","MINUTE_SECOND","MOD","MODIFIES","NATURAL","NOT","NO_WRITE_TO_BINLOG","NTH_VALUE","NTILE","NULL","NUMERIC","OF","ON","OPTIMIZE","OPTIMIZER_COSTS","OPTION","OPTIONALLY","OR","ORDER","OUT","OUTER","OUTFILE","OVER","PARTITION","PERCENT_RANK","PRECISION","PRIMARY","PROCEDURE","PURGE","RANGE","RANK","READ","READS","READ_WRITE","REAL","RECURSIVE","REFERENCES","REGEXP","RELEASE","RENAME","REPEAT","REPLACE","REQUIRE","RESIGNAL","RESTRICT","RETURN","REVOKE","RIGHT","RLIKE","ROW","ROWS","ROW_NUMBER","SCHEMA","SCHEMAS","SECOND_MICROSECOND","SELECT","SENSITIVE","SEPARATOR","SET","SHOW","SIGNAL","SMALLINT","SPATIAL","SPECIFIC","SQL","SQLEXCEPTION","SQLSTATE","SQLWARNING","SQL_BIG_RESULT","SQL_CALC_FOUND_ROWS","SQL_SMALL_RESULT","SSL","STARTING","STORED","STRAIGHT_JOIN","SYSTEM","TABLE","TERMINATED","THEN","TINYBLOB","TINYINT","TINYTEXT","TO","TRAILING","TRIGGER","TRUE","UNDO","UNION","UNIQUE","UNLOCK","UNSIGNED","UPDATE","USAGE","USE","USING","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","VALUES","VARBINARY","VARCHAR","VARCHARACTER","VARYING","VIRTUAL","WHEN","WHERE","WHILE","WINDOW","WITH","WRITE","XOR","YEAR_MONTH","ZEROFILL"],ut=["ADD","ALTER COLUMN","ALTER TABLE","DELETE FROM","EXCEPT","FROM","GROUP BY","HAVING","INSERT INTO","INSERT","LIMIT","ORDER BY","SELECT","SET","UPDATE","VALUES","WHERE"],Vn=["INTERSECT","INTERSECT ALL","UNION","UNION ALL"],ke=["AND","ELSE","OR","WHEN","JOIN","INNER JOIN","LEFT JOIN","LEFT OUTER JOIN","RIGHT JOIN","RIGHT OUTER JOIN","CROSS JOIN","NATURAL JOIN","STRAIGHT_JOIN","NATURAL LEFT JOIN","NATURAL LEFT OUTER JOIN","NATURAL RIGHT JOIN","NATURAL RIGHT OUTER JOIN"],Ae=function(N){!function(fe,xe){if("function"!=typeof xe&&null!==xe)throw new TypeError("Super expression must either be null or a function");fe.prototype=Object.create(xe&&xe.prototype,{constructor:{value:fe,writable:!0,configurable:!0}}),xe&&bi(fe,xe)}(te,N);var B,j=function Yi(N){var M=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var B,V=Si(N);if(M){var j=Si(this).constructor;B=Reflect.construct(V,arguments,j)}else B=V.apply(this,arguments);return function Ht(N,M){return!M||"object"!==Ji(M)&&"function"!=typeof M?function(B){if(void 0===B)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B}(N):M}(this,B)}}(te);function te(){return function Ir(N,M){if(!(N instanceof M))throw new TypeError("Cannot call a class as a function")}(this,te),j.apply(this,arguments)}return(B=[{key:"tokenizer",value:function(){return new zt({reservedWords:Qi,reservedTopLevelWords:ut,reservedNewlineWords:ke,reservedTopLevelWordsNoIndent:Vn,stringTypes:["``","''",'""'],openParens:["(","CASE"],closeParens:[")","END"],indexedPlaceholderTypes:["?"],namedPlaceholderTypes:[],lineCommentTypes:["--","#"],specialWordChars:["@"],operators:[":=","<<",">>","!=","<>","<=>","&&","||","->","->>"]})}}])&&function Ar(N,M){for(var B=0;B<M.length;B++){var V=M[B];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(N,V.key,V)}}(te.prototype,B),te}(Te);function z(N){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(M){return typeof M}:function(M){return M&&"function"==typeof Symbol&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M})(N)}function Fe(N,M){return(Fe=Object.setPrototypeOf||function(B,V){return B.__proto__=V,B})(N,M)}function tn(N){return(tn=Object.setPrototypeOf?Object.getPrototypeOf:function(M){return M.__proto__||Object.getPrototypeOf(M)})(N)}var bn=["ALL","ALTER","ANALYZE","AND","ANY","ARRAY","AS","ASC","BEGIN","BETWEEN","BINARY","BOOLEAN","BREAK","BUCKET","BUILD","BY","CALL","CASE","CAST","CLUSTER","COLLATE","COLLECTION","COMMIT","CONNECT","CONTINUE","CORRELATE","COVER","CREATE","DATABASE","DATASET","DATASTORE","DECLARE","DECREMENT","DELETE","DERIVED","DESC","DESCRIBE","DISTINCT","DO","DROP","EACH","ELEMENT","ELSE","END","EVERY","EXCEPT","EXCLUDE","EXECUTE","EXISTS","EXPLAIN","FALSE","FETCH","FIRST","FLATTEN","FOR","FORCE","FROM","FUNCTION","GRANT","GROUP","GSI","HAVING","IF","IGNORE","ILIKE","IN","INCLUDE","INCREMENT","INDEX","INFER","INLINE","INNER","INSERT","INTERSECT","INTO","IS","JOIN","KEY","KEYS","KEYSPACE","KNOWN","LAST","LEFT","LET","LETTING","LIKE","LIMIT","LSM","MAP","MAPPING","MATCHED","MATERIALIZED","MERGE","MISSING","NAMESPACE","NEST","NOT","NULL","NUMBER","OBJECT","OFFSET","ON","OPTION","OR","ORDER","OUTER","OVER","PARSE","PARTITION","PASSWORD","PATH","POOL","PREPARE","PRIMARY","PRIVATE","PRIVILEGE","PROCEDURE","PUBLIC","RAW","REALM","REDUCE","RENAME","RETURN","RETURNING","REVOKE","RIGHT","ROLE","ROLLBACK","SATISFIES","SCHEMA","SELECT","SELF","SEMI","SET","SHOW","SOME","START","STATISTICS","STRING","SYSTEM","THEN","TO","TRANSACTION","TRIGGER","TRUE","TRUNCATE","UNDER","UNION","UNIQUE","UNKNOWN","UNNEST","UNSET","UPDATE","UPSERT","USE","USER","USING","VALIDATE","VALUE","VALUED","VALUES","VIA","VIEW","WHEN","WHERE","WHILE","WITH","WITHIN","WORK","XOR"],re=["DELETE FROM","EXCEPT ALL","EXCEPT","EXPLAIN DELETE FROM","EXPLAIN UPDATE","EXPLAIN UPSERT","FROM","GROUP BY","HAVING","INFER","INSERT INTO","LET","LIMIT","MERGE","NEST","ORDER BY","PREPARE","SELECT","SET CURRENT SCHEMA","SET SCHEMA","SET","UNNEST","UPDATE","UPSERT","USE KEYS","VALUES","WHERE"],Z=["INTERSECT","INTERSECT ALL","MINUS","UNION","UNION ALL"],Q=["AND","OR","XOR","JOIN","INNER JOIN","LEFT JOIN","LEFT OUTER JOIN","RIGHT JOIN","RIGHT OUTER JOIN"],ce=function(N){!function(fe,xe){if("function"!=typeof xe&&null!==xe)throw new TypeError("Super expression must either be null or a function");fe.prototype=Object.create(xe&&xe.prototype,{constructor:{value:fe,writable:!0,configurable:!0}}),xe&&Fe(fe,xe)}(te,N);var B,j=function Xe(N){var M=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var B,V=tn(N);if(M){var j=tn(this).constructor;B=Reflect.construct(V,arguments,j)}else B=V.apply(this,arguments);return function Vt(N,M){return!M||"object"!==z(M)&&"function"!=typeof M?function(B){if(void 0===B)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B}(N):M}(this,B)}}(te);function te(){return function ae(N,M){if(!(N instanceof M))throw new TypeError("Cannot call a class as a function")}(this,te),j.apply(this,arguments)}return(B=[{key:"tokenizer",value:function(){return new zt({reservedWords:bn,reservedTopLevelWords:re,reservedNewlineWords:Q,reservedTopLevelWordsNoIndent:Z,stringTypes:['""',"''","``"],openParens:["(","[","{"],closeParens:[")","]","}"],namedPlaceholderTypes:["$"],lineCommentTypes:["#","--"],operators:["==","!="]})}}])&&function ye(N,M){for(var B=0;B<M.length;B++){var V=M[B];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(N,V.key,V)}}(te.prototype,B),te}(Te);function we(N){return(we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(M){return typeof M}:function(M){return M&&"function"==typeof Symbol&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M})(N)}function ot(N,M){return(ot=Object.setPrototypeOf||function(B,V){return B.__proto__=V,B})(N,M)}function wt(N){return(wt=Object.setPrototypeOf?Object.getPrototypeOf:function(M){return M.__proto__||Object.getPrototypeOf(M)})(N)}var At=["A","ACCESSIBLE","AGENT","AGGREGATE","ALL","ALTER","ANY","ARRAY","AS","ASC","AT","ATTRIBUTE","AUTHID","AVG","BETWEEN","BFILE_BASE","BINARY_INTEGER","BINARY","BLOB_BASE","BLOCK","BODY","BOOLEAN","BOTH","BOUND","BREADTH","BULK","BY","BYTE","C","CALL","CALLING","CASCADE","CASE","CHAR_BASE","CHAR","CHARACTER","CHARSET","CHARSETFORM","CHARSETID","CHECK","CLOB_BASE","CLONE","CLOSE","CLUSTER","CLUSTERS","COALESCE","COLAUTH","COLLECT","COLUMNS","COMMENT","COMMIT","COMMITTED","COMPILED","COMPRESS","CONNECT","CONSTANT","CONSTRUCTOR","CONTEXT","CONTINUE","CONVERT","COUNT","CRASH","CREATE","CREDENTIAL","CURRENT","CURRVAL","CURSOR","CUSTOMDATUM","DANGLING","DATA","DATE_BASE","DATE","DAY","DECIMAL","DEFAULT","DEFINE","DELETE","DEPTH","DESC","DETERMINISTIC","DIRECTORY","DISTINCT","DO","DOUBLE","DROP","DURATION","ELEMENT","ELSIF","EMPTY","END","ESCAPE","EXCEPTIONS","EXCLUSIVE","EXECUTE","EXISTS","EXIT","EXTENDS","EXTERNAL","EXTRACT","FALSE","FETCH","FINAL","FIRST","FIXED","FLOAT","FOR","FORALL","FORCE","FROM","FUNCTION","GENERAL","GOTO","GRANT","GROUP","HASH","HEAP","HIDDEN","HOUR","IDENTIFIED","IF","IMMEDIATE","IN","INCLUDING","INDEX","INDEXES","INDICATOR","INDICES","INFINITE","INSTANTIABLE","INT","INTEGER","INTERFACE","INTERVAL","INTO","INVALIDATE","IS","ISOLATION","JAVA","LANGUAGE","LARGE","LEADING","LENGTH","LEVEL","LIBRARY","LIKE","LIKE2","LIKE4","LIKEC","LIMITED","LOCAL","LOCK","LONG","MAP","MAX","MAXLEN","MEMBER","MERGE","MIN","MINUTE","MLSLABEL","MOD","MODE","MONTH","MULTISET","NAME","NAN","NATIONAL","NATIVE","NATURAL","NATURALN","NCHAR","NEW","NEXTVAL","NOCOMPRESS","NOCOPY","NOT","NOWAIT","NULL","NULLIF","NUMBER_BASE","NUMBER","OBJECT","OCICOLL","OCIDATE","OCIDATETIME","OCIDURATION","OCIINTERVAL","OCILOBLOCATOR","OCINUMBER","OCIRAW","OCIREF","OCIREFCURSOR","OCIROWID","OCISTRING","OCITYPE","OF","OLD","ON","ONLY","OPAQUE","OPEN","OPERATOR","OPTION","ORACLE","ORADATA","ORDER","ORGANIZATION","ORLANY","ORLVARY","OTHERS","OUT","OVERLAPS","OVERRIDING","PACKAGE","PARALLEL_ENABLE","PARAMETER","PARAMETERS","PARENT","PARTITION","PASCAL","PCTFREE","PIPE","PIPELINED","PLS_INTEGER","PLUGGABLE","POSITIVE","POSITIVEN","PRAGMA","PRECISION","PRIOR","PRIVATE","PROCEDURE","PUBLIC","RAISE","RANGE","RAW","READ","REAL","RECORD","REF","REFERENCE","RELEASE","RELIES_ON","REM","REMAINDER","RENAME","RESOURCE","RESULT_CACHE","RESULT","RETURN","RETURNING","REVERSE","REVOKE","ROLLBACK","ROW","ROWID","ROWNUM","ROWTYPE","SAMPLE","SAVE","SAVEPOINT","SB1","SB2","SB4","SEARCH","SECOND","SEGMENT","SELF","SEPARATE","SEQUENCE","SERIALIZABLE","SHARE","SHORT","SIZE_T","SIZE","SMALLINT","SOME","SPACE","SPARSE","SQL","SQLCODE","SQLDATA","SQLERRM","SQLNAME","SQLSTATE","STANDARD","START","STATIC","STDDEV","STORED","STRING","STRUCT","STYLE","SUBMULTISET","SUBPARTITION","SUBSTITUTABLE","SUBTYPE","SUCCESSFUL","SUM","SYNONYM","SYSDATE","TABAUTH","TABLE","TDO","THE","THEN","TIME","TIMESTAMP","TIMEZONE_ABBR","TIMEZONE_HOUR","TIMEZONE_MINUTE","TIMEZONE_REGION","TO","TRAILING","TRANSACTION","TRANSACTIONAL","TRIGGER","TRUE","TRUSTED","TYPE","UB1","UB2","UB4","UID","UNDER","UNIQUE","UNPLUG","UNSIGNED","UNTRUSTED","USE","USER","USING","VALIDATE","VALIST","VALUE","VARCHAR","VARCHAR2","VARIABLE","VARIANCE","VARRAY","VARYING","VIEW","VIEWS","VOID","WHENEVER","WHILE","WITH","WORK","WRAPPED","WRITE","YEAR","ZONE"],Kt=["ADD","ALTER COLUMN","ALTER TABLE","BEGIN","CONNECT BY","DECLARE","DELETE FROM","DELETE","END","EXCEPT","EXCEPTION","FETCH FIRST","FROM","GROUP BY","HAVING","INSERT INTO","INSERT","LIMIT","LOOP","MODIFY","ORDER BY","SELECT","SET CURRENT SCHEMA","SET SCHEMA","SET","START WITH","UPDATE","VALUES","WHERE"],qt=["INTERSECT","INTERSECT ALL","MINUS","UNION","UNION ALL"],on=["AND","CROSS APPLY","ELSE","END","OR","OUTER APPLY","WHEN","XOR","JOIN","INNER JOIN","LEFT JOIN","LEFT OUTER JOIN","RIGHT JOIN","RIGHT OUTER JOIN","FULL JOIN","FULL OUTER JOIN","CROSS JOIN","NATURAL JOIN"],Tn=function(N){!function(fe,xe){if("function"!=typeof xe&&null!==xe)throw new TypeError("Super expression must either be null or a function");fe.prototype=Object.create(xe&&xe.prototype,{constructor:{value:fe,writable:!0,configurable:!0}}),xe&&ot(fe,xe)}(te,N);var B,j=function $e(N){var M=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var B,V=wt(N);if(M){var j=wt(this).constructor;B=Reflect.construct(V,arguments,j)}else B=V.apply(this,arguments);return function pt(N,M){return!M||"object"!==we(M)&&"function"!=typeof M?function(B){if(void 0===B)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B}(N):M}(this,B)}}(te);function te(){return function Re(N,M){if(!(N instanceof M))throw new TypeError("Cannot call a class as a function")}(this,te),j.apply(this,arguments)}return(B=[{key:"tokenizer",value:function(){return new zt({reservedWords:At,reservedTopLevelWords:Kt,reservedNewlineWords:on,reservedTopLevelWordsNoIndent:qt,stringTypes:['""',"N''","''","``"],openParens:["(","CASE"],closeParens:[")","END"],indexedPlaceholderTypes:["?"],namedPlaceholderTypes:[":"],lineCommentTypes:["--"],specialWordChars:["_","$","#",".","@"],operators:["||","**","!=",":="]})}},{key:"tokenOverride",value:function(fe){return ct(fe)&&ne(this.previousReservedToken)?{type:qe.RESERVED,value:fe.value}:fe}}])&&function We(N,M){for(var B=0;B<M.length;B++){var V=M[B];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(N,V.key,V)}}(te.prototype,B),te}(Te);function Mi(N){return(Mi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(M){return typeof M}:function(M){return M&&"function"==typeof Symbol&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M})(N)}function sr(N,M){return(sr=Object.setPrototypeOf||function(B,V){return B.__proto__=V,B})(N,M)}function lo(N){return(lo=Object.setPrototypeOf?Object.getPrototypeOf:function(M){return M.__proto__||Object.getPrototypeOf(M)})(N)}var Kn=["ABORT","ABSOLUTE","ACCESS","ACTION","ADD","ADMIN","AFTER","AGGREGATE","ALL","ALSO","ALTER","ALWAYS","ANALYSE","ANALYZE","AND","ANY","ARRAY","AS","ASC","ASSERTION","ASSIGNMENT","ASYMMETRIC","AT","ATTACH","ATTRIBUTE","AUTHORIZATION","BACKWARD","BEFORE","BEGIN","BETWEEN","BIGINT","BINARY","BIT","BOOLEAN","BOTH","BY","CACHE","CALL","CALLED","CASCADE","CASCADED","CASE","CAST","CATALOG","CHAIN","CHAR","CHARACTER","CHARACTERISTICS","CHECK","CHECKPOINT","CLASS","CLOSE","CLUSTER","COALESCE","COLLATE","COLLATION","COLUMN","COLUMNS","COMMENT","COMMENTS","COMMIT","COMMITTED","CONCURRENTLY","CONFIGURATION","CONFLICT","CONNECTION","CONSTRAINT","CONSTRAINTS","CONTENT","CONTINUE","CONVERSION","COPY","COST","CREATE","CROSS","CSV","CUBE","CURRENT","CURRENT_CATALOG","CURRENT_DATE","CURRENT_ROLE","CURRENT_SCHEMA","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURSOR","CYCLE","DATA","DATABASE","DAY","DEALLOCATE","DEC","DECIMAL","DECLARE","DEFAULT","DEFAULTS","DEFERRABLE","DEFERRED","DEFINER","DELETE","DELIMITER","DELIMITERS","DEPENDS","DESC","DETACH","DICTIONARY","DISABLE","DISCARD","DISTINCT","DO","DOCUMENT","DOMAIN","DOUBLE","DROP","EACH","ELSE","ENABLE","ENCODING","ENCRYPTED","END","ENUM","ESCAPE","EVENT","EXCEPT","EXCLUDE","EXCLUDING","EXCLUSIVE","EXECUTE","EXISTS","EXPLAIN","EXPRESSION","EXTENSION","EXTERNAL","EXTRACT","FALSE","FAMILY","FETCH","FILTER","FIRST","FLOAT","FOLLOWING","FOR","FORCE","FOREIGN","FORWARD","FREEZE","FROM","FULL","FUNCTION","FUNCTIONS","GENERATED","GLOBAL","GRANT","GRANTED","GREATEST","GROUP","GROUPING","GROUPS","HANDLER","HAVING","HEADER","HOLD","HOUR","IDENTITY","IF","ILIKE","IMMEDIATE","IMMUTABLE","IMPLICIT","IMPORT","IN","INCLUDE","INCLUDING","INCREMENT","INDEX","INDEXES","INHERIT","INHERITS","INITIALLY","INLINE","INNER","INOUT","INPUT","INSENSITIVE","INSERT","INSTEAD","INT","INTEGER","INTERSECT","INTERVAL","INTO","INVOKER","IS","ISNULL","ISOLATION","JOIN","KEY","LABEL","LANGUAGE","LARGE","LAST","LATERAL","LEADING","LEAKPROOF","LEAST","LEFT","LEVEL","LIKE","LIMIT","LISTEN","LOAD","LOCAL","LOCALTIME","LOCALTIMESTAMP","LOCATION","LOCK","LOCKED","LOGGED","MAPPING","MATCH","MATERIALIZED","MAXVALUE","METHOD","MINUTE","MINVALUE","MODE","MONTH","MOVE","NAME","NAMES","NATIONAL","NATURAL","NCHAR","NEW","NEXT","NFC","NFD","NFKC","NFKD","NO","NONE","NORMALIZE","NORMALIZED","NOT","NOTHING","NOTIFY","NOTNULL","NOWAIT","NULL","NULLIF","NULLS","NUMERIC","OBJECT","OF","OFF","OFFSET","OIDS","OLD","ON","ONLY","OPERATOR","OPTION","OPTIONS","OR","ORDER","ORDINALITY","OTHERS","OUT","OUTER","OVER","OVERLAPS","OVERLAY","OVERRIDING","OWNED","OWNER","PARALLEL","PARSER","PARTIAL","PARTITION","PASSING","PASSWORD","PLACING","PLANS","POLICY","POSITION","PRECEDING","PRECISION","PREPARE","PREPARED","PRESERVE","PRIMARY","PRIOR","PRIVILEGES","PROCEDURAL","PROCEDURE","PROCEDURES","PROGRAM","PUBLICATION","QUOTE","RANGE","READ","REAL","REASSIGN","RECHECK","RECURSIVE","REF","REFERENCES","REFERENCING","REFRESH","REINDEX","RELATIVE","RELEASE","RENAME","REPEATABLE","REPLACE","REPLICA","RESET","RESTART","RESTRICT","RETURNING","RETURNS","REVOKE","RIGHT","ROLE","ROLLBACK","ROLLUP","ROUTINE","ROUTINES","ROW","ROWS","RULE","SAVEPOINT","SCHEMA","SCHEMAS","SCROLL","SEARCH","SECOND","SECURITY","SELECT","SEQUENCE","SEQUENCES","SERIALIZABLE","SERVER","SESSION","SESSION_USER","SET","SETOF","SETS","SHARE","SHOW","SIMILAR","SIMPLE","SKIP","SMALLINT","SNAPSHOT","SOME","SQL","STABLE","STANDALONE","START","STATEMENT","STATISTICS","STDIN","STDOUT","STORAGE","STORED","STRICT","STRIP","SUBSCRIPTION","SUBSTRING","SUPPORT","SYMMETRIC","SYSID","SYSTEM","TABLE","TABLES","TABLESAMPLE","TABLESPACE","TEMP","TEMPLATE","TEMPORARY","TEXT","THEN","TIES","TIME","TIMESTAMP","TO","TRAILING","TRANSACTION","TRANSFORM","TREAT","TRIGGER","TRIM","TRUE","TRUNCATE","TRUSTED","TYPE","TYPES","UESCAPE","UNBOUNDED","UNCOMMITTED","UNENCRYPTED","UNION","UNIQUE","UNKNOWN","UNLISTEN","UNLOGGED","UNTIL","UPDATE","USER","USING","VACUUM","VALID","VALIDATE","VALIDATOR","VALUE","VALUES","VARCHAR","VARIADIC","VARYING","VERBOSE","VERSION","VIEW","VIEWS","VOLATILE","WHEN","WHERE","WHITESPACE","WINDOW","WITH","WITHIN","WITHOUT","WORK","WRAPPER","WRITE","XML","XMLATTRIBUTES","XMLCONCAT","XMLELEMENT","XMLEXISTS","XMLFOREST","XMLNAMESPACES","XMLPARSE","XMLPI","XMLROOT","XMLSERIALIZE","XMLTABLE","YEAR","YES","ZONE"],en=["ADD","AFTER","ALTER COLUMN","ALTER TABLE","CASE","DELETE FROM","END","EXCEPT","FETCH FIRST","FROM","GROUP BY","HAVING","INSERT INTO","INSERT","LIMIT","ORDER BY","SELECT","SET CURRENT SCHEMA","SET SCHEMA","SET","UPDATE","VALUES","WHERE"],to=["INTERSECT","INTERSECT ALL","UNION","UNION ALL"],lr=["AND","ELSE","OR","WHEN","JOIN","INNER JOIN","LEFT JOIN","LEFT OUTER JOIN","RIGHT JOIN","RIGHT OUTER JOIN","FULL JOIN","FULL OUTER JOIN","CROSS JOIN","NATURAL JOIN"],ur=function(N){!function(fe,xe){if("function"!=typeof xe&&null!==xe)throw new TypeError("Super expression must either be null or a function");fe.prototype=Object.create(xe&&xe.prototype,{constructor:{value:fe,writable:!0,configurable:!0}}),xe&&sr(fe,xe)}(te,N);var B,j=function Fi(N){var M=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var B,V=lo(N);if(M){var j=lo(this).constructor;B=Reflect.construct(V,arguments,j)}else B=V.apply(this,arguments);return function pr(N,M){return!M||"object"!==Mi(M)&&"function"!=typeof M?function(B){if(void 0===B)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B}(N):M}(this,B)}}(te);function te(){return function Xi(N,M){if(!(N instanceof M))throw new TypeError("Cannot call a class as a function")}(this,te),j.apply(this,arguments)}return(B=[{key:"tokenizer",value:function(){return new zt({reservedWords:Kn,reservedTopLevelWords:en,reservedNewlineWords:lr,reservedTopLevelWordsNoIndent:to,stringTypes:['""',"''","U&''",'U&""',"$$"],openParens:["(","CASE"],closeParens:[")","END"],indexedPlaceholderTypes:["$"],namedPlaceholderTypes:[":"],lineCommentTypes:["--"],operators:["!=","<<",">>","||/","|/","::","->>","->","~~*","~~","!~~*","!~~","~*","!~*","!~","!!"]})}}])&&function ii(N,M){for(var B=0;B<M.length;B++){var V=M[B];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(N,V.key,V)}}(te.prototype,B),te}(Te);function An(N){return(An="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(M){return typeof M}:function(M){return M&&"function"==typeof Symbol&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M})(N)}function hs(N,M){return(hs=Object.setPrototypeOf||function(B,V){return B.__proto__=V,B})(N,M)}function sa(N){return(sa=Object.setPrototypeOf?Object.getPrototypeOf:function(M){return M.__proto__||Object.getPrototypeOf(M)})(N)}var ya=["AES128","AES256","ALLOWOVERWRITE","ANALYSE","ARRAY","AS","ASC","AUTHORIZATION","BACKUP","BINARY","BLANKSASNULL","BOTH","BYTEDICT","BZIP2","CAST","CHECK","COLLATE","COLUMN","CONSTRAINT","CREATE","CREDENTIALS","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURRENT_USER_ID","DEFAULT","DEFERRABLE","DEFLATE","DEFRAG","DELTA","DELTA32K","DESC","DISABLE","DISTINCT","DO","ELSE","EMPTYASNULL","ENABLE","ENCODE","ENCRYPT","ENCRYPTION","END","EXPLICIT","FALSE","FOR","FOREIGN","FREEZE","FULL","GLOBALDICT256","GLOBALDICT64K","GRANT","GZIP","IDENTITY","IGNORE","ILIKE","INITIALLY","INTO","LEADING","LOCALTIME","LOCALTIMESTAMP","LUN","LUNS","LZO","LZOP","MINUS","MOSTLY13","MOSTLY32","MOSTLY8","NATURAL","NEW","NULLS","OFF","OFFLINE","OFFSET","OLD","ON","ONLY","OPEN","ORDER","OVERLAPS","PARALLEL","PARTITION","PERCENT","PERMISSIONS","PLACING","PRIMARY","RAW","READRATIO","RECOVER","REFERENCES","REJECTLOG","RESORT","RESTORE","SESSION_USER","SIMILAR","SYSDATE","SYSTEM","TABLE","TAG","TDES","TEXT255","TEXT32K","THEN","TIMESTAMP","TO","TOP","TRAILING","TRUE","TRUNCATECOLUMNS","UNIQUE","USER","USING","VERBOSE","WALLET","WHEN","WITH","WITHOUT","PREDICATE","COLUMNS","COMPROWS","COMPRESSION","COPY","FORMAT","DELIMITER","FIXEDWIDTH","AVRO","JSON","ENCRYPTED","BZIP2","GZIP","LZOP","PARQUET","ORC","ACCEPTANYDATE","ACCEPTINVCHARS","BLANKSASNULL","DATEFORMAT","EMPTYASNULL","ENCODING","ESCAPE","EXPLICIT_IDS","FILLRECORD","IGNOREBLANKLINES","IGNOREHEADER","NULL AS","REMOVEQUOTES","ROUNDEC","TIMEFORMAT","TRIMBLANKS","TRUNCATECOLUMNS","COMPROWS","COMPUPDATE","MAXERROR","NOLOAD","STATUPDATE","MANIFEST","REGION","IAM_ROLE","MASTER_SYMMETRIC_KEY","SSH","ACCEPTANYDATE","ACCEPTINVCHARS","ACCESS_KEY_ID","SECRET_ACCESS_KEY","AVRO","BLANKSASNULL","BZIP2","COMPROWS","COMPUPDATE","CREDENTIALS","DATEFORMAT","DELIMITER","EMPTYASNULL","ENCODING","ENCRYPTED","ESCAPE","EXPLICIT_IDS","FILLRECORD","FIXEDWIDTH","FORMAT","IAM_ROLE","GZIP","IGNOREBLANKLINES","IGNOREHEADER","JSON","LZOP","MANIFEST","MASTER_SYMMETRIC_KEY","MAXERROR","NOLOAD","NULL AS","READRATIO","REGION","REMOVEQUOTES","ROUNDEC","SSH","STATUPDATE","TIMEFORMAT","SESSION_TOKEN","TRIMBLANKS","TRUNCATECOLUMNS","EXTERNAL","DATA CATALOG","HIVE METASTORE","CATALOG_ROLE","VACUUM","COPY","UNLOAD","EVEN","ALL"],fs=["ADD","AFTER","ALTER COLUMN","ALTER TABLE","DELETE FROM","EXCEPT","FROM","GROUP BY","HAVING","INSERT INTO","INSERT","INTERSECT","TOP","LIMIT","MODIFY","ORDER BY","SELECT","SET CURRENT SCHEMA","SET SCHEMA","SET","UNION ALL","UNION","UPDATE","VALUES","WHERE","VACUUM","COPY","UNLOAD","ANALYZE","ANALYSE","DISTKEY","SORTKEY","COMPOUND","INTERLEAVED","FORMAT","DELIMITER","FIXEDWIDTH","AVRO","JSON","ENCRYPTED","BZIP2","GZIP","LZOP","PARQUET","ORC","ACCEPTANYDATE","ACCEPTINVCHARS","BLANKSASNULL","DATEFORMAT","EMPTYASNULL","ENCODING","ESCAPE","EXPLICIT_IDS","FILLRECORD","IGNOREBLANKLINES","IGNOREHEADER","NULL AS","REMOVEQUOTES","ROUNDEC","TIMEFORMAT","TRIMBLANKS","TRUNCATECOLUMNS","COMPROWS","COMPUPDATE","MAXERROR","NOLOAD","STATUPDATE","MANIFEST","REGION","IAM_ROLE","MASTER_SYMMETRIC_KEY","SSH","ACCEPTANYDATE","ACCEPTINVCHARS","ACCESS_KEY_ID","SECRET_ACCESS_KEY","AVRO","BLANKSASNULL","BZIP2","COMPROWS","COMPUPDATE","CREDENTIALS","DATEFORMAT","DELIMITER","EMPTYASNULL","ENCODING","ENCRYPTED","ESCAPE","EXPLICIT_IDS","FILLRECORD","FIXEDWIDTH","FORMAT","IAM_ROLE","GZIP","IGNOREBLANKLINES","IGNOREHEADER","JSON","LZOP","MANIFEST","MASTER_SYMMETRIC_KEY","MAXERROR","NOLOAD","NULL AS","READRATIO","REGION","REMOVEQUOTES","ROUNDEC","SSH","STATUPDATE","TIMEFORMAT","SESSION_TOKEN","TRIMBLANKS","TRUNCATECOLUMNS","EXTERNAL","DATA CATALOG","HIVE METASTORE","CATALOG_ROLE"],zr=[],_a=["AND","ELSE","OR","OUTER APPLY","WHEN","VACUUM","COPY","UNLOAD","ANALYZE","ANALYSE","DISTKEY","SORTKEY","COMPOUND","INTERLEAVED","JOIN","INNER JOIN","LEFT JOIN","LEFT OUTER JOIN","RIGHT JOIN","RIGHT OUTER JOIN","FULL JOIN","FULL OUTER JOIN","CROSS JOIN","NATURAL JOIN"],xn=function(N){!function(fe,xe){if("function"!=typeof xe&&null!==xe)throw new TypeError("Super expression must either be null or a function");fe.prototype=Object.create(xe&&xe.prototype,{constructor:{value:fe,writable:!0,configurable:!0}}),xe&&hs(fe,xe)}(te,N);var B,j=function Ot(N){var M=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var B,V=sa(N);if(M){var j=sa(this).constructor;B=Reflect.construct(V,arguments,j)}else B=V.apply(this,arguments);return function Sn(N,M){return!M||"object"!==An(M)&&"function"!=typeof M?function(B){if(void 0===B)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B}(N):M}(this,B)}}(te);function te(){return function Ur(N,M){if(!(N instanceof M))throw new TypeError("Cannot call a class as a function")}(this,te),j.apply(this,arguments)}return(B=[{key:"tokenizer",value:function(){return new zt({reservedWords:ya,reservedTopLevelWords:fs,reservedNewlineWords:_a,reservedTopLevelWordsNoIndent:zr,stringTypes:['""',"''","``"],openParens:["("],closeParens:[")"],indexedPlaceholderTypes:["?"],namedPlaceholderTypes:["@","#","$"],lineCommentTypes:["--"],operators:["|/","||/","<<",">>","!=","||"]})}}])&&function Mr(N,M){for(var B=0;B<M.length;B++){var V=M[B];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(N,V.key,V)}}(te.prototype,B),te}(Te);function bl(N){return(bl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(M){return typeof M}:function(M){return M&&"function"==typeof Symbol&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M})(N)}function cr(N,M){return(cr=Object.setPrototypeOf||function(B,V){return B.__proto__=V,B})(N,M)}function No(N){return(No=Object.setPrototypeOf?Object.getPrototypeOf:function(M){return M.__proto__||Object.getPrototypeOf(M)})(N)}var Ys=["ALL","ALTER","ANALYSE","ANALYZE","ARRAY_ZIP","ARRAY","AS","ASC","AVG","BETWEEN","CASCADE","CASE","CAST","COALESCE","COLLECT_LIST","COLLECT_SET","COLUMN","COLUMNS","COMMENT","CONSTRAINT","CONTAINS","CONVERT","COUNT","CUME_DIST","CURRENT ROW","CURRENT_DATE","CURRENT_TIMESTAMP","DATABASE","DATABASES","DATE_ADD","DATE_SUB","DATE_TRUNC","DAY_HOUR","DAY_MINUTE","DAY_SECOND","DAY","DAYS","DECODE","DEFAULT","DELETE","DENSE_RANK","DESC","DESCRIBE","DISTINCT","DISTINCTROW","DIV","DROP","ELSE","ENCODE","END","EXISTS","EXPLAIN","EXPLODE_OUTER","EXPLODE","FILTER","FIRST_VALUE","FIRST","FIXED","FLATTEN","FOLLOWING","FROM_UNIXTIME","FULL","GREATEST","GROUP_CONCAT","HOUR_MINUTE","HOUR_SECOND","HOUR","HOURS","IF","IFNULL","IN","INSERT","INTERVAL","INTO","IS","LAG","LAST_VALUE","LAST","LEAD","LEADING","LEAST","LEVEL","LIKE","MAX","MERGE","MIN","MINUTE_SECOND","MINUTE","MONTH","NATURAL","NOT","NOW()","NTILE","NULL","NULLIF","OFFSET","ON DELETE","ON UPDATE","ON","ONLY","OPTIMIZE","OVER","PERCENT_RANK","PRECEDING","RANGE","RANK","REGEXP","RENAME","RLIKE","ROW","ROWS","SECOND","SEPARATOR","SEQUENCE","SIZE","STRING","STRUCT","SUM","TABLE","TABLES","TEMPORARY","THEN","TO_DATE","TO_JSON","TO","TRAILING","TRANSFORM","TRUE","TRUNCATE","TYPE","TYPES","UNBOUNDED","UNIQUE","UNIX_TIMESTAMP","UNLOCK","UNSIGNED","USING","VARIABLES","VIEW","WHEN","WITH","YEAR_MONTH"],la=["ADD","AFTER","ALTER COLUMN","ALTER DATABASE","ALTER SCHEMA","ALTER TABLE","CLUSTER BY","CLUSTERED BY","DELETE FROM","DISTRIBUTE BY","FROM","GROUP BY","HAVING","INSERT INTO","INSERT","LIMIT","OPTIONS","ORDER BY","PARTITION BY","PARTITIONED BY","RANGE","ROWS","SELECT","SET CURRENT SCHEMA","SET SCHEMA","SET","TBLPROPERTIES","UPDATE","USING","VALUES","WHERE","WINDOW"],ps=["EXCEPT ALL","EXCEPT","INTERSECT ALL","INTERSECT","UNION ALL","UNION"],Ha=["AND","CREATE OR","CREATE","ELSE","LATERAL VIEW","OR","OUTER APPLY","WHEN","XOR","JOIN","INNER JOIN","LEFT JOIN","LEFT OUTER JOIN","RIGHT JOIN","RIGHT OUTER JOIN","FULL JOIN","FULL OUTER JOIN","CROSS JOIN","NATURAL JOIN","ANTI JOIN","SEMI JOIN","LEFT ANTI JOIN","LEFT SEMI JOIN","RIGHT OUTER JOIN","RIGHT SEMI JOIN","NATURAL ANTI JOIN","NATURAL FULL OUTER JOIN","NATURAL INNER JOIN","NATURAL LEFT ANTI JOIN","NATURAL LEFT OUTER JOIN","NATURAL LEFT SEMI JOIN","NATURAL OUTER JOIN","NATURAL RIGHT OUTER JOIN","NATURAL RIGHT SEMI JOIN","NATURAL SEMI JOIN"],Sl=function(N){!function(fe,xe){if("function"!=typeof xe&&null!==xe)throw new TypeError("Super expression must either be null or a function");fe.prototype=Object.create(xe&&xe.prototype,{constructor:{value:fe,writable:!0,configurable:!0}}),xe&&cr(fe,xe)}(te,N);var B,j=function ds(N){var M=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var B,V=No(N);if(M){var j=No(this).constructor;B=Reflect.construct(V,arguments,j)}else B=V.apply(this,arguments);return function Ws(N,M){return!M||"object"!==bl(M)&&"function"!=typeof M?function(B){if(void 0===B)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B}(N):M}(this,B)}}(te);function te(){return function Zl(N,M){if(!(N instanceof M))throw new TypeError("Cannot call a class as a function")}(this,te),j.apply(this,arguments)}return(B=[{key:"tokenizer",value:function(){return new zt({reservedWords:Ys,reservedTopLevelWords:la,reservedNewlineWords:Ha,reservedTopLevelWordsNoIndent:ps,stringTypes:['""',"''","``","{}"],openParens:["(","CASE"],closeParens:[")","END"],indexedPlaceholderTypes:["?"],namedPlaceholderTypes:["$"],lineCommentTypes:["--"],operators:["!=","<=>","&&","||","=="]})}},{key:"tokenOverride",value:function(fe){if(Me(fe)){var xe=this.tokenLookAhead();if(xe&&xe.type===qe.OPEN_PAREN)return{type:qe.RESERVED,value:fe.value}}if(Oe(fe)){var Ze=this.tokenLookBehind();if(Ze&&Ze.type===qe.OPERATOR&&"."===Ze.value)return{type:qe.WORD,value:fe.value}}return fe}}])&&function uo(N,M){for(var B=0;B<M.length;B++){var V=M[B];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(N,V.key,V)}}(te.prototype,B),te}(Te);function Xs(N){return(Xs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(M){return typeof M}:function(M){return M&&"function"==typeof Symbol&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M})(N)}function qs(N,M){return(qs=Object.setPrototypeOf||function(B,V){return B.__proto__=V,B})(N,M)}function xa(N){return(xa=Object.setPrototypeOf?Object.getPrototypeOf:function(M){return M.__proto__||Object.getPrototypeOf(M)})(N)}var Jl=["ABS","ALL","ALLOCATE","ALTER","AND","ANY","ARE","ARRAY","AS","ASENSITIVE","ASYMMETRIC","AT","ATOMIC","AUTHORIZATION","AVG","BEGIN","BETWEEN","BIGINT","BINARY","BLOB","BOOLEAN","BOTH","BY","CALL","CALLED","CARDINALITY","CASCADED","CASE","CAST","CEIL","CEILING","CHAR","CHAR_LENGTH","CHARACTER","CHARACTER_LENGTH","CHECK","CLOB","CLOSE","COALESCE","COLLATE","COLLECT","COLUMN","COMMIT","CONDITION","CONNECT","CONSTRAINT","CONVERT","CORR","CORRESPONDING","COUNT","COVAR_POP","COVAR_SAMP","CREATE","CROSS","CUBE","CUME_DIST","CURRENT","CURRENT_CATALOG","CURRENT_DATE","CURRENT_DEFAULT_TRANSFORM_GROUP","CURRENT_PATH","CURRENT_ROLE","CURRENT_SCHEMA","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_TRANSFORM_GROUP_FOR_TYPE","CURRENT_USER","CURSOR","CYCLE","DATE","DAY","DEALLOCATE","DEC","DECIMAL","DECLARE","DEFAULT","DELETE","DENSE_RANK","DEREF","DESCRIBE","DETERMINISTIC","DISCONNECT","DISTINCT","DOUBLE","DROP","DYNAMIC","EACH","ELEMENT","ELSE","END","END-EXEC","ESCAPE","EVERY","EXCEPT","EXEC","EXECUTE","EXISTS","EXP","EXTERNAL","EXTRACT","FALSE","FETCH","FILTER","FLOAT","FLOOR","FOR","FOREIGN","FREE","FROM","FULL","FUNCTION","FUSION","GET","GLOBAL","GRANT","GROUP","GROUPING","HAVING","HOLD","HOUR","IDENTITY","IN","INDICATOR","INNER","INOUT","INSENSITIVE","INSERT","INT","INTEGER","INTERSECT","INTERSECTION","INTERVAL","INTO","IS","JOIN","LANGUAGE","LARGE","LATERAL","LEADING","LEFT","LIKE","LIKE_REGEX","LN","LOCAL","LOCALTIME","LOCALTIMESTAMP","LOWER","MATCH","MAX","MEMBER","MERGE","METHOD","MIN","MINUTE","MOD","MODIFIES","MODULE","MONTH","MULTISET","NATIONAL","NATURAL","NCHAR","NCLOB","NEW","NO","NONE","NORMALIZE","NOT","NULL","NULLIF","NUMERIC","OCTET_LENGTH","OCCURRENCES_REGEX","OF","OLD","ON","ONLY","OPEN","OR","ORDER","OUT","OUTER","OVER","OVERLAPS","OVERLAY","PARAMETER","PARTITION","PERCENT_RANK","PERCENTILE_CONT","PERCENTILE_DISC","POSITION","POSITION_REGEX","POWER","PRECISION","PREPARE","PRIMARY","PROCEDURE","RANGE","RANK","READS","REAL","RECURSIVE","REF","REFERENCES","REFERENCING","REGR_AVGX","REGR_AVGY","REGR_COUNT","REGR_INTERCEPT","REGR_R2","REGR_SLOPE","REGR_SXX","REGR_SXY","REGR_SYY","RELEASE","RESULT","RETURN","RETURNS","REVOKE","RIGHT","ROLLBACK","ROLLUP","ROW","ROW_NUMBER","ROWS","SAVEPOINT","SCOPE","SCROLL","SEARCH","SECOND","SELECT","SENSITIVE","SESSION_USER","SET","SIMILAR","SMALLINT","SOME","SPECIFIC","SPECIFICTYPE","SQL","SQLEXCEPTION","SQLSTATE","SQLWARNING","SQRT","START","STATIC","STDDEV_POP","STDDEV_SAMP","SUBMULTISET","SUBSTRING","SUBSTRING_REGEX","SUM","SYMMETRIC","SYSTEM","SYSTEM_USER","TABLE","TABLESAMPLE","THEN","TIME","TIMESTAMP","TIMEZONE_HOUR","TIMEZONE_MINUTE","TO","TRAILING","TRANSLATE","TRANSLATE_REGEX","TRANSLATION","TREAT","TRIGGER","TRIM","TRUE","UESCAPE","UNION","UNIQUE","UNKNOWN","UNNEST","UPDATE","UPPER","USER","USING","VALUE","VALUES","VAR_POP","VAR_SAMP","VARBINARY","VARCHAR","VARYING","WHEN","WHENEVER","WHERE","WIDTH_BUCKET","WINDOW","WITH","WITHIN","WITHOUT","YEAR"],Vr=["ADD","ALTER COLUMN","ALTER TABLE","CASE","DELETE FROM","END","FETCH FIRST","FETCH NEXT","FETCH PRIOR","FETCH LAST","FETCH ABSOLUTE","FETCH RELATIVE","FROM","GROUP BY","HAVING","INSERT INTO","LIMIT","ORDER BY","SELECT","SET SCHEMA","SET","UPDATE","VALUES","WHERE"],Wo=["INTERSECT","INTERSECT ALL","INTERSECT DISTINCT","UNION","UNION ALL","UNION DISTINCT","EXCEPT","EXCEPT ALL","EXCEPT DISTINCT"],Ks=["AND","ELSE","OR","WHEN","JOIN","INNER JOIN","LEFT JOIN","LEFT OUTER JOIN","RIGHT JOIN","RIGHT OUTER JOIN","FULL JOIN","FULL OUTER JOIN","CROSS JOIN","NATURAL JOIN"],Yo=function(N){!function(fe,xe){if("function"!=typeof xe&&null!==xe)throw new TypeError("Super expression must either be null or a function");fe.prototype=Object.create(xe&&xe.prototype,{constructor:{value:fe,writable:!0,configurable:!0}}),xe&&qs(fe,xe)}(te,N);var B,j=function wl(N){var M=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var B,V=xa(N);if(M){var j=xa(this).constructor;B=Reflect.construct(V,arguments,j)}else B=V.apply(this,arguments);return function Go(N,M){return!M||"object"!==Xs(M)&&"function"!=typeof M?function(B){if(void 0===B)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B}(N):M}(this,B)}}(te);function te(){return function js(N,M){if(!(N instanceof M))throw new TypeError("Cannot call a class as a function")}(this,te),j.apply(this,arguments)}return(B=[{key:"tokenizer",value:function(){return new zt({reservedWords:Jl,reservedTopLevelWords:Vr,reservedNewlineWords:Ks,reservedTopLevelWordsNoIndent:Wo,stringTypes:['""',"''"],openParens:["(","CASE"],closeParens:[")","END"],indexedPlaceholderTypes:["?"],namedPlaceholderTypes:[],lineCommentTypes:["--"]})}}])&&function gs(N,M){for(var B=0;B<M.length;B++){var V=M[B];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(N,V.key,V)}}(te.prototype,B),te}(Te);function vs(N){return(vs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(M){return typeof M}:function(M){return M&&"function"==typeof Symbol&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M})(N)}function Ua(N,M){return(Ua=Object.setPrototypeOf||function(B,V){return B.__proto__=V,B})(N,M)}function no(N){return(no=Object.setPrototypeOf?Object.getPrototypeOf:function(M){return M.__proto__||Object.getPrototypeOf(M)})(N)}var ji=["ADD","EXTERNAL","PROCEDURE","ALL","FETCH","PUBLIC","ALTER","FILE","RAISERROR","AND","FILLFACTOR","READ","ANY","FOR","READTEXT","AS","FOREIGN","RECONFIGURE","ASC","FREETEXT","REFERENCES","AUTHORIZATION","FREETEXTTABLE","REPLICATION","BACKUP","FROM","RESTORE","BEGIN","FULL","RESTRICT","BETWEEN","FUNCTION","RETURN","BREAK","GOTO","REVERT","BROWSE","GRANT","REVOKE","BULK","GROUP","RIGHT","BY","HAVING","ROLLBACK","CASCADE","HOLDLOCK","ROWCOUNT","CASE","IDENTITY","ROWGUIDCOL","CHECK","IDENTITY_INSERT","RULE","CHECKPOINT","IDENTITYCOL","SAVE","CLOSE","IF","SCHEMA","CLUSTERED","IN","SECURITYAUDIT","COALESCE","INDEX","SELECT","COLLATE","INNER","SEMANTICKEYPHRASETABLE","COLUMN","INSERT","SEMANTICSIMILARITYDETAILSTABLE","COMMIT","INTERSECT","SEMANTICSIMILARITYTABLE","COMPUTE","INTO","SESSION_USER","CONSTRAINT","IS","SET","CONTAINS","JOIN","SETUSER","CONTAINSTABLE","KEY","SHUTDOWN","CONTINUE","KILL","SOME","CONVERT","LEFT","STATISTICS","CREATE","LIKE","SYSTEM_USER","CROSS","LINENO","TABLE","CURRENT","LOAD","TABLESAMPLE","CURRENT_DATE","MERGE","TEXTSIZE","CURRENT_TIME","NATIONAL","THEN","CURRENT_TIMESTAMP","NOCHECK","TO","CURRENT_USER","NONCLUSTERED","TOP","CURSOR","NOT","TRAN","DATABASE","NULL","TRANSACTION","DBCC","NULLIF","TRIGGER","DEALLOCATE","OF","TRUNCATE","DECLARE","OFF","TRY_CONVERT","DEFAULT","OFFSETS","TSEQUAL","DELETE","ON","UNION","DENY","OPEN","UNIQUE","DESC","OPENDATASOURCE","UNPIVOT","DISK","OPENQUERY","UPDATE","DISTINCT","OPENROWSET","UPDATETEXT","DISTRIBUTED","OPENXML","USE","DOUBLE","OPTION","USER","DROP","OR","VALUES","DUMP","ORDER","VARYING","ELSE","OUTER","VIEW","END","OVER","WAITFOR","ERRLVL","PERCENT","WHEN","ESCAPE","PIVOT","WHERE","EXCEPT","PLAN","WHILE","EXEC","PRECISION","WITH","EXECUTE","PRIMARY","WITHIN GROUP","EXISTS","PRINT","WRITETEXT","EXIT","PROC"],ba=["ADD","ALTER COLUMN","ALTER TABLE","CASE","DELETE FROM","END","EXCEPT","FROM","GROUP BY","HAVING","INSERT INTO","INSERT","LIMIT","ORDER BY","SELECT","SET CURRENT SCHEMA","SET SCHEMA","SET","UPDATE","VALUES","WHERE"],Sa=["INTERSECT","INTERSECT ALL","MINUS","UNION","UNION ALL"],Js=["AND","ELSE","OR","WHEN","JOIN","INNER JOIN","LEFT JOIN","LEFT OUTER JOIN","RIGHT JOIN","RIGHT OUTER JOIN","FULL JOIN","FULL OUTER JOIN","CROSS JOIN"];function wa(N){return(wa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(M){return typeof M}:function(M){return M&&"function"==typeof Symbol&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M})(N)}var ys={db2:xi,mariadb:ni,mysql:Ae,n1ql:ce,plsql:Tn,postgresql:ur,redshift:xn,spark:Sl,sql:Yo,tsql:function(N){!function(fe,xe){if("function"!=typeof xe&&null!==xe)throw new TypeError("Super expression must either be null or a function");fe.prototype=Object.create(xe&&xe.prototype,{constructor:{value:fe,writable:!0,configurable:!0}}),xe&&Ua(fe,xe)}(te,N);var B,j=function Zs(N){var M=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var B,V=no(N);if(M){var j=no(this).constructor;B=Reflect.construct(V,arguments,j)}else B=V.apply(this,arguments);return function ms(N,M){return!M||"object"!==vs(M)&&"function"!=typeof M?function(B){if(void 0===B)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B}(N):M}(this,B)}}(te);function te(){return function Ro(N,M){if(!(N instanceof M))throw new TypeError("Cannot call a class as a function")}(this,te),j.apply(this,arguments)}return(B=[{key:"tokenizer",value:function(){return new zt({reservedWords:ji,reservedTopLevelWords:ba,reservedNewlineWords:Js,reservedTopLevelWordsNoIndent:Sa,stringTypes:['""',"N''","''","[]"],openParens:["(","CASE"],closeParens:[")","END"],indexedPlaceholderTypes:[],namedPlaceholderTypes:["@"],lineCommentTypes:["--"],specialWordChars:["#","@"],operators:[">=","<=","<>","!=","!<","!>","+=","-=","*=","/=","%=","|=","&=","^=","::"]})}}])&&function xr(N,M){for(var B=0;B<M.length;B++){var V=M[B];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(N,V.key,V)}}(te.prototype,B),te}(Te)},T=function(N){var M=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"!=typeof N)throw new Error("Invalid query argument. Extected string, instead got "+wa(N));var B=Yo;if(void 0!==M.language&&(B=ys[M.language]),void 0===B)throw Error("Unsupported SQL dialect: ".concat(M.language));return new B(M).format(N)},O=Object.keys(ys)}])});